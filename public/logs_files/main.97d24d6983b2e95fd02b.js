(self.webpackChunkportainer=self.webpackChunkportainer||[]).push([[179],{19338:function(e,t,n){var r={"./__mocks__/fileMock.js":14691,"./__mocks__/styleMock.js":12534,"./__mocks__/svg.js":38541,"./agent/components/file-uploader/fileUploaderController.js":75947,"./agent/components/file-uploader/index.js":38123,"./agent/components/files-datatable/index.js":46161,"./agent/components/host-browser/hostBrowserController.js":10822,"./agent/components/host-browser/index.js":70627,"./agent/components/node-selector/index.js":60744,"./agent/components/node-selector/nodeSelectorController.js":42102,"./agent/components/volume-browser/index.js":41775,"./agent/components/volume-browser/volumeBrowserController.js":14087,"./agent/index.js":26317,"./agent/models/agent.js":99662,"./agent/rest/agent.js":13481,"./agent/rest/browse.js":56192,"./agent/rest/dockerhub.js":26084,"./agent/rest/host.js":74298,"./agent/rest/ping.js":79688,"./agent/rest/response/browse.js":94477,"./agent/rest/v1/agent.js":40941,"./agent/rest/v1/browse.js":91130,"./agent/services/agentService.js":78548,"./agent/services/hostBrowserService.js":77884,"./agent/services/pingService.js":38918,"./agent/services/volumeBrowserService.js":45824,"./angulartics.matomo/index.js":14916,"./app.js":54905,"./assets/css/index.js":92502,"./config.js":98767,"./constants.js":71541,"./docker/__module.js":27783,"./docker/components/container-capabilities/container-capabilities.controller.js":99831,"./docker/components/container-capabilities/container-capabilities.js":83088,"./docker/components/container-restart-policy/container-restart-policy-controller.js":17592,"./docker/components/container-restart-policy/container-restart-policy.js":8270,"./docker/components/dashboard-cluster-agent-info/dashboard-cluster-agent-info.js":15772,"./docker/components/dashboard-cluster-agent-info/dashboardClusterAgentInfoController.js":26419,"./docker/components/datatables/configs-datatable/configsDatatable.js":62135,"./docker/components/datatables/container-networks-datatable/containerNetworksDatatable.js":65532,"./docker/components/datatables/container-networks-datatable/containerNetworksDatatableController.js":50015,"./docker/components/datatables/container-processes-datatable/containerProcessesDatatable.js":67723,"./docker/components/datatables/events-datatable/eventsDatatable.js":3716,"./docker/components/datatables/images-datatable/imagesDatatable.js":61389,"./docker/components/datatables/images-datatable/imagesDatatableController.js":40650,"./docker/components/datatables/macvlan-nodes-datatable/macvlanNodesDatatable.js":78570,"./docker/components/datatables/networks-datatable/network-row-content/networkRowContent.js":24342,"./docker/components/datatables/networks-datatable/networksDatatable.js":21035,"./docker/components/datatables/networks-datatable/networksDatatableController.js":22821,"./docker/components/datatables/node-tasks-datatable/nodeTasksDatatable.js":90712,"./docker/components/datatables/nodes-datatable/nodesDatatable.js":66951,"./docker/components/datatables/secrets-datatable/secretsDatatable.js":1087,"./docker/components/datatables/service-tasks-datatable/serviceTasksDatatable.js":30700,"./docker/components/datatables/service-tasks-datatable/serviceTasksDatatableController.js":83076,"./docker/components/datatables/services-datatable/actions/servicesDatatableActions.js":88840,"./docker/components/datatables/services-datatable/actions/servicesDatatableActionsController.js":3474,"./docker/components/datatables/services-datatable/servicesDatatable.js":22601,"./docker/components/datatables/services-datatable/servicesDatatableController.js":46311,"./docker/components/datatables/tasks-datatable/tasksDatatable.js":77886,"./docker/components/datatables/tasks-datatable/tasksDatatableController.js":33740,"./docker/components/datatables/volumes-datatable/volumesDatatable.js":75198,"./docker/components/datatables/volumes-datatable/volumesDatatableController.js":72091,"./docker/components/host-overview/host-overview.js":37610,"./docker/components/host-view-panels/devices-panel/devices-panel.js":85943,"./docker/components/host-view-panels/disks-panel/disks-panel.js":40210,"./docker/components/host-view-panels/engine-details-panel/engine-details-panel.js":25203,"./docker/components/host-view-panels/host-details-panel/host-details-panel.js":68181,"./docker/components/host-view-panels/node-availability-select/node-availability-select-controller.js":44162,"./docker/components/host-view-panels/node-availability-select/node-availability-select.js":28031,"./docker/components/host-view-panels/node-labels-table/node-labels-table-controller.js":55024,"./docker/components/host-view-panels/node-labels-table/node-labels-table.js":96399,"./docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel-controller.js":70395,"./docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel.js":98186,"./docker/components/imageRegistry/por-image-registry-rate-limits.controller.js":72749,"./docker/components/imageRegistry/por-image-registry-rate-limits.js":64906,"./docker/components/imageRegistry/por-image-registry.controller.js":22429,"./docker/components/imageRegistry/por-image-registry.js":91653,"./docker/components/log-viewer/log-viewer.js":69760,"./docker/components/log-viewer/logViewerController.js":89410,"./docker/components/network-macvlan-form/network-macvlan-form.js":22852,"./docker/components/network-macvlan-form/networkMacvlanFormController.js":3476,"./docker/components/network-macvlan-form/networkMacvlanFormModel.js":50373,"./docker/components/volumesCIFSForm/volumesCifsForm.js":8470,"./docker/components/volumesCIFSForm/volumesCifsFormModel.js":86668,"./docker/components/volumesNFSForm/volumes-nfs-form.js":87959,"./docker/components/volumesNFSForm/volumesNFSFormModel.js":4819,"./docker/filters/filters.js":11284,"./docker/helpers/configHelper.js":52161,"./docker/helpers/constraintsHelper.js":82556,"./docker/helpers/containerHelper.js":5204,"./docker/helpers/imageHelper.js":20886,"./docker/helpers/infoHelper.js":46313,"./docker/helpers/labelHelper.js":6264,"./docker/helpers/networkHelper.js":69452,"./docker/helpers/nodeHelper.js":80677,"./docker/helpers/secretHelper.js":45665,"./docker/helpers/serviceHelper.js":18743,"./docker/helpers/taskHelper.js":22588,"./docker/helpers/volumeHelper.js":60069,"./docker/interceptors/containersInterceptor.js":8691,"./docker/interceptors/imagesInterceptor.js":18872,"./docker/interceptors/infoInterceptor.js":84395,"./docker/interceptors/networksInterceptor.js":2630,"./docker/interceptors/versionInterceptor.js":73166,"./docker/interceptors/volumesInterceptor.js":33022,"./docker/models/config.js":66807,"./docker/models/container.js":12064,"./docker/models/containerCapabilities.js":66328,"./docker/models/event.js":44333,"./docker/models/image.js":84647,"./docker/models/imageDetails.js":56946,"./docker/models/imageLayer.js":75208,"./docker/models/network.js":70983,"./docker/models/node.js":11339,"./docker/models/plugin.js":34161,"./docker/models/porImageRegistry.js":76939,"./docker/models/secret.js":89638,"./docker/models/service.js":7456,"./docker/models/swarm.js":90906,"./docker/models/task.js":59146,"./docker/models/volume.js":80682,"./docker/rest/build.js":27401,"./docker/rest/commit.js":66055,"./docker/rest/config.js":12477,"./docker/rest/container.js":82791,"./docker/rest/exec.js":6396,"./docker/rest/image.js":10679,"./docker/rest/network.js":96452,"./docker/rest/node.js":71989,"./docker/rest/plugin.js":357,"./docker/rest/response/handlers.js":12944,"./docker/rest/response/image.js":89615,"./docker/rest/secret.js":64522,"./docker/rest/service.js":49449,"./docker/rest/swarm.js":52358,"./docker/rest/system.js":61489,"./docker/rest/systemEndpoint.js":86666,"./docker/rest/task.js":3446,"./docker/rest/volume.js":28192,"./docker/services/buildService.js":90544,"./docker/services/configService.js":81287,"./docker/services/containerService.js":40725,"./docker/services/execService.js":9401,"./docker/services/imageService.js":45203,"./docker/services/networkService.js":23116,"./docker/services/nodeService.js":39272,"./docker/services/pluginService.js":52589,"./docker/services/secretService.js":50225,"./docker/services/serviceService.js":52550,"./docker/services/swarmService.js":15268,"./docker/services/systemService.js":39983,"./docker/services/taskService.js":98585,"./docker/services/volumeService.js":31746,"./docker/views/configs/configsController.js":42177,"./docker/views/configs/create/createConfigController.js":96068,"./docker/views/configs/edit/configController.js":63301,"./docker/views/containers/console/containerConsoleController.js":85196,"./docker/views/containers/create/createContainerController.js":51079,"./docker/views/containers/edit/containerController.js":94518,"./docker/views/containers/inspect/containerInspectController.js":62897,"./docker/views/containers/logs/containerLogsController.js":47381,"./docker/views/containers/stats/containerStatsController.js":19393,"./docker/views/dashboard/dashboardController.js":89402,"./docker/views/docker-features-configuration/docker-features-configuration.controller.js":25006,"./docker/views/docker-features-configuration/index.js":68958,"./docker/views/events/eventsController.js":63181,"./docker/views/host/host-browser-view/host-browser-view-controller.js":34776,"./docker/views/host/host-browser-view/host-browser-view.js":24233,"./docker/views/host/host-view-controller.js":43279,"./docker/views/host/host-view.js":15906,"./docker/views/images/build/buildImageController.js":88741,"./docker/views/images/edit/imageController.js":37391,"./docker/views/images/imagesController.js":12107,"./docker/views/images/import/importImageController.js":14521,"./docker/views/networks/create/createNetworkController.js":543,"./docker/views/networks/networksController.js":74225,"./docker/views/nodes/node-browser/node-browser-controller.js":50451,"./docker/views/nodes/node-browser/node-browser.js":83602,"./docker/views/nodes/node-details/node-details-view-controller.js":29978,"./docker/views/nodes/node-details/node-details-view.js":74275,"./docker/views/registries/access/registryAccess.js":77152,"./docker/views/registries/access/registryAccessController.js":40106,"./docker/views/secrets/create/createSecretController.js":65968,"./docker/views/secrets/edit/secretController.js":20842,"./docker/views/secrets/secretsController.js":69654,"./docker/views/services/create/createServiceController.js":91188,"./docker/views/services/edit/serviceController.js":1816,"./docker/views/services/logs/serviceLogsController.js":59139,"./docker/views/services/servicesController.js":48566,"./docker/views/swarm/swarmController.js":9104,"./docker/views/swarm/visualizer/swarmVisualizerController.js":83456,"./docker/views/tasks/edit/taskController.js":75349,"./docker/views/tasks/logs/taskLogsController.js":93356,"./docker/views/volumes/browse/browseVolumeController.js":63137,"./docker/views/volumes/create/createVolumeController.js":61362,"./docker/views/volumes/edit/volumeController.js":28862,"./docker/views/volumes/volumesController.js":6002,"./edge/__module.js":42374,"./edge/components/associated-endpoints-datatable/associatedEndpointsDatatableController.js":24381,"./edge/components/associated-endpoints-datatable/index.js":34139,"./edge/components/edge-job-form/edgeJobFormController.js":267,"./edge/components/edge-job-form/index.js":59788,"./edge/components/edge-job-results-datatable/edgeJobResultsDatatableController.js":11314,"./edge/components/edge-job-results-datatable/index.js":46642,"./edge/components/edge-jobs-datatable/index.js":25758,"./edge/components/edge-stack-deployment-type-selector/edge-stack-deployment-type-selector.controller.js":70830,"./edge/components/edge-stack-deployment-type-selector/index.js":60559,"./edge/components/edge-stack-endpoints-datatable/edgeStackEndpointsDatatableController.js":67383,"./edge/components/edge-stack-endpoints-datatable/index.js":91505,"./edge/components/edge-stack-status/edgeStackStatusController.js":794,"./edge/components/edge-stack-status/index.js":26342,"./edge/components/edge-stacks-datatable/index.js":70018,"./edge/components/edit-edge-stack-form/editEdgeStackFormController.js":83205,"./edge/components/edit-edge-stack-form/index.js":56037,"./edge/components/group-form/groupFormController.js":88633,"./edge/components/group-form/index.js":36906,"./edge/components/groups-datatable/groupsDatatableController.js":9868,"./edge/components/groups-datatable/index.js":36267,"./edge/rest/edge-groups.js":65658,"./edge/rest/edge-job-results.js":96791,"./edge/rest/edge-jobs.js":2056,"./edge/rest/edge-stacks.js":86796,"./edge/rest/edge-templates.js":42163,"./edge/services/edge-group.js":800,"./edge/services/edge-job.js":30221,"./edge/services/edge-stack.js":27527,"./edge/services/edge-template.js":10993,"./edge/views/edge-groups/createEdgeGroupView/createEdgeGroupViewController.js":44932,"./edge/views/edge-groups/createEdgeGroupView/index.js":35146,"./edge/views/edge-groups/edgeGroupsView/edgeGroupsViewController.js":62044,"./edge/views/edge-groups/edgeGroupsView/index.js":45359,"./edge/views/edge-groups/editEdgeGroupView/editEdgeGroupViewController.js":23794,"./edge/views/edge-groups/editEdgeGroupView/index.js":58188,"./edge/views/edge-jobs/createEdgeJobView/createEdgeJobViewController.js":8039,"./edge/views/edge-jobs/createEdgeJobView/index.js":47994,"./edge/views/edge-jobs/edgeJob/edgeJobController.js":87609,"./edge/views/edge-jobs/edgeJob/index.js":6300,"./edge/views/edge-jobs/edgeJobsView/edgeJobsViewController.js":54223,"./edge/views/edge-jobs/edgeJobsView/index.js":30190,"./edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.controller.js":32884,"./edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.js":96478,"./edge/views/edge-stacks/createEdgeStackView/docker-compose-form/docker-compose-form.controller.js":83615,"./edge/views/edge-stacks/createEdgeStackView/docker-compose-form/index.js":32878,"./edge/views/edge-stacks/createEdgeStackView/index.js":24125,"./edge/views/edge-stacks/createEdgeStackView/kube-deploy-description/index.js":75038,"./edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/index.js":56799,"./edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/kube-manifest-form.controller.js":23836,"./edge/views/edge-stacks/edgeStacksView/edgeStacksViewController.js":33661,"./edge/views/edge-stacks/edgeStacksView/index.js":82138,"./edge/views/edge-stacks/editEdgeStackView/editEdgeStackViewController.js":66514,"./edge/views/edge-stacks/editEdgeStackView/index.js":36237,"./edge/views/edge-stacks/index.js":6142,"./index.js":76553,"./kubernetes/__module.js":38941,"./kubernetes/components/datatables/application/containers-datatable/containersDatatable.js":28953,"./kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.controller.js":41727,"./kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.js":3962,"./kubernetes/components/datatables/applications-datatable-url/applications-datatable-url.js":87082,"./kubernetes/components/datatables/applications-datatable/applicationsDatatable.js":42270,"./kubernetes/components/datatables/applications-datatable/applicationsDatatableController.js":45941,"./kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatable.js":50195,"./kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatableController.js":77106,"./kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatable.js":21266,"./kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatableController.js":89107,"./kubernetes/components/datatables/configurations-datatable/configurationsDatatable.js":95240,"./kubernetes/components/datatables/configurations-datatable/configurationsDatatableController.js":63507,"./kubernetes/components/datatables/events-datatable/eventsDatatable.js":39564,"./kubernetes/components/datatables/integrated-applications-datatable/integratedApplicationsDatatable.js":78458,"./kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatable.js":56531,"./kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatableController.js":8122,"./kubernetes/components/datatables/nodes-datatable/nodesDatatable.js":60810,"./kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatable.js":56975,"./kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatableController.js":94817,"./kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatable.js":22158,"./kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatableController.js":51329,"./kubernetes/components/datatables/volumes-datatable/volumesDatatable.js":62925,"./kubernetes/components/datatables/volumes-datatable/volumesDatatableController.js":63651,"./kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.controller.js":41399,"./kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.js":79553,"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list-item/helm-templates-list-item.js":43579,"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.controller.js":88416,"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.js":15778,"./kubernetes/components/helm/helm-templates/helm-templates.controller.js":67316,"./kubernetes/components/helm/helm-templates/helm-templates.js":71228,"./kubernetes/components/kube-services/kube-services-item/kube-services-item.controller.js":65473,"./kubernetes/components/kube-services/kube-services-item/kube-services-item.js":1542,"./kubernetes/components/kube-services/kube-services.controller.js":54466,"./kubernetes/components/kube-services/kube-services.js":14957,"./kubernetes/components/kubectl-shell/kubectl-shell.controller.js":30761,"./kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationData.js":4546,"./kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationDataController.js":16591,"./kubernetes/components/resource-reservation/resourceReservation.js":42718,"./kubernetes/components/resource-reservation/resourceReservationController.js":44579,"./kubernetes/components/view-loading/viewLoading.js":15572,"./kubernetes/components/yaml-inspector/yamlInspector.js":31938,"./kubernetes/components/yaml-inspector/yamlInspectorController.js":50346,"./kubernetes/converters/application.js":10293,"./kubernetes/converters/configMap.js":40654,"./kubernetes/converters/configuration.js":10241,"./kubernetes/converters/daemonSet.js":12512,"./kubernetes/converters/deployment.js":95929,"./kubernetes/converters/event.js":43083,"./kubernetes/converters/namespace.js":2544,"./kubernetes/converters/persistentVolumeClaim.js":56636,"./kubernetes/converters/resourcePool.js":57911,"./kubernetes/converters/resourceQuota.js":57456,"./kubernetes/converters/secret.js":52341,"./kubernetes/converters/service.js":86998,"./kubernetes/converters/statefulSet.js":15986,"./kubernetes/converters/storageClass.js":17981,"./kubernetes/converters/volume.js":92192,"./kubernetes/custom-templates/index.js":79023,"./kubernetes/custom-templates/kube-create-custom-template-view/index.js":6793,"./kubernetes/custom-templates/kube-create-custom-template-view/kube-create-custom-template-view.controller.js":2267,"./kubernetes/custom-templates/kube-custom-templates-view/index.js":79403,"./kubernetes/custom-templates/kube-custom-templates-view/kube-custom-templates-view.controller.js":11916,"./kubernetes/custom-templates/kube-edit-custom-template-view/index.js":52657,"./kubernetes/custom-templates/kube-edit-custom-template-view/kube-edit-custom-template-view.controller.js":69199,"./kubernetes/endpoint/converter.js":59041,"./kubernetes/endpoint/models.js":5264,"./kubernetes/endpoint/rest.js":42964,"./kubernetes/endpoint/service.js":5427,"./kubernetes/filters/applicationFilters.js":11518,"./kubernetes/filters/configurationFilters.js":63642,"./kubernetes/filters/eventFilters.js":58311,"./kubernetes/filters/filters.js":11634,"./kubernetes/helm/rest.js":65744,"./kubernetes/helm/service.js":40846,"./kubernetes/helpers/application/index.js":57947,"./kubernetes/helpers/application/rollback.js":65011,"./kubernetes/helpers/commonHelper.js":61515,"./kubernetes/helpers/configMapHelper.js":58007,"./kubernetes/helpers/configurationHelper.js":51780,"./kubernetes/helpers/eventHelper.js":52929,"./kubernetes/helpers/formValidationHelper.js":54241,"./kubernetes/helpers/history/daemonset.js":48367,"./kubernetes/helpers/history/deployment.js":38215,"./kubernetes/helpers/history/index.js":70224,"./kubernetes/helpers/history/statefulset.js":47220,"./kubernetes/helpers/namespaceHelper.js":7506,"./kubernetes/helpers/resourceQuotaHelper.js":21458,"./kubernetes/helpers/resourceReservationHelper.js":22229,"./kubernetes/helpers/serviceHelper.js":57637,"./kubernetes/helpers/stackHelper.js":41208,"./kubernetes/helpers/stackHelper.test.js":69461,"./kubernetes/helpers/volumeHelper.js":11507,"./kubernetes/horizontal-pod-auto-scaler/converter.js":41247,"./kubernetes/horizontal-pod-auto-scaler/helper.js":1239,"./kubernetes/horizontal-pod-auto-scaler/models.js":90914,"./kubernetes/horizontal-pod-auto-scaler/payload.js":85597,"./kubernetes/horizontal-pod-auto-scaler/rest.js":61160,"./kubernetes/horizontal-pod-auto-scaler/service.js":51866,"./kubernetes/ingress/constants.js":62072,"./kubernetes/ingress/converter.js":47086,"./kubernetes/ingress/helper.js":7587,"./kubernetes/ingress/models.js":27155,"./kubernetes/ingress/payloads.js":17362,"./kubernetes/ingress/rest.js":45678,"./kubernetes/ingress/service.js":76706,"./kubernetes/metrics/metrics.js":60299,"./kubernetes/metrics/rest.js":26835,"./kubernetes/models/application/formValues.js":14917,"./kubernetes/models/application/models/constants.js":20783,"./kubernetes/models/application/models/index.js":7172,"./kubernetes/models/application/payloads.js":11505,"./kubernetes/models/common/params.js":82469,"./kubernetes/models/common/payloads.js":27367,"./kubernetes/models/config-map/models.js":13978,"./kubernetes/models/config-map/payloads.js":40879,"./kubernetes/models/configuration/formvalues.js":30578,"./kubernetes/models/configuration/models.js":82434,"./kubernetes/models/daemon-set/models.js":12745,"./kubernetes/models/daemon-set/payloads.js":82935,"./kubernetes/models/deploy.js":6253,"./kubernetes/models/deployment/models.js":59238,"./kubernetes/models/deployment/payloads.js":95008,"./kubernetes/models/event/models.js":82239,"./kubernetes/models/history/models.js":24601,"./kubernetes/models/namespace/models.js":35076,"./kubernetes/models/namespace/payloads.js":63829,"./kubernetes/models/nodes-limits/models.js":74335,"./kubernetes/models/port/models.js":83270,"./kubernetes/models/resource-pool/formValues.js":16496,"./kubernetes/models/resource-pool/models.js":72210,"./kubernetes/models/resource-quota/models.js":47685,"./kubernetes/models/resource-quota/payloads.js":75976,"./kubernetes/models/resource-reservation/models.js":46685,"./kubernetes/models/resource-types/models.js":39212,"./kubernetes/models/secret/models.js":69730,"./kubernetes/models/secret/payloads.js":60622,"./kubernetes/models/service/models.js":79990,"./kubernetes/models/service/payloads.js":31249,"./kubernetes/models/stack/models.js":31084,"./kubernetes/models/stateful-set/models.js":91920,"./kubernetes/models/stateful-set/payloads.js":13871,"./kubernetes/models/storage-class/models.js":86871,"./kubernetes/models/storage-class/payload.js":79824,"./kubernetes/models/volume/models.js":72913,"./kubernetes/models/volume/payloads.js":88296,"./kubernetes/node/converter.js":76676,"./kubernetes/node/filters.js":57067,"./kubernetes/node/formValues.js":2949,"./kubernetes/node/helper.js":14780,"./kubernetes/node/models.js":85001,"./kubernetes/node/payload.js":11801,"./kubernetes/node/rest.js":9790,"./kubernetes/node/service.js":6795,"./kubernetes/pod/converter.js":22050,"./kubernetes/pod/filters.js":15826,"./kubernetes/pod/models/affinities.js":73689,"./kubernetes/pod/models/index.js":31275,"./kubernetes/pod/payloads/affinities.js":78398,"./kubernetes/pod/payloads/create.js":61005,"./kubernetes/pod/service.js":30754,"./kubernetes/registries/index.js":87658,"./kubernetes/registries/kube-registry-access-view/index.js":51482,"./kubernetes/registries/kube-registry-access-view/kube-registry-access-view.controller.js":60124,"./kubernetes/rest/configMap.js":83972,"./kubernetes/rest/controllerRevision.js":20017,"./kubernetes/rest/daemonSet.js":38345,"./kubernetes/rest/deployment.js":36566,"./kubernetes/rest/endpoint.js":85333,"./kubernetes/rest/event.js":69673,"./kubernetes/rest/health.js":71461,"./kubernetes/rest/namespace.js":82475,"./kubernetes/rest/nodesLimits.js":40912,"./kubernetes/rest/persistentVolumeClaim.js":58732,"./kubernetes/rest/pod.js":83699,"./kubernetes/rest/portainer-namespace.js":93449,"./kubernetes/rest/replicaSet.js":81056,"./kubernetes/rest/resourceQuota.js":10129,"./kubernetes/rest/response/transform.js":25658,"./kubernetes/rest/secret.js":61588,"./kubernetes/rest/service.js":68376,"./kubernetes/rest/serviceAccount.js":13535,"./kubernetes/rest/statefulSet.js":55594,"./kubernetes/rest/storage.js":33415,"./kubernetes/services/applicationService.js":94358,"./kubernetes/services/configMapService.js":45819,"./kubernetes/services/configurationService.js":81567,"./kubernetes/services/controllerRevisionService.js":40917,"./kubernetes/services/daemonSetService.js":42183,"./kubernetes/services/deploymentService.js":18354,"./kubernetes/services/eventService.js":3855,"./kubernetes/services/healthService.js":24717,"./kubernetes/services/historyService.js":18842,"./kubernetes/services/namespaceService.js":44987,"./kubernetes/services/nodesLimitsService.js":73774,"./kubernetes/services/persistentVolumeClaimService.js":79362,"./kubernetes/services/replicaSetService.js":59010,"./kubernetes/services/resourcePoolService.js":22539,"./kubernetes/services/resourceQuotaService.js":85927,"./kubernetes/services/secretService.js":76354,"./kubernetes/services/serviceService.js":7055,"./kubernetes/services/stackService.js":4063,"./kubernetes/services/statefulSetService.js":4165,"./kubernetes/services/storageService.js":36552,"./kubernetes/services/volumeService.js":78085,"./kubernetes/store/namespace.js":22823,"./kubernetes/views/applications/applications.js":86393,"./kubernetes/views/applications/applicationsController.js":55495,"./kubernetes/views/applications/console/console.js":51819,"./kubernetes/views/applications/console/consoleController.js":33243,"./kubernetes/views/applications/create/createApplication.js":58791,"./kubernetes/views/applications/create/createApplicationController.js":8924,"./kubernetes/views/applications/edit/application.js":56378,"./kubernetes/views/applications/edit/applicationController.js":66485,"./kubernetes/views/applications/edit/components/ingress-table/ingress-table.controller.js":20630,"./kubernetes/views/applications/edit/components/ingress-table/ingress-table.js":63060,"./kubernetes/views/applications/edit/components/placements-datatable/controller.js":29272,"./kubernetes/views/applications/edit/components/placements-datatable/index.js":50156,"./kubernetes/views/applications/edit/components/services-table/services-table.js":18137,"./kubernetes/views/applications/helm/helm.controller.js":85392,"./kubernetes/views/applications/helm/index.js":8180,"./kubernetes/views/applications/logs/logs.js":81297,"./kubernetes/views/applications/logs/logsController.js":94649,"./kubernetes/views/applications/stats/stats.js":61260,"./kubernetes/views/applications/stats/statsController.js":13754,"./kubernetes/views/cluster/cluster.js":24924,"./kubernetes/views/cluster/clusterController.js":99641,"./kubernetes/views/cluster/node/node.js":64696,"./kubernetes/views/cluster/node/nodeController.js":79308,"./kubernetes/views/cluster/node/stats/stats.js":83490,"./kubernetes/views/cluster/node/stats/statsController.js":2997,"./kubernetes/views/configurations/configurations.js":56286,"./kubernetes/views/configurations/configurationsController.js":35752,"./kubernetes/views/configurations/create/createConfiguration.js":9022,"./kubernetes/views/configurations/create/createConfigurationController.js":38646,"./kubernetes/views/configurations/edit/configuration.js":78025,"./kubernetes/views/configurations/edit/configurationController.js":55682,"./kubernetes/views/configurations/validation.js":64987,"./kubernetes/views/configure/configureController.js":71244,"./kubernetes/views/dashboard/dashboard.js":15219,"./kubernetes/views/dashboard/dashboardController.js":79581,"./kubernetes/views/deploy/deploy.js":36661,"./kubernetes/views/deploy/deployController.js":23322,"./kubernetes/views/resource-pools/access/resourcePoolAccess.js":28311,"./kubernetes/views/resource-pools/access/resourcePoolAccessController.js":38513,"./kubernetes/views/resource-pools/components/storage-class-switch/index.js":74474,"./kubernetes/views/resource-pools/components/storage-class-switch/storage-class-switch.controller.js":10405,"./kubernetes/views/resource-pools/create/createResourcePool.js":19777,"./kubernetes/views/resource-pools/create/createResourcePoolController.js":83908,"./kubernetes/views/resource-pools/edit/components/ingresses-datatable/controller.js":63009,"./kubernetes/views/resource-pools/edit/components/ingresses-datatable/index.js":88952,"./kubernetes/views/resource-pools/edit/resourcePool.js":85146,"./kubernetes/views/resource-pools/edit/resourcePoolController.js":42310,"./kubernetes/views/resource-pools/resourcePools.js":7134,"./kubernetes/views/resource-pools/resourcePoolsController.js":39502,"./kubernetes/views/security-constraint/constraintController.js":66046,"./kubernetes/views/stacks/logs/logs.js":9981,"./kubernetes/views/stacks/logs/logsController.js":39554,"./kubernetes/views/summary/resources/applicationResources.js":45233,"./kubernetes/views/summary/resources/configurationResources.js":3310,"./kubernetes/views/summary/resources/helpers.js":60953,"./kubernetes/views/summary/resources/namespaceResources.js":49113,"./kubernetes/views/summary/summary.js":21099,"./kubernetes/views/summary/summaryController.js":69861,"./kubernetes/views/volumes/components/volumes-storages-datatable/controller.js":70302,"./kubernetes/views/volumes/components/volumes-storages-datatable/index.js":1502,"./kubernetes/views/volumes/edit/volume.js":61158,"./kubernetes/views/volumes/edit/volumeController.js":52962,"./kubernetes/views/volumes/volumes.js":49633,"./kubernetes/views/volumes/volumesController.js":64539,"./matomo-setup.js":63924,"./portainer/__module.js":67912,"./portainer/components/InformationPanel/InformationPanelAngular.js":87005,"./portainer/components/access-datatable/accessDatatable.js":21366,"./portainer/components/access-datatable/accessDatatableController.js":92681,"./portainer/components/access-table/access-table.js":56609,"./portainer/components/accessControlForm/por-access-control-form.js":3735,"./portainer/components/accessControlForm/porAccessControlFormController.js":86656,"./portainer/components/accessControlForm/porAccessControlFormModel.js":19898,"./portainer/components/accessManagement/index.js":39372,"./portainer/components/accessManagement/por-access-management.js":26001,"./portainer/components/accessManagement/porAccessManagementController.js":22421,"./portainer/components/associated-endpoints-selector/associatedEndpointsSelector.js":439,"./portainer/components/associated-endpoints-selector/associatedEndpointsSelectorController.js":98293,"./portainer/components/autofocus.js":64054,"./portainer/components/beta-panel/betaPanel.js":28428,"./portainer/components/buttonSpinner.js":66864,"./portainer/components/code-editor/code-editor.js":58945,"./portainer/components/code-editor/codeEditorController.js":85150,"./portainer/components/copy-button/copy-button.controller.js":28944,"./portainer/components/copy-button/copy-button.js":27816,"./portainer/components/custom-template-common-fields/customTemplateCommonFieldsController.js":99614,"./portainer/components/custom-template-common-fields/index.js":26453,"./portainer/components/custom-template-selector/custom-template-selector.controller.js":45165,"./portainer/components/custom-template-selector/index.js":16970,"./portainer/components/custom-templates-list/customTemplatesListController.js":85452,"./portainer/components/custom-templates-list/index.js":9578,"./portainer/components/datatables/access-tokens-datatable/access-tokens-datatable.controller.js":43926,"./portainer/components/datatables/access-tokens-datatable/index.js":80127,"./portainer/components/datatables/datatable-columns-visibility/datatable-columns-visibility.controller.js":76752,"./portainer/components/datatables/datatable-columns-visibility/index.js":13877,"./portainer/components/datatables/endpoints-datatable/endpointsDatatable.js":56210,"./portainer/components/datatables/endpoints-datatable/endpointsDatatableController.js":805,"./portainer/components/datatables/filter/datatable-filter.controller.js":38058,"./portainer/components/datatables/filter/index.js":59001,"./portainer/components/datatables/genericDatatableController.js":11471,"./portainer/components/datatables/groups-datatable/groupsDatatable.js":36864,"./portainer/components/datatables/index.js":41101,"./portainer/components/datatables/pagination/index.js":21757,"./portainer/components/datatables/registries-datatable/registriesDatatable.js":44145,"./portainer/components/datatables/registries-datatable/registriesDatatableController.js":63188,"./portainer/components/datatables/sort-icon/datatable-sort-icon.controller.js":81749,"./portainer/components/datatables/sort-icon/index.js":62040,"./portainer/components/datatables/stacks-datatable/stacksDatatable.js":97203,"./portainer/components/datatables/stacks-datatable/stacksDatatableController.js":97433,"./portainer/components/datatables/strings-datatable/index.js":59198,"./portainer/components/datatables/tags-datatable/tagsDatatable.js":96447,"./portainer/components/datatables/titlebar/index.js":58973,"./portainer/components/datatables/users-datatable/usersDatatable.js":59322,"./portainer/components/datatables/users-datatable/usersDatatableController.js":92040,"./portainer/components/demo-feature-indicator/demo-feature-indicator.controller.js":62424,"./portainer/components/demo-feature-indicator/index.js":96026,"./portainer/components/endpointSecurity/por-endpoint-security.js":39590,"./portainer/components/endpointSecurity/porEndpointSecurityController.js":59810,"./portainer/components/endpointSecurity/porEndpointSecurityModel.js":25229,"./portainer/components/environment-variables-panel/environment-variables-panel.controller.js":72532,"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/environment-variables-simple-mode-item.controller.js":19695,"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/index.js":47254,"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode.controller.js":17272,"./portainer/components/environment-variables-panel/environment-variables-simple-mode/index.js":55005,"./portainer/components/environment-variables-panel/index.js":5633,"./portainer/components/focusIf.js":87508,"./portainer/components/form-components/file-upload-form/index.js":74075,"./portainer/components/form-components/index.js":39068,"./portainer/components/form-components/web-editor-form/index.js":67653,"./portainer/components/form-components/web-editor-form/web-editor-form.controller.js":32340,"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/git-form-additional-file-item.controller.js":27190,"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/index.js":83208,"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-files-panel.controller.js":17968,"./portainer/components/forms/git-form/git-form-additional-files-panel/index.js":7274,"./portainer/components/forms/git-form/git-form-auth-fieldset/git-form-auth-fieldset.controller.js":10789,"./portainer/components/forms/git-form/git-form-auth-fieldset/index.js":48980,"./portainer/components/forms/git-form/git-form-auto-update-fieldset/git-form-auto-update-fieldset.controller.js":12847,"./portainer/components/forms/git-form/git-form-auto-update-fieldset/index.js":34385,"./portainer/components/forms/git-form/git-form-compose-path-field/index.js":39926,"./portainer/components/forms/git-form/git-form-info-panel/index.js":78356,"./portainer/components/forms/git-form/git-form-ref-field/index.js":65830,"./portainer/components/forms/git-form/git-form-url-field/index.js":4680,"./portainer/components/forms/git-form/git-form.controller.js":93632,"./portainer/components/forms/git-form/git-form.js":97525,"./portainer/components/forms/git-form/index.js":8540,"./portainer/components/forms/group-form/group-form.js":95189,"./portainer/components/forms/group-form/groupFormController.js":37134,"./portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.controller.js":29037,"./portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.js":34323,"./portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.controller.js":55658,"./portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.js":9509,"./portainer/components/forms/registry-form-aws-ecr/registry-form-ecr.js":48637,"./portainer/components/forms/registry-form-azure/registry-form-azure.js":90018,"./portainer/components/forms/registry-form-custom/registry-form-custom.js":8746,"./portainer/components/forms/registry-form-dockerhub/registry-form-dockerhub.js":7744,"./portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatable.js":84375,"./portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatableController.js":56110,"./portainer/components/forms/registry-form-gitlab/registry-form-gitlab.js":54470,"./portainer/components/forms/registry-form-proget/registry-form-proget.js":25318,"./portainer/components/forms/registry-form-quay/registry-form-quay.js":18218,"./portainer/components/forms/stack-from-template-form/index.js":12281,"./portainer/components/forms/stack-redeploy-git-form/index.js":7008,"./portainer/components/forms/stack-redeploy-git-form/stack-redeploy-git-form.controller.js":20472,"./portainer/components/group-association-table/group-association-table.js":87637,"./portainer/components/index.js":11033,"./portainer/components/information-panel-offline/informationPanelOffline.js":64654,"./portainer/components/information-panel-offline/informationPanelOfflineController.js":2454,"./portainer/components/intervalFormat.js":44516,"./portainer/components/onEnterKey.js":45679,"./portainer/components/option-panel/index.js":22730,"./portainer/components/option-panel/option-panel.controller.js":25601,"./portainer/components/product-list/product-item/product-item.js":46621,"./portainer/components/product-list/product-list.js":38222,"./portainer/components/registry-details/index.js":97554,"./portainer/components/sensitive-details/sensitive-details.js":90434,"./portainer/components/show-hide/show-hide.js":53712,"./portainer/components/slider/slider.js":77337,"./portainer/components/slider/sliderController.js":58944,"./portainer/components/stack-duplication-form/stack-duplication-form-controller.js":10018,"./portainer/components/stack-duplication-form/stack-duplication-form.js":37848,"./portainer/components/status-indicator/index.js":91709,"./portainer/components/template-list/template-item/template-item.js":44677,"./portainer/components/template-list/template-list-controller.js":70296,"./portainer/components/template-list/template-list.js":47177,"./portainer/components/template-widget.js":38119,"./portainer/components/theme/theme-settings.controller.js":55472,"./portainer/components/theme/theme-settings.js":30749,"./portainer/environments/azure-endpoint-config/azure-endpoint-config.js":19376,"./portainer/feature-flags/feature-ids.js":24268,"./portainer/filters/filters.js":41066,"./portainer/filters/index.js":1740,"./portainer/helpers/endpointHelper.js":70589,"./portainer/helpers/env-vars.js":93994,"./portainer/helpers/formHelper.js":30398,"./portainer/helpers/genericHelper.js":24003,"./portainer/helpers/networkHelper.js":30556,"./portainer/helpers/pathHelper.js":50433,"./portainer/helpers/resourceControlHelper.js":43622,"./portainer/helpers/stackHelper.js":13118,"./portainer/helpers/tagHelper.js":91619,"./portainer/helpers/templateHelper.js":69424,"./portainer/helpers/urlHelper.js":79190,"./portainer/helpers/webhookHelper.js":7341,"./portainer/interceptors/endpointStatusInterceptor.js":89940,"./portainer/models/access.js":93133,"./portainer/models/dockerhub.js":74962,"./portainer/models/endpoint/formValues.js":690,"./portainer/models/endpoint/models.js":13494,"./portainer/models/gitlabRegistry.js":62365,"./portainer/models/group.js":79607,"./portainer/models/registry.js":33180,"./portainer/models/registryRepository.js":64088,"./portainer/models/registryTypes.js":56414,"./portainer/models/resourceControl/resourceControlCreatePayload.js":74392,"./portainer/models/resourceControl/resourceControlOwnershipParameters.js":1870,"./portainer/models/schedule.js":82653,"./portainer/models/settings.js":55287,"./portainer/models/stack.js":49036,"./portainer/models/status.js":95154,"./portainer/models/tag.js":26410,"./portainer/models/team.js":58552,"./portainer/models/teamMembership.js":3010,"./portainer/models/template.js":76185,"./portainer/models/user.js":90327,"./portainer/models/webhook.js":74708,"./portainer/oauth/__module.js":77274,"./portainer/oauth/components/oauth-providers-selector/index.js":21869,"./portainer/oauth/components/oauth-providers-selector/oauth-provider-selector.controller.js":6343,"./portainer/oauth/components/oauth-settings/index.js":10453,"./portainer/oauth/components/oauth-settings/oauth-settings.controller.js":30152,"./portainer/oauth/components/oauth-settings/providers.js":67879,"./portainer/oauth/services/rest/oauth.js":18152,"./portainer/rbac/components/access-viewer/access-viewer-datatable/index.js":3589,"./portainer/rbac/components/access-viewer/access-viewer.controller.js":79657,"./portainer/rbac/components/access-viewer/index.js":87208,"./portainer/rbac/components/roles-datatable/index.js":77181,"./portainer/rbac/components/roles-datatable/roles-datatable.controller.js":15560,"./portainer/rbac/index.js":35552,"./portainer/rbac/models/access.js":82853,"./portainer/rbac/models/role.js":61969,"./portainer/rbac/services/role.rest.js":37838,"./portainer/rbac/services/role.service.js":70055,"./portainer/rbac/views/roles/index.js":93239,"./portainer/rbac/views/roles/roles.controller.js":60090,"./portainer/rest/auth.js":95599,"./portainer/rest/backup.js":59987,"./portainer/rest/customTemplate.js":92179,"./portainer/rest/endpoint.js":50947,"./portainer/rest/gitlab.js":48664,"./portainer/rest/group.js":41019,"./portainer/rest/registry.js":26911,"./portainer/rest/resourceControl.js":9095,"./portainer/rest/settings.js":26862,"./portainer/rest/ssl.js":33729,"./portainer/rest/stack.js":84006,"./portainer/rest/status.js":1962,"./portainer/rest/support.js":3985,"./portainer/rest/tag.js":69586,"./portainer/rest/team.js":51406,"./portainer/rest/teamMembership.js":46796,"./portainer/rest/template.js":35627,"./portainer/rest/transform/getEndpointsTotalCount.js":28098,"./portainer/rest/transform/gitlabResponseGetLink.js":40432,"./portainer/rest/user.js":88211,"./portainer/rest/webhooks.js":1587,"./portainer/services/allSettled.js":67808,"./portainer/services/api/accessService.js":84522,"./portainer/services/api/backupService.js":10273,"./portainer/services/api/customTemplate.js":85903,"./portainer/services/api/dockerhubService.js":91520,"./portainer/services/api/endpointService.js":53249,"./portainer/services/api/groupService.js":50828,"./portainer/services/api/registryService.js":94094,"./portainer/services/api/resourceControlService.js":17293,"./portainer/services/api/settingsService.js":91532,"./portainer/services/api/sslService.js":39243,"./portainer/services/api/stackService.js":54332,"./portainer/services/api/statusService.js":97128,"./portainer/services/api/supportService.js":10754,"./portainer/services/api/tagService.js":44904,"./portainer/services/api/teamMembershipService.js":87643,"./portainer/services/api/teamService.js":75495,"./portainer/services/api/templateService.js":66656,"./portainer/services/api/userService.js":96664,"./portainer/services/api/webhookService.js":16856,"./portainer/services/async.js":52726,"./portainer/services/authentication.js":38890,"./portainer/services/chartService.js":49519,"./portainer/services/codeMirror.js":91112,"./portainer/services/datatableService.js":52943,"./portainer/services/endpointProvider.js":65187,"./portainer/services/fileUpload.js":21262,"./portainer/services/formValidator.js":59197,"./portainer/services/localStorage.js":11189,"./portainer/services/nameValidator.js":16624,"./portainer/services/pagination.js":40073,"./portainer/services/registryGitlabService.js":76211,"./portainer/services/registryModalService.js":56858,"./portainer/services/session-storage.js":85280,"./portainer/services/stateManager.js":37431,"./portainer/services/themeManager.js":98869,"./portainer/settings/authentication/auth-method-constants.js":52855,"./portainer/settings/authentication/auth-type-constants.js":98376,"./portainer/settings/authentication/auto-user-provision-toggle/index.js":50552,"./portainer/settings/authentication/index.js":85847,"./portainer/settings/authentication/ldap/ad-settings/ad-settings.controller.js":80612,"./portainer/settings/authentication/ldap/ad-settings/index.js":66509,"./portainer/settings/authentication/ldap/index.js":36320,"./portainer/settings/authentication/ldap/ldap-connectivity-check/index.js":18436,"./portainer/settings/authentication/ldap/ldap-custom-admin-group/index.js":88996,"./portainer/settings/authentication/ldap/ldap-custom-admin-group/ldap-custom-admin-group.controller.js":53864,"./portainer/settings/authentication/ldap/ldap-custom-group-search/index.js":8282,"./portainer/settings/authentication/ldap/ldap-custom-group-search/ldap-custom-group-search.controller.js":30950,"./portainer/settings/authentication/ldap/ldap-custom-user-search/index.js":1093,"./portainer/settings/authentication/ldap/ldap-custom-user-search/ldap-custom-user-search.controller.js":39525,"./portainer/settings/authentication/ldap/ldap-group-search-item/index.js":82592,"./portainer/settings/authentication/ldap/ldap-group-search-item/ldap-group-search-item.controller.js":55028,"./portainer/settings/authentication/ldap/ldap-group-search/index.js":24791,"./portainer/settings/authentication/ldap/ldap-group-search/ldap-group-search.controller.js":92459,"./portainer/settings/authentication/ldap/ldap-groups-datatable/index.js":59086,"./portainer/settings/authentication/ldap/ldap-settings-custom/index.js":72928,"./portainer/settings/authentication/ldap/ldap-settings-custom/ldap-settings-custom.controller.js":96551,"./portainer/settings/authentication/ldap/ldap-settings-dn-builder/index.js":6e4,"./portainer/settings/authentication/ldap/ldap-settings-dn-builder/ldap-settings-dn-builder.controller.js":62680,"./portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/index.js":36235,"./portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/ldap-settings-group-dn-builder.controller.js":91117,"./portainer/settings/authentication/ldap/ldap-settings-openldap/index.js":25702,"./portainer/settings/authentication/ldap/ldap-settings-openldap/ldap-settings-openldap.controller.js":58962,"./portainer/settings/authentication/ldap/ldap-settings-security/index.js":31939,"./portainer/settings/authentication/ldap/ldap-settings-test-login/index.js":75714,"./portainer/settings/authentication/ldap/ldap-settings-test-login/ldap-settings-test-login.controller.js":90829,"./portainer/settings/authentication/ldap/ldap-settings.model.js":54512,"./portainer/settings/authentication/ldap/ldap-settings/index.js":39947,"./portainer/settings/authentication/ldap/ldap-settings/ldap-settings.controller.js":28283,"./portainer/settings/authentication/ldap/ldap-user-search-item/index.js":16811,"./portainer/settings/authentication/ldap/ldap-user-search-item/ldap-user-search-item.controller.js":93669,"./portainer/settings/authentication/ldap/ldap-user-search/index.js":97299,"./portainer/settings/authentication/ldap/ldap-user-search/ldap-user-search.controller.js":34188,"./portainer/settings/authentication/ldap/ldap-users-datatable/index.js":84259,"./portainer/settings/authentication/ldap/ldap.rest.js":39314,"./portainer/settings/authentication/ldap/ldap.service.js":46951,"./portainer/settings/authentication/save-auth-settings-button/index.js":93467,"./portainer/settings/general/index.js":6972,"./portainer/settings/general/ssl-certificate/index.js":13655,"./portainer/settings/general/ssl-certificate/ssl-certificate.controller.js":12617,"./portainer/settings/index.js":52744,"./portainer/user-activity/activity-logs-view/activity-logs-datatable/activity-logs-datatable.controller.js":48557,"./portainer/user-activity/activity-logs-view/activity-logs-datatable/index.js":32654,"./portainer/user-activity/activity-logs-view/activity-logs-view.controller.js":38427,"./portainer/user-activity/activity-logs-view/activity-logs-view.js":85331,"./portainer/user-activity/activity-logs-view/index.js":9800,"./portainer/user-activity/auth-logs-view/auth-logs-datatable/auth-logs-datatable.controller.js":91651,"./portainer/user-activity/auth-logs-view/auth-logs-datatable/index.js":66823,"./portainer/user-activity/auth-logs-view/auth-logs-view.controller.js":93873,"./portainer/user-activity/auth-logs-view/auth-logs-view.js":8364,"./portainer/user-activity/auth-logs-view/index.js":45303,"./portainer/user-activity/index.js":91573,"./portainer/views/account/accountController.js":68325,"./portainer/views/account/create-user-access-token/create-user-access-token.controller.js":5012,"./portainer/views/account/create-user-access-token/index.js":33219,"./portainer/views/auth/authController.js":87374,"./portainer/views/custom-templates/create-custom-template-view/createCustomTemplateViewController.js":46581,"./portainer/views/custom-templates/create-custom-template-view/index.js":31268,"./portainer/views/custom-templates/custom-templates-view/customTemplatesViewController.js":77999,"./portainer/views/custom-templates/custom-templates-view/index.js":17598,"./portainer/views/custom-templates/edit-custom-template-view/editCustomTemplateViewController.js":31097,"./portainer/views/custom-templates/edit-custom-template-view/index.js":69659,"./portainer/views/devices/import/importDeviceController.js":11937,"./portainer/views/devices/profiles/add/addProfileController.js":35696,"./portainer/views/devices/profiles/add/index.js":91067,"./portainer/views/devices/profiles/edit/editProfileController.js":21199,"./portainer/views/devices/profiles/edit/index.js":42041,"./portainer/views/endpoint-registries/registries.js":36582,"./portainer/views/endpoint-registries/registriesController.js":54886,"./portainer/views/endpoints/access/endpointAccessController.js":16962,"./portainer/views/endpoints/edit/endpointController.js":80418,"./portainer/views/endpoints/endpoints.js":19538,"./portainer/views/endpoints/endpointsController.js":81881,"./portainer/views/endpoints/helpers.js":13853,"./portainer/views/endpoints/kvm/endpointKVMController.js":58118,"./portainer/views/endpoints/kvm/index.js":63824,"./portainer/views/groups/access/groupAccessController.js":79405,"./portainer/views/groups/create/createGroupController.js":7249,"./portainer/views/groups/edit/groupController.js":9149,"./portainer/views/groups/groupsController.js":60160,"./portainer/views/init/admin/initAdminController.js":66246,"./portainer/views/init/endpoint/initEndpointController.js":88611,"./portainer/views/logout/logoutController.js":95580,"./portainer/views/main/mainController.js":85274,"./portainer/views/registries/create/createRegistry.js":38910,"./portainer/views/registries/create/createRegistryController.js":15366,"./portainer/views/registries/edit/registry.js":74927,"./portainer/views/registries/edit/registryController.js":66146,"./portainer/views/registries/registriesController.js":6009,"./portainer/views/settings/authentication/settingsAuthenticationController.js":80287,"./portainer/views/settings/edge-compute/index.js":43404,"./portainer/views/settings/edge-compute/settingsEdgeComputeController.js":51861,"./portainer/views/settings/settingsController.js":30236,"./portainer/views/stacks/create/createStackController.js":58e3,"./portainer/views/stacks/edit/stackController.js":22940,"./portainer/views/stacks/stacksController.js":78566,"./portainer/views/tags/tagsController.js":20125,"./portainer/views/templates/templatesController.js":76058,"./portainer/views/users/edit/userController.js":21436,"./portainer/views/users/usersController.js":79614,"./react/components/PageHeader/ContextHelp/docURLs.js":48780,"./setup-tests/global-setup.js":68724,"./vendors.js":25518};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=19338},91079:function(e,t,n){"use strict";var r,a=n(95004);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M27.363 17.908 15.537 5.66a2.121 2.121 0 0 0-3.075 0l-2.364 2.45 3.212 3.326c.255-.109.535-.17.829-.17 1.202 0 2.177 1.01 2.177 2.255 0 .304-.058.594-.164.859l3.075 3.185c.256-.11.535-.17.83-.17 1.202 0 2.176 1.01 2.176 2.255 0 1.245-.974 2.255-2.177 2.255-1.202 0-2.177-1.01-2.177-2.255 0-.304.058-.594.164-.859l-3.067-3.177v8.025a2.258 2.258 0 0 1 1.34 2.082c0 1.246-.975 2.255-2.178 2.255-1.202 0-2.177-1.01-2.177-2.255 0-.938.553-1.742 1.34-2.082v-8.035a2.258 2.258 0 0 1-1.34-2.083c0-.304.059-.594.164-.858L8.913 9.336.637 17.908c-.85.88-.85 2.304 0 3.184L12.463 33.34c.85.88 2.225.88 3.074 0l11.826-12.248c.85-.88.85-2.305 0-3.184Z",fill:"#E15B39"})))}},82942:function(e,t,n){"use strict";var r,a=n(95004);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 79 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"m45.322 11.32 9.313 15.984 9.317 15.982H26.693l9.313-15.982 9.316-15.985ZM64.157 38.703H79l-9.316-15.985L60.37 6.737 52.95 19.473l6.213 10.666 4.994 8.564ZM31.93 29.558l-3.985-6.84L18.63 6.737 9.316 22.718 0 38.703H26.6l2.615-4.487 2.716-4.659ZM33.295 27.224l.468-.801L40.421 15 31.78.175l-7.123 12.223 5.869 10.07 2.77 4.756Z",fill:"#CB2026"})))}},48942:function(e,t,n){"use strict";var r,a=n(95004);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M11.5 5h.434c3.048 0 4.571 0 5.15.547a2 2 0 0 1 .586 1.845c-.156.781-1.4 1.66-3.888 3.42l-4.064 2.876c-2.488 1.76-3.732 2.639-3.888 3.42a2 2 0 0 0 .586 1.845c.579.547 2.102.547 5.15.547h.934M8 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}},57471:function(e,t,n){"use strict";var r,a,i=n(95004);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C6.6 33.453.295 27.143.295 19.365.295 11.587 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),a||(a=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.53 15.568a4.19 4.19 0 0 0-2.066-.06 4.16 4.16 0 0 0-1.838.933 4.093 4.093 0 0 0-1.153 1.695.64.64 0 0 1-.814.384.628.628 0 0 1-.388-.804 5.352 5.352 0 0 1 1.508-2.217 5.44 5.44 0 0 1 2.404-1.22 5.479 5.479 0 0 1 2.7.079c.877.25 1.675.715 2.32 1.351l1.384 1.285v-1.693c0-.348.285-.63.637-.63.352 0 .638.282.638.63v3.15c0 .348-.286.63-.638.63h-3.187a.634.634 0 0 1-.637-.63c0-.348.285-.63.637-.63h1.578l-1.292-1.2-.014-.014a4.153 4.153 0 0 0-1.78-1.039ZM7.9 20.551c0-.348.286-.63.638-.63h3.187c.352 0 .637.282.637.63 0 .348-.285.63-.637.63h-1.578l1.292 1.2.014.014a4.19 4.19 0 0 0 3.845 1.1 4.16 4.16 0 0 0 1.838-.934c.523-.46.92-1.043 1.153-1.695a.64.64 0 0 1 .814-.384.628.628 0 0 1 .388.804 5.352 5.352 0 0 1-1.508 2.216 5.44 5.44 0 0 1-2.404 1.22c-.893.2-1.822.173-2.701-.078a5.432 5.432 0 0 1-2.32-1.351l-1.383-1.286v1.694c0 .348-.285.63-.637.63a.634.634 0 0 1-.638-.63v-3.15Z",fill:"#0086C9"})))}},96112:function(e,t,n){"use strict";var r,a,i=n(95004);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C6.6 33.453.295 27.143.295 19.365.295 11.587 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),a||(a=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.424 13.758a.624.624 0 0 1-.042.684 3.324 3.324 0 0 0 .329 4.361 3.42 3.42 0 0 0 4.413.325.644.644 0 0 1 .691-.042c.22.122.345.36.322.607a5.711 5.711 0 0 1-1.19 2.988 5.813 5.813 0 0 1-2.626 1.89 5.881 5.881 0 0 1-3.241.204 5.836 5.836 0 0 1-2.847-1.546 5.73 5.73 0 0 1-1.564-2.814 5.686 5.686 0 0 1 .206-3.204 5.753 5.753 0 0 1 1.913-2.595 5.855 5.855 0 0 1 3.022-1.176.64.64 0 0 1 .614.318Zm-1.746 1.231c-.396.154-.77.364-1.11.624a4.491 4.491 0 0 0-1.494 2.026 4.44 4.44 0 0 0-.161 2.502 4.475 4.475 0 0 0 1.221 2.197 4.556 4.556 0 0 0 2.223 1.207c.842.186 1.72.13 2.531-.159a4.539 4.539 0 0 0 2.05-1.476c.263-.336.475-.706.632-1.097a4.715 4.715 0 0 1-1.809.22 4.69 4.69 0 0 1-2.952-1.339 4.588 4.588 0 0 1-1.353-2.918 4.562 4.562 0 0 1 .222-1.787Z",fill:"#0086C9"})))}},56342:function(e,t,n){"use strict";var r,a,i=n(95004);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C6.6 33.453.295 27.143.295 19.365.295 11.587 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),a||(a=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.722 19.186a10.574 10.574 0 0 0 1.391 1.844c1.026 1.081 2.451 2.076 4.21 2.076 1.76 0 3.185-.995 4.21-2.076a10.571 10.571 0 0 0 1.392-1.844 10.57 10.57 0 0 0-1.391-1.844c-1.026-1.081-2.451-2.076-4.21-2.076-1.76 0-3.185.995-4.21 2.076a10.573 10.573 0 0 0-1.392 1.844Zm11.931 0 .57-.282-.001-.002-.002-.004-.007-.013a4.228 4.228 0 0 0-.111-.204 11.842 11.842 0 0 0-1.638-2.202c-1.133-1.193-2.872-2.473-5.14-2.473-2.27 0-4.008 1.28-5.14 2.474a11.846 11.846 0 0 0-1.639 2.201 7.223 7.223 0 0 0-.111.204l-.007.013-.002.004v.001s-.001.001.569.283l-.57-.282a.624.624 0 0 0 0 .564l.57-.282-.57.282v.002l.003.004.007.013a4.443 4.443 0 0 0 .111.203 11.84 11.84 0 0 0 1.638 2.202c1.133 1.194 2.872 2.474 5.14 2.474 2.27 0 4.008-1.28 5.14-2.474a11.836 11.836 0 0 0 1.639-2.202 7.552 7.552 0 0 0 .111-.203l.007-.013.002-.004v-.001s.001-.001-.569-.283Zm0 0 .57.282a.624.624 0 0 0 0-.564l-.57.282Zm-6.33-1.076c-.6 0-1.088.482-1.088 1.076 0 .594.487 1.076 1.088 1.076.602 0 1.09-.482 1.09-1.076 0-.595-.488-1.076-1.09-1.076Zm-2.363 1.076c0-1.29 1.058-2.336 2.363-2.336 1.306 0 2.364 1.046 2.364 2.336 0 1.29-1.058 2.336-2.364 2.336-1.305 0-2.363-1.046-2.363-2.336Z",fill:"#0086C9"})))}},65313:function(e,t,n){"use strict";var r,a,i=n(95004);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C6.6 33.453.295 27.143.295 19.365.295 11.587 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),a||(a=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.322 11.612c.388 0 .702.31.702.693v1.251a.697.697 0 0 1-.701.693.697.697 0 0 1-.702-.693v-1.25c0-.384.314-.694.701-.694ZM8.904 13.83a.707.707 0 0 1 .992 0l.898.889c.274.27.274.709 0 .98a.707.707 0 0 1-.991 0l-.899-.889a.687.687 0 0 1 0-.98Zm10.839 0c.273.27.273.71 0 .98l-.899.889a.707.707 0 0 1-.991 0 .687.687 0 0 1 0-.98l.898-.889a.707.707 0 0 1 .992 0Zm-5.42 2.922c-1.36 0-2.463 1.09-2.463 2.435s1.103 2.435 2.463 2.435 2.464-1.09 2.464-2.435-1.103-2.435-2.464-2.435Zm-3.865 2.435c0-2.11 1.73-3.82 3.865-3.82 2.135 0 3.866 1.71 3.866 3.82s-1.73 3.82-3.865 3.82c-2.135 0-3.866-1.71-3.866-3.82Zm-3.797 0c0-.383.314-.693.701-.693h1.266c.387 0 .7.31.7.693a.697.697 0 0 1-.7.693H7.36a.697.697 0 0 1-.7-.693Zm12.657 0c0-.383.314-.693.701-.693h1.266c.387 0 .7.31.7.693a.697.697 0 0 1-.7.693h-1.266a.697.697 0 0 1-.7-.693Zm-8.524 3.488c.274.27.274.71 0 .98l-.898.889a.707.707 0 0 1-.992 0 .687.687 0 0 1 0-.98l.899-.889a.707.707 0 0 1 .991 0Zm7.059 0a.707.707 0 0 1 .991 0l.899.889c.273.27.273.709 0 .98a.707.707 0 0 1-.992 0l-.898-.889a.687.687 0 0 1 0-.98Zm-3.53 1.449c.388 0 .702.31.702.693v1.25a.697.697 0 0 1-.701.694.697.697 0 0 1-.702-.693v-1.251c0-.383.314-.693.701-.693Z",fill:"#0086C9"})))}},23669:function(e,t,n){"use strict";var r,a,i,s,o,l=n(95004);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}t.Z=function(e){return l.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("path",{d:"M8.34 7.955h7.401L8.058 31.222a1.2 1.2 0 0 1-.43.595c-.2.147-.442.226-.689.226H1.18a1.16 1.16 0 0 1-.538-.133 1.191 1.191 0 0 1-.628-.893 1.233 1.233 0 0 1 .049-.564l7.16-21.677c.078-.24.228-.447.43-.594.2-.147.441-.226.688-.226v-.001Z",fill:"url(#azure_svg__a)"})),a||(a=l.createElement("path",{d:"M19.096 23.562H7.358a.536.536 0 0 0-.506.35.565.565 0 0 0 .135.61l7.543 7.194c.22.21.508.326.809.326h6.646l-2.89-8.482v.002Z",fill:"#0078D4"})),i||(i=l.createElement("path",{d:"M8.34 7.955c-.25 0-.493.08-.695.23-.202.15-.351.363-.426.606L.07 30.435a1.224 1.224 0 0 0 .146 1.1c.11.157.254.287.422.375.168.089.354.135.543.134h5.91c.22-.04.425-.139.595-.287.17-.148.3-.34.373-.555l1.426-4.293 5.091 4.854c.213.18.481.28.758.282h6.622l-2.905-8.482-8.465.002 5.181-15.61H8.34Z",fill:"url(#azure_svg__b)"})),s||(s=l.createElement("path",{d:"M17.794 8.775a1.205 1.205 0 0 0-.43-.594c-.2-.147-.44-.226-.687-.226h-8.25c.248 0 .487.08.688.226.2.147.35.355.43.594l7.159 21.68a1.222 1.222 0 0 1-.58 1.456c-.166.087-.35.133-.537.133h8.249a1.159 1.159 0 0 0 .957-.502 1.231 1.231 0 0 0 .16-1.088l-7.16-21.68Z",fill:"url(#azure_svg__c)"})),o||(o=l.createElement("defs",null,l.createElement("linearGradient",{id:"azure_svg__a",x1:11.038,y1:9.741,x2:3.044,y2:32.844,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#114A8B"}),l.createElement("stop",{offset:1,stopColor:"#0669BC"})),l.createElement("linearGradient",{id:"azure_svg__b",x1:13.438,y1:20.556,x2:11.652,y2:21.147,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopOpacity:.3}),l.createElement("stop",{offset:.07,stopOpacity:.2}),l.createElement("stop",{offset:.32,stopOpacity:.1}),l.createElement("stop",{offset:.62,stopOpacity:.05}),l.createElement("stop",{offset:1,stopOpacity:0})),l.createElement("linearGradient",{id:"azure_svg__c",x1:12.516,y1:9.042,x2:21.281,y2:31.892,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#3CCBF4"}),l.createElement("stop",{offset:1,stopColor:"#2892DF"})))))}},97642:function(e,t,n){"use strict";var r,a,i=n(95004);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("g",{clipPath:"url(#docker-compose_svg__a)"},i.createElement("path",{d:"M26.923 21.727c-2.571 0-2.82 2.047-2.82 2.047l1.671-.474s1.248-.65 2.347.574c1.198 1.248.55 3.37 0 4.17-.774 1.247-3.843 1.397-4.044 1.347-1.348-2.87-4.469-2.996-4.469-2.996l3.37-3.095s3.52-3.42 3.52-6.615c0-3.195-3.695-6.64-3.695-6.64s-1.523-1.198-1.523-2.22c0-1.723 3.47-2.197 5.417-3.22 1.947-1.023.45-3.844-.324-4.294-1.522-.649-2.371.525-2.371.525L22.354 4.98l-1.198.474s-.95-.05-1.723.924c-.774.973-.15 3.12-.15 3.12s-1.298-.673-3.494-.673c-7.189 0-7.838 5.99-7.838 7.04 0 1.047.574 3.144 1.398 4.143.823.998 2.645 3.095 2.645 4.417 0 2.097-3.295 3.37-4.992 3.37-2.321 0-3.22-1.423-3.22-2.396 0-1.398.924-2.921 1.473-3.944.549-1.023-.35-2.322-.35-2.322l-1.198.55-2.421-1.374s.03-2.178-.068-2.228c-.45.1-.98.78-.98 1.88 0 1.5 1.596 1.739 2.436 2.061 1.136.438 1.132 1.508.384 2.53-.748 1.024-1.298 3.246-1.298 4.344 0 2.196 2.846 3.22 4.767 3.22 2.97 0 4.992-1.548 4.992-1.548s.274 1.723.274 2.571c0 .849-.773 1.648-2.096 1.648s-2.371-.598-2.371-.598-2.696-1.748-3.82-1.748c-1.971 0-2.67 2.022-2.67 2.472 0 .45.324 1.472.598 1.847.275.375 1.698.95 2.073.849.374-.1.524-.924.45-1.198-.076-.275-1.323-1.048-1.323-1.423s.216-.7.89-.7c.673 0 1.46.593 2.682 1.742.89.837 3.164 1.844 4.59 1.778.948-.043 2.758-.477 3.145-1.971.221-.857-.1-3.37.124-2.72.225.648.765 1.809 2.357 2.873.548.365 3.103 1.067 4.706.472 1.998-.375 3.096-3.145 3.12-3.17 2.123 0 3.546-.8 5.018-1.573 1.473-.774 1.448-3.42 1.448-4.843 0-1.847-2.72-3.144-3.794-3.144l.003-.004Zm-13.18 8.488s-.499-.749-.499-1.548c0-.8.175-1.522 1.473-2.022-.026.026-1.182 1.133-.974 3.57Zm5.318 2.47c-1.947 0-3.02-1.922-3.02-3.17 0-1.247.649-2.096.649-2.096s.03.632.03.757c0 .124.341 1.24 1.115 2.039.774.799 3.896.973 3.822 1.048-.5.998-1.923 1.423-2.596 1.423Zm2.597-3.862a4.908 4.908 0 0 1-2.13-1.292c1.498-.093 2.228 1.33 2.13 1.292Z",fill:"#B8C9DA"}),i.createElement("path",{d:"M11.512 13.05c.876-.953 1.107-2.166.516-2.71-.298-.274-.75-.323-1.237-.184-1.135.804-1.831 1.85-2.257 2.835.01.322.11.605.323.8.59.543 1.78.212 2.656-.74l-.001-.002ZM14.802 11.476c.67-.386 1.015-1.043.77-1.466-.244-.424-.986-.454-1.656-.067-.67.386-1.014 1.043-.77 1.467.244.423.986.453 1.656.066ZM8.914 34.851c.24-.44-.133-1.103-.831-1.48s-1.455-.324-1.694.116c-.095.174-.09.383-.012.595.427.412 1.206.806 2.012 1.11.235-.047.426-.158.524-.34h.001ZM15.145 27.415c-.326-.193-.763-.036-1.102.348a6.483 6.483 0 0 0-.353 1.824c.06.103.136.19.233.247.424.251 1.04-.088 1.377-.755.337-.668.268-1.413-.155-1.665ZM15.311 30.244c-.234.463-.185.978.108 1.152.286.17.698-.05.935-.492a3.355 3.355 0 0 1-.37-1.232c-.244.034-.507.244-.673.572Z",fill:"#99B3D1"}),i.createElement("path",{d:"M21.593 28.782A4.824 4.824 0 0 1 20 27.968c.153.592.424 1.969-.003 2.975.857.171 1.634.239 1.594.28-.034.067-.082.126-.124.189.16-.135.67-.62.649-1.338-.015-.508-.237-.978-.527-1.345.015.038.016.058.003.053h.001ZM23.6 19.116c-.587.849-1.834 2.122-1.834 2.122s-2.572 1.498-3.545 3.47c0 0 1.29-.788 3.543-.392l1.15-1.055s3.52-3.42 3.52-6.615c0-1.597-.924-3.258-1.848-4.518-.024.666-.101 1.497-.324 2.047.026.45.4 3.294-.662 4.942ZM4.61 22.497c.204-.396.423-.695.6-1.01.738-1.304-.367-2.396-.367-2.396l-1.198.549-1.51-.856c-.099.242-.203.516-.237.683-.01.05.005.119.039.196.38.12.552.322.815.414.596.21.992.829.77 1.562.285.323.724.616 1.088.857v.001Z",fill:"#8597A9"}),i.createElement("path",{d:"M17.942 25.473s.078-1.054.988-2.101c.91-1.048 1.385-1.329 2.32-2.144.937-.814 2.434-2.041 2.774-4.21.23-1.299.127-2.813-.548-3.895-.674-1.082-2.31-3.108-5.443-3.832-3.132-.725-5.566.287-5.566.287s-4.063 1.464-4.372 6.117c-.07 1.34.264 2.144.264 2.144s.435 1.37 1.043 2.124c.607.753 1.318 1.631 1.318 1.631s1.303 1.327 1.303 2.878c0 .618-.242 1.199-.64 1.61-.395.41-1.551 1.977-4.547 1.977-1.82 0-3.29-1.158-3.29-2.47 0-1.076.342-1.996.756-2.7.415-.705 1.118-1.562 1.118-2.384 0-.553-.562-1.334-.562-1.334l.11-.103s.568.652.568 1.425c0 .478-.088.772-.203 1.01-.115.237-1.439 2.269-1.439 3.708 0 .804.512 2.38 2.94 2.38 1.8 0 2.754-.547 3.87-1.375.635-.49 1.112-1.157 1.112-1.769 0-.61-.2-1.123-.633-1.728a17.442 17.442 0 0 0-1.303-1.642c-.575-.65-2.287-2.183-2.287-5.547 0-1.593 1.398-7.001 8.43-7.001 1.547 0 8.667 1.316 8.667 7.437 0 1.78-.983 4.029-2.497 5.277-1.515 1.248-3.727 2.691-4.254 4.23h.003Z",fill:"#101111"}),i.createElement("path",{d:"M19.585 26.438s-.559.158-.42.098c.212-.092.843-.539 1.204-.905.716-.728 5.784-4.99 5.784-8.49 0-3.252-2.208-5.332-2.208-5.332s-.326-.278-1.286-1.41c-.96-1.13-1.232-1.487-1.341-1.87-.207-.355-.2-1.491.513-1.988.712-.498.853-.449.853-.449l.018.17s-.994.426-1.286 1.332c-.06.298-.12.91.592 1.619l1.937 1.928s2.728 2.261 2.728 6.002c0 1.152-.669 2.998-1.752 4.228-1.083 1.229-3.566 3.887-5.335 5.067ZM19.082 9.328s-.616-1.32-.277-2.542c.336-1.03 1.29-1.346 2.423-1.474.177.036.198.12.198.12s-1.675.142-2.282 1.742c-.191.58.047 1.788.256 2.237.04.067-.318-.083-.318-.083ZM14.625 19.985c-.67-.52-1.672-.315-2.158.3-.54.686-.485 1.682.182 2.17.504.368 1.698.287 2.158-.3.605-.774.471-1.664-.182-2.17Zm-.01 2.018c-.409.522-1.463.58-1.92.266-.492-.338-.65-1.325-.165-1.933a1.43 1.43 0 0 1 1.016-.537c-.06.073-.096.126-.096.225 0 .238.201.432.452.432.25 0 .452-.157.452-.396 0-.02-.004-.04-.007-.058.036.023.072.04.106.068.575.46.702 1.243.164 1.933h-.002Z",fill:"#121313"}),i.createElement("path",{d:"M14.452 20.07c-.034-.027-.07-.045-.106-.068.003.02.007.038.007.058a.442.442 0 0 1-.452.432.442.442 0 0 1-.452-.432c0-.1.037-.19.097-.262a1.431 1.431 0 0 0-1.016.537c-.486.607-.328 1.594.163 1.933.458.315 1.512.256 1.921-.267.54-.688.412-1.472-.163-1.932Z",fill:"#fff"}),i.createElement("path",{d:"M17.796 20.463c-.67-.519-1.672-.315-2.158.3-.54.686-.486 1.682.182 2.17.504.368 1.698.287 2.158-.3.605-.773.471-1.664-.182-2.17Zm-.01 2.018c-.409.523-1.463.581-1.92.267-.492-.338-.65-1.325-.165-1.933.263-.33.638-.51 1.016-.538-.06.073-.096.126-.096.225 0 .24.201.433.452.433.25 0 .452-.157.452-.397a.31.31 0 0 0-.007-.058c.035.024.072.04.106.069.575.46.702 1.243.164 1.932h-.002Z",fill:"#121313"}),i.createElement("path",{d:"M17.623 20.549c-.034-.027-.07-.046-.106-.069.003.02.007.038.007.058a.442.442 0 0 1-.452.433.442.442 0 0 1-.453-.433c0-.099.037-.189.097-.262a1.43 1.43 0 0 0-1.016.538c-.485.606-.327 1.593.164 1.933.458.314 1.512.256 1.921-.267.54-.688.412-1.473-.163-1.933v.002Z",fill:"#fff"}),i.createElement("path",{d:"m1.188 18.105-.14-2.05s-.063-.258.24-.357l2.954-.97s.508-.108.92.031c.412.14 1.716.688 1.716.688s.318.106.318.45c0 .343-.023 1.655-.023 1.655s.002.517-.208.634c-.21.116-3.046 1.558-3.046 1.558s-.47.11-.761-.081c-.292-.192-1.683-1.01-1.683-1.01s-.286-.165-.286-.548h-.001Z",fill:"#151516"}),i.createElement("path",{d:"m1.29 16.3.095 1.761s.007.265.424.52 1.557.9 1.557.9.122.067.122-.237V17.58s.077-.36-.122-.437c-.2-.076-1.909-.93-1.909-.93s-.167-.15-.167.087v.001Z",fill:"#0F5983"}),i.createElement("path",{d:"M3.679 19.122v-1.586s-.043-.308.268-.42c.312-.113 2.653-1.103 2.653-1.103s.278-.13.278.188v1.348s-.005.26-.23.393-2.68 1.413-2.68 1.413-.288.091-.288-.234l-.001.001Z",fill:"#29B4FA"}),i.createElement("path",{d:"m1.632 16.003 1.824.935s.193.119.544-.028l2.548-1.062s.243-.135.019-.209c-.224-.073-1.699-.663-1.699-.663s-.363-.085-.646 0c-.282.086-2.452.788-2.452.788s-.409.097-.139.239h.001Z",fill:"#72CCFA"}),i.createElement("path",{d:"M3.252 19.219a.093.093 0 0 1-.035-.007l-.043-.017c-.056-.022-.1-.1-.103-.181l-.048-1.647c-.002-.054.016-.098.048-.121a.085.085 0 0 1 .083-.01l.044.018c.056.022.1.1.102.18l.049 1.648c.001.054-.016.098-.049.12a.088.088 0 0 1-.05.017h.002Zm.002-.098-.018.046.018-.046Zm-.131-1.79v.035l.048 1.646c.001.048.027.087.04.093l.041.016v-.035l-.048-1.646c-.002-.048-.027-.087-.04-.093l-.041-.016ZM2.874 18.996a.091.091 0 0 1-.035-.007l-.043-.017c-.057-.022-.1-.099-.103-.18l-.048-1.648c-.002-.054.016-.098.048-.12a.087.087 0 0 1 .084-.01l.044.017c.057.022.1.1.103.181l.048 1.647c.001.054-.016.098-.048.121a.085.085 0 0 1-.05.016Zm.002-.098-.018.047.018-.047Zm-.131-1.79v.035l.048 1.647c.002.048.027.086.04.092l.041.016v-.034l-.048-1.647c-.002-.047-.027-.086-.04-.092l-.041-.016ZM2.479 18.791a.093.093 0 0 1-.035-.007l-.044-.017c-.056-.022-.1-.1-.102-.181l-.049-1.647c-.001-.054.016-.098.049-.121a.088.088 0 0 1 .084-.01l.044.018c.056.022.1.1.102.181l.049 1.647c0 .054-.017.098-.049.121a.088.088 0 0 1-.05.016Zm0-.098-.017.046.019-.046H2.48Zm-.13-1.79s-.002.015 0 .034l.048 1.646c0 .048.026.087.04.093l.04.016s.002-.015 0-.035l-.048-1.646c-.001-.049-.027-.087-.04-.093l-.04-.016v.001ZM2.083 18.528a.083.083 0 0 1-.034-.007l-.044-.017c-.056-.022-.1-.098-.102-.178l-.047-1.615c-.002-.053.016-.096.048-.119a.09.09 0 0 1 .084-.01l.044.018c.056.022.1.098.103.179l.047 1.615c.001.053-.016.096-.047.12a.087.087 0 0 1-.05.015h-.002Zm0-.098-.016.046.018-.046h-.001Zm-.13-1.755v.032l.048 1.616c.001.046.026.084.039.089l.042.016v-.032l-.048-1.616c0-.046-.026-.084-.04-.089l-.04-.016ZM1.689 18.308a.112.112 0 0 1-.033-.006l-.044-.016c-.057-.02-.1-.097-.103-.175l-.046-1.592c-.001-.052.016-.094.047-.117a.09.09 0 0 1 .084-.01l.044.017c.057.02.1.097.103.176l.046 1.59c.001.052-.016.095-.047.118a.088.088 0 0 1-.051.016v-.001Zm.001-.098-.017.046.017-.046Zm-.128-1.726s-.002.013-.001.03l.046 1.592c.001.045.027.082.04.087l.04.016s.002-.014 0-.031l-.045-1.59c-.001-.046-.027-.082-.04-.088l-.041-.015.001-.001Z",fill:"#05446D"}),i.createElement("path",{d:"M27.797 23.567c-.609-.427-.915-.528-1.476-.528-.562 0-.783.43-.783.43s.655-.257 1.057-.257c.403 0 1.997.824 1.997 2.519 0 2.537-2.072 3.484-3.76 3.484-.318 0-.62-.012-.906-.032l.138.384c.25.028.493.044.715.044 2.015 0 3.077-1.054 3.51-1.6.432-.546.627-1.53.627-2.26 0-.73-.511-1.755-1.119-2.182v-.002ZM21.721 29.055l-.14-.308c-.953-.318-1.617-.754-2.077-1.172.01.031.031.078.082.14a.7.7 0 0 1 .126.303c.202.194.395.356.545.446.383.205.898.41 1.464.59v.002ZM18.556 26.265c-.054.097.007.281.134.503l.088-.057c-.163-.267-.222-.446-.222-.446Z",fill:"#101111"}),i.createElement("path",{d:"M14.745 26.62s-1.283 1.112-1.283 2.863c0 1.752.746 2.79.944 3.006.199.215 1.856 2.289 5.3 2.289 1.246 0 4.606-1.044 4.606-4.302 0-1.91-1.685-4.07-4.915-4.07-.889.041-1.468.728-1.468 1.233 0 .758.448 1.236 1.01 1.236.502 0 .832-.223.832-.817 0-.3-.243-.47-.305-.51-.06-.041.244.324.174.657-.07.332-.225.575-.684.575-.314 0-.946-.424-.824-1.117.084-.423.468-.928 1.242-1.02 1.36-.161 4.58.842 4.58 3.807 0 2.085-1.918 4.2-4.249 4.2-2.33 0-3.637-1.044-3.637-1.044s-2.234-1.82-2.234-4.1c0-1.07.141-1.893.9-2.872",fill:"#101111"}),i.createElement("path",{d:"M16.676 27.48s-.603.685-.603 1.879c0 1.193.87 3.106 2.775 3.106 1.257 0 2.966-.943 2.966-2.306 0-1.244-1.009-2.608-2.348-2.608-.03-.031.039-.07.123-.07.084 0 .914.007 1.677.666.762.658.972 1.305.972 1.984 0 .68-.16 1.305-.966 1.91-.804.606-1.34.862-2.424.862-1.082 0-2.037-.968-2.037-.968s-.926-.861-.926-2.396c0-.556.445-2.015.792-2.059h-.001Z",fill:"#101111"}),i.createElement("path",{d:"M18.415 30.296c-.693-.39-1.641-1.062-1.765-3.53 0 0-.51 2.51 1.336 3.827.705.527 1.494.8 3.409.908l.232-.325c-1.15-.157-2.377-.428-3.21-.88h-.002ZM30.925 26.408c0-1.16.041-4.812-4.253-4.812-1.461 0-2.69 1.295-2.69 2.25.075 0 .168-.087.168-.087s.101-.787.742-1.279c.644-.495.95-.643 1.78-.643.829 0 3.821.469 3.821 4.191 0 1.987-.957 3.526-2.393 4.219-1.176.567-2.323.96-4.002 1.026l-.082.285c3.882-.018 6.91-2.177 6.91-5.15h-.001Z",fill:"#101111"}),i.createElement("path",{d:"M1.154 16.142s-.531-.054-.834.496c-.302.55-.438 1.272-.196 1.943.243.671.742.9 1.254 1.08.512.18 2.163.665 2.163 1.57 0 .461-.7 1.583-1.057 2.134-.358.55-.969 2.015-.969 3.688 0 1.494 1.623 3.405 4.815 3.405 1.6 0 3.144-.46 5.008-1.509.225-.159.075-.561.075-.561s-2.11 1.577-5.094 1.577c-2.077 0-4.392-1.162-4.392-2.97 0-1.808.341-2.886.753-3.606.412-.72.977-1.48.977-2.172 0-.691-.672-1.34-1.172-1.544-.5-.204-1.33-.403-1.711-.665-.38-.262-.456-.932-.456-1.17 0-.24-.017-1.04.521-1.507.126-.083.315-.19.315-.19v.001Z",fill:"#090D0F"}),i.createElement("path",{d:"M14.986 25.233s-.326-.15-.865-.15c-.76 0-2.956 1.023-2.956 2.494 0 1.472 1.408 4.966-1.54 4.966-1.795 0-3.427-1.22-3.427-1.22s-1.388-1.07-2.743-1.07S.6 31.415.6 33.023c0 1.61 1.425 2.857 2.37 2.857.946 0 1.098-.688 1.098-.688s.236-.587-.122-.896c-.357-.31-1.204-.736-1.204-1.365 0-.628.714-.596.714-.596s.653-.04 1.387.596c.735.637 3.005 3.15 5.795 3.15 1.956 0 2.72-.841 3.055-1.329.334-.488.962-1.395.385-3.087-.64-1.877-1.737-3.677.66-5.03 0 .013-1.07.232-1.583 1.461-.305.774.042 1.925.259 2.784.216.859.678 2.42-.065 3.4-.566.747-1.373 1.312-2.689 1.312s-2.54-.564-2.54-.564-1.031-.377-1.876-1.088c-.844-.71-1.514-1.266-1.514-1.266s-.603-.485-1.345-.485c-.743 0-.924.505-.924.717 0 .212.11.672.429.9.32.229.588.435.712.585.125.15.244.443.081.7-.162.255-.27.41-.68.41-.41 0-.789-.244-1.062-.462-.274-.218-.75-.785-.87-1.259-.122-.474-.102-.756-.102-.756s.042-.642.33-1.116c.287-.474.957-1.278 2.157-1.278.489 0 1.017.175 1.798.645.78.47 1.788 1.112 1.788 1.112s.946.637 2.525.637c1.03 0 1.716-.38 2.127-.953.412-.573.314-1.603.064-3.066-.25-1.464-.414-1.933.436-2.837.792-.843 1.904-1.108 2.793-.935h-.002Z",fill:"#101111"}),i.createElement("path",{d:"m15.683 34.62.07 1.566s-.056.399.416.697c.473.299 3.518 2.317 3.518 2.317s.356.238.857-.061c.5-.299 2.348-1.413 2.348-1.413s.226-.142.251-.517c.026-.376.088-1.567.088-1.567s.031-.156-.247-.344c-.278-.188-4.065-1.85-4.065-1.85s-.375-.164-.782-.028c-.407.136-2.065.719-2.065.719s-.404.187-.391.48h.002Z",fill:"#0E1011"}),i.createElement("path",{d:"m16.254 34.515 3.683 1.967s.223.154.568 0 1.9-.988 1.9-.988.255-.083-.11-.253c-.366-.168-3.474-1.648-3.474-1.648s-.168-.137-.493-.044c-.326.094-2.037.673-2.037.673s-.412.092-.037.293Z",fill:"#72CCFA"}),i.createElement("path",{d:"m15.889 34.73.107 1.43s-.02.263.403.49c.424.225 3.472 2.299 3.472 2.299s.23.107.23-.282c0-.388-.025-1.511-.025-1.511s.034-.266-.186-.392l-3.766-2.121s-.235-.132-.235.086Z",fill:"#29B4FA"}),i.createElement("path",{d:"m20.334 38.667-.019-1.618s-.047-.23.196-.351c.245-.123 2.247-1.104 2.247-1.104s.18-.11.178.173c0 .284-.043 1.444-.043 1.444s-.03.177-.187.276l-2.143 1.323s-.23.154-.23-.142Z",fill:"#0F5983"}),i.createElement("path",{d:"M20.662 38.552a.099.099 0 0 1-.059-.019c-.031-.021-.048-.06-.048-.106l.002-1.5c0-.077.048-.152.113-.174l.05-.018a.11.11 0 0 1 .098.011c.03.022.048.061.048.106l-.002 1.5c0 .078-.049.153-.113.175l-.052.018a.11.11 0 0 1-.038.007Zm.1-1.725-.06.018c-.022.007-.047.045-.047.082l-.002 1.5c0 .015.004.025.007.027l.058-.019c.022-.008.048-.043.048-.081l.002-1.5c0-.016-.005-.025-.007-.027ZM21.152 38.196a.105.105 0 0 1-.061-.02.122.122 0 0 1-.046-.1l.007-1.37c0-.07.05-.142.114-.163l.052-.016a.109.109 0 0 1 .098.014.12.12 0 0 1 .046.098l-.007 1.37c0 .071-.05.143-.114.164l-.052.016a.139.139 0 0 1-.037.005v.002Zm.106-1.576-.062.018c-.022.007-.046.038-.046.07l-.007 1.37c0 .012.003.017.006.018l.062-.017c.022-.007.046-.038.046-.07l.007-1.37c0-.012-.003-.017-.006-.019ZM21.617 37.867a.102.102 0 0 1-.064-.02.11.11 0 0 1-.042-.094l.01-1.277c0-.068.052-.136.116-.155l.051-.017a.11.11 0 0 1 .1.015c.028.021.043.055.043.093l-.01 1.276a.172.172 0 0 1-.115.156l-.052.015a.127.127 0 0 1-.036.006l-.001.002Zm.107-1.468-.008.001-.05.016a.073.073 0 0 0-.047.063l-.01 1.276c0 .008.002.013.003.014h.013l.052-.015a.071.071 0 0 0 .046-.062l.01-1.277c0-.007 0-.011-.003-.014h-.005V36.4ZM22.079 37.606a.104.104 0 0 1-.064-.02.11.11 0 0 1-.042-.094l.01-1.276c0-.068.052-.136.115-.156l.052-.015a.114.114 0 0 1 .1.015.11.11 0 0 1 .042.093l-.01 1.277a.172.172 0 0 1-.116.156l-.051.015a.128.128 0 0 1-.036.005Zm.107-1.468s-.005 0-.008.002l-.052.015a.071.071 0 0 0-.046.062l-.01 1.276c0 .008.002.013.003.014h.013l.052-.016c.024-.007.045-.037.046-.062l.01-1.277c0-.008-.002-.012-.003-.014h-.005ZM22.517 37.368a.105.105 0 0 1-.064-.021.112.112 0 0 1-.042-.09l.012-1.235a.17.17 0 0 1 .116-.152l.052-.015a.113.113 0 0 1 .1.016c.027.02.043.053.042.09l-.012 1.236c0 .068-.05.133-.116.152l-.052.015a.126.126 0 0 1-.036.005v-.001Zm.106-1.421h-.004l-.052.015c-.023.007-.045.035-.045.059l-.012 1.235c.005.013.01.013.016.01l.052-.015a.072.072 0 0 0 .047-.059l.011-1.235c-.003-.009-.007-.011-.011-.011l-.002.001Z",fill:"#05446D"}),i.createElement("path",{d:"m26.434 23.134-2.906.688s-.415.01-.399.573c.016.563.084 1.738.084 1.738s.09.523.594.703c.506.18 2.19.925 2.19.925s.216.177.535.062c.321-.117 2.06-.803 2.06-.803s.4-.866.058-1.936c-.344-1.069-1.198-1.951-2.216-1.951v.001Z",fill:"#0E1011"}),i.createElement("path",{d:"M26.393 27.334V25.5s-.029-.267.182-.338c.211-.07 1.497-.52 1.497-.52s.17-.117.286.091c.115.208.233.612.233 1.03 0 .416-.107.86-.107.86s-.049.163-.19.216c-.143.053-1.706.662-1.706.662s-.194.126-.194-.167h-.001Z",fill:"#29B4FA"}),i.createElement("path",{d:"M26.213 25.537v1.701s.038.283-.093.232a316.13 316.13 0 0 1-2.387-1.063s-.222-.145-.24-.518c-.019-.374-.097-1.472-.097-1.472s-.016-.218.149-.133c.165.083 2.261.865 2.384.906.124.042.284.17.284.348Z",fill:"#0F5983"}),i.createElement("path",{d:"m23.634 24.12 2.262.8s.217.204.71.023a61.772 61.772 0 0 1 1.404-.483s.205-.046.086-.196c-.118-.15-.403-.57-1.246-.963-.199-.083-.474-.004-.67.049-.196.053-2.496.598-2.496.598s-.232.108-.05.172Z",fill:"#72CCFA"}),i.createElement("path",{d:"M18.993 3.577s.26-2.1.302-2.34c.043-.238.22-.387.647-.439.393-.048 2.573-.333 2.573-.333s.498-.127 1.034.16c.535.287 3.027 1.632 3.216 1.76.19.13.361.16.285.777a62.834 62.834 0 0 1-.296 1.984s.052.321-.344.433c-.395.112-3.171.827-3.171.827s-.354.135-.877-.164c-.522-.298-3.059-1.903-3.187-1.99-.128-.086-.25-.25-.18-.675h-.002Z",fill:"#121313"}),i.createElement("path",{d:"M26.793 4.271s.674-.355.674-1.293c0-.787-.564-2.747-2.032-2.747-1.216 0-1.55.75-1.55.75l-.179-.152S24.18 0 25.436 0c1.257 0 2.342 1.678 2.342 3.042 0 1.054-1.057 1.739-1.057 1.739l.074-.51-.002.001Z",fill:"#090D0F"}),i.createElement("path",{d:"m19.237 3.717.255-2.254s-.013-.27.174-.15c.186.118 3.172 1.948 3.172 1.948s.216.163.14.59c-.074.425-.223 1.98-.223 1.98s.018.224-.23.088c-.249-.136-3.19-1.876-3.19-1.876s-.127-.078-.098-.326Z",fill:"#29B4FA"}),i.createElement("path",{d:"m22.999 5.98.24-2.374s.048-.2.24-.227c.19-.028 3.228-.571 3.228-.571s.204-.014.15.314l-.338 1.98s-.075.219-.275.305c-.2.087-2.962.723-2.962.723s-.297.109-.286-.15H23Z",fill:"#0F5983"}),i.createElement("path",{d:"m19.976 1.162 3.052 1.894s.145.156.623.076c.477-.08 2.809-.497 2.809-.497s.148 0 .084-.066C26.479 2.504 23.39.857 23.39.857s-.26-.19-.8-.14c-.54.048-2.58.287-2.58.287s-.22.045-.035.16l.001-.002Z",fill:"#72CCFA"}),i.createElement("path",{d:"M25.869 27.127a.108.108 0 0 1-.033-.004l-.048-.015c-.061-.02-.11-.092-.114-.17l-.075-1.52c-.003-.048.014-.09.044-.113a.1.1 0 0 1 .09-.015l.048.015c.061.02.11.093.114.17l.075 1.521c.003.047-.014.089-.044.112a.097.097 0 0 1-.058.02Zm-.003-.099h.003s.004-.009.004-.029l-.075-1.52c-.002-.041-.028-.076-.046-.081l-.048-.015s-.007.008-.007.027l.075 1.521c.002.042.029.075.046.081l.048.015v.001ZM25.372 26.87a.099.099 0 0 1-.031-.004l-.049-.014c-.062-.019-.112-.088-.115-.162l-.07-1.42a.126.126 0 0 1 .043-.106.102.102 0 0 1 .091-.017l.049.014c.062.019.112.088.115.162l.07 1.42a.126.126 0 0 1-.043.107.095.095 0 0 1-.06.02Zm-.158-1.628s-.008.007-.008.023l.069 1.42c.001.034.025.067.045.072l.048.015h.004s.004-.008.004-.023l-.069-1.42c-.001-.034-.025-.066-.045-.072l-.048-.014v-.001ZM24.886 26.68a.096.096 0 0 1-.03-.005l-.05-.015c-.062-.018-.111-.087-.114-.161l-.07-1.42a.125.125 0 0 1 .043-.107.102.102 0 0 1 .091-.016l.049.015c.062.018.111.088.115.161l.069 1.421a.123.123 0 0 1-.043.106.095.095 0 0 1-.06.021Zm-.003-.1h.003s.006 0 .005-.022l-.07-1.42c0-.034-.025-.067-.044-.072l-.049-.015s-.008.007-.008.023l.07 1.42c0 .034.025.066.044.072l.049.014ZM24.404 26.475a.096.096 0 0 1-.031-.005l-.049-.014c-.062-.018-.112-.087-.115-.161l-.07-1.42a.125.125 0 0 1 .044-.107.102.102 0 0 1 .09-.016l.05.014c.061.018.11.087.114.161l.07 1.42a.126.126 0 0 1-.043.107.095.095 0 0 1-.06.02Zm-.158-1.629s-.008.007-.008.023l.07 1.421c0 .034.024.066.044.072l.049.014h.003s.005-.007.003-.024l-.069-1.42c0-.034-.025-.066-.045-.072l-.048-.014h.001ZM23.913 26.265a.085.085 0 0 1-.03-.005l-.048-.014c-.062-.017-.112-.085-.115-.158l-.068-1.381a.122.122 0 0 1 .041-.104.105.105 0 0 1 .092-.017l.049.014c.062.017.112.085.115.158l.068 1.381a.121.121 0 0 1-.041.104.098.098 0 0 1-.061.02l-.002.002Zm-.155-1.584s-.01.008-.008.021l.068 1.382c0 .032.025.063.043.068l.049.014h.005s.004-.007.003-.021l-.068-1.382c-.001-.032-.024-.063-.044-.068l-.048-.014ZM23.496 5.818h-.083a.162.162 0 0 1-.116-.056.17.17 0 0 1-.037-.132l.265-1.933a.198.198 0 0 1 .189-.168h.078a.162.162 0 0 1 .115.055.17.17 0 0 1 .037.134L23.68 5.65a.194.194 0 0 1-.185.168v-.001Zm.215-2.191c-.041 0-.081.038-.087.083l-.264 1.933a.073.073 0 0 0 .014.056c.01.013.025.019.042.02h.08c.043 0 .083-.036.089-.082l.264-1.933a.073.073 0 0 0-.014-.056.057.057 0 0 0-.043-.02h-.08v-.001ZM24.158 5.691h-.004l-.078-.002a.15.15 0 0 1-.116-.055.17.17 0 0 1-.036-.132l.264-1.933a.193.193 0 0 1 .185-.168h.004l.078.002c.045 0 .086.02.114.054a.17.17 0 0 1 .037.133l-.264 1.933a.193.193 0 0 1-.185.168Zm-.001-.098c.042 0 .083-.038.088-.083l.264-1.933a.069.069 0 0 0-.013-.055.058.058 0 0 0-.043-.02l-.078-.002h-.002c-.041 0-.082.038-.087.083l-.264 1.933a.069.069 0 0 0 .014.055c.01.013.025.018.042.02l.079.002ZM24.821 5.554h-.083a.162.162 0 0 1-.115-.056.171.171 0 0 1-.037-.133l.264-1.933a.193.193 0 0 1 .185-.169h.084a.162.162 0 0 1 .115.056.17.17 0 0 1 .037.134l-.264 1.932a.193.193 0 0 1-.186.169Zm.216-2.191c-.042 0-.082.038-.088.083l-.264 1.932a.073.073 0 0 0 .014.057c.01.013.025.018.042.02h.081c.042 0 .082-.036.088-.082l.264-1.933a.073.073 0 0 0-.014-.057.057.057 0 0 0-.043-.02h-.08ZM25.431 5.404h-.083a.162.162 0 0 1-.115-.056.17.17 0 0 1-.037-.132l.264-1.933a.194.194 0 0 1 .186-.168h.082a.162.162 0 0 1 .115.055.17.17 0 0 1 .037.133l-.264 1.932a.192.192 0 0 1-.185.169Zm.216-2.191c-.041 0-.082.038-.088.083l-.264 1.933a.072.072 0 0 0 .014.056c.01.013.025.018.043.02h.08c.04 0 .081-.036.087-.081l.264-1.933a.073.073 0 0 0-.014-.056.058.058 0 0 0-.042-.02h-.08v-.002ZM26.082 5.282h-.081a.162.162 0 0 1-.116-.056.17.17 0 0 1-.037-.132l.265-1.933a.194.194 0 0 1 .185-.169h.082a.162.162 0 0 1 .115.056.17.17 0 0 1 .037.132l-.264 1.933a.194.194 0 0 1-.186.169Zm.216-2.191c-.041 0-.082.038-.087.083l-.264 1.932a.073.073 0 0 0 .013.057c.01.012.026.018.043.02h.08c.041 0 .081-.036.087-.082l.264-1.933a.073.073 0 0 0-.014-.057.058.058 0 0 0-.042-.02h-.08Z",fill:"#05446D"}))),a||(a=i.createElement("defs",null,i.createElement("clipPath",{id:"docker-compose_svg__a"},i.createElement("path",{fill:"#fff",d:"M0 0h30.925v39.29H0z"})))))}},94822:function(e,t,n){"use strict";var r,a,i=n(95004);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M35.492 15.925c-.1-.085-.997-.782-2.925-.782a9.03 9.03 0 0 0-1.513.137c-.366-2.6-2.477-3.856-2.56-3.924l-.515-.306-.333.493a7.35 7.35 0 0 0-.913 2.175c-.35 1.478-.134 2.87.598 4.06-.881.509-2.31.628-2.61.645H1.116c-.615 0-1.114.51-1.114 1.138a17.526 17.526 0 0 0 1.03 6.2c.815 2.175 2.028 3.788 3.591 4.774 1.762 1.104 4.638 1.732 7.88 1.732 1.462 0 2.925-.136 4.371-.408a17.806 17.806 0 0 0 5.719-2.123 15.735 15.735 0 0 0 3.89-3.26c1.878-2.158 2.992-4.57 3.807-6.71h.332c2.045 0 3.308-.833 4.007-1.546a4.53 4.53 0 0 0 1.063-1.597l.15-.442-.349-.255v-.001Z",fill:"#0091E2"})),a||(a=i.createElement("path",{d:"M3.31 17.725h3.157c.15 0 .283-.119.283-.29V14.55a.283.283 0 0 0-.283-.289H3.31a.283.283 0 0 0-.283.289v2.887c.017.17.134.29.283.29ZM7.666 17.725h3.158c.15 0 .282-.119.282-.29V14.55a.283.283 0 0 0-.282-.289H7.666a.283.283 0 0 0-.283.289v2.887c.016.17.133.29.283.29ZM12.104 17.725h3.158c.15 0 .283-.119.283-.29V14.55a.283.283 0 0 0-.283-.289h-3.158a.283.283 0 0 0-.283.289v2.887c0 .17.117.29.283.29ZM16.475 17.725h3.159c.15 0 .282-.119.282-.29V14.55a.283.283 0 0 0-.282-.289h-3.159a.283.283 0 0 0-.283.289v2.887c0 .17.134.29.283.29ZM7.666 13.597h3.158c.15 0 .282-.136.282-.289v-2.887a.284.284 0 0 0-.282-.29H7.666a.284.284 0 0 0-.283.29v2.887c.016.153.133.29.283.29ZM12.104 13.597h3.158c.15 0 .283-.136.283-.289v-2.887a.284.284 0 0 0-.283-.29h-3.158a.283.283 0 0 0-.283.29v2.887c0 .153.117.29.283.29ZM16.475 13.597h3.159c.15 0 .282-.136.282-.289v-2.887a.295.295 0 0 0-.282-.29h-3.159a.283.283 0 0 0-.283.29v2.887c0 .153.134.29.283.29ZM16.475 9.453h3.159c.15 0 .282-.119.282-.29V6.277a.295.295 0 0 0-.282-.289h-3.159a.284.284 0 0 0-.283.29v2.887c0 .153.134.289.283.289ZM20.883 17.725h3.158c.15 0 .283-.119.283-.29V14.55a.283.283 0 0 0-.283-.289h-3.158a.283.283 0 0 0-.283.289v2.887c.016.17.133.29.283.29Z",fill:"#0091E2"})))}},60218:function(e,t,n){"use strict";var r,a,i=n(95004);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("g",{clipPath:"url(#ecr_svg__a)"},i.createElement("path",{d:"M13.345 33.243c7.37 0 13.346-5.976 13.346-13.347 0-7.372-5.975-13.348-13.346-13.348C5.975 6.548 0 12.524 0 19.896c0 7.371 5.975 13.347 13.345 13.347Z",fill:"#9F552B"}),i.createElement("path",{d:"M13.345 32.412c7.37 0 13.346-5.976 13.346-13.348 0-7.371-5.975-13.347-13.346-13.347C5.975 5.717 0 11.693 0 19.064c0 7.372 5.975 13.348 13.345 13.348Z",fill:"#F58536"}),i.createElement("path",{d:"M13.246 12.69a2.163 2.163 0 0 1-2.161-2.162c0-1.192.969-2.16 2.16-2.16 1.193 0 2.162.968 2.162 2.16a2.163 2.163 0 0 1-2.161 2.162Zm0-2.985a.824.824 0 1 0 0 1.647.824.824 0 0 0 0-1.647ZM13.246 20.617a1.553 1.553 0 0 1 0-3.104 1.553 1.553 0 0 1 0 3.104Zm0-2.149a.597.597 0 1 0 .002 1.195.597.597 0 0 0-.002-1.195Z",fill:"#fff"}),i.createElement("path",{d:"M12.379 17.274a1.961 1.961 0 0 1 1.731 0h.027l.601-4.617a2.588 2.588 0 0 1-2.979.008l.557 4.609h.063ZM11.188 19.064c0-.279.055-.544.157-.787l-3.997 1.2-2.402 3.568.656.619 2.839-2.695 3.628-.217a2.057 2.057 0 0 1-.88-1.686v-.002ZM19.123 19.475l-3.976-1.192a2.054 2.054 0 0 1-.728 2.469l3.61.216 2.84 2.694.655-.62-2.401-3.567Z",fill:"#fff"}),i.createElement("path",{d:"M10.432 23.56h-.738v5.015h.738V23.56Z",fill:"#FBBD90"}),i.createElement("path",{d:"M19.087 23.024H7.604v6.16h11.483v-6.16Z",fill:"#fff"}),i.createElement("path",{d:"M9.03 23.56h-.778v5.015h.778V23.56Z",fill:"#FBBD90"}),i.createElement("path",{d:"M8.934 23.656v4.823h-.587v-4.823h.587Zm.096-.095h-.778v5.014h.778V23.56Z",fill:"#FFAA71"}),i.createElement("path",{d:"M10.598 23.56H9.82v5.015h.778V23.56Z",fill:"#FBBD90"}),i.createElement("path",{d:"M10.502 23.656v4.823h-.586v-4.823h.586Zm.096-.095H9.82v5.014h.778V23.56Z",fill:"#FFAA71"}),i.createElement("path",{d:"M12.166 23.56h-.777v5.015h.777V23.56Z",fill:"#FBBD90"}),i.createElement("path",{d:"M12.07 23.656v4.823h-.586v-4.823h.587Zm.096-.095h-.777v5.014h.777V23.56Z",fill:"#FFAA71"}),i.createElement("path",{d:"M13.734 23.56h-.778v5.015h.778V23.56Z",fill:"#FBBD90"}),i.createElement("path",{d:"M13.638 23.656v4.823h-.586v-4.823h.586Zm.096-.095h-.778v5.014h.778V23.56Z",fill:"#FFAA71"}),i.createElement("path",{d:"M15.302 23.56h-.778v5.015h.778V23.56Z",fill:"#FBBD90"}),i.createElement("path",{d:"M15.207 23.656v4.823h-.587v-4.823h.587Zm.095-.095h-.778v5.014h.778V23.56Z",fill:"#FFAA71"}),i.createElement("path",{d:"M16.87 23.56h-.777v5.015h.777V23.56Z",fill:"#FBBD90"}),i.createElement("path",{d:"M16.775 23.656v4.823h-.587v-4.823h.587Zm.095-.095h-.777v5.014h.777V23.56Z",fill:"#FFAA71"}),i.createElement("path",{d:"M18.439 23.56h-.778v5.015h.778V23.56Z",fill:"#FBBD90"}),i.createElement("path",{d:"M18.343 23.656v4.823h-.586v-4.823h.586Zm.096-.095h-.778v5.014h.778V23.56Z",fill:"#FFAA71"}))),a||(a=i.createElement("defs",null,i.createElement("clipPath",{id:"ecr_svg__a"},i.createElement("path",{fill:"#fff",transform:"translate(0 5.717)",d:"M0 0h26.691v27.526H0z"})))))}},31352:function(e,t,n){"use strict";var r,a=n(95004);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M512 0C229.12 0 0 229.12 0 512c0 226.56 146.56 417.92 350.08 485.76 25.6 4.48 35.2-10.88 35.2-24.32 0-12.16-.64-52.48-.64-95.36-128.64 23.68-161.92-31.36-172.16-60.16-5.76-14.72-30.72-60.16-52.48-72.32-17.92-9.6-43.52-33.28-.64-33.92 40.32-.64 69.12 37.12 78.72 52.48 46.08 77.44 119.68 55.68 149.12 42.24 4.48-33.28 17.92-55.68 32.64-68.48-113.92-12.8-232.96-56.96-232.96-252.8 0-55.68 19.84-101.76 52.48-137.6-5.12-12.8-23.04-65.28 5.12-135.68 0 0 42.88-13.44 140.8 52.48 40.96-11.52 84.48-17.28 128-17.28 43.52 0 87.04 5.76 128 17.28 97.92-66.56 140.8-52.48 140.8-52.48 28.16 70.4 10.24 122.88 5.12 135.68 32.64 35.84 52.48 81.28 52.48 137.6 0 196.48-119.68 240-233.6 252.8 18.56 16 34.56 46.72 34.56 94.72 0 68.48-.64 123.52-.64 140.8 0 13.44 9.6 29.44 35.2 24.32C877.44 929.92 1024 737.92 1024 512 1024 229.12 794.88 0 512 0Z",fill:"#1B1F23"})))}},79309:function(e,t,n){"use strict";var r,a,i,s,o,l,c,d=n(95004);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}t.Z=function(e){return d.createElement("svg",u({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=d.createElement("path",{d:"m13.8 32.71 5.08-15.638H8.719l5.081 15.638Z",fill:"#E24329"})),a||(a=d.createElement("path",{d:"M13.8 32.71 8.718 17.072H1.597L13.799 32.71Z",fill:"#FC6D26"})),i||(i=d.createElement("path",{d:"M1.596 17.072.052 21.824c-.141.434.013.909.382 1.176l13.365 9.71L1.596 17.072Z",fill:"#FCA326"})),s||(s=d.createElement("path",{d:"M1.597 17.072h7.121l-3.06-9.418a.526.526 0 0 0-1 0l-3.061 9.418Z",fill:"#E24329"})),o||(o=d.createElement("path",{d:"m13.8 32.71 5.082-15.638h7.122L13.8 32.71Z",fill:"#FC6D26"})),l||(l=d.createElement("path",{d:"m26.004 17.072 1.544 4.752c.14.434-.014.909-.382 1.176L13.8 32.71l12.203-15.638Z",fill:"#FCA326"})),c||(c=d.createElement("path",{d:"M26.002 17.072h-7.121l3.06-9.418a.526.526 0 0 1 1 0l3.061 9.418Z",fill:"#E24329"})))}},31821:function(e,t,n){"use strict";var r,a,i,s,o=n(95004);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",l({viewBox:"0 0 24 24",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fill:"#4285F4",d:"M23.745 12.27c0-.79-.07-1.54-.19-2.27h-11.3v4.51h6.47c-.29 1.48-1.14 2.73-2.4 3.58v3h3.86c2.26-2.09 3.56-5.17 3.56-8.82Z"})),a||(a=o.createElement("path",{fill:"#34A853",d:"M12.255 24c3.24 0 5.95-1.08 7.93-2.91l-3.86-3c-1.08.72-2.45 1.16-4.07 1.16-3.13 0-5.78-2.11-6.73-4.96h-3.98v3.09C3.515 21.3 7.565 24 12.255 24Z"})),i||(i=o.createElement("path",{fill:"#FBBC05",d:"M5.525 14.29c-.25-.72-.38-1.49-.38-2.29s.14-1.57.38-2.29V6.62h-3.98a11.86 11.86 0 0 0 0 10.76l3.98-3.09Z"})),s||(s=o.createElement("path",{fill:"#EA4335",d:"M12.255 4.75c1.77 0 3.35.61 4.6 1.8l3.42-3.42C18.205 1.19 15.495 0 12.255 0c-4.69 0-8.74 2.7-10.71 6.62l3.98 3.09c.95-2.85 3.6-4.96 6.73-4.96Z"})))}},82732:function(e,t,n){"use strict";var r,a,i=n(95004);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("g",{clipPath:"url(#helm_svg__a)"},i.createElement("path",{d:"M2.034 12.08h19.932M4.059 7.913A9.317 9.317 0 0 1 5.437 6.11m0 0a9.253 9.253 0 0 1 6.635-2.792c2.561 0 4.88 1.037 6.559 2.714M5.437 6.11 3.87 4.542M5.437 6.11l.009.008m13.185-.086a9.32 9.32 0 0 1 1.455 1.881M18.63 6.032l1.556-1.557M18.63 6.032l-.007.006m-6.63-4.993v2.273m7.975 12.751a9.315 9.315 0 0 1-1.378 1.803m0 0a9.253 9.253 0 0 1-6.635 2.792 9.252 9.252 0 0 1-6.559-2.713m13.194-.079 1.567 1.568m-1.567-1.568-.009-.008m-13.185.087a9.318 9.318 0 0 1-1.455-1.882m1.455 1.882-1.556 1.556m1.556-1.556.007-.007m6.63 4.993v-2.273",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}))),a||(a=i.createElement("defs",null,i.createElement("clipPath",{id:"helm_svg__a"},i.createElement("path",{fill:"#fff",transform:"rotate(90 12 12)",d:"M0 0h24v24H0z"})))))}},74808:function(e,t,n){"use strict";var r,a,i,s=n(95004);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return s.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=s.createElement("path",{d:"M13.849 32.493c-1.69 0-3.381-.014-5.07.007-.769.008-1.361-.264-1.843-.869C4.798 28.95 2.648 26.28.498 23.606c-.431-.536-.6-1.107-.436-1.809.79-3.376 1.55-6.76 2.322-10.142.154-.678.546-1.143 1.18-1.444a1799.08 1799.08 0 0 0 9.357-4.484c.652-.315 1.273-.295 1.92.015 3.096 1.493 6.195 2.983 9.3 4.457.658.312 1.057.789 1.217 1.488.77 3.383 1.536 6.766 2.32 10.145.15.648.014 1.196-.39 1.699-2.172 2.708-4.345 5.416-6.51 8.13-.467.587-1.055.843-1.794.837-1.71-.013-3.422-.004-5.133-.004l-.003-.001Zm-.435-21.608c.03.872-.075 1.005-.876 1.163-1.42.28-2.704.863-3.745 1.885-.392.386-.723.304-1.072.055-.27-.191-.487-.456-.73-.685-.166-.155-.322-.335-.512-.454-.28-.174-.572-.149-.776.132-.185.253-.139.526.07.743.143.147.326.257.5.371.259.174.537.321.787.509.507.381.554.64.253 1.185a7.636 7.636 0 0 0-.955 4.038c.027.783-.202 1.03-.988 1.12-.352.04-.707.061-1.056.12-.395.067-.675.287-.59.728.082.426.427.49.78.404.383-.095.748-.255 1.125-.371.772-.237 1.032-.112 1.356.626a7.471 7.471 0 0 0 2.582 3.164c.495.351.575.652.289 1.204-.134.257-.308.497-.461.746-.098.16-.2.318-.286.484-.172.332-.098.622.208.819.341.219.635.049.787-.25.206-.406.325-.855.49-1.282.264-.686.54-.823 1.218-.633a7.583 7.583 0 0 0 4.134.007c.672-.187.92-.075 1.186.588.155.387.252.798.425 1.177.155.343.416.621.837.398.391-.208.406-.559.205-.914-.196-.345-.434-.666-.63-1.01-.383-.679-.328-.91.29-1.364a7.518 7.518 0 0 0 2.56-3.26c.253-.615.494-.737 1.143-.545.399.118.781.293 1.183.394.359.091.729.078.868-.372.112-.366-.134-.667-.63-.749-.39-.065-.789-.074-1.18-.134-.624-.097-.852-.372-.826-.99.063-1.48-.252-2.866-.98-4.156-.277-.494-.233-.788.224-1.147.262-.205.56-.36.838-.543.172-.115.357-.223.5-.37.21-.216.254-.484.07-.743-.188-.266-.468-.29-.726-.162-.198.099-.36.279-.527.434-.228.214-.432.456-.67.657-.474.4-.76.392-1.21-.008a7.752 7.752 0 0 0-3.83-1.862c-.582-.107-.759-.297-.735-.898.016-.416.092-.83.129-1.245.045-.486-.227-.88-.594-.879-.367.002-.638.395-.59.882.034.332.09.661.139.993h-.003.002Z",fill:"#326CE4"})),a||(a=s.createElement("path",{d:"M13.413 10.885c-.046-.332-.104-.66-.138-.993-.049-.487.222-.88.59-.882.367-.001.639.393.594.879-.04.417-.115.83-.13 1.246-.022.6.153.79.735.897a7.741 7.741 0 0 1 3.83 1.862c.45.4.736.409 1.21.008.239-.2.443-.443.67-.657.167-.155.33-.336.527-.434.258-.128.54-.104.727.162.183.259.139.526-.071.742-.143.148-.327.255-.5.37-.277.185-.576.34-.838.544-.457.359-.501.654-.223 1.147.727 1.29 1.042 2.677.98 4.156-.027.617.202.892.825.99.392.06.79.07 1.18.134.497.083.744.383.63.75-.139.45-.509.462-.868.371-.401-.1-.785-.275-1.182-.394-.65-.192-.89-.07-1.144.545a7.518 7.518 0 0 1-2.56 3.26c-.618.453-.674.684-.29 1.363.196.345.433.666.63 1.01.202.357.187.707-.204.915-.421.223-.682-.056-.838-.398-.172-.377-.269-.79-.425-1.177-.267-.663-.513-.775-1.185-.588a7.576 7.576 0 0 1-4.134-.007c-.68-.189-.955-.051-1.218.633-.165.428-.285.877-.49 1.283-.15.298-.446.468-.787.249-.306-.196-.379-.487-.208-.819.086-.166.186-.324.285-.484.153-.25.326-.487.461-.746.287-.552.207-.853-.288-1.204a7.472 7.472 0 0 1-2.583-3.164c-.323-.739-.584-.862-1.356-.626-.377.116-.742.275-1.124.372-.353.087-.697.022-.78-.405-.086-.441.195-.66.59-.727.347-.06.703-.081 1.056-.121.787-.088 1.015-.337.987-1.12a7.637 7.637 0 0 1 .955-4.038c.301-.545.255-.804-.253-1.185-.25-.188-.528-.335-.787-.508-.173-.115-.356-.224-.5-.372-.208-.217-.255-.49-.07-.743.206-.28.498-.306.776-.132.19.12.346.297.513.454.243.23.46.494.73.685.349.249.679.331 1.072-.055 1.039-1.022 2.322-1.606 3.745-1.885.8-.157.905-.291.876-1.163h.002-.002Zm-.328 3.414h.034c0-.166-.009-.335.002-.5.015-.23-.07-.284-.293-.24a6.313 6.313 0 0 0-2.9 1.38c-.235.196-.189.307.038.462.67.46 1.324.944 1.994 1.404.605.416.977.232 1.025-.501.042-.667.067-1.336.1-2.005Zm-5.206 5.033c-.005.516.219.708.673.576.697-.202 1.399-.394 2.091-.61.635-.197.732-.591.248-1.049-.589-.558-1.217-1.076-1.802-1.641-.31-.301-.423-.151-.566.139a6.455 6.455 0 0 0-.644 2.584v.001Zm5.968 6.131c.545.015 1.074-.082 1.6-.213.215-.054.353-.088.198-.358-.444-.778-.85-1.578-1.31-2.347-.256-.43-.687-.426-.94.006-.454.773-.867 1.568-1.305 2.35-.114.204-.067.278.158.335.527.132 1.054.236 1.6.227v.001h-.001Zm6.009-6.113c-.049-.84-.229-1.711-.63-2.53-.162-.333-.346-.446-.66-.15-.562.526-1.152 1.026-1.713 1.555-.504.474-.399.87.278 1.074.696.212 1.396.407 2.094.608.64.185.643.184.63-.557Zm-3.068 1.703c-.902.04-1.014.21-.709.964.29.717.598 1.426.879 2.146.095.244.172.364.432.168.886-.67 1.565-1.5 1.992-2.53.053-.127.15-.297-.091-.34-.861-.146-1.725-.28-2.504-.408Zm-2.17-6.828h.02c.035.686.068 1.372.107 2.06.042.739.408.934 1.008.523.65-.447 1.272-.935 1.936-1.36.354-.229.275-.355.01-.572a6.244 6.244 0 0 0-2.725-1.294c-.358-.074-.392.048-.36.332.01.103 0 .207 0 .312h.004v-.001Zm-2.771 7.327c-.098-.212-.086-.491-.453-.478-.923.034-1.823.235-2.733.361-.32.044-.386.183-.26.46a6.1 6.1 0 0 0 1.935 2.412c.22.164.333.167.438-.128.19-.528.428-1.04.642-1.56.143-.345.28-.694.43-1.065v-.002Zm2.051-2.89c-.64-.002-1.016.252-1.03.696-.019.532.499 1.13.988 1.14.465.01.997-.554 1-1.06.003-.47-.372-.776-.958-.778v.002Z",fill:"#FDFDFE"})),i||(i=s.createElement("path",{d:"M13.086 14.3c-.032.667-.057 1.336-.1 2.004-.048.734-.42.917-1.024.501-.67-.46-1.324-.945-1.994-1.404-.227-.156-.272-.266-.039-.463a6.32 6.32 0 0 1 2.901-1.38c.224-.043.308.012.293.24-.011.166-.003.335-.003.502h-.034v-.001ZM7.88 19.332c.038-.86.233-1.747.645-2.584.143-.29.256-.441.567-.139.583.565 1.213 1.08 1.802 1.641.483.46.386.853-.248 1.05-.693.215-1.394.406-2.091.61-.454.131-.678-.06-.673-.577l-.001-.001ZM13.85 25.462c-.545.01-1.073-.096-1.6-.228-.225-.057-.27-.131-.157-.335.437-.781.85-1.578 1.304-2.35.253-.432.685-.437.941-.006.459.768.866 1.569 1.31 2.347.154.269.014.303-.198.357-.527.133-1.055.23-1.601.214ZM19.856 19.35c.013.74.01.744-.63.557-.697-.202-1.398-.397-2.094-.608-.676-.205-.781-.598-.278-1.074.562-.529 1.15-1.029 1.713-1.556.315-.294.498-.183.66.15.402.82.58 1.692.63 2.531ZM16.79 21.052c.778.126 1.642.262 2.504.41.24.04.143.21.091.339-.428 1.03-1.106 1.862-1.992 2.53-.26.196-.337.075-.432-.169-.28-.72-.588-1.43-.878-2.145-.306-.754-.193-.924.708-.964v-.001ZM14.62 14.224c0-.105.01-.21-.002-.313-.03-.283.003-.404.361-.33 1.02.21 1.919.638 2.724 1.293.266.217.346.343-.01.571-.663.427-1.285.914-1.936 1.36-.599.412-.966.217-1.008-.523-.038-.686-.07-1.373-.106-2.06h-.024v.002ZM11.846 21.55c-.15.372-.287.72-.43 1.066-.214.52-.45 1.03-.641 1.56-.105.294-.22.293-.439.128A6.113 6.113 0 0 1 8.4 21.892c-.126-.278-.06-.417.261-.46.91-.125 1.81-.328 2.733-.362.368-.014.355.267.453.479v.001ZM13.899 18.66c.585.001.961.305.959.777-.004.507-.535 1.07-1 1.06-.489-.011-1.007-.608-.99-1.14.015-.443.393-.699 1.032-.696l-.002-.002h.001Z",fill:"#326CE4"})))}},80257:function(e,t,n){"use strict";var r,a,i,s,o=n(95004);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",l({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M11.246 7.461H0v11.247h11.246V7.46Z",fill:"#F35325"})),a||(a=o.createElement("path",{d:"M23.703 7.461H12.457v11.247h11.246V7.46Z",fill:"#81BC06"})),i||(i=o.createElement("path",{d:"M11.246 19.919H0v11.246h11.246V19.92Z",fill:"#05A6F0"})),s||(s=o.createElement("path",{d:"M23.703 19.919H12.457v11.246h11.246V19.92Z",fill:"#FFBA08"})))}},70003:function(e,t,n){"use strict";var r=n(95004);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.Z=function(e){return r.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 744.09 1052.4",width:"1em",height:"1em"},e),r.createElement("defs",null,r.createElement("linearGradient",{id:"openldap_svg__e",y2:129.23,gradientUnits:"userSpaceOnUse",x2:89.429,gradientTransform:"translate(244.83 -81.693) scale(1.9236)",y1:129.23,x1:80.916},r.createElement("stop",{style:{stopColor:"#60c"},offset:0}),r.createElement("stop",{style:{stopColor:"#60c",stopOpacity:0},offset:1})),r.createElement("linearGradient",{id:"openldap_svg__d",y2:129.23,gradientUnits:"userSpaceOnUse",x2:89.429,gradientTransform:"translate(216.56 -73.967) scale(1.9236)",y1:129.23,x1:80.916},r.createElement("stop",{style:{stopColor:"#60c"},offset:0}),r.createElement("stop",{style:{stopColor:"#60c",stopOpacity:0},offset:1})),r.createElement("linearGradient",{id:"openldap_svg__b",y2:465.09,gradientUnits:"userSpaceOnUse",x2:77.015,gradientTransform:"translate(267.18 -40.495) scale(1.9236)",y1:384.81,x1:8.535},r.createElement("stop",{style:{stopColor:"#6d5744"},offset:0}),r.createElement("stop",{style:{stopColor:"#6d5744",stopOpacity:0},offset:1})),r.createElement("linearGradient",{id:"openldap_svg__a",y2:197.66,gradientUnits:"userSpaceOnUse",x2:100.23,gradientTransform:"translate(267.18 -40.495) scale(1.9236)",y1:163.64,x1:-41.915},r.createElement("stop",{style:{stopColor:"#6d5744"},offset:0}),r.createElement("stop",{style:{stopColor:"#6d5744",stopOpacity:0},offset:1})),r.createElement("linearGradient",{id:"openldap_svg__c",y2:202.05,gradientUnits:"userSpaceOnUse",x2:416.51,y1:220.22,x1:420.17},r.createElement("stop",{style:{stopColor:"#212121"},offset:0}),r.createElement("stop",{style:{stopColor:"#212121",stopOpacity:0},offset:1}))),r.createElement("path",{d:"M416.93 357.28c-13.927 2.158-29.996 7.106-40.074 15.502 4.966 23.732 26.302-3.863 41.709 1.114 19.575-1.994 11.267-20.953-1.636-16.616zM405.02 320.44c-14.087-.44-30.791 1.47-42.241 7.87.518 24.24 26.564 1.039 40.793 8.764 19.608 1.639 14.927-18.525 1.447-16.634zM445.25 394.59c-13.87 2.5-29.812 7.842-39.68 16.484 5.548 23.602 26.199-4.51 41.724.087 19.52-2.475 10.748-21.224-2.044-16.57zM469.88 440.79c-14.484-5.122-45.334 19.408-19.277 22.574 8.32-8.557 21.103-5.338 32.541-7.27 13.791-10.401-3.588-17.608-13.264-15.303zM511.36 603.7c-19.378 6.19.023 20.385 12.165 15.99 8.792.11 17.767-.418 26.333.712 14.807-8.3-3.011-20.33-13.628-16.702h-24.87zM543.52 678c-16.558-7.786-30.682 18.894-7.972 16.243 11.17-3.076 30.464 6.068 35.019-8.248-1.659-13.088-18.785-5.98-27.047-7.995zM510.94 752.36c-23.064 11.227 20.121 24.639 19.417 29.155 5.015 8.059 5.422 11.558 9.593 13.687 18.953 4.068 9.72-18.678.806-25.048-8.268-8.393-17.81-15.759-29.816-17.794zM536.13 790.23l.06.24zM458.58 832.25c-21.038 7.37 4.813 20.578 14.908 23.685-2.962 12.592 14.925 29.912 18.094 9.738 1.794-20.17-15.98-29.587-33.002-33.423z",style:{stroke:"#816647",strokeWidth:2.5007,fill:"#ff9"}}),r.createElement("g",{style:{stroke:"#015a01"}},r.createElement("path",{d:"M155.98 488.01a31.122 36.497 0 1 1-1.22-64.48",style:{stroke:"#015a01",strokeWidth:.9,fill:"#6c3"},transform:"translate(-39.643 -60.964) scale(1.9236)"}),r.createElement("path",{d:"M135.8 445.27a33.986 36.899 0 1 1 9.737 39.546",style:{stroke:"#015a01",strokeWidth:.88405,fill:"#6c3"},transform:"rotate(-10.219 -127.089 1148.416) scale(1.95832)"}),r.createElement("path",{d:"M167.9 478.33a43.697 33.986 0 1 1 38.346 11.559",style:{stroke:"#015a01",strokeWidth:.84894,fill:"#6c3"},transform:"matrix(1.86568 .99923 -1.08995 1.6453 463.551 -138.373)"}),r.createElement("path",{d:"M205.36 406.05a50.381 30.214 0 1 1 75.368 24.902",style:{stroke:"#015a01",strokeWidth:.86545,fill:"#6c3"},transform:"matrix(1.82128 .74478 -.71166 1.9061 206.257 -166.5)"}),r.createElement("path",{d:"M221.38 425.53a50.381 28.411 0 1 1 67.773.438",style:{stroke:"#015a01",strokeWidth:.82037,fill:"#6c3"},transform:"matrix(1.99535 .47632 -.45534 2.12327 90.042 -217.313)"}),r.createElement("path",{d:"M206.04 409.53a50.381 28.411 0 1 1 86.24 14.733",style:{stroke:"#015a01",strokeWidth:.77966,fill:"#6c3"},transform:"matrix(2.0465 0 0 2.4093 -88.464 -261.585)"}),r.createElement("path",{d:"M225.39 392a46.972 26.895 0 1 1 62.784-15.176",style:{stroke:"#015a01",strokeWidth:.806,fill:"#6c3"},transform:"matrix(2.1562 0 0 2.1396 -89.484 -106.989)"}),r.createElement("path",{d:"M157.51 375.64c4.938-9.01 1.653-17.354-7.625-24.469 6.077-17.646-8.654-60.144-35.031-91.812-1.38-1.658-3.293-2.985-5.625-4-6.188-22.424-26.148-28.54-43.875-23.594-23.792 6.64-44.719 13.087-44.719 29.25 0 8.436 5.46 16.034 14.188 21.375-.31.68-.594 1.362-.844 2.063-6.48 27.8 16.103 65.353 26.031 76.75.145.166.293.308.438.468-5.575 13.415 6.61 27.527 29.75 32.97",style:{stroke:"#015a01",strokeWidth:.9,fill:"#6c3"},transform:"translate(215.33 -72.118) scale(1.9236)"}),r.createElement("path",{d:"M165.1 192.18a35.714 25.423 0 1 1 60.364-7.458",style:{stroke:"#015a01",strokeWidth:.75961,fill:"#6c3"},transform:"rotate(-7.122 141.565 1368.623) scale(2.27916)"}),r.createElement("path",{d:"M165.18 192.64a35.714 26.026 0 1 1 58.892-5.404",style:{stroke:"#015a01",strokeWidth:.75961,fill:"#6c3"},transform:"matrix(2.279 0 0 2.279 -132.014 -86.976)"}),r.createElement("path",{d:"M178.08 200.01a35.714 26.582 0 1 1 43.239-9.101",style:{stroke:"#015a01",strokeWidth:.75961,fill:"#6c3"},transform:"matrix(2.279 0 0 2.279 -127.205 -135.85)"}),r.createElement("path",{d:"M194.64 164.22a50.528 44.244 0 1 1 42.772 22.373",style:{stroke:"#015a01",strokeWidth:.9,fill:"#6c3"},transform:"rotate(-25.365 260.383 483.741) scale(1.9236)"})),r.createElement("path",{d:"M345.16 123.48c-18.445 2.416-36.231 9.639-51.157 20.739 3.67 10.439 8.552 19.439 7.764 31.245 6.17 3.425 6.974.76 8.707 8.67-5.472 1.348 12.146 3.992 16.65 3.197 12.842-6.387 1.965-24.003 5.472-35.177-1.157-12.639 4.178-18.613 12.564-28.674zm-11.662 17.072c-1.079 1.83 2.06.045 0 0zm-54.47 17.26c-14.103 14.686-23.007 34.328-24.586 54.643 5.548 6.701 10.064 14.055 23.745 12.744 12.83-.612 25.13 13.586 38.054 3.77.558-10.675-11.82-20.203-21.377-24.201-10.807-5.478-9.337-17.826-11.324-24.49-4.484-7.632-1.208-4.536-4.03-14.411-.42-2.662-.528-5.365-.481-8.056zm-39.194 77.006c-12.088 13.667-14.622 34.874-6.492 51.157-8.447 11.861-13.275 28.947-6.387 42.527 8.684 9.376 15.535 18.781 23.923 27.836 5.148 4.231 29.949 1.327 22.899-9.392 3.62-9.74 11.573-4.67 20.46-5.546-.882-6.944-13.13-21.402-3.727-21.28-5.308-.467-10.441.912-16.634-.663-2.316 1.179-11.748 3.965-16.789 7.156-2.813-4.37-9.528-9.026-14.006-13.285 6.329-6.942 12.568-11.394 18.635-22.362-1.418-11.027 1.41-23.937-4.952-34.526-4.39-7.982-9.538-16.258-16.93-21.62zm21.04 29.576c-2.579 2.068 2.648 1.222 0 0zm33.063 1.262c-7.962 8.595-13.598-.637-22.603 6.853-7.391 6.563-7.957 18.171.767 23.49 4.06 2.449 8.14 13.005 11.977 4.824 3.508-.209 6.1-.73 12.383-6.252 8.126-2.643 16.85-9.205 7.935-11.722-1.73 2.567-1.673-1.994-4.267-3.908-2.254 2.354-1.054-11.239-6.192-13.285zm9.678 15.15c-4.602 4.341 3.15 1.218 0 0zm-11.963 20.438c6.236 3.03 17.23-.028 4.42.286-1.482.204-2.946-.174-4.42-.286zm12.203.481c-.595 3.29 1.896.633 0 0zm-56.026 14.908c-.85.904 1.544.19 0 0zm43.703 3.487c-2.573 1.483 1.96-.001 0 0zm.421.12c-.561.637 1.28.297 0 0zm-13.646 20.92c-1.301.21.812 1.138 0 0zm3.907.42c-3.404 3.408 4.722.294 0 0zm-38.713 20.139c-16.799 2.284-10.957 31.496 2.805 33.354 5.64 9.286 19.757 13.694 24.547 24.655 12.72 4.112 22.56-7.895 20.44-20.018 8.73 1.284 22.706-6.826 20.378-18.335-11.926-.224-22.746-2.603-33.62 2.757-15.887 2.693-25.953-11.899-34.549-22.415zm45.025 14.968c-2.295 3.054 1.946 1.48 0 0zm-.781 1.503c-1.04-3.208-2.889 3.588 0 0zm2.645-1.503c-3.15 1.919 5.565.92 0 0zm.842 1.683c-1.517 1.519 3.67.686 0 0zm22.362 4.268c-2.081 2.173 2.8 3.946 0 0zm1.923 42.44c-1.06 2.522 4.023 2.282 0 0zm-60.835.481c-3.129 19.345 11.046 36.912 26.69 46.468-7.272 14.968 24.864 4.591 22.53-7.431-3.52-4.406-3.597-8.426-6.66-12.226 10.34.225 18.674-.723 29.335-7.574 10.545-.483-9.431-19.033-14.573-17.474-7.491 6.703-18.908 3.173-26.725 11.463-8.885-6.562-19.78-11.221-30.598-13.225zm50.616 27.232c-2.016.842 3.15 1.795 0 0zm-.781 8.236c-5.884 2.548 3.093 1.194 0 0z",style:{fill:"url(#openldap_svg__a)"}}),r.createElement("path",{d:"M376.06 624.62c-5.876 3.042-21.757 3.705-21.12 7.535 6.706 3.036-9.727 2.31-3.046-1.524-6.055 3.63-4.387-1.105-6.973 4.509-4.344-.588-1.79-8.583-9.235-2.745-12.237 6.275-3.708 20.152 2.654 27.602 2.665 6.133 15.762-6.604 17.04 4.539 8.022-2.48 15.796-2.173 24.888-5.53 7.495-.574 12.594 10.91 15.569 5.95 7.221-1.065 4.553 7.088 9.323.252 5.226-7.084 10.894-21.606 4.856-21.06-2.713-2.06-4.296-9.432.008-2.996 4.307-2.722.144-4.5 6.852-4.492 4.604-4.489-10.706 2.535-3.846-2.481-8.94.797 7.612-4.563-4.702-3.546-8.26-1.493-26.336 1.196-28.377-1.918 6.607-4.343-4.686 1.95-3.89-4.095zm-30.177 6.853c-.382-2.596-2.783-.59 0 0zm38.413-5.35c-5.547 4.11 3.66 3.36 0 0zm-35.167 3.246c-5.571 2.012 3.462 2.668 0 0zm-4.508 2.044c-3.596 1.388 5.346 4.043 0 0zm-1.684.54c-.852 1.16.955 2.003 0 0zm69.792 10.28c-3.374 1.08 2.565 1.766 0 0zm.782 12.444 4.93 12.444c-1.211-4.275-1.661-9.11-4.93-12.444zm-65.764 27.592c-5.276 5.044-13.384 8.078-14.41 16.23-5.04 9.286.73 20.869 9.09 22.718 4.203 9.595 17.532 7.67 22.512 16.336 10.903 2.65 26.672.473 27.793-13.261 6.018-16.31 13.062 9.716 22.882 9.772 4.928-1.522 7.334-2.06 10.615 1.278 3.227-2.624 8.773-1.22 12.59-5.944 2.41-1.37 5.576-10.131-1.49-13.02-6.048-4.783-11.199-22.286-19.283-11.598-2.185-3.091-10.746-6.59-9.8-.397-5.938 4.84-10.636.017-5.796-4.921-11.975 1.757-23.053-.588-34.994-.398-5.478 1.504-14.347 1.281-6.786-4.471-3.455-4.987-10.878-6.38-12.924-12.323zm17.794 13.105c-10.605 2.308 7.362 2.827 0 0zm51.157 4.809c-1.854 2.246 4.144 1.687 0 0zm2.164 1.323c-2.217 4.01 3.012.564 0 0zm-77.066 20.859c-2.942 1.253 1.563 2.385 0 0zm102.19 2.284c.7 2.992 4.89 1.724 0 0zm-125.94 6.672c-8.115 5.513-20.707 9.841-24.887 18.094 5.362 7.538 9.86 15.711 12.55 23.686 3.711 1.483 12.27 11.936 10.233 7.152-2.548-3.394 10.374 6.403 2.557 2.03-3.485 5.547 6.905 14.76 12.921 6.704 3.367-2.554 11.628-6.886 5.261.043-6.153 14.272 11.76 23.915 21.881 23.324-1.587 5.039 13.156 3.343 10.16-3.787 9.783 6.205 10.034-12.581 12.15-18.922 1.04-4.433 2.08-8.866 3.118-13.3-1.89 2.532-9.142.334-9.002 1.835-4.931-4.11-13.488 3.44-16.666-.151-6.938-1.54-9.062-7.517-9.739-12.985-8.094.567-3.698.62-1.576-4.514-5.869-.315-13.837-1.76-12.14-7.101-11.402-4.656-2.209-15.071-10.819-21.29-1.93-.648-3.984-.769-6.003-.82zm-44.965 12.864c-8.59-.995-7.514 5.968-13.225 2.946-10.15 5.745-20.136-2.751-30.925-1.387-29.137.253-51.071 29.092-55.872 56.42-7.326 13.756 5.339-.477 13.637-2.2-2.174-12.195 15.58-25.188 15.597-13.978-2.572 4.957.562 35.905 9.372 42.415 5.65 7.411 15.864 7.438 16.829-3.37 2.964-7.94 10.06-14.312 13.028-18.147-6.703 3.544-3.79-6.904-7.88-9.219 6.738-6.241-3.49-25.475.967-30.577 1.888.822 19.213-10.243 18.074 3.77 1.16 3.555-8.118 5.14-2.024 8.433-7.658 4.665 3.455 5.39-3.427 9.498 3.253 5.399 6.01 9.833 2.165 15.028 5.35 2.88-.846 4.956 2.464 9.859 1.778 3.928 6.245.778 1.383 5.41-1.361 8.392 12.419 11.331 9.277 18.591 8.517 3.138 17.255 14.93 21.647 1.175 4.39-6.642 8.989-13.158 13.44-19.766-3.415 1.673-6.978-2.014-10.4-3.306 3.183-7.442-7.567-10.669-4.388-18.695 2.026-5.576-2.942-14.986 1.397-15.442-3.634-2.89 2.346.649-.435-4.335 3.824-1.818-1.302-7.133 5.59-7.094-4.774-7.513 7.287-4.69 3.06-10.753-6.328-3.212 11.084-14.42-1.016-12.034-3.592-.464-14.71-3.287-18.334-3.242zm68.409 12.564c-5.594.816-1.062 2.671 0 0zm-106.58 10.76c-3.124 2.508 2.53 1.994 0 0zm-.18 2.165c-2.707.23 3.602 2.232 0 0zm116.32 1.983c-.612 2.06 1.536.488 0 0zm-33.123 9.258c-1.11 1.048.899.708 0 0zm-75.743 29.816c.207 1.666-.16.54 0 0zm1.322.06c.487 1.064-.19.145 0 0zm112.77 2.164c-3.791 1.324 3.067 2.71 0 0z",style:{fill:"url(#openldap_svg__b)"}}),r.createElement("g",{style:{stroke:"#015a01"}},r.createElement("path",{d:"M117.95 147.91c2.062 13.147-6.643 16.932-10.971 15.996",style:{stroke:"#015a01",strokeWidth:1,fill:"#6c3"},transform:"translate(215.33 -72.118) scale(1.9236)"}),r.createElement("path",{d:"M247.45 144.66a14.908 15.413 0 0 1-28.87 1.41",style:{stroke:"#015a01",fill:"#6c3"},transform:"matrix(2.0679 0 0 1.9236 -85.252 -62.905)"}),r.createElement("path",{d:"M254.4 122.14a13.756 14.188 0 0 1-9.596 26.558",style:{stroke:"#015a01",fill:"#6c3"},transform:"matrix(1.69038 0 0 1.9236 8.062 -62.905)"})),r.createElement("path",{d:"M427.42 204.03a13.577 11.915 0 1 1-20.903 3.651",style:{stroke:"#333",strokeWidth:1.431,fill:"url(#openldap_svg__c)"}}),r.createElement("path",{d:"M280.54 469.64c8.633 3.94 25.105 2 46.417-3.57M257.12 414.7c8.633 3.94 28.892 5.786 50.204.217M241.99 350.59c12.42 7.726 15.901 10.802 32.109 11.815",style:{stroke:"#015a01",strokeWidth:1.7313,fill:"none"}}),r.createElement("g",{style:{opacity:.45,stroke:"#015a01"}},r.createElement("path",{d:"M238.76 154.03a10.902 13.628 0 1 1-21.804 0 10.902 13.628 0 1 1 21.804 0z",style:{opacity:.33,stroke:"#015a01",fill:"#060"},transform:"matrix(1.91312 -1.0905 1.23997 1.6825 -284.739 205.84)"}),r.createElement("path",{d:"M-2.467 124.52c-10.397 7.867 3.174 25.794 15.402 20.06 11.488-7.465-3.201-26.94-15.402-20.06z",style:{opacity:.33,stroke:"#015a01",fill:"#060"},transform:"translate(336.93 -40.977) scale(1.9236)"})),r.createElement("path",{d:"M403.28 150.64c-7.692.501-14.793 4.685-15.089 13.586a20.49 20.49 0 0 0 .48 3.306c-3.317-3.523-7.434-6.313-11.36-7.815-11.25-6.31-32.094-3.901-32.642 12.083 1.272 20.2 29.984 34.111 46.288 21.701 4.544-4.377 5.481-9.502 4.268-14.487 8.648 8.688 23.31 12.136 32.942 4.569 10.541-10.48-1.254-25.962-11.782-30.117-3.642-2.109-8.49-3.126-13.105-2.825z",style:{opacity:.5696,stroke:"#015a01",strokeWidth:1.9236,fill:"#015a01"}}),r.createElement("path",{d:"M352.96 116.34c1.938-.888 4.249.037 5.182 2.073 0 0 3.183 13.713 11.456 25.004 2.145 6.463-6.445 8.713-8.763 4.015 0 0-.968-10.617-11.456-25.004s.648-4.744 3.581-6.088z",style:{stroke:"#424242",strokeWidth:1.9236,fill:"#474747"}}),r.createElement("path",{d:"M362.23 112.63a11.734 11.734 0 1 1-23.468 0 11.734 11.734 0 1 1 23.468 0z",style:{stroke:"#3c3c3c",strokeWidth:2.843,fill:"#474747"}}),r.createElement("path",{d:"M392.01 189.01c-3.48 7.067-14.963 8.53-25.649 3.27-10.687-5.262-16.529-15.256-13.05-22.323 3.48-7.067 12.924-3.34 25.649-3.269 11.911.067 16.529 15.255 13.05 22.322zM428.77 179.39c-2.932 6.147-12.61 7.42-21.616 2.844s-13.93-13.27-10.998-19.416c2.932-6.147 10.386-3.713 21.616-2.844 10.072.78 13.93 13.269 10.998 19.416z",style:{stroke:"#015a01",strokeWidth:1.9236,fill:"#eee"}}),r.createElement("path",{d:"M386.95 174.62a6.554 6.292 0 1 1-13.107 0 6.554 6.292 0 1 1 13.107 0z",style:{stroke:"url(#openldap_svg__d)",strokeWidth:3.2702,fill:"#212121"}}),r.createElement("path",{d:"M420.28 260.08c-66.519-.144-41.52 15.048-88.371 22.3-26.994 12.355 2.254 36.023-28.249 57.531-12.191 24.257 25.422 32.975 14.127 56.988 1.094 17.721 28.212 17.044 15.87 35.106.077 27.295 34.615 32.862 24.995 61.134 5.822 58.494 26.558 115.42 56.87 165.61 24.209 15.049 1.4 44.842 26.58 58.256-15.417 16.017-2.308 41.461-16.414 58.695-15.858 27.915-52.033 71.541-86.055 70.198-32.5 6.163-62.672-8.101-85.514 18.724-21.068 27.152 26.849 29.08 43.943 22.231 17.663-15.932 35.21-5.876 56.135-3.462 21.996 1.56 46.031-3.354 62.056-19.468 25.603.823 58.065-11.778 61.136-40.697 25.458-6.112 48.466-32.949 36.241-59.636 7.342-17.164 35.37-42.277 20.025-68.406 16.566-22.139-13.544-40.219-11.646-57.89 1.52-24.036-27.484-32.739-16.422-57.827-5.88-56.776-34.65-108.99-69.858-152.93-17.715-10.826-17.772-37.67-38.852-46.975-1.577-13.237-.082-35.222-15.13-46.08 12.85-21.035-11.481-49.556 20.581-57.405 9.32-6.825 11.765-6.15 17.952-15.995z",style:{opacity:.16,strokeOpacity:.45631,stroke:"#015a01",strokeWidth:1.9236,fill:"#2f5a01"}}),r.createElement("path",{d:"m364.39 291.24-33.123 5.23c17.189-1.058 41.41 10.702 52.138 2.144 2.808-7.652-14.418-4.55-19.015-7.374zm18.755 37.451c-2.226.221-5.16.953-5.951.18-15.9.467-38.753 1.689-50.255 5.951l31.379 7.996c9.785-5.765 36.092 1.65 26.45-11.301 2.09-2.727.603-3.047-1.623-2.826zm15.269 47.37c-23.53 1.418-46.945 4.234-70.513 5.17 18.484 2.734 36.866 6.798 55.605 3.547 8.85-2.878 26.726 3.882 14.908-8.717zm30.418 42.621c-17.609 2.141-22.028.732-40.577 1.082-12.172-.35-44.69.348-44.244 2.946 15.711 2.07 31.36 6.102 47.189 2.464 8.774-3.204 54.756 6.425 37.631-6.492zm27.472 33.664c-30.006 4.477-61.241 1.051-90.411 10.881l33.363 3.907c16.451-8.86 54.588-1.713 59.693-10.94zM497 602.56c-7.134-.107-15.756 1.445-21.4.36-22.649.075-44.368 7.02-66.305 11.783 15.165.922 30.594 7.281 45.446 1.623 15.954-6.58 41.892-5.303 52.539-10.82-2.28-2.21-5.999-2.882-10.279-2.946zm13.526 44.965c-14.177-.298-32.495 2.867-43.582.902l-33.002 5.23c31.72-.05 63.44.025 95.16 0-3.034-4.524-10.069-5.953-18.575-6.132zm-6.913 48.692c-4.496-.07-8.982.188-13.526 1.022l-32.522 8.175c21.543-3.55 43.01 2.847 64.562-1.202 11.962 2.216 20.66-8.78 3.907-6.793-7.5-.175-14.929-1.085-22.422-1.202zM465.2 757.773l-29.576 7.995c23.849 2.836 47.753 6.214 71.656 1.503 9.744-1.574 4.567-13.92-3.667-5.59-12.552 1.862-25.699-3.404-38.413-3.908zm-33.063 63.961-33.123 5.23c26.419-2.515 51.986 6.292 78.328 4.689 5.416-14.802-36.343-7.572-45.206-9.919zm-38.773 30.297c-10.945.795-21.774 3.134-32.642 4.81 19.66-1.443 39.974 13.754 57.409 7.573 8.563.63 33.329-2.739 11.842-4.929-12.15-2.623-23.995-7.708-36.61-7.454z",style:{opacity:.22,fill:"#816647"}}),r.createElement("path",{d:"M304.45 326.16c-10.886 1.967-8.4 22.052 3.066 22.302 8.465 2.325 15.632 3.845 26.342.932 11.164-8.74-4.137-14.974-12.453-12.714-16.156 1.402-6.886-8.034-16.955-10.52zm5.951 53.08c-15.564 5.843-1.743 25.357 11.602 21.821 10.833.873 16.443-4.823 22.422-7.514 13.366-13.213-9.2-14.904-16.952-6.011-12.514 4.096-8.06-5.899-17.072-8.296zm50.736 40.877c-10.278-.312-16.719 10.516-26.51 10.099-15.413-2.714-11.509 17.881 2.164 13.285 10.433 1.739 13.941-8.465 23.925-9.317 8.076-.63 9.6-13.53.421-14.067zm19.717 50.916c-7.237 2.817-15.739 11.599-24.045 7.213-17.483-12.77-11.249 18.608-.901 14.127 9.028 2.152 20.787-3.388 25.428-6.792 3.646.512 11.826-13.3-.482-14.547zm-4.629 17.373c-1.757 1.064 1.7-.61 0 0zm48.632 150.16c-16.235 5.22 1.896 25.317 13.465 25.067 10.318.826 21.684.346 28.734-8.176 9.25-23.358-30.97 7.123-37.196-14.127l-1.45-1.515-3.553-1.25zm7.334 67.027c-12.786 3.28-2.84 22.219 3.727 28.433 9.873 6.706 22.122 6.794 33.616 5.38 11.174-8.715-4.149-14.989-12.453-12.714-8 1.03-16.762-3.311-17.255-12.143-1.53-3.684-2.48-8.882-7.634-8.957zm12.864 32.822-.6-.3zm-60.354 65.344c-11.482 3.658-6.54 21.416-.12 28.373 4.485 5.22 7.873 12.227 12.203 15.208 5.716 3.355 9.67 8.453 16.776 5.416 9.556-6.93-8.199-14.998-5.835-13.892-5.885-2.69-9.886-12.655-15.028-18.034-3.525-5.64 2.14-16.518-7.995-17.072zm11.963 43.462c-2.054-2.264-.507-.136 0 0zm-91.313-6.312c-10.66 4.691-10.693 19.058-10.219 29.212-1.488 10.106 2.839 20.308 12.804 24.048 16.495 8.538 9.815-16.676 2.104-14.427-4.5-4.573.282-13.545-1.622-19.356-.478-6.55 10.803-17.505-3.067-19.477zm-75.623 3.246c-8.979 2.724-15.863 14.021-15.509 26.03-2.008 9.592 3.418 22.026 10.4 23.864 15.634 10.556 16.95-11.274 2.886-14.668-.48-9.208-.568-19.474 8.14-25.047 3.09-4.211-.8-10.666-5.916-10.179zm172.17 6.372c.434.02.033.146 0 0zm-92.816 5.59c.286-.058-.476.461 0 0z",style:{stroke:"#816647",strokeWidth:2.5007,fill:"#ff9"}}),r.createElement("path",{d:"M403.43 108.33c2.104.342 3.508 2.397 3.148 4.608 0 0-4.995 13.162-4.414 27.147-1.818 6.562-10.206 3.646-9.514-1.547 0 0 5.11-9.356 4.414-27.147-.695-17.79 3.182-3.579 6.366-3.061z",style:{stroke:"#424242",strokeWidth:1.9236,fill:"#474747"}}),r.createElement("path",{d:"M413.2 110.41a11.734 11.734 0 1 1-19.49-13.077 11.734 11.734 0 1 1 19.49 13.077z",style:{stroke:"#3c3c3c",strokeWidth:2.843,fill:"#474747"}}),r.createElement("path",{d:"M415.23 166.9a6.554 6.292 0 1 1-13.107 0 6.554 6.292 0 1 1 13.107 0z",style:{stroke:"url(#openldap_svg__e)",strokeWidth:3.2702,fill:"#212121"}}))}},36470:function(e,t,n){"use strict";var r,a,i,s,o,l=n(95004);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}t.Z=function(e){return l.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("path",{d:"M23.586 13.035 13.46 7.381a2.24 2.24 0 0 0-2.192 0L1.144 13.035A2.255 2.255 0 0 0 0 15.036v11.198a2.255 2.255 0 0 0 1.144 1.961l10.125 5.654a2.24 2.24 0 0 0 2.192 0l10.125-5.693a2.248 2.248 0 0 0 1.151-1.962V15.036a2.246 2.246 0 0 0-1.151-2Z",fill:"#282B3A"})),a||(a=l.createElement("path",{d:"m16.01 18.213-3.375-1.89a.564.564 0 0 0-.548 0l-3.367 1.89a.556.556 0 0 0-.294.492v3.733a.556.556 0 0 0 .294.492l3.367 1.89a.564.564 0 0 0 .548 0l3.375-1.842a.564.564 0 0 0 .285-.493v-3.732a.564.564 0 0 0-.285-.54Z",fill:"#3FA9F5"})),i||(i=l.createElement("path",{d:"M6.742 23.772v-5.313l-3.375-1.834v8.338a1.136 1.136 0 0 0 .58.985l7.576 4.232v-3.772l-4.78-2.636Z",fill:"#1696F0"})),s||(s=l.createElement("path",{d:"M12.911 10.843a1.12 1.12 0 0 0-1.096 0l-7.647 4.273 3.399 1.874 4.764-2.676 4.741 2.628 3.336-1.906-7.497-4.193Z",fill:"#37BBF7"})),o||(o=l.createElement("path",{d:"M18.026 18.372v5.4l-4.764 2.668v3.772l7.576-4.232a1.129 1.129 0 0 0 .571-.985V16.45l-3.383 1.922Z",fill:"#79BFF2"})))}},25830:function(e,t,n){"use strict";var r,a,i,s,o=n(95004);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",l({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m21.696 7.1 6.024 12.901L21.696 32.9H16.57l6.021-12.899L16.571 7.1h5.125Z",fill:"#40B4E5"})),a||(a=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m16.57 32.9-6.024-12.899L16.57 7.1h5.126l-6.021 12.901 6.02 12.899H16.57Z",fill:"#003764"})),i||(i=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.859 12.905 11.15 7.1H6.024l5.273 11.296 2.562-5.492ZM11.297 21.604 6.024 32.9h5.126l2.709-5.804-2.562-5.492Z",fill:"#40B4E5"})),s||(s=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.024 32.9 0 20.001 6.024 7.1h5.126L5.126 20.001 11.15 32.9H6.024Z",fill:"#003764"})))}},45119:function(e,t,n){"use strict";n.d(t,{E4:function(){return c},WR:function(){return d},Fv:function(){return u},bd:function(){return p},jU:function(){return m},VF:function(){return f},z$:function(){return v},L9:function(){return b}});var r=n(83161),a=n.n(r),i=(n(65562),n(57592),n(78433),n(36554),n(15363),n(15845),n(42240),n(25212),n(92429),n(40443),n(28001),n(62341),n(82459),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(59991));function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o,l=["docker","kubernetes","aci","portainer","edge"];function c(e,t){g(o.PortainerInstanceID,e),g(o.PortainerVersion,t)}function d(e){g(o.PortainerUserRole,e)}function u(){h(o.PortainerUserRole)}function p(e){g(o.PortainerEndpointUserRole,e)}function m(){h(o.PortainerEndpointUserRole)}function g(e,t){f("setCustomDimension",e,t)}function h(e){f("deleteCustomDimension",e.toString())}function f(e){if("undefined"!=typeof window){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];window._paq.push([e].concat(n))}}function v(){var e=(0,i.Fy)({select:function(e){return e.EnableTelemetry}});return{trackEvent:function(){e.data&&b.apply(void 0,arguments)}}}function b(e,t){var n=t.value,r=t.metadata,i=t.dimensions,o=t.category;if(n){var c=parseInt(n.toString(),10);n=Number.isNaN(c)?0:c}if(!o)throw new Error("missing category");if(!l.includes(o))throw new Error("unsupported category");var d="";if(r){var u=Object.fromEntries(Object.entries(r).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];return[a()(i),o]})));d=JSON.stringify(u).toLowerCase()}f("trackEvent",o,e.toLowerCase(),d,n||"",i||{})}!function(e){e[e.PortainerVersion=1]="PortainerVersion",e[e.PortainerInstanceID=2]="PortainerInstanceID",e[e.PortainerUserRole=3]="PortainerUserRole",e[e.PortainerEndpointUserRole=4]="PortainerEndpointUserRole"}(o||(o={}))},89115:function(e,t,n){"use strict";n.d(t,{m:function(){return K},q:function(){return M}}),n(23405),n(65562),n(98191),n(77072),n(74364),n(59886),n(78433),n(33262),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(20493),n(66076);var r=n(92376);n(92429);var a=JSON.parse('["000000","800000","008000","808000","000080","800080","008080","c0c0c0","808080","ff0000","00ff00","ffff00","0000ff","ff00ff","00ffff","ffffff","000000","00005f","000087","0000af","0000d7","0000ff","005f00","005f5f","005f87","005faf","005fd7","005fff","008700","00875f","008787","0087af","0087d7","0087ff","00af00","00af5f","00af87","00afaf","00afd7","00afff","00d700","00d75f","00d787","00d7af","00d7d7","00d7ff","00ff00","00ff5f","00ff87","00ffaf","00ffd7","00ffff","5f0000","5f005f","5f0087","5f00af","5f00d7","5f00ff","5f5f00","5f5f5f","5f5f87","5f5faf","5f5fd7","5f5fff","5f8700","5f875f","5f8787","5f87af","5f87d7","5f87ff","5faf00","5faf5f","5faf87","5fafaf","5fafd7","5fafff","5fd700","5fd75f","5fd787","5fd7af","5fd7d7","5fd7ff","5fff00","5fff5f","5fff87","5fffaf","5fffd7","5fffff","870000","87005f","870087","8700af","8700d7","8700ff","875f00","875f5f","875f87","875faf","875fd7","875fff","878700","87875f","878787","8787af","8787d7","8787ff","87af00","87af5f","87af87","87afaf","87afd7","87afff","87d700","87d75f","87d787","87d7af","87d7d7","87d7ff","87ff00","87ff5f","87ff87","87ffaf","87ffd7","87ffff","af0000","af005f","af0087","af00af","af00d7","af00ff","af5f00","af5f5f","af5f87","af5faf","af5fd7","af5fff","af8700","af875f","af8787","af87af","af87d7","af87ff","afaf00","afaf5f","afaf87","afafaf","afafd7","afafff","afd700","afd75f","afd787","afd7af","afd7d7","afd7ff","afff00","afff5f","afff87","afffaf","afffd7","afffff","d70000","d7005f","d70087","d700af","d700d7","d700ff","d75f00","d75f5f","d75f87","d75faf","d75fd7","d75fff","d78700","d7875f","d78787","d787af","d787d7","d787ff","d7af00","d7af5f","d7af87","d7afaf","d7afd7","d7afff","d7d700","d7d75f","d7d787","d7d7af","d7d7d7","d7d7ff","d7ff00","d7ff5f","d7ff87","d7ffaf","d7ffd7","d7ffff","ff0000","ff005f","ff0087","ff00af","ff00d7","ff00ff","ff5f00","ff5f5f","ff5f87","ff5faf","ff5fd7","ff5fff","ff8700","ff875f","ff8787","ff87af","ff87d7","ff87ff","ffaf00","ffaf5f","ffaf87","ffafaf","ffafd7","ffafff","ffd700","ffd75f","ffd787","ffd7af","ffd7d7","ffd7ff","ffff00","ffff5f","ffff87","ffffaf","ffffd7","ffffff","080808","121212","1c1c1c","262626","303030","3a3a3a","444444","4e4e4e","585858","606060","666666","767676","808080","8a8a8a","949494","9e9e9e","a8a8a8","b2b2b2","bcbcbc","c6c6c6","d0d0d0","dadada","e4e4e4","eeeeee"]').map((function(e){return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]})),i={black:a[0],red:a[1],green:a[2],yellow:a[3],blue:a[4],magenta:a[5],cyan:a[6],white:a[7],brightBlack:a[8],brightRed:a[9],brightGreen:a[10],brightYellow:a[11],brightBlue:a[12],brightMagenta:a[13],brightCyan:a[14],brightWhite:a[15]},s={bgBlack:a[0],bgRed:a[1],bgGreen:a[2],bgYellow:a[3],bgBlue:a[4],bgMagenta:a[5],bgCyan:a[6],bgWhite:a[7],bgBrightBlack:a[8],bgBrightRed:a[9],bgBrightGreen:a[10],bgBrightYellow:a[11],bgBrightBlue:a[12],bgBrightMagenta:a[13],bgBrightCyan:a[14],bgBrightWhite:a[15]},o=n(46545),l=n.n(o),c=(n(50033),31),d="var(--text-log-viewer-color-json-grey)",u="var(--text-log-viewer-color-json-magenta)",p="var(--text-log-viewer-color-json-red)",m="var(--text-log-viewer-color-json-blue)",g=n(79871),h=n.n(g),f=(n(99230),n(96532)),v={text:" "};function b(e,t,n){var r=n;if(e){var a;a="number"==typeof e?(0,f.Z)(new Date(1e3*e),"Y/MM/dd hh:mmaa"):e,t.push({fgColor:d,text:a},v),r+="".concat(a," ")}return r}function y(e,t,n){var r=n;if(e){var a=function(e){switch(e){case"debug":case"DBG":return{fgColor:d,text:"DBG",fontWeight:"bold"};case"info":case"INF":return{fgColor:"var(--text-log-viewer-color-json-green)",text:"INF",fontWeight:"bold"};case"warn":case"WRN":return{fgColor:"var(--text-log-viewer-color-json-yellow)",text:"WRN",fontWeight:"bold"};case"error":case"ERR":return{fgColor:p,text:"ERR",fontWeight:"bold"};default:return{text:e}}}(e);t.push(a,v),r+="".concat(a.text," ")}return r}function w(e,t,n){var r=n;if(e){var a=h()(e.split("/"),2).join("/");t.push({fgColor:u,text:a,fontWeight:"bold"},v),t.push({fgColor:m,text:">"},v),r+="".concat(a," > ")}return r}function x(e,t,n,r){var a=n;return e&&(t.push({fgColor:u,text:"".concat(e)},v),a+="".concat(e," "),r&&(t.push({fgColor:u,text:"|"},v),a+="| ")),a}function S(e,t,n,r,a){var i=r;return n.push({fgColor:m,text:"".concat(e,"=")},{fgColor:"error"===e||"ERR"===e?p:u,text:t}),a||n.push(v),i+"".concat(e,"=").concat(t).concat(a?"":" ")}function C(e,t){e&&e.forEach((function(e){var n=e.func,r=e.line,a=e.source,i="    at ".concat(n," (").concat(a,":").concat(r,")"),s=[v,v,v,v,{text:"at ",fgColor:d},{text:n,fgColor:p},{text:"(".concat(a,":").concat(r,")"),fgColor:d}];t.push({line:i,spans:s})}))}function k(e,t){var n=[],r=[],a="",i=t?e.substring(c):e,s=JSON.parse(i),o=s.time,d=s.level,u=s.caller,p=s.message,m=s.stack_trace,g=function(e){return l()(e,"time","level","caller","message","stack_trace")}(Object.keys(s));if(t){var h=e.substring(0,c);n.push({text:h}),a+="".concat(h," ")}return a+=b(o,n,a),a+=y(d,n,a),a+=w(u,n,a),a+=x(p,n,a,!!g.length),g.forEach((function(e,t){a+=S(e,s[e],n,a,t===g.length-1)})),r.push({line:a,spans:n}),C(m,r),r}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(89024),n(9502),n(10335),n(57592),n(49329),n(90257),n(76657),n(15845),n(7974),n(24378),n(45720);var $=/(\S+=)/g,N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.from(new Set(t.map((function(e){return e.flags})).join("").split(""))).join(""),a=t.map((function(e){return e.source})).join("");return new RegExp(a,r)}(/(\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}[AP]M) /,/(\w{3}) /,/(.+?.go:\d+) /,/> /,/(.*)/);function T(e,t){var n=[],r=[],a="",i=t?e.substring(c):e;if(t){var s=e.substring(0,c);n.push({text:s}),a+="".concat(s," ")}var o,l=A(i.match(N)||[],5),d=l[1],u=l[2],p=l[3],m=function(e){var t=[],n=A(e.split("|"),2),r=n[0],a=n[1];e.includes("|")||a||(a=r,r=""),r=r.trim();var i,s=function(e){if(Array.isArray(e))return I(e)}(i=(a=a.trim()).matchAll($))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||P(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return s.forEach((function(e,n){var r=e[0],i=r.slice(0,-1),o=e.index||0,l=n!==s.length-1?s[n+1].index:void 0,c=(l?a.slice(o+r.length,l):a.slice(o+r.length)).trim();t.push({key:i,value:c})})),[r,t]}(l[4]),g=A(m,2),h=g[0],f=g[1];a+=b(d,n,a),a+=y(u,n,a),a+=w(p,n,a),a+=x(h,n,a,!!f.length);var v=f.findIndex((function(e){return"stack_trace"===e.key}));return-1!==v&&(o=JSON.parse(f[v].value),f.splice(v)),f.forEach((function(e,t){var r=e.key,i=e.value;a+=S(r,i,n,a,t===f.length-1)})),r.push({line:a,spans:n}),C(o,r),r}function E(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R={splitter:"\n"};function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R,n=t.stripHeaders,a=t.withTimestamps,o=t.splitter,l=void 0===o?"\n":o,d=e;if(n&&(d=L(d)),d.startsWith('"'))try{d=JSON.parse(d)}catch(e){}var u,p,m,g=(0,r.Z)(d),h=[],f="",v=[];return g.forEach((function(e){var t=j(e,1)[0],n=i[t],r=s[t];n?u=V(n):"moreColor"===t?u=F(e):"fgDefault"===t?u=void 0:r?p=V(r):"bgMoreColor"===t?p=F(e):"bgDefault"===t?p=void 0:"reset"===t?(u=void 0,p=void 0,m=void 0):"bold"===t?m="bold":"normal"===t?m="normal":"text"===t&&e[1].split(l).forEach((function(e,t){t&&f&&(h.push({line:f,spans:v}),f="",v=[]);var n=U(e);try{if(!a&&n.startsWith("{")||a&&n.substring(c).startsWith("{")){var r=k(n,a);h.push.apply(h,E(r))}else if(!a&&N.test(n)||a&&N.test(n.substring(c))){var i=T(n,a);h.push.apply(h,E(i))}else v.push({fgColor:u,bgColor:p,text:n,fontWeight:m}),f+=n}catch(e){v.push({fgColor:u,bgColor:p,text:n,fontWeight:m}),f+=n}}))})),f&&h.push({line:f,spans:v}),h}function L(e){return e.substring(8).replace(/\r?\n(.{8})/g,"\n")}function U(e){return e.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"")}function V(e){var t=j(e,3),n=t[0],r=t[1],a=t[2];return"rgb(".concat(n,", ").concat(r,", ").concat(a,")")}function F(e){var t=j(e,3),n=t[1],r=t[2];return 2===n?V(e.slice(2)):5===n&&a[r]?V(a[r]):""}var _=n(71541);function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.line};return e.reduce((function(e,n){return e+t(n)+_.NEW_LINE_BREAKER}),"")}},30788:function(e,t,n){"use strict";n.d(t,{w1:function(){return c},aw:function(){return d}}),n(40958),n(78433),n(65562),n(50527);var r=n(51641),a=n(6811);function i(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){i(s,r,a,o,l,"next",e)}function l(e){i(s,r,a,o,l,"throw",e)}o(void 0)}))}}function o(){return(o=s(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(u(t,"version"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to retrieve version");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(u(t,"info"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"Unable to retrieve version");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(e,t){return(0,r.useQuery)(["environment",e,"docker","info"],(function(){return function(e){return l.apply(this,arguments)}(e)}),{select:t})}function d(e,t){return(0,r.useQuery)(["environment",e,"docker","version"],(function(){return function(e){return o.apply(this,arguments)}(e)}),{select:t})}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="/endpoints/".concat(e,"/docker/").concat(t);return n&&(r+="/".concat(n)),r}},64858:function(e,t,n){"use strict";n.d(t,{If:function(){return m},v:function(){return g}}),n(65562),n(57592),n(66549),n(78495),n(78433),n(33262),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(20493),n(66076),n(77072);var r=n(95004),a=n(3731),i=n(59991),s=n(65280),o=n(29638),l=n(13880),c=n(2629);function d(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=[{label:"Use default interval",value:0},{label:"5 seconds",value:5},{label:"10 seconds",value:10},{label:"30 seconds",value:30},{label:"5 minutes",value:300},{label:"1 hour",value:3600},{label:"1 day",value:86400}];function m(e){var t=e.value,n=e.readonly,a=e.onChange,s=e.isDefaultHidden,m=void 0!==s&&s,g=e.label,h=void 0===g?"Poll frequency":g,f=e.tooltip,v=void 0===f?"Interval used by this Edge agent to check in with the Portainer instance. Affects Edge environment management and Edge compute features.":f,b=function(e){var t,n,a=(t=(0,r.useState)(p),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||d(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],o=a[1],l=(0,i.rV)((function(e){return e.EdgeAgentCheckinInterval}));return(0,r.useEffect)((function(){e&&o(p.filter((function(e){return 0!==e.value}))),e||void 0===l.data||o((function(e){var t="".concat(l.data," seconds"),n=e.find((function(e){return e.value===l.data}));return n&&(t=n.label),[{value:0,label:"Use default interval (".concat(t,")")}].concat(function(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.slice(1)))}))}),[l.data,o,e]),s}(m);return(0,c.jsx)(o.N,{inputId:"edge_checkin",label:h,tooltip:v,children:(0,c.jsx)(l.P,{value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){a(parseInt(e.currentTarget.value,10))})),options:b,disabled:n})})}var g=(0,a.A)((0,s.H)(m),["value","onChange","isDefaultHidden","tooltip","label","readonly"])},38770:function(e,t,n){"use strict";n.d(t,{qW:function(){return s},tl:function(){return l},Ww:function(){return d},Ev:function(){return p},gW:function(){return g}}),n(40958),n(78433),n(65562),n(50527);var r=n(6811);function a(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){a(s,r,i,o,l,"next",e)}function l(e){a(s,r,i,o,l,"throw",e)}o(void 0)}))}}function s(e,t){return o.apply(this,arguments)}function o(){return(o=i(regeneratorRuntime.mark((function e(t,n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(f(t,n));case 3:return a=e.sent,i=a.data,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to retrieve ingresses");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l(e,t){return c.apply(this,arguments)}function c(){return(c=i(regeneratorRuntime.mark((function e(t,n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get("kubernetes/".concat(t,"/namespaces/").concat(n,"/ingresscontrollers"));case 3:return a=e.sent,i=a.data,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to retrieve ingresses");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function d(e,t){return u.apply(this,arguments)}function u(){return(u=i(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post(f(t,n.Namespace),n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to create an ingress");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function p(e,t){return m.apply(this,arguments)}function m(){return(m=i(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.put(f(t,n.Namespace),n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to update an ingress");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function g(e,t){return h.apply(this,arguments)}function h(){return(h=i(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post("kubernetes/".concat(t,"/ingresses/delete"),n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to delete ingresses");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function f(e,t,n){var r="kubernetes/".concat(e,"/namespaces/").concat(t,"/ingresses");return n&&(r+="/".concat(n)),r}},27471:function(e,t,n){"use strict";n.d(t,{U:function(){return s}}),n(40958),n(78433),n(65562),n(50527);var r=n(6811);function a(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){a(s,r,i,o,l,"next",e)}function l(e){a(s,r,i,o,l,"throw",e)}o(void 0)}))}}function s(e,t){return o.apply(this,arguments)}function o(){return(o=i(regeneratorRuntime.mark((function e(t,n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(l(t,n));case 3:return a=e.sent,i=a.data,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to retrieve services");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l(e,t){return"kubernetes/".concat(e,"/namespaces/").concat(t,"/services")}},20464:function(e,t,n){"use strict";n.d(t,{d:function(){return u},e:function(){return c}}),n(20493);var r=n(29274),a=n.n(r),i=n(3731),s=n(55666);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l={template:'<box-selector-react\n    value="$ctrl.value"\n    on-change="$ctrl.handleChange"\n    options="$ctrl.options"\n    radio-name="$ctrl.radioName"\n  ></box-selector-react>',bindings:{value:"<",onChange:"<",options:"<",radioName:"<"},require:{formCtrl:"^form"},controller:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleChange=this.handleChange.bind(this),this.$scope=t}var t,n;return e.$inject=["$scope"],t=e,(n=[{key:"handleChange",value:function(e,t){var n=this;this.$scope.$evalAsync((function(){n.formCtrl.$setValidity(n.radioName,!t,n.formCtrl),n.onChange(e)}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()};function c(e,t,n,r,a,i,s){return{id:e,icon:t,label:n,description:r,value:a,feature:i,featherIcon:s}}var d=(0,i.F)(s.S,["value","onChange","options","radioName"]),u=a().module("app.portainer.component.box-selector",[]).component("boxSelectorReact",d).component("boxSelector",l).name},22589:function(e,t,n){"use strict";n.d(t,{X:function(){return d}});var r=n(51641),a=(n(46021),n(40958),n(65562),n(50527),n(6811));function i(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){i(s,r,a,o,l,"next",e)}function l(e){i(s,r,a,o,l,"throw",e)}o(void 0)}))}}function o(){return l.apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(c());case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,"");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(e,t){var n="/endpoint_groups";return e&&(n+="/".concat(e)),t&&(n+="/".concat(t)),n}function d(){return(0,r.useQuery)(["environment-groups"],o)}},31848:function(e,t,n){"use strict";n.d(t,{hF:function(){return d},uj:function(){return p},O3:function(){return g},Jm:function(){return f},sH:function(){return b},mp:function(){return w},xr:function(){return S}}),n(40958),n(59690),n(65562),n(50527),n(42240),n(77236),n(47771),n(78433),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var r=n(6811),a=n(55950);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){l(i,r,a,s,o,"next",e)}function o(e){l(i,r,a,s,o,"throw",e)}s(void 0)}))}}function d(){return u.apply(this,arguments)}function u(){return u=c(regeneratorRuntime.mark((function e(){var t,n,i,o,l,c,d,u,p,m,g,h,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:{query:{}},n=t.start,i=t.limit,o=t.sort,l=void 0===o?{by:"",order:"asc"}:o,c=t.query,!(d=void 0===c?{}:c).tagIds||0!==d.tagIds.length){e.next=3;break}return e.abrupt("return",{totalCount:0,value:[]});case 3:return u=(0,a.Q2)(),p=s({start:n,limit:i,sort:l.by,order:l.order},d),e.prev=5,e.next=8,r.ZP.get(u,{params:p});case 8:return m=e.sent,g=m.headers["x-total-count"],h=m.headers["x-total-available"],e.abrupt("return",{totalCount:parseInt(g,10),value:m.data,totalAvailable:parseInt(h,10)});case 14:throw e.prev=14,e.t0=e.catch(5),(0,r.vs)(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])}))),u.apply(this,arguments)}function p(){return m.apply(this,arguments)}function m(){return(m=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get((0,a.Q2)(void 0,"agent_versions"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),(0,r.vs)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=c(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get((0,a.Q2)(t));case 3:return n=e.sent,i=n.data,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(){return v.apply(this,arguments)}function v(){return(v=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post((0,a.Q2)(void 0,"snapshot"));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post((0,a.Q2)(t,"snapshot"));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function w(e,t,n,r){return x.apply(this,arguments)}function x(){return(x=c(regeneratorRuntime.mark((function e(t,n,r,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d({start:n,limit:r,query:s({groupIds:[t]},a)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return(C=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.delete((0,a.Q2)(t));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}},55950:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n="endpoints";return e&&(n+="/".concat(e)),t&&(n+="/".concat(t)),n}function i(e){return e?JSON.stringify(e):""}function s(e){var t=new FormData;return Object.entries(e).forEach((function(e){var n,a,i=(a=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(n,a)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],o=i[1];null!=o&&t.append(s,o)})),t}n.d(t,{Q2:function(){return a},VZ:function(){return i},at:function(){return s}}),n(65562),n(98191),n(40443),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072)},61335:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(9251),a=n(59991);function i(){var e=(0,a.rV)((function(e){return e.AgentSecret})),t=(0,r.$z)((function(e){return e.Version}));return t.isSuccess&&e.isSuccess?{agentVersion:t.data,agentSecret:e.data}:null}},29765:function(e,t,n){"use strict";n.d(t,{O:function(){return c}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(51641),a=n(31848),i=n(53347);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(0,r.useQuery)(["environments",e],(function(){return e?(0,a.O3)(e):null}),o(o({},(0,i.AQ)("Failed loading environment")),{},{staleTime:50,enabled:!!e}))}},86064:function(e,t,n){"use strict";n.d(t,{FQ:function(){return g},sb:function(){return h},LH:function(){return f}}),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176),n(50527),n(40958),n(65562),n(59690);var r=n(51641),a=n(53347),i=n(23945),s=n(31848),o=["page","pageLimit","sort","order"];function l(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){l(i,r,a,s,o,"next",e)}function o(e){l(i,r,a,s,o,"throw",e)}s(void 0)}))}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var g=3e4;function h(e){return!!e&&!!e.value.some((function(e){return e.Status===i.a2.Down}))&&g}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=void 0===t?1:t,i=e.pageLimit,l=void 0===i?100:i,d=e.sort,p=e.order,g=m(e,o),h=arguments.length>1?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,v=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],b=(0,r.useQuery)(["environments",u({page:n,pageLimit:l,sort:d,order:p},g)],c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(n-1)*l+1,e.abrupt("return",(0,s.hF)({start:t,limit:l,sort:{by:d,order:p},query:g}));case 2:case"end":return e.stop()}}),e)}))),u({staleTime:f,keepPreviousData:!0,refetchInterval:h,enabled:v},(0,a.AQ)("Failure retrieving environments"))),y=b.isLoading,w=b.data;return{isLoading:y,environments:w?w.value:[],totalCount:w?w.totalCount:0,totalAvailable:w?w.totalAvailable:0}}},23945:function(e,t,n){"use strict";var r;n.d(t,{Qj:function(){return r},rP:function(){return o},a2:function(){return a},Sy:function(){return i},zh:function(){return s}}),function(e){e[e.Docker=1]="Docker",e[e.AgentOnDocker=2]="AgentOnDocker",e[e.Azure=3]="Azure",e[e.EdgeAgentOnDocker=4]="EdgeAgentOnDocker",e[e.KubernetesLocal=5]="KubernetesLocal",e[e.AgentOnKubernetes=6]="AgentOnKubernetes",e[e.EdgeAgentOnKubernetes=7]="EdgeAgentOnKubernetes"}(r||(r={}));var a,i,s,o=[r.EdgeAgentOnDocker,r.EdgeAgentOnKubernetes];!function(e){e[e.Up=1]="Up",e[e.Down=2]="Down"}(a||(a={})),function(e){e[e.LocalDockerEnvironment=1]="LocalDockerEnvironment",e[e.AgentEnvironment=2]="AgentEnvironment",e[e.AzureEnvironment=3]="AzureEnvironment",e[e.EdgeAgentEnvironment=4]="EdgeAgentEnvironment",e[e.LocalKubernetesEnvironment=5]="LocalKubernetesEnvironment",e[e.KubeConfigEnvironment=6]="KubeConfigEnvironment"}(i||(i={})),function(e){e[e.Docker=0]="Docker",e[e.Kubernetes=1]="Kubernetes",e[e.Azure=2]="Azure"}(s||(s={}))},57941:function(e,t,n){"use strict";n.d(t,{vJ:function(){return a},gR:function(){return i},w5:function(){return s},d_:function(){return o},Mq:function(){return l},f8:function(){return c},Bv:function(){return d}}),n(15845),n(7974);var r=n(23945);function a(e){switch(e){case r.Qj.KubernetesLocal:case r.Qj.AgentOnKubernetes:case r.Qj.EdgeAgentOnKubernetes:return r.zh.Kubernetes;case r.Qj.Docker:case r.Qj.AgentOnDocker:case r.Qj.EdgeAgentOnDocker:return r.zh.Docker;case r.Qj.Azure:return r.zh.Azure;default:throw new Error("".concat(e," is not a supported environment type"))}}function i(e){return a(e)===r.zh.Docker}function s(e){return a(e)===r.zh.Kubernetes}function o(e){return l(e)||[r.Qj.AgentOnDocker,r.Qj.AgentOnKubernetes].includes(e)}function l(e){return[r.Qj.EdgeAgentOnDocker,r.Qj.EdgeAgentOnKubernetes].includes(e)}function c(e){return l(e.Type)&&!e.EdgeID}function d(e){if(l(e.Type)&&!e.EdgeID)return"portainer.endpoints.endpoint";switch(a(e.Type)){case r.zh.Azure:return"azure.dashboard";case r.zh.Docker:return"docker.dashboard";case r.zh.Kubernetes:return"kubernetes.dashboard";default:return""}}},20023:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)},i(e)}function s(e,t,n){return s=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&l(a,n.prototype),a},s.apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{Z:function(){return d}}),n(42086),n(87028),n(65562),n(57592),n(90029),n(42240),n(5434),n(77236),n(47771),n(28001),n(62341),n(82459);var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&l(e,t)}(s,e);var t,n,r,i=(t=s,n=o(),function(){var e,r=c(t);if(n){var i=c(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return a(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this,e)).err=t,n}return r=s,Object.defineProperty(r,"prototype",{writable:!1}),r}(i(Error))},26196:function(e,t,n){"use strict";var r,a,i;n.d(t,{cX:function(){return r},CQ:function(){return a},tE:function(){return i}}),function(e){e[e.CE=0]="CE",e[e.BE=1]="BE"}(r||(r={})),function(e){e[e.HIDDEN=0]="HIDDEN",e[e.VISIBLE=1]="VISIBLE",e[e.LIMITED_BE=2]="LIMITED_BE"}(a||(a={})),function(e){e.K8S_RESOURCE_POOL_LB_QUOTA="k8s-resourcepool-Ibquota",e.K8S_RESOURCE_POOL_STORAGE_QUOTA="k8s-resourcepool-storagequota",e.K8S_CREATE_FROM_KUBECONFIG="k8s-create-from-kubeconfig",e.KAAS_PROVISIONING="kaas-provisioning",e.NOMAD="nomad",e.RBAC_ROLES="rbac-roles",e.REGISTRY_MANAGEMENT="registry-management",e.K8S_SETUP_DEFAULT="k8s-setup-default",e.S3_BACKUP_SETTING="s3-backup-setting",e.HIDE_INTERNAL_AUTHENTICATION_PROMPT="hide-internal-authentication-prompt",e.TEAM_MEMBERSHIP="team-membership",e.HIDE_INTERNAL_AUTH="hide-internal-auth",e.EXTERNAL_AUTH_LDAP="external-auth-ldap",e.ACTIVITY_AUDIT="activity-audit",e.FORCE_REDEPLOYMENT="force-redeployment",e.HIDE_AUTO_UPDATE_WINDOW="hide-auto-update-window",e.STACK_PULL_IMAGE="stack-pull-image",e.STACK_WEBHOOK="stack-webhook",e.CONTAINER_WEBHOOK="container-webhook",e.POD_SECURITY_POLICY_CONSTRAINT="pod-security-policy-constraint",e.HIDE_DOCKER_HUB_ANONYMOUS="hide-docker-hub-anonymous",e.CUSTOM_LOGIN_BANNER="custom-login-banner"}(i||(i={}))},20037:function(e,t,n){"use strict";n.d(t,{aW:function(){return o},S1:function(){return c},RU:function(){return u},vx:function(){return p}}),n(40958),n(65562),n(50527);var r=n(26196);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){i(s,r,a,o,l,"next",e)}function l(e){i(s,r,a,o,l,"throw",e)}o(void 0)}))}}var o=!1,l={currentEdition:r.cX.CE,features:{}};function c(e){return d.apply(this,arguments)}function d(){return(d=s(regeneratorRuntime.mark((function e(t){var n,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t,a(n={},r.tE.K8S_RESOURCE_POOL_LB_QUOTA,r.cX.BE),a(n,r.tE.K8S_RESOURCE_POOL_STORAGE_QUOTA,r.cX.BE),a(n,r.tE.K8S_CREATE_FROM_KUBECONFIG,r.cX.BE),a(n,r.tE.KAAS_PROVISIONING,r.cX.BE),a(n,r.tE.NOMAD,r.cX.BE),a(n,r.tE.ACTIVITY_AUDIT,r.cX.BE),a(n,r.tE.EXTERNAL_AUTH_LDAP,r.cX.BE),a(n,r.tE.HIDE_INTERNAL_AUTH,r.cX.BE),a(n,r.tE.HIDE_INTERNAL_AUTHENTICATION_PROMPT,r.cX.BE),a(n,r.tE.K8S_SETUP_DEFAULT,r.cX.BE),a(n,r.tE.RBAC_ROLES,r.cX.BE),a(n,r.tE.REGISTRY_MANAGEMENT,r.cX.BE),a(n,r.tE.S3_BACKUP_SETTING,r.cX.BE),a(n,r.tE.TEAM_MEMBERSHIP,r.cX.BE),a(n,r.tE.FORCE_REDEPLOYMENT,r.cX.BE),a(n,r.tE.HIDE_AUTO_UPDATE_WINDOW,r.cX.BE),a(n,r.tE.STACK_PULL_IMAGE,r.cX.BE),a(n,r.tE.STACK_WEBHOOK,r.cX.BE),a(n,r.tE.CONTAINER_WEBHOOK,r.cX.BE),a(n,r.tE.POD_SECURITY_POLICY_CONSTRAINT,r.cX.BE),a(n,r.tE.HIDE_DOCKER_HUB_ANONYMOUS,r.cX.BE),a(n,r.tE.CUSTOM_LOGIN_BANNER,r.cX.BE),s=n,l.currentEdition=i,l.features=s;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return e?l.features[e]?l.features[e]<=l.currentEdition?r.CQ.VISIBLE:l.features[e]===r.cX.BE?r.CQ.LIMITED_BE:r.CQ.HIDDEN:r.CQ.HIDDEN:r.CQ.VISIBLE}function p(e){return u(e)===r.CQ.LIMITED_BE}},19990:function(e,t,n){"use strict";function r(e){return e.reduce((function(e,t){return e.then((function(){return t()}))}),Promise.resolve(void 0))}n.d(t,{y:function(){return r}}),n(65562),n(50527)},23514:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"".concat(t,"s");return[1,-1].includes(Number(e))?t:n}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"".concat(t,"s");return"".concat(e," ").concat(r(e,t,n))}n.d(t,{_:function(){return r},u:function(){return a}}),n(15845),n(15363),n(78433)},63504:function(e,t,n){"use strict";n.d(t,{x:function(){return l}}),n(66549),n(65562),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),n(20493),n(77072);var r=n(39532),a=n(41066),i=n(59991),s=n(2629);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t=e.environment,n=e.showLastCheckInDate,l=void 0!==n&&n,c=!!t.EdgeID,d=function(e,t){var n=(0,i.Fy)({enabled:t});if(!t)return!1;var r=e.LastCheckInDate,a=e.QueryDate,s=n.data;if(!s)return null;var l=function(e,t){if(e.Edge.AsyncMode){var n=[e.Edge.PingInterval>0?e.Edge.PingInterval:t.Edge.PingInterval,e.Edge.SnapshotInterval>0?e.Edge.SnapshotInterval:t.Edge.SnapshotInterval,e.Edge.CommandInterval>0?e.Edge.CommandInterval:t.Edge.CommandInterval].filter((function(e){return e>0}));return n.length>0?Math.min.apply(Math,function(e){if(Array.isArray(e))return o(e)}(r=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):60}var r;return e.EdgeCheckinInterval&&0!==e.EdgeCheckinInterval?e.EdgeCheckinInterval:t.Edge.CheckinInterval}(e,s);return!!(l&&a&&r)&&a-r<=2*l+20}(t,c);return null===d?null:c?(0,s.jsxs)("span",{role:"status","aria-label":"edge-status",children:[(0,s.jsx)("span",{className:(0,r.Z)("label",{"label-danger":!d,"label-success":d}),"aria-label":"edge-heartbeat",children:"heartbeat"}),l&&!!t.LastCheckInDate&&(0,s.jsx)("span",{className:"space-left small text-muted","aria-label":"edge-last-checkin",children:(0,a.isoDateFromTimestamp)(t.LastCheckInDate)})]}):(0,s.jsx)("span",{role:"status","aria-label":"edge-status",children:(0,s.jsx)("span",{className:"label label-default","aria-label":"unassociated",children:(0,s.jsx)("s",{children:"associated"})})})}},73903:function(e,t,n){"use strict";n.d(t,{N:function(){return s}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var r=n(95004);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=(0,r.useState)(e),i=a(n,2),s=i[0],o=i[1];return(0,r.useEffect)((function(){var n=setTimeout((function(){return o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),s}},45588:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});var r=n(89023);function a(){var e=(0,r.useCurrentStateAndParams)().params.endpointId;if(!e)throw new Error("endpointId url param is required");return e}},73817:function(e,t,n){"use strict";n.d(t,{gW:function(){return s},_:function(){return o},U2:function(){return l}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var r=n(95004);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return"".concat("portainer",".").concat(e)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage,i=(0,r.useState)(l(e,t,n)),s=a(i,2),o=s[0],d=s[1],u=(0,r.useCallback)((function(t){d(t),c(e,t,n)}),[e,n]);return(0,r.useMemo)((function(){return[o,u]}),[o,u])}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage,r=n.getItem(s(e));if(!r)return t;try{return JSON.parse(r)}catch(e){return t}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage;n.setItem(s(e),JSON.stringify(t))}},50265:function(e,t,n){"use strict";n.d(t,{aF:function(){return h},n5:function(){return f},G_:function(){return v},FY:function(){return y},dr:function(){return w}}),n(40958),n(65562),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(50527);var r=n(3696),a=n(89023),i=n(95004),s=n(35303),o=n(96263),l=n(73817),c=n(2629);function d(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){d(i,r,a,s,o,"next",e)}function o(e){d(i,r,a,s,o,"throw",e)}s(void 0)}))}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=(0,i.createContext)(null);function h(){var e=(0,i.useContext)(g);if(null===e)throw new Error("should be nested under UserProvider");var t=e.user;if(void 0===t)throw new Error("should be authenticated");return(0,i.useMemo)((function(){return{user:t,isAdmin:(0,s.G)(t)}}),[t])}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(),i=r.user,s=(0,a.useCurrentStateAndParams)(),o=s.params.endpointId;return!!i&&b(i,e,t||o,n)}function v(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return b(e,["EndpointResourcesAccess"],t,n)}function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a="string"==typeof t?[t]:t;return 0===a.length||!r||(0,s.G)(e)}function y(e){var t=e.authorizations,n=e.environmentId,r=e.adminOnlyCE,a=void 0!==r&&r,i=e.children,s=e.childrenUnauthorized,o=void 0===s?null:s;return f(t,n,a)?(0,c.jsx)(c.Fragment,{children:i}):(0,c.jsx)(c.Fragment,{children:o})}function w(e){var t=e.children,n=p((0,l._)("JWT",""),1)[0],a=p((0,i.useState)(),2),s=a[0],d=a[1];(0,i.useEffect)((function(){""!==n&&function(e){h.apply(this,arguments)}((0,r.Z)(n).id)}),[n]);var m=(0,i.useMemo)((function(){return{user:s}}),[s]);return""===n?null:m.user?(0,c.jsx)(g.Provider,{value:m,children:t}):null;function h(){return h=u(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.PR)(t);case 2:n=e.sent,d(n);case 4:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}}g.displayName="UserContext"},60122:function(e,t,n){"use strict";n.d(t,{lX:function(){return o},e6:function(){return c},ED:function(){return u},cp:function(){return m},Ai:function(){return h},he:function(){return v},ck:function(){return y},M9:function(){return x}}),n(40958),n(65562),n(50527);var r=n(6811);function a(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){a(s,r,i,o,l,"next",e)}function l(e){a(s,r,i,o,l,"throw",e)}o(void 0)}))}}var s="/fdo";function o(e){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post("".concat(s,"/configure"),t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to configure FDO");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function c(e,t){return d.apply(this,arguments)}function d(){return(d=i(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post("".concat(s,"/configure/").concat(t),n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to configure device");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function u(e,t,n){return p.apply(this,arguments)}function p(){return(p=i(regeneratorRuntime.mark((function e(t,n,a){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:t,profileFileContent:a},e.prev=1,e.next=4,r.ZP.post("".concat(s,"/profiles"),i,{params:{method:n}});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),(0,r.vs)(e.t0,"Unable to create profile");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get("".concat(s,"/profiles"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to retrieve the profiles");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get("".concat(s,"/profiles/").concat(t));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to retrieve profile");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.delete("".concat(s,"/profiles/").concat(t));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to delete profile");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function y(e,t,n){return w.apply(this,arguments)}function w(){return(w=i(regeneratorRuntime.mark((function e(t,n,a){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:n,profileFileContent:a},e.prev=1,e.next=4,r.ZP.put("".concat(s,"/profiles/").concat(t),i);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),(0,r.vs)(e.t0,"Unable to update profile");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function x(e){return S.apply(this,arguments)}function S(){return(S=i(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post("".concat(s,"/profiles/").concat(t,"/duplicate"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to duplicate profile");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},76827:function(e,t,n){"use strict";n.d(t,{He:function(){return o},eX:function(){return c},xq:function(){return u},PW:function(){return m},aP:function(){return h},xv:function(){return v}}),n(40958),n(65562),n(50527),n(78433);var r=n(6811);function a(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){a(s,r,i,o,l,"next",e)}function l(e){a(s,r,i,o,l,"throw",e)}o(void 0)}))}}var s="/open_amt";function o(e){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post("".concat(s,"/configure"),t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to configure AMT");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return(d=i(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get("".concat(s,"/").concat(t,"/info"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to retrieve environment information");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(e){return p.apply(this,arguments)}function p(){return(p=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post("".concat(s,"/").concat(t,"/activate"));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to activate device");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=i(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get("".concat(s,"/").concat(t,"/devices"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to retrieve device information");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e,t,n){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t,n,a){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={action:a},e.next=4,r.ZP.post("".concat(s,"/").concat(t,"/devices/").concat(n,"/action"),i);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to execute device action");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function v(e,t,n){return b.apply(this,arguments)}function b(){return(b=i(regeneratorRuntime.mark((function e(t,n,a){var i,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={features:a},e.next=4,r.ZP.post("".concat(s,"/").concat(t,"/devices/").concat(n,"/features"),i);case 4:return o=e.sent,l=o.data,e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to enable device features");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},9251:function(e,t,n){"use strict";n.d(t,{$z:function(){return l},UE:function(){return c},TV:function(){return u}}),n(40958),n(65562),n(50527);var r=n(51641),a=n(6811);function i(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){i(s,r,a,o,l,"next",e)}function l(e){i(s,r,a,o,l,"throw",e)}o(void 0)}))}}function o(){return(o=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(p());case 3:return t=e.sent,(n=t.data).Edition="Community Edition",e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),(0,a.vs)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(e){return(0,r.useQuery)(["status"],(function(){return function(){return o.apply(this,arguments)}()}),{select:e})}function c(){return d.apply(this,arguments)}function d(){return(d=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(p("version"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(){return(0,r.useQuery)(["version"],(function(){return c()}))}function p(e){var t="/status";return e&&(t+="/".concat(e)),t}},6811:function(e,t,n){"use strict";n.d(t,{Ee:function(){return g},vs:function(){return h}}),n(15845),n(7974),n(78433),n(65562),n(50527),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176),n(40958);var r=n(62418),a=n.n(r),i=n(94926),s=n(20023),o=n(73817),l=n(50477);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}var m=a().create({baseURL:"api"});function g(e){if(!e.url||!e.url.includes("/docker/"))return e;var t=d({headers:e.headers||{}},e),n=(0,l.GN)();return n&&(t.headers["X-PortainerAgent-Target"]=n),(0,l.sG)()&&(t.headers["X-PortainerAgent-ManagerOperation"]="1"),t}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,r=e,a=t;if("isAxiosError"in e){var i=n(e),o=i.error,l=i.details;r=o,a=t&&l?"".concat(t,": ").concat(l):t||l}return new s.Z(a,r)}function f(e){var t,n,r=(null===(t=e.response)||void 0===t?void 0:t.data.message)||"",a=(null===(n=e.response)||void 0===n?void 0:n.data.details)||r;return{error:new Error(r),details:a}}(0,i.loadProgressBar)(void 0,m),t.ZP=m,m.interceptors.request.use(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d({headers:t.headers||{}},t),(r=(0,o.U2)("JWT",""))&&(n.headers.Authorization="Bearer ".concat(r)),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){p(i,r,a,s,o,"next",e)}function o(e){p(i,r,a,s,o,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()),m.interceptors.request.use(g)},50477:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{GN:function(){return o},vj:function(){return l},sG:function(){return d},$r:function(){return p}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var a={agentTargetQueue:[],agentManagerOperation:!1,agentTargetLastValue:""};function i(){return a.registryAuthentication}function s(e){a.registryAuthentication=e}function o(){if(0===a.agentTargetQueue.length)return a.agentTargetLastValue;if(1===a.agentTargetQueue.length){var e=(t=a.agentTargetQueue,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];a.agentTargetLastValue=e}var t,n;return a.agentTargetQueue.shift()||""}function l(e){e&&a.agentTargetQueue.push(e)}function c(e){a.agentManagerOperation=e}function d(){return a.agentManagerOperation}function u(){a.agentTargetQueue=[],a.agentTargetLastValue="",a.agentManagerOperation=!1,delete a.registryAuthentication}function p(){return{registryAuthenticationHeader:i,setRegistryAuthenticationHeader:s,portainerAgentTargetHeader:o,setPortainerAgentTargetHeader:l,setPortainerAgentManagerOperation:c,portainerAgentManagerOperation:d,resetAgentHeaders:u}}},46980:function(e,t,n){"use strict";n.d(t,{ir:function(){return u},l9:function(){return p},j6:function(){return m},iG:function(){return g},TP:function(){return h},gv:function(){return f},sv:function(){return v},no:function(){return b},DP:function(){return y},JX:function(){return w},pM:function(){return x},dY:function(){return S},HW:function(){return C},Do:function(){return k},Id:function(){return A},ZX:function(){return P},Q8:function(){return I},ob:function(){return $}}),n(65562),n(50527),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var r=n(43695),a=n.n(r),i=n(53062),s=n.n(i),o=n(89230);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e={title:(0,o.hP)("Are you sure?"),message:"You currently have unsaved changes in the editor. Are you sure you want to leave?",buttons:{confirm:{label:"Yes",className:"btn-danger"}}};return new Promise((function(t){g(c(c({},e),{},{callback:function(e){return t(e)}}))}))}function p(e){return new Promise((function(t){g(c(c({},e),{},{title:(0,o.hP)(e.title),callback:function(e){return t(e)}}))}))}function m(e){return new Promise((function(t){g(c(c({},e),{},{title:(0,o.hP)(e.title,o.bV.Destructive),callback:function(e){return t(e)}}))}))}function g(e){var t=s().confirm({title:e.title,message:e.message,buttons:(0,o.ZG)(e.buttons),callback:e.callback});(0,o.AF)(t)}function h(e){g(c(c({},e),{},{title:(0,o.hP)(e.title,o.bV.Warn)}))}function f(e){g(c(c({},e),{},{title:(0,o.hP)(e.title,o.bV.Destructive)}))}function v(e){g({title:(0,o.hP)("Are you sure?",o.bV.Destructive),message:"Forcing the removal of the image will remove the image even if it has multiple tags or if it is used by stopped containers.",buttons:{confirm:{label:"Remove the image",className:"btn-danger"}},callback:e})}function b(e){g({title:(0,o.hP)("Are you sure?",o.bV.Destructive),message:"WARNING: interrupting this operation before it has finished will result in the loss of all tags. Are you sure you want to do this?",buttons:{confirm:{label:"Stop",className:"btn-danger"}},callback:e})}function y(e,t){var n=a()(e);g({title:(0,o.hP)("Are you sure?",o.bV.Destructive),message:n,buttons:{confirm:{label:"Remove",className:"btn-danger"}},callback:t})}function w(e,t,n){var r=a()(t);g({title:(0,o.hP)(e,o.bV.Destructive),message:r,buttons:{confirm:{label:"Remove",className:"btn-danger"}},callback:n})}function x(e,t){var n=a()(e);g({title:(0,o.hP)("Are you sure?"),message:n,buttons:{confirm:{label:"Detach",className:"btn-primary"}},callback:t})}function S(e){g({title:(0,o.hP)("About disassociating"),message:a()("<p>Disassociating this Edge environment will mark it as non associated and will clear the registered Edge ID.</p><p>Any agent started with the Edge key associated to this environment will be able to re-associate with this environment.</p><p>You can re-use the Edge ID and Edge key that you used to deploy the existing Edge agent to associate a new Edge device to this environment.</p>"),buttons:{confirm:{label:"Disassociate",className:"btn-primary"}},callback:e})}function C(e,t){var n=a()(e);g({title:(0,o.hP)("Are you sure?"),message:n,buttons:{confirm:{label:"Update",className:"btn-primary"}},callback:t})}function k(e,t){g({title:"",message:a()(e),buttons:{confirm:{label:"Redeploy the applications",className:"btn-primary"},cancel:{label:"I'll do it later"}},callback:t})}function A(e){return new Promise((function(t){y(e,(function(e){return t(e)}))}))}function P(e){g({title:(0,o.hP)("Caution"),message:"The export may take several minutes, do not navigate away whilst the export is in progress.",buttons:{confirm:{label:"Continue",className:"btn-primary"}},callback:e})}function I(){return p({title:(0,o.hP)("Are you sure?"),message:"You will be logged out after the password change. Do you want to change your password?",buttons:{confirm:{label:"Change",className:"btn-primary"}}})}function $(){var e=s().dialog({message:"Please update your password to a stronger password to continue using Portainer",buttons:{confirm:{label:"OK",className:"btn-primary"}}});(0,o.AF)(e)}},77918:function(e,t,n){"use strict";n.d(t,{SW:function(){return m},A7:function(){return f},H1:function(){return v},G0:function(){return b},N8:function(){return y},Kf:function(){return w},o$:function(){return x}}),n(40958),n(78495),n(65562),n(50527),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var r=n(43695),a=n.n(r),i=n(53062),s=n.n(i),o=n(89230);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){u(i,r,a,s,o,"next",e)}function o(e){u(i,r,a,s,o,"throw",e)}s(void 0)}))}}function m(e){return g.apply(this,arguments)}function g(){return(g=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){h(c(c({},t),{},{callback:function(t){return e(t)}}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t=s().prompt({title:e.title,inputType:e.inputType,inputOptions:e.inputOptions,buttons:e.buttons?(0,o.ZG)(e.buttons):void 0,callback:e.callback,value:e.value});return(0,o.AF)(t),t}function f(e,t){h({title:(0,o.hP)(e,o.bV.Destructive),inputType:"checkbox",inputOptions:[{text:"Automatically remove non-persistent volumes<i></i>",value:"1"}],buttons:{confirm:{label:"Remove",className:"btn-danger"}},callback:t})}function v(e,t,n,r){h({title:(0,o.hP)(e),inputType:"checkbox",message:t,inputOptions:[{text:"".concat(n,"<i></i>"),value:"1"}],buttons:{confirm:{label:"Update",className:"btn-primary"}},callback:r})}function b(e){h(e)}function y(e,t){var n=h({title:(0,o.hP)("Are you sure?",o.bV.Destructive),inputType:"checkbox",inputOptions:[{text:"Pull latest image<i></i>",value:"1"}],buttons:{confirm:{label:"Recreate",className:"btn-danger"}},callback:t});n.find(".bootbox-body").prepend("<p>".concat("You're about to recreate this container and any non-persisted data will be lost. This container will be removed and another one will be created using the same configuration.","</p>"));var r=n.find(".form-check-label");if(r.css("padding-left","5px"),r.css("padding-right","25px"),e){r.css("cursor","not-allowed"),r.find("i").css("cursor","not-allowed"),n.find(".bootbox-input-checkbox").prop("disabled",!0);var a=n.find(".form-check");a.prop("style","height: 45px;"),a.append("".concat('<div class="fa fa-exclamation-triangle text-warning"/>\n               <div class="inline-text text-warning">\n                   <span>Cannot pull latest as the image is inaccessible - either it no longer exists or the tag or name is no longer correct.\n                   </span>\n               </div>'))}}function w(e,t){var n=a()(e);S(h({title:(0,o.hP)("Are you sure?"),inputType:"checkbox",inputOptions:[{text:"Pull latest image version<i></i>",value:"1"}],buttons:{confirm:{label:"Update",className:"btn-primary"}},callback:t}),n)}function x(e,t,n,r){var i=a()(e);S(h({title:(0,o.hP)("Are you sure?"),inputType:"checkbox",inputOptions:[{text:"Re-pull image and redeploy<i></i>",value:"1"}],buttons:{confirm:{label:"Update",className:"btn-primary"}},callback:r}),i,t)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.find(".bootbox-body").prepend("<p>".concat(t,"</p>"));var a=e.find(".bootbox-input-checkbox");a.prop("checked",n),r&&a.addClass("visible")}},89230:function(e,t,n){"use strict";n.d(t,{bV:function(){return r},ZG:function(){return s},hP:function(){return o},AF:function(){return l}}),n(78433);var r,a=n(43695),i=n.n(a);function s(e){return{confirm:{label:i()(e.confirm.label),className:e.confirm.className&&i()(e.confirm.className)},cancel:{label:e.cancel&&e.cancel.label?i()(e.cancel.label):"Cancel",className:"btn-default"}}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Warn;return'\n    <div class="background-'.concat(t,'">\n      <h5 class="modal-title">').concat(i()(e),"</h5>\n    </div>\n  ")}function l(e){e.css({"vertical-align":"middle"})}!function(e){e.Warn="warning",e.Destructive="error"}(r||(r={}))},46021:function(e,t,n){"use strict";n.d(t,{t5:function(){return h},cB:function(){return v},Vp:function(){return b},vU:function(){return y},Kp:function(){return w},Tx:function(){return x}});var r=n(6632),a=n.n(r),i=n(3520),s=n.n(i),o=(n(65562),n(3100)),l=n.n(o),c=n(43695),d=n.n(c),u=n(3696),p=n(64001),m=n(73817),g=n(76598).P.getState().addNotification;function h(e,t){C(e,t,"success"),l().success(d()(s()(t)),d()(s()(e)))}function f(e,t){C(e,t,"warning"),l().warning(d()(s()(t)),d()(e),{timeOut:6e3})}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=S(t)||n;C(e,r,"error"),console.error(t),"Invalid JWT token"!==r&&l().error(d()(s()(r)),d()(e),{timeOut:6e3})}l().options={timeOut:3e3,closeButton:!0,progressBar:!0,tapToDismiss:!1,closeHtml:'<button type="button"><svg\n  xmlns="http://www.w3.org/2000/svg"\n  width="18"\n  height="18"\n  viewBox="0 0 24 24"\n  fill="none"\n  stroke="currentColor"\n  stroke-width="2"\n  stroke-linecap="round"\n  stroke-linejoin="round"\n>\n  <line x1="18" y1="6" x2="6" y2="18" />\n  <line x1="6" y1="6" x2="18" y2="18" />\n</svg></button>'};var b=h,y=v,w=f;function x(){return{success:h,warning:f,error:v}}function S(e){if(!e)return"";var t="";return["err.data.details","err.data.message","data.details","data.message","data.content","data.error","message","err.data[0].message","err.data.err","data.err","msg"].forEach((function(n){var r=a()(e,n);"string"==typeof r&&(t=t||r)})),t}function C(e,t,n){var r={id:(0,p.v4)(),title:e,details:t,type:n,timeStamp:new Date},a=(0,m.U2)("JWT","");if(""!==a){var i=(0,u.Z)(a).id;i&&g(i,r)}}},45565:function(e,t,n){"use strict";n.d(t,{fi:function(){return o},fl:function(){return l},UV:function(){return c}}),n(65562);var r=n(51641),a=n(43247),i=n(35303),s=n(96263);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enabled,a=t.select;return(0,r.useQuery)(["users",e,"memberships"],(function(){return(0,s.DS)(e)}),{select:a,enabled:n})}function l(e){var t=o(e.Id,{enabled:!(0,i.G)(e),select:function(e){return e.some((function(e){return e.Role===a.q.Leader}))}});return!!(0,i.G)(e)||t.data}function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e},i=(0,r.useQuery)(["users"],(function(){return(0,s.Rf)(e,t)}),{meta:{error:{title:"Failure",message:"Unable to load users"}},enabled:n,select:a});return i}},35303:function(e,t,n){"use strict";var r;function a(e){return e.filter((function(e){return e.Role!==r.Admin}))}function i(e){return!!e&&1===e.Role}n.d(t,{w:function(){return a},G:function(){return i}}),n(66549),n(65562),function(e){e[e.Admin=1]="Admin",e[e.Standard=2]="Standard"}(r||(r={}))},96263:function(e,t,n){"use strict";n.d(t,{Rf:function(){return o},PR:function(){return c},DS:function(){return u}}),n(40958),n(65562),n(50527);var r=n(6811),a=n(35303);function i(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){i(s,r,a,o,l,"next",e)}function l(e){i(s,r,a,o,l,"throw",e)}o(void 0)}))}}function o(){return l.apply(this,arguments)}function l(){return l=s(regeneratorRuntime.mark((function e(){var t,n,i,s,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],n=o.length>1&&void 0!==o[1]?o[1]:0,e.prev=2,e.next=5,r.ZP.get(m(),{params:{environmentId:n}});case 5:return i=e.sent,s=i.data,e.abrupt("return",t?s:(0,a.w)(s));case 10:throw e.prev=10,e.t0=e.catch(2),(0,r.vs)(e.t0,"Unable to retrieve users");case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),l.apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return(d=s(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(m(t));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to retrieve user details");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(e){return p.apply(this,arguments)}function p(){return(p=s(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(m(t,"memberships"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to retrieve user memberships");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(e,t){var n="/users";return e&&(n+="/".concat(e)),t&&(n+="/".concat(t)),n}},53347:function(e,t,n){"use strict";n.d(t,{AQ:function(){return c},ar:function(){return d},yL:function(){return u},Eh:function(){return g}}),n(42240),n(65562),n(50527),n(77236),n(47771),n(92429),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176),n(62341),n(82459);var r=n(51641),a=n(46021);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Failure";return{onError:function(n){(0,a.cB)(t,n,e)}}}function d(e,t){return{onSuccess:function(){return Promise.all(t.map((function(t){return e.invalidateQueries(t)})))}}}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(t)}function p(e){return e.reduce((function(e,t){return o(o({},e),t)}),{})}function m(e,t){if(t&&"object"===i(t)){var n=t,r=n.title,s=void 0===r?"Failure":r,o=n.message;(0,a.cB)(s,e,o)}}var g=new r.QueryClient({mutationCache:new r.MutationCache({onError:function(e,t,n,r){var a;m(e,null===(a=r.meta)||void 0===a?void 0:a.error)}}),queryCache:new r.QueryCache({onError:function(e,t){var n;m(e,null===(n=t.meta)||void 0===n?void 0:n.error)}})})},3731:function(e,t,n){"use strict";n.d(t,{F:function(){return u},A:function(){return p}});var r=n(81651),a=n.n(r),i=(n(42240),n(25212),n(92429),n(20493),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176),n(79153)),s=n(95004),o=n(2629);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return n.$inject=["$element","$q"],{bindings:Object.fromEntries(t.map((function(e){return[e,"<"]}))),controller:n,name:a()(e.displayName||e.name)};function n(n,r){var a=this,l=!1,d=n[0];this.$onChanges=function(){if(!l){var n=function(e,t,n){return Object.fromEntries(e.map((function(e){var r=t[e];return"function"!=typeof r?[e,r]:[e,function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n((function(n){return n(t[e].apply(t,a))}))}]})))}(t,a,r);i.render((0,o.jsx)(s.StrictMode,{children:(0,o.jsx)(e,c({},n))}),d)}},this.$onDestroy=function(){l||(l=!0,i.unmountComponentAtNode(d))}}}var p=u},54269:function(e,t,n){"use strict";n.d(t,{s:function(){return l}}),n(20493),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(50265),a=n(2629);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=e.displayName||e.name||"Component";function n(t){return(0,a.jsx)(r.dr,{children:(0,a.jsx)(e,s({},t))})}return n.displayName=t,n}},65280:function(e,t,n){"use strict";n.d(t,{H:function(){return c}}),n(20493),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(51641),a=n(53347),i=n(2629);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Eh,n=e.displayName||e.name||"Component";function s(n){return(0,i.jsx)(r.QueryClientProvider,{client:t,children:(0,i.jsx)(e,o({},n))})}return s.displayName=n,s}},81800:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}}),n(20493),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(28127),a=n(2629);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=e.displayName||e.name||"Component";function n(t){return(0,a.jsx)(r.jk,{children:(0,a.jsx)(e,s({},t))})}return n.displayName=t,n}},32597:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(39532),a=n(30128),i=n(86751),s=n(2629);function o(e){var t=e.featureId,n=e.children,o=e.showIcon,l=void 0===o||o,c=e.className,d=void 0===c?"":c,u=(0,i.Y)(t),p=u.url;return u.limitedToBE?(0,s.jsxs)("a",{className:(0,r.Z)("be-indicator vertical-center",d),href:p,target:"_blank",rel:"noopener noreferrer",children:[n,l&&(0,s.jsx)(a.Z,{className:"icon icon-sm vertical-center"}),(0,s.jsx)("span",{className:"be-indicator-label break-words space-left",children:"Business Edition Feature"})]}):null}},86751:function(e,t,n){"use strict";n.d(t,{Y:function(){return a}});var r=n(20037);function a(e){return e?{url:"".concat("https://www.portainer.io/business-upsell?from=").concat(e),limitedToBE:(0,r.vx)(e)}:{}}},63027:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(39532),a=n(2629);function i(e){var t=e.type,n=e.className,i=e.children,s=function(e){switch(e){case"success":return(0,r.Z)("text-success-9 bg-success-2","th-dark:text-success-3 th-dark:bg-success-10","th-highcontrast:text-success-3 th-highcontrast:bg-success-10");case"warn":return(0,r.Z)("text-warning-9 bg-warning-2","th-dark:text-warning-3 th-dark:bg-warning-10","th-highcontrast:text-warning-3 th-highcontrast:bg-warning-10");case"danger":return(0,r.Z)("text-error-9 bg-error-2","th-dark:text-error-3 th-dark:bg-error-10","th-highcontrast:text-error-3 th-highcontrast:bg-error-10");default:return(0,r.Z)("text-blue-9 bg-blue-2","th-dark:text-blue-3 th-dark:bg-blue-10","th-highcontrast:text-blue-3 th-highcontrast:bg-blue-10")}}(t);return(0,a.jsx)("span",{className:(0,r.Z)("flex w-fit items-center !text-xs font-medium rounded-full px-2 py-0.5",s,n),children:i})}},90134:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(2792),a=n(2629);function i(e){var t=e.icon,n=e.featherIcon;return(0,a.jsx)("div",{className:"badge-icon\n   text-3xl h-14 w-14\n   bg-blue-3 text-blue-8\n   th-dark:bg-gray-9 th-dark:text-blue-3\n   rounded-full\n   inline-flex items-center justify-center \n",children:(0,a.jsx)(r.J,{icon:t,feather:n,className:"feather !flex"})})}},37463:function(e,t,n){"use strict";n.d(t,{j6:function(){return d},ws:function(){return u},L4:function(){return p},XK:function(){return m},HQ:function(){return g}});var r=n(94410),a=n(68389),i=n(70685),s=n(58897),o=n(91079),l=n(90134),c=n(2629),d={id:"method_editor",icon:(0,c.jsx)(l.V,{icon:r.Z}),label:"Web editor",description:"Use our Web editor",value:"editor"},u={id:"method_upload",icon:(0,c.jsx)(l.V,{icon:a.Z}),label:"Upload",description:"Upload from your computer",value:"upload"},p={id:"method_repository",icon:(0,c.jsx)(o.Z,{}),label:"Repository",description:"Use a git repository",value:"repository"},m={id:"method_template",icon:(0,c.jsx)(l.V,{icon:i.Z}),label:"Template",description:"Use an Edge stack template",value:"template"},g={id:"method_url",icon:(0,c.jsx)(l.V,{icon:s.Z}),label:"URL",description:"Specify a URL to a file",value:"url"}},86682:function(e,t,n){"use strict";n.d(t,{h:function(){return i},q:function(){return s}});var r=n(74808),a=n(97642),i={id:"method_kubernetes",icon:r.Z,label:"Kubernetes",description:"Kubernetes manifest format",value:"kubernetes"},s={id:"method_compose",icon:a.Z,label:"Compose",description:"docker-compose format",value:"compose"}},55666:function(e,t,n){"use strict";n.d(t,{S:function(){return m}}),n(92429),n(66549),n(65562);var r=n(39532),a=(n(78433),n(28001),n(62341),n(57592),n(20037)),i=n(2792),s=n(76204),o=n(86704),l=n(86751),c=n(2629);function d(e){var t=e.tooltipId,n=e.featureId,r=(0,l.Y)(n).url;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"absolute left-0 top-0 w-full",children:(0,c.jsxs)("div",{className:"mx-auto max-w-fit bg-warning-4 rounded-b-lg py-1 px-3 flex gap-1 text-sm items-center",children:[(0,c.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:(0,c.jsx)("span",{className:"text-warning-9",children:"Pro Feature"})}),(0,c.jsx)(o.Z,{className:"feather !text-warning-7","data-tip":!0,"data-for":t,"tooltip-append-to-body":"true","tooltip-placement":"top","tooltip-class":"portainer-tooltip"})]})}),(0,c.jsxs)(s.Z,{className:"portainer-tooltip",id:t,place:"top",delayHide:1e3,children:["Business Edition feature. ",(0,c.jsx)("br",{}),"This feature is currently limited to Business Edition users only."]})]})}function u(e){var t=e.radioName,n=e.option,a=e.onChange,i=void 0===a?function(){}:a,o=e.selectedValue,l=e.disabled,d=e.tooltip,u=e.className,p=e.type,m=void 0===p?"radio":p,g=e.children,h="box-option-".concat(t,"-").concat(n.id);return(0,c.jsxs)("div",{className:(0,r.Z)("box-selector-item",u),"data-tip":!0,"data-for":h,"tooltip-append-to-body":"true","tooltip-placement":"bottom","tooltip-class":"portainer-tooltip",children:[(0,c.jsx)("input",{type:m,name:t,id:n.id,checked:n.value===o,value:n.value,disabled:l,onChange:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return i(n.value)}))}),(0,c.jsx)("label",{htmlFor:n.id,"data-cy":"".concat(t,"_").concat(n.value),children:g}),d&&(0,c.jsx)(s.Z,{place:"bottom",className:"portainer-tooltip",id:h,children:d})]})}function p(e){var t=e.radioName,n=e.option,s=e.onChange,o=e.selectedValue,l=e.disabled,p=e.tooltip,m=(0,a.vx)(n.feature),g="box-selector-item-".concat(t,"-").concat(n.id,"-limited");return(0,c.jsx)(u,{className:(0,r.Z)({business:m,limited:m}),radioName:t,option:n,selectedValue:o,disabled:l,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return s(e,m)})),tooltip:p,children:(0,c.jsxs)(c.Fragment,{children:[m&&(0,c.jsx)(d,{tooltipId:g,featureId:n.feature}),(0,c.jsxs)("div",{className:(0,r.Z)({"opacity-30":m}),children:[(0,c.jsx)("div",{className:"boxselector_img_container",children:!!n.icon&&(0,c.jsx)(i.J,{icon:n.icon,feather:n.featherIcon,className:"boxselector_icon !flex items-center"})}),(0,c.jsx)("div",{className:"boxselector_header",children:n.label}),(0,c.jsx)("p",{className:"box-selector-item-description",children:n.description})]})]})})}function m(e){var t=e.radioName,n=e.value,a=e.options,i=e.onChange;return(0,c.jsx)("div",{className:"form-group",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("div",{className:(0,r.Z)("boxselector_wrapper","app-react-components-BoxSelector-BoxSelector-module__root"),role:"radiogroup",children:a.filter((function(e){return!e.hide})).map((function(e){return(0,c.jsx)(p,{radioName:t,option:e,onChange:i,selectedValue:n,disabled:e.disabled&&e.disabled(),tooltip:e.tooltip&&e.tooltip()},e.id)}))})})})}},42631:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var r=n(39532),a=n(12584),i=n(66070),s=n(2629);function o(e){var t=e.children,n=e.showCopyButton,o=(0,i.F)(t),l=o.handleCopy,c=o.copiedSuccessfully;return(0,s.jsxs)("div",{className:"app-react-components-Code-Code-module__root",children:[(0,s.jsx)("code",{className:"app-react-components-Code-Code-module__code",children:t}),n&&(0,s.jsx)(a.zx,{color:"link",className:"app-react-components-Code-Code-module__copy-button",onClick:l,children:(0,s.jsx)("i",{className:(0,r.Z)("fa",c?"fa-check green-icon":"fa-copy "),"aria-hidden":"true"})})]})}},76118:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(39532),a=n(2792),i=n(23514),s=n(2629);function o(e){var t=e.value,n=e.icon,o=e.type,l=e.children,c=e.featherIcon;return(0,s.jsx)("div",{className:(0,r.Z)("border-solid rounded-lg border p-3","bg-gray-2 hover:bg-blue-2 border-gray-5 hover:border-blue-7","th-dark:bg-gray-iron-10 th-dark:hover:bg-gray-10 th-dark:border-gray-neutral-8 th-dark:hover:border-blue-8","th-highcontrast:bg-black th-highcontrast:hover:bg-gray-11 th-highcontrast:border-white th-highcontrast:hover:border-blue-8"),children:(0,s.jsxs)("div",{className:"flex items-center","aria-label":o,children:[(0,s.jsx)("div",{className:(0,r.Z)("icon-badge text-2xl mr-4 !p-2","bg-blue-3 text-blue-8","th-dark:bg-blue-3 th-dark:text-blue-8","th-highcontrast:bg-blue-3 th-highcontrast:text-blue-8"),children:(0,s.jsx)(a.J,{icon:n,feather:c,className:"feather"})}),(0,s.jsxs)("div",{className:"flex flex-col justify-around",children:[(0,s.jsx)("div",{className:(0,r.Z)("font-medium text-2xl","text-gray-9","th-dark:text-white","th-highcontrast:text-white"),"aria-label":"value",children:void 0!==t?t:"-"}),(0,s.jsx)("div",{className:(0,r.Z)("text-xl","text-gray-7","th-dark:text-gray-warm-5","th-highcontrast:text-gray-warm-5"),"aria-label":"resourceType",children:(0,i._)(t||0,o)})]}),(0,s.jsx)("div",{className:"ml-auto",children:l})]})})}},2792:function(e,t,n){"use strict";n.d(t,{J:function(){return an}}),n(77072),n(59886),n(99230),n(92429),n(74364),n(33262),n(23405);var r,a,i,s=n(39532),o=n(53131),l=n(24480),c=n(57471),d=n(96112),u=n(65313),p=n(56342),m=n(95004);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}var h,f;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var b,y,w;function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}var S,C,k;function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}var P,I;function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}var N;function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}var E;function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}var D,O;function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}var M,L,U;function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}var F;function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}var K;function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}var z;function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}var G;function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}var q,W;function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}var Y;function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}var X;function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}var te;function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}var re;function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var ie;function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var oe,le;function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}var de;function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}var pe,me=n(91079);function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}var he;function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var ve;function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}var ye,we;function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}var Se,Ce=n(82942);function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}var Ae;function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}var Ie;function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}var Ne;function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}var Ee,je;function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}var Oe;function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}var Me;function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}var Ue;function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}var Fe;function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}var Ke,Be=n(48942);function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}var He;function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}var Ze;function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}var We,Qe;function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}var Je;function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}var et;function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}var nt;function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}var at,it;function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(this,arguments)}var ot,lt;function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}var dt;function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}var pt;function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}var gt,ht;function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft.apply(this,arguments)}var vt,bt,yt,wt=function(e){return m.createElement("svg",ft({width:"1em",height:"1em",viewBox:"0 0 752 752",xmlns:"http://www.w3.org/2000/svg"},e),gt||(gt=m.createElement("path",{d:"M552.21 372.31c-1.11-1.848-2.586-2.957-4.434-3.324l-36.203-9.235c-4.062-1.109-8.128 1.477-8.867 5.543l-8.129 32.88-31.395-7.762-1.476-.371c-1.848-.371-4.063 0-5.543.738-1.848 1.11-2.957 2.586-3.324 4.433l-8.13 32.88-32.878-8.13c-4.063-1.109-8.13 1.477-8.868 5.544l-8.863 32.508-32.879-8.13c-1.848-.37-4.062 0-5.543.739-1.848 1.11-2.957 2.586-3.324 4.434l-.738 2.957-8.496 34.723c-1.11 4.062 1.476 8.128 5.543 8.867l143.33 35.832c1.847.37 3.324.738 5.171.738 9.235 0 17.73-6.281 19.95-15.516l36.202-144.81c.368-1.848-.003-3.691-1.109-5.539zm-137.05 63.535 32.137 8.129c1.848.738 4.434.371 6.281-.738s3.324-3.325 3.324-5.543l6.282-25.488 20.688 27.336-10.344 41.375-65.754-16.625zm87.547 83.117c-.738 3.324-4.063 5.172-7.02 4.434l-136.31-33.984 5.172-20.316 113.04 28.445c.371 0 1.11.37 1.477.37h.371c.371 0 .738 0 1.477-.37h.37c.74 0 1.11-.371 1.477-.739 1.848-1.11 2.957-2.586 3.325-4.433l12.93-52.086c.37-2.215 0-4.434-1.11-6.281l-18.102-23.641 17.73 4.433c4.063 1.11 8.13-1.476 8.867-5.543l8.13-32.879 22.163 5.543zM351.62 434.37c4.063 0 7.387-3.324 7.387-7.387V393h33.617c4.062 0 7.386-3.324 7.386-7.386v-33.617h33.617c4.063 0 7.387-3.325 7.387-7.387v-33.984h30.293c4.063 0 7.387-3.324 7.387-7.387v-65.39a20.653 20.653 0 0 0-20.688-20.689h-235.31a20.653 20.653 0 0 0-20.688 20.688v215a20.653 20.653 0 0 0 20.688 20.688h87.55c4.063 0 7.388-3.324 7.388-7.387V434.75zm33.617-56.148H351.62c-4.063 0-7.387 3.324-7.387 7.387v33.984h-91.242v-22.535l28.812-21.797 25.121 14.406c2.957 1.476 6.281 1.11 8.867-1.11l55.043-53.195 14.406 11.453zm-82.379 80.16h-80.164c-3.324 0-5.91-2.586-5.91-5.91v-214.62c0-3.324 2.586-5.91 5.91-5.91h235.31c3.324 0 5.91 2.585 5.91 5.91v58.367h-29.922c-4.062 0-7.387 3.324-7.387 7.386v33.984h-29.55l-21.798-17.363c-2.957-2.214-7.019-2.214-9.605.372l-56.148 53.566-24.383-14.04c-2.586-1.476-5.91-1.476-8.129.372L241.16 387.46c-1.848 1.476-2.957 3.695-2.957 5.91v33.988c0 1.848.738 3.695 2.215 5.172 1.476 1.476 3.324 2.215 5.172 2.215h57.258z",fill:"currentColor",stroke:"currentColor"})),ht||(ht=m.createElement("path",{d:"M277 329.09c18.469 0 33.246-15.145 33.246-33.246 0-18.469-15.145-33.246-33.246-33.246-18.469 0-33.246 15.145-33.246 33.246-.371 18.102 14.777 33.246 33.246 33.246zm0-52.086c10.344 0 18.469 8.496 18.469 18.469 0 10.344-8.496 18.469-18.469 18.469-10.344 0-18.469-8.496-18.469-18.469-.371-10.34 8.125-18.469 18.469-18.469z",fill:"currentColor",stroke:"currentColor"})))};function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}var St,Ct=n(23669);function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kt.apply(this,arguments)}var At;function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pt.apply(this,arguments)}var It,$t,Nt,Tt,Et=n(94822),jt=n(97642),Dt=n(60218),Ot=n(31352),Rt=n(79309),Mt=n(31821);function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lt.apply(this,arguments)}var Ut,Vt,Ft,_t=n(74808),Kt=n(82732);function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bt.apply(this,arguments)}var zt,Ht=n(80257);function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gt.apply(this,arguments)}var Zt,qt,Wt=n(70003),Qt=n(36470),Yt=n(25830);function Jt(){return Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jt.apply(this,arguments)}var Xt=n(2629),en=wt,tn={agent:function(e){return m.createElement("svg",g({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=m.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C6.6 33.453.295 27.143.295 19.365.295 11.587 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),a||(a=m.createElement("g",{clipPath:"url(#agent_svg__a)"},m.createElement("path",{d:"m15.005 13.25-6.25 7.5h5.625l-.625 5 6.25-7.5H14.38l.625-5Z",stroke:"#0086C9",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}))),i||(i=m.createElement("defs",null,m.createElement("clipPath",{id:"agent_svg__a"},m.createElement("path",{fill:"#fff",transform:"translate(6.88 12)",d:"M0 0h15v15H0z"})))))},api:function(e){return m.createElement("svg",v({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h||(h=m.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C6.6 33.453.295 27.143.295 19.365.295 11.587 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),f||(f=m.createElement("path",{d:"M9.328 23.154v-.126c0-1.061 0-1.592.206-1.997.182-.356.472-.646.828-.828.405-.206.936-.206 1.997-.206h4.042c1.061 0 1.592 0 1.997.206.357.182.646.472.828.828.207.405.207.936.207 1.997v.126m-10.105 0a1.263 1.263 0 1 0 0 2.527 1.263 1.263 0 0 0 0-2.527Zm10.105 0a1.263 1.263 0 1 0 0 2.527 1.263 1.263 0 0 0 0-2.527Zm-5.053 0a1.263 1.263 0 1 0 0 2.527 1.263 1.263 0 0 0 0-2.527Zm0 0V16.84m-3.79 0h7.58c.588 0 .882 0 1.114-.096.31-.129.556-.374.684-.684.096-.232.096-.526.096-1.115s0-.883-.096-1.115a1.263 1.263 0 0 0-.684-.684c-.232-.096-.526-.096-1.114-.096h-7.58c-.588 0-.882 0-1.114.097-.31.128-.556.374-.684.683-.096.232-.096.526-.096 1.115s0 .883.096 1.115c.128.31.374.555.684.684.232.096.526.096 1.115.096Z",stroke:"#0086C9",strokeWidth:1.15,strokeLinecap:"round",strokeLinejoin:"round"})))},edgeagent:function(e){return m.createElement("svg",x({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),b||(b=m.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C6.6 33.453.295 27.143.295 19.365.295 11.587 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),y||(y=m.createElement("g",{clipPath:"url(#edge-agent_svg__a)"},m.createElement("path",{d:"M18.13 18.25h-.788a5 5 0 1 0-4.837 6.25h5.625a3.125 3.125 0 0 0 0-6.25Z",stroke:"#0086C9",strokeWidth:1.333,strokeLinecap:"round",strokeLinejoin:"round"}))),w||(w=m.createElement("defs",null,m.createElement("clipPath",{id:"edge-agent_svg__a"},m.createElement("path",{fill:"#fff",transform:"translate(6.88 12)",d:"M0 0h15v15H0z"})))))},cloudimport:function(e){return m.createElement("svg",A({width:"1em",height:"1em",viewBox:"0 0 37 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),S||(S=m.createElement("path",{d:"M14.882 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C7.1 33.453.795 27.143.795 19.365.795 11.587 7.1 5.28 14.882 5.28Z",fill:"#E0F2FE"})),C||(C=m.createElement("g",{clipPath:"url(#import_svg__a)"},m.createElement("path",{d:"m17.38 22-2.5-2.5m0 0-2.5 2.5m2.5-2.5v5.626m5.244-1.631a3.125 3.125 0 0 0-1.494-5.87h-.787a5 5 0 1 0-8.588 4.563",stroke:"#0086C9",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}))),k||(k=m.createElement("defs",null,m.createElement("clipPath",{id:"import_svg__a"},m.createElement("path",{fill:"#fff",transform:"translate(7.38 12)",d:"M0 0h15v15H0z"})))))},socket:function(e){return m.createElement("svg",$({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),P||(P=m.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C6.6 33.453.295 27.143.295 19.365.295 11.587 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),I||(I=m.createElement("path",{d:"M14.38 23.503c2.6 0 4.708-2.108 4.708-4.709v-2.442h-2.355m-2.353 7.15a4.708 4.708 0 0 1-4.708-4.708v-2.442h7.061m-2.353 7.15c0 1.457 0 3.07 2.353 3.07h1.046m-1.046-10.22v-2.925m-4.711 2.925v-2.925",stroke:"#0086C9",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})))},automode:c.Z,darkmode:d.Z,lightmode:u.Z,highcontrastmode:p.Z,dataflow:function(e){return m.createElement("svg",J({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Y||(Y=m.createElement("path",{d:"M17 20h-.2c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C12 17.72 12 16.88 12 15.2V8.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C14.28 4 15.12 4 16.8 4h.2m0 16a2 2 0 1 0 4 0 2 2 0 0 0-4 0Zm0-16a2 2 0 1 0 4 0 2 2 0 0 0-4 0ZM7 12h10M7 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 0a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},dataflow2:function(e){return m.createElement("svg",ee({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),X||(X=m.createElement("path",{d:"M4 18v-.2c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C6.28 13 7.12 13 8.8 13h6.4c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C20 15.28 20 16.12 20 17.8v.2M4 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm16 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V8M6 8h12c.932 0 1.398 0 1.765-.152a2 2 0 0 0 1.083-1.083C21 6.398 21 5.932 21 5c0-.932 0-1.398-.152-1.765a2 2 0 0 0-1.083-1.083C19.398 2 18.932 2 18 2H6c-.932 0-1.398 0-1.765.152a2 2 0 0 0-1.083 1.083C3 3.602 3 4.068 3 5c0 .932 0 1.398.152 1.765a2 2 0 0 0 1.083 1.083C4.602 8 5.068 8 6 8Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},arrowsupdown:function(e){return m.createElement("svg",T({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N||(N=m.createElement("path",{d:"M50 87.5v-75m0 75 17.678-17.678M50 87.5 32.322 69.822M50 12.5 32.322 30.178M50 12.5l17.678 17.678",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},arrowright:function(e){return m.createElement("svg",j({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),E||(E=m.createElement("path",{d:"M2.015 12H23m0 0-7-7m7 7-7 7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},bomb:function(e){return m.createElement("svg",R({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),D||(D=m.createElement("path",{d:"M39.584 91.666c17.258 0 31.25-13.99 31.25-31.25 0-17.258-13.992-31.25-31.25-31.25-17.26 0-31.25 13.992-31.25 31.25 0 17.26 13.99 31.25 31.25 31.25Z",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})),O||(O=m.createElement("path",{d:"M20.834 62.5c0-11.506 9.327-20.834 20.833-20.834M71.65 9.349V4.166M85.416 14.74l3.665-3.664m-3.822 31.093 3.665 3.664M57.83 14.74l-3.665-3.664M90.651 28.35h5.182m-32.83 8.648L75 25",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},checked:function(e){return m.createElement("svg",V({width:"1em",height:"1em",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M||(M=m.createElement("rect",{x:1.214,y:.5,width:15,height:15,rx:7.5,fill:"#0086C9"})),L||(L=m.createElement("path",{d:"m12.047 5.5-4.583 4.583L5.381 8",stroke:"#fff",strokeWidth:1.667,strokeLinecap:"round",strokeLinejoin:"round"})),U||(U=m.createElement("rect",{x:1.214,y:.5,width:15,height:15,rx:7.5,stroke:"#0086C9"})))},circlenotch:function(e){return m.createElement("svg",_({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),F||(F=m.createElement("path",{d:"M37.199 10.337C20.449 15.738 8.333 31.454 8.333 50c0 23.012 18.655 41.667 41.667 41.667S91.667 73.012 91.667 50c0-18.546-12.117-34.262-28.866-39.663",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},clockrewind:function(e){return m.createElement("svg",B({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),K||(K=m.createElement("path",{d:"m22.7 13.5-2-2-2 2M21 12a9 9 0 1 1-1.245-4.57M12 7v5l3 2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},compress:function(e){return m.createElement("svg",H({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),z||(z=m.createElement("path",{d:"M87.769 12.231 66.935 33.065m0 0H87.77m-20.834 0V12.23m-54.639.065 10.417 10.417L33.13 33.13m0 0V12.296m0 20.834H12.296m75.108 54.274L66.571 66.571m0 0v20.833m0-20.833h20.833M12.635 87.365 33.47 66.53m0 0H12.635m20.834 0v20.834",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},cubes:function(e){return m.createElement("svg",Z({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),G||(G=m.createElement("path",{d:"m11.7 13.533-4.734 2.63m0 0-4.732-2.63m4.732 2.63v5.289m5.012-3.03v-4.52m0 4.52c0 .19 0 .286-.028.371a.558.558 0 0 1-.12.203c-.06.066-.144.112-.31.205L7.4 21.49c-.159.088-.238.132-.321.149a.557.557 0 0 1-.225 0c-.083-.017-.162-.061-.32-.15l-4.12-2.288c-.167-.093-.25-.14-.311-.205a.557.557 0 0 1-.12-.203c-.028-.085-.028-.18-.028-.37v-4.52c0-.191 0-.287.028-.372a.557.557 0 0 1 .12-.202c.06-.066.144-.113.31-.205l4.12-2.29c.159-.087.238-.13.321-.148a.557.557 0 0 1 .225 0c.083.017.162.061.32.149l4.12 2.289c.167.092.25.139.311.205a.558.558 0 0 1 .12.202c.028.085.028.18.028.372m0 4.52c0 .19 0 .285.028.37a.556.556 0 0 0 .119.203c.06.066.144.112.31.205l4.121 2.289c.158.088.237.132.32.149.075.015.151.015.225 0 .084-.017.163-.061.32-.15l4.12-2.288c.168-.093.25-.14.312-.205a.558.558 0 0 0 .119-.203c.028-.085.028-.18.028-.37v-4.52c0-.191 0-.287-.028-.372a.558.558 0 0 0-.12-.202c-.06-.066-.143-.113-.31-.205l-4.12-2.29c-.159-.087-.237-.13-.321-.148a.558.558 0 0 0-.224 0c-.084.017-.163.061-.32.149l-4.121 2.289c-.167.092-.25.139-.311.205a.556.556 0 0 0-.12.202c-.027.085-.027.18-.027.372m4.755-8.695L12 7.838m0 0-4.733-2.63M12 7.838v5.29m9.721.405-4.732 2.63m0 0-4.733-2.63m4.733 2.63v5.289m.022-11.355v-4.52c0-.19 0-.285-.028-.37a.556.556 0 0 0-.12-.203c-.06-.066-.143-.112-.31-.205l-4.12-2.289c-.158-.088-.237-.132-.32-.149a.557.557 0 0 0-.225 0c-.084.017-.163.061-.32.15l-4.12 2.288c-.168.093-.251.14-.312.205a.557.557 0 0 0-.119.203c-.028.085-.028.18-.028.37v4.52c0 .191 0 .287.028.372a.557.557 0 0 0 .12.202c.06.066.143.113.31.205l4.12 2.29c.158.087.237.13.32.148.075.015.151.015.225 0 .084-.017.163-.061.32-.149l4.121-2.289c.167-.092.25-.139.31-.205a.557.557 0 0 0 .12-.202c.028-.085.028-.18.028-.372Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},custom:function(e){return m.createElement("svg",Q({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),q||(q=m.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.778-6.306 14.084-14.083 14.084C6.6 33.453.295 27.143.295 19.365.295 11.586 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),W||(W=m.createElement("path",{d:"M18.059 25.043h-7.645c-.44 0-.847-.17-1.158-.481a1.625 1.625 0 0 1-.478-1.158V15.76c0-.435.171-.847.482-1.157.31-.311.722-.482 1.158-.482h3.822a.549.549 0 0 1 0 1.095h-3.822a.54.54 0 0 0-.388.16.54.54 0 0 0-.16.388v7.642a.54.54 0 0 0 .16.387.54.54 0 0 0 .388.16h7.641a.54.54 0 0 0 .387-.16.54.54 0 0 0 .16-.387v-3.823a.549.549 0 0 1 1.096 0v3.823c0 .436-.171.848-.482 1.158-.31.31-.721.482-1.157.482l-.004-.004Zm-5.458-3.275a.547.547 0 0 1-.53-.68l.544-2.184a.544.544 0 0 1 .143-.255l5.186-5.186c.645-.645 1.765-.645 2.41 0 .32.32.499.75.499 1.203 0 .454-.178.883-.5 1.204l-5.185 5.186a.546.546 0 0 1-.255.143l-2.183.548a.58.58 0 0 1-.133.017l.004.004Zm1.04-2.452-.29 1.154 1.154-.29 5.078-5.078a.607.607 0 0 0 .178-.432.607.607 0 0 0-.178-.433.628.628 0 0 0-.865 0l-5.078 5.079Z",fill:"#0086C9"})))},expand:function(e){return m.createElement("svg",ne({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),te||(te=m.createElement("path",{d:"M66.667 33.333 87.5 12.5m0 0H66.667m20.833 0v20.833m-54.167 0L12.5 12.5m0 0v20.833m0-20.833h20.833m0 54.167L12.5 87.5m0 0h20.833m-20.833 0V66.667m54.167 0L87.5 87.5m0 0V66.667m0 20.833H66.667",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},filecode:function(e){return m.createElement("svg",ae({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),re||(re=m.createElement("path",{d:"M58.333 9.457v17.21c0 2.334 0 3.5.455 4.392a4.167 4.167 0 0 0 1.82 1.82c.892.455 2.059.455 4.392.455h17.21M58.334 72.917 68.75 62.5 58.333 52.084m-16.666 0L31.25 62.5l10.417 10.417m41.666-31.3v30.05c0 7 0 10.5-1.362 13.175a12.5 12.5 0 0 1-5.463 5.462c-2.674 1.363-6.174 1.363-13.175 1.363H36.667c-7.001 0-10.501 0-13.175-1.363a12.5 12.5 0 0 1-5.463-5.462c-1.362-2.674-1.362-6.174-1.362-13.175V28.333c0-7 0-10.5 1.362-13.174a12.5 12.5 0 0 1 5.463-5.463c2.674-1.362 6.174-1.362 13.175-1.362h13.382c3.057 0 4.586 0 6.025.345a12.5 12.5 0 0 1 3.613 1.496c1.261.773 2.342 1.854 4.504 4.016l13.284 13.285c2.162 2.162 3.243 3.242 4.016 4.504a12.498 12.498 0 0 1 1.497 3.613c.345 1.439.345 2.967.345 6.025Z",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},filesignature:function(e){return m.createElement("svg",se({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ie||(ie=m.createElement("path",{d:"M58.333 9.457v17.21c0 2.334 0 3.5.455 4.392a4.167 4.167 0 0 0 1.82 1.82c.892.455 2.058.455 4.392.455h17.21M37.5 66.667 45.833 75l18.75-18.75m-6.25-47.916H36.667c-7.001 0-10.501 0-13.175 1.362a12.5 12.5 0 0 0-5.463 5.463c-1.362 2.673-1.362 6.174-1.362 13.175v43.333c0 7 0 10.5 1.362 13.175a12.5 12.5 0 0 0 5.463 5.462c2.674 1.363 6.174 1.363 13.175 1.363h26.666c7.001 0 10.501 0 13.175-1.363a12.5 12.5 0 0 0 5.463-5.462c1.362-2.674 1.362-6.174 1.362-13.175V33.333l-25-25Z",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},fileupload:function(e){return m.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"file-upload_svg__feather file-upload_svg__feather-book"},e),oe||(oe=m.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"})),le||(le=m.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})))},flask:function(e){return m.createElement("svg",ue({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),de||(de=m.createElement("path",{d:"M37.5 25v18.755c0 2.296 0 3.444-.286 4.507a8.333 8.333 0 0 1-1.232 2.631c-.634.9-1.516 1.636-3.28 3.105L17.299 66.836c-1.764 1.47-2.646 2.204-3.28 3.105a8.333 8.333 0 0 0-1.232 2.63c-.286 1.064-.286 2.212-.286 4.508v1.255c0 4.667 0 7 .908 8.783a8.334 8.334 0 0 0 3.642 3.642c1.783.908 4.116.908 8.783.908h48.334c4.667 0 7 0 8.783-.908a8.334 8.334 0 0 0 3.642-3.642c.908-1.783.908-4.116.908-8.784V77.08c0-2.296 0-3.444-.286-4.507a8.333 8.333 0 0 0-1.232-2.631c-.634-.901-1.516-1.636-3.28-3.105L67.299 53.998c-1.764-1.47-2.646-2.204-3.28-3.105a8.335 8.335 0 0 1-1.232-2.63c-.286-1.064-.286-2.212-.286-4.508V25m-27.917 0h30.834c1.166 0 1.75 0 2.195-.227.392-.2.711-.518.91-.91.228-.446.228-1.03.228-2.196v-10c0-1.167 0-1.75-.227-2.196-.2-.392-.519-.71-.91-.91-.446-.227-1.03-.227-2.196-.227H34.583c-1.166 0-1.75 0-2.195.227-.392.2-.711.518-.91.91-.228.446-.228 1.03-.228 2.196v10c0 1.167 0 1.75.227 2.196.2.392.518.71.91.91.446.227 1.03.227 2.196.227ZM22.917 70.834h54.166c1.936 0 2.904 0 3.71.16a8.333 8.333 0 0 1 6.547 6.547c.16.805.16 1.773.16 3.71 0 1.935 0 2.903-.16 3.708a8.333 8.333 0 0 1-6.548 6.548c-.805.16-1.773.16-3.709.16H22.917c-1.936 0-2.904 0-3.71-.16a8.333 8.333 0 0 1-6.547-6.548c-.16-.805-.16-1.773-.16-3.709 0-1.936 0-2.904.16-3.709a8.333 8.333 0 0 1 6.548-6.547c.805-.16 1.773-.16 3.709-.16Z",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},git:me.Z,hacker:function(e){return m.createElement("svg",ge({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),pe||(pe=m.createElement("path",{d:"M43.542 76.025c4.057-1.836 9.097-1.836 13.154 0m-17.007-6.086c5.137 4.023 5.137 10.545 0 14.569-5.137 4.023-13.466 4.023-18.603 0-5.137-4.024-5.137-10.546 0-14.57 5.137-4.022 13.466-4.022 18.603 0Zm39.463 0c5.137 4.023 5.137 10.545 0 14.569-5.137 4.023-13.466 4.023-18.603 0-5.137-4.024-5.137-10.546 0-14.57 5.137-4.022 13.466-4.022 18.603 0ZM28.714 40.747C15.866 42.067 8.27 45.065 8.27 47.982c0 4.276 18.683 7.743 41.729 7.743s41.73-3.467 41.73-7.743c0-2.51-6.697-5.406-16.676-6.82M28.854 40.24l8.519-25.635 8.47 5.987s5.948-2.493 9.317-3.95c4.767-2.063 11.72-4.167 11.72-4.167l3.991 13.882 3.99 13.883",stroke:"#000",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},heartbeat:function(e){return m.createElement("svg",fe({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),he||(he=m.createElement("path",{d:"M15.5 11.5h-1l-1.5 3-2-6-1.5 3h-1m3.493-6.364c-2-2.338-5.333-2.966-7.838-.826s-2.858 5.719-.89 8.25c1.485 1.912 5.706 5.751 7.683 7.515.363.324.545.486.758.55.184.055.39.055.575 0 .212-.064.394-.226.757-.55 1.977-1.764 6.198-5.603 7.684-7.515 1.967-2.531 1.658-6.132-.89-8.25-2.549-2.118-5.84-1.512-7.839.826Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},laptop:function(e){return m.createElement("svg",be({width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ve||(ve=m.createElement("path",{d:"M21 16.592v-8.8c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874c-.428-.218-.988-.218-2.108-.218H6.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C3 6.112 3 6.672 3 7.792v8.8m1.667 4h14.666c.62 0 .93 0 1.185-.068a2 2 0 0 0 1.414-1.415c.068-.254.068-.564.068-1.184 0-.31 0-.465-.034-.592a1 1 0 0 0-.707-.707c-.127-.034-.282-.034-.592-.034H3.333c-.31 0-.465 0-.592.034a1 1 0 0 0-.707.707C2 17.46 2 17.615 2 17.925c0 .62 0 .93.068 1.184a2 2 0 0 0 1.414 1.415c.255.068.565.068 1.185.068Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},laptopcode:function(e){return m.createElement("svg",xe({width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ye||(ye=m.createElement("path",{d:"M21.089 16.592v-8.8c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874c-.428-.218-.988-.218-2.108-.218h-11.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874c-.218.428-.218.988-.218 2.108v8.8m1.666 4h14.667c.62 0 .93 0 1.184-.068a2 2 0 0 0 1.414-1.415c.069-.254.069-.564.069-1.184 0-.31 0-.465-.034-.592a1 1 0 0 0-.708-.707c-.127-.034-.282-.034-.592-.034H3.422c-.31 0-.465 0-.592.034a1 1 0 0 0-.707.707c-.034.127-.034.282-.034.592 0 .62 0 .93.068 1.184a2 2 0 0 0 1.414 1.415c.254.068.564.068 1.184.068Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),we||(we=m.createElement("path",{d:"m14.089 13.582 2.5-2.5-2.5-2.5m-4 0-2.5 2.5 2.5 2.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},ldap:Ce.Z,magic:function(e){return m.createElement("svg",ke({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Se||(Se=m.createElement("path",{d:"m13 14-3-3m5.01-7.5V2m3.94 3.06L20.01 4m-1.06 9 1.06 1.06m-9-9L9.95 4m10.56 5h1.5M6.131 20.869l9.238-9.238c.396-.396.594-.594.668-.822a1 1 0 0 0 0-.618c-.074-.228-.272-.426-.668-.822l-.737-.738c-.397-.396-.595-.594-.823-.668a1 1 0 0 0-.618 0c-.228.074-.426.272-.822.668L3.13 17.87c-.396.396-.594.594-.668.822a1 1 0 0 0 0 .618c.074.228.272.426.668.822l.738.738c.396.396.594.594.822.668a1 1 0 0 0 .618 0c.228-.074.426-.272.822-.668Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},magicwand:function(e){return m.createElement("svg",Pe({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ae||(Ae=m.createElement("path",{d:"m54.167 58.334-12.5-12.5m20.876-31.25v-6.25m16.414 12.752 4.42-4.42m-4.42 37.5 4.42 4.42m-37.5-37.5-4.42-4.42M85.46 37.5h6.25M25.548 86.953l38.488-38.489c1.65-1.65 2.475-2.475 2.784-3.426a4.167 4.167 0 0 0 0-2.575c-.309-.952-1.134-1.777-2.784-3.427l-3.072-3.072c-1.65-1.65-2.475-2.475-3.426-2.784a4.167 4.167 0 0 0-2.575 0c-.952.31-1.777 1.134-3.427 2.784L13.047 74.453c-1.65 1.65-2.475 2.475-2.784 3.426a4.166 4.166 0 0 0 0 2.575c.31.952 1.134 1.777 2.784 3.427l3.072 3.072c1.65 1.65 2.476 2.475 3.427 2.784a4.167 4.167 0 0 0 2.575 0c.951-.31 1.776-1.134 3.427-2.784Z",stroke:"#000",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},memory:function(e){return m.createElement("svg",$e({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ie||(Ie=m.createElement("path",{d:"M14.5 18.3v2.58m2.5-9.84v-3M5.5 18.3v2.58M10 18.3v2.58m0-2.58h5.2c1.68 0 4.658 0 5.3-.327a3 3 0 0 0 1.311-1.311c.243-.477.305-1.183.322-2.142M10 18.3H8.8c-1.68 0-4.52 0-5.162-.327a3 3 0 0 1-1.311-1.311c-.243-.477-.305-1.183-.321-2.142M19 18.3v2.58m-6.88-9.84v-3m-5.04 3v-3m-5.074 6.48C2 14.188 2 13.932 2 13.5V8.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C4.28 4 7.12 4 8.8 4h6.4c1.68 0 4.658 0 5.3.327a3 3 0 0 1 1.311 1.311c.327.642.327 1.482.327 3.162v4.7c0 .432 0 .688-.006 1.02m-20.126 0h20.127",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},objectgroup:function(e){return m.createElement("svg",Te({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ne||(Ne=m.createElement("path",{d:"M19 7v10M5 7v10M17 5H7m10 14H7M4.6 7h.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C7 6.24 7 5.96 7 5.4v-.8c0-.56 0-.84-.109-1.054a1 1 0 0 0-.437-.437C6.24 3 5.96 3 5.4 3h-.8c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437C3 3.76 3 4.04 3 4.6v.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C3.76 7 4.04 7 4.6 7Zm0 14h.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C7 20.24 7 19.96 7 19.4v-.8c0-.56 0-.84-.109-1.054a1 1 0 0 0-.437-.437C6.24 17 5.96 17 5.4 17h-.8c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437C3 17.76 3 18.04 3 18.6v.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C3.76 21 4.04 21 4.6 21Zm14-14h.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C21 6.24 21 5.96 21 5.4v-.8c0-.56 0-.84-.109-1.054a1 1 0 0 0-.437-.437C20.24 3 19.96 3 19.4 3h-.8c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437C17 3.76 17 4.04 17 4.6v.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C17.76 7 18.04 7 18.6 7Zm0 14h.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C21 20.24 21 19.96 21 19.4v-.8c0-.56 0-.84-.109-1.054a1 1 0 0 0-.437-.437C20.24 17 19.96 17 19.4 17h-.8c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437C17 17.76 17 18.04 17 18.6v.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C17.76 21 18.04 21 18.6 21Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},palette:function(e){return m.createElement("svg",De({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ee||(Ee=m.createElement("path",{d:"M2 12c0 5.523 4.477 10 10 10a3 3 0 0 0 3-3v-.5c0-.464 0-.697.026-.892a3 3 0 0 1 2.582-2.582c.195-.026.428-.026.892-.026h.5a3 3 0 0 0 3-3c0-5.523-4.477-10-10-10S2 6.477 2 12Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),je||(je=m.createElement("path",{d:"M7 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM16 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM10 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},placeholder:en,plug:function(e){return m.createElement("svg",Re({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Oe||(Oe=m.createElement("path",{d:"M50 74.401c18.116 0 32.801-14.685 32.801-32.8V24.583H66.396M50 74.401c-18.115 0-32.8-14.685-32.8-32.8V24.583h49.196M50 74.401c0 10.15 0 21.389 16.396 21.389h5.363m-5.363-71.206V4.21M33.572 24.584V4.21",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},restore:function(e){return m.createElement("svg",Le({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Me||(Me=m.createElement("path",{d:"M16 5.443v-.8c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874c-.428-.218-.988-.218-2.108-.218h-1.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 2.963 8 3.523 8 4.643v.8m-5 0h18m-2 0v11.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327H9.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.31C5 19.163 5 18.322 5 16.642v-11.2m7 11.062v-6m0 0 3 3m-3-3-3 3",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},restorewindow:function(e){return m.createElement("svg",Ve({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ue||(Ue=m.createElement("path",{d:"M10.5 2.003c-.675.009-1.08.048-1.408.215a2 2 0 0 0-.874.874c-.167.328-.206.733-.215 1.408M19.5 2.003c.675.009 1.08.048 1.408.215a2 2 0 0 1 .874.874c.167.328.206.733.215 1.408m0 9c-.009.675-.048 1.08-.215 1.408a2 2 0 0 1-.874.874c-.328.167-.733.206-1.408.215M22 8v2m-8-8h2M5.2 22h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C16 20.48 16 19.92 16 18.8v-7.6c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C14.48 8 13.92 8 12.8 8H5.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C2 9.52 2 10.08 2 11.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C3.52 22 4.08 22 5.2 22Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},rocket:function(e){return m.createElement("svg",_e({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Fe||(Fe=m.createElement("path",{d:"m13 11-9.5 9.5M14.018 3.538a22.614 22.614 0 0 1 3.483 2.855 22.61 22.61 0 0 1 2.876 3.515M9.255 7.896 6.38 6.938a1 1 0 0 0-.962.185L2.56 9.541a1 1 0 0 0 .3 1.701l2.708.998m6.113 6.112.997 2.708a1 1 0 0 0 1.702.3l2.417-2.857a1 1 0 0 0 .186-.962l-.959-2.875M19.348 2.27l-4.906.817a2.443 2.443 0 0 0-1.383.741L6.446 10.9a4.652 4.652 0 0 0 6.576 6.575l7.07-6.613c.391-.367.652-.853.74-1.382l.818-4.907a2 2 0 0 0-2.302-2.301Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},route:Be.Z,share:function(e){return m.createElement("svg",ze({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ke||(Ke=m.createElement("path",{d:"M20.791 12.607c.244-.209.366-.313.411-.438a.5.5 0 0 0 0-.338c-.045-.124-.167-.23-.41-.438L12.32 4.132c-.42-.36-.63-.54-.809-.545a.5.5 0 0 0-.4.184C11 3.91 11 4.186 11 4.74v4.296a9.666 9.666 0 0 0-8 9.516v.612a11.4 11.4 0 0 1 8-4.092v4.19c0 .553 0 .83.112.968a.5.5 0 0 0 .4.184c.178-.005.388-.185.809-.545l8.47-7.26Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},sort:function(e){return m.createElement("svg",Ge({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),He||(He=m.createElement("path",{d:"M17 4v16m0 0-4-4m4 4 4-4M7 20V4m0 0L3 8m4-4 4 4",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},tachometer:function(e){return m.createElement("svg",qe({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ze||(Ze=m.createElement("path",{d:"M17.745 16a7.026 7.026 0 0 0 1.094-5.5M6.255 16a7 7 0 0 1 6.982-10.891M16.5 7.5 12 12m10 0c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-9 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},template:function(e){return m.createElement("svg",Ye({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),We||(We=m.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.778-6.306 14.084-14.083 14.084C6.6 33.453.295 27.143.295 19.365.295 11.586 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),Qe||(Qe=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.353 15.103a.611.611 0 0 0-.703-.703l-2.07.345a14.46 14.46 0 0 1 2.428 2.432l.345-2.074Zm-.79 3.496a13.128 13.128 0 0 0-1.555-1.87 13.13 13.13 0 0 0-1.85-1.542l-2.273 2.43a.546.546 0 0 1-.015.015l-1.694 1.81a2.218 2.218 0 0 0-.297 2.631l3.404-3.403a.6.6 0 1 1 .848.848l-3.39 3.39a2.218 2.218 0 0 0 2.57-.331l1.808-1.692a.626.626 0 0 1 .02-.02l2.424-2.266Zm-1.334 2.89 2.182-2.04a2.08 2.08 0 0 0 .63-1.178l.496-2.97a1.811 1.811 0 0 0-2.084-2.085l-2.972.495a2.08 2.08 0 0 0-1.176.63l-2.041 2.183-1.376-.459a1.205 1.205 0 0 0-1.16.223l-1.73 1.464a1.206 1.206 0 0 0 .361 2.052l1.102.406a3.42 3.42 0 0 0 .55 2.73L8.53 24.424a.6.6 0 1 0 .848.848l1.49-1.49a3.421 3.421 0 0 0 2.675.512l.406 1.1a1.206 1.206 0 0 0 2.052.362l1.464-1.73c.271-.321.356-.76.223-1.16l-.459-1.376Zm-.964.902-1.135 1.062a3.43 3.43 0 0 1-.479.375l.424 1.15.001.003.003.001m.004 0 .002-.002 1.464-1.73a.006.006 0 0 0 0-.005l-.284-.854m-6.34-3.29a3.43 3.43 0 0 1 .375-.478l1.062-1.135-.854-.285-.005.001-1.73 1.464-.003.002",fill:"#0086C9"})))},tag:function(e){return m.createElement("svg",Xe({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Je||(Je=m.createElement("path",{d:"M8 8h.01M2 5.2v4.475c0 .489 0 .733.055.963.05.204.13.4.24.579.123.201.296.374.642.72l7.669 7.669c1.188 1.188 1.782 1.782 2.467 2.004a3 3 0 0 0 1.854 0c.685-.222 1.28-.816 2.467-2.004l2.212-2.212c1.188-1.188 1.782-1.782 2.004-2.467a3 3 0 0 0 0-1.854c-.222-.685-.816-1.28-2.004-2.467l-7.669-7.669c-.346-.346-.519-.519-.72-.642a2.001 2.001 0 0 0-.579-.24C10.409 2 10.165 2 9.676 2H5.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C2 3.52 2 4.08 2 5.2Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},tag2:function(e){return m.createElement("svg",tt({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),et||(et=m.createElement("path",{d:"m21 11-7.594-7.594c-.519-.519-.778-.778-1.081-.964a3.001 3.001 0 0 0-.867-.36C11.112 2 10.745 2 10.012 2H6m1.928 7.857h.01M3 8.7v1.975c0 .489 0 .733.055.963.05.204.13.4.24.579.123.201.296.374.642.72l7.8 7.8c.792.792 1.188 1.188 1.645 1.337a2 2 0 0 0 1.236 0c.457-.149.853-.545 1.645-1.337l2.474-2.474c.792-.792 1.188-1.188 1.337-1.645a2 2 0 0 0 0-1.236c-.149-.457-.545-.853-1.337-1.645l-7.3-7.3c-.346-.346-.519-.519-.72-.642a2.001 2.001 0 0 0-.579-.24c-.23-.055-.474-.055-.963-.055H6.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C3 7.02 3 7.58 3 8.7Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},tools:function(e){return m.createElement("svg",rt({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),nt||(nt=m.createElement("path",{d:"m6 6 4.5 4.5M6 6H3L2 3l1-1 3 1v3Zm13.259-3.259-2.628 2.628c-.396.396-.594.594-.668.822a1 1 0 0 0 0 .618c.074.228.272.426.668.822l.238.238c.396.396.594.594.822.668a1 1 0 0 0 .618 0c.228-.074.426-.272.822-.668L21.59 5.41a5.5 5.5 0 0 1-6.16 7.485c-.485-.096-.729-.144-.876-.13a.836.836 0 0 0-.373.114c-.13.07-.261.201-.523.463L6.5 20.5a2.121 2.121 0 0 1-3-3l7.157-7.157c.262-.262.393-.393.463-.524a.836.836 0 0 0 .113-.372c.015-.148-.033-.39-.129-.877a5.5 5.5 0 0 1 8.155-5.83ZM12 15l5.5 5.5a2.121 2.121 0 0 0 3-3l-4.525-4.525a5.475 5.475 0 0 1-.934-.17c-.39-.107-.816-.03-1.101.255L12 15Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},upload:function(e){return m.createElement("svg",st({width:"1em",height:"1em",viewBox:"0 0 37 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),at||(at=m.createElement("path",{d:"M14.882 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C7.1 33.453.795 27.143.795 19.365.795 11.587 7.1 5.28 14.882 5.28Z",fill:"#E0F2FE"})),it||(it=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.796 13.281a5.599 5.599 0 0 1 5.491 3.745h.344a3.725 3.725 0 0 1 1.78 6.995.6.6 0 1 1-.574-1.053 2.524 2.524 0 0 0-1.207-4.742h-.787a.6.6 0 0 1-.58-.45 4.4 4.4 0 1 0-7.558 4.015.6.6 0 1 1-.899.795 5.6 5.6 0 0 1 3.99-9.305Zm1.66 5.796a.6.6 0 0 1 .849 0l2.5 2.5a.6.6 0 1 1-.849.848l-1.475-1.476v4.177a.6.6 0 0 1-1.2 0v-4.177l-1.476 1.476a.6.6 0 0 1-.849-.848l2.5-2.5Z",fill:"#0086C9"})))},url:function(e){return m.createElement("svg",ct({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ot||(ot=m.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.778-6.306 14.084-14.083 14.084C6.6 33.453.295 27.143.295 19.365.295 11.586 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),lt||(lt=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.762 18.765h2.548a10.162 10.162 0 0 1 1.706-4.885 5.655 5.655 0 0 0-4.254 4.885Zm5.618-4.722a8.963 8.963 0 0 0-1.866 4.722h3.733a8.963 8.963 0 0 0-1.867-4.722Zm1.867 5.922a8.963 8.963 0 0 1-1.867 4.721 8.963 8.963 0 0 1-1.866-4.721h3.733Zm-4.937 0H8.762a5.655 5.655 0 0 0 4.254 4.884 10.162 10.162 0 0 1-1.706-4.884Zm4.435 4.884a10.163 10.163 0 0 0 1.706-4.884h2.548a5.655 5.655 0 0 1-4.254 4.884Zm4.254-6.084H17.45a10.163 10.163 0 0 0-1.706-4.885 5.654 5.654 0 0 1 4.254 4.885Zm-12.469.6a6.85 6.85 0 1 1 13.7 0 6.85 6.85 0 0 1-13.7 0Z",fill:"#0086C9"})))},usercircle:function(e){return m.createElement("svg",ut({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),dt||(dt=m.createElement("path",{d:"M5.316 19.438A4.001 4.001 0 0 1 9 17h6a4.001 4.001 0 0 1 3.684 2.438M16 9.5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Zm6 2.5c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},userlock:function(e){return m.createElement("svg",mt({width:"1em",height:"1em",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),pt||(pt=m.createElement("path",{d:"M70.833 87.5v-8.333A16.667 16.667 0 0 0 54.167 62.5H20.833A16.667 16.667 0 0 0 4.167 79.167V87.5M37.5 45.833c9.205 0 16.667-7.462 16.667-16.666 0-9.205-7.462-16.667-16.667-16.667-9.205 0-16.667 7.462-16.667 16.667 0 9.204 7.462 16.666 16.667 16.666ZM88.542 35.417v-7.292a7.292 7.292 0 0 0-14.584 0v7.292m-.625 16.666h15.834c2.333 0 3.5 0 4.391-.454a4.167 4.167 0 0 0 1.821-1.82c.454-.892.454-2.059.454-4.392v-3.334c0-2.333 0-3.5-.454-4.391a4.167 4.167 0 0 0-1.82-1.821c-.892-.454-2.059-.454-4.392-.454H73.333c-2.333 0-3.5 0-4.391.454a4.167 4.167 0 0 0-1.821 1.82c-.454.892-.454 2.059-.454 4.392v3.334c0 2.333 0 3.5.454 4.391a4.167 4.167 0 0 0 1.82 1.821c.892.454 2.059.454 4.392.454Z",stroke:"currentColor",strokeWidth:8.2,strokeLinecap:"round",strokeLinejoin:"round"})))},aws:function(e){return m.createElement("svg",xt({id:"aws_svg__Layer_1",xmlns:"http://www.w3.org/2000/svg",x:0,y:0,viewBox:"0 0 304 182",style:{enableBackground:"new 0 0 304 182"},xmlSpace:"preserve",width:"1em",height:"1em"},e),vt||(vt=m.createElement("style",null,".aws_svg__st1{fill-rule:evenodd;clip-rule:evenodd;fill:#f90}")),m.createElement("path",{d:"M86.4 66.4c0 3.7.4 6.7 1.1 8.9.8 2.2 1.8 4.6 3.2 7.2.5.8.7 1.6.7 2.3 0 1-.6 2-1.9 3L83.2 92c-.9.6-1.8.9-2.6.9-1 0-2-.5-3-1.4-1.4-1.5-2.6-3.1-3.6-4.7-1-1.7-2-3.6-3.1-5.9-7.8 9.2-17.6 13.8-29.4 13.8-8.4 0-15.1-2.4-20-7.2-4.9-4.8-7.4-11.2-7.4-19.2 0-8.5 3-15.4 9.1-20.6 6.1-5.2 14.2-7.8 24.5-7.8 3.4 0 6.9.3 10.6.8 3.7.5 7.5 1.3 11.5 2.2v-7.3c0-7.6-1.6-12.9-4.7-16-3.2-3.1-8.6-4.6-16.3-4.6-3.5 0-7.1.4-10.8 1.3-3.7.9-7.3 2-10.8 3.4-1.6.7-2.8 1.1-3.5 1.3-.7.2-1.2.3-1.6.3-1.4 0-2.1-1-2.1-3.1v-4.9c0-1.6.2-2.8.7-3.5.5-.7 1.4-1.4 2.8-2.1 3.5-1.8 7.7-3.3 12.6-4.5C41 1.9 46.2 1.3 51.7 1.3c11.9 0 20.6 2.7 26.2 8.1 5.5 5.4 8.3 13.6 8.3 24.6v32.4zM45.8 81.6c3.3 0 6.7-.6 10.3-1.8 3.6-1.2 6.8-3.4 9.5-6.4 1.6-1.9 2.8-4 3.4-6.4.6-2.4 1-5.3 1-8.7v-4.2c-2.9-.7-6-1.3-9.2-1.7-3.2-.4-6.3-.6-9.4-.6-6.7 0-11.6 1.3-14.9 4-3.3 2.7-4.9 6.5-4.9 11.5 0 4.7 1.2 8.2 3.7 10.6 2.4 2.5 5.9 3.7 10.5 3.7zm80.3 10.8c-1.8 0-3-.3-3.8-1-.8-.6-1.5-2-2.1-3.9L96.7 10.2c-.6-2-.9-3.3-.9-4 0-1.6.8-2.5 2.4-2.5h9.8c1.9 0 3.2.3 3.9 1 .8.6 1.4 2 2 3.9l16.8 66.2 15.6-66.2c.5-2 1.1-3.3 1.9-3.9.8-.6 2.2-1 4-1h8c1.9 0 3.2.3 4 1 .8.6 1.5 2 1.9 3.9l15.8 67 17.3-67c.6-2 1.3-3.3 2-3.9.8-.6 2.1-1 3.9-1h9.3c1.6 0 2.5.8 2.5 2.5 0 .5-.1 1-.2 1.6-.1.6-.3 1.4-.7 2.5l-24.1 77.3c-.6 2-1.3 3.3-2.1 3.9-.8.6-2.1 1-3.8 1h-8.6c-1.9 0-3.2-.3-4-1-.8-.7-1.5-2-1.9-4L156 23l-15.4 64.4c-.5 2-1.1 3.3-1.9 4-.8.7-2.2 1-4 1h-8.6zm128.5 2.7c-5.2 0-10.4-.6-15.4-1.8-5-1.2-8.9-2.5-11.5-4-1.6-.9-2.7-1.9-3.1-2.8-.4-.9-.6-1.9-.6-2.8v-5.1c0-2.1.8-3.1 2.3-3.1.6 0 1.2.1 1.8.3.6.2 1.5.6 2.5 1 3.4 1.5 7.1 2.7 11 3.5 4 .8 7.9 1.2 11.9 1.2 6.3 0 11.2-1.1 14.6-3.3 3.4-2.2 5.2-5.4 5.2-9.5 0-2.8-.9-5.1-2.7-7-1.8-1.9-5.2-3.6-10.1-5.2L246 52c-7.3-2.3-12.7-5.7-16-10.2-3.3-4.4-5-9.3-5-14.5 0-4.2.9-7.9 2.7-11.1 1.8-3.2 4.2-6 7.2-8.2 3-2.3 6.4-4 10.4-5.2 4-1.2 8.2-1.7 12.6-1.7 2.2 0 4.5.1 6.7.4 2.3.3 4.4.7 6.5 1.1 2 .5 3.9 1 5.7 1.6 1.8.6 3.2 1.2 4.2 1.8 1.4.8 2.4 1.6 3 2.5.6.8.9 1.9.9 3.3v4.7c0 2.1-.8 3.2-2.3 3.2-.8 0-2.1-.4-3.8-1.2-5.7-2.6-12.1-3.9-19.2-3.9-5.7 0-10.2.9-13.3 2.8-3.1 1.9-4.7 4.8-4.7 8.9 0 2.8 1 5.2 3 7.1 2 1.9 5.7 3.8 11 5.5l14.2 4.5c7.2 2.3 12.4 5.5 15.5 9.6 3.1 4.1 4.6 8.8 4.6 14 0 4.3-.9 8.2-2.6 11.6-1.8 3.4-4.2 6.4-7.3 8.8-3.1 2.5-6.8 4.3-11.1 5.6-4.5 1.4-9.2 2.1-14.3 2.1z",style:{fill:"#252f3e"}}),bt||(bt=m.createElement("path",{className:"aws_svg__st1",d:"M273.5 143.7c-32.9 24.3-80.7 37.2-121.8 37.2-57.6 0-109.5-21.3-148.7-56.7-3.1-2.8-.3-6.6 3.4-4.4 42.4 24.6 94.7 39.5 148.8 39.5 36.5 0 76.6-7.6 113.5-23.2 5.5-2.5 10.2 3.6 4.8 7.6z"})),yt||(yt=m.createElement("path",{className:"aws_svg__st1",d:"M287.2 128.1c-4.2-5.4-27.8-2.6-38.5-1.3-3.2.4-3.7-2.4-.8-4.5 18.8-13.2 49.7-9.4 53.3-5 3.6 4.5-1 35.4-18.6 50.2-2.7 2.3-5.3 1.1-4.1-1.9 4-9.9 12.9-32.2 8.7-37.5z"})))},azure:Ct.Z,civo:function(e){return m.createElement("svg",kt({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 711.364 238.193",xmlSpace:"preserve"},e),St||(St=m.createElement("g",{fill:"#239DFF"},m.createElement("path",{d:"M273.539.081h-29.424c-5.424 0-8.981 4.179-8.981 9.423v219.13c0 5.245 3.557 9.447 8.981 9.447h29.424c5.424 0 9.595-4.202 9.595-9.447V9.504c0-5.244-4.171-9.423-9.595-9.423M181.662 173.122c-2.671-5.859-10.327-7.473-15.027-3.072-12.446 11.658-29.136 18.819-47.538 18.819-48.218 0-85.012-48.909-63.477-99.824 6.365-15.049 18.442-27.092 33.495-33.447 29.421-12.421 58.048-5.345 77.037 12.095 4.749 4.361 12.365 2.814 15.04-3.054l12.744-27.956c2.039-4.474.631-9.721-3.292-12.685C160.789 1.437 120.037-7.42 77.562 7.052 43.472 18.666 16.89 46.154 6.065 80.503c-25.894 82.163 34.749 157.69 113.032 157.69 27.245 0 52.286-9.214 72.327-24.633 3.786-2.913 4.973-8.113 2.991-12.462l-12.753-27.976zM705.299 80.503c-10.825-34.349-37.407-61.837-71.497-73.451-24.128-8.221-47.698-8.906-69.033-3.835-35.585 7.946-61.358 24.817-84.01 73.453l-45.455 98.598L358.15 5.667a9.498 9.498 0 0 0-8.626-5.56L315.818.054c-6.917-.011-11.524 7.142-8.653 13.436l100.064 218.79c1.542 3.383 4.917 5.67 8.634 5.671l1.637.131h37.841c.761 0 1.522-.157 2.244-.403 2.604-.887 4.798-2.745 5.938-5.311 0 0 50.098-114.027 50.681-115.402 15.244-35.949 24.495-50.922 48.691-61.206 18.307-7.78 39.955-8.727 60.885.753 14.57 6.599 26.028 18.657 32.122 33.443a80.065 80.065 0 0 1 6.122 28.142c.545 38.992-30.891 70.773-69.758 70.773-18.402 0-35.092-7.162-47.538-18.819-4.7-4.402-12.356-2.788-15.027 3.071L516.947 201.1c-1.981 4.348-.795 9.547 2.993 12.461 20.04 15.418 45.081 24.633 72.326 24.633 78.284-.001 138.926-75.528 113.033-157.691"}))))},digitalocean:function(e){return m.createElement("svg",Pt({height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -3.954 53.927 53.954"},e),At||(At=m.createElement("g",{fill:"#0080ff",fillRule:"evenodd"},m.createElement("path",{d:"M24.915 50v-9.661c10.226 0 18.164-10.141 14.237-20.904a14.438 14.438 0 0 0-8.615-8.616C19.774 6.921 9.633 14.83 9.633 25.056H0C0 8.758 15.763-3.954 32.853 1.384 40.311 3.73 46.271 9.661 48.588 17.12 53.927 34.237 41.243 50 24.915 50"}),m.createElement("path",{d:"M15.339 40.367h9.604v-9.604H15.34zm-7.401 7.401h7.4v-7.4h-7.4zm-6.187-7.4h6.187V34.18H1.751z"}))))},docker:Et.Z,dockercompose:jt.Z,ecr:Dt.Z,github:Ot.Z,gitlab:Rt.Z,google:Mt.Z,googlecloud:function(e){return m.createElement("svg",Lt({width:"1em",height:"1em",viewBox:"0 0 256 206",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},e),It||(It=m.createElement("path",{d:"m170.252 56.819 22.253-22.253 1.483-9.37C153.437-11.677 88.976-7.496 52.42 33.92 42.267 45.423 34.734 59.764 30.717 74.573l7.97-1.123 44.505-7.34 3.436-3.513c19.797-21.742 53.27-24.667 76.128-6.168l7.496.39Z",fill:"#EA4335"})),$t||($t=m.createElement("path",{d:"M224.205 73.918a100.249 100.249 0 0 0-30.217-48.722l-31.232 31.232a55.515 55.515 0 0 1 20.379 44.037v5.544c15.35 0 27.797 12.445 27.797 27.796 0 15.352-12.446 27.485-27.797 27.485h-55.671l-5.466 5.934v33.34l5.466 5.231h55.67c39.93.311 72.553-31.494 72.864-71.424a72.303 72.303 0 0 0-31.793-60.453",fill:"#4285F4"})),Nt||(Nt=m.createElement("path",{d:"M71.87 205.796h55.593V161.29H71.87a27.275 27.275 0 0 1-11.399-2.498l-7.887 2.42-22.409 22.253-1.952 7.574c12.567 9.489 27.9 14.825 43.647 14.757",fill:"#34A853"})),Tt||(Tt=m.createElement("path",{d:"M71.87 61.425C31.94 61.664-.237 94.228.001 134.159a72.301 72.301 0 0 0 28.222 56.88l32.248-32.246c-13.99-6.322-20.208-22.786-13.887-36.776 6.32-13.99 22.786-20.208 36.775-13.888a27.796 27.796 0 0 1 13.887 13.888l32.248-32.248A72.224 72.224 0 0 0 71.87 61.425",fill:"#FBBC05"})))},kubernetes:_t.Z,helm:Kt.Z,linode:function(e){return m.createElement("svg",Bt({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32"},e),Ut||(Ut=m.createElement("path",{d:"m9.545 14.42-1.2-8.258L3.37 3.074l1.612 7.8 4.562 3.556zm1.38 9.443-.852-5.823-4.356-3.63 1.17 5.648 4.038 3.804zm-3.383-.64.862 4.165L12 31.205 11.386 27l-3.842-3.78zm11.644-1.806-1.837-1.402.014.33a.19.19 0 0 1-.084.166l-1.386.934 1.507 1.23c.02.02.03.027.035.036l.022.042c.008.027.01.037.01.048l.064 1.45 1.7 1.423-.036-4.26zm6.3-4.507-.36 4.153-1.2-.828.13-2.118c0-.024-.002-.033-.003-.04-.006-.032-.012-.046-.02-.06s-.02-.028-.032-.04a.23.23 0 0 0-.032-.028l-2.56-1.69.037-1.856 4.03 2.51",fill:"#123d10"})),Vt||(Vt=m.createElement("path",{d:"m16.59 11.116-.335-7.84-7.53 2.894 1.23 8.4 6.635-3.453zm.4 9.135-.246-5.78-6.27 3.57.88 6.01 5.638-3.798zm.127 2.93-5.333 3.816.648 4.422 4.872-3.88-.186-4.357zm2.465-1.762.036 4.275 3.8-3.032.253-4.17-4.1 2.926zm9.48-6.782-.534 3.955-2.998 2.4.352-4.068 3.18-2.276",fill:"#33b652"})),Ft||(Ft=m.createElement("path",{d:"m17.472 22.812-.008-.042a.21.21 0 0 0-.019-.044c-.015-.024-.023-.032-.03-.04l-1.52-1.24 1.386-.934a.19.19 0 0 0 .084-.166l-.014-.33 1.837 1.402.036 4.26-1.7-1.423-.062-1.44zm-7.398-4.772.852 5.823-4.038-3.804-1.17-5.648 4.356 3.63zm6.904 2.212L11.34 24.05l-.88-6.01 6.27-3.57.246 5.78zm-.725-16.975.335 7.84-6.635 3.453-1.23-8.4 7.53-2.894zM8.335 6.16l1.2 8.258-4.562-3.556-1.612-7.8L8.335 6.16zm.07 21.225-.862-4.165L11.386 27l.615 4.203-3.596-3.817zm8.885.152-4.872 3.88-.648-4.422 5.333-3.816.186 4.357zm6.116-4.876-3.8 3.032-.036-4.275 4.1-2.926-.253 4.17zm.53-2.428.13-2.118c0-.024-.002-.033-.003-.04-.006-.032-.012-.046-.02-.06s-.02-.028-.032-.04a.23.23 0 0 0-.032-.028l-2.56-1.69.037-1.856 4.03 2.51-.36 4.153-1.2-.828zm1.58.747.352-4.068 3.18-2.276-.534 3.955-2.998 2.4zm3.97-6.77-.006-.03a.176.176 0 0 0-.01-.03.23.23 0 0 0-.027-.045c-.02-.023-.03-.03-.04-.038l-4.368-2.42a.182.182 0 0 0-.192.008l-3.674 2.246c-.006 0-.01.01-.016.013s-.013.01-.02.015l-.016.02c-.005.008-.01.01-.014.018s-.008.017-.01.026-.006.013-.008.02-.003.02-.004.03l-.042 1.97-1.494-.987a.186.186 0 0 0-.205 0l-2.15 1.314-.093-2.186-.007-.042a.118.118 0 0 0-.007-.02.19.19 0 0 0-.011-.024c-.004-.008-.008-.013-.013-.02l-.015-.02c-.005-.007-.012-.01-.02-.016l-2.25-1.514 2.094-1.1a.192.192 0 0 0 .103-.178l-.352-8.228a.313.313 0 0 0-.005-.03c-.006-.03-.013-.045-.022-.06s-.022-.03-.032-.04c-.017-.017-.022-.02-.028-.024-.017-.008-.02-.008-.022-.015L10.873.115a.19.19 0 0 0-.14-.011L3.036 2.502l-.05.028-.04.037-.014.023c-.004.008-.01.015-.013.024l-.01.03c-.006.03-.005.04-.005.05l.001.027 1.718 8.302c.01.044.034.084.07.112l2.33 1.817-1.685.802c-.02.008-.022.015-.026.016l-.027.023c-.022.024-.028.036-.034.047a.14.14 0 0 0-.02.062.24.24 0 0 0 .002.055l1.292 6.25a.19.19 0 0 0 .056.1l1.622 1.528-1.075.658c-.014.008-.026.02-.038.03a.282.282 0 0 0-.032.045.22.22 0 0 0-.021.065.171.171 0 0 0 .003.055l1 4.842a.195.195 0 0 0 .048.092l4.048 4.298c.006.008.013.01.02.017.02.017.033.024.047.03.027.008.05.013.072.013s.038 0 .056-.01.022-.008.027-.015c.008 0 .014-.01.02-.014l5.223-4.157a.195.195 0 0 0 .072-.157l-.122-2.85 1.74 1.464c.02.015.03.023.04.028s.02.008.025.015c.02.008.038.01.057.01s.037-.008.056-.01c.017-.008.022-.008.026-.015.01-.008.017-.01.026-.017l4.186-3.337a.192.192 0 0 0 .072-.138l.127-2.09 1.27.884c.012.008.015.015.02.015.007.008.015.008.023.01.033.015.05.015.067.015s.038 0 .056-.01.02-.008.026-.015c.01-.008.02-.012.03-.018l3.415-2.722a.183.183 0 0 0 .07-.124l.604-4.47.001-.037",fill:"#231f20"})))},microsoft:Ht.Z,nomad:function(e){return m.createElement("svg",Gt({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),zt||(zt=m.createElement("path",{d:"M12.273 6.172 0 13.328v14.316L12.265 34.8l12.273-7.156V13.328L12.273 6.172Zm5.476 15.75L14.48 23.83l-3.95-2.183v4.563l-3.711 2.38v-9.535l2.948-1.822 4.086 2.175V14.75l3.896-2.367v9.54Z",fill:"#00CA8E"})))},openldap:Wt.Z,proget:Qt.Z,quay:Yt.Z,internal:function(e){return m.createElement("svg",Jt({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Zt||(Zt=m.createElement("path",{d:"M14.382 5.28c7.777 0 14.083 6.306 14.083 14.085 0 7.779-6.306 14.085-14.083 14.085C6.6 33.453.295 27.143.295 19.365.295 11.587 6.6 5.28 14.382 5.28Z",fill:"#E0F2FE"})),qt||(qt=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.38 14.085c-3.026 0-5.479 2.425-5.479 5.416 0 2.991 2.453 5.416 5.48 5.416 3.026 0 5.479-2.425 5.479-5.416 0-2.991-2.453-5.416-5.48-5.416Zm-6.563 5.416c0-3.583 2.939-6.487 6.563-6.487 3.625 0 6.564 2.904 6.564 6.487s-2.939 6.487-6.563 6.487c-3.625 0-6.564-2.904-6.564-6.487Zm6.563-2.916c.3 0 .542.24.542.535v3.468l1.484-1.466a.546.546 0 0 1 .766 0 .531.531 0 0 1 0 .758l-2.408 2.38a.547.547 0 0 1-.767 0l-2.408-2.38a.531.531 0 0 1 0-.758.546.546 0 0 1 .766 0l1.484 1.466V17.12c0-.296.242-.535.541-.535Z",fill:"#0086C9"})))}},nn=function(e){var t=e.icon,n=e.className,r=tn[t];return r?(0,Xt.jsx)("span",{className:n,"aria-hidden":"true",children:(0,Xt.jsx)(r,{})}):(0,Xt.jsx)("span",{className:n,"aria-hidden":"true",children:(0,Xt.jsx)(wt,{})})};function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e){var t=e.icon,n=e.feather,r=e.className,a=e.mode,i=e.size,c=(0,s.Z)(r,"icon",rn({},"icon-".concat(a),a),rn({},"icon-".concat(i),i));if("string"!=typeof t){var d=(0,l.isValidElementType)(t)?t:null;return(0,Xt.jsx)("span",{className:c,"aria-hidden":"true",role:"img",children:null==d?(0,Xt.jsx)(Xt.Fragment,{children:t}):(0,Xt.jsx)(d,{size:"1em"})})}if(0===t.indexOf("svg-")){var u=t.replace("svg-","");return(0,Xt.jsx)(nn,{icon:u,className:(0,s.Z)(c,"!flex")})}if(n){var p=t.split("-").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join(""),m=o[p];if(!m)throw new Error("Feather icon not found: ".concat(p));return(0,Xt.jsx)(m,{className:c})}return(0,Xt.jsx)("i",{className:(0,s.Z)(t.startsWith("fa-")?"fa ".concat(t):t,c),"aria-hidden":"true",role:"img"})}},83302:function(e,t,n){"use strict";n.d(t,{$:function(){return s}});var r=n(29561),a=n(12584),i=n(2629);function s(e){var t=e.title,n=e.onDismiss,s=e.wrapperStyle,o=e.bodyClassName,l=e.children;return(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-sm-12",children:(0,i.jsx)(r.$L,{children:(0,i.jsx)(r.kh,{className:o,children:(0,i.jsxs)("div",{style:s,children:[t&&(0,i.jsxs)("div",{className:"col-sm-12 form-section-title",children:[(0,i.jsx)("span",{style:{float:"left"},children:t}),!!n&&(0,i.jsx)("span",{className:"small",style:{float:"right"},"ng-if":"dismissAction",children:(0,i.jsxs)(a.zx,{color:"link",onClick:function(){return n()},children:[(0,i.jsx)("i",{className:"fa fa-times"})," dismiss"]})})]}),(0,i.jsx)("div",{children:l})]})})})})})}},31051:function(e,t,n){"use strict";n.d(t,{r:function(){return d}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(89023),a=n(39532),i=n(2629),s=["title","className","children"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=e.title,n=void 0===t?"":t,o=e.className,c=e.children,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,s);return(0,i.jsx)(r.UISref,l(l({className:(0,a.Z)("no-decoration",o)},d),{},{children:(0,i.jsx)("a",{title:n,target:d.target,children:c})}))}},60304:function(e,t,n){"use strict";n.d(t,{o:function(){return s}}),n(78495),n(65562),n(92429);var r=n(39532),a=n(2629);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=e.options,n=e.selectedId,s=e.onSelect,o=void 0===s?function(){}:s,l=e.disabled,c=t.find((function(e){return e.id===n}));return(0,a.jsxs)("div",{className:"nav-container",children:[(0,a.jsx)("ul",{className:"nav nav-tabs",children:t.map((function(e){var t;return(0,a.jsx)("li",{className:(0,r.Z)((t={active:e.id===n},i(t,"app-react-components-NavTabs-NavTabs-module__parent",!e.children),i(t,"disabled",l),t)),children:(0,a.jsx)("a",{onClick:function(){return d(e)},onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||d(e)},role:"button",tabIndex:0,children:e.label})},e.id)}))}),c&&c.children&&(0,a.jsx)("div",{className:"tab-content mt-3",children:c.children})]});function d(e){l||e.children&&o(e.id)}}},71535:function(e,t,n){"use strict";n.d(t,{m:function(){return L}});var r=n(89023),a=n(96636),i=n(12584),s=(n(92429),n(42108),n(95004)),o=n(31051),l=n(2629);function c(e){var t=e.breadcrumbs,n=Array.isArray(t)?t:[t];return(0,l.jsx)("div",{className:"text-xs font-medium text-gray-7 th-dark:text-gray-5 th-highcontrast:text-white space-x-2",children:n.map((function(e,t){return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)("span",{children:d(e)}),t!==n.length-1&&(0,l.jsx)("span",{children:">"})]},t)}))})}function d(e){return e?"string"==typeof e?e:e.link?(0,l.jsx)(o.r,{to:e.link,params:e.linkParams,className:"text-blue-9 hover:underline hover:text-blue-11 th-dark:text-blue-7 th-dark:hover:text-blue-9 th-highcontrast:text-blue-5",children:e.label}):e.label:""}var u=n(39532),p=(0,s.createContext)(null);function m(e){var t=e.id,n=e.children;return(0,l.jsx)(p.Provider,{value:!0,children:(0,l.jsxs)("div",{id:t,className:(0,u.Z)("row","app-react-components-PageHeader-HeaderContainer-module__header"),children:[(0,l.jsx)("div",{id:"loadingbar-placeholder"}),(0,l.jsx)("div",{className:"col-xs-12",children:(0,l.jsx)("div",{className:"app-react-components-PageHeader-HeaderContainer-module__meta",children:n})})]})})}p.displayName="PageHeaderContext";var g=n(86704),h=n(48780),f="app-react-components-PageHeader-HeaderTitle-module__menu-button",v="app-react-components-PageHeader-HeaderTitle-module__menu-icon",b="app-react-components-PageHeader-HeaderTitle-module__menu-list",y="app-react-components-PageHeader-HeaderTitle-module__menu-link";function w(){return(0,l.jsx)("div",{className:(0,u.Z)(f),children:(0,l.jsx)("div",{className:(0,u.Z)(v,"menu-icon","icon-badge text-lg !p-2 mr-1","text-gray-8","th-dark:text-gray-warm-7"),title:"Help",children:(0,l.jsx)(g.Z,{className:"feather",onClick:function(){var e=(0,h.getDocURL)();window.open(e,"_blank")}})})})}n(59690),n(65562),n(57592),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var x=n(29937),S=n(4396),C=n.n(S),k=n(22037),A=n(50265),P=n(2792),I=n(76598);function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(){var e=(0,k.oR)(I.P),t=e.removeNotification,n=e.clearUserNotifications,r=(0,A.aF)().user,a=(0,k.oR)(I.P,(function(e){return e.userNotifications[r.Id]}));a&&a.length>1&&a.sort((function(e,t){return new Date(t.timeStamp).getTime()-new Date(e.timeStamp).getTime()}));var c,d,p=(c=(0,s.useState)(!1),d=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(c,d)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(c,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],g=p[1];return(0,s.useEffect)((function(){(null==a?void 0:a.length)>0?g(!0):g(!1)}),[a]),(0,l.jsxs)(x.v2,{children:[(0,l.jsx)(x.j2,{className:(0,u.Z)("ml-auto flex items-center gap-1 self-start",f),"data-cy":"notificationsMenu-button","aria-label":"Notifications menu toggle",children:(0,l.jsxs)("div",{className:(0,u.Z)(v,"icon-badge text-lg !p-2 mr-1","text-gray-8","th-dark:text-gray-warm-7"),children:[(0,l.jsx)(P.J,{icon:"bell",feather:!0}),(0,l.jsx)("span",{className:m?"app-react-components-PageHeader-NotificationsMenu-module__badge":""})]})}),(0,l.jsxs)(x.qy,{className:(0,u.Z)(b,"app-react-components-PageHeader-NotificationsMenu-module__root"),"aria-label":"Notifications Menu","data-cy":"notificationsMenu",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:(0,u.Z)("app-react-components-PageHeader-NotificationsMenu-module__notification-container","vertical-center"),children:[(0,l.jsx)("div",{children:(0,l.jsx)("h4",{children:"Notifications"})}),(0,l.jsx)("div",{className:"app-react-components-PageHeader-NotificationsMenu-module__item-last",children:(null==a?void 0:a.length)>0&&(0,l.jsx)(i.zx,{color:"none",onClick:function(e){e.stopPropagation(),e.preventDefault(),n(r.Id)},"data-cy":"notification-deleteButton",children:"Clear all"})})]})}),(null==a?void 0:a.length)>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"app-react-components-PageHeader-NotificationsMenu-module__notifications",children:a.map((function(e){return(0,l.jsx)(T,{to:"portainer.notifications",params:{id:e.id},notification:e,onDelete:function(){return n=e.id,void t(r.Id,n);var n}},e.id)}))}),(0,l.jsx)("div",{className:"app-react-components-PageHeader-NotificationsMenu-module__notification-link",children:(0,l.jsx)(o.r,{to:"portainer.notifications",children:"View all notifications"})})]}):(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)(P.J,{icon:"bell",feather:!0,size:"xl"}),(0,l.jsx)("p",{className:"my-5",children:"You have no notifications yet."})]})]})]})}function T(e){var t=e.to,n=e.params,a=e.notification,s=e.onDelete,o=(0,r.useSref)(t,n);return(0,l.jsx)(x.Uk,{href:o.href,onClick:o.onClick,className:(0,u.Z)(y,"app-react-components-PageHeader-NotificationsMenu-module__notification"),children:(0,l.jsxs)("div",{className:"app-react-components-PageHeader-NotificationsMenu-module__container",children:[(0,l.jsx)("div",{className:"app-react-components-PageHeader-NotificationsMenu-module__notificationIcon",children:"success"===a.type?(0,l.jsx)(P.J,{icon:"check-circle",feather:!0,size:"lg",mode:"success"}):(0,l.jsx)(P.J,{icon:"alert-circle",feather:!0,size:"lg",mode:"danger"})}),(0,l.jsxs)("div",{className:"app-react-components-PageHeader-NotificationsMenu-module__notificationBody",children:[(0,l.jsx)("p",{className:"app-react-components-PageHeader-NotificationsMenu-module__notification-title",children:a.title}),(0,l.jsx)("p",{className:"app-react-components-PageHeader-NotificationsMenu-module__notification-details",children:a.details}),(0,l.jsx)("p",{className:"small text-muted",children:E(a.timeStamp)})]}),(0,l.jsx)("div",{className:"app-react-components-PageHeader-NotificationsMenu-module__deleteButton",children:(0,l.jsx)(i.zx,{color:"none",onClick:function(e){e.stopPropagation(),e.preventDefault(),s()},"data-cy":"notification-deleteButton",size:"large",children:(0,l.jsx)(P.J,{icon:"trash-2",feather:!0})})})]})})}function E(e){var t=new Date(e).valueOf().toString(),n=Math.floor((Date.now()-parseInt(t,10))/1e3);if(n<=86400){var r=Math.floor(n/3600);if(r>=1)return"".concat(r," hours ago");if((r=Math.floor(n/60))>=1)return"".concat(r," min ago")}return n>86400?C()(e).format("YYYY-MM-DD h:mm:ss"):"Just now"}var j=n(64490),D=n(92855);function O(){var e=(0,A.aF)().user;return(0,l.jsxs)(x.v2,{children:[(0,l.jsxs)(x.j2,{className:(0,u.Z)("ml-auto flex items-center gap-1 self-start",f),"data-cy":"userMenu-button","aria-label":"User menu toggle",children:[(0,l.jsx)("div",{className:(0,u.Z)(v,"icon-badge text-lg !p-2 mr-1","text-gray-8","th-dark:text-gray-warm-7"),children:(0,l.jsx)(j.Z,{className:"feather"})}),e&&(0,l.jsx)("span",{children:e.Username}),(0,l.jsx)(D.Z,{className:"app-react-components-PageHeader-HeaderTitle-module__arrow-down"})]}),(0,l.jsxs)(x.qy,{className:b,"aria-label":"User Menu","data-cy":"userMenu",children:[(0,l.jsx)(R,{to:"portainer.account",label:"My account","data-cy":"userMenu-myAccount"}),(0,l.jsx)(R,{to:"portainer.logout",label:"Log out","data-cy":"userMenu-logOut",params:{performApiLogout:!0}})]})]})}function R(e){var t=e.to,n=e.label,a=e.params,i=e.options,s=e["data-cy"],o=(0,r.useSref)(t,a,i);return(0,l.jsx)(x.Uk,{href:o.href,onClick:o.onClick,className:y,"aria-label":n,"data-cy":s,children:n})}function M(e){var t=e.title,n=e.children;return function(){if(null==(0,s.useContext)(p))throw new Error("Should be nested inside a HeaderContainer component")}(),(0,l.jsxs)("div",{className:"flex justify-between whitespace-normal pt-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"font-medium text-2xl text-gray-11 th-dark:text-white th-highcontrast:text-white",children:t}),n&&(0,l.jsx)("span",{children:n})]}),(0,l.jsxs)("div",{className:"flex items-end",children:[(0,l.jsx)(N,{}),(0,l.jsx)(w,{}),!window.ddExtension&&(0,l.jsx)(O,{})]})]})}function L(e){var t=e.id,n=e.title,s=e.breadcrumbs,o=void 0===s?[]:s,d=e.reload,u=e.loading,p=e.onReload,g=(0,r.useRouter)();return(0,l.jsxs)(m,{id:t,children:[(0,l.jsx)(c,{breadcrumbs:o}),(0,l.jsx)(M,{title:n,children:d&&(0,l.jsx)(i.zx,{color:"none",size:"large",onClick:function(){return p?p():g.stateService.reload()},className:"app-react-components-PageHeader-PageHeader-module__reloadButton",disabled:u,children:(0,l.jsx)(a.Z,{className:"icon"})})})]})}},15865:function(e,t,n){"use strict";function r(e,t,n,r){var a=Math.ceil(n/2);return e===n?r:1===e?e:n<r?r-a<t?r-n+e:a<t?t-a+e:e:e}n.d(t,{W:function(){return m}}),n(92429);var a=n(39532),i=n(2629);function s(e){var t=e.children,n=e.page,r=e.disabled,s=e.active,o=e.onPageChange;return(0,i.jsx)("li",{className:(0,a.Z)({disabled:r,active:s}),children:(0,i.jsx)("button",{type:"button",onClick:function(){return"number"==typeof n&&o(n)},disabled:r,children:t})})}n(42240),n(65562),n(47771),n(77072),n(49329),n(36554),n(15363),n(50527),n(40958);var o=n(69592),l=n(88606),c=n(12584),d=n(13880);function u(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function p(e){var t,n,r=e.onChange,a=e.totalPages,s=(0,o.TA)({initialValues:{page:""},onSubmit:(t=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,e.abrupt("return",n&&r(n));case 2:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(e){u(i,r,a,s,o,"next",e)}function o(e){u(i,r,a,s,o,"throw",e)}s(void 0)}))},function(e){return n.apply(this,arguments)}),validateOnMount:!0,validationSchema:function(){return(0,l.Ry)({page:(0,l.Rx)().required().max(a).min(1)})}}),p=s.handleSubmit,m=s.setFieldValue,g=s.values,h=s.isValid;return(0,i.jsxs)("form",{className:"mx-3",onSubmit:p,children:[(0,i.jsx)("label",{className:"m-0 mr-2 font-normal small",htmlFor:"go-to-page-input",children:"Go to page"}),(0,i.jsx)(d.I,{id:"go-to-page-input",className:"!w-32",type:"number",value:g.page,max:a,min:1,step:1,onChange:function(e){var t=parseInt(e.target.value,10);m("page",Number.isNaN(t)?"":t)},onKeyPress:function(e){e.key.match(/^\D$/)&&e.preventDefault()}}),(0,i.jsx)(c.zx,{type:"submit",disabled:!h,children:"Go"})]})}function m(e){var t=e.currentPage,n=e.totalCount,a=e.itemsPerPage,o=e.onPageChange,l=e.maxSize,c=void 0===l?5:l,d=e.directionLinks,u=void 0===d||d,m=e.boundaryLinks,g=void 0!==m&&m,h=e.isInputVisible,f=void 0!==h&&h,v=function(e,t,n,a){var i,s=[],o=Math.ceil(t/n),l=Math.ceil(a/2);i=e<=l?"start":o-l<e?"end":"middle";for(var c=a<o,d=1;d<=o&&d<=a;d+=1){var u=r(d,e,a,o);!c||(2!==d||"middle"!==i&&"end"!==i)&&(d!==a-1||"middle"!==i&&"start"!==i)?s.push(u):s.push("...")}return s}(t,n,a,c),b=v[v.length-1];return v.length<=1?null:(0,i.jsxs)(i.Fragment,{children:[f&&(0,i.jsx)(p,{onChange:function(e){return o(e)},totalPages:Math.ceil(n/a)}),(0,i.jsxs)("ul",{className:"pagination",children:[g?(0,i.jsx)(s,{onPageChange:o,page:1,disabled:1===t,children:""}):null,u?(0,i.jsx)(s,{onPageChange:o,page:t-1,disabled:1===t,children:""}):null,v.map((function(e,n){return(0,i.jsx)(s,{onPageChange:o,page:e,disabled:"..."===e,active:t===e,children:e},n)})),u?(0,i.jsx)(s,{onPageChange:o,page:t+1,disabled:t===b,children:""}):null,g?(0,i.jsx)(s,{disabled:t===b,onPageChange:o,page:b,children:""}):null]})]})}},59765:function(e,t,n){"use strict";n.d(t,{j:function(){return s}}),n(15363),n(43119),n(92429),n(65562),n(57592);var r=n(2629);function a(e){var t=e.value,n=e.onChange,a=e.showAll;return(0,r.jsxs)("span",{className:"limitSelector",children:[(0,r.jsx)("span",{className:"space-right",children:"Items per page"}),(0,r.jsxs)("select",{className:"form-control",value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(Number(e.target.value))})),"data-cy":"paginationSelect",children:[a?(0,r.jsx)("option",{value:Number.MAX_SAFE_INTEGER,children:"All"}):null,[10,25,50,100].map((function(e){return(0,r.jsx)("option",{value:e,children:e},e)}))]})]})}var i=n(15865);function s(e){var t=e.pageLimit,n=e.page,s=e.onPageLimitChange,o=e.showAll,l=e.onPageChange,c=e.totalCount,d=e.isPageInputVisible;return(0,r.jsx)("div",{className:"paginationControls",children:(0,r.jsxs)("div",{className:"form-inline flex",children:[(0,r.jsx)(a,{value:t,onChange:function(e){s(e),l(1)},showAll:o}),0!==t&&(0,r.jsx)(i.W,{maxSize:5,onPageChange:l,currentPage:n,itemsPerPage:t,totalCount:c,isInputVisible:d})]})})}},95793:function(e,t,n){"use strict";n.d(t,{H:function(){return i}}),n(20493),n(92429),n(65562),n(57592);var r=n(68871),a=n(2629);function i(e){var t=e.name,n=e.value,i=e.onChange,s=e.teams,o=e.dataCy,l=e.inputId,c=e.placeholder,d=s.map((function(e){return{label:e.Name,value:e.Id}}));return(0,a.jsx)(r.dU,{name:t,isMulti:!0,options:d,value:n,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return i(e)})),"data-cy":o,inputId:l,placeholder:c})}},18311:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var r=n(39532),a=n(2792),i=n(2629);function s(e){var t,n=e.color,s=void 0===n?"orange":n,o=e.children;return t="blue"===s?"icon-primary":"icon-warning",(0,i.jsxs)("p",{className:"small vertical-center",children:[(0,i.jsx)("i",{className:"icon-container",children:(0,i.jsx)(a.J,{icon:"alert-circle",feather:!0,className:(0,r.Z)("".concat(t),"space-right")})}),(0,i.jsx)("span",{className:"text-muted",children:o})]})}},54497:function(e,t,n){"use strict";n.d(t,{u:function(){return c}});var r=n(91941),a=n.n(r),i=n(76204),s=n(86704),o=n(39532),l=n(2629);function c(e){var t=e.message,n=e.position,r=void 0===n?"bottom":n,c=e.className,d=a()("tooltip-");return(0,l.jsxs)("span",{"data-tip":t,"data-for":d,className:(0,o.Z)("app-react-components-Tip-Tooltip-Tooltip-module__icon","inline-flex text-base"),children:[(0,l.jsx)(s.Z,{className:"feather","aria-hidden":"true"}),(0,l.jsx)(i.Z,{id:d,multiline:!0,type:"info",place:r,effect:"solid",className:(0,o.Z)("app-react-components-Tip-Tooltip-Tooltip-module__tooltip",c),arrowColor:"transparent"})]})}},61645:function(e,t,n){"use strict";n.d(t,{f:function(){return i}}),n(20493),n(66549),n(65562),n(15845),n(7974),n(92429),n(57592);var r=n(6174),a=n(2629);function i(e){var t=e.name,n=e.value,i=e.onChange,s=e.users,o=e.dataCy,l=e.inputId,c=e.placeholder;return(0,a.jsx)(r.P,{isMulti:!0,name:t,getOptionLabel:function(e){return e.Username},getOptionValue:function(e){return"".concat(e.Id)},options:s,value:s.filter((function(e){return n.includes(e.Id)})),closeMenuOnSelect:!1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return i(e.map((function(e){return e.Id})))})),"data-cy":o,inputId:l,placeholder:c})}},35094:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(39532),a=n(2629);function i(e){var t=e.message;return(0,a.jsxs)("div",{className:(0,r.Z)("row","app-react-components-ViewLoading-ViewLoading-module__root"),children:[(0,a.jsxs)("div",{className:"sk-fold",children:[(0,a.jsx)("div",{className:"sk-fold-cube"}),(0,a.jsx)("div",{className:"sk-fold-cube"}),(0,a.jsx)("div",{className:"sk-fold-cube"}),(0,a.jsx)("div",{className:"sk-fold-cube"})]}),t&&(0,a.jsxs)("span",{className:"app-react-components-ViewLoading-ViewLoading-module__message",children:[t,(0,a.jsx)("i",{className:"fa fa-cog fa-spin space-left"})]})]})}},53848:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(2629);function a(){return(0,r.jsxs)("div",{className:"loading",children:[(0,r.jsx)("div",{className:"double-bounce1"}),(0,r.jsx)("div",{className:"double-bounce2"})]})}},29561:function(e,t,n){"use strict";n.d(t,{$L:function(){return p},kh:function(){return c},PI:function(){return u}});var r=n(95004),a=n(2629),i=(0,r.createContext)(null);function s(){if(null==(0,r.useContext)(i))throw new Error("Should be inside a Widget component")}i.displayName="WidgetContext";var o=n(39532),l=n(53848);function c(e){var t=e.loading,n=e.className,r=e.children;return s(),(0,a.jsx)("div",{className:(0,o.Z)(n,"widget-body"),children:t?(0,a.jsx)(l.g,{}):(0,a.jsx)("div",{className:"widget-content",children:r})})}var d=n(2792);function u(e){var t=e.title,n=e.icon,r=e.className,i=e.children,l=e.featherIcon;return s(),(0,a.jsx)("div",{className:"widget-header",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("span",{className:(0,o.Z)("pull-left vertical-center",r),children:[(0,a.jsx)("div",{className:"widget-icon",children:(0,a.jsx)(d.J,{icon:n,feather:l,className:"space-right feather"})}),(0,a.jsx)("span",{children:t})]}),(0,a.jsx)("span",{className:(0,o.Z)("pull-right",r),children:i})]})})}var p=function(e){var t=e.children;return(0,a.jsx)(i.Provider,{value:!0,children:(0,a.jsx)("div",{className:"widget",children:t})})};p.Body=c,p.Footer=function(e){var t=e.children;return s(),(0,a.jsx)("div",{className:"widget-footer",children:t})},p.Title=u,p.Taskbar=function(e){var t=e.children,n=e.className;return s(),(0,a.jsx)("div",{className:"widget-header",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:n,children:t})})})},p.Loading=l.g},51646:function(e,t,n){"use strict";n.d(t,{z:function(){return d}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(39532),a=n(2792),i=n(2629),s=["type","color","size","disabled","className","onClick","title","icon","featherIcon","children"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=e.type,n=void 0===t?"button":t,o=e.color,c=void 0===o?"primary":o,d=e.size,m=void 0===d?"small":d,g=e.disabled,h=void 0!==g&&g,f=e.className,v=e.onClick,b=e.title,y=e.icon,w=e.featherIcon,x=e.children,S=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,s);return(0,i.jsxs)("button",l(l({type:n,disabled:h,className:(0,r.Z)("btn btn-".concat(c),p(m),f),onClick:v,title:b},S),{},{children:[y&&(0,i.jsx)(a.J,{icon:y,size:u(m),className:"inline-flex",feather:w}),x]}))}function u(e){switch(e){case"xsmall":return"xs";case"medium":return"md";case"large":return"lg";default:return"sm"}}function p(e){switch(e){case"large":return"btn-lg";case"medium":return"btn-md";case"xsmall":return"btn-xs";default:return"btn-sm"}}},18917:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(39532),a=n(2629);function i(e){var t=e.size,n=void 0===t?"small":t,i=e.children,o=e.className;return(0,a.jsx)("div",{className:(0,r.Z)("btn-group",s(n),o),role:"group",children:i})}function s(e){switch(e){case"xsmall":return"btn-group-xs";case"large":return"btn-group-lg";default:return""}}},1831:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var r=n(39532),a=n(2792),i=n(51646),s=n(66070),o=n(2629);function l(e){var t=e.copyText,n=e.fadeDelay,l=void 0===n?1e3:n,c=e.displayText,d=void 0===c?"copied":c,u=e.className,p=e.children,m=(0,s.F)(t,l),g=m.handleCopy,h=m.copiedSuccessfully;return(0,o.jsxs)("div",{className:"app-react-components-buttons-CopyButton-CopyButton-module__container",children:[(0,o.jsxs)(i.z,{className:u,size:"small",onClick:g,title:"Copy Value",type:"button",children:[(0,o.jsx)(a.J,{icon:"copy",feather:!0}),p]}),(0,o.jsxs)("span",{className:(0,r.Z)(h&&"app-react-components-buttons-CopyButton-CopyButton-module__fadeout","app-react-components-buttons-CopyButton-CopyButton-module__display-text","space-left","vertical-center"),children:[(0,o.jsx)(a.J,{icon:"check",feather:!0}),d&&(0,o.jsx)("span",{className:"space-left",children:d})]})]})}},66070:function(e,t,n){"use strict";n.d(t,{F:function(){return s}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var r=n(95004);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=(0,r.useState)(!1),i=a(n,2),s=i[0],o=i[1];function l(){if(navigator.clipboard)navigator.clipboard.writeText(e);else{var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.hidden=!0,document.body.removeChild(t)}o(!0)}return(0,r.useEffect)((function(){var e=setTimeout((function(){return o(!1)}),t);return function(){clearTimeout(e)}}),[s,t]),{handleCopy:l,copiedSuccessfully:s}}},97347:function(e,t,n){"use strict";n.d(t,{f:function(){return c}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(51646),a=n(2629),i=["loadingText","isLoading","disabled","type","children"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.loadingText,n=e.isLoading,s=e.disabled,l=e.type,c=void 0===l?"submit":l,d=e.children,u=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i);return(0,a.jsx)(r.z,o(o({},u),{},{type:c,disabled:s||n,children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fa fa-circle-notch fa-spin space-right","aria-label":"loading","aria-hidden":"true"}),t]}):d}))}},12584:function(e,t,n){"use strict";n.d(t,{HS:function(){return o},zx:function(){return r.z},hE:function(){return l.h},fl:function(){return c.f}});var r=n(51646),a=n(39532),i=n(2792),s=n(2629);function o(e){var t=e.label,n=e.onClick,r=e.className,o=e.disabled;return(0,s.jsxs)("button",{className:(0,a.Z)(r,"label","label-default","vertical-center","interactive","vertical-center","app-react-components-buttons-AddButton-module__add-button"),type:"button",onClick:n,disabled:o,children:[(0,s.jsx)(i.J,{icon:"plus-circle",feather:!0}),t]})}var l=n(18917),c=n(97347);n(1831)},2294:function(e,t,n){"use strict";n.d(t,{a:function(){return c}}),n(92429),n(66549),n(65562),n(78433),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),n(20493),n(77072);var r=n(39532),a=n(29937),i=n(48770),s=n(59748),o=n(2629);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t=e.columns,n=e.onChange,c=e.value;return(0,o.jsx)(a.v2,{className:"setting",children:function(e){var d=e.isExpanded;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.j2,{className:(0,r.Z)("table-setting-menu-btn",{"setting-active":d}),children:(0,o.jsx)(i.Z,{size:"13",className:"space-right",strokeWidth:"3px","aria-hidden":"true","aria-label":"Columns"})}),(0,o.jsx)(a.qy,{children:(0,o.jsxs)("div",{className:"tableMenu",children:[(0,o.jsx)("div",{className:"menuHeader",children:"Show / Hide Columns"}),(0,o.jsx)("div",{className:"menuContent",children:t.map((function(e){return(0,o.jsx)("div",{children:(0,o.jsx)(s.X,{checked:e.isVisible,label:e.Header,id:"visibility_".concat(e.id),onChange:function(t){return r=e.id,a=t.target.checked,void n(a?c.filter((function(e){return e!==r})):[].concat((i=c,function(e){if(Array.isArray(e))return l(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[r]));var r,a,i}})},e.id)}))})]})})]})}})}},33513:function(e,t,n){"use strict";n.d(t,{tS:function(){return l},Cv:function(){return d}}),n(92429),n(78433),n(15845),n(7974),n(66549),n(65562),n(42240),n(89024),n(77236),n(47771),n(98191),n(66076),n(28001),n(62341),n(82459),n(33262),n(20493),n(77072);var r=n(39532),a=n(95004),i=n(29937),s=n(2629);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=d("Filter by state");function c(e){var t=e.options,n=e.value,a=void 0===n?[]:n,l=e.filterKey,c=e.onChange,d=e.menuTitle,u=void 0===d?"Filter by state":d,p=a.length>0;return(0,s.jsx)("div",{children:(0,s.jsxs)(i.v2,{children:[(0,s.jsxs)(i.j2,{className:(0,r.Z)("table-filter",{"filter-active":p}),children:["Filter",(0,s.jsx)("i",{className:(0,r.Z)("fa","space-left",p?"fa-check":"fa-filter"),"aria-hidden":"true"})]}),(0,s.jsx)(i.YI,{className:"dropdown-menu",children:(0,s.jsxs)("div",{className:"tableMenu",children:[(0,s.jsx)("div",{className:"menuHeader",children:u}),(0,s.jsx)("div",{className:"menuContent",children:t.map((function(e,t){return(0,s.jsxs)("div",{className:"md-checkbox",children:[(0,s.jsx)("input",{id:"filter_".concat(l,"_").concat(t),type:"checkbox",checked:a.includes(e),onChange:function(){return function(e){a.includes(e)?c(a.filter((function(t){return t!==e}))):c([].concat((t=a,function(e){if(Array.isArray(e))return o(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[e]));var t}(e)}}),(0,s.jsx)("label",{htmlFor:"filter_".concat(l,"_").concat(t),children:e})]},t)}))})]})})]})})}function d(e){return function(t){var n=t.column,r=n.filterValue,i=n.setFilter,o=n.preFilteredRows,l=n.id,d=(0,a.useMemo)((function(){var e=new Set;return o.forEach((function(t){e.add(t.values[l])})),Array.from(e)}),[l,o]);return(0,s.jsx)(c,{options:d,filterKey:l,value:r,onChange:i,menuTitle:e})}}},9924:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(95004),a=n(2629);function i(){var e=(0,r.createContext)(null);return e.displayName="RowContext",{RowProvider:function(t){var n=t.children,r=t.context;return(0,a.jsx)(e.Provider,{value:r,children:n})},useRowContext:function(){var t=(0,r.useContext)(e);if(!t)throw new Error("should be nested under RowProvider");return t}}}},1808:function(e,t,n){"use strict";n.d(t,{E:function(){return u},I:function(){return p}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var r=n(60352),a=n.n(r),i=n(7252),s=n(95004),o=n(73817),l=n(2629);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=e.value,n=e.placeholder,r=void 0===n?"Search...":n,o=e.onChange,d=e["data-cy"],u=function(e,t){var n=c((0,s.useState)(e),2),r=n[0],i=n[1];(0,s.useEffect)((function(){i(e)}),[e]);var o=(0,s.useMemo)((function(){return a()(t,300)}),[t]);return[r,function(e){i(e),o(e)}]}(t,o),p=c(u,2),m=p[0],g=p[1];return(0,l.jsxs)("div",{className:"searchBar items-center flex min-w-[90px]",children:[(0,l.jsx)(i.Z,{className:"searchIcon feather shrink-0"}),(0,l.jsx)("input",{type:"text",className:"searchInput",value:m,onChange:function(e){return g(e.target.value)},placeholder:r,"data-cy":d})]})}function p(e){var t=function(e){return"datatable_text_filter_".concat(e)}(e),n=c((0,o._)(t,"",sessionStorage),2);return[n[0],n[1]]}},38276:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(2629);function a(e){var t=e.value;return 0!==t?(0,r.jsxs)("div",{className:"infoBar",children:[t," item(s) selected"]}):null}},85813:function(e,t,n){"use strict";n.d(t,{g:function(){return a}}),n(92429),n(43119),n(15363);var r=n(2629);function a(e){var t=e.isLoading,n=void 0!==t&&t,a=e.rows,s=e.emptyContent,o=void 0===s?"No items available":s,l=e.prepareRow,c=e.renderRow;return n?(0,r.jsx)(i,{children:"Loading..."}):a.length?(0,r.jsx)(r.Fragment,{children:a.map((function(e){l(e);var t=e.getRowProps(),n=t.key,r=t.className,a=t.role,i=t.style;return c(e,{key:n,className:r,role:a,style:i})}))}):(0,r.jsx)(i,{children:o})}function i(e){var t=e.children;return(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:Number.MAX_SAFE_INTEGER,className:"text-center text-muted",children:t})})}},33417:function(e,t,n){"use strict";n.d(t,{y:function(){return a}});var r=n(2629);function a(e){var t=e.children;return(0,r.jsx)("footer",{className:"footer",children:t})}},86549:function(e,t,n){"use strict";n.d(t,{z:function(){return v},x:function(){return h}});var r,a=n(39532),i=n(95004);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var o,l=function(e){return i.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4.473.727a.593.593 0 1 0-1.186 0h1.186ZM3.88 11.274l-.406.432c.233.22.599.214.826-.013l-.42-.42Zm3.056-2.218a.593.593 0 1 0-.839-.839l.84.84Zm-5.45-.851a.593.593 0 1 0-.814.864l.813-.864Zm1.8-7.478v10.547h1.187V.727H3.287Zm2.811 7.49-2.636 2.637.839.84 2.636-2.638-.839-.839Zm-1.81 2.625L1.485 8.205l-.813.864 2.802 2.637.813-.864Z",fill:"#D0D5DD"})))};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var d=function(e){return i.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=i.createElement("path",{d:"M3.526 11.273a.593.593 0 0 0 1.187 0H3.526ZM4.12.727l.406-.432A.593.593 0 0 0 3.7.307l.42.42ZM1.063 2.944a.593.593 0 1 0 .84.839l-.84-.84Zm5.451.851a.593.593 0 1 0 .814-.864l-.814.864Zm-1.801 7.478V.727H3.526v10.546h1.187Zm-2.81-7.49 2.636-2.637L3.7.307 1.063 2.944l.84.839Zm1.81-2.624 2.801 2.636.814-.864L4.526.295l-.813.864Z",fill:"#D0D5DD"})))},u="app-react-components-datatables-TableHeaderSortIcons-module__sort-icon",p="app-react-components-datatables-TableHeaderSortIcons-module__active-sort-icon",m=n(2629);function g(e){var t=e.sorted,n=e.descending;return(0,m.jsxs)("div",{className:"flex flex-row no-wrap w-min-max",children:[(0,m.jsx)(l,{className:(0,a.Z)("space-left",t&&!n&&p,u),"aria-hidden":"true"}),(0,m.jsx)(d,{className:(0,a.Z)("-ml-1",t&&n&&p,u),"aria-hidden":"true"})]})}function h(e){var t=e.headerProps,n=t.className,r=t.role,a=t.style,i=e.canSort,s=e.render,o=e.onSortClick,l=e.isSorted,c=e.isSortedDesc,d=void 0===c||c,u=e.canFilter,p=e.renderFilter;return(0,m.jsx)("th",{role:r,style:a,className:n,children:(0,m.jsxs)("div",{className:"flex flex-row flex-nowrap h-full items-center gap-1",children:[(0,m.jsx)(f,{canSort:i,onClick:o,isSorted:l,isSortedDesc:d,children:s()}),u?p():null]})})}function f(e){var t=e.canSort,n=e.children,r=e.onClick,i=void 0===r?function(){}:r,s=e.isSorted,o=e.isSortedDesc,l=void 0===o||o;return t?(0,m.jsx)("button",{type:"button",onClick:function(){return i(!l)},className:(0,a.Z)("!bg-transparent w-full h-full !ml-0 !px-0 border-none focus:border-none","app-react-components-datatables-TableHeaderCell-module__sortable",s&&"app-react-components-datatables-TableHeaderCell-module__sortingActive"),children:(0,m.jsxs)("div",{className:"flex flex-row justify-start items-center w-full h-full",children:[n,(0,m.jsx)(g,{sorted:s,descending:s&&!!l})]})}):(0,m.jsx)(m.Fragment,{children:n})}function v(e){var t=e.canSort,n=e.isSorted,r=e.colTitle,a=e.isSortedDesc,i=void 0===a||a;return(0,m.jsx)("div",{className:"flex flex-row flex-nowrap h-full",children:(0,m.jsx)(f,{canSort:t,isSorted:!!n,isSortedDesc:i,children:r})})}},16838:function(e,t,n){"use strict";n.d(t,{k:function(){return c}}),n(65562),n(57592),n(15363),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var r=n(39532),a=n(95004),i=n(59748),s={alertVisible:"app-react-components-datatables-TableSettingsMenuAutoRefresh-module__alert-visible",alertHidden:"app-react-components-datatables-TableSettingsMenuAutoRefresh-module__alert-hidden"},o=n(2629);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n,c=e.onChange,d=e.value,u=(t=(0,a.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=u[0],m=u[1],g=d>0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.X,{id:"settings-auto-refresh",label:"Auto refresh",checked:g,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return c(e.target.checked?10:0)}))}),g&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"settings_refresh_rate",children:"Refresh rate"}),(0,o.jsxs)("select",{id:"settings_refresh_rate",className:"small-select",value:d,onChange:function(e){return function(e){c(Number(e)),m(!0)}(e.target.value)},children:[(0,o.jsx)("option",{value:10,children:"10s"}),(0,o.jsx)("option",{value:30,children:"30s"}),(0,o.jsx)("option",{value:60,children:"1min"}),(0,o.jsx)("option",{value:120,children:"2min"}),(0,o.jsx)("option",{value:300,children:"5min"})]}),(0,o.jsx)("span",{className:(0,r.Z)(p?s.alertVisible:s.alertHidden,s.check),onTransitionEnd:function(){return m(!1)},children:(0,o.jsx)("i",{id:"refreshRateChange",className:"fa fa-check green-icon","aria-hidden":"true",style:{marginTop:"7px"}})})]})]})}},35138:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return 0===n.length||0===t.length?e:e.filter((function(e){var r=e.values[t[0]];return n.includes(r)}))}n.d(t,{m:function(){return r}}),n(66549),n(65562),n(42240),n(47771),n(15845),n(7974)},29722:function(e,t,n){"use strict";n.d(t,{Gn:function(){return L},iA:function(){return P},p2:function(){return u},xJ:function(){return d},KA:function(){return C},SC:function(){return k},I6:function(){return v},lw:function(){return y},MQ:function(){return p}}),n(28001),n(62341),n(92429),n(33262),n(90257),n(65562),n(57592),n(82459),n(42240),n(77236),n(47771),n(20493),n(66076),n(77072),n(50033),n(66549),n(47097),n(98191),n(62176);var r=n(4450),a=n(95004),i=n(87227),s=n(39532),o=n(59765),l=n(29561),c=n(2629);function d(e){var t=e.children;return(0,c.jsx)("div",{className:"datatable",children:(0,c.jsx)(l.$L,{children:(0,c.jsx)(l.kh,{className:"no-padding",children:t})})})}function u(e){var t=e.children,n=e.className;return 0===a.Children.count(t)?null:(0,c.jsx)("div",{className:(0,s.Z)("actionBar",n),children:t})}function p(e){var t=e.children;return 0===a.Children.count(t)?null:(0,c.jsx)("div",{className:"settings",children:t})}var m=n(85813),g=n(86549),h=n(29937),f=n(93671);function v(e){var t=e.quickActions,n=e.children;return(0,c.jsx)(h.v2,{className:"setting",children:function(e){var r=e.isExpanded;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h.j2,{className:(0,s.Z)("table-setting-menu-btn",{"setting-active":r}),children:(0,c.jsx)(f.Z,{size:"13",className:"space-right",strokeWidth:"3px","aria-hidden":"true","aria-label":"Settings"})}),(0,c.jsx)(h.qy,{children:(0,c.jsxs)("div",{className:"tableMenu",children:[(0,c.jsx)("div",{className:"menuHeader",children:"Table settings"}),(0,c.jsx)("div",{className:"menuContent",children:n}),t&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"menuHeader",children:"Quick actions"}),(0,c.jsx)("div",{className:"menuContent",children:t})]})]})})]})}})}var b=n(2792);function y(e){var t=e.icon,n=e.featherIcon,r=e.label,a=e.children,i=e.description;return(0,c.jsxs)("div",{className:"toolBar flex-col",children:[(0,c.jsxs)("div",{className:"flex gap-1 p-0 w-full items-center",children:[(0,c.jsxs)("div",{className:"toolBarTitle",children:[t&&(0,c.jsx)("div",{className:"widget-icon",children:(0,c.jsx)(b.J,{icon:t,feather:n,className:"space-right feather"})}),r]}),a]}),i&&i]})}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=e.headers,n=e.onSortChange,r=e.className,a=e.role,i=e.style;return(0,c.jsx)("tr",{className:r,role:a,style:i,children:t.map((function(e){return(0,c.jsx)(g.x,{headerProps:x({},e.getHeaderProps({className:e.className,style:{width:e.disableResizing?e.width:""}})),canSort:e.canSort,onSortClick:function(t){e.toggleSortBy(t),n&&n(e.id,t)},isSorted:e.isSorted,isSortedDesc:e.isSortedDesc,render:function(){return e.render("Header")},canFilter:!e.disableFilters,renderFilter:function(){return e.render("Filter")}},e.id)}))})}function k(e){var t=e.cells,n=e.className,r=e.role,a=e.style;return(0,c.jsx)("tr",{className:n,role:r,style:a,children:t.map((function(e){var t=e.getCellProps({className:e.className});return(0,c.jsx)("td",{className:t.className,role:t.role,style:t.style,children:e.render("Cell")},t.key)}))})}var A=n(33417),P=function(e){var t=e.children,n=e.className,r=e.role,a=e.style;return(0,c.jsx)("div",{className:"table-responsive",children:(0,c.jsx)("table",{className:(0,s.Z)("table table-hover table-filters nowrap-cells",n),role:r,style:a,children:t})})};P.Actions=u,P.TitleActions=p,P.Container=d,P.HeaderCell=g.x,P.SettingsMenu=v,P.Title=y,P.Row=k,P.HeaderRow=C,P.Content=m.g,P.Footer=A.y;var I=n(35138),$=n(1808),N=n(38276),T=n(96276),E=n(89996);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e){var t,n,l=e.columns,d=e.dataset,u=e.storageKey,p=e.renderTableSettings,m=e.renderTableActions,g=e.settingsStore,h=e.disableSelect,f=e.getRowId,v=void 0===f?U:f,b=e.isRowSelectable,y=void 0===b?function(){return!0}:b,w=e.titleOptions,x=e.emptyContentLabel,S=e.initialTableState,C=void 0===S?{}:S,k=e.isLoading,A=e.totalCount,j=void 0===A?d.length:A,O=e.description,L=e.initialActiveItem,F=(t=(0,$.I)(u),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||R(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=F[0],K=F[1],B=(0,r.useTable)({defaultCanFilter:!1,columns:l,data:d,filterTypes:{multiple:I.m},initialState:D({pageSize:g.pageSize||10,sortBy:[g.sortBy],globalFilter:_},C),isRowSelectable:y,autoResetSelectedRows:!1,getRowId:v,stateReducer:function(e,t){switch(t.type){case"setGlobalFilter":K(t.filterValue);break;case"toggleSortBy":g.setSortBy(t.columnId,t.desc);break;case"setPageSize":g.setPageSize(t.pageSize)}return e}},r.useFilters,r.useGlobalFilter,r.useSortBy,r.usePagination,E.i,h?V:i.M_),z=B.rows,H=B.selectedFlatRows,G=B.getTableProps,Z=B.getTableBodyProps,q=B.headerGroups,W=B.page,Q=B.prepareRow,Y=B.gotoPage,J=B.setPageSize,X=B.setGlobalFilter,ee=B.state,te=ee.pageIndex,ne=ee.pageSize;(0,a.useEffect)((function(){if(L&&ne!==z.length){var e=function(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(Math.ceil(z.length/ne))).map((function(e,t){return z.slice(ne*t,ne+ne*t)})).findIndex((function(e){return e.some((function(e){return e.id===L}))}));Y(e)}}),[L]);var re,ae=G(),ie=Z(),se=H.map((function(e){return e.original}));return(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)(T.U,{settings:g,children:(0,c.jsxs)(P.Container,{children:[(re=w,!re.hide&&(0,c.jsxs)(P.Title,{label:w.title,icon:w.icon,featherIcon:w.featherIcon,description:O,children:[(0,c.jsx)($.E,{value:_,onChange:X}),m&&(0,c.jsx)(P.Actions,{children:m(se)}),(0,c.jsx)(P.TitleActions,{children:!!p&&p(B)})]})),(0,c.jsxs)(P,{className:ae.className,role:ae.role,style:ae.style,children:[(0,c.jsx)("thead",{children:q.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,r=t.className,a=t.role,i=t.style;return(0,c.jsx)(P.HeaderRow,{className:r,role:a,style:i,headers:e.headers},n)}))}),(0,c.jsx)("tbody",{className:ie.className,role:ie.role,style:ie.style,children:(0,c.jsx)(P.Content,{rows:W,isLoading:k,prepareRow:Q,emptyContent:x,renderRow:function(e,t){var n=t.key,r=t.className,a=t.role,i=t.style;return(0,c.jsx)(P.Row,{cells:e.cells,className:(0,s.Z)(r,L&&L===e.id&&"active"),role:a,style:i},n)}})})]}),(0,c.jsxs)(P.Footer,{children:[(0,c.jsx)(N.V,{value:H.length}),(0,c.jsx)(o.j,{showAll:!0,pageLimit:ne,page:te+1,onPageChange:function(e){return Y(e-1)},totalCount:j,onPageLimitChange:J})]})]})})})})}function U(e){return!e.id||"string"!=typeof e.id&&"number"!=typeof e.id?!e.Id||"string"!=typeof e.Id&&"number"!=typeof e.Id?!e.ID||"string"!=typeof e.ID&&"number"!=typeof e.ID?"":e.ID.toString():e.Id.toString():e.id.toString()}function V(){}V.pluginName="emptyPlugin"},16579:function(e,t,n){"use strict";function r(e){return{pageSize:10,setPageSize:function(t){return e({pageSize:t})}}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{sortBy:{id:t,desc:n},setSortBy:function(t,n){return e({sortBy:{id:t,desc:n}})}}}function i(e){return{hiddenColumns:[],setHiddenColumns:function(t){return e({hiddenColumns:t})}}}function s(e){return{autoRefreshRate:0,setAutoRefreshRate:function(t){return e({autoRefreshRate:t})}}}n.d(t,{en:function(){return r},MX:function(){return a},ZJ:function(){return i},AL:function(){return s}})},89996:function(e,t,n){"use strict";n.d(t,{i:function(){return l}}),n(50033),n(65562),n(98191),n(19992),n(28001),n(66549),n(47097),n(62176);var r=n(95004),a=n(4450);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){e.getToggleRowSelectedProps=[c],e.getToggleAllRowsSelectedProps=[d],e.getToggleAllPageRowsSelectedProps=[u],e.stateReducers.push(p),e.useInstance.push(m),e.prepareRow.push(g)}function c(e,t){var n=t.instance,r=t.row,a=n.manualRowSelectedKey,i=void 0===a?"isSelected":a,s=n.isRowSelectable,o=void 0===s?f:s;return[e,{onChange:function(e){r.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[i])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected,disabled:!o(r)}]}function d(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]}function u(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]}function p(e,t,n,r){if(t.type===a.actions.init)return s(s({},e),{},{selectedRowIds:{}});if(t.type===a.actions.resetSelectedRows)return s(s({},e),{},{selectedRowIds:(null==r?void 0:r.initialState.selectedRowIds)||{}});if(t.type===a.actions.toggleAllRowsSelected){var i=t.value;if(!r)return e;var o=r.isAllRowsSelected,l=r.rowsById,c=r.nonGroupedRowsById,d=void 0===c?l:c,u=r.isRowSelectable,p=void 0===u?f:u,m=void 0!==i?i:!o,g=s({},e.selectedRowIds);return Object.keys(d).forEach((function(e){if(m){var t=l[e];p(t)&&(g[e]=!0)}else delete g[e]})),s(s({},e),{},{selectedRowIds:g})}if(t.type===a.actions.toggleRowSelected){if(!r)return e;var h=t.id,v=t.value,b=r.rowsById,y=r.selectSubRows,w=void 0===y||y,x=r.getSubRows,S=r.isRowSelectable,C=void 0===S?f:S,k=e.selectedRowIds[h],A=void 0!==v?v:!k;if(k===A)return e;var P=s({},e.selectedRowIds);return function e(t){var n=b[t];C(n)&&(n.isGrouped||(A?P[t]=!0:delete P[t]),w&&x(n)&&x(n).forEach((function(t){return e(t.id)})))}(h),s(s({},e),{},{selectedRowIds:P})}if(t.type===a.actions.toggleAllPageRowsSelected){var I=function e(t){var n=T[t];n.isGrouped||(R?M[t]=!0:delete M[t]),j&&O(n)&&O(n).forEach((function(t){return e(t.id)}))};if(!r)return e;var $=t.value,N=r.page,T=r.rowsById,E=r.selectSubRows,j=void 0===E||E,D=r.isAllPageRowsSelected,O=r.getSubRows,R=void 0!==$?$:!D,M=s({},e.selectedRowIds);return N.forEach((function(e){return I(e.id)})),s(s({},e),{},{selectedRowIds:M})}return e}function m(e){var t=e.data,n=e.rows,i=e.getHooks,s=e.plugins,o=e.rowsById,l=e.nonGroupedRowsById,c=void 0===l?o:l,d=e.autoResetSelectedRows,u=void 0===d||d,p=e.state.selectedRowIds,m=e.selectSubRows,g=void 0===m||m,v=e.dispatch,b=e.page,y=e.getSubRows,w=e.isRowSelectable,x=void 0===w?f:w;(0,a.ensurePluginOrder)(s,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var S=(0,r.useMemo)((function(){var e=[];return n.forEach((function(t){var n=g?h(t,p,y):!!p[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[n,g,p,y]),C=Boolean(Object.keys(c).length&&Object.keys(p).length),k=C;C&&Object.keys(c).some((function(e){var t=o[e];return!p[e]&&x(t)}))&&(C=!1),C||b&&b.length&&b.some((function(e){var t=e.id,n=o[t];return!p[t]&&x(n)}))&&(k=!1);var A=(0,a.useGetLatest)(u);(0,a.useMountedLayoutEffect)((function(){A()&&v({type:a.actions.resetSelectedRows})}),[v,t]);var P=(0,r.useCallback)((function(e){return v({type:a.actions.toggleAllRowsSelected,value:e})}),[v]),I=(0,r.useCallback)((function(e){return v({type:a.actions.toggleAllPageRowsSelected,value:e})}),[v]),$=(0,r.useCallback)((function(e,t){return v({type:a.actions.toggleRowSelected,id:e,value:t})}),[v]),N=(0,a.useGetLatest)(e),T=(0,a.makePropGetter)(i().getToggleAllRowsSelectedProps,{instance:N()}),E=(0,a.makePropGetter)(i().getToggleAllPageRowsSelectedProps,{instance:N()});Object.assign(e,{selectedFlatRows:S,isAllRowsSelected:C,isAllPageRowsSelected:k,toggleRowSelected:$,toggleAllRowsSelected:P,getToggleAllRowsSelectedProps:T,getToggleAllPageRowsSelectedProps:E,toggleAllPageRowsSelected:I})}function g(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=(0,a.makePropGetter)(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}function h(e,t,n){if(t[e.id])return!0;var r=n(e);if(r&&r.length){var a=!0,i=!1;return r.forEach((function(e){i&&!a||(h(e,t,n)?i=!0:a=!1)})),!!a||!!i&&null}return!1}function f(e){return!e.original.disabled}a.actions.resetSelectedRows="resetSelectedRows",a.actions.toggleAllRowsSelected="toggleAllRowsSelected",a.actions.toggleRowSelected="toggleRowSelected",a.actions.toggleAllPageRowsSelected="toggleAllPageRowsSelected",l.pluginName="useRowSelect"},63613:function(e,t,n){"use strict";n.d(t,{h:function(){return p},U:function(){return m}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(50033),n(66549),n(47097),n(98191),n(62176);var r=n(95004),a=n(73817),i=n(2629);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,r.createContext)(null);function p(){var e=g(),t=(0,r.useContext)(e);if(null===t)throw new Error("must be nested under TableSettingsProvider");return t}function m(e){var t=e.children,n=e.defaults,s=e.storageKey,l=g(),d=c((0,a._)("datatable_TableSettings_".concat(s),n),2),u=d[0],p=d[1],m=c((0,r.useState)(u),2),h=m[0],f=m[1],v=(0,r.useCallback)((function(e){f((function(t){var n=e instanceof Function?e(t):o(o({},t),e);return p(n),n}))}),[p]),b=(0,r.useMemo)((function(){return{settings:h,setTableSettings:v}}),[h,v]);return(0,i.jsx)(l.Provider,{value:b,children:t})}function g(){return u}u.displayName="TableSettingsContext"},96276:function(e,t,n){"use strict";n.d(t,{h:function(){return s},U:function(){return o}});var r=n(95004),a=n(2629),i=(0,r.createContext)(null);function s(){var e=l(),t=(0,r.useContext)(e);if(null===t)throw new Error("must be nested under TableSettingsProvider");return t}function o(e){var t=e.children,n=e.settings,i=l(),s=(0,r.useMemo)((function(){return{settings:n}}),[n]);return(0,a.jsx)(i.Provider,{value:s,children:t})}function l(){return i}i.displayName="TableSettingsContext"},5627:function(e,t,n){"use strict";n.d(t,{K:function(){return s}}),n(92429),n(65562),n(57592);var r=n(39532),a=n(18917),i=n(2629);function s(e){var t=e.value,n=e.onChange,r=e.size,s=e.options,l=e.disabled,c=e.readOnly;return(0,i.jsx)(a.h,{size:r,className:"app-react-components-form-components-ButtonSelector-ButtonSelector-module__group",children:s.map((function(e){return(0,i.jsx)(o,{selected:t===e.value,onChange:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n(e.value)})),disabled:l,readOnly:c,children:e.label||e.value.toString()},e.value)}))})}function o(e){var t=e.selected,n=e.children,a=e.onChange,s=e.disabled,o=e.readOnly;return(0,i.jsxs)("label",{className:(0,r.Z)("btn btn-primary",{active:t,disabled:o||s}),children:[n,(0,i.jsx)("input",{type:"radio",checked:t,onChange:a,disabled:s,readOnly:o})]})}},59748:function(e,t,n){"use strict";n.d(t,{X:function(){return c}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(95004),a=n(2629),i=["indeterminate","title","label","id","checked","onChange"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,r.forwardRef)((function(e,t){var n=e.indeterminate,s=e.title,l=e.label,c=e.id,d=e.checked,u=e.onChange,p=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i),m=(0,r.useRef)(null),g=t;return t||(g=m),(0,r.useEffect)((function(){null!==g&&null!==g.current&&void 0!==n&&(g.current.indeterminate=n)}),[g,n]),(0,a.jsxs)("div",{className:"md-checkbox flex",title:s||l,children:[(0,a.jsx)("input",o({id:c,type:"checkbox",ref:g,onChange:u,checked:d},p)),(0,a.jsx)("label",{htmlFor:c,children:l})]})}))},29638:function(e,t,n){"use strict";n.d(t,{N:function(){return l}});var r=n(39532),a=n(54497),i=n(24751),s={},o=n(2629);function l(e){var t=e.inputId,n=e.label,l=e.size,u=void 0===l?"small":l,p=e.tooltip,m=void 0===p?"":p,g=e.children,h=e.errors,f=e.required;return(0,o.jsxs)("div",{className:(0,r.Z)("form-group",s.container),children:[(0,o.jsxs)("label",{htmlFor:t,className:(0,r.Z)(c(u),"control-label","text-left"),children:[n,f&&(0,o.jsx)("span",{className:"text-danger",children:"*"}),m&&(0,o.jsx)(a.u,{message:m})]}),(0,o.jsxs)("div",{className:d(u),children:[g,h&&(0,o.jsx)("span",{className:"help-block",children:(0,o.jsx)(i.X,{children:h})})]})]})}function c(e){switch(e){case"large":return"col-sm-5 col-lg-4";case"medium":return"col-sm-4 col-lg-3";default:return"col-sm-3 col-lg-2"}}function d(e){switch(e){case"large":return"col-sm-7 col-lg-8";case"medium":return"col-sm-8 col-lg-9";default:return"col-sm-9 col-lg-10"}}},24751:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var r=n(39532),a=n(2792),i=n(2629);function s(e){var t=e.children,n=e.className;return(0,i.jsxs)("p",{className:(0,r.Z)("text-muted small vertical-center",n),children:[(0,i.jsx)(a.J,{icon:"alert-triangle",className:"icon-warning",feather:!0}),(0,i.jsx)("span",{className:"text-warning",children:t})]})}},7862:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(2629);function a(e){var t=e.children,n=e.htmlFor;return n?(0,r.jsx)("label",{htmlFor:n,className:"col-sm-12 form-section-title cursor-pointer flex items-center",children:t}):(0,r.jsx)("div",{className:"col-sm-12 form-section-title",children:t})}},47661:function(e,t,n){"use strict";n.d(t,{P:function(){return c}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176),n(92429);var r=n(39532),a=n(2629),i=["options","className"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.options,n=e.className,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i);return(0,a.jsx)("select",o(o({},s),{},{className:(0,r.Z)("form-control",n),children:t.map((function(e){return(0,a.jsx)("option",{value:e.value,children:e.label},e.value)}))}))}},13880:function(e,t,n){"use strict";n.d(t,{I:function(){return c},P:function(){return d.P}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(39532),a=n(2629),i=["className"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i);return(0,a.jsx)("input",o(o({},n),{},{className:(0,r.Z)("form-control",t)}))}var d=n(47661)},35547:function(e,t,n){"use strict";n.d(t,{B:function(){return d}});var r=n(13880),a=n(39532),i=n(95004),s=n(2629),o=(0,i.createContext)(null);function l(){if(null==(0,i.useContext)(o))throw new Error("Should be inside a InputGroup component")}function c(e){switch(e){case"large":return"input-group-lg";case"small":return"input-group-sm";default:return""}}o.displayName="InputGroupContext";var d=function(e){var t=e.children,n=e.size,r=e.className;return(0,s.jsx)(o.Provider,{value:!0,children:(0,s.jsx)("div",{className:(0,a.Z)("input-group",c(n),r),children:t})})};d.Addon=function(e){var t=e.children;return l(),(0,s.jsx)("span",{className:"input-group-addon",children:t})},d.ButtonWrapper=function(e){var t=e.children;return l(),(0,s.jsx)("span",{className:"input-group-btn",children:t})},d.Input=r.I},88728:function(e,t,n){"use strict";n.d(t,{Q:function(){return v}}),n(92429),n(66549),n(65562),n(78433),n(57592),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),n(20493),n(77072);var r=n(39532),a=n(12584),i=n(2792),s=n(54497),o=n(18311),l=n(13880),c=n(24751),d={items:"app-react-components-form-components-InputList-InputList-module__items",label:"app-react-components-form-components-InputList-InputList-module__label",itemLine:"app-react-components-form-components-InputList-InputList-module__item-line",hasError:"app-react-components-form-components-InputList-InputList-module__has-error",itemActions:"app-react-components-form-components-InputList-InputList-module__item-actions",defaultItem:"app-react-components-form-components-InputList-InputList-module__default-item"};function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=n(2629);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function v(e){var t=e.label,n=e.value,l=e.onChange,c=e.itemBuilder,p=void 0===c?b:c,v=e.renderItem,y=void 0===v?w:v,x=e.item,S=e.tooltip,C=e.addLabel,k=void 0===C?"Add item":C,A=e.itemKeyGetter,P=void 0===A?function(e,t){return t}:A,I=e.movable,$=e.errors,N=e.textTip,T=e.isAddButtonHidden,E=void 0!==T&&T,j=e.disabled,D=e.readOnly;return(0,m.jsxs)("div",{className:(0,r.Z)("form-group",d.root),children:[(0,m.jsxs)("div",{className:(0,r.Z)("col-sm-12",d.header),children:[(0,m.jsxs)("div",{className:(0,r.Z)("control-label text-left",d.label),children:[t,S&&(0,m.jsx)(s.u,{message:S})]}),!(E||D)&&(0,m.jsx)(a.HS,{label:k,className:"space-left",onClick:function(){var e,t=p();l([].concat(function(e){if(Array.isArray(e))return g(e)}(e=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]),{type:"create",item:t})},disabled:j})]}),N&&(0,m.jsx)("div",{className:"col-sm-12 mt-5",children:(0,m.jsx)(o.a,{color:"blue",children:N})}),(0,m.jsx)("div",{className:(0,r.Z)("col-sm-12",d.items,"space-y-4"),children:n.map((function(e,t){var s=P(e,t),o="object"===f($)?$[t]:void 0;return(0,m.jsxs)("div",{className:(0,r.Z)(d.itemLine,h({},d.hasError,!!o),"vertical-center"),children:[x?(0,m.jsx)(x,{item:e,onChange:function(e){return R(s,e)},error:o,disabled:j,readOnly:D}):y(e,(function(e){return R(s,e)}),o),(0,m.jsxs)("div",{className:(0,r.Z)(d.itemActions,"items-start"),children:[!D&&I&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.zx,{size:"medium",disabled:j||0===t,onClick:function(){return function(e){e<=0||O(e,e-1)}(t)},className:"vertical-center btn-only-icon",children:(0,m.jsx)(i.J,{icon:"arrow-up",feather:!0})}),(0,m.jsx)(a.zx,{size:"medium",type:"button",disabled:j||t===n.length-1,onClick:function(){return function(e){e>=n.length-1||O(e,e+1)}(t)},className:"vertical-center btn-only-icon",children:(0,m.jsx)(i.J,{icon:"arrow-down",feather:!0})})]}),!D&&(0,m.jsx)(a.zx,{color:"dangerlight",size:"medium",onClick:function(){return function(e,t){l(n.filter((function(t,n){return P(t,n)!==e})),{type:"delete",item:t})}(s,e)},className:"vertical-center btn-only-icon",children:(0,m.jsx)(i.J,{icon:"trash-2",feather:!0,size:"md"})})]})]},s)}))})]});function O(e,t){I&&l(function(e,t,n){if(!o(e,t)||!o(e,n))throw new Error("index is out of bounds");var r=e[t],a=e.length,i=t-n;if(i>0)return[].concat(u(e.slice(0,n)),[r],u(e.slice(n,t)),u(e.slice(t+1,a)));if(i<0){var s=n+1;return[].concat(u(e.slice(0,t)),u(e.slice(t+1,s)),[r],u(e.slice(s,a)))}return u(e);function o(e,t){return t>=0&&t<=e.length}}(n,e,t),{type:"move",fromIndex:e,to:t})}function R(e,t){var r=n.map((function(n,r){return P(n,r)!==e?n:t}));l(r,{type:"update",item:t})}}function b(){return{value:""}}function y(e){var t=e.item,n=e.onChange,r=e.error,a=e.disabled,i=e.readOnly;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.I,{value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n({value:e.target.value})})),className:d.defaultItem,disabled:a,readOnly:i}),r&&(0,m.jsx)(c.X,{children:r})]})}function w(e,t,n){return(0,m.jsx)(y,{item:e,onChange:t,error:n})}},68871:function(e,t,n){"use strict";n.d(t,{dU:function(){return p}}),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var r=n(20810),a=n.n(r),i=n(6806),s=n.n(i),o=(n(20493),n(65562),n(57592),n(89999),n(58613),n(78495),n(15845),n(7974),n(92429),n(6174)),l=n(2629);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return function(e){return"isMulti"in e&&!!e.isMulti}(e)?(0,l.jsx)(h,d({},e)):(0,l.jsx)(m,d({},e))}function m(e){var t=e.name,n=e.options,r=e.onChange,a=e.value,i=e["data-cy"],c=e.disabled,d=e.inputId,u=e.placeholder,p=e.isClearable,m=e.bindToBody,h=a?s()(g(n,a)):null;return(0,l.jsx)(o.P,{name:t,isClearable:p,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return String(e.value)},options:n,value:h,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e?e.value:null)})),"data-cy":i,inputId:d,placeholder:u,isDisabled:c,menuPortalTarget:m?document.body:void 0})}function g(e,t){var n=Array.isArray(t)?t:[t];return a()(e.flatMap((function(e){return function(e){return"options"in e}(e)?e.options.find((function(e){return n.includes(e.value)})):n.includes(e.value)?e:null})))}function h(e){var t=e.name,n=e.value,r=e.onChange,a=e.options,i=e["data-cy"],s=e.inputId,c=e.placeholder,d=e.disabled,u=e.isClearable,p=e.bindToBody,m=g(a,n);return(0,l.jsx)(o.P,{name:t,isMulti:!0,isClearable:u,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return String(e.value)},options:a,value:m,closeMenuOnSelect:!1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e.map((function(e){return e.value})))})),"data-cy":i,inputId:s,placeholder:c,isDisabled:d,menuPortalTarget:p?document.body:void 0})}},6174:function(e,t,n){"use strict";n.d(t,{P:function(){return m},V:function(){return g}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(50021),a=n(53954),i=n(39532),s=n(2629),o=["className","isCreatable"],l=["className"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e){var t=e.className,n=e.isCreatable,l=void 0!==n&&n,c=p(e,o),u=l?r.Z:a.ZP;return(0,s.jsx)(u,d({className:(0,i.Z)(t,"portainer-selector-root"),classNamePrefix:"portainer-selector"},c))}function g(e){var t=e.className,n=p(e,l);return(0,s.jsx)(r.Z,d({className:(0,i.Z)(t,"portainer-selector-root"),classNamePrefix:"portainer-selector"},n))}},44212:function(e,t,n){"use strict";n.d(t,{r:function(){return o}}),n(20493),n(65562),n(57592);var r=n(39532),a=n(20037),i=n(32597),s=n(2629);function o(e){var t=e.name,n=e.checked,o=e.id,l=e.disabled,c=e.dataCy,d=e.onChange,u=e.featureId,p=e.className,m=(0,a.vx)(u);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("label",{className:(0,r.Z)("switch",p,"app-react-components-form-components-SwitchField-Switch-module__root",{business:m,limited:m}),children:[(0,s.jsx)("input",{type:"checkbox",name:t,id:o,checked:n,disabled:l||m,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e.target.checked;return d(t)}))}),(0,s.jsx)("span",{className:"slider round before:content-['']","data-cy":c})]}),m&&(0,s.jsx)(i.d,{featureId:u})]})}},93758:function(e,t,n){"use strict";n.d(t,{K:function(){return o}}),n(20493);var r=n(39532),a=n(54497),i=n(44212),s=n(2629);function o(e){var t=e.tooltip,n=e.checked,o=e.label,l=e.name,c=e.labelClass,d=e.fieldClass,u=e.dataCy,p=e.disabled,m=e.onChange,g=e.featureId,h=e.switchClass,f=l?"toggle_".concat(l):"";return(0,s.jsxs)("label",{className:(0,r.Z)("app-react-components-form-components-SwitchField-SwitchField-module__root",d),children:[(0,s.jsxs)("span",{className:(0,r.Z)("text-left space-right control-label","app-react-components-form-components-SwitchField-SwitchField-module__label",c),children:[o,t&&(0,s.jsx)(a.u,{message:t})]}),(0,s.jsx)(i.r,{className:(0,r.Z)("space-right",h),name:f,id:f,checked:n,disabled:p,onChange:m,featureId:g,dataCy:u})]})}},61838:function(e,t,n){"use strict";n.d(t,{Zk:function(){return l},hO:function(){return d},wG:function(){return p},ri:function(){return g},VZ:function(){return f},dZ:function(){return b},bh:function(){return w},sc:function(){return S},Y4:function(){return k}}),n(40958),n(65562),n(50527);var r=n(20023),a=n(6811),i=n(12944);function s(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,l,"next",e)}function l(e){s(i,r,a,o,l,"throw",e)}o(void 0)}))}}function l(e,t){return c.apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.post(k(t,n,"start"),{},{transformResponse:i.genericHandler});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.post(k(t,n,"stop"),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return m.apply(this,arguments)}function m(){return(m=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.post(k(t,n,"restart"),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return h.apply(this,arguments)}function h(){return(h=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.post(k(t,n,"kill"),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return v.apply(this,arguments)}function v(){return(v=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.post(k(t,n,"pause"),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return y.apply(this,arguments)}function y(){return(y=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.post(k(t,n,"unpause"),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n){return x.apply(this,arguments)}function x(){return(x=o(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.post(k(t,n,"rename"),{},{params:{name:r},transformResponse:i.genericHandler});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n){return C.apply(this,arguments)}function C(){return(C=o(regeneratorRuntime.mark((function e(t,n,s){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.delete(k(t,n.Id),{params:{v:s?1:0,force:!0},transformResponse:i.genericHandler});case 3:if(o=e.sent,!(l=o.data)||!l.message){e.next=7;break}throw new r.Z(l.message);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new r.Z("Unable to remove container",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function k(e,t,n){var r="/endpoints/".concat(e,"/docker/containers");return t&&(r+="/".concat(t)),n&&(r+="/".concat(n)),r}},83810:function(e,t,n){"use strict";n.d(t,{y:function(){return C}}),n(42240),n(65562),n(47771);var r=n(69592),a=(n(57592),n(5627)),i=n(2629);function s(e){var t=e.onChange,n=e.value;return(0,i.jsx)("div",{className:"form-group",children:(0,i.jsx)("div",{className:"col-sm-12",children:(0,i.jsx)(a.K,{size:"small",value:n,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return t(e)})),options:[{value:"linux",label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("i",{className:"fab fa-linux space-right","aria-hidden":"true"}),"Linux"]})},{value:"win",label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("i",{className:"fab fa-windows space-right","aria-hidden":"true"}),"Windows"]})}]})})})}n(92429);var o=n(95004),l=n(61335),c=n(42631),d=n(1831),u=n(60304);function p(e){var t=e.values,n=e.edgeKey,r=e.edgeId,a=e.commands,s=e.platform,p=e.onPlatformChange,m=void 0===p?function(){}:p,g=(0,l.a)();if((0,o.useEffect)((function(){a.length>0&&a.every((function(e){return e.id!==s}))&&m(a[0].id)}),[s,m,a]),!g)return null;var h=g.agentSecret,f=g.agentVersion,v=a.map((function(e){var a=e.command(f,n,t,r,h);return{id:e.id,label:e.label,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.E,{children:a}),(0,i.jsx)(d.q,{copyText:a,children:"Copy"})]})}}));return(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-sm-12",children:(0,i.jsx)(u.o,{selectedId:s,options:v,onSelect:function(e){return m(e)}})})})}n(20493);var m=n(29638),g=n(13880),h=n(93758),f=n(18311),v=n(88606);function b(){var e=(0,r.u6)(),t=e.values,n=e.setFieldValue,a=e.errors;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"form-group",children:(0,i.jsx)("div",{className:"col-sm-12",children:(0,i.jsx)(h.K,{checked:t.authEnabled,onChange:function(e){e||n("nomadToken",""),n("authEnabled",e)},label:"Nomad Authentication Enabled",tooltip:"Nomad authentication is only required if you have ACL enabled"})})}),t.authEnabled&&(0,i.jsx)(m.N,{label:"Nomad Token",inputId:"nomad-token-input",errors:a.nomadToken,children:(0,i.jsx)(r.gN,{name:"nomadToken",as:g.I,id:"nomad-token-input"})})]})}function y(e){var t=e.isNomadTokenVisible,n=e.hideIdGetter,a=(0,r.u6)(),s=a.values,o=a.setFieldValue;return(0,i.jsxs)(i.Fragment,{children:[!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.N,{label:"Edge ID Generator",tooltip:"A bash script one liner that will generate the edge id and will be assigned to the PORTAINER_EDGE_ID environment variable",inputId:"edge-id-generator-input",children:(0,i.jsx)(g.I,{type:"text",name:"edgeIdGenerator",value:s.edgeIdGenerator,id:"edge-id-generator-input",onChange:function(e){return o(e.target.name,e.target.value)}})}),(0,i.jsx)("div",{className:"form-group",children:(0,i.jsx)("div",{className:"col-sm-12",children:(0,i.jsxs)(f.a,{color:"blue",children:[(0,i.jsx)("code",{children:"PORTAINER_EDGE_ID"})," environment variable is required to successfully connect the edge agent to Portainer"]})})})]}),t&&(0,i.jsx)(b,{}),(0,i.jsx)(m.N,{label:"Environment variables",tooltip:"Comma separated list of environment variables that will be sourced from the host where the agent is deployed.",inputId:"env-variables-input",children:(0,i.jsx)(r.gN,{name:"envVars",as:g.I,placeholder:"foo=bar,myvar",id:"env-variables-input"})}),(0,i.jsx)("div",{className:"form-group",children:(0,i.jsx)("div",{className:"col-sm-12",children:(0,i.jsx)(h.K,{checked:s.allowSelfSignedCertificates,onChange:function(e){return o("allowSelfSignedCertificates",e)},label:"Allow self-signed certs",labelClass:"col-sm-3 col-lg-2",tooltip:"When allowing self-signed certificates the edge agent will ignore the domain validation when connecting to Portainer via HTTPS"})})})]})}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var S={allowSelfSignedCertificates:!0,envVars:"",os:"linux",platform:"k8s",nomadToken:"",authEnabled:!0};function C(e){var t=e.edgeInfo,n=e.commands,a=e.isNomadTokenVisible,o=!(n instanceof Array);return(0,i.jsx)("div",{className:"form-horizontal",children:(0,i.jsx)(r.J9,{initialValues:S,validationSchema:function(){return function(e){return(0,v.Ry)().shape(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allowSelfSignedCertificates:(0,v.O7)(),envVars:(0,v.Z_)()},e?{nomadToken:(0,v.Z_)().when("authEnabled",{is:!0,then:(0,v.Z_)().required("Token is required")}),authEnabled:(0,v.O7)()}:{}))}(a)},onSubmit:function(){},children:function(e){var r=e.values,l=e.setFieldValue;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y,{isNomadTokenVisible:a&&"nomad"===r.platform,hideIdGetter:void 0!==t.id}),(0,i.jsxs)("div",{className:"mt-8",children:[o&&(0,i.jsx)(s,{value:r.os,onChange:function(e){return l("os",e)}}),(0,i.jsx)(p,{edgeId:t.id,edgeKey:t.key,values:r,commands:o?n[r.os]||[]:n,platform:r.platform,onPlatformChange:function(e){return l("platform",e)}})]})]})}})})}},32858:function(e,t,n){"use strict";n.d(t,{dP:function(){return l}}),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),n(20493);var r=n(20810),a=n.n(r),i=(n(78433),n(66549),n(65562),n(77072),n(74364),n(99230),n(92429),n(24378),n(13853));function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={k8sLinux:{id:"k8s",label:"Kubernetes",command:function(e,t,n,r,a){var s=n.allowSelfSignedCertificates,o=n.edgeIdGenerator,l=n.envVars,c=(0,i.getAgentShortVersion)(e),d=l.trim(),u=o?"PORTAINER_EDGE_ID=$(".concat(o,") \n\n"):"",p=!o&&r?r:"$PORTAINER_EDGE_ID",m=s?"1":"0";return"".concat(u,"curl https://downloads.portainer.io/ee").concat(c,'/portainer-edge-agent-setup.sh | bash -s -- "').concat(p,'" "').concat(t,'" "').concat(m,'" "').concat(a,'" "').concat(d,'"')}},swarmLinux:{id:"swarm",label:"Docker Swarm",command:function(e,t,n,r,a){var i=n.allowSelfSignedCertificates,o=n.edgeIdGenerator,l=c(n.envVars,[].concat(s(d(t,i,o?void 0:r,a)),["AGENT_CLUSTER_ADDR=tasks.portainer_edge_agent"]));return"".concat(o?"PORTAINER_EDGE_ID=$(".concat(o,") \n\n"):"","docker network create \\\n  --driver overlay \\\n  portainer_agent_network;\n\ndocker service create \\\n  --name portainer_edge_agent \\\n  --network portainer_agent_network \\\n  ").concat(l," \\\n  --mode global \\\n  --constraint 'node.platform.os == linux' \\\n  --mount type=bind,src=//var/run/docker.sock,dst=/var/run/docker.sock \\\n  --mount type=bind,src=//var/lib/docker/volumes,dst=/var/lib/docker/volumes \\\n  --mount type=bind,src=//,dst=/host \\\n  --mount type=volume,src=portainer_agent_data,dst=/data \\\n  portainer/agent:").concat(e,"\n")}},standaloneLinux:{id:"standalone",label:"Docker Standalone",command:function(e,t,n,r,a){var i=n.allowSelfSignedCertificates,s=n.edgeIdGenerator,o=c(n.envVars,d(t,i,s?void 0:r,a));return"".concat(s?"PORTAINER_EDGE_ID=$(".concat(s,") \n\n"):"","docker run -d \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  -v /var/lib/docker/volumes:/var/lib/docker/volumes \\\n  -v /:/host \\\n  -v portainer_agent_data:/data \\\n  --restart always \\\n  ").concat(o," \\\n  --name portainer_edge_agent \\\n  portainer/agent:").concat(e,"\n  ")}},swarmWindows:{id:"swarm",label:"Docker Swarm",command:function(e,t,n,r,a){var i=n.allowSelfSignedCertificates,o=n.edgeIdGenerator,l=c(n.envVars,[].concat(s(d(t,i,o?"$Env:PORTAINER_EDGE_ID":r,a)),["AGENT_CLUSTER_ADDR=tasks.portainer_edge_agent"]));return"".concat(o?'$Env:PORTAINER_EDGE_ID = "@('.concat(o,')" \n\n'):"","docker network create \\\n  --driver overlay \\\n  portainer_agent_network;\n\ndocker service create \\\n  --name portainer_edge_agent \\\n  --network portainer_agent_network \\\n  ").concat(l," \\\n  --mode global \\\n  --constraint 'node.platform.os == windows' \\\n  --mount type=npipe,src=\\\\.\\pipe\\docker_engine,dst=\\\\.\\pipe\\docker_engine \\\n  --mount type=bind,src=C:\\ProgramData\\docker\\volumes,dst=C:\\ProgramData\\docker\\volumes \\\n  --mount type=volume,src=portainer_agent_data,dst=C:\\data \\\n  portainer/agent:").concat(e,"\n")}},standaloneWindow:{id:"standalone",label:"Docker Standalone",command:function(e,t,n,r,a){var i=n.allowSelfSignedCertificates,s=n.edgeIdGenerator,o=c(n.envVars,d(t,i,s?"$Env:PORTAINER_EDGE_ID":r,a));return"".concat(s?'$Env:PORTAINER_EDGE_ID = "@('.concat(s,')" \n\n'):"","docker run -d \\\n  --mount type=npipe,src=\\\\.\\pipe\\docker_engine,dst=\\\\.\\pipe\\docker_engine \\\n  --mount type=bind,src=C:\\ProgramData\\docker\\volumes,dst=C:\\ProgramData\\docker\\volumes \\\n  --mount type=volume,src=portainer_agent_data,dst=C:\\data \\\n  --restart always \\\n   ").concat(o," \\\n  --name portainer_edge_agent \\\n  portainer/agent:").concat(e,"\n  ")}}};function c(e,t){return t.concat(e.split(",").filter((function(e){return e.length>0}))).map((function(e){return"-e ".concat(e)})).join(" \\\n  ")}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$PORTAINER_EDGE_ID",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return a()(["EDGE=1","EDGE_ID=".concat(n),"EDGE_KEY=".concat(e),"EDGE_INSECURE_POLL=".concat(t?1:0),r?"AGENT_SECRET=".concat(r):""])}},4679:function(e,t,n){"use strict";n.d(t,{N:function(){return o},A:function(){return c}}),n(40958),n(65562),n(50527);var r=n(20023),a=n(6811);function i(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){i(s,r,a,o,l,"next",e)}function l(e){i(s,r,a,o,l,"throw",e)}o(void 0)}))}}function o(e){return l.apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(t){var n,i,s,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.environmentId,i=t.namespace,s=t.allowedOnly,e.prev=1,e.next=4,a.ZP.get(u(n,i),s?{params:{allowedOnly:!0}}:void 0);case 4:return o=e.sent,l=o.data,e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(1),new r.Z("Unable to get ingress controllers.",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function c(e,t,n){return d.apply(this,arguments)}function d(){return(d=s(regeneratorRuntime.mark((function e(t,n,i){var s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.put(u(t,i),n);case 3:return s=e.sent,o=s.data,e.abrupt("return",o);case 8:throw e.prev=8,e.t0=e.catch(0),new r.Z("Unable to update ingress controllers.",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(e,t){var n="kubernetes/".concat(e,"/");return t&&(n+="namespaces/".concat(t,"/")),n+"ingresscontrollers"}},77568:function(e,t,n){"use strict";n.d(t,{p:function(){return i}}),n(77072),n(93742);var r=n(88606),a=n(83471);function i(e){return(0,r.Ry)().shape({ownership:(0,r.Z_)().oneOf(Object.values(a.X)).required(),authorizedUsers:(0,r.IX)((0,r.Rx)()),authorizedTeams:(0,r.IX)((0,r.Rx)())}).test("user-and-team",e?"You must specify at least one team or user.":"You must specify at least one team.",(function(t){var n=t.ownership,r=t.authorizedTeams,i=t.authorizedUsers;return n!==a.X.RESTRICTED||(e?!!r&&!!i&&(r.length>0||i.length>0):!!r&&r.length>0)}))}},7725:function(e,t,n){"use strict";n.d(t,{I:function(){return p}}),n(42240),n(65562),n(47771),n(78433),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var r=n(50265),a=n(7862),i=n(93758),s=n(50858),o=n(83471),l=n(2629);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t,n=e.values,c=e.onChange,u=e.hideTitle,p=e.formNamespace,m=e.errors,g=(0,r.aF)().isAdmin,h=n.ownership!==o.X.PUBLIC;return(0,l.jsxs)(l.Fragment,{children:[!u&&(0,l.jsx)(a.i,{children:"Access control"}),(0,l.jsx)("div",{className:"form-group",children:(0,l.jsx)("div",{className:"col-sm-12",children:(0,l.jsx)(i.K,{checked:h,name:(t="accessControlEnabled",p?"".concat(p,".").concat(t):t),label:"Enable access control",tooltip:"When enabled, you can restrict the access and management of this resource.",onChange:function(e){var t=o.X.PUBLIC;e&&(t=g?o.X.ADMINISTRATORS:o.X.PRIVATE),c(d(d({},n),{},{ownership:t}))},dataCy:"portainer-accessMgmtToggle"})})}),h&&(0,l.jsx)(s.o,{onChange:c,values:n,errors:m,formNamespace:p})]})}},94033:function(e,t,n){"use strict";n.d(t,{V:function(){return F}}),n(65562),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(50527),n(40958);var r=n(95004),a=n(50265),i=n(2792),s=n(43247),o=n(45565),l=n(29722),c=n(12584),d=n(83471),u=n(20810),p=n.n(u),m=(n(92429),n(99230),n(78495),n(39532)),g=n(41066),h=n(74050),f=n(31051),v=n(54497),b=n(2629);function y(e){var t,n,r=e.resourceControl,a=function(e,t){if(!t||t.Type===e)return null;var n=t.Type,r=t.ResourceId;return e===d.O.Container&&n===d.O.Service?(0,b.jsxs)(S,{tooltip:"Access control applied on a service is also applied on each container of that service.",children:["Access control on this resource is inherited from the following service:",(0,b.jsx)(f.r,{to:"docker.services.service",params:{id:r},children:(0,g.truncate)(r)})]}):e===d.O.Volume&&n===d.O.Container?(0,b.jsxs)(S,{tooltip:"Access control applied on a container created using a template is also applied on each volume associated to the container.",children:["Access control on this resource is inherited from the following container:",(0,b.jsx)(f.r,{to:"docker.containers.container",params:{id:r},children:(0,g.truncate)(r)})]}):n===d.O.Stack?(0,b.jsxs)(S,{tooltip:"Access control applied on a stack is also applied on each resource in the stack.",children:[(0,b.jsx)("span",{className:"space-right",children:"Access control on this resource is inherited from the following stack:"}),x(r)]}):null}(e.resourceType,r),i=r||{},s=i.Ownership,l=void 0===s?d.X.ADMINISTRATORS:s,c=i.UserAccesses,u=void 0===c?[]:c,y=i.TeamAccesses,C=void 0===y?[]:y,k=(t=u.map((function(e){return e.UserId})),(0,o.UV)(!1,0,t.length>0,(function(e){return 0===t.length?[]:p()(t.map((function(t){var n=e.find((function(e){return e.Id===t}));return null==n?void 0:n.Username})))}))),A=(n=C.map((function(e){return e.TeamId})),(0,h.y2)(!1,0,{enabled:n.length>0,select:function(e){return 0===n.length?[]:p()(n.map((function(t){var n=e.find((function(e){return e.Id===t}));return null==n?void 0:n.Name})))}}));return(0,b.jsx)("table",{className:"table",children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{"data-cy":"access-ownership",children:[(0,b.jsx)("td",{children:"Ownership"}),(0,b.jsxs)("td",{children:[(0,b.jsx)("i",{className:(0,m.Z)((0,g.ownershipIcon)(l),"space-right"),"aria-hidden":"true","aria-label":"ownership-icon"}),(0,b.jsx)("span",{"aria-label":"ownership",children:l}),(0,b.jsx)(v.u,{message:w(l)})]})]}),a,u.length>0&&(0,b.jsxs)("tr",{"data-cy":"access-authorisedUsers",children:[(0,b.jsx)("td",{children:"Authorized users"}),(0,b.jsx)("td",{"aria-label":"authorized-users",children:k.data&&k.data.join(", ")})]}),C.length>0&&(0,b.jsxs)("tr",{"data-cy":"access-authorisedTeams",children:[(0,b.jsx)("td",{children:"Authorized teams"}),(0,b.jsx)("td",{"aria-label":"authorized-teams",children:A.data&&A.data.join(", ")})]})]})})}function w(e){switch(e){case d.X.PRIVATE:return"Management of this resource is restricted to a single user.";case d.X.RESTRICTED:return"This resource can be managed by a restricted set of users and/or teams.";case d.X.PUBLIC:return"This resource can be managed by any user with access to this environment.";case d.X.ADMINISTRATORS:default:return"This resource can only be managed by administrators."}}function x(e){if(!e||"string"!=typeof e)return e;var t=e.indexOf("_");return t<0?e:e.substring(t+1)}function S(e){var t=e.children,n=e.tooltip;return(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:2,"aria-label":"inheritance-message",children:[(0,b.jsx)("i",{className:"fa fa-info-circle space-right","aria-hidden":"true"}),t,(0,b.jsx)(v.u,{message:n})]})})}var C=n(69592),k=n(51641),A=n(88606),P=n(46980),I=n(46021),$=n(97347),N=n(50858),T=n(33287),E=n(77568),j=n(63625);function D(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){D(i,r,a,s,o,"next",e)}function o(e){D(i,r,a,s,o,"throw",e)}s(void 0)}))}}function R(e){var t=e.resourceId,n=e.resourceType,r=e.resourceControl,i=e.environmentId,s=e.onCancelClick,o=e.onUpdateSuccess,l=(0,a.aF)().isAdmin,d=(0,k.useMutation)((function(e){return(0,j.B)(n,t,e,r)}),{meta:{error:{title:"Failure",message:"Unable to update access control"}},onSuccess:function(){return o()}}),u={accessControl:(0,T.d)(l,r)};return(0,b.jsx)(C.J9,{initialValues:u,onSubmit:function(e){return p.apply(this,arguments)},validateOnMount:!0,validateOnChange:!0,validationSchema:function(){return(0,A.Ry)({accessControl:(0,E.p)(l)})},children:function(e){var t=e.setFieldValue,n=e.values,r=e.isSubmitting,a=e.isValid,o=e.errors;return(0,b.jsxs)(C.l0,{className:(0,m.Z)("form-horizontal","app-react-portainer-access-control-AccessControlPanel-AccessControlPanelForm-module__form"),children:[(0,b.jsx)(N.o,{onChange:function(e){return t("accessControl",e)},values:n.accessControl,isPublicVisible:!0,errors:o.accessControl,environmentId:i}),(0,b.jsx)("div",{className:"form-group",children:(0,b.jsxs)("div",{className:"col-sm-12",children:[(0,b.jsx)(c.zx,{size:"small",color:"default",onClick:s,children:"Cancel"}),(0,b.jsx)($.f,{size:"small",color:"primary",type:"submit",isLoading:r,disabled:!a,loadingText:"Updating Ownership",children:"Update Ownership"})]})})]})}});function p(){return(p=O(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accessControl,e.next=3,M();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:d.mutate(n,{onSuccess:function(){(0,I.t5)("Success","Access control successfully updated")}});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}function M(){return(0,P.l9)({title:"Are you sure?",message:"Changing the ownership of this resource will potentially restrict its management to some users.",buttons:{confirm:{label:"Change ownership",className:"btn-primary"}}})}function L(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){L(i,r,a,s,o,"next",e)}function o(e){L(i,r,a,s,o,"throw",e)}s(void 0)}))}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e){var t,n,u=e.resourceControl,p=e.resourceType,m=e.disableOwnershipChange,g=e.resourceId,h=e.environmentId,f=e.onUpdateSuccess,v=(t=(0,r.useReducer)((function(e){return!e}),!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=v[0],x=v[1],S=(0,a.aF)().isAdmin,C=function(){if(!u)return!1;var e=u.Type===d.O.Container&&p===d.O.Volume,t=u.Type===d.O.Service&&p===d.O.Container,n=u.Type===d.O.Stack&&p!==d.O.Stack;return e||t||n}(),k=function(e){var t=(0,a.aF)(),n=t.user,r=t.isAdmin,i=(0,o.fi)(n.Id);if(!e||r)return{isPartOfRestrictedUsers:!1,isLeaderOfAnyRestrictedTeams:!1};if(e.UserAccesses.some((function(e){return e.UserId===n.Id})))return{isPartOfRestrictedUsers:!0,isLeaderOfAnyRestrictedTeams:!1};var l=i.isSuccess&&function(e,t){return e.some((function(e){return e.Role===s.q.Leader&&t.TeamAccesses.some((function(t){return t.TeamId===e.TeamID}))}))}(i.data,e);return{isPartOfRestrictedUsers:!1,isLeaderOfAnyRestrictedTeams:l}}(u),A=k.isPartOfRestrictedUsers,P=k.isLeaderOfAnyRestrictedTeams,I=m||C||!S&&!A&&!P;return(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-sm-12",children:(0,b.jsxs)(l.xJ,{children:[(0,b.jsx)(l.lw,{label:"Access control",icon:"eye",featherIcon:!0}),(0,b.jsx)(y,{resourceType:p,resourceControl:u}),!I&&!w&&(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{children:(0,b.jsxs)(c.zx,{color:"link",onClick:x,children:[(0,b.jsx)(i.J,{icon:"edit",className:"space-right",feather:!0}),"Change ownership"]})})}),w&&(0,b.jsx)(R,{resourceControl:u,onCancelClick:function(){return x()},resourceId:g,resourceType:p,environmentId:h,onUpdateSuccess:function(){return $.apply(this,arguments)}})]})})});function $(){return($=U(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:x();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},50858:function(e,t,n){"use strict";n.d(t,{o:function(){return j}}),n(42240),n(65562),n(47771),n(78433),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var r=n(95004),a=n(50265),i=n(55666),s=n(24751),o=n(83471),l=(n(20493),n(61645)),c=n(29638),d=n(31051),u=n(2629);function p(e){var t=e.name,n=e.users,r=e.value,a=e.onChange,i=e.errors;return(0,u.jsx)(c.N,{label:"Authorized users",tooltip:n.length>0?"You can select which user(s) will be able to manage this resource.":void 0,inputId:"users-selector",errors:i,children:n.length>0?(0,u.jsx)(l.f,{name:t,users:n,onChange:a,value:r,inputId:"users-selector"}):(0,u.jsxs)("span",{className:"small text-muted",children:["You have not yet created any users. Head over to the",(0,u.jsx)(d.r,{to:"portainer.users",children:"Users view"})," to manage users."]})})}var m=n(95793);function g(e){var t=e.name,n=e.teams,r=e.value,a=e.overrideTooltip,i=e.onChange,s=e.errors;return(0,u.jsx)(c.N,{label:"Authorized teams",tooltip:n.length>0?a||"You can select which team(s) will be able to manage this resource.":void 0,inputId:"teams-selector",errors:s,children:n.length>0?(0,u.jsx)(m.H,{name:t,teams:n,onChange:i,value:r,inputId:"teams-selector"}):(0,u.jsxs)("span",{className:"small text-muted",children:["You have not yet created any teams. Head over to the",(0,u.jsx)(d.r,{to:"portainer.teams",children:"Teams view"})," to manage teams."]})})}var h=n(74050),f=n(45565);n(62341),n(82459),n(77236),n(33262),n(66076),n(77072);var v=n(20810),b=n.n(v),y=n(20464),w=n(41066),x=n(90134);function S(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P={value:o.X.PUBLIC,label:"Public",id:"access_public",description:"I want any user with access to this environment to be able to manage this resource",icon:(0,u.jsx)(x.V,{icon:(0,w.ownershipIcon)("public")})};function I(){return[(0,y.e)("access_administrators",(0,u.jsx)(x.V,{icon:(0,w.ownershipIcon)("administrators")}),"Administrators","I want to restrict the management of this resource to administrators only",o.X.ADMINISTRATORS),(0,y.e)("access_restricted",(0,u.jsx)(x.V,{icon:(0,w.ownershipIcon)("restricted")}),"Restricted","I want to restrict the management of this resource to a set of users and/or teams",o.X.RESTRICTED)]}function $(e){return b()([(0,y.e)("access_private",(0,u.jsx)(x.V,{icon:(0,w.ownershipIcon)("private")}),"Private","I want to this resource to be manageable by myself only",o.X.PRIVATE),e&&e.length>0&&(0,y.e)("access_restricted",(0,u.jsx)(x.V,{icon:(0,w.ownershipIcon)("restricted")}),"Restricted",1===e.length?"I want any member of my team (".concat(e[0].Name,")  to be able to manage this resource"):"I want to restrict the management of this resource to one or more of my teams",o.X.RESTRICTED)])}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=e.values,n=e.onChange,l=e.isPublicVisible,c=void 0!==l&&l,d=e.errors,m=e.formNamespace,v=e.environmentId,b=(0,a.aF)(),y=b.user,w=b.isAdmin,x=function(e){var t=(0,h.y2)(!1,e),n=(0,f.UV)(!1,e);return{teams:t.data,users:n.data,isLoading:t.isLoading||n.isLoading}}(v),k=x.users,A=x.teams,N=x.isLoading,E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=C((0,r.useState)([]),2),i=a[0],s=a[1];return(0,r.useEffect)((function(){var r=e?I():$(t);s(n?[].concat(S(r),[P]):r)}),[e,t,n]),i}(w,A,c),j=(0,r.useCallback)((function(e){n(T(T({},t),e))}),[t,n]);return!N&&A&&k?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.S,{radioName:D("ownership"),value:t.ownership,options:E,onChange:function(e){return function(e){var n=t.authorizedTeams,r=t.authorizedUsers;e===o.X.PRIVATE&&y&&(r=[y.Id],n=[]),e===o.X.RESTRICTED&&(r=[],n=[]),j({ownership:e,authorizedTeams:n,authorizedUsers:r})}(e)}}),t.ownership===o.X.RESTRICTED&&(0,u.jsxs)("div",{"aria-label":"extra-options",children:[w&&(0,u.jsx)(p,{name:D("authorizedUsers"),users:k,onChange:function(e){return j({authorizedUsers:e})},value:t.authorizedUsers,errors:null==d?void 0:d.authorizedUsers}),(w||A.length>1)&&(0,u.jsx)(g,{name:D("authorizedTeams"),teams:A,overrideTooltip:!w&&A.length>1?"As you are a member of multiple teams, you can select which teams(s) will be able to manage this resource.":void 0,onChange:function(e){return j({authorizedTeams:e})},value:t.authorizedTeams,errors:null==d?void 0:d.authorizedTeams}),"string"==typeof d&&(0,u.jsx)("div",{className:"form-group col-md-12",children:(0,u.jsx)(s.X,{children:d})})]})]}):null;function D(e){return m?"".concat(m,".").concat(e):e}}},63625:function(e,t,n){"use strict";n.d(t,{B:function(){return d},e:function(){return u}}),n(40958),n(65562),n(50527),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var r=n(6811),a=n(33287);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){l(i,r,a,s,o,"next",e)}function o(e){l(i,r,a,s,o,"throw",e)}s(void 0)}))}}function d(e,t,n,r){var i=(0,a.w)(n);return r?p(r.Id,i):function(e,t,n){return g.apply(this,arguments)}(e,t,i)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=(0,a.w)(e,n);return p(t.Id,r)}function p(e,t){return m.apply(this,arguments)}function m(){return(m=c(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.put(h(t),n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function g(){return(g=c(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post(h(),s(s({},a),{},{type:t,resourceId:n}));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function h(e){var t="/resource_controls";return e&&(t+="/".concat(e)),t}},80178:function(e,t,n){"use strict";n.d(t,{w:function(){return s},C:function(){return o}});var r=n(83471);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=i((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Id=t.Id,this.Type=t.Type,this.ResourceId=t.ResourceId,this.UserAccesses=t.UserAccesses,this.TeamAccesses=t.TeamAccesses,this.Public=t.Public,this.System=t.System,this.Ownership=o(t)}));function o(e){return e.Public?r.X.PUBLIC:1===e.UserAccesses.length&&0===e.TeamAccesses.length?r.X.PRIVATE:e.UserAccesses.length>1||e.TeamAccesses.length>0?r.X.RESTRICTED:r.X.ADMINISTRATORS}},83471:function(e,t,n){"use strict";var r,a,i;n.d(t,{X:function(){return r},O:function(){return a}}),function(e){e.PUBLIC="public",e.PRIVATE="private",e.RESTRICTED="restricted",e.ADMINISTRATORS="administrators"}(r||(r={})),function(e){e[e.Container=1]="Container",e[e.Service=2]="Service",e[e.Volume=3]="Volume",e[e.Network=4]="Network",e[e.Secret=5]="Secret",e[e.Stack=6]="Stack",e[e.Config=7]="Config",e[e.CustomTemplate=8]="CustomTemplate",e[e.ContainerGroup=9]="ContainerGroup"}(a||(a={})),function(e){e[e.ReadWriteAccessLevel=1]="ReadWriteAccessLevel"}(i||(i={}))},33287:function(e,t,n){"use strict";n.d(t,{w:function(){return a},d:function(){return i}}),n(15845),n(7974),n(92429);var r=n(83471);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.ownership,a=e.authorizedTeams,i=e.authorizedUsers,s=n===r.X.ADMINISTRATORS,o=n===r.X.PUBLIC,l=i,c=a;return[r.X.ADMINISTRATORS,r.X.PUBLIC].includes(n)&&(l=[],c=[]),{administratorsOnly:s,public:o,users:l,teams:c,subResourcesIds:t}}function i(e,t){var n=(null==t?void 0:t.Ownership)||r.X.PRIVATE;e&&(t?n===r.X.PRIVATE&&(n=r.X.RESTRICTED):n=r.X.ADMINISTRATORS);var a=[],i=[];return t&&[r.X.PRIVATE,r.X.RESTRICTED].includes(n)&&(a=t.TeamAccesses.map((function(e){return e.TeamId})),i=t.UserAccesses.map((function(e){return e.UserId}))),{ownership:n,authorizedUsers:i,authorizedTeams:a}}},26951:function(e,t,n){"use strict";n.d(t,{NT:function(){return p},fD:function(){return m},SM:function(){return g}}),n(28001),n(62341),n(82459),n(77236),n(47771),n(33262),n(66076),n(77072);var r=n(20810),a=n.n(r),i=n(93715),s=n.n(i),o=(n(92429),n(66549),n(65562),n(78433),n(78495),n(20493),n(42240),n(25212),n(40443),n(53124));function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=function(e){if(!e)return[];try{return o.Z.parse(e)}catch(e){return null}}(e);return t?t.filter((function(e){var t=c(e,2),n=t[0],r=t[1];return"name"===n&&r})).map((function(e){return{name:c(e,2)[1],label:"",defaultValue:"",description:""}})):null}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.filter((function(e){return!!e.label}));return s()([].concat(l(n),l(t.filter((function(e){return!n.find((function(t){return t.name===e.name}))})))),"name")}function g(e,t,n){var r=Object.fromEntries(a()(Object.entries(t).map((function(e){var t=c(e,2),r=t[0],a=t[1];if(a)return[r,a];var i=n.find((function(e){return e.name===r}));return i?[r,i.defaultValue||"{{ ".concat(i.name," }}")]:null}))));return o.Z.render(e,r,void 0,{escape:function(e){return e}})}},16100:function(e,t,n){"use strict";n.d(t,{bQ:function(){return p},NP:function(){return m},WO:function(){return g}}),n(20493),n(65562),n(57592),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var r=n(88606),a=n(3731),i=n(88728),s=n(35547),o=n(2629);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=e.item,n=e.onChange;return(0,o.jsxs)("div",{className:"flex gap-2 flex-grow",children:[(0,o.jsxs)(s.B,{size:"small",className:"flex-grow",children:[(0,o.jsx)(s.B.Addon,{children:"GPU Name"}),(0,o.jsx)(s.B.Input,{placeholder:"my-gpu",value:t.name,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(c(c({},t),{},{name:e.target.value}))}))})]}),(0,o.jsxs)(s.B,{size:"small",className:"flex-grow",children:[(0,o.jsx)(s.B.Addon,{children:"Index or UUID"}),(0,o.jsx)(s.B.Input,{placeholder:"0 or GPU-6e2c7185-c3d3-ae22-da43-bc5267b89061",value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(c(c({},t),{},{value:e.target.value}))}))})]})]})}function p(e){var t=e.value,n=e.onChange;return(0,o.jsx)(i.Q,{label:"GPU",value:t,onChange:n,itemBuilder:function(){return{value:"",name:""}},addLabel:"add",item:u})}function m(){var e=(0,r.Ry)().shape({name:(0,r.Z_)().required(),value:(0,r.Z_)().required()});return(0,r.IX)().of(e).default([])}var g=(0,a.A)(p,["value","onChange"])},76598:function(e,t,n){"use strict";n.d(t,{P:function(){return d}}),n(78433),n(66549),n(65562),n(15845),n(7974),n(50033),n(28001),n(47097),n(98191),n(62176),n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),n(20493),n(77072);var r=n(36153),a=n(55087),i=n(73817);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,r.Z)()((0,a.tJ)((function(e){return{userNotifications:{},addNotification:function(t,n){e((function(e){return{userNotifications:l(l({},e.userNotifications),{},c({},t,[].concat((r=e.userNotifications[t]||[],function(e){if(Array.isArray(e))return s(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[n])))};var r}))},removeNotification:function(t,n){e((function(e){return{userNotifications:l(l({},e.userNotifications),{},c({},t,e.userNotifications[t].filter((function(e){return e.id!==n}))))}}))},removeNotifications:function(t,n){e((function(e){return{userNotifications:l(l({},e.userNotifications),{},c({},t,e.userNotifications[t].filter((function(e){return!n.includes(e.id)}))))}}))},clearUserNotifications:function(t){e((function(e){return{userNotifications:l(l({},e.userNotifications),{},c({},t,[]))}}))}}}),{name:(0,i.gW)("notifications")}))},59991:function(e,t,n){"use strict";n.d(t,{Fy:function(){return b},rV:function(){return y},U_:function(){return w}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var r=n(51641),a=n(53347),i=(n(40958),n(50527),n(55287)),s=n(6811);function o(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,l,"next",e)}function l(e){o(i,r,a,s,l,"throw",e)}s(void 0)}))}}function c(){return d.apply(this,arguments)}function d(){return(d=l(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.ZP.get(g("public"));case 3:return t=e.sent,n=t.data,e.abrupt("return",new i.PublicSettingsViewModel(n));case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.vs)(e.t0,"Unable to retrieve application settings");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(){return p.apply(this,arguments)}function p(){return(p=l(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.ZP.get(g());case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.vs)(e.t0,"Unable to retrieve application settings");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(){return(m=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.ZP.put(g("default_registry"),t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,s.vs)(e.t0,"Unable to update default registry settings");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function g(e,t){var n="settings";return e&&(n+="/".concat(e)),t&&(n+="/".concat(t)),n}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,n=e.select,i=e.onSuccess;return(0,r.useQuery)(["settings","public"],(function(){return c()}),f(f({select:n},(0,a.AQ)("Unable to retrieve public settings")),{},{enabled:t,onSuccess:i}))}function y(e,t){return(0,r.useQuery)(["settings"],u,f({select:e,enabled:t},(0,a.AQ)("Unable to retrieve settings")))}function w(){var e=(0,r.useQueryClient)();return(0,r.useMutation)((function(e){return function(e){return m.apply(this,arguments)}(e)}),(0,a.yL)((0,a.ar)(e,[["settings"]]),(0,a.AQ)("Unable to update default registry settings")))}},74050:function(e,t,n){"use strict";n.d(t,{y2:function(){return c},t7:function(){return d},pK:function(){return u},xH:function(){return p},er:function(){return m},gK:function(){return g}}),n(92429),n(78495),n(65562);var r=n(51641),a=n(19990),i=n(46021),s=n(12613),o=n(67826),l=n(43247);function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.enabled,i=void 0===a||a,s=n.select,l=void 0===s?function(e){return e}:s,c=(0,r.useQuery)(["teams",{onlyLedTeams:e,environmentId:t}],(function(){return(0,o.LK)(e,t)}),{meta:{error:{title:"Failure",message:"Unable to load teams"}},enabled:i,select:l});return c}function d(e,t){return(0,r.useQuery)(["teams",e],(function(){return(0,o.VP)(e)}),{meta:{error:{title:"Failure",message:"Unable to load team"}},onError:t})}function u(e){return(0,r.useQuery)(["teams",e,"memberships"],(function(){return(0,o.gb)(e)}),{meta:{error:{title:"Failure",message:"Unable to load team memberships"}}})}function p(e){var t=(0,r.useQueryClient)();return(0,r.useMutation)((function(t){return(0,a.y)(t.map((function(t){return function(){return(0,s.gC)(t,e,l.q.Member)}})))}),{onError:function(e){(0,i.cB)("Failure",e,"Failure to add membership")},onSuccess:function(){return t.invalidateQueries(["teams",e,"memberships"])}})}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.useQueryClient)();return(0,r.useMutation)((function(e){return(0,a.y)(e.map((function(e){return function(){var n=t.find((function(t){return t.UserID===e}));if(!n)throw new Error("Membership not found");return(0,s.kL)(n.Id)}})))}),{onError:function(e){(0,i.cB)("Failure",e,"Failure to add membership")},onSuccess:function(){n.invalidateQueries(["teams",e,"memberships"])}})}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.useQueryClient)();return(0,r.useMutation)((function(n){var r=n.userId,a=n.role,i=t.find((function(e){return e.UserID===r}));if(!i)throw new Error("Membership not found");return(0,s.dk)(i.Id,r,e,a)}),{onError:function(e){(0,i.cB)("Failure",e,"Failure to update membership")},onSuccess:function(){n.invalidateQueries(["teams",e,"memberships"])}})}},12613:function(e,t,n){"use strict";n.d(t,{gC:function(){return s},kL:function(){return l},dk:function(){return d}}),n(40958),n(65562),n(50527);var r=n(6811);function a(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){a(s,r,i,o,l,"next",e)}function l(e){a(s,r,i,o,l,"throw",e)}o(void 0)}))}}function s(e,t,n){return o.apply(this,arguments)}function o(){return(o=i(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post(p(),{userId:t,teamId:n,role:a});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to create team membership");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.delete(p(t));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to delete team membership");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function d(e,t,n,r){return u.apply(this,arguments)}function u(){return(u=i(regeneratorRuntime.mark((function e(t,n,a,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.put(p(t),{userId:n,teamId:a,role:i});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to update team membership");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function p(e){var t="/team_memberships";return e&&(t+="/".concat(e)),t}},67826:function(e,t,n){"use strict";n.d(t,{LK:function(){return l},VP:function(){return d},fC:function(){return p},Cm:function(){return g},gb:function(){return f}}),n(40958),n(65562),n(50527),n(42240),n(77236),n(47771),n(92429);var r=n(6811),a=n(12613),i=n(43247);function s(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,l,"next",e)}function l(e){s(i,r,a,o,l,"throw",e)}o(void 0)}))}}function l(){return c.apply(this,arguments)}function c(){return c=o(regeneratorRuntime.mark((function e(){var t,n,a,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]&&s[0],n=s.length>1&&void 0!==s[1]?s[1]:0,e.prev=2,e.next=5,r.ZP.get(b(),{params:{onlyLedTeams:t,environmentId:n}});case 5:return a=e.sent,i=a.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),(0,r.vs)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),c.apply(this,arguments)}function d(e){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(b(t));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.delete(b(t));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,r.vs)(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function g(e,t){return h.apply(this,arguments)}function h(){return(h=o(regeneratorRuntime.mark((function e(t,n){var s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.post(b(),{name:t});case 3:return s=e.sent,o=s.data,e.next=7,Promise.all(n.map((function(e){return(0,a.gC)(e,o.Id,i.q.Leader)})));case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to create team");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=o(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(b(t,"memberships"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,"Unable to get team memberships");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function b(e,t){var n="/teams";return e&&(n+="/".concat(e)),t&&(n+="/".concat(t)),n}},43247:function(e,t,n){"use strict";var r;n.d(t,{q:function(){return r}}),function(e){e[e.Leader=1]="Leader",e[e.Member=2]="Member"}(r||(r={}))},14691:function(e){e.exports="test-file-stub"},12534:function(e){e.exports={}},38541:function(e,t,n){"use strict";n.r(t),n.d(t,{ReactComponent:function(){return r}}),t.default="SvgrURL";const r="div"},75947:function(e,t,n){"use strict";n.r(t),n.d(t,{FileUploaderController:function(){return r}});class r{constructor(e){Object.assign(this,{$async:e}),this.state={uploadInProgress:!1},this.onFileSelected=this.onFileSelected.bind(this),this.onFileSelectedAsync=this.onFileSelectedAsync.bind(this)}onFileSelected(e){return this.$async(this.onFileSelectedAsync,e)}async onFileSelectedAsync(e){if(e){this.state.uploadInProgress=!0;try{await this.uploadFile(e)}finally{this.state.uploadInProgress=!1}}}}r.$inject=["$async"]},38123:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(75947);const s=n(10388);a().module("portainer.agent").component("fileUploader",{templateUrl:s,controller:i.FileUploaderController,bindings:{uploadFile:"<onFileSelected"}})},46161:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(53719);a().module("portainer.agent").component("filesDatatable",{templateUrl:i,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",isRoot:"<",goToParent:"&",browse:"&",rename:"&",download:"&",delete:"&",isUploadAllowed:"<",onFileSelectedForUpload:"<"}})},10822:function(e,t,n){"use strict";n.r(t),n.d(t,{HostBrowserController:function(){return d}});var r=n(85713),a=n.n(r),i=n(89858),s=n.n(i),o=n(17465),l=n.n(o);const c="/host";class d{constructor(e,t,n,r,a){Object.assign(this,{$async:e,HostBrowserService:t,Notifications:n,FileSaver:r,ModalService:a}),this.state={path:c},this.goToParent=this.goToParent.bind(this),this.browse=this.browse.bind(this),this.confirmDeleteFile=this.confirmDeleteFile.bind(this),this.isRoot=this.isRoot.bind(this),this.getRelativePath=this.getRelativePath.bind(this),this.getFilesForPath=this.getFilesForPath.bind(this),this.getFilesForPathAsync=this.getFilesForPathAsync.bind(this),this.downloadFile=this.downloadFile.bind(this),this.downloadFileAsync=this.downloadFileAsync.bind(this),this.renameFile=this.renameFile.bind(this),this.renameFileAsync=this.renameFileAsync.bind(this),this.deleteFile=this.deleteFile.bind(this),this.deleteFileAsync=this.deleteFileAsync.bind(this),this.onFileSelectedForUpload=this.onFileSelectedForUpload.bind(this),this.onFileSelectedForUploadAsync=this.onFileSelectedForUploadAsync.bind(this)}getRelativePath(e){e=e||this.state.path;const t=new RegExp("^/host/?");return e.replace(t,"/")}goToParent(){this.getFilesForPath(this.parentPath(this.state.path))}isRoot(){return this.state.path===c}browse(e){this.getFilesForPath(this.buildPath(this.state.path,e))}getFilesForPath(e){return this.$async(this.getFilesForPathAsync,e)}async getFilesForPathAsync(e){try{const t=await this.HostBrowserService.ls(e);this.state.path=e,this.files=t}catch(e){this.Notifications.error("Failure",e,"Unable to browse")}}renameFile(e,t){return this.$async(this.renameFileAsync,e,t)}async renameFileAsync(e,t){const n=this.buildPath(this.state.path,e),r=this.buildPath(this.state.path,t);try{await this.HostBrowserService.rename(n,r),this.Notifications.success("File successfully renamed",this.getRelativePath(r));const e=await this.HostBrowserService.ls(this.state.path);this.files=e}catch(e){this.Notifications.error("Failure",e,"Unable to rename file")}}downloadFile(e){return this.$async(this.downloadFileAsync,e)}async downloadFileAsync(e){const t=this.buildPath(this.state.path,e);try{const{file:n}=await this.HostBrowserService.get(t),r=new Blob([n],{type:"text/plain;charset=utf-8"});this.FileSaver.saveAs(r,e)}catch(e){this.Notifications.error("Failure",e,"Unable to download file")}}confirmDeleteFile(e){const t=this.buildPath(this.state.path,e);this.ModalService.confirmDeletion(`Are you sure that you want to delete ${this.getRelativePath(t)} ?`,(e=>{if(e)return this.deleteFile(t)}))}deleteFile(e){this.$async(this.deleteFileAsync,e)}async deleteFileAsync(e){try{await this.HostBrowserService.delete(e),this.Notifications.success("File successfully deleted",this.getRelativePath(e));const t=await this.HostBrowserService.ls(this.state.path);this.files=t}catch(e){this.Notifications.error("Failure",e,"Unable to delete file")}}$onInit(){this.getFilesForPath(c)}parentPath(e){if(e===c)return c;const t=l()(e,"/");return s()(a()(t,0,t.length-1),"/")}buildPath(e,t){return e.lastIndexOf("/")===e.length-1?e+t:e+"/"+t}onFileSelectedForUpload(e){return this.$async(this.onFileSelectedForUploadAsync,e)}async onFileSelectedForUploadAsync(e){if(!this.endpointId)throw new Error("missing endpoint id");try{await this.HostBrowserService.upload(this.endpointId,this.state.path,e),this.onFileUploaded()}catch(e){this.Notifications.error("Failure",e,"Unable to upload file")}}onFileUploaded(){this.refreshList()}refreshList(){this.getFilesForPath(this.state.path)}}d.$inject=["$async","HostBrowserService","Notifications","FileSaver","ModalService"]},70627:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(10822);const s=n(10884);a().module("portainer.agent").component("hostBrowser",{controller:i.HostBrowserController,templateUrl:s,bindings:{endpointId:"<"}})},60744:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(42102);const s=n(56566);a().module("portainer.agent").component("nodeSelector",{templateUrl:s,controller:i.NodeSelectorController,bindings:{model:"="}})},42102:function(e,t,n){"use strict";n.r(t),n.d(t,{NodeSelectorController:function(){return r}});class r{constructor(e,t){Object.assign(this,{AgentService:e,Notifications:t})}async $onInit(){try{const e=await this.AgentService.agents();this.agents=e,this.model||(this.model=e[0].NodeName)}catch(e){this.Notifications.error("Failure",e,"Unable to load agents")}}}r.$inject=["AgentService","Notifications"]},41775:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(14087);const s=n(23709);a().module("portainer.agent").component("volumeBrowser",{templateUrl:s,controller:i.VolumeBrowserController,bindings:{volumeId:"<",nodeName:"<",isUploadEnabled:"<",endpointId:"<"}})},14087:function(e,t,n){"use strict";n.r(t),n.d(t,{VolumeBrowserController:function(){return c}});var r=n(85713),a=n.n(r),i=n(89858),s=n.n(i),o=n(17465),l=n.n(o);class c{constructor(e,t,n,r,a,i,s){Object.assign(this,{$async:e,HttpRequestHelper:t,VolumeBrowserService:n,FileSaver:r,Blob:a,ModalService:i,Notifications:s}),this.state={path:"/"},this.rename=this.rename.bind(this),this.renameAsync=this.renameAsync.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.download=this.download.bind(this),this.downloadAsync=this.downloadAsync.bind(this),this.up=this.up.bind(this),this.browse=this.browse.bind(this),this.deleteFile=this.deleteFile.bind(this),this.deleteFileAsync=this.deleteFileAsync.bind(this),this.getFilesForPath=this.getFilesForPath.bind(this),this.getFilesForPathAsync=this.getFilesForPathAsync.bind(this),this.onFileSelectedForUpload=this.onFileSelectedForUpload.bind(this),this.onFileSelectedForUploadAsync=this.onFileSelectedForUploadAsync.bind(this),this.parentPath=this.parentPath.bind(this),this.buildPath=this.buildPath.bind(this),this.$onInit=this.$onInit.bind(this),this.onFileUploaded=this.onFileUploaded.bind(this),this.refreshList=this.refreshList.bind(this)}rename(e,t){return this.$async(this.renameAsync,e,t)}async renameAsync(e,t){const n="/"===this.state.path?e:`${this.state.path}/${e}`,r="/"===this.state.path?t:`${this.state.path}/${t}`;try{await this.VolumeBrowserService.rename(this.volumeId,n,r),this.Notifications.success("File successfully renamed",r),this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error("Failure",e,"Unable to rename file")}}confirmDelete(e){const t="/"===this.state.path?e:`${this.state.path}/${e}`;this.ModalService.confirmDeletion(`Are you sure that you want to delete ${t} ?`,(e=>{e&&this.deleteFile(t)}))}download(e){return this.$async(this.downloadAsync,e)}async downloadAsync(e){const t="/"===this.state.path?e:`${this.state.path}/${e}`;try{const n=await this.VolumeBrowserService.get(this.volumeId,t),r=new Blob([n.file]);this.FileSaver.saveAs(r,e)}catch(e){this.Notifications.error("Failure",e,"Unable to download file")}}up(){const e=this.parentPath(this.state.path);this.getFilesForPath(e)}browse(e){const t=this.buildPath(this.state.path,e);this.getFilesForPath(t)}deleteFile(e){return this.$async(this.deleteFileAsync,e)}async deleteFileAsync(e){try{await this.VolumeBrowserService.delete(this.volumeId,e),this.Notifications.success("File successfully deleted",e),this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error("Failure",e,"Unable to delete file")}}getFilesForPath(e){return this.$async(this.getFilesForPathAsync,e)}async getFilesForPathAsync(e){try{const t=await this.VolumeBrowserService.ls(this.volumeId,e);this.state.path=e,this.files=t}catch(e){this.Notifications.error("Failure",e,"Unable to browse volume")}}onFileSelectedForUpload(e){return this.$async(this.onFileSelectedForUploadAsync,e)}async onFileSelectedForUploadAsync(e){try{await this.VolumeBrowserService.upload(this.endpointId,this.state.path,e,this.volumeId),this.onFileUploaded()}catch(e){this.Notifications.error("Failure",e,"Unable to upload file")}}parentPath(e){if(0===e.lastIndexOf("/"))return"/";const t=l()(e,"/");return s()(a()(t,0,t.length-1),"/")}buildPath(e,t){return"/"===e?e+t:`${e}/${t}`}onFileUploaded(){this.refreshList()}refreshList(){this.getFilesForPath(this.state.path)}async $onInit(){this.HttpRequestHelper.setPortainerAgentTargetHeader(this.nodeName);try{this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error("Failure",e,"Unable to browse volume")}}}c.$inject=["$async","HttpRequestHelper","VolumeBrowserService","FileSaver","Blob","ModalService","Notifications"]},26317:function(e,t,n){"use strict";n.r(t);var r=n(29274);n.n(r)().module("portainer.agent",[])},99662:function(e,t,n){"use strict";n.r(t),n.d(t,{AgentViewModel:function(){return r}});class r{constructor(e){this.IPAddress=e.IPAddress,this.NodeName=e.NodeName,this.NodeRole=e.NodeRole}}},13481:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t,n,r){return e(`${t}/:endpointId/docker/v:version/agents`,{endpointId:n.endpointID,version:r.getAgentApiVersion},{query:{method:"GET",isArray:!0}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","StateManager"],a().module("portainer.agent").factory("Agent",i)},56192:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(94477);function s(e,t,n,r){return e(`${t}/:endpointId/docker/v:version/browse/:action`,{endpointId:n.endpointID,version:r.getAgentApiVersion},{ls:{method:"GET",isArray:!0,params:{action:"ls"}},get:{method:"GET",params:{action:"get"},transformResponse:i.browseGetResponse,responseType:"arraybuffer"},delete:{method:"DELETE",params:{action:"delete"}},rename:{method:"PUT",params:{action:"rename"}}})}s.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","StateManager"],a().module("portainer.agent").factory("Browse",s)},26084:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t){return e(`${t}/:endpointId/agent/:endpointType/v2/dockerhub/:registryId`,{},{limits:{method:"GET",params:{registryId:"@registryId"}}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS"],a().module("portainer.agent").factory("AgentDockerhub",i)},74298:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t,n,r){return e(`${t}/:endpointId/docker/v:version/host/:action`,{endpointId:n.endpointID,version:r.getAgentApiVersion},{info:{method:"GET",params:{action:"info"}}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","StateManager"],a().module("portainer.agent").factory("Host",i)},79688:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t,n,r){return e(`${t}/:endpointId/docker/ping`,{endpointId:n.endpointID},{ping:{method:"GET",interceptor:{response:function(e){const t=e.resource,n=e.headers("Portainer-Agent-Api-Version")||1;return t.version=Number(n),t},responseError:function(e){return 404===e.status?{version:1}:r.reject(e)}}}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","$q"],a().module("portainer.agent").factory("AgentPing",i)},94477:function(e,t,n){"use strict";function r(e){const t={};return t.file=e,t}n.r(t),n.d(t,{browseGetResponse:function(){return r}})},40941:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t,n){return e(`${t}/:endpointId/docker/agents`,{endpointId:n.endpointID},{query:{method:"GET",isArray:!0}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider"],a().module("portainer.agent").factory("AgentVersion1",i)},91130:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(94477);function s(e,t,n){return e(`${t}/:endpointId/docker/browse/:volumeID/:action`,{endpointId:n.endpointID},{ls:{method:"GET",isArray:!0,params:{action:"ls"}},get:{method:"GET",params:{action:"get"},transformResponse:i.browseGetResponse,responseType:"arraybuffer"},delete:{method:"DELETE",params:{action:"delete"}},rename:{method:"PUT",params:{action:"rename"}}})}s.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider"],a().module("portainer.agent").factory("BrowseVersion1",s)},78548:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(99662);function s(e,t,n,r,a){return{agents:async function(){const n=a.getState().endpoint.agentApiVersion,r=n>1?e:t;try{return(await r.query({version:n}).$promise).map((function(e){return new i.AgentViewModel(e)}))}catch(e){throw{msg:"Unable to retrieve agents",err:e}}},hostInfo:function(e){return n.setPortainerAgentTargetHeader(e),r.info().$promise}}}s.$inject=["Agent","AgentVersion1","HttpRequestHelper","Host","StateManager"],a().module("portainer.agent").factory("AgentService",s)},77884:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t,n,r){return{ls:function(t){return e.ls({path:t}).$promise},get:function(t){return e.get({path:t}).$promise},delete:function(t){return e.delete({path:t}).$promise},rename:function(t,n){const r={CurrentFilePath:t,NewFilePath:n};return e.rename({},r).$promise},upload:function(e,a,i,s){const o=r.getAgentApiVersion(),l=`${n}/${e}/docker${o>1?"/v"+o:""}/browse/put`;return new Promise(((e,n)=>{t.upload({url:l,data:{file:i,Path:a}}).then(e,n,s)}))}}}i.$inject=["Browse","Upload","API_ENDPOINT_ENDPOINTS","StateManager"],a().module("portainer.agent").factory("HostBrowserService",i)},38918:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e){return{ping:function(){return e.ping().$promise}}}i.$inject=["AgentPing"],a().module("portainer.agent").service("AgentPingService",i)},45824:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t,n,r,a){return{ls:function(e,t){return s().ls({volumeID:e,path:t,version:i()}).$promise},get:function(e,t){return s().get({volumeID:e,path:t,version:i()}).$promise},delete:function(e,t){return s().delete({volumeID:e,path:t,version:i()}).$promise},rename:function(e,t,n){const r={CurrentFilePath:t,NewFilePath:n};return s().rename({volumeID:e,version:i()},r).$promise},upload:function(t,n,i,s,o){const l=e.getAgentApiVersion();if(l<2)throw new Error("upload is not supported on this agent version");const c=`${r}/${t}/docker/v${l}/browse/put?volumeID=${s}`;return new Promise(((e,t)=>{a.upload({url:c,data:{file:i,Path:n}}).then(e,t,o)}))}};function i(){return e.getState().endpoint.agentApiVersion}function s(){return i()>1?t:n}}i.$inject=["StateManager","Browse","BrowseVersion1","API_ENDPOINT_ENDPOINTS","Upload"],a().module("portainer.agent").factory("VolumeBrowserService",i)},14916:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(45119);function s(e,t){const n=t.$get();e.settings.pageTracking.trackRelativePath=!0,e.api.setPortainerStatus=i.E4,e.api.setUserRole=i.WR,e.api.clearUserRole=i.Fv,e.api.setUserEndpointRole=i.bd,e.api.clearUserEndpointRole=i.jU,e.api.setCustomVariable=function(e,t,n,r="page"){(0,i.VF)("setCustomVariable",e,t,n,r)},e.api.deleteCustomVariable=function(e,t="page"){(0,i.VF)("deleteCustomVariable",e,t)},e.api.trackSiteSearch=function(e,t,n){if(e){const r=["trackSiteSearch",e,t||!1];a().isDefined(n)&&r.push(n),(0,i.VF)(r)}},e.api.trackGoal=function(e,t){(0,i.VF)("trackGoal",e,t||0)},e.api.trackLink=function(e,t){const n=t||"link";(0,i.VF)("trackLink",e,n)},e.registerSetUsername((function(e){(0,i.VF)("setUserId",e)})),e.registerPageTrack((function(e){(0,i.VF)("setDocumentTitle",n.document.title),(0,i.VF)("setReferrerUrl",""),(0,i.VF)("setCustomUrl","http://portainer-ce.app"+e),(0,i.VF)("trackPageView")})),e.registerEventTrack(i.L9),e.registerExceptionTrack((function(e){(0,i.VF)("trackEvent","Exceptions",e.toString(),e.stack,0)}))}s.$inject=["$analyticsProvider","$windowProvider"],t.default=a().module("angulartics.matomo",["angulartics"]).config(s).name},54905:function(e,t,n){"use strict";n.r(t),n.d(t,{onStartupAngular:function(){return s}});var r=n(52474),a=n.n(r),i=n(13494);function s(e,t,n,r,s,o,l,c,d){s.initialize(),e.$state=t;const u=document.title;c.onEnter({},(()=>{const e=s.currentEndpoint();document.title=e?`${u} | ${e.Name}`:`${u}`}));const p=l.set;l.set=function(e){e>l.status()&&p.apply(l,arguments)},c.onBefore({},(()=>{d.resetAgentHeaders()})),n((()=>{!function(e,t){const n=e.currentEndpoint();n&&n.Type==i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&t.ping(n.Id)}(s,o)}),6e4),a()(document).ajaxSend(((e,t,n)=>{const a="POST"===n.type||"PUT"===n.type||"PATCH"===n.type,i="application/json"!==n.contentType&&n.headers&&!n.headers["Content-Type"];a&&i&&t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Authorization","Bearer "+r.getJWT())}))}s.$inject=["$rootScope","$state","$interval","LocalStorage","EndpointProvider","SystemService","cfpLoadingBar","$transitions","HttpRequestHelper"]},92502:function(e,t,n){"use strict";n.r(t),n(99254),n(99230),n(92429),n(40443),n(78433),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var r=JSON.parse('{"black":"#000000","white":"#ffffff","gray":{"1":"#fcfcfd","2":"#f9fafb","3":"#f2f4f7","4":"#eaecf0","5":"#d0d5dd","6":"#98a2b3","7":"#667085","8":"#475467","9":"#344054","10":"#1d2939","11":"#101828"},"blue":{"1":"#f5fbff","2":"#f0f9ff","3":"#e0f2fe","4":"#b9e6fe","5":"#7cd4fd","6":"#36bffa","7":"#0ba5ec","8":"#0086c9","9":"#026aa2","10":"#065986","11":"#0b4a6f"},"error":{"1":"#fffbfa","2":"#fef3f2","3":"#fee4e2","4":"#fecdca","5":"#fda29b","6":"#f97066","7":"#f04438","8":"#d92d20","9":"#b42318","10":"#912018","11":"#7a271a"},"warning":{"1":"#fffcf5","2":"#fffaeb","3":"#fef0c7","4":"#fedf89","5":"#fec84b","6":"#fdb022","7":"#f79009","8":"#dc6803","9":"#b54708","10":"#93370d","11":"#7a2e0e"},"success":{"1":"#f6fef9","2":"#ecfdf3","3":"#d1fadf","4":"#a6f4c5","5":"#6ce9a6","6":"#32d583","7":"#12b76a","8":"#039855","9":"#027a48","10":"#05603a","11":"#054f31"},"gray-blue":{"1":"#fcfcfd","2":"#f8f9fc","3":"#eaecf5","4":"#d5d9eb","5":"#b3b8db","6":"#717bbc","7":"#4e5ba6","8":"#3e4784","9":"#363f72","10":"#293056","11":"#293056"},"gray-cool":{"1":"#fcfcfd","2":"#f9f9fb","3":"#eff1f5","4":"#dcdfea","5":"#b9c0d4","6":"#7d89b0","7":"#5d6b98","8":"#4a5578","9":"#404968","10":"#30374f","11":"#111322"},"gray-modern":{"1":"#fcfcfd","2":"#f8fafc","3":"#eef2f6","4":"#e3e8ef","5":"#cdd5df","6":"#9aa4b2","7":"#697586","8":"#4b5565","9":"#364152","10":"#202939","11":"#121926"},"gray-neutral":{"1":"#fcfcfd","2":"#f9fafb","3":"#f3f4f6","4":"#e5e7eb","5":"#d2d6db","6":"#9da4ae","7":"#6c737f","8":"#4d5761","9":"#384250","10":"#1f2a37","11":"#111927"},"gray-iron":{"1":"#fcfcfc","2":"#fafafa","3":"#f4f4f5","4":"#e4e4e7","5":"#d1d1d6","6":"#d1d1d6","7":"#70707b","8":"#51525c","9":"#3f3f46","10":"#26272b","11":"#18181b"},"gray-true":{"1":"#fcfcfc","2":"#fafafa","3":"#f5f5f5","4":"#e5e5e5","5":"#d6d6d6","6":"#a3a3a3","7":"#737373","8":"#525252","9":"#424242","10":"#292929","11":"#141414"},"gray-warm":{"1":"#fdfdfc","2":"#fafaf9","3":"#f5f5f4","4":"#e7e5e4","5":"#d7d3d0","6":"#a9a29d","7":"#79716b","8":"#57534e","9":"#44403c","10":"#292524","11":"#1c1917"},"moss":{"1":"#fafdf7","2":"#f5fbee","3":"#e6f4d7","4":"#ceeab0","5":"#acdc79","6":"#86cb3c","7":"#669f2a","8":"#4f7a21","9":"#3f621a","10":"#335015","11":"#2b4212"},"green-light":{"1":"#fafef5","2":"#f3fee7","3":"#e4fbcc","4":"#d0f8ab","5":"#a6ef67","6":"#85e13a","7":"#66c61c","8":"#4ca30d","9":"#3b7c0f","10":"#326212","11":"#2b5314"},"green":{"1":"#f6fef9","2":"#edfcf2","3":"#d3f8df","4":"#aaf0c4","5":"#73e2a3","6":"#73e2a3","7":"#16b364","8":"#099250","9":"#087443","10":"#095c37","11":"#084c2e"},"teal":{"1":"#f6fefc","2":"#f0fdf9","3":"#ccfbef","4":"#99f6e0","5":"#5fe9d0","6":"#2ed3b7","7":"#15b79e","8":"#0e9384","9":"#107569","10":"#125d56","11":"#134e48"},"cyan":{"1":"#f5feff","2":"#ecfdff","3":"#cff9fe","4":"#a5f0fc","5":"#67e3f9","6":"#22ccee","7":"#06aed4","8":"#088ab2","9":"#0e7090","10":"#155b75","11":"#164c63"},"blue-dark":{"1":"#f5f8ff","2":"#eff4ff","3":"#d1e0ff","4":"#b2ccff","5":"#84adff","6":"#528bff","7":"#2970ff","8":"#155eef","9":"#004eeb","10":"#0040c1","11":"#00359e"},"indigo":{"1":"#f5f8ff","2":"#eef4ff","3":"#e0eaff","4":"#c7d7fe","5":"#a4bcfd","6":"#8098f9","7":"#8098f9","8":"#444ce7","9":"#3538cd","10":"#2d31a6","11":"#2d3282"},"violet":{"1":"#fbfaff","2":"#f5f3ff","3":"#ece9fe","4":"#ddd6fe","5":"#c3b5fd","6":"#a48afb","7":"#875bf7","8":"#7839ee","9":"#6927da","10":"#5720b7","11":"#491c96"},"purple":{"1":"#fafaff","2":"#f4f3ff","3":"#ebe9fe","4":"#d9d6fe","5":"#bdb4fe","6":"#9b8afb","7":"#7a5af8","8":"#6938ef","9":"#5925dc","10":"#4a1fb8","11":"#3e1c96"},"fuchsia":{"1":"#fefaff","2":"#fdf4ff","3":"#fbe8ff","4":"#f6d0fe","5":"#eeaafd","6":"#e478fa","7":"#d444f1","8":"#ba24d5","9":"#9f1ab1","10":"#821890","11":"#6f1877"},"pink":{"1":"#fef6fb","2":"#fdf2fa","3":"#fce7f6","4":"#fce7f6","5":"#faa7e0","6":"#f670c7","7":"#ee46bc","8":"#dd2590","9":"#c11574","10":"#9e165f","11":"#851651"},"rose":{"1":"#fff5f6","2":"#fff1f3","3":"#ffe4e8","4":"#fecdd6","5":"#fea3b4","6":"#fd6f8e","7":"#f63d68","8":"#e31b54","9":"#c01048","10":"#a11043","11":"#89123e"},"orange-dark":{"1":"#fff9f5","2":"#fff4ed","3":"#ffe6d5","4":"#ffd6ae","5":"#ff9c66","6":"#ff692e","7":"#ff4405","8":"#e62e05","9":"#bc1b06","10":"#97180c","11":"#771a0d"},"orange":{"1":"#fefaf5","2":"#fef6ee","3":"#fdead7","4":"#f9dbaf","5":"#f7b27a","6":"#f38744","7":"#ef6820","8":"#e04f16","9":"#b93815","10":"#932f19","11":"#772917"},"yellow":{"1":"#fefdf0","2":"#fefbe8","3":"#fef7c3","4":"#feee95","5":"#feee95","6":"#fac515","7":"#eaaa08","8":"#ca8504","9":"#a15c07","10":"#854a0e","11":"#713b12"}}');function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=document.createElement("style");s.innerHTML=":root {\n  ".concat(Object.entries(r).map((function(e){var t=a(e,2),n=t[0],r=t[1];return"string"==typeof r?"--ui-".concat(n,": ").concat(r):Object.entries(r).map((function(e){var t=a(e,2),r=t[0],i=t[1];return"--ui-".concat(n,"-").concat(r,": ").concat(i)})).join(";\n")})).join(";\n"),"\n}"),document.head.prepend(s)},98767:function(e,t,n){"use strict";n.r(t),n.d(t,{configApp:function(){return s}});var r=n(96049),a=n(13501),i=n(6811);function s(e,t,n,s,o,l,c){n.setPrefix("portainer"),s.config({tokenGetter:["LocalStorage",function(e){return e.getJWT()}],whiteListedDomains:["localhost"]}),t.interceptors.push("jwtInterceptor"),t.interceptors.push("EndpointStatusInterceptor"),t.defaults.headers.post["Content-Type"]="application/json",t.defaults.headers.put["Content-Type"]="application/json",t.defaults.headers.patch["Content-Type"]="application/json",t.interceptors.push((()=>({request:i.Ee}))),r.o.applyAddon(a),o.setTriggers({mouseenter:"mouseleave",click:"click",focus:"blur",outsideClick:"outsideClick"}),c.includeSpinner=!1,c.parentSelector="#loadingbar-placeholder",c.latencyThreshold=600,e.otherwise("/auth")}s.$inject=["$urlRouterProvider","$httpProvider","localStorageServiceProvider","jwtOptionsProvider","$uibTooltipProvider","$compileProvider","cfpLoadingBarProvider"]},71541:function(e,t,n){"use strict";n.r(t),n.d(t,{API_ENDPOINT_AUTH:function(){return r},API_ENDPOINT_BACKUP:function(){return a},API_ENDPOINT_CUSTOM_TEMPLATES:function(){return i},API_ENDPOINT_EDGE_GROUPS:function(){return s},API_ENDPOINT_EDGE_JOBS:function(){return o},API_ENDPOINT_EDGE_STACKS:function(){return l},API_ENDPOINT_EDGE_TEMPLATES:function(){return c},API_ENDPOINT_ENDPOINTS:function(){return d},API_ENDPOINT_ENDPOINT_GROUPS:function(){return u},API_ENDPOINT_KUBERNETES:function(){return p},API_ENDPOINT_MOTD:function(){return m},API_ENDPOINT_REGISTRIES:function(){return g},API_ENDPOINT_RESOURCE_CONTROLS:function(){return h},API_ENDPOINT_SETTINGS:function(){return f},API_ENDPOINT_STACKS:function(){return v},API_ENDPOINT_STATUS:function(){return b},API_ENDPOINT_SUPPORT:function(){return y},API_ENDPOINT_USERS:function(){return w},API_ENDPOINT_TAGS:function(){return x},API_ENDPOINT_TEAMS:function(){return S},API_ENDPOINT_TEAM_MEMBERSHIPS:function(){return C},API_ENDPOINT_TEMPLATES:function(){return k},API_ENDPOINT_WEBHOOKS:function(){return A},DEFAULT_TEMPLATES_URL:function(){return P},PAGINATION_MAX_ITEMS:function(){return I},APPLICATION_CACHE_VALIDITY:function(){return $},CONSOLE_COMMANDS_LABEL_PREFIX:function(){return N},PREDEFINED_NETWORKS:function(){return T},KUBERNETES_DEFAULT_NAMESPACE:function(){return E},KUBERNETES_SYSTEM_NAMESPACES:function(){return j},PORTAINER_FADEOUT:function(){return D},STACK_NAME_VALIDATION_REGEX:function(){return O},TEMPLATE_NAME_VALIDATION_REGEX:function(){return R},BROWSER_OS_PLATFORM:function(){return M},NEW_LINE_BREAKER:function(){return L}});const r="api/auth",a="api/backup",i="api/custom_templates",s="api/edge_groups",o="api/edge_jobs",l="api/edge_stacks",c="api/edge_templates",d="api/endpoints",u="api/endpoint_groups",p="api/kubernetes",m="api/motd",g="api/registries",h="api/resource_controls",f="api/settings",v="api/stacks",b="api/status",y="api/support",w="api/users",x="api/tags",S="api/teams",C="api/team_memberships",k="api/templates",A="api/webhooks",P="https://raw.githubusercontent.com/portainer/templates/master/templates.json",I=10,$=3600,N="io.portainer.commands.",T=["host","bridge","ingress","nat","none"],E="default",j=["kube-system","kube-public","kube-node-lease","portainer"],D=1500,O="^[-_a-z0-9]+$",R="^[-_a-z0-9]+$",M=navigator.userAgent.indexOf("Windows")>-1?"win":navigator.userAgent.indexOf("Mac")>-1?"mac":"lin",L="win"===M?"\r\n":"\n";angular.module("portainer").constant("API_ENDPOINT_AUTH",r).constant("API_ENDPOINT_BACKUP",a).constant("API_ENDPOINT_CUSTOM_TEMPLATES",i).constant("API_ENDPOINT_EDGE_GROUPS",s).constant("API_ENDPOINT_EDGE_JOBS",o).constant("API_ENDPOINT_EDGE_STACKS",l).constant("API_ENDPOINT_EDGE_TEMPLATES",c).constant("API_ENDPOINT_ENDPOINTS",d).constant("API_ENDPOINT_ENDPOINT_GROUPS",u).constant("API_ENDPOINT_KUBERNETES",p).constant("API_ENDPOINT_MOTD",m).constant("API_ENDPOINT_REGISTRIES",g).constant("API_ENDPOINT_RESOURCE_CONTROLS",h).constant("API_ENDPOINT_SETTINGS",f).constant("API_ENDPOINT_STACKS",v).constant("API_ENDPOINT_STATUS",b).constant("API_ENDPOINT_SUPPORT",y).constant("API_ENDPOINT_USERS",w).constant("API_ENDPOINT_TAGS",x).constant("API_ENDPOINT_TEAMS",S).constant("API_ENDPOINT_TEAM_MEMBERSHIPS",C).constant("API_ENDPOINT_TEMPLATES",k).constant("API_ENDPOINT_WEBHOOKS",A).constant("DEFAULT_TEMPLATES_URL",P).constant("PAGINATION_MAX_ITEMS",I).constant("APPLICATION_CACHE_VALIDITY",$).constant("CONSOLE_COMMANDS_LABEL_PREFIX",N).constant("PREDEFINED_NETWORKS",T).constant("BROWSER_OS_PLATFORM",M)},27783:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(23945),s=(n(20493),n(3731)),o=n(20810),l=n.n(o),c=(n(92429),n(66549),n(65562),n(15845),n(7974),n(50033),n(28001),n(47097),n(98191),n(62176),n(22037)),d=n(55087),u=n(73817),p=n(16579);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(0,c.ZP)()((0,d.tJ)((function(e){return g(g(g(g(g({},(0,p.MX)(e)),(0,p.en)(e)),(0,p.ZJ)(e)),(0,p.AL)(e)),{},{truncateContainerName:32,setTruncateContainerName:function(t){e({truncateContainerName:t})},hiddenQuickActions:[],setHiddenQuickActions:function(t){return e({hiddenQuickActions:t})}})}),{name:(0,u.gW)(e)}))}var v,b=n(95004),y=n(41066),w={Header:"Created",accessor:"Created",id:"created",Cell:function(e){var t=e.value;return(0,y.isoDateFromTimestamp)(t)},disableFilters:!0,canHide:!0,Filter:function(){return null}},x={Header:"Host",accessor:function(e){return e.NodeName||"-"},id:"host",disableFilters:!0,canHide:!0,sortType:"string",Filter:function(){return null}},S=(n(77072),n(74364),n(89023)),C=n(70589),k=(0,n(9924).w)(),A=k.RowProvider,P=k.useRowContext,I=n(2629),$={Header:"Image",accessor:"Image",id:"image",disableFilters:!0,Cell:function(e){var t=e.value,n=(0,S.useSref)("docker.images.image",{id:t}),r=function(e){return e?0===e.indexOf("sha256:")?e.substring(7,19):e.split("@sha256")[0]:""}(t),a=P().environment;return(0,C.isOfflineEndpoint)(a)?(0,I.jsx)("span",{children:r}):(0,I.jsx)("a",{href:n.href,onClick:n.onClick,children:r})},canHide:!0,sortType:"string",Filter:function(){return null}},N={Header:"IP Address",accessor:function(e){return e.IP||"-"},id:"ip",disableFilters:!0,canHide:!0,Filter:function(){return null}},T=n(80738),E=n.n(T),j=n(96276),D={Header:"Name",accessor:function(e){var t=e.Names[0];return t.substring(1,t.length)},id:"name",Cell:function(e){var t=e.value,n=e.row.original,r=(0,S.useSref)(".container",{id:n.Id,nodeName:n.NodeName}),a=(0,j.h)().settings.truncateContainerName,i=P().environment,s=t;return a>0&&(s=E()(t,{length:a})),(0,C.isOfflineEndpoint)(i)?(0,I.jsx)("span",{children:s}):(0,I.jsx)("a",{href:r.href,onClick:r.onClick,title:t,children:s})},disableFilters:!0,Filter:function(){return null},canHide:!0,sortType:"string"},O=n(39532),R=n(83471),M={Header:"Ownership",id:"ownership",accessor:function(e){var t;return(null===(t=e.ResourceControl)||void 0===t?void 0:t.Ownership)||R.X.ADMINISTRATORS},Cell:function(e){var t=e.value;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("i",{className:(0,O.Z)((0,y.ownershipIcon)(t),"space-right"),"aria-hidden":"true"}),t||R.X.ADMINISTRATORS]})},disableFilters:!0,canHide:!0,sortType:"string",Filter:function(){return null}},L=n(93715),U=n.n(L),V=(n(78433),{Header:"Published Ports",accessor:"Ports",id:"ports",Cell:function(e){var t=e.value,n=P().environment;if(0===t.length)return"-";var r=n.PublicURL;return U()(t,"public").map((function(e){return(0,I.jsxs)("a",{className:"image-tag",href:"http://".concat(r||e.host,":").concat(e.public),target:"_blank",rel:"noreferrer",children:[(0,I.jsx)("i",{className:"fa fa-external-link-alt","aria-hidden":"true"}),e.public,":",e.private]},"".concat(e.host,":").concat(e.public))}))},disableSortBy:!0,disableFilters:!0,canHide:!0,Filter:function(){return null}}),F=n(50265),_=n(29765),K=n(45588);!function(e){e.Paused="paused",e.Stopped="stopped",e.Created="created",e.Healthy="healthy",e.Unhealthy="unhealthy",e.Starting="starting",e.Running="running",e.Dead="dead",e.Exited="exited"}(v||(v={}));var B=n(2792),z=n(31051),H="app-react-docker-containers-components-ContainerQuickActions-ContainerQuickActions-module__root";function G(e){var t=e.taskId,n=e.containerId,r=e.nodeName,a=e.state,i=e.status;if(t)return(0,I.jsx)(Z,{taskId:t,state:a});var s=[v.Starting,v.Running,v.Healthy,v.Unhealthy].includes(i);return(0,I.jsxs)("div",{className:(0,O.Z)("space-x-1",H),children:[a.showQuickActionLogs&&(0,I.jsx)(F.FY,{authorizations:"DockerContainerLogs",children:(0,I.jsx)(z.r,{to:"docker.containers.container.logs",params:{id:n,nodeName:r},title:"Logs",children:(0,I.jsx)(B.J,{icon:"file-text",feather:!0,className:"space-right"})})}),a.showQuickActionInspect&&(0,I.jsx)(F.FY,{authorizations:"DockerContainerInspect",children:(0,I.jsx)(z.r,{to:"docker.containers.container.inspect",params:{id:n,nodeName:r},title:"Inspect",children:(0,I.jsx)(B.J,{icon:"info",feather:!0,className:"space-right"})})}),a.showQuickActionStats&&s&&(0,I.jsx)(F.FY,{authorizations:"DockerContainerStats",children:(0,I.jsx)(z.r,{to:"docker.containers.container.stats",params:{id:n,nodeName:r},title:"Stats",children:(0,I.jsx)(B.J,{icon:"bar-chart",feather:!0,className:"space-right"})})}),a.showQuickActionExec&&s&&(0,I.jsx)(F.FY,{authorizations:"DockerExecStart",children:(0,I.jsx)(z.r,{to:"docker.containers.container.exec",params:{id:n,nodeName:r},title:"Exec Console",children:(0,I.jsx)(B.J,{icon:"terminal",feather:!0,className:"space-right"})})}),a.showQuickActionAttach&&s&&(0,I.jsx)(F.FY,{authorizations:"DockerContainerAttach",children:(0,I.jsx)(z.r,{to:"docker.containers.container.attach",params:{id:n,nodeName:r},title:"Attach Console",children:(0,I.jsx)(B.J,{icon:"paperclip",feather:!0,className:"space-right"})})})]})}function Z(e){var t=e.taskId,n=e.state;return(0,I.jsxs)("div",{className:(0,O.Z)("space-x-1",H),children:[n.showQuickActionLogs&&(0,I.jsx)(F.FY,{authorizations:"DockerTaskLogs",children:(0,I.jsx)(z.r,{to:"docker.tasks.task.logs",params:{id:t},title:"Logs",children:(0,I.jsx)(B.J,{icon:"file-text",feather:!0,className:"space-right"})})}),n.showQuickActionInspect&&(0,I.jsx)(F.FY,{authorizations:"DockerTaskInspect",children:(0,I.jsx)(z.r,{to:"docker.tasks.task",params:{id:t},title:"Inspect",children:(0,I.jsx)(B.J,{icon:"info",feather:!0,className:"space-right"})})})]})}var q={Header:"Quick Actions",id:"actions",Cell:function(e){var t,n=e.row.original,r=(t=(0,K.C)(),(0,_.O)(t)).data,a=!r||(0,C.isOfflineEndpoint)(r),i=(0,j.h)().settings.hiddenQuickActions,s=void 0===i?[]:i,o={showQuickActionAttach:!s.includes("attach"),showQuickActionExec:!s.includes("exec"),showQuickActionInspect:!s.includes("inspect"),showQuickActionLogs:!s.includes("logs"),showQuickActionStats:!s.includes("stats")},l=o.showQuickActionAttach||o.showQuickActionExec||o.showQuickActionInspect||o.showQuickActionLogs||o.showQuickActionStats,c=(0,F.n5)(["DockerContainerStats","DockerContainerLogs","DockerExecStart","DockerContainerInspect","DockerTaskInspect","DockerTaskLogs"]);return!a&&l&&c?(0,I.jsx)(G,{containerId:n.Id,nodeName:n.NodeName,status:n.Status,state:o}):null},disableFilters:!0,disableSortBy:!0,canHide:!0,sortType:"string",Filter:function(){return null}},W={Header:"Stack",accessor:function(e){return e.StackName||"-"},id:"stack",sortType:"string",disableFilters:!0,canHide:!0,Filter:function(){return null}},Q={Header:"State",accessor:"Status",id:"state",Cell:function(e){var t=e.value,n=[v.Starting,v.Healthy,v.Unhealthy].includes(t),r=function(){switch(t){case v.Paused:case v.Starting:case v.Unhealthy:return"warning";case v.Created:return"info";case v.Stopped:case v.Dead:case v.Exited:return"danger";case v.Healthy:case v.Running:default:return"success"}}();return(0,I.jsx)("span",{className:(0,O.Z)("label","label-".concat(r),{interactive:n}),title:n?"This container has a health check":"",children:t})},sortType:"string",filter:"multiple",Filter:n(33513).tS,canHide:!0};n(40958),n(50527);var Y=n(51641),J=n(6811),X=(n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),function(e){return["docker",e]});function ee(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne={list:function(e){return[X(e),"containers"]},filters:function(e,t,n){return[].concat(ee(ne.list(e)),[{all:t,filters:n}])},container:function(e,t){return[].concat(ee(ne.list(e)),[t])},gpus:function(e,t){return[].concat(ee(ne.container(e,t)),["gpus"])}};function re(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){re(i,r,a,s,o,"next",e)}function o(e){re(i,r,a,s,o,"throw",e)}s(void 0)}))}}function ie(){return(ie=ae(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.ZP.get("/docker/".concat(t,"/containers/").concat(n,"/gpus"));case 3:return r=e.sent,a=r.data,e.abrupt("return",a.gpus);case 8:throw e.prev=8,e.t0=e.catch(0),(0,J.vs)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var se={Header:"GPUs",id:"gpus",disableFilters:!0,canHide:!0,Filter:function(){return null},Cell:function(e){var t=e.row.original.Id,n=function(e,t){return(0,Y.useQuery)(ne.gpus(e,t),(function(){return function(e,t){return ie.apply(this,arguments)}(e,t)}))}((0,K.C)(),t);return n.data?(0,I.jsx)(I.Fragment,{children:n.data}):null}};function oe(e,t){return(0,b.useMemo)((function(){return l()([D,Q,q,W,$,w,N,e&&x,t&&se,V,M])}),[e,t])}var le=n(24553),ce=n(7701),de=n(19937),ue=n(96636),pe=n(80213),me=n(4391),ge=n(32346),he=n(46021),fe=n(77918),ve=n(50477),be=n(61838),ye=n(12584);function we(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){we(i,r,a,s,o,"next",e)}function o(e){we(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Se(e){var t=e.selectedItems,n=e.isAddActionVisible,r=e.endpointId,a=t.length,i=t.some((function(e){return e.State===v.Paused})),s=t.some((function(e){return[v.Stopped,v.Created,v.Exited].includes(e.Status)})),o=t.some((function(e){return[v.Running,v.Healthy,v.Unhealthy,v.Starting].includes(e.Status)})),l=(0,F.n5)(["DockerContainerStart","DockerContainerStop","DockerContainerKill","DockerContainerRestart","DockerContainerPause","DockerContainerUnpause","DockerContainerDelete","DockerContainerCreate"]),c=(0,S.useRouter)();return l?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(ye.hE,{children:[(0,I.jsx)(F.FY,{authorizations:"DockerContainerStart",children:(0,I.jsx)(ye.zx,{color:"light",onClick:function(){return function(e){d(e,be.Zk,"Container successfully started","Unable to start container")}(t)},disabled:0===a||!s,icon:le.Z,children:"Start"})}),(0,I.jsx)(F.FY,{authorizations:"DockerContainerStop",children:(0,I.jsx)(ye.zx,{color:"light",onClick:function(){return function(e){d(e,be.hO,"Container successfully stopped","Unable to stop container")}(t)},disabled:0===a||!o,icon:ce.Z,children:"Stop"})}),(0,I.jsx)(F.FY,{authorizations:"DockerContainerKill",children:(0,I.jsx)(ye.zx,{color:"light",onClick:function(){return function(e){d(e,be.ri,"Container successfully killed","Unable to kill container")}(t)},disabled:0===a||s,icon:de.Z,children:"Kill"})}),(0,I.jsx)(F.FY,{authorizations:"DockerContainerRestart",children:(0,I.jsx)(ye.zx,{color:"light",onClick:function(){return function(e){d(e,be.wG,"Container successfully restarted","Unable to restart container")}(t)},disabled:0===a,icon:ue.Z,children:"Restart"})}),(0,I.jsx)(F.FY,{authorizations:"DockerContainerPause",children:(0,I.jsx)(ye.zx,{color:"light",onClick:function(){return function(e){d(e,be.VZ,"Container successfully paused","Unable to pause container")}(t)},disabled:0===a||!o,icon:pe.Z,children:"Pause"})}),(0,I.jsx)(F.FY,{authorizations:"DockerContainerUnpause",children:(0,I.jsx)(ye.zx,{color:"light",onClick:function(){return function(e){d(e,be.dZ,"Container successfully resumed","Unable to resume container")}(t)},disabled:0===a||!i,icon:le.Z,children:"Resume"})}),(0,I.jsx)(F.FY,{authorizations:"DockerContainerDelete",children:(0,I.jsx)(ye.zx,{color:"dangerlight",onClick:function(){return function(e){var t=e.some((function(e){return"running"===e.State})),n="You are about to remove one or more ".concat(t?"running":""," containers.");(0,fe.A7)(n,(function(t){if(t){var n=!!t[0];!function(e,t){p.apply(this,arguments)}(e,n)}}))}(t)},disabled:0===a,icon:me.Z,children:"Remove"})})]}),n&&(0,I.jsx)(F.FY,{authorizations:"DockerContainerCreate",children:(0,I.jsx)(z.r,{to:"docker.containers.new",className:"space-left",children:(0,I.jsx)(ye.zx,{icon:ge.Z,children:"Add container"})})})]}):null;function d(e,t,n,r){return u.apply(this,arguments)}function u(){return(u=xe(regeneratorRuntime.mark((function e(t,n,a,i){var s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<t.length)){e.next=16;break}return o=t[s],e.prev=3,(0,ve.vj)(o.NodeName),e.next=7,n(r,o.Id);case 7:he.Vp(a,o.Names[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),he.vU("Failure",e.t0,"".concat(i,":").concat(o.Names[0]));case 13:s+=1,e.next=1;break;case 16:c.stateService.reload();case 17:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function p(){return(p=xe(regeneratorRuntime.mark((function e(t,n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<t.length)){e.next=16;break}return i=t[a],e.prev=3,(0,ve.vj)(i.NodeName),e.next=7,(0,be.sc)(r,i,n);case 7:he.Vp("Container successfully removed",i.Names[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),he.vU("Failure",e.t0,"Unable to remove container");case 13:a+=1,e.next=1;break;case 16:c.stateService.reload();case 17:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}}var Ce=n(59748),ke=n(16838);function Ae(e){var t=e.isRefreshVisible,n=e.settings;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Ce.X,{id:"settings-container-truncate-nae",label:"Truncate container name",checked:n.truncateContainerName>0,onChange:function(){return n.setTruncateContainerName(n.truncateContainerName>0?0:32)}}),t&&(0,I.jsx)(ke.k,{value:n.autoRefreshRate,onChange:function(e){return n.setAutoRefreshRate(e)}})]})}n(93742);var Pe=n(30788),Ie=n(80178);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e){var t,n,r,a,i,s,o,c=(null===(t=e.Portainer)||void 0===t?void 0:t.ResourceControl)&&new Ie.w(null==e||null===(n=e.Portainer)||void 0===n?void 0:n.ResourceControl),d=(null===(r=e.Portainer)||void 0===r||null===(a=r.Agent)||void 0===a?void 0:a.NodeName)||"",u=(null===(i=Object.values((null==e||null===(s=e.NetworkSettings)||void 0===s?void 0:s.Networks)||{})[0])||void 0===i?void 0:i.IPAddress)||"",p=e.Labels||{},m=p["com.docker.compose.project"]||p["com.docker.stack.namespace"],g=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase();return e.includes(v.Paused)?v.Paused:e.includes(v.Dead)?v.Dead:e.includes(v.Created)?v.Created:e.includes(v.Stopped)?v.Stopped:e.includes(v.Exited)?v.Exited:e.includes("(healthy)")?v.Healthy:e.includes("(unhealthy)")?v.Unhealthy:e.includes("(health: starting)")?v.Starting:v.Running}(e.Status),h=l()(null===(o=e.Ports)||void 0===o?void 0:o.map((function(e){return e.PublicPort&&{host:e.IP,private:e.PrivatePort,public:e.PublicPort}})));return Ne(Ne({},e),{},{ResourceControl:c,NodeName:d,IP:u,StackName:m,Status:g,Ports:h,StatusText:e.Status,Gpus:""})}function je(e){var t=(0,Pe.w1)(e,(function(e){var t,n;return!(null===(t=e.Swarm)||void 0===t||!t.NodeID||null===(n=e.Swarm)||void 0===n||!n.ControlAvailable)}));return!0!==t.data&&!t.isLoading}var De=n(29722);function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e){var t=e.actions,n=(0,j.h)().settings;return(0,I.jsx)(I.Fragment,{children:t.map((function(e){var t=e.id,r=e.label;return(0,I.jsx)(Ce.X,{label:r,id:"quick-actions-".concat(t),checked:!n.hiddenQuickActions.includes(t),onChange:function(e){return a=t,void(e.target.checked?n.setHiddenQuickActions(n.hiddenQuickActions.filter((function(e){return e!==a}))):n.setHiddenQuickActions([].concat((r=n.hiddenQuickActions,function(e){if(Array.isArray(e))return Oe(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[a])));var r,a}},t)}))})}function Me(e,t){return{id:e,label:t}}var Le=n(2294);function Ue(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Ue(i,r,a,s,o,"next",e)}function o(e){Ue(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Fe(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return(0,Y.useQuery)(ne.filters(e,t,n),(function(){return _e(e,t,n)}),{meta:{title:"Failure",message:"Unable to retrieve containers"},refetchInterval:function(){return null!=r&&r}})}function _e(e){return Ke.apply(this,arguments)}function Ke(){return Ke=Ve(regeneratorRuntime.mark((function e(t){var n,r,a,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(s.length>1&&void 0!==s[1])||s[1],r=s.length>2?s[2]:void 0,e.prev=2,e.next=5,J.ZP.get((0,be.Y4)(t,void 0,"json"),{params:{all:n,filters:r&&JSON.stringify(r)}});case 5:return a=e.sent,i=a.data,e.abrupt("return",i.map((function(e){return Ee(e)})));case 10:throw e.prev=10,e.t0=e.catch(2),(0,J.vs)(e.t0,"Unable to retrieve containers");case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),Ke.apply(this,arguments)}var Be="stack-containers",ze=f(Be),He=[Me("logs","Logs"),Me("inspect","Inspect"),Me("stats","Stats"),Me("exec","Console"),Me("attach","Attach")],Ge=n(6174);function Ze(e){var t=e.options,n=e.onChange,r=e.placeholder,a=e.value,i=t.map((function(e){return{label:e}})),s=a?{label:a}:null;return(0,I.jsx)(Ge.P,{placeholder:r,options:i,value:s,isClearable:!0,onChange:function(e){var t;return n(null!==(t=null==e?void 0:e.label)&&void 0!==t?t:null)}})}var qe=(0,s.F)(Ze,["options","onChange","placeholder","value"]),We="app-react-docker-app-templates-TemplateListSort-TemplateListSort-module__sort-by-element",Qe=(0,s.F)((function(e){var t=e.options,n=e.onChange,r=e.onDescending,a=e.placeholder,i=e.sortByDescending,s=e.sortByButton,o=e.value,l=i?"fa fa-sort-alpha-up":"fa fa-sort-alpha-down";return(0,I.jsxs)("div",{className:"app-react-docker-app-templates-TemplateListSort-TemplateListSort-module__sort-by-container",children:[(0,I.jsx)("div",{className:We,children:(0,I.jsx)(Ze,{placeholder:a,options:t,onChange:n,value:o})}),(0,I.jsx)("div",{className:We,children:(0,I.jsx)("button",{className:"app-react-docker-app-templates-TemplateListSort-TemplateListSort-module__sort-button",type:"button",disabled:!s||!o,onClick:function(e){e.preventDefault(),r()},children:(0,I.jsx)("i",{className:l})})})]})}),["options","onChange","onDescending","placeholder","sortByDescending","sortByButton","value"]),Ye=(n(99230),n(39533)),Je=n(44212),Xe=n(54497);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=[{value:"compute",label:"compute",description:"required for CUDA and OpenCL applications"},{value:"compat32",label:"compat32",description:"required for running 32-bit applications"},{value:"graphics",label:"graphics",description:"required for running OpenGL and Vulkan applications"},{value:"utility",label:"utility",description:"required for using nvidia-smi and NVML"},{value:"video",label:"video",description:"required for using the Video Codec SDK"},{value:"display",label:"display",description:"required for leveraging X11 display"}];function at(e){var t=e.data,n=t.value,r=t.description;return(0,I.jsx)("div",{children:(0,I.jsx)(Ye.c.Option,tt(tt({},e),{},{children:"".concat(n," - ").concat(r)}))})}function it(e){var t=e.selectProps.value;return t&&1===t.length?null:(0,I.jsx)(Ye.c.MultiValueRemove,tt({},e))}var st=n(54269),ot=n(65280),lt=n(81800),ct=a().module("portainer.docker.react.components",[]).component("containerQuickActions",(0,s.A)((0,lt.Q)((0,st.s)(G)),["containerId","nodeName","state","status","taskId"])).component("templateListDropdown",qe).component("templateListSort",Qe).component("stackContainersDatatable",(0,s.A)((0,lt.Q)((0,ot.H)((0,st.s)((function(e){var t=e.environment,n=e.stackName,r=ze(),a=oe(!1,je(t.Id)),i=l()(a.filter((function(e){return e.canHide})).map((function(e){return e.id}))),s=Fe(t.Id,!0,{label:["com.docker.compose.project=".concat(n)]},1e3*r.autoRefreshRate);return(0,I.jsx)(A,{context:{environment:t},children:(0,I.jsx)(De.Gn,{titleOptions:{icon:"fa-cubes",title:"Containers"},settingsStore:r,columns:a,renderTableActions:function(e){return(0,I.jsx)(Se,{selectedItems:e,isAddActionVisible:!1,endpointId:t.Id})},initialTableState:{hiddenColumns:r.hiddenColumns},renderTableSettings:function(e){var t=e.allColumns.filter((function(e){return null==i?void 0:i.includes(e.id)}));return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Le.a,{columns:t,onChange:function(t){r.setHiddenColumns(t),e.setHiddenColumns(t)},value:r.hiddenColumns}),(0,I.jsx)(De.I6,{quickActions:(0,I.jsx)(Re,{actions:He}),children:(0,I.jsx)(Ae,{settings:r})})]})},storageKey:Be,dataset:s.data||[],isLoading:s.isLoading,emptyContentLabel:"No containers found"})})})))),["environment","stackName"])).component("gpu",(0,s.A)((function(e){var t=e.values,n=e.onChange,r=e.gpus,a=void 0===r?[]:r,i=e.usedGpus,s=void 0===i?[]:i,o=e.usedAllGpus,l=(0,b.useMemo)((function(){var e=(a||[]).map((function(e){return{value:e.value,label:s.includes(e.value)||o?"".concat(e.name," (in use)"):e.name}}));return e.unshift({value:"all",label:"Use All GPUs"}),e}),[a,s,o]);function c(e,r){var a=tt(tt({},t),{},nt({},e,r));n(a)}var d=(0,b.useMemo)((function(){var e=t.selectedGPUs.join(","),n="all"===e?"all,":"device=".concat(e,","),r=t.capabilities.join(",");return"--gpus '".concat(n,'"capabilities=').concat(r,"\"'")}),[t.selectedGPUs,t.capabilities]),u=(0,b.useMemo)((function(){return l.filter((function(e){return t.selectedGPUs.includes(e.value)}))}),[t.selectedGPUs,l]),p=(0,b.useMemo)((function(){return rt.filter((function(e){return t.capabilities.includes(e.value)}))}),[t.capabilities]);return(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"form-group",children:[(0,I.jsxs)("div",{className:"col-sm-3 col-lg-2 control-label text-left",children:["Enable GPU",(0,I.jsx)(Je.r,{id:"enabled",name:"enabled",checked:t.enabled,onChange:function(){c("enabled",!t.enabled)},className:"ml-2"})]}),(0,I.jsx)("div",{className:"col-sm-9 col-lg-10 text-left",children:(0,I.jsx)(Ge.P,{isMulti:!0,closeMenuOnSelect:!0,value:u,isClearable:!1,backspaceRemovesValue:!1,isDisabled:!t.enabled,onChange:function(e,r){var a,i=t.useSpecific,s=e.map((function(e){return e.value}));"select-option"===r.action&&(i="all"!==(null===(a=r.option)||void 0===a?void 0:a.value),s=s.filter((function(e){return i?"all"!==e:"all"===e})));var o=tt(tt({},t),{},{selectedGPUs:s,useSpecific:i});n(o)},options:l,components:{MultiValueRemove:it}})})]}),t.enabled&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"form-group",children:[(0,I.jsxs)("div",{className:"col-sm-3 col-lg-2 control-label text-left",children:["Capabilities",(0,I.jsx)(Xe.u,{message:"compute and utility capabilities are preselected by Portainer because they are used by default when you dont explicitly specify capabilities with docker CLI --gpus option."})]}),(0,I.jsx)("div",{className:"col-sm-9 col-lg-10 text-left",children:(0,I.jsx)(Ge.P,{isMulti:!0,closeMenuOnSelect:!0,value:p,options:rt,components:{Option:at},onChange:function(e){c("capabilities",e.map((function(e){return e.value})))}})})]}),(0,I.jsxs)("div",{className:"form-group",children:[(0,I.jsxs)("div",{className:"col-sm-3 col-lg-2 control-label text-left",children:["Control",(0,I.jsx)(Xe.u,{message:"This is the generated equivalent of the '--gpus' docker CLI parameter based on your settings."})]}),(0,I.jsx)("div",{className:"col-sm-9 col-lg-10",children:(0,I.jsx)("code",{children:d})})]})]})]})}),["values","onChange","gpus","usedGpus","usedAllGpus"])).name,dt=n(46980),ut=n(94033),pt=n(71535);function mt(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function gt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){mt(i,r,a,s,o,"next",e)}function o(e){mt(i,r,a,s,o,"throw",e)}s(void 0)}))}}function ht(){return(ht=gt(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.ZP.get(bt(t,n));case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,J.vs)(e.t0,"Unable to retrieve network details");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ft(){return(ft=gt(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.ZP.delete(bt(t,n));case 3:return e.abrupt("return",n);case 6:throw e.prev=6,e.t0=e.catch(0),(0,J.vs)(e.t0,"Unable to remove network");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function vt(){return(vt=gt(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.ZP.post(bt(t,n,"disconnect"),{Container:r,Force:!1});case 3:return e.abrupt("return",{networkId:n,environmentId:t});case 6:throw e.prev=6,e.t0=e.catch(0),(0,J.vs)(e.t0,"Unable to disconnect container from network");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function bt(e,t,n){var r="endpoints/".concat(e,"/docker/networks");return t&&(r+="/".concat(t)),n&&(r+="/".concat(n)),r}var yt=["host","bridge","ingress","nat","none"];function wt(e){return yt.includes(e)}var xt=n(69452),St=function(e){var t=e.headers,n=void 0===t?[]:t,r=e.dataCy,a=e.children;return(0,I.jsxs)("table",{className:"table","data-cy":r,children:[n.length>0&&(0,I.jsx)("thead",{children:(0,I.jsx)("tr",{children:n.map((function(e){return(0,I.jsx)("th",{children:e},e)}))})}),(0,I.jsx)("tbody",{children:a})]})};function Ct(e){var t,n,r=e.network,a=e.onRemoveNetworkClicked,i=!wt(r.Name),s=xt.default.getIPV4Configs(null===(t=r.IPAM)||void 0===t?void 0:t.Config),o=xt.default.getIPV6Configs(null===(n=r.IPAM)||void 0===n?void 0:n.Config);return(0,I.jsx)("div",{className:"row",children:(0,I.jsx)("div",{className:"col-lg-12 col-md-12 col-xs-12",children:(0,I.jsxs)(De.xJ,{children:[(0,I.jsx)(De.lw,{label:"Network details",icon:"share-2",featherIcon:!0}),(0,I.jsx)(De.iA,{className:"nopadding",children:(0,I.jsxs)(St,{dataCy:"networkDetails-detailsTable",children:[(0,I.jsx)(St.Row,{label:"Name",children:r.Name}),(0,I.jsxs)(St.Row,{label:"Id",children:[r.Id,i&&(0,I.jsx)(F.FY,{authorizations:"DockerNetworkDelete",children:(0,I.jsxs)(ye.zx,{"data-cy":"networkDetails-deleteNetwork",size:"xsmall",color:"danger",onClick:function(){return a()},children:[(0,I.jsx)(B.J,{icon:"trash-2",feather:!0,className:"space-right","aria-hidden":"true"}),"Delete this network"]})})]}),(0,I.jsx)(St.Row,{label:"Driver",children:r.Driver}),(0,I.jsx)(St.Row,{label:"Scope",children:r.Scope}),(0,I.jsx)(St.Row,{label:"Attachable",children:String(r.Attachable)}),(0,I.jsx)(St.Row,{label:"Internal",children:String(r.Internal)}),s.map((function(e){return(0,I.jsxs)(b.Fragment,{children:[(0,I.jsx)(St.Row,{label:"IPV4 Subnet".concat(l(e.Subnet)),children:"IPV4 Gateway".concat(l(e.Gateway))}),(0,I.jsx)(St.Row,{label:"IPV4 IP Range".concat(l(e.IPRange)),children:"IPV4 Excluded IPs".concat(c(e.AuxiliaryAddresses))})]},e.Subnet)})),o.map((function(e){return(0,I.jsxs)(b.Fragment,{children:[(0,I.jsx)(St.Row,{label:"IPV6 Subnet".concat(l(e.Subnet)),children:"IPV6 Gateway".concat(l(e.Gateway))}),(0,I.jsx)(St.Row,{label:"IPV6 IP Range".concat(l(e.IPRange)),children:"IPV6 Excluded IPs".concat(c(e.AuxiliaryAddresses))})]},e.Subnet)}))]})})]})})});function l(e){return e?" - ".concat(e):""}function c(e){return e?" - ".concat(Object.values(e).join(" - ")):""}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e){var t=e.options,n=Object.entries(t);return 0===n.length?null:(0,I.jsx)("div",{className:"row",children:(0,I.jsx)("div",{className:"col-lg-12 col-md-12 col-xs-12",children:(0,I.jsxs)(De.xJ,{children:[(0,I.jsx)(De.lw,{label:"Network options",icon:"share-2",featherIcon:!0}),(0,I.jsx)(De.iA,{className:"nopadding",children:(0,I.jsx)(St,{dataCy:"networkDetails-networkOptionsTable",children:n.map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];return(0,I.jsx)(St.Row,{label:a,children:i},a)}))})})]})})})}St.Row=function(e){var t=e.label,n=e.children;return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{children:t}),n&&(0,I.jsx)("td",{"data-cy":"detailsTable-".concat(t,"Value"),children:n})]})},n(40443);var Pt=["Container Name","IPv4 Address","IPv6 Address","MacAddress","Actions"];function It(e){var t,n=e.networkContainers,r=e.nodeName,a=e.environmentId,i=e.networkId,s=(t=(0,Y.useQueryClient)(),(0,Y.useMutation)((function(e){var t=e.containerId;return function(e,t,n){return vt.apply(this,arguments)}(e.environmentId,e.networkId,t)}),{onSuccess:function(e){var n=e.networkId,r=e.environmentId;return(0,he.Vp)("Container successfully disconnected",n),t.invalidateQueries(["environments",r,"docker","networks",n])},onError:function(e){(0,he.vU)("Failure",e,"Unable to disconnect container from network")}}));return 0===n.length?null:(0,I.jsx)("div",{className:"row",children:(0,I.jsx)("div",{className:"col-lg-12 col-md-12 col-xs-12",children:(0,I.jsxs)(De.xJ,{children:[(0,I.jsx)(De.lw,{label:"Containers in network",icon:"server",featherIcon:!0}),(0,I.jsx)(De.iA,{className:"nopadding",children:(0,I.jsx)(St,{headers:Pt,dataCy:"networkDetails-networkContainers",children:n.map((function(e){return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{children:(0,I.jsx)(z.r,{to:"docker.containers.container",params:{id:e.Id,nodeName:r},title:e.Name,children:e.Name})}),(0,I.jsx)("td",{children:e.IPv4Address||"-"}),(0,I.jsx)("td",{children:e.IPv6Address||"-"}),(0,I.jsx)("td",{children:e.MacAddress||"-"}),(0,I.jsx)("td",{children:(0,I.jsx)(F.FY,{authorizations:"DockerNetworkDisconnect",children:(0,I.jsxs)(ye.zx,{"data-cy":"networkDetails-disconnect".concat(e.Name),size:"xsmall",color:"dangerlight",onClick:function(){e.Id&&s.mutate({containerId:e.Id,environmentId:a,networkId:i})},children:[(0,I.jsx)(B.J,{icon:"trash-2",feather:!0,"class-name":"icon-secondary icon-md"}),"Leave Network"]})})})]},e.Id)}))})})]})})})}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function jt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Et(i,r,a,s,o,"next",e)}function o(e){Et(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ot=n(57941),Rt="containers",Mt=f(Rt),Lt=[Me("logs","Logs"),Me("inspect","Inspect"),Me("stats","Stats"),Me("exec","Console"),Me("attach","Attach")];function Ut(e){var t=e.isHostColumnVisible,n=e.environment,r=Mt(),a=oe(t,je(n.Id)),i=l()(a.filter((function(e){return e.canHide})).map((function(e){return e.id}))),s=Fe(n.Id,!0,void 0,1e3*r.autoRefreshRate);return(0,I.jsx)(A,{context:{environment:n},children:(0,I.jsx)(De.Gn,{titleOptions:{icon:"svg-cubes",title:"Containers"},settingsStore:r,columns:a,renderTableActions:function(e){return(0,I.jsx)(Se,{selectedItems:e,isAddActionVisible:!0,endpointId:n.Id})},isLoading:s.isLoading,isRowSelectable:function(e){return!e.original.IsPortainer},initialTableState:{hiddenColumns:r.hiddenColumns},renderTableSettings:function(e){var t=e.allColumns.filter((function(e){return null==i?void 0:i.includes(e.id)}));return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Le.a,{columns:t,onChange:function(t){r.setHiddenColumns(t),e.setHiddenColumns(t)},value:r.hiddenColumns}),(0,I.jsx)(De.I6,{quickActions:(0,I.jsx)(Re,{actions:Lt}),children:(0,I.jsx)(Ae,{isRefreshVisible:!0,settings:r})})]})},storageKey:Rt,dataset:s.data||[],emptyContentLabel:"No containers found"})})}Zt.$inject=["$stateRegistryProvider"];var Vt=n(5744),Ft=n(8423),_t=n(98757),Kt=n(92091),Bt=n(96215),zt=n(7942),Ht=n(67431),Gt=a().module("portainer.docker.containers",[]).component("containersView",(0,s.A)((0,lt.Q)((0,ot.H)((0,st.s)((function(e){var t=e.endpoint,n=(0,Ot.d_)(t.Type),r=!!(0,Pe.w1)(t.Id,(function(e){var t;return!(null===(t=e.Swarm)||void 0===t||!t.NodeID)})).data,a=n&&r;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(pt.m,{title:"Container list",breadcrumbs:[{label:"Containers"}],reload:!0}),(0,I.jsx)(Ut,{isHostColumnVisible:a,environment:t})]})})))),["endpoint"])).config(Zt).name;function Zt(e){e.register({name:"docker.containers",url:"/containers",views:{"content@":{component:"containersView"}}}),e.register({name:"docker.containers.container",url:"/:id?nodeName",views:{"content@":{templateUrl:Vt,controller:"ContainerController"}}}),e.register({name:"docker.containers.container.attach",url:"/attach",views:{"content@":{templateUrl:Ft,controller:"ContainerConsoleController"}}}),e.register({name:"docker.containers.container.exec",url:"/exec",views:{"content@":{templateUrl:_t,controller:"ContainerConsoleController"}}}),e.register({name:"docker.containers.new",url:"/new?nodeName&from",views:{"content@":{templateUrl:Kt,controller:"CreateContainerController"}}}),e.register({name:"docker.containers.container.inspect",url:"/inspect",views:{"content@":{templateUrl:Bt,controller:"ContainerInspectController"}}}),e.register({name:"docker.containers.container.logs",url:"/logs",views:{"content@":{templateUrl:zt,controller:"ContainerLogsController"}}}),e.register({name:"docker.containers.container.stats",url:"/stats",views:{"content@":{templateUrl:Ht,controller:"ContainerStatsController"}}})}var qt=a().module("portainer.docker.react.views",[Gt]).component("networkDetailsView",(0,s.A)((0,lt.Q)((0,ot.H)((0,st.s)((function(){var e,t,n,r=(0,S.useRouter)(),a=(0,Y.useQueryClient)(),i=(t=(0,b.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],o=i[1],c=(0,S.useCurrentStateAndParams)().params,d=c.id,u=c.nodeName,p=(0,K.C)(),m=function(e,t){return(0,Y.useQuery)(["environments",e,"docker","networks",t],(function(){return function(e,t){return ht.apply(this,arguments)}(e,t)}),{onError:function(e){(0,he.vU)("Failure",e,"Unable to get network")}})}(p,d),g=(0,Y.useMutation)((function(e){return function(e,t){return ft.apply(this,arguments)}(e.environmentId,e.networkId)}),{onSuccess:function(e){(0,he.Vp)("Network successfully removed",e)},onError:function(e){(0,he.vU)("Failure",e,"Unable to remove network")}}),h=Fe(p,!0,{network:[d]});if((0,b.useEffect)((function(){m.data&&h.data&&o(function(e,t){return l()(t.map((function(t){var n=e.Containers[t.Id];return n?Nt(Nt({},n),{},{Id:t.Id}):null})))}(m.data,h.data))}),[m.data,h.data]),!m.data)return null;var f=m.data,v=null!==(e=f.Portainer)&&void 0!==e&&e.ResourceControl?new Ie.w(f.Portainer.ResourceControl):void 0;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(pt.m,{title:"Network details",breadcrumbs:[{link:"docker.networks",label:"Networks"},{link:"docker.networks.network",label:m.data.Name}]}),(0,I.jsx)(Ct,{network:m.data,onRemoveNetworkClicked:function(){return y.apply(this,arguments)}}),(0,I.jsx)(ut.V,{onUpdateSuccess:function(){return a.invalidateQueries(["environments",p,"docker","networks",d])},resourceControl:v,resourceType:R.O.Network,disableOwnershipChange:wt(m.data.Name),resourceId:d,environmentId:p}),(0,I.jsx)(At,{options:m.data.Options}),(0,I.jsx)(It,{networkContainers:s,nodeName:u,environmentId:p,networkId:d})]});function y(){return(y=jt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,(0,dt.Id)("Do you want to delete the network?");case 3:e.sent&&g.mutate({environmentId:p,networkId:d},{onSuccess:function(){r.stateService.go("docker.networks")}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})))),[])).name,Wt=a().module("portainer.docker.react",[qt,ct]).name;const Qt=n(66188),Yt=n(67539),Jt=n(20641),Xt=n(30357),en=n(9208),tn=n(30503),nn=n(35003),rn=n(14147),an=n(26447),sn=n(5147),on=n(8285),ln=n(8809),cn=n(12685),dn=n(13702),un=n(3903),pn=n(66973),mn=n(53566),gn=n(42382),hn=n(25872),fn=n(68156),vn=n(5744),bn=n(24021),yn=n(12367),wn=n(40640),xn=n(32240),Sn=n(62770),Cn=n(61242),kn=n(95290),An=n(10577),Pn=n(90347),In=n(9713);a().module("portainer.docker",["portainer.app",Wt]).config(["$stateRegistryProvider",function(e){var t={name:"docker",parent:"endpoint",url:"/docker",abstract:!0,onEnter:["endpoint","$async","$state","EndpointService","EndpointProvider","Notifications","StateManager","SystemService",function(e,t,n,r,a,s,o,l){return t((async()=>{if([1,2,4].includes(e.Type))try{const t=await async function(e){try{return await l.ping(e.Id),1}catch(e){return 2}}(e);if(4!==e.Type&&await async function(e,t){e.Status!==t&&await r.updateEndpoint(e.Id,{Status:t})}(e,t),e.Status=t,t===i.a2.Down)throw new Error("Environment is unreachable.");a.setEndpointID(e.Id),a.setEndpointPublicURL(e.PublicURL),a.setOfflineModeFromStatus(e.Status),await o.updateEndpointState(e)}catch(e){s.error("Failed loading environment",e),n.go("portainer.home",{},{reload:!0})}else n.go("portainer.home")}))}]},n={name:"docker.configs",url:"/configs",views:{"content@":{templateUrl:Qt,controller:"ConfigsController",controllerAs:"ctrl"}}},r={name:"docker.configs.config",url:"/:id",views:{"content@":{templateUrl:Yt,controller:"ConfigController"}}},a={name:"docker.configs.new",url:"/new?id",views:{"content@":{templateUrl:Jt,controller:"CreateConfigController",controllerAs:"ctrl"}}},s={name:"docker.dashboard",url:"/dashboard",views:{"content@":{templateUrl:Xt,controller:"DashboardController"}}},o={name:"docker.events",url:"/events",views:{"content@":{templateUrl:en,controller:"EventsController"}}},l={name:"docker.images",url:"/images",views:{"content@":{templateUrl:tn,controller:"ImagesController"}}},c={name:"docker.images.image",url:"/:id?nodeName",views:{"content@":{templateUrl:nn,controller:"ImageController"}}},d={name:"docker.images.build",url:"/build",views:{"content@":{templateUrl:rn,controller:"BuildImageController"}}},u={name:"docker.images.import",url:"/import",views:{"content@":{templateUrl:an,controller:"ImportImageController"}}},p={name:"docker.networks",url:"/networks",views:{"content@":{templateUrl:sn,controller:"NetworksController"}}},m={name:"docker.networks.new",url:"/new",views:{"content@":{templateUrl:on,controller:"CreateNetworkController"}}},g={name:"docker.secrets",url:"/secrets",views:{"content@":{templateUrl:ln,controller:"SecretsController"}}},h={name:"docker.secrets.secret",url:"/:id",views:{"content@":{templateUrl:cn,controller:"SecretController"}}},f={name:"docker.secrets.new",url:"/new",views:{"content@":{templateUrl:dn,controller:"CreateSecretController"}}},v={name:"docker.services",url:"/services",views:{"content@":{templateUrl:un,controller:"ServicesController"}}},b={name:"docker.services.service",url:"/:id",views:{"content@":{templateUrl:pn,controller:"ServiceController"}}},y={name:"docker.services.new",url:"/new",views:{"content@":{templateUrl:mn,controller:"CreateServiceController"}}},w={name:"docker.services.service.logs",url:"/logs",views:{"content@":{templateUrl:gn,controller:"ServiceLogsController"}}},x={name:"docker.stacks",url:"/stacks",views:{"content@":{templateUrl:hn,controller:"StacksController"}}},S={name:"docker.stacks.stack",url:"/:name?id&type&regular&external&orphaned&orphanedRunning",views:{"content@":{templateUrl:fn,controller:"StackController"}}},C={name:"docker.stacks.stack.container",url:"/:id?nodeName",views:{"content@":{templateUrl:vn,controller:"ContainerController"}}},k={name:"docker.stacks.newstack",url:"/newstack",views:{"content@":{templateUrl:bn,controller:"CreateStackController"}}},A={name:"docker.swarm",url:"/swarm",views:{"content@":{templateUrl:yn,controller:"SwarmController"}}},P={name:"docker.swarm.visualizer",url:"/visualizer",views:{"content@":{templateUrl:wn,controller:"SwarmVisualizerController"}}},I={name:"docker.tasks.task",url:"/:id",views:{"content@":{templateUrl:xn,controller:"TaskController"}}},$={name:"docker.tasks.task.logs",url:"/logs",views:{"content@":{templateUrl:Sn,controller:"TaskLogsController"}}},N={name:"docker.templates",url:"/templates",views:{"content@":{templateUrl:Cn,controller:"TemplatesController"}}},T={name:"docker.volumes",url:"/volumes",views:{"content@":{templateUrl:kn,controller:"VolumesController"}}},E={name:"docker.volumes.volume",url:"/:id?nodeName",views:{"content@":{templateUrl:An,controller:"VolumeController"}}},j={name:"docker.volumes.volume.browse",url:"/browse",views:{"content@":{templateUrl:Pn,controller:"BrowseVolumeController"}}},D={name:"docker.volumes.new",url:"/new",views:{"content@":{templateUrl:In,controller:"CreateVolumeController"}}};e.register(n),e.register(r),e.register(a),e.register({name:"docker.templates.custom",url:"/custom",views:{"content@":{component:"customTemplatesView"}}}),e.register({name:"docker.templates.custom.new",url:"/new?fileContent&type",views:{"content@":{component:"createCustomTemplateView"}},params:{fileContent:"",type:""}}),e.register({name:"docker.templates.custom.edit",url:"/:id",views:{"content@":{component:"editCustomTemplateView"}}}),e.register(t),e.register(s),e.register({name:"docker.host",url:"/host",views:{"content@":{component:"hostView"}}}),e.register({name:"docker.host.browser",url:"/browser",views:{"content@":{component:"hostBrowserView"}}}),e.register(o),e.register(l),e.register(c),e.register(d),e.register(u),e.register(p),e.register({name:"docker.networks.network",url:"/:id?nodeName",views:{"content@":{component:"networkDetailsView"}}}),e.register(m),e.register({name:"docker.nodes",url:"/nodes",abstract:!0}),e.register({name:"docker.nodes.node",url:"/:id",views:{"content@":{component:"nodeDetailsView"}}}),e.register({name:"docker.nodes.node.browse",url:"/browse",views:{"content@":{component:"nodeBrowserView"}}}),e.register(g),e.register(h),e.register(f),e.register(v),e.register(b),e.register(y),e.register(w),e.register(x),e.register(S),e.register(C),e.register(k),e.register(A),e.register(P),e.register({name:"docker.tasks",url:"/tasks",abstract:!0}),e.register(I),e.register($),e.register(N),e.register(T),e.register(E),e.register(j),e.register(D),e.register({name:"docker.host.featuresConfiguration",url:"/feat-config",views:{"content@":{component:"dockerFeaturesConfigurationView"}}}),e.register({name:"docker.swarm.featuresConfiguration",url:"/feat-config",views:{"content@":{component:"dockerFeaturesConfigurationView"}}}),e.register({name:"docker.host.registries",url:"/registries",views:{"content@":{component:"endpointRegistriesView"}}}),e.register({name:"docker.swarm.registries",url:"/registries",views:{"content@":{component:"endpointRegistriesView"}}}),e.register({name:"docker.host.registries.access",url:"/:id/access",views:{"content@":{component:"dockerRegistryAccessView"}}}),e.register({name:"docker.swarm.registries.access",url:"/:id/access",views:{"content@":{component:"dockerRegistryAccessView"}}})}])},99831:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e){this.$scope=e,this.oldCapabilities=[]}createOnChangeHandler(e){return t=>{this.$scope.$evalAsync((()=>{e.allowed=t}))}}$doCheck(){this.oldCapabilities.length!==this.capabilities.length&&(this.oldCapabilities=this.capabilities,this.capabilitiesOnChange=Object.fromEntries(this.capabilities.map((e=>[e.capability,this.createOnChangeHandler(e)]))))}}r.$inject=["$scope"]},83088:function(e,t,n){"use strict";n.r(t);var r=n(99831);const a=n(81521);angular.module("portainer.docker").component("containerCapabilities",{templateUrl:a,bindings:{capabilities:"="},controller:r.default})},17592:function(){angular.module("portainer.docker").controller("ContainerRestartPolicyController",[function(){var e=this;this.state={editModel:{}},e.save=function(){e.state.editModel.name===e.name&&e.state.editModel.maximumRetryCount===e.maximumRetryCount||e.updateRestartPolicy(e.state.editModel)},this.$onInit=function(){e.state.editModel={name:e.name?e.name:"no",maximumRetryCount:e.maximumRetryCount}}}])},8270:function(e,t,n){const r=n(80239);angular.module("portainer.docker").component("containerRestartPolicy",{templateUrl:r,controller:"ContainerRestartPolicyController",bindings:{name:"<",maximumRetryCount:"<",updateRestartPolicy:"&"}})},15772:function(e,t,n){const r=n(171);angular.module("portainer.docker").component("dashboardClusterAgentInfo",{templateUrl:r,controller:"DashboardClusterAgentInfoController"})},26419:function(){angular.module("portainer.docker").controller("DashboardClusterAgentInfoController",["AgentService","Notifications",function(e,t){var n=this;this.$onInit=function(){e.agents().then((function(e){n.agentCount=e.length})).catch((function(e){t.error("Failure",e,"Unable to retrieve agent information")}))}}])},62135:function(e,t,n){const r=n(80602);angular.module("portainer.docker").component("configsDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<"}})},65532:function(e,t,n){const r=n(49229);angular.module("portainer.docker").component("containerNetworksDatatable",{templateUrl:r,controller:"ContainerNetworksDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",container:"<",availableNetworks:"<",joinNetworkAction:"<",joinNetworkActionInProgress:"<",leaveNetworkActionInProgress:"<",leaveNetworkAction:"<",nodeName:"<"}})},50015:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(83432),s=n.n(i);angular.module("portainer.docker").controller("ContainerNetworksDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!0}),this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1),e.Expanded||(this.state.expandAll=!1))},this.itemCanExpand=function(e){return""!==e.GlobalIPv6Address},this.hasExpandableItems=function(){return s()(this.dataset,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,a()(this.dataset,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),a()(this.dataset,(e=>{e.Expanded=!0,e.Highlighted=!0}))}}])},67723:function(e,t,n){const r=n(85566);angular.module("portainer.docker").component("containerProcessesDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"=",headerset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}})},3716:function(e,t,n){const r=n(2576);angular.module("portainer.docker").component("eventsDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}})},61389:function(e,t,n){const r=n(33261);angular.module("portainer.docker").component("imagesDatatable",{templateUrl:r,controller:"ImagesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",showHostColumn:"<",removeAction:"<",downloadAction:"<",forceRemoveAction:"<",exportInProgress:"<",offlineMode:"<",refreshCallback:"<"}})},40650:function(e,t,n){"use strict";n.r(t),angular.module("portainer.docker").controller("ImagesDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e}));var r=this;this.filters={state:{open:!1,enabled:!1,showUsedImages:!0,showUnusedImages:!0}},this.applyFilters=function(e){var t=e,n=r.filters;return!!(0===t.ContainerCount&&n.state.showUnusedImages||0!==t.ContainerCount&&n.state.showUsedImages)},this.onstateFilterChange=function(){var e=this.filters.state,t=!1;e.showUsedImages&&e.showUnusedImages||(t=!0),this.filters.state.enabled=t,n.setDataTableFilters(this.tableKey,this.filters)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},78570:function(e,t,n){const r=n(19618);angular.module("portainer.docker").component("macvlanNodesDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",showIpAddressColumn:"<",accessToNodeDetails:"<",state:"="}})},24342:function(e,t,n){"use strict";n.r(t);var r=n(83471);const a=n(47967);angular.module("portainer.docker").directive("networkRowContent",[function(){return{templateUrl:a,restrict:"A",transclude:!0,scope:{item:"<",parentCtrl:"<",allowCheckbox:"<",allowExpand:"<"},controller:["$scope",e=>{e.RCO=r.X}]}}])},21035:function(e,t,n){const r=n(8755);angular.module("portainer.docker").component("networksDatatable",{templateUrl:r,controller:"NetworksDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",showHostColumn:"<",removeAction:"<",offlineMode:"<",refreshCallback:"<"}})},22821:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(83432),s=n.n(i);angular.module("portainer.docker").controller("NetworksDatatableController",["$scope","$controller","NetworkHelper","DatatableService",function(e,t,n,r){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.disableRemove=function(e){return n.isSystemNetwork(e)},this.state=Object.assign(this.state,{expandedItems:[]}),this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=r.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=r.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=r.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=r.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()},this.expandItem=function(e,t){e.Expanded=t},this.itemCanExpand=function(e){return e.Subs.length>0},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,a()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))}}])},90712:function(e,t,n){const r=n(64255);angular.module("portainer.docker").component("nodeTasksDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}})},66951:function(e,t,n){const r=n(53379);angular.module("portainer.docker").component("nodesDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",showIpAddressColumn:"<",accessToNodeDetails:"<",refreshCallback:"<"}})},1087:function(e,t,n){const r=n(7091);angular.module("portainer.docker").component("secretsDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<"}})},30700:function(e,t,n){const r=n(71483);angular.module("portainer.docker").component("serviceTasksDatatable",{templateUrl:r,controller:"ServiceTasksDatatableController",bindings:{dataset:"<",serviceId:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",nodes:"<",agentProxy:"<",textFilter:"=",showTaskLogsButton:"<"}})},83076:function(e,t,n){"use strict";n.r(t);var r=n(93715),a=n.n(r);angular.module("portainer.docker").controller("ServiceTasksDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e}));var r=this;this.state=Object.assign(this.state,{showQuickActionStats:!0,showQuickActionLogs:!0,showQuickActionConsole:!0,showQuickActionInspect:!0,showQuickActionExec:!0,showQuickActionAttach:!1}),this.filters={state:{open:!1,enabled:!1,values:[]}},this.applyFilters=function(e){for(var t=r.filters,n=0;n<t.state.values.length;n++){var a=t.state.values[n];if(e.Status.State===a.label&&a.display)return!0}return!1},this.onStateFilterChange=function(){for(var e=this.filters.state.values,t=!1,n=0;n<e.length;n++)e[n].display||(t=!0);this.filters.state.enabled=t},this.prepareTableFromDataset=function(){for(var e=[],t=0;t<this.dataset.length;t++){var n=this.dataset[t];e.push({label:n.Status.State,display:!0})}this.filters.state.values=a()(e,"label")},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},88840:function(e,t,n){const r=n(62318);angular.module("portainer.docker").component("servicesDatatableActions",{templateUrl:r,controller:"ServicesDatatableActionsController",bindings:{selectedItems:"=",selectedItemCount:"=",showUpdateAction:"<",showAddAction:"<",endpointId:"<"}})},3474:function(){angular.module("portainer.docker").controller("ServicesDatatableActionsController",["$q","$state","ServiceService","ServiceHelper","Notifications","ModalService","ImageHelper","WebhookService",function(e,t,n,r,a,i,s,o){const l=this;this.scaleAction=function(e){var i=r.serviceToConfig(e.Model);i.Mode.Replicated.Replicas=e.Replicas,n.update(e,i).then((function(){a.success("Service successfully scaled","New replica count: "+e.Replicas),t.reload()})).catch((function(t){a.error("Failure",t,"Unable to scale service"),e.Scale=!1,e.Replicas=e.ReplicaCount}))},this.removeAction=function(r){i.confirmDeletion("Do you want to remove the selected service(s)? All the containers associated to the selected service(s) will be removed too.",(function(i){var s,c;i&&(c=(s=r).length,angular.forEach(s,(function(r){n.remove(r).then((function(){return o.webhooks(r.Id,l.endpointId)})).then((function(t){return e.when(0!==t.length&&o.deleteWebhook(t[0].Id))})).then((function(){a.success("Service successfully removed",r.Name)})).catch((function(e){a.error("Failure",e,"Unable to remove service")})).finally((function(){0==--c&&t.reload()}))})))}))},this.updateAction=function(e){i.confirmServiceForceUpdate("Do you want to force an update of the selected service(s)? All the tasks associated to the selected service(s) will be recreated.",(function(i){if(i){var o=!1;i[0]&&(o=!0),function(e,i){var o=e.length;angular.forEach(e,(function(e){var l=r.serviceToConfig(e.Model);i&&(l.TaskTemplate.ContainerSpec.Image=s.removeDigestFromRepository(l.TaskTemplate.ContainerSpec.Image)),l.TaskTemplate.ForceUpdate++,n.update(e,l).then((function(){a.success("Service successfully updated",e.Name)})).catch((function(t){a.error("Failure",t,"Unable to force update service"+e.Name)})).finally((function(){0==--o&&t.reload()}))}))}(e,o)}}))}}])},22601:function(e,t,n){const r=n(19610);angular.module("portainer.docker").component("servicesDatatable",{templateUrl:r,controller:"ServicesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",nodes:"<",agentProxy:"<",showUpdateAction:"<",showAddAction:"<",showStackColumn:"<",showTaskLogsButton:"<",refreshCallback:"<",notAutoFocus:"<",endpointPublicUrl:"<",endpointId:"<"}})},46311:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r);angular.module("portainer.docker").controller("ServicesDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e}));var r=this;function i(e,t){a()(t,(function(t){return e.Id===t}))&&r.expandItem(e,!0)}this.state=Object.assign(this.state,{expandAll:!1,expandedItems:[]}),this.columnVisibility={columns:{image:{label:"Image",display:!0},ownership:{label:"OwnerShip",display:!0},ports:{label:"Published Ports",display:!0},updated:{label:"Last Update",display:!0}}},this.onColumnVisibilityChange=function(e){this.columnVisibility.columns=e,n.setColumnVisibilitySettings(this.tableKey,this.columnVisibility)}.bind(this),this.expandAll=function(){this.state.expandAll=!this.state.expandAll;for(var e=0;e<this.state.filteredDataSet.length;e++){var t=this.state.filteredDataSet[e];this.expandItem(t,this.state.expandAll)}},this.expandItem=function(e,t){if(e.Expanded=t,e.Expanded)-1===this.state.expandedItems.indexOf(e.Id)&&this.state.expandedItems.push(e.Id);else{var r=this.state.expandedItems.indexOf(e.Id);r>-1&&this.state.expandedItems.splice(r,1)}n.setDataTableExpandedItems(this.tableKey,this.state.expandedItems)},this.expandItems=function(e){var t=0;this.state.expandedItems=e;for(var n=0;n<this.dataset.length;n++){var r=this.dataset[n];i(r,e),r.Expanded&&++t}t===this.dataset.length&&(this.state.expandAll=!0)},this.onDataRefresh=function(){var e=n.getDataTableExpandedItems(this.tableKey);null!==e&&this.expandItems(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableExpandedItems(this.tableKey);null!==a&&this.expandItems(a);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange();var s=n.getColumnVisibilitySettings(this.tableKey);null!==s&&(this.columnVisibility=s)}}])},77886:function(e,t,n){const r=n(40381);angular.module("portainer.docker").component("tasksDatatable",{templateUrl:r,controller:"TasksDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",nodes:"<",showSlotColumn:"<",showLogsButton:"<",agentProxy:"<"}})},33740:function(){angular.module("portainer.docker").controller("TasksDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{showQuickActionStats:!0,showQuickActionLogs:!0,showQuickActionExec:!0,showQuickActionInspect:!0,showQuickActionAttach:!1}),this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},75198:function(e,t,n){const r=n(43761);angular.module("portainer.docker").component("volumesDatatable",{templateUrl:r,controller:"VolumesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",showHostColumn:"<",removeAction:"<",showBrowseAction:"<",offlineMode:"<",refreshCallback:"<"}})},72091:function(){angular.module("portainer.docker").controller("VolumesDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e}));var r=this;this.filters={state:{open:!1,enabled:!1,showUsedVolumes:!0,showUnusedVolumes:!0}},this.applyFilters=function(e){var t=e,n=r.filters;return!!(t.dangling&&n.state.showUnusedVolumes||!t.dangling&&n.state.showUsedVolumes)},this.onstateFilterChange=function(){var e=this.filters.state,t=!1;e.showUsedVolumes&&e.showUnusedVolumes||(t=!0),this.filters.state.enabled=t,n.setDataTableFilters(this.tableKey,this.filters)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},37610:function(e,t,n){const r=n(9831);angular.module("portainer.docker").component("hostOverview",{templateUrl:r,bindings:{hostDetails:"<",engineDetails:"<",devices:"<",disks:"<",isAgent:"<",offlineMode:"<",agentApiVersion:"<",refreshUrl:"@",browseUrl:"@",hostFeaturesEnabled:"<"},transclude:!0})},85943:function(e,t,n){const r=n(56797);angular.module("portainer.docker").component("devicesPanel",{templateUrl:r,bindings:{devices:"<"}})},40210:function(e,t,n){const r=n(37287);angular.module("portainer.docker").component("disksPanel",{templateUrl:r,bindings:{disks:"<"}})},25203:function(e,t,n){const r=n(63509);angular.module("portainer.docker").component("engineDetailsPanel",{templateUrl:r,bindings:{engine:"<"}})},68181:function(e,t,n){const r=n(97106);angular.module("portainer.docker").component("hostDetailsPanel",{templateUrl:r,bindings:{host:"<",isBrowseEnabled:"<",browseUrl:"@"}})},44162:function(){angular.module("portainer.docker").controller("NodeAvailabilitySelectController",[function(){this.onChange=function(){this.onSave({availability:this.availability})}}])},28031:function(e,t,n){const r=n(7762);angular.module("portainer.docker").component("nodeAvailabilitySelect",{templateUrl:r,controller:"NodeAvailabilitySelectController",bindings:{availability:"<",originalValue:"<",onSave:"&"}})},55024:function(){angular.module("portainer.docker").controller("NodeLabelsTableController",[function(){var e=this;e.removeLabel=function(t){null!==e.labels.splice(t,1)&&e.onChangedLabels({labels:e.labels})},e.updateLabel=function(t){t.value===t.originalValue&&t.key===t.originalKey||e.onChangedLabels({labels:e.labels})}}])},96399:function(e,t,n){const r=n(642);angular.module("portainer.docker").component("nodeLabelsTable",{templateUrl:r,controller:"NodeLabelsTableController",bindings:{labels:"<",onChangedLabels:"&"}})},70395:function(){angular.module("portainer.docker").controller("SwarmNodeDetailsPanelController",["NodeService","LabelHelper","Notifications","$state",function(e,t,n,r){var a=this;a.state={managerAddress:"",hasChanges:!1},a.$onChanges=function(){a.details&&"manager"===a.details.role&&(a.state.managerAddress="("+a.details.managerAddress+")")},a.addLabel=function(){a.details.nodeLabels.push({key:"",value:"",originalValue:"",originalKey:""})},a.updateNodeLabels=function(e){a.details.nodeLabels=e,a.state.hasChanges=!0},a.updateNodeAvailability=function(e){a.details.availability=e,a.state.hasChanges=!0},a.saveChanges=function(){var i=a.originalNode,s={Name:i.Name,Availability:a.details.availability,Role:i.Role,Labels:t.fromKeyValueToLabelHash(a.details.nodeLabels),Id:i.Id,Version:i.Version};e.updateNode(s).then((function(){n.success("Node successfully updated","Node updated"),r.go("docker.nodes.node",{id:i.Id},{reload:!0})})).catch((function(e){n.error("Failure",e,"Failed to update node")}))},a.cancelChanges=function(){a.details.nodeLabels=a.details.nodeLabels.filter((function(e){return e.originalValue||e.originalKey})).map((function(e){return Object.assign(e,{value:e.originalValue,key:e.originalKey})})),a.details.availability=a.originalNode.Availability,a.state.hasChanges=!1}}])},98186:function(e,t,n){const r=n(92156);angular.module("portainer.docker").component("swarmNodeDetailsPanel",{templateUrl:r,controller:"SwarmNodeDetailsPanelController",bindings:{details:"<",originalNode:"<"}})},72749:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(70589);class a{constructor(e,t){this.DockerHubService=e,this.Notifications=t,this.pullRateLimits=null}$onChanges({registryId:e}){e&&this.fetchRateLimits()}$onInit(){this.setValidity=this.setValidity||(()=>{})}async fetchRateLimits(){if(this.pullRateLimits=null,r.default.isAgentEndpoint(this.endpoint)||r.default.isLocalEndpoint(this.endpoint))try{this.pullRateLimits=await this.DockerHubService.checkRateLimits(this.endpoint,this.registryId||0),this.setValidity(!this.pullRateLimits.limit||this.pullRateLimits.limit&&this.pullRateLimits.remaining>=0)}catch(e){console.error("Failed loading DockerHub pull rate limits",e),this.setValidity(!0)}else this.setValidity(!0)}}a.$inject=["DockerHubService","Notifications"]},64906:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(72749);const s=n(52388);a().module("portainer.docker").component("porImageRegistryRateLimits",{bindings:{endpoint:"<",registry:"<",setValidity:"<",isAdmin:"<",isDockerHubRegistry:"<",isAuthenticated:"<",registryId:"<"},controller:i.default,transclude:{rateLimitExceeded:"?porImageRegistryRateLimitExceeded"},templateUrl:s})},22429:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r),i=n(65491),s=n.n(i),o=n(74362),l=n.n(o),c=n(30465),d=n.n(c),u=n(66539),p=n.n(u),m=n(44716),g=n.n(m),h=n(83432),f=n.n(h),v=n(29274),b=n.n(v),y=n(74962),w=n(56414);class x{constructor(e,t,n,r,a,i,s){this.$async=e,this.$scope=t,this.ImageHelper=n,this.RegistryService=r,this.EndpointService=a,this.ImageService=i,this.Notifications=s,this.onRegistryChange=this.onRegistryChange.bind(this),this.onImageChange=this.onImageChange.bind(this),this.registries=[],this.images=[],this.defaultRegistry=new y.DockerHubViewModel,this.$scope.$watch((()=>this.model.Registry),this.onRegistryChange),this.$scope.$watch((()=>this.model.Image),this.onImageChange)}isKnownRegistry(e){return e&&!(e instanceof y.DockerHubViewModel)&&e.URL}getRegistryURL(e){if(!e)return;let t=e.URL;return e.Type===w.RegistryTypes.GITLAB&&(t=e.URL+"/"+e.Gitlab.ProjectPath),t}prepareAutocomplete(){let e=[];const t=this.model.Registry;if(this.isKnownRegistry(t)){const n=this.getRegistryURL(t),r=f()(this.images,(e=>g()(e,n)));e=p()(r,(e=>d()(e,new RegExp(n+"/?"),"")))}else{const t=f()(this.registries,(e=>this.isKnownRegistry(e))),n=l()(t,(e=>f()(this.images,(t=>g()(t,e.URL))))),r=s()(this.images,n);e=f()(r,(e=>!this.ImageHelper.imageContainsURL(e)))}this.availableImages=e}isDockerHubRegistry(){return this.model.UseRegistry&&this.model.Registry&&(this.model.Registry.Type===w.RegistryTypes.DOCKERHUB||this.model.Registry.Type===w.RegistryTypes.ANONYMOUS)}async onRegistryChange(){this.prepareAutocomplete(),this.model.Registry&&this.model.Registry.Type===w.RegistryTypes.GITLAB&&this.model.Image&&(this.model.Image=d()(this.model.Image,this.model.Registry.Gitlab.ProjectPath,""))}async onImageChange(){this.isDockerHubRegistry()||this.setValidity(!0)}displayedRegistryURL(){return this.model.Registry&&this.getRegistryURL(this.model.Registry)||"docker.io"}async reloadRegistries(){return this.$async((async()=>{try{let e=!1;this.registries=await this.EndpointService.registries(this.endpoint.Id,this.namespace),this.registries.sort(((e,t)=>e.Name.localeCompare(t.Name))),this.registries.some((e=>e.Type===w.RegistryTypes.DOCKERHUB))||(e=!0,this.registries.splice(0,0,this.defaultRegistry));const t=this.model.Registry&&this.model.Registry.Id;a()(this.registries,{Id:t})||(this.model.Registry=e?this.defaultRegistry:this.registries[0])}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registries")}}))}async loadImages(){return this.$async((async()=>{try{if(!this.autoComplete)return void(this.images=[]);const e=await this.ImageService.images();this.images=this.ImageService.getUniqueTagListFromImages(e)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve images")}}))}$onChanges({namespace:e,endpoint:t}){(e||t)&&this.endpoint.Id&&this.reloadRegistries()}$onInit(){return this.$async((async()=>{await this.loadImages()}))}}x.$inject=["$async","$scope","ImageHelper","RegistryService","EndpointService","ImageService","Notifications"],t.default=x,b().module("portainer.docker").controller("porImageRegistryController",x)},91653:function(e,t,n){const r=n(50331);angular.module("portainer.docker").component("porImageRegistry",{templateUrl:r,controller:"porImageRegistryController",bindings:{model:"=",autoComplete:"<",labelClass:"@",inputClass:"@",endpoint:"<",isAdmin:"<",checkRateLimits:"<",onImageChange:"&",setValidity:"<",namespace:"<"},require:{form:"^form"},transclude:!0})},69760:function(e,t,n){const r=n(85759);angular.module("portainer.docker").component("logViewer",{templateUrl:r,controller:"LogViewerController",bindings:{data:"=",displayTimestamps:"=",logCollectionChange:"<",sinceTimestamp:"=",lineCount:"=",resourceName:"<"}})},89410:function(e,t,n){"use strict";n.r(t);var r=n(4396),a=n.n(r),i=n(71541),s=n(89115),o=n(52474);angular.module("portainer.docker").controller("LogViewerController",["$scope","clipboard","Blob","FileSaver",function(e,t,n,r){this.state={availableSinceDatetime:[{desc:"Last day",value:a()().subtract(1,"days").format()},{desc:"Last 4 hours",value:a()().subtract(4,"hours").format()},{desc:"Last hour",value:a()().subtract(1,"hours").format()},{desc:"Last 10 minutes",value:a()().subtract(10,"minutes").format()}],copySupported:t.supported,logCollection:!0,autoScroll:!0,wrapLines:!0,search:"",filteredLogs:[],selectedLines:[]},this.handleLogsCollectionChange=function(t){e.$evalAsync((()=>{this.state.logCollection=t,this.state.autoScroll=t,this.logCollectionChange(t)}))}.bind(this),this.handleLogsWrapLinesChange=function(t){e.$evalAsync((()=>{this.state.wrapLines=t}))}.bind(this),this.handleDisplayTimestampsChange=function(t){e.$evalAsync((()=>{this.displayTimestamps=t}))}.bind(this),this.copy=function(){t.copyText(this.state.filteredLogs.map((e=>e.line)).join(i.NEW_LINE_BREAKER)),o("#refreshRateChange").show(),o("#refreshRateChange").fadeOut(2e3)},this.copySelection=function(){t.copyText(this.state.selectedLines.join(i.NEW_LINE_BREAKER)),o("#refreshRateChange").show(),o("#refreshRateChange").fadeOut(2e3)},this.clearSelection=function(){this.state.selectedLines=[]},this.selectLine=function(e){var t=this.state.selectedLines.indexOf(e);-1===t?this.state.selectedLines.push(e):this.state.selectedLines.splice(t,1)},this.downloadLogs=function(){const e=(0,s.m)(this.state.filteredLogs),t=new n([e]);r.saveAs(t,this.resourceName+"_logs.txt")}}])},22852:function(e,t,n){const r=n(23614);angular.module("portainer.docker").component("networkMacvlanForm",{templateUrl:r,controller:"NetworkMacvlanFormController",bindings:{data:"=",applicationState:"<"}})},3476:function(){angular.module("portainer.docker").controller("NetworkMacvlanFormController",["$q","NodeService","NetworkService","Notifications","StateManager","Authentication",function(e,t,n,r,a,i){var s=this;s.requiredNodeSelection=function(){return"local"===s.data.Scope&&void 0!==s.data.DatatableState&&0===s.data.DatatableState.selectedItemCount},s.requiredConfigSelection=function(){return"swarm"===s.data.Scope&&!s.data.SelectedNetworkConfig},this.$onInit=function(){var a=i.isAdmin();s.isAdmin=a;var o=s.applicationState.endpoint.mode.provider,l=s.applicationState.endpoint.apiVersion;e.all({nodes:"DOCKER_SWARM_MODE"!==o||t.nodes(),networks:n.networks("DOCKER_STANDALONE"===o||"DOCKER_SWARM_MODE"===o,!1,"DOCKER_SWARM_MODE"===o&&l>=1.25)}).then((function(e){!0!==e.nodes&&(s.nodes=e.nodes),s.availableNetworks=e.networks.filter((function(e){return!0===e.ConfigOnly}))})).catch((function(e){r.error("Failure",e,"Unable to retrieve informations for macvlan")}))}}])},50373:function(e,t,n){"use strict";function r(){this.Scope="local",this.SelectedNetworkConfig=null,this.DatatableState={selectedItems:[]},this.ParentNetworkCard=""}n.r(t),n.d(t,{MacvlanFormData:function(){return r}})},8470:function(e,t,n){const r=n(79420);angular.module("portainer.docker").component("volumesCifsForm",{templateUrl:r,bindings:{data:"="}})},86668:function(e,t,n){"use strict";function r(){this.useCIFS=!1,this.serverAddress="",this.share="",this.version="CIFS v2.0 (Used by Windows Vista / Server 2008)",this.versions=["CIFS v1.0 (Used by Windows XP / Server 2003 and earlier)","CIFS v2.0 (Used by Windows Vista / Server 2008)","CIFS v2.1 (Used by Windows 7 / Server 2008 R2)","CIFS 3.0 (Used by Windows 8 / Server 2012 and newer)"],this.versionsNumber=["1.0","2.0","2.1","3.0"],this.username="",this.password=""}n.r(t),n.d(t,{VolumesCIFSFormData:function(){return r}})},87959:function(e,t,n){const r=n(93886);angular.module("portainer.docker").component("volumesNfsForm",{templateUrl:r,bindings:{data:"="}})},4819:function(e,t,n){"use strict";function r(){this.useNFS=!1,this.serverAddress="",this.mountPoint="",this.version="NFS4",this.options="rw,noatime,rsize=8192,wsize=8192,tcp,timeo=14",this.versions=["NFS4","NFS"]}n.r(t),n.d(t,{VolumesNFSFormData:function(){return r}})},11284:function(e,t,n){"use strict";n.r(t);var r=n(93715),a=n.n(r),i=n(51235),s=n.n(i),o=n(17465),l=n.n(o),c=n(94946),d=n.n(c);function u(e){return e?0===e.indexOf("sha256:")?e.substring(7,19):l()(e,"@sha256")[0]:""}function p(e,t){return t.some((function(t){return-1!==e.indexOf(t)}))}angular.module("portainer.docker").filter("visualizerTask",(function(){return function(e){var t=d()(e);return p(t,["new","allocated","assigned","accepted","complete","preparing"])?"info":p(t,["pending"])?"warning":p(t,["shutdown","failed","rejected"])?"stopped":"running"}})).filter("visualizerTaskBorderColor",(function(){return function(e){var t=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t}(e),n=function(e){for(var t="#",n=0;n<3;)t+=("00"+(e>>8*n++&255).toString(16)).slice(-2);return t}(t);return n}})).filter("taskstatusbadge",(function(){return function(e){var t=d()(e),n="default";return p(t,["new","allocated","assigned","accepted","preparing","ready","starting","remove"])?n="info":p(t,["pending"])?n="warning":p(t,["shutdown","failed","rejected","orphaned"])?n="danger":p(t,["complete"])?n="primary":p(t,["running"])&&(n="success"),n}})).filter("taskhaslogs",(function(){return function(e){return["running","complete","failed","shutdown"].indexOf(e)>-1}})).filter("containerstatusbadge",(function(){return function(e){var t=d()(e);return p(t,["paused","starting","unhealthy"])?"warning":p(t,["created"])?"info":p(t,["stopped","dead","exited"])?"danger":"success"}})).filter("nodestatusbadge",(function(){return function(e){return"down"===e||"Unhealthy"===e?"danger":"success"}})).filter("dockerNodeAvailabilityBadge",(function(){return function(e){return"pause"===e?"warning":"drain"===e?"danger":"success"}})).filter("trimcontainername",(function(){return function(e){return e?0===e.indexOf("/")?e.replace("/",""):e:""}})).filter("getstatetext",(function(){return function(e){return void 0===e?"":e.Dead?"Dead":e.Ghost&&e.Running?"Ghost":e.Running&&e.Paused?"Running (Paused)":e.Running?"Running":"created"===e.Status?"Created":"Stopped"}})).filter("getstatelabel",(function(){return function(e){return void 0===e?"label-default":e.Ghost&&e.Running?"label-important":e.Running?"label-success":"label-default"}})).filter("containername",(function(){return function(e){var t=e.Names[0];return t.substring(1,t.length)}})).filter("swarmversion",(function(){return function(e){return l()(e,"/")[1]}})).filter("swarmhostname",(function(){return function(e){return l()(e.Names[0],"/")[1]}})).filter("repotags",(function(){return function(e){return e.RepoTags&&e.RepoTags.length>0?"<none>:<none>"===e.RepoTags[0]?[]:e.RepoTags:[]}})).filter("command",(function(){return function(e){if(e)return e.join(" ")}})).filter("hideshasum",(function(){return function(e){return e?e.split("@sha")[0]:""}})).filter("availablenodecount",["ConstraintsHelper",function(e){return function(t,n){for(var r=0,a=0;a<t.length;a++){var i=t[a];"active"===i.Availability&&"ready"===i.Status&&e.matchesServiceConstraints(n,i)&&r++}return r}}]).filter("runningtaskscount",(function(){return function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];"running"===r.Status.State&&"running"===r.DesiredState&&t++}return t}})).filter("tasknodename",(function(){return function(e,t){var n=s()(t,{Id:e});return n?n.Hostname:""}})).filter("imagelayercommand",(function(){return function(e){return e.replace("/bin/sh -c #(nop) ","").replace("/bin/sh -c ","RUN ")}})).filter("trimshasum",(function(){return u})).filter("trimversiontag",(function(){return function(e){if(!e)return e;var t=e.lastIndexOf(":");return t<0||e.indexOf("/")>t?e:e.substring(0,t)}})).filter("unique",(function(){return a()}))},52161:function(){angular.module("portainer.docker").factory("ConfigHelper",[function(){"use strict";return{flattenConfig:function(e){return e?{Id:e.ConfigID,Name:e.ConfigName,FileName:e.File.Name,Uid:e.File.UID,Gid:e.File.GID,Mode:e.File.Mode}:{}},configConfig:function(e){return e?{ConfigID:e.Id,ConfigName:e.Name,File:{Name:e.FileName||e.Name,UID:e.Uid||"0",GID:e.Gid||"0",Mode:e.Mode||292}}:{}}}}])},82556:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r);function i(e,t,n){this.op=e,this.value=n,this.key=t}var s="node.id",o="node.hostname",l="node.role",c="node.labels.",d="engine.labels.",u="==",p="!=";function m(e,t){return!t||t.op===u&&e===t.value||t.op===p&&e!==t.value}function g(e,t){return!t||void 0!==a()(e,(function(e){return e.key===t.key&&e.value===t.value}))}function h(e,t){return e.split(t).pop().trim()}function f(e,t,n){return e.split(t).shift().trim().replace(n,"")}angular.module("portainer.docker").factory("ConstraintsHelper",[function(){return{transformConstraints:function(e){for(var t={},n=0;n<e.length;n++){var r,a=e[n];a.includes(u)?r=u:a.includes(p)&&(r=p);var m=h(a,r),g="";switch(!0){case a.includes(s):t.nodeId=new i(r,g,m);break;case a.includes(o):t.nodeHostname=new i(r,g,m);break;case a.includes(l):t.nodeRole=new i(r,g,m);break;case a.includes(c):g=f(a,r,c),t.nodeLabels=new i(r,g,m);break;case a.includes(d):g=f(a,r,d),t.engineLabels=new i(r,g,m)}}return t},matchesServiceConstraints:function(e,t){if(void 0===e.Constraints||0===e.Constraints.length)return!0;var n=this.transformConstraints(angular.copy(e.Constraints));return!!(m(t.Id,n.nodeId)&&m(t.Hostname,n.nodeHostname)&&m(t.Role,n.nodeRole)&&g(t.Labels,n.nodeLabels)&&g(t.EngineLabels,n.engineLabels))}}}])},5204:function(e,t,n){"use strict";n.r(t);var r=n(19980),a=n.n(r),i=n(55332),s=n.n(i),o=n(16222),l=n.n(o),c=n(86103),d=n.n(c),u=n(68260),p=n.n(u),m=n(41952),g=n.n(m),h=n(66539),f=n.n(h),v=n(17465),b=n.n(v),y=n(54761),w=n.n(y);const x=/^([1-9]|[1-5]?[0-9]{2,4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/m;function S(e){return x.test(e)?parseInt(e,10):0}function C(e){"string"!=typeof e&&(e=e.toString());const t=b()(e,"-",2),n=f()(t,S);return 1==n.length&&n.push(n[0]),n}function k(e){return"string"==typeof e&&(e=C()),Array.isArray(e)&&2===e.length&&e[0]>0&&e[1]>=e[0]}function A(e,t){"string"!=typeof e&&(e=e.toString());let n=null;const r=e.indexOf(":");r>=0&&(n=e.substr(0,r),e=e.substr(r+1)),t="number"==typeof t?t:S(t);const a=C(e),i=Math.min(a[0],t),s=Math.max(a[1],t);return n?n+":"+i+"-"+s:i+"-"+s}angular.module("portainer.docker").factory("ContainerHelper",[function(){return{commandStringToArray:function(e){return w()(e)},commandArrayToString:function(e){return e.map((function(e){return"'"+e+"'"})).join(" ")},configFromContainer:function(e){var t=e.Config;t.HostConfig=e.HostConfig,t.name=e.Name.replace(/^\//g,"");var n=t.HostConfig.NetworkMode;t.NetworkingConfig={EndpointsConfig:{}},t.NetworkingConfig.EndpointsConfig=e.NetworkSettings.Networks,void 0===t.ExposedPorts&&(t.ExposedPorts={}),-1!==n.indexOf("container:")&&(delete t.Hostname,delete t.ExposedPorts);var r=[],a={};for(var i in e.Mounts)if({}.hasOwnProperty.call(e.Mounts,i)){var s=e.Mounts[i],o=s.Name||s.Source,l=s.Destination;if(o&&l){var c=o+":"+l;a[l]={},!1===s.RW&&(c+=":ro"),r.push(c)}}return t.HostConfig.Binds=r,t.Volumes=a,t},preparePortBindings:function(e){const t={};return g()(e,(e=>{if(!e.containerPort)return;let n=e.hostPort;const r=C(e.containerPort);if(!k(r))throw new Error("Invalid port specification: "+e.containerPort);const a=r[0],i=r[1];let s,o=0,l=0;if(n){if(n.indexOf("[")>-1){const t=b()(n,"]:");if(t.length<2)throw new Error("Invalid port specification: "+e.containerPort);s=t[0].replace("[",""),n=t[1]}else if(n.indexOf(":")>-1){const e=b()(n,":");s=e[0],n=e[1]}const t=C(n);if(!k(t))throw new Error("Invalid port specification: "+n);if(o=t[0],l=t[1],i!==a&&i-a!=l-o)throw new Error("Invalid port specification: "+n)}for(let r=0;r<=i-a;r++){const c=(a+r).toString();o>0&&(n=(o+r).toString()),a===i&&o!==l&&(n+="-"+l.toString());const d=c+"/"+e.protocol;t[d]?t[d].push({HostIp:s,HostPort:n}):t[d]=[{HostIp:s,HostPort:n}]}})),t},sortAndCombinePorts:function(e){const t=[],n=p()(e),r=d()(n,(e=>b()(e,"/")[1]));return g()(r,((n,r)=>{const a={};for(const t of n)for(const n of e[t])a[n.HostIp]=a[n.HostIp]||[],a[n.HostIp].push(t);g()(a,((n,a)=>{const i=l()(n,(e=>parseInt(b()(e,"/")[0],10)));let s=-1,o=-1;g()(i,(n=>{const i=b()(n,"/"),l=parseInt(i[0],10),c=e[n][0];e[n].shift();const d=S(c.HostPort);if(d>0){if(t.length>0&&s===d-1&&o===l-1)return t[t.length-1].hostPort=A(t[t.length-1].hostPort,d),t[t.length-1].containerPort=A(t[t.length-1].containerPort,l),s=d,void(o=l);s=d,o=l}else s=-1,o=-1;let u=c.HostPort.toString();a&&(u=`${a}:${u}`);const p={hostPort:u,containerPort:l,protocol:r};t.push(p)}))}))})),t},getContainerNames:function(e){return f()(s()(f()(e,"Names")),(e=>a()(e,"/")))}}}])},20886:function(e,t,n){"use strict";n.r(t),n.d(t,{buildImageFullURI:function(){return l}});var r=n(44716),a=n.n(r),i=n(17465),s=n.n(i),o=n(56414);function l(e){if(!e.UseRegistry)return n(e.Image);const t=function(e){switch(e.Registry.Type){case o.RegistryTypes.GITLAB:return function(e){const t=e.Image.startsWith(":")?"":"/";return`${e.Registry.URL}/${e.Registry.Gitlab.ProjectPath}${t}${e.Image}`}(e);case o.RegistryTypes.QUAY:return function(e){const t=e.Registry.Quay.UseOrganisation?e.Registry.Quay.OrganisationName:e.Registry.Username;return`${e.Registry.URL?e.Registry.URL+"/":""}${t}/${e.Image}`}(e);case o.RegistryTypes.ANONYMOUS:return e.Image;default:return function(e){return(e.Registry.URL?e.Registry.URL+"/":"")+e.Image}(e)}}(e);return n(t);function n(e,t="latest"){return e.includes(":")?e:`${e}:${t}`}}angular.module("portainer.docker").factory("ImageHelper",(function(){return{isValidTag:function(e){return e.match(/^(?![\.\-])([a-zA-Z0-9\_\.\-])+$/g)},createImageConfigForContainer:function(e){return{fromImage:l(e)}},getImagesNamesForDownload:function(e){return{names:e.map((function(e){return"<none>:<none>"!==e.RepoTags[0]?e.RepoTags[0]:e.Id}))}},removeDigestFromRepository:function(e){return e.split("@sha")[0]},imageContainsURL:function(e){const t=s()(e,"/"),n=t[0];return t.length>1&&(a()(n,".")||a()(n,":"))}}}))},46313:function(e,t,n){"use strict";n.r(t);var r=n(4622),a=n.n(r);angular.module("portainer.docker").factory("InfoHelper",[function(){return{determineEndpointMode:function(e,t){var n={provider:"",role:"",agentProxy:!1};return 2!==t&&4!==t||(n.agentProxy=!0),!e.Swarm||a()(e.Swarm.NodeID)?n.provider="DOCKER_STANDALONE":(n.provider="DOCKER_SWARM_MODE",e.Swarm.ControlAvailable?n.role="MANAGER":n.role="WORKER"),n}}}])},6264:function(){angular.module("portainer.docker").factory("LabelHelper",[function(){"use strict";return{fromLabelHashToKeyValue:function(e){return e?Object.keys(e).map((function(t){return{key:t,value:e[t],originalKey:t,originalValue:e[t],added:!0}})):[]},fromKeyValueToLabelHash:function(e){var t={};return e&&e.forEach((function(e){e.key&&(t[e.key]=e.value)})),t}}}])},69452:function(e,t,n){"use strict";n.r(t);var r=n(46545),a=n.n(r),i=n(83432),s=n.n(i);class o{static getIPV4Configs(e){return s()(e,(e=>/^([0-9]{1,3}\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$/.test(e.Subnet)))}static getIPV6Configs(e){return a()(e,...o.getIPV4Configs(e))}}t.default=o},80677:function(){angular.module("portainer.docker").factory("NodeHelper",[function(){"use strict";return{nodeToConfig:function(e){return{Name:e.Spec.Name,Role:e.Spec.Role,Labels:e.Spec.Labels,Availability:e.Spec.Availability}}}}])},45665:function(){angular.module("portainer.docker").factory("SecretHelper",[function(){"use strict";return{flattenSecret:function(e){return e?{Id:e.SecretID,Name:e.SecretName,FileName:e.File.Name,Uid:e.File.UID,Gid:e.File.GID,Mode:e.File.Mode}:{}},secretConfig:function(e){return e?{SecretID:e.Id,SecretName:e.Name,File:{Name:e.FileName,UID:e.Uid||"0",GID:e.Gid||"0",Mode:e.Mode||444}}:{}}}}])},18743:function(e,t,n){"use strict";n.r(t);var r=n(4396),a=n.n(r);angular.module("portainer.docker").factory("ServiceHelper",[function(){return{associateTasksToService:function(e,t){e.Tasks=[];for(var n=[],r=0;r<t.length;r++){var a=t[r];a.ServiceId===e.Id?(e.Tasks.push(a),a.ServiceName=e.Name):n.push(a)}t=n},serviceToConfig:function(e){return{Name:e.Spec.Name,Labels:e.Spec.Labels,TaskTemplate:e.Spec.TaskTemplate,Mode:e.Spec.Mode,UpdateConfig:e.Spec.UpdateConfig,Networks:e.Spec.Networks,EndpointSpec:e.Spec.EndpointSpec}},translateKeyValueToPlacementPreferences:function(e){if(e){var t=[];return e.forEach((function(e){e.strategy&&""!==e.strategy&&e.value&&""!==e.value&&"spread"===e.strategy.toLowerCase()&&t.push({Spread:{SpreadDescriptor:e.value}})})),t}return[]},translateKeyValueToPlacementConstraints:function(e){if(e){var t=[];return e.forEach((function(e){e.key&&""!==e.key&&e.value&&""!==e.value&&t.push(e.key+e.operator+e.value)})),t}return[]},translatePreferencesToKeyValue:function(e){if(e){var t=[];return e.forEach((function(e){e.Spread&&t.push({strategy:"Spread",value:e.Spread.SpreadDescriptor})})),t}return[]},translateConstraintsToKeyValue:function(e){if(e){var t=[];return e.forEach((function(e){var n=function(e){var t=e.indexOf("==");return t>=0?[t,"=="]:[e.indexOf("!="),"!="]}(e),r=e.slice(0,n[0]),a=n[1],i=e.slice(n[0]+2);t.push({key:r,value:i,operator:a,originalKey:r,originalValue:i})})),t}},translateHumanDurationToNanos:function(e){var t,n=e.match(/^([0-9]+)(h|m|s|ms|us|ns)$/i);if(null!==n&&3===n.length){var r=parseInt(n[1],10),i=n[2];switch(i){case"ns":t=r;break;case"us":t=1e3*r;break;default:t=1e6*a().duration(r,i).asMilliseconds()}}return t},translateNanosToHumanDuration:function(e){var t="0s",n={ns:1};return n.us=1e3*n.ns,n.ms=1e3*n.us,n.s=1e3*n.ms,n.m=60*n.s,n.h=60*n.m,Object.keys(n).forEach((function(r){e%n[r]==0&&e/n[r]>0&&(t=e/n[r]+r)})),t},translateLogDriverOptsToKeyValue:function(e){var t=[];return e&&Object.keys(e).forEach((function(n){t.push({key:n,value:e[n],originalKey:n,originalValue:e[n],added:!0})})),t},translateKeyValueToLogDriverOpts:function(e){var t={};return e&&e.forEach((function(e){e.key&&""!==e.key&&e.value&&""!==e.value&&(t[e.key]=e.value)})),t},translateHostsEntriesToHostnameIP:function(e){var t=[];return e&&e.forEach((function(e){if(e.indexOf(" ")&&2===e.split(" ").length){var n=e.split(" ");t.push({hostname:n[1],ip:n[0]})}})),t},translateHostnameIPToHostsEntries:function(e){var t=[];return e&&e.forEach((function(e){e.ip&&e.hostname&&t.push(e.ip+" "+e.hostname)})),t}}}])},22588:function(){angular.module("portainer.docker").factory("TaskHelper",[function(){"use strict";return{associateContainerToTask:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.ContainerId===r.Id){e.Container=r;break}}}}}])},60069:function(){angular.module("portainer.docker").factory("VolumeHelper",[function(){"use strict";return{createDriverOptions:function(e){var t={};return e.forEach((function(e){t[e.name]=e.value})),t},isVolumeUsedByAService:function(e,t){for(var n=0;n<t.length;n++)for(var r=t[n].Mounts,a=0;a<r.length;a++)if(r[a].Source===e.Id)return!0;return!1}}}])},8691:function(){angular.module("portainer.app").factory("ContainersInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var r=t.currentEndpoint();if(void 0!==r){var a=r.Snapshots[0].SnapshotRaw.Containers;if(void 0!==a)return a}}return e.reject(n)}};return n}])},18872:function(){angular.module("portainer.app").factory("ImagesInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var r=t.currentEndpoint();if(void 0!==r){var a=r.Snapshots[0].SnapshotRaw.Images;if(void 0!==a)return a}}return e.reject(n)}};return n}])},84395:function(){angular.module("portainer.app").factory("InfoInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var r=t.currentEndpoint();if(void 0!==r&&r.Snapshots.length&&r.Snapshots[0].SnapshotRaw){var a=r.Snapshots[0].SnapshotRaw.Info;if(void 0!==a)return a}}return e.reject(n)}};return n}])},2630:function(){angular.module("portainer.app").factory("NetworksInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var r=t.currentEndpoint();if(void 0!==r){var a=r.Snapshots[0].SnapshotRaw.Networks;if(void 0!==a)return a}}return e.reject(n)}};return n}])},73166:function(){angular.module("portainer.app").factory("VersionInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var r=t.currentEndpoint();if(void 0!==r&&r.Snapshots.length&&r.Snapshots[0].SnapshotRaw){var a=r.Snapshots[0].SnapshotRaw.Version;if(void 0!==a)return a}}return e.reject(n)}};return n}])},33022:function(){angular.module("portainer.app").factory("VolumesInterceptor",["$q","EndpointProvider",function(e,t){"use strict";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var r=t.currentEndpoint();if(void 0!==r){var a=r.Snapshots[0].SnapshotRaw.Volumes;if(void 0!==a)return a}}return e.reject(n)}};return n}])},66807:function(e,t,n){"use strict";n.r(t),n.d(t,{ConfigViewModel:function(){return a}});var r=n(80178);function a(e){this.Id=e.ID,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Labels=e.Spec.Labels,this.Data=function(e){try{return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}catch(t){return atob(e)}}(e.Spec.Data),e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new r.w(e.Portainer.ResourceControl))}},12064:function(e,t,n){"use strict";n.r(t),n.d(t,{createStatus:function(){return d},ContainerViewModel:function(){return u},ContainerStatsViewModel:function(){return p},ContainerDetailsViewModel:function(){return m}});var r=n(68582),a=n.n(r),i=n(4622),s=n.n(i),o=n(94946),l=n.n(o),c=n(80178);function d(e){var t=l()(e);return t.indexOf("paused")>-1?"paused":t.indexOf("dead")>-1?"dead":t.indexOf("created")>-1?"created":t.indexOf("exited")>-1?"stopped":t.indexOf("(healthy)")>-1?"healthy":t.indexOf("(unhealthy)")>-1?"unhealthy":t.indexOf("(health: starting)")>-1?"starting":"running"}function u(e){if(this.Id=e.Id,this.Status=d(e.Status),this.State=e.State,this.Created=e.Created,this.Names=e.Names,e.NetworkSettings&&!s()(e.NetworkSettings.Networks)&&(this.IP=e.NetworkSettings.Networks[Object.keys(e.NetworkSettings.Networks)[0]].IPAddress),this.NetworkSettings=e.NetworkSettings,this.Image=e.Image,this.ImageID=e.ImageID,this.Command=e.Command,this.Checked=!1,this.Labels=e.Labels,this.Labels&&this.Labels["com.docker.compose.project"]?this.StackName=this.Labels["com.docker.compose.project"]:this.Labels&&this.Labels["com.docker.stack.namespace"]&&(this.StackName=this.Labels["com.docker.stack.namespace"]),this.Mounts=e.Mounts,this.IsPortainer=e.IsPortainer,this.Ports=[],e.Ports)for(var t=0;t<e.Ports.length;++t){var n=e.Ports[t];n.PublicPort&&this.Ports.push({host:n.IP,private:n.PrivatePort,public:n.PublicPort})}e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new c.w(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName))}function p(e){if(this.read=e.read,this.preread=e.preread,void 0!==e.memory_stats.privateworkingset?(this.MemoryUsage=e.memory_stats.privateworkingset,this.MemoryCache=0,this.NumProcs=e.num_procs,this.isWindows=!0):void 0===e.memory_stats.stats||void 0===e.memory_stats.usage?this.MemoryUsage=this.MemoryCache=0:(this.MemoryCache=0,void 0!==e.memory_stats.stats.cache&&(this.MemoryCache=e.memory_stats.stats.cache),this.MemoryUsage=e.memory_stats.usage-this.MemoryCache),this.PreviousCPUTotalUsage=e.precpu_stats.cpu_usage.total_usage,this.PreviousCPUSystemUsage=e.precpu_stats.system_cpu_usage,this.CurrentCPUTotalUsage=e.cpu_stats.cpu_usage.total_usage,this.CurrentCPUSystemUsage=e.cpu_stats.system_cpu_usage,this.CPUCores=1,e.cpu_stats.cpu_usage.percpu_usage?this.CPUCores=e.cpu_stats.cpu_usage.percpu_usage.length:void 0!==e.cpu_stats.online_cpus&&(this.CPUCores=e.cpu_stats.online_cpus),this.Networks=a()(e.networks),void 0!==e.blkio_stats&&null!==e.blkio_stats.io_service_bytes_recursive){var t=e.blkio_stats.io_service_bytes_recursive.find((e=>"Read"===e.op));void 0===t&&(t=e.blkio_stats.io_service_bytes_recursive.find((e=>"read"===e.op))),void 0!==t&&(this.BytesRead=t.value);var n=e.blkio_stats.io_service_bytes_recursive.find((e=>"Write"===e.op));void 0===n&&(n=e.blkio_stats.io_service_bytes_recursive.find((e=>"write"===e.op))),void 0!==n&&(this.BytesWrite=n.value)}else this.noIOdata=!0}function m(e){this.Model=e,this.Id=e.Id,this.State=e.State,this.Created=e.Created,this.Name=e.Name,this.NetworkSettings=e.NetworkSettings,this.Args=e.Args,this.Image=e.Image,this.Config=e.Config,this.HostConfig=e.HostConfig,this.Mounts=e.Mounts,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new c.w(e.Portainer.ResourceControl)),this.IsPortainer=e.IsPortainer}},66328:function(e,t,n){"use strict";n.r(t),n.d(t,{ContainerCapabilities:function(){return a},ContainerCapability:function(){return i}});var r={SETPCAP:"Modify process capabilities.",MKNOD:"Create special files using mknod(2).",AUDIT_WRITE:"Write records to kernel auditing log.",CHOWN:"Make arbitrary changes to file UIDs and GIDs (see chown(2)).",NET_RAW:"Use RAW and PACKET sockets.",DAC_OVERRIDE:"Bypass file read, write, and execute permission checks.",FOWNER:"Bypass permission checks on operations that normally require the file system UID of the process to match the UID of the file.",FSETID:"Dont clear set-user-ID and set-group-ID permission bits when a file is modified.",KILL:"Bypass permission checks for sending signals.",SETGID:"Make arbitrary manipulations of process GIDs and supplementary GID list.",SETUID:"Make arbitrary manipulations of process UIDs.",NET_BIND_SERVICE:"Bind a socket to internet domain privileged ports (port numbers less than 1024).",SYS_CHROOT:"Use chroot(2), change root directory.",SETFCAP:"Set file capabilities.",SYS_MODULE:"Load and unload kernel modules.",SYS_RAWIO:"Perform I/O port operations (iopl(2) and ioperm(2)).",SYS_PACCT:"Use acct(2), switch process accounting on or off.",SYS_ADMIN:"Perform a range of system administration operations.",SYS_NICE:"Raise process nice value (nice(2), setpriority(2)) and change the nice value for arbitrary processes.",SYS_RESOURCE:"Override resource Limits.",SYS_TIME:"Set system clock (settimeofday(2), stime(2), adjtimex(2)); set real-time (hardware) clock.",SYS_TTY_CONFIG:"Use vhangup(2); employ various privileged ioctl(2) operations on virtual terminals.",AUDIT_CONTROL:"Enable and disable kernel auditing; change auditing filter rules; retrieve auditing status and filtering rules.",MAC_ADMIN:"Allow MAC configuration or state changes. Implemented for the Smack LSM.",MAC_OVERRIDE:"Override Mandatory Access Control (MAC). Implemented for the Smack Linux Security Module (LSM).",NET_ADMIN:"Perform various network-related operations.",SYSLOG:"Perform privileged syslog(2) operations.",DAC_READ_SEARCH:"Bypass file read permission checks and directory read and execute permission checks.",LINUX_IMMUTABLE:"Set the FS_APPEND_FL and FS_IMMUTABLE_FL i-node flags.",NET_BROADCAST:"Make socket broadcasts, and listen to multicasts.",IPC_LOCK:"Lock memory (mlock(2), mlockall(2), mmap(2), shmctl(2)).",IPC_OWNER:"Bypass permission checks for operations on System V IPC objects.",SYS_PTRACE:"Trace arbitrary processes using ptrace(2).",SYS_BOOT:"Use reboot(2) and kexec_load(2), reboot and load a new kernel for later execution.",LEASE:"Establish leases on arbitrary files (see fcntl(2)).",WAKE_ALARM:"Trigger something that will wake up the system.",BLOCK_SUSPEND:"Employ features that can block system suspend."};function a(){return[new i("SETPCAP",!0),new i("MKNOD",!0),new i("AUDIT_WRITE",!0),new i("CHOWN",!0),new i("NET_RAW",!0),new i("DAC_OVERRIDE",!0),new i("FOWNER",!0),new i("FSETID",!0),new i("KILL",!0),new i("SETGID",!0),new i("SETUID",!0),new i("NET_BIND_SERVICE",!0),new i("SYS_CHROOT",!0),new i("SETFCAP",!0),new i("SYS_MODULE",!1),new i("SYS_RAWIO",!1),new i("SYS_PACCT",!1),new i("SYS_ADMIN",!1),new i("SYS_NICE",!1),new i("SYS_RESOURCE",!1),new i("SYS_TIME",!1),new i("SYS_TTY_CONFIG",!1),new i("AUDIT_CONTROL",!1),new i("MAC_ADMIN",!1),new i("MAC_OVERRIDE",!1),new i("NET_ADMIN",!1),new i("SYSLOG",!1),new i("DAC_READ_SEARCH",!1),new i("LINUX_IMMUTABLE",!1),new i("NET_BROADCAST",!1),new i("IPC_LOCK",!1),new i("IPC_OWNER",!1),new i("SYS_PTRACE",!1),new i("SYS_BOOT",!1),new i("LEASE",!1),new i("WAKE_ALARM",!1),new i("BLOCK_SUSPEND",!1)].sort((function(e,t){return e.capability<t.capability?-1:1}))}function i(e,t){this.capability=e,this.allowed=t,this.description=r[e]}},44333:function(e,t,n){"use strict";function r(e){this.Time=e.time,e.Type?(this.Type=e.Type,this.Details=function(e){var t=e.Actor.Attributes,n="",r=e.Action,a="",i=r.indexOf(":");switch(-1!=i&&(a=r.substring(i),r=r.substring(0,i)),e.Type){case"container":switch(r){case"stop":n="Container "+t.name+" stopped";break;case"destroy":n="Container "+t.name+" deleted";break;case"create":n="Container "+t.name+" created";break;case"start":n="Container "+t.name+" started";break;case"kill":n="Container "+t.name+" killed";break;case"die":n="Container "+t.name+" exited with status code "+t.exitCode;break;case"commit":n="Container "+t.name+" committed";break;case"restart":n="Container "+t.name+" restarted";break;case"pause":n="Container "+t.name+" paused";break;case"unpause":n="Container "+t.name+" unpaused";break;case"attach":n="Container "+t.name+" attached";break;case"detach":n="Container "+t.name+" detached";break;case"copy":n="Container "+t.name+" copied";break;case"export":n="Container "+t.name+" exported";break;case"health_status":n="Container "+t.name+" executed health status";break;case"oom":n="Container "+t.name+" goes in out of memory";break;case"rename":n="Container "+t.name+" renamed";break;case"resize":n="Container "+t.name+" resized";break;case"top":n="Showed running processes for container "+t.name;break;case"update":n="Container "+t.name+" updated";break;case"exec_create":n="Exec instance created";break;case"exec_start":n="Exec instance started";break;case"exec_die":n="Exec instance exited";break;default:n="Unsupported event"}break;case"image":switch(r){case"delete":n="Image deleted";break;case"import":n="Image "+e.Actor.ID+" imported";break;case"load":n="Image "+e.Actor.ID+" loaded";break;case"tag":n="New tag created for "+t.name;break;case"untag":n="Image untagged";break;case"save":n="Image "+e.Actor.ID+" saved";break;case"pull":n="Image "+e.Actor.ID+" pulled";break;case"push":n="Image "+e.Actor.ID+" pushed";break;default:n="Unsupported event"}break;case"network":switch(r){case"create":n="Network "+t.name+" created";break;case"destroy":n="Network "+t.name+" deleted";break;case"remove":n="Network "+t.name+" removed";break;case"connect":n="Container connected to "+t.name+" network";break;case"disconnect":n="Container disconnected from "+t.name+" network";break;default:n="Unsupported event"}break;case"volume":switch(r){case"create":n="Volume "+e.Actor.ID+" created";break;case"destroy":n="Volume "+e.Actor.ID+" deleted";break;case"mount":n="Volume "+e.Actor.ID+" mounted";break;case"unmount":n="Volume "+e.Actor.ID+" unmounted";break;default:n="Unsupported event"}break;default:n="Unsupported event"}return n+a}(e)):(this.Type=e.status,this.Details=e.from)}n.r(t),n.d(t,{EventViewModel:function(){return r}})},84647:function(e,t,n){"use strict";function r(e){if(this.Id=e.Id,this.Tag=e.Tag,this.Repository=e.Repository,this.Created=e.Created,this.Checked=!1,this.RepoTags=e.RepoTags,!this.RepoTags&&e.RepoDigests){this.RepoTags=[];for(var t=0;t<e.RepoDigests.length;t++){var n=e.RepoDigests[t],r=n.substring(0,n.indexOf("@"));this.RepoTags.push(r+":<none>")}}this.VirtualSize=e.VirtualSize,this.ContainerCount=e.ContainerCount,e.Portainer&&e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName),this.Labels=e.Labels}function a(e){this.hasError=!1;for(var t=[],n=0;n<e.length;n++){var r=e[n];r.stream&&(r=r.stream.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,""),t.push(r)),r.errorDetail&&(t.push(r.errorDetail.message),this.hasError=!0)}this.buildLogs=t}n.r(t),n.d(t,{ImageViewModel:function(){return r},ImageBuildModel:function(){return a}})},56946:function(e,t,n){"use strict";function r(e){this.Id=e.Id,this.Tag=e.Tag,this.Parent=e.Parent,this.Repository=e.Repository,this.Created=e.Created,this.Checked=!1,this.RepoTags=e.RepoTags,this.VirtualSize=e.VirtualSize,this.DockerVersion=e.DockerVersion,this.Os=e.Os,this.Architecture=e.Architecture,this.Author=e.Author,this.Command=e.Config.Cmd,this.Entrypoint=e.ContainerConfig.Entrypoint?e.ContainerConfig.Entrypoint:"",this.ExposedPorts=e.ContainerConfig.ExposedPorts?Object.keys(e.ContainerConfig.ExposedPorts):[],this.Volumes=e.ContainerConfig.Volumes?Object.keys(e.ContainerConfig.Volumes):[],this.Env=e.ContainerConfig.Env?e.ContainerConfig.Env:[],this.Labels=e.ContainerConfig.Labels}n.r(t),n.d(t,{ImageDetailsViewModel:function(){return r}})},75208:function(e,t,n){"use strict";function r(e,t){this.Order=e,this.Id=t.Id,this.Created=t.Created,this.CreatedBy=t.CreatedBy,this.Size=t.Size,this.Comment=t.Comment,this.Tags=t.Tags}n.r(t),n.d(t,{ImageLayerViewModel:function(){return r}})},70983:function(e,t,n){"use strict";n.r(t),n.d(t,{NetworkViewModel:function(){return a}});var r=n(80178);function a(e){this.Id=e.Id,this.Name=e.Name,this.Scope=e.Scope,this.Driver=e.Driver,this.Attachable=e.Attachable,this.Internal=e.Internal,this.IPAM=e.IPAM,this.Containers=e.Containers,this.Options=e.Options,this.Ingress=e.Ingress,this.Labels=e.Labels,this.Labels&&this.Labels["com.docker.compose.project"]?this.StackName=this.Labels["com.docker.compose.project"]:this.Labels&&this.Labels["com.docker.stack.namespace"]&&(this.StackName=this.Labels["com.docker.stack.namespace"]),e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new r.w(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName)),this.ConfigFrom=e.ConfigFrom,this.ConfigOnly=e.ConfigOnly}},11339:function(e,t,n){"use strict";function r(e){this.Model=e,this.Id=e.ID,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Role=e.Spec.Role,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Availability=e.Spec.Availability;var t=e.Spec.Labels;this.Labels=t?Object.keys(t).map((function(e){return{key:e,value:t[e],originalKey:e,originalValue:t[e],added:!0}})):[];var n=e.Description.Engine.Labels;this.EngineLabels=n?Object.keys(n).map((function(e){return{key:e,value:n[e]}})):[],this.Hostname=e.Description.Hostname,this.PlatformArchitecture=e.Description.Platform.Architecture,this.PlatformOS=e.Description.Platform.OS,this.CPUs=e.Description.Resources.NanoCPUs,this.Memory=e.Description.Resources.MemoryBytes,this.EngineVersion=e.Description.Engine.EngineVersion,this.Plugins=e.Description.Engine.Plugins,this.Status=e.Status.State,e.Status.Addr&&(this.Addr=e.Status.Addr),e.ManagerStatus&&(this.Leader=e.ManagerStatus.Leader,this.Reachability=e.ManagerStatus.Reachability,this.ManagerAddr=e.ManagerStatus.Addr)}n.r(t),n.d(t,{NodeViewModel:function(){return r}})},34161:function(e,t,n){"use strict";function r(e){this.Id=e.Id,this.Name=e.Name,this.Enabled=e.Enabled,this.Config=e.Config}n.r(t),n.d(t,{PluginViewModel:function(){return r}})},76939:function(e,t,n){"use strict";function r(){this.UseRegistry=!0,this.Registry={},this.Image=""}n.r(t),n.d(t,{PorImageRegistryModel:function(){return r}})},89638:function(e,t,n){"use strict";n.r(t),n.d(t,{SecretViewModel:function(){return a}});var r=n(80178);function a(e){this.Id=e.ID,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Labels=e.Spec.Labels,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new r.w(e.Portainer.ResourceControl))}},7456:function(e,t,n){"use strict";n.r(t),n.d(t,{ServiceViewModel:function(){return a}});var r=n(80178);function a(e,t,n){this.Model=e,this.Id=e.ID,this.Tasks=[],this.Name=e.Spec.Name,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Image=e.Spec.TaskTemplate.ContainerSpec.Image,this.Version=e.Version.Index,e.Spec.Mode.Replicated?(this.Mode="replicated",this.Replicas=e.Spec.Mode.Replicated.Replicas):(this.Mode="global",n&&(this.Replicas=n.length)),t&&(this.Running=t.length),e.Spec.TaskTemplate.Resources&&(e.Spec.TaskTemplate.Resources.Limits&&(this.LimitNanoCPUs=e.Spec.TaskTemplate.Resources.Limits.NanoCPUs,this.LimitMemoryBytes=e.Spec.TaskTemplate.Resources.Limits.MemoryBytes),e.Spec.TaskTemplate.Resources.Reservations&&(this.ReservationNanoCPUs=e.Spec.TaskTemplate.Resources.Reservations.NanoCPUs,this.ReservationMemoryBytes=e.Spec.TaskTemplate.Resources.Reservations.MemoryBytes)),e.Spec.TaskTemplate.RestartPolicy?(this.RestartCondition=e.Spec.TaskTemplate.RestartPolicy.Condition||"any",this.RestartDelay=e.Spec.TaskTemplate.RestartPolicy.Delay||5e9,this.RestartMaxAttempts=e.Spec.TaskTemplate.RestartPolicy.MaxAttempts||0,this.RestartWindow=e.Spec.TaskTemplate.RestartPolicy.Window||0):(this.RestartCondition="any",this.RestartDelay=5e9,this.RestartMaxAttempts=0,this.RestartWindow=0),e.Spec.TaskTemplate.LogDriver?(this.LogDriverName=e.Spec.TaskTemplate.LogDriver.Name||"",this.LogDriverOpts=e.Spec.TaskTemplate.LogDriver.Options||[]):(this.LogDriverName="",this.LogDriverOpts=[]),this.Constraints=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Constraints||[],this.Preferences=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Preferences||[],this.Platforms=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Platforms||[],this.Labels=e.Spec.Labels,this.Labels&&this.Labels["com.docker.stack.namespace"]&&(this.StackName=this.Labels["com.docker.stack.namespace"]);var a=e.Spec.TaskTemplate.ContainerSpec;a&&(this.ContainerLabels=a.Labels,this.Command=a.Command,this.Arguments=a.Args,this.Hostname=a.Hostname,this.Env=a.Env,this.Dir=a.Dir,this.User=a.User,this.Groups=a.Groups,this.TTY=a.TTY,this.OpenStdin=a.OpenStdin,this.ReadOnly=a.ReadOnly,this.Mounts=a.Mounts||[],this.StopSignal=a.StopSignal,this.StopGracePeriod=a.StopGracePeriod,this.HealthCheck=a.HealthCheck||{},this.Hosts=a.Hosts,this.DNSConfig=a.DNSConfig,this.Secrets=a.Secrets,this.Configs=a.Configs),e.Endpoint&&(this.Ports=e.Endpoint.Ports),this.LogDriver=e.Spec.TaskTemplate.LogDriver,this.Runtime=e.Spec.TaskTemplate.Runtime,this.VirtualIPs=e.Endpoint?e.Endpoint.VirtualIPs:[],e.Spec.UpdateConfig?(this.UpdateParallelism=void 0!==typeof e.Spec.UpdateConfig.Parallelism?e.Spec.UpdateConfig.Parallelism||0:1,this.UpdateDelay=e.Spec.UpdateConfig.Delay||0,this.UpdateFailureAction=e.Spec.UpdateConfig.FailureAction||"pause",this.UpdateOrder=e.Spec.UpdateConfig.Order||"stop-first"):(this.UpdateParallelism=1,this.UpdateDelay=0,this.UpdateFailureAction="pause",this.UpdateOrder="stop-first"),this.RollbackConfig=e.Spec.RollbackConfig,this.Checked=!1,this.Scale=!1,this.EditName=!1,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new r.w(e.Portainer.ResourceControl))}},90906:function(e,t,n){"use strict";function r(e){this.Id=e.ID}n.r(t),n.d(t,{SwarmViewModel:function(){return r}})},59146:function(e,t,n){"use strict";function r(e){this.Id=e.ID,this.Created=e.CreatedAt,this.Updated=e.UpdatedAt,this.Slot=e.Slot,this.Spec=e.Spec,this.Status=e.Status,this.DesiredState=e.DesiredState,this.ServiceId=e.ServiceID,this.NodeId=e.NodeID,e.Status&&e.Status.ContainerStatus&&e.Status.ContainerStatus.ContainerID&&(this.ContainerId=e.Status.ContainerStatus.ContainerID)}n.r(t),n.d(t,{TaskViewModel:function(){return r}})},80682:function(e,t,n){"use strict";n.r(t),n.d(t,{VolumeViewModel:function(){return a}});var r=n(80178);function a(e){this.Id=e.Name,this.CreatedAt=e.CreatedAt,this.Driver=e.Driver,this.Options=e.Options,this.Labels=e.Labels,this.Labels&&this.Labels["com.docker.compose.project"]?this.StackName=this.Labels["com.docker.compose.project"]:this.Labels&&this.Labels["com.docker.stack.namespace"]&&(this.StackName=this.Labels["com.docker.stack.namespace"]),this.Mountpoint=e.Mountpoint,this.ResourceId=e.ResourceID,e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new r.w(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName))}},27401:function(e,t,n){"use strict";n.r(t);var r=n(12944);angular.module("portainer.docker").factory("Build",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return e(t+"/:endpointId/docker/build",{endpointId:n.endpointID},{buildImage:{method:"POST",ignoreLoadingBar:!0,transformResponse:r.jsonObjectsToArrayHandler,isArray:!0,headers:{"Content-Type":"application/x-tar"}},buildImageOverride:{method:"POST",ignoreLoadingBar:!0,transformResponse:r.jsonObjectsToArrayHandler,isArray:!0}})}])},66055:function(){angular.module("portainer.docker").factory("Commit",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/commit",{endpointId:n.endpointID},{commitContainer:{method:"POST",params:{container:"@id",repo:"@repo"},ignoreLoadingBar:!0}})}])},12477:function(){angular.module("portainer.docker").factory("Config",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/configs/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",params:{id:"@id"}},query:{method:"GET",isArray:!0},create:{method:"POST",params:{action:"create"},ignoreLoadingBar:!0},remove:{method:"DELETE",params:{id:"@id"}}})}])},82791:function(e,t,n){"use strict";n.r(t);var r=n(12944);angular.module("portainer.docker").factory("Container",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","ContainersInterceptor",function(e,t,n,a){return e(t+"/:endpointId/docker/containers/:id/:action",{name:"@name",endpointId:n.endpointID},{query:{method:"GET",params:{all:0,action:"json",filters:"@filters"},isArray:!0,interceptor:a},get:{method:"GET",params:{action:"json"}},logs:{method:"GET",params:{id:"@id",action:"logs"},ignoreLoadingBar:!0,transformResponse:r.logsHandler},stats:{method:"GET",params:{id:"@id",stream:!1,action:"stats"},ignoreLoadingBar:!0},top:{method:"GET",params:{id:"@id",action:"top"},ignoreLoadingBar:!0},create:{method:"POST",params:{action:"create"},transformResponse:r.genericHandler,ignoreLoadingBar:!0},exec:{method:"POST",params:{id:"@id",action:"exec"},transformResponse:r.genericHandler,ignoreLoadingBar:!0},inspect:{method:"GET",params:{id:"@id",action:"json"}},update:{method:"POST",params:{id:"@id",action:"update"}},prune:{method:"POST",params:{action:"prune",filters:"@filters"}},resize:{method:"POST",params:{id:"@id",action:"resize",h:"@height",w:"@width"},transformResponse:r.genericHandler,ignoreLoadingBar:!0}})}])},6396:function(e,t,n){"use strict";n.r(t);var r=n(12944);angular.module("portainer.docker").factory("Exec",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return e(t+"/:endpointId/docker/exec/:id/:action",{endpointId:n.endpointID},{resize:{method:"POST",params:{id:"@id",action:"resize",h:"@height",w:"@width"},transformResponse:r.genericHandler,ignoreLoadingBar:!0}})}])},10679:function(e,t,n){"use strict";n.r(t);var r=n(12944),a=n(89615);angular.module("portainer.docker").factory("Image",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","HttpRequestHelper","ImagesInterceptor",function(e,t,n,i,s){return e(t+"/:endpointId/docker/images/:id/:action",{endpointId:n.endpointID},{query:{method:"GET",params:{all:0,action:"json"},isArray:!0,interceptor:s},get:{method:"GET",params:{action:"json"}},search:{method:"GET",params:{action:"search"}},history:{method:"GET",params:{action:"history"},isArray:!0},insert:{method:"POST",params:{id:"@id",action:"insert"}},tag:{method:"POST",params:{id:"@id",action:"tag",force:0,repo:"@repo"},ignoreLoadingBar:!0},inspect:{method:"GET",params:{id:"@id",action:"json"}},push:{method:"POST",params:{action:"push",id:"@imageName"},isArray:!0,transformResponse:r.jsonObjectsToArrayHandler,headers:{"X-Registry-Auth":i.registryAuthenticationHeader},ignoreLoadingBar:!0},create:{method:"POST",params:{action:"create",fromImage:"@fromImage"},isArray:!0,transformResponse:r.jsonObjectsToArrayHandler,headers:{"X-Registry-Auth":i.registryAuthenticationHeader},ignoreLoadingBar:!0},download:{method:"GET",params:{action:"get",names:"@names"},transformResponse:a.imageGetResponse,responseType:"blob",ignoreLoadingBar:!0},remove:{method:"DELETE",params:{id:"@id",force:"@force"},isArray:!0,transformResponse:r.deleteImageHandler}})}])},96452:function(e,t,n){"use strict";n.r(t);var r=n(12944);angular.module("portainer.docker").factory("Network",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","NetworksInterceptor",function(e,t,n,a){return e(t+"/:endpointId/docker/networks/:id/:action",{id:"@id",endpointId:n.endpointID},{query:{method:"GET",isArray:!0,interceptor:a},get:{method:"GET"},create:{method:"POST",params:{action:"create"},transformResponse:r.genericHandler,ignoreLoadingBar:!0},remove:{method:"DELETE",transformResponse:r.genericHandler},connect:{method:"POST",params:{action:"connect"}},disconnect:{method:"POST",params:{action:"disconnect"}}})}])},71989:function(){angular.module("portainer.docker").factory("Node",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/nodes/:id/:action",{endpointId:n.endpointID},{query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"POST",params:{id:"@id",action:"update",version:"@version"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},357:function(){angular.module("portainer.docker").factory("Plugin",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/plugins/:id/:action",{endpointId:n.endpointID},{query:{method:"GET",isArray:!0}})}])},12944:function(e,t,n){"use strict";function r(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t)return t}catch(e){}return!1}function a(e){if(!e)return[];var t="["+e.replace(/\n/g," ").replace(/\}\s*\{/g,"}, {")+"]";return angular.fromJson(t)}function i(e){var t={};return e?(r(e)?t=angular.fromJson(e):t.message=e,t):t}function s(e){return{logs:e}}function o(e){var t,n=[];if(r(e))if(t=e,"[object Array]"!==Object.prototype.toString.call(t)){var a=angular.fromJson(e);n.push(a)}else n=angular.fromJson(e);else n.push({message:e});return n}n.r(t),n.d(t,{jsonObjectsToArrayHandler:function(){return a},genericHandler:function(){return i},logsHandler:function(){return s},deleteImageHandler:function(){return o}})},89615:function(e,t,n){"use strict";function r(e){var t={};return t.file=e,t}n.r(t),n.d(t,{imageGetResponse:function(){return r}})},64522:function(){angular.module("portainer.docker").factory("Secret",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/secrets/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",params:{id:"@id"}},query:{method:"GET",isArray:!0},create:{method:"POST",params:{action:"create"},ignoreLoadingBar:!0},remove:{method:"DELETE",params:{id:"@id"}}})}])},49449:function(e,t,n){"use strict";n.r(t);var r=n(12944);angular.module("portainer.docker").factory("Service",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","HttpRequestHelper",function(e,t,n,a){return e(t+"/:endpointId/docker/services/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",params:{id:"@id"}},query:{method:"GET",isArray:!0,params:{filters:"@filters"}},create:{method:"POST",params:{action:"create"},headers:{"X-Registry-Auth":a.registryAuthenticationHeader,version:"1.29"},ignoreLoadingBar:!0},update:{method:"POST",params:{id:"@id",action:"update",version:"@version",rollback:"@rollback"},headers:{"X-Registry-Auth":e=>btoa(JSON.stringify({registryId:e.data.registryId})),version:"1.29"}},remove:{method:"DELETE",params:{id:"@id"}},logs:{method:"GET",params:{id:"@id",action:"logs"},ignoreLoadingBar:!0,transformResponse:r.logsHandler}})}])},52358:function(){angular.module("portainer.docker").factory("Swarm",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return e(t+"/:endpointId/docker/swarm",{endpointId:n.endpointID},{get:{method:"GET"}})}])},61489:function(e,t,n){"use strict";n.r(t);var r=n(12944);angular.module("portainer.docker").factory("System",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","InfoInterceptor","VersionInterceptor",function(e,t,n,a,i){return e(t+"/:endpointId/docker/:action/:subAction",{name:"@name",endpointId:n.endpointID},{info:{method:"GET",params:{action:"info"},interceptor:a},version:{method:"GET",params:{action:"version"},interceptor:i},events:{method:"GET",params:{action:"events",since:"@since",until:"@until"},isArray:!0,transformResponse:r.jsonObjectsToArrayHandler},auth:{method:"POST",params:{action:"auth"}},dataUsage:{method:"GET",params:{action:"system",subAction:"df"}}})}])},86666:function(){angular.module("portainer.docker").factory("SystemEndpoint",["$resource","API_ENDPOINT_ENDPOINTS",function(e,t){"use strict";return e(t+"/:endpointId/docker/:action/:subAction",{name:"@name"},{ping:{method:"GET",params:{action:"_ping",endpointId:"@endpointId"}}})}])},3446:function(e,t,n){"use strict";n.r(t);var r=n(12944);angular.module("portainer.docker").factory("Task",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return e(t+"/:endpointId/docker/tasks/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",params:{id:"@id"}},query:{method:"GET",isArray:!0,params:{filters:"@filters"}},logs:{method:"GET",params:{id:"@id",action:"logs"},ignoreLoadingBar:!0,transformResponse:r.logsHandler}})}])},28192:function(e,t,n){"use strict";n.r(t);var r=n(12944);angular.module("portainer.docker").factory("Volume",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider","VolumesInterceptor",function(e,t,n,a){return e(t+"/:endpointId/docker/volumes/:id/:action",{endpointId:n.endpointID},{query:{method:"GET",interceptor:a},get:{method:"GET",params:{id:"@id"}},create:{method:"POST",params:{action:"create"},transformResponse:r.genericHandler,ignoreLoadingBar:!0,headers:{"X-Portainer-VolumeName":function(e){return e.data.Name||""}}},remove:{method:"DELETE",transformResponse:r.genericHandler,params:{id:"@id"}}})}])},90544:function(e,t,n){"use strict";n.r(t);var r=n(84647);angular.module("portainer.docker").factory("BuildService",["$q","Build","FileUploadService",function(e,t,n){return{buildImageFromUpload:function(t,a,i){var s=e.defer();return n.buildImage(t,a,i).then((function(e){var t=new r.ImageBuildModel(e.data);s.resolve(t)})).catch((function(e){s.reject(e)})),s.promise},buildImageFromURL:function(n,a,i){var s={t:n,remote:a,dockerfile:i},o=e.defer();return t.buildImage(s,{}).$promise.then((function(e){var t=new r.ImageBuildModel(e);o.resolve(t)})).catch((function(e){o.reject(e)})),o.promise},buildImageFromDockerfileContent:function(n,a){var i={t:n},s={content:a},o=e.defer();return t.buildImageOverride(i,s).$promise.then((function(e){var t=new r.ImageBuildModel(e);o.resolve(t)})).catch((function(e){o.reject(e)})),o.promise},buildImageFromDockerfileContentAndFiles:function(t,a,i){var s=[new Blob([a],{type:"text/plain"})].concat(i),o=e.defer();return n.buildImageFromFiles(t,s).then((function(e){var t=new r.ImageBuildModel(e.data);o.resolve(t)})).catch((function(e){o.reject(e)})),o.promise}}}])},81287:function(e,t,n){"use strict";n.r(t);var r=n(66807);angular.module("portainer.docker").factory("ConfigService",["$q","Config",function(e,t){return{config:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new r.ConfigViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve config details",err:e})})),a.promise},configs:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new r.ConfigViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve configs",err:e})})),n.promise},remove:function(n){var r=e.defer();return t.remove({id:n}).$promise.then((function(e){e.message?r.reject({msg:e.message}):r.resolve()})).catch((function(e){r.reject({msg:"Unable to remove config",err:e})})),r.promise},create:function(e){return t.create(e).$promise}}}])},40725:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(61838),s=n(12064),o=n(89115);function l(e,t,n,r){const a={killContainer:l(i.ri),pauseContainer:l(i.VZ),renameContainer:l(i.bh),restartContainer:l(i.wG),resumeContainer:l(i.dZ),startContainer:l(i.Zk),stopContainer:l(i.hO),remove:l(i.sc),updateRestartPolicy:function(e,n,r){return t.update({id:e},{RestartPolicy:{Name:n,MaximumRetryCount:r}}).$promise},updateLimits:function(e,n){return t.update({id:e},{MemoryReservation:n.HostConfig.MemoryReservation,Memory:n.HostConfig.Memory,MemorySwap:-1,NanoCpus:n.HostConfig.NanoCpus}).$promise},container:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new s.ContainerDetailsViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:"Unable to retrieve container information",err:e})})),r.promise},containers:function(n,r){var a=e.defer();return t.query({all:n,filters:r}).$promise.then((function(e){var t=e.map((function(e){return new s.ContainerViewModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve containers",err:e})})),a.promise},resizeTTY:function(r,a,i,s){var o=e.defer();return n((function(){t.resize({},{id:r,height:i,width:a}).$promise.then((function(e){e.message?o.reject({msg:"Unable to resize tty of container "+r,err:e.message}):o.resolve(e)})).catch((function(e){o.reject({msg:"Unable to resize tty of container "+r,err:e})}))}),s),o.promise},createContainer:function(n){var r=e.defer();return t.create(n).$promise.then((function(e){r.resolve(e)})).catch((function(e){r.reject({msg:"Unable to create container",err:e})})),r.promise},createAndStartContainer:function(t){var n,r=e.defer();return a.createContainer(t).then((function(e){return n=e,a.startContainer(n.Id)})).then((function(){r.resolve(n)})).catch((function(e){r.reject(e)})),r.promise},createExec:function(n){var r=e.defer();return t.exec({},n).$promise.then((function(e){e.message?r.reject({msg:e.message,err:e.message}):r.resolve(e)})).catch((function(e){r.reject(e)})),r.promise},logs:function(n,r,a,i,s,l,c){var d=e.defer(),u={id:n,stdout:r||0,stderr:a||0,timestamps:i||0,since:s||0,tail:l||"all"};return t.logs(u).$promise.then((function(e){var t=(0,o.q)(e.logs,{stripHeaders:c,withTimestamps:!!i});d.resolve(t)})).catch((function(e){d.reject(e)})),d.promise},containerStats:function(n){var r=e.defer();return t.stats({id:n}).$promise.then((function(e){var t=new s.ContainerStatsViewModel(e);r.resolve(t)})).catch((function(e){r.reject(e)})),r.promise},containerTop:function(e){return t.top({id:e}).$promise},inspect:function(e){return t.inspect({id:e}).$promise},prune:function(e){return t.prune({filters:e}).$promise}};return a;function l(e){return function(...t){const n=r.endpointID();return e(n,...t)}}}l.$inject=["$q","Container","$timeout","EndpointProvider"],a().module("portainer.docker").factory("ContainerService",l)},9401:function(){angular.module("portainer.docker").factory("ExecService",["$q","$timeout","Exec",function(e,t,n){"use strict";return{resizeTTY:function(r,a,i,s){var o=e.defer();return t((function(){n.resize({},{id:r,height:i,width:a}).$promise.then((function(e){e.message?o.reject({msg:"Unable to resize tty of exec",err:e.message}):o.resolve(e)})).catch((function(e){o.reject({msg:"Unable to resize tty of exec",err:e})}))}),s),o.promise}}}])},45203:function(e,t,n){"use strict";n.r(t);var r=n(17908),a=n.n(r),i=n(75345),s=n.n(i),o=n(71204),l=n.n(o),c=n(74362),d=n.n(c),u=n(46006),p=n.n(u),m=n(84647),g=n(56946),h=n(75208);angular.module("portainer.docker").factory("ImageService",["$q","Image","ImageHelper","RegistryService","HttpRequestHelper","ContainerService","FileUploadService",function(e,t,n,r,i,o,c){var u={image:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){if(e.message)r.reject({msg:e.message});else{var t=new g.ImageDetailsViewModel(e);r.resolve(t)}})).catch((function(e){r.reject({msg:"Unable to retrieve image details",err:e})})),r.promise},images:function(n){var r=e.defer();return e.all({containers:n?o.containers(1):[],images:t.query({}).$promise}).then((function(e){var t=e.containers,n=e.images.map((function(e){e.ContainerCount=0;for(var n=0;n<t.length;n++)t[n].ImageID===e.Id&&e.ContainerCount++;return new m.ImageViewModel(e)}));r.resolve(n)})).catch((function(e){r.reject({msg:"Unable to retrieve images",err:e})})),r.promise},history:function(n){var r=e.defer();return t.history({id:n}).$promise.then((function(e){if(e.message)r.reject({msg:e.message});else{var t=[],n=e.length;angular.forEach(e,(function(e){t.push(new h.ImageLayerViewModel(n,e)),n--})),r.resolve(t)}})).catch((function(e){r.reject({msg:"Unable to retrieve image details",err:e})})),r.promise},pushImage:function(a){var s=e.defer(),o=a.Registry.Authentication?r.encodedCredentials(a.Registry):"";i.setRegistryAuthenticationHeader(o);const l=n.createImageConfigForContainer(a);return t.push({imageName:l.fromImage}).$promise.then((function(e){e[e.length-1].error?s.reject({msg:e[e.length-1].error}):s.resolve()})).catch((function(e){s.reject({msg:"Unable to push image tag",err:e})})),s.promise},pullImage:function(a,s){var o=a.Registry.Authentication?r.encodedCredentials(a.Registry):"";i.setRegistryAuthenticationHeader(o);var l=n.createImageConfigForContainer(a);return s?function(n){var r=e.defer();return t.create({},n).$promise.catch((()=>{})).finally((function(){r.resolve()})),r.promise}(l):function(n){var r=e.defer();return t.create({},n).$promise.then((function(e){if(e.length>0&&e[e.length-1].message){var t=e[e.length-1];r.reject({msg:t.message})}else r.resolve(e)})).catch((function(e){r.reject({msg:"Unable to pull image",err:e})})),r.promise}(l)},tagImage:function(e,n){return t.tag({id:e,repo:n}).$promise},downloadImages:function(e){var r=n.getImagesNamesForDownload(e);return t.download(r).$promise},uploadImage:function(e){return c.loadImages(e)},deleteImage:function(n,r){var a=e.defer();return t.remove({id:n,force:r}).$promise.then((function(e){e[0].message?a.reject({msg:e[0].message}):a.resolve()})).catch((function(e){a.reject({msg:"Unable to remove image",err:e})})),a.promise},getUniqueTagListFromImages:function(e){return p()(d()(e,(function(e){return l()(e.RepoTags,(function(e){return-1!==e.indexOf("<none>")})),e.RepoTags?s()(e.RepoTags,a()):[]})))}};return u}])},23116:function(e,t,n){"use strict";n.r(t);var r=n(70983);angular.module("portainer.docker").factory("NetworkService",["$q","Network",function(e,t){return{create:function(n){var r=e.defer();return t.create(n).$promise.then((function(e){r.resolve(e)})).catch((function(e){r.reject({msg:"Unable to create network",err:e})})),r.promise},network:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new r.NetworkViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve network details",err:e})})),a.promise},networks:function(n,a,i,s){var o=e.defer();return t.query({filters:s}).$promise.then((function(e){var t=e.filter((function(e){return n&&"local"===e.Scope||a&&"swarm"===e.Scope||i&&"swarm"===e.Scope&&!0===e.Attachable?e:void 0})).map((function(e){return new r.NetworkViewModel(e)}));o.resolve(t)})).catch((function(e){o.reject({msg:"Unable to retrieve networks",err:e})})),o.promise},remove:function(e){return t.remove({id:e}).$promise},disconnectContainer:function(e,n,r){return t.disconnect({id:e},{Container:n,Force:r}).$promise},connectContainer:function(e,n,r){var a={Container:n};return r&&(a.EndpointConfig={Aliases:r}),t.connect({id:e},a).$promise}}}])},39272:function(e,t,n){"use strict";n.r(t);var r=n(11339);angular.module("portainer.docker").factory("NodeService",["$q","Node",function(e,t){var n={nodes:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new r.NodeViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve nodes",err:e})})),n.promise},node:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new r.NodeViewModel(e);return a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve node",err:e})})),a.promise},updateNode:function(e){return t.update({id:e.Id,version:e.Version},e).$promise},getActiveManager:function(){var t=e.defer();return n.nodes().then((function(e){for(var n=0;n<e.length;++n){var r=e[n];if("manager"===r.Role&&"active"===r.Availability&&"ready"===r.Status&&"0.0.0.0"!==r.Addr){t.resolve(r);break}}})).catch((function(e){t.reject({msg:"Unable to retrieve nodes",err:e})})),t.promise}};return n}])},52589:function(e,t,n){"use strict";n.r(t);var r=n(44716),a=n.n(r),i=n(34161);angular.module("portainer.docker").factory("PluginService",["$q","Plugin","SystemService",function(e,t,n){var r={};function s(t,i,s){var o=e.defer();return e.all({system:n.plugins(),plugins:t?[]:r.plugins()}).then((function(e){var t=[],n=e.system,r=e.plugins;n[i]&&(t=t.concat(n[i]));for(var l=0;l<r.length;l++){var c=r[l];c.Enabled&&a()(c.Config.Interface.Types,s)&&t.push(c.Name)}o.resolve(t)})).catch((function(e){o.reject({msg:e.msg,err:e})})),o.promise}return r.plugins=function(){var n=e.defer(),r=[];return t.query({}).$promise.then((function(e){for(var t=0;t<e.length;t++){var n=new i.PluginViewModel(e[t]);r.push(n)}})).finally((function(){n.resolve(r)})),n.promise},r.volumePlugins=function(e){return s(e,"Volume","docker.volumedriver/1.0")},r.networkPlugins=function(e){return s(e,"Network","docker.networkdriver/1.0")},r.loggingPlugins=function(e){return s(e,"Log","docker.logdriver/1.0")},r}])},50225:function(e,t,n){"use strict";n.r(t);var r=n(89638);angular.module("portainer.docker").factory("SecretService",["$q","Secret",function(e,t){return{secret:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new r.SecretViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve secret details",err:e})})),a.promise},secrets:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new r.SecretViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve secrets",err:e})})),n.promise},remove:function(n){var r=e.defer();return t.remove({id:n}).$promise.then((function(e){e.message?r.reject({msg:e.message}):r.resolve()})).catch((function(e){r.reject({msg:"Unable to remove secret",err:e})})),r.promise},create:function(e){return t.create(e).$promise}}}])},52550:function(e,t,n){"use strict";n.r(t);var r=n(89115),a=n(7456);angular.module("portainer.docker").factory("ServiceService",["$q","Service",function(e,t){var n={services:function(n){var r=e.defer();return t.query({filters:n||{}}).$promise.then((function(e){var t=e.map((function(e){return new a.ServiceViewModel(e)}));r.resolve(t)})).catch((function(e){r.reject({msg:"Unable to retrieve services",err:e})})),r.promise},service:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.ServiceViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:"Unable to retrieve service details",err:e})})),r.promise},remove:function(n){var r=e.defer();return t.remove({id:n.Id}).$promise.then((function(e){e.message?r.reject({msg:e.message,err:e.message}):r.resolve()})).catch((function(e){r.reject({msg:"Unable to remove service",err:e})})),r.promise},update:function(e,r,a){return n.service(e.Id).then((n=>{const i={id:e.Id,version:n.Version};return a&&(i.rollback=a),t.update(i,r).$promise}))},logs:function(n,a,i,s,o,l){var c=e.defer(),d={id:n,stdout:a||0,stderr:i||0,timestamps:s||0,since:o||0,tail:l||"all"};return t.logs(d).$promise.then((function(e){var t=(0,r.q)(e.logs,{stripHeaders:!0,withTimestamps:!!s});c.resolve(t)})).catch((function(e){c.reject(e)})),c.promise}};return n}])},15268:function(e,t,n){"use strict";n.r(t);var r=n(90906);angular.module("portainer.docker").factory("SwarmService",["$q","Swarm",function(e,t){return{swarm:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new r.SwarmViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve Swarm details",err:e})})),n.promise}}}])},39983:function(e,t,n){"use strict";n.r(t);var r=n(44333);angular.module("portainer.docker").factory("SystemService",["$q","System","SystemEndpoint",function(e,t,n){return{plugins:function(){var n=e.defer();return t.info({}).$promise.then((function(e){var t=e.Plugins;n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve plugins information from system",err:e})})),n.promise},info:function(){return t.info({}).$promise},ping:function(e){return n.ping({endpointId:e}).$promise},version:function(){return t.version({}).$promise},events:function(n,a){var i=e.defer();return t.events({since:n,until:a}).$promise.then((function(e){var t=e.map((function(e){return new r.EventViewModel(e)}));i.resolve(t)})).catch((function(e){i.reject({msg:"Unable to retrieve engine events",err:e})})),i.promise},dataUsage:function(){return t.dataUsage().$promise}}}])},98585:function(e,t,n){"use strict";n.r(t);var r=n(89115),a=n(59146);angular.module("portainer.docker").factory("TaskService",["$q","Task",function(e,t){return{task:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.TaskViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:"Unable to retrieve task details",err:e})})),r.promise},tasks:function(n){var r=e.defer();return t.query({filters:n||{}}).$promise.then((function(e){var t=e.map((function(e){return new a.TaskViewModel(e)}));r.resolve(t)})).catch((function(e){r.reject({msg:"Unable to retrieve tasks",err:e})})),r.promise},logs:function(n,a,i,s,o,l){var c=e.defer(),d={id:n,stdout:a||0,stderr:i||0,timestamps:s||0,since:o||0,tail:l||"all"};return t.logs(d).$promise.then((function(e){var t=(0,r.q)(e.logs,{stripHeaders:!0,withTimestamps:!!s});c.resolve(t)})).catch((function(e){c.reject(e)})),c.promise}}}])},31746:function(e,t,n){"use strict";n.r(t);var r=n(80682);angular.module("portainer.docker").factory("VolumeService",["$q","Volume","VolumeHelper",function(e,t,n){var a={volumes:function(n){var a=e.defer();return t.query(n).$promise.then((function(e){var t=e.Volumes||[];t=t.map((function(e){return new r.VolumeViewModel(e)})),a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve volumes",err:e})})),a.promise},volume:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new r.VolumeViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve volume details",err:e})})),a.promise},getVolumes:function(){return t.query({}).$promise},remove:function(n){var r=e.defer();return t.remove({id:n.Id}).$promise.then((function(e){e.message?r.reject({msg:e.message,err:e.message}):r.resolve()})).catch((function(e){r.reject({msg:"Unable to remove volume",err:e})})),r.promise},createVolumeConfiguration:function(e,t,r){return{Name:e,Driver:t,DriverOpts:n.createDriverOptions(r)}},createVolume:function(n){var a=e.defer();return t.create(n).$promise.then((function(e){if(e.message)a.reject({msg:e.message});else{var t=new r.VolumeViewModel(e);a.resolve(t)}})).catch((function(e){a.reject({msg:"Unable to create volume",err:e})})),a.promise},createVolumes:function(t){var n=t.map((function(e){return a.createVolume(e)}));return e.all(n)},createXAutoGeneratedLocalVolumes:function(t){for(var n=[],r=0;r<t;r++)n.push(a.createVolume({Driver:"local"}));return e.all(n)}};return a}])},42177:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);class i{constructor(e,t,n,r){this.$state=e,this.ConfigService=t,this.Notifications=n,this.$async=r,this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.getConfigs=this.getConfigs.bind(this),this.getConfigsAsync=this.getConfigsAsync.bind(this)}getConfigs(){return this.$async(this.getConfigsAsync)}async getConfigsAsync(){try{this.configs=await this.ConfigService.configs()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configs")}}async $onInit(){this.configs=[],this.getConfigs()}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.ConfigService.remove(n.Id),this.Notifications.success("Config successfully removed",n.Name);const e=this.configs.indexOf(n);this.configs.splice(e,1)}catch(e){this.Notifications.error("Failure",e,"Unable to remove config")}finally{--t,0===t&&this.$state.reload()}}}i.$inject=["$state","ConfigService","Notifications","$async"],t.default=i,a().module("portainer.docker").controller("ConfigsController",i)},96068:function(e,t,n){"use strict";n.r(t);var r=n(68260),a=n.n(r),i=n(29274),s=n.n(i),o=n(19898);class l{constructor(e,t,n,r,a,i,s,l,c,d){this.$state=t,this.$transition$=n,this.$window=r,this.ModalService=a,this.Notifications=i,this.ConfigService=s,this.Authentication=l,this.FormValidator=c,this.ResourceControlService=d,this.$async=e,this.formValues={Name:"",Labels:[],AccessControlData:new o.AccessControlFormData,ConfigContent:""},this.state={formValidationError:"",isEditorDirty:!1},this.editorUpdate=this.editorUpdate.bind(this),this.createAsync=this.createAsync.bind(this)}async $onInit(){if(this.$window.onbeforeunload=()=>{if(this.formValues.displayCodeEditor&&this.formValues.ConfigContent&&this.state.isEditorDirty)return""},this.$transition$.params().id)try{let e=await this.ConfigService.config(this.$transition$.params().id);this.formValues.Name=e.Name+"_copy",this.formValues.Data=e.Data;let t=a()(e.Labels);for(let n=0;n<t.length;n++){let r=t[n],a=e.Labels[r];this.formValues.Labels.push({name:r,value:a})}this.formValues.displayCodeEditor=!0}catch(e){this.formValues.displayCodeEditor=!0,this.Notifications.error("Failure",e,"Unable to clone config")}else this.formValues.displayCodeEditor=!0}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if(this.formValues.displayCodeEditor&&this.formValues.ConfigContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}addLabel(){this.formValues.Labels.push({name:"",value:""})}removeLabel(e){this.formValues.Labels.splice(e,1)}prepareLabelsConfig(e){let t={};this.formValues.Labels.forEach((function(e){e.name&&e.value&&(t[e.name]=e.value)})),e.Labels=t}prepareConfigData(e){let t=this.formValues.ConfigContent;e.Data=btoa(unescape(encodeURIComponent(t)))}prepareConfiguration(){let e={};return e.Name=this.formValues.Name,this.prepareConfigData(e),this.prepareLabelsConfig(e),e}validateForm(e,t){this.state.formValidationError="";let n="";return n=this.FormValidator.validateAccessControl(e,t),!n||(this.state.formValidationError=n,!1)}create(){return this.$async(this.createAsync)}async createAsync(){const e=this.formValues.AccessControlData,t=this.Authentication.getUserDetails(),n=this.Authentication.isAdmin();if(""===this.formValues.ConfigContent)return void(this.state.formValidationError="Config content must not be empty");if(!this.validateForm(e,n))return;const r=this.prepareConfiguration();try{const n=(await this.ConfigService.create(r)).Portainer.ResourceControl,a=t.ID;await this.ResourceControlService.applyResourceControl(a,e,n),this.Notifications.success("Success","Configuration successfully created"),this.state.isEditorDirty=!1,this.$state.go("docker.configs",{},{reload:!0})}catch(e){this.Notifications.error("Failure",e,"Unable to create config")}}editorUpdate(e){this.formValues.ConfigContent=e,this.state.isEditorDirty=!0}}l.$inject=["$async","$state","$transition$","$window","ModalService","Notifications","ConfigService","Authentication","FormValidator","ResourceControlService"],t.default=l,s().module("portainer.docker").controller("CreateConfigController",l)},63301:function(e,t,n){"use strict";n.r(t);var r=n(83471);angular.module("portainer.docker").controller("ConfigController",["$scope","$transition$","$state","ConfigService","Notifications",function(e,t,n,a,i){e.resourceType=r.O.Config,e.onUpdateResourceControlSuccess=function(){n.reload()},e.removeConfig=function(e){a.remove(e).then((function(){i.success("Success","Configuration successfully removed"),n.go("docker.configs",{})})).catch((function(e){i.error("Failure",e,"Unable to remove config")}))},a.config(t.params().id).then((function(t){e.config=t})).catch((function(e){i.error("Failure",e,"Unable to retrieve config details")}))}])},85196:function(e,t,n){"use strict";n.r(t);var r=n(96049),a=n(50433);angular.module("portainer.docker").controller("ContainerConsoleController",["$scope","$state","$transition$","ContainerService","ImageService","Notifications","ContainerHelper","ExecService","HttpRequestHelper","LocalStorage","CONSOLE_COMMANDS_LABEL_PREFIX","SidebarService",function(e,t,n,i,s,o,l,c,d,u,p,m){var g,h;let f=Object.freeze({disconnected:0,connecting:1,connected:2});function v(e,t){t=t||0,h.fit();var n=h.cols;h.resize(n,30),e(n+t,30+t,1)}function b(t,a){let i=v.bind(this,a);n.params().nodeName&&(t+="&nodeName="+n.params().nodeName),t=t.indexOf("https")>-1?t.replace("https://","wss://"):t.replace("http://","ws://"),(g=new WebSocket(t)).onopen=function(){e.state=f.connected,(h=new r.o).on("data",(function(e){g.send(e)}));var t=document.getElementById("terminal-container");h.open(t),h.focus(),h.setOption("cursorBlink",!0),window.onresize=function(){i(),e.$apply()},e.$watch(m.isSidebarOpen,(function(){setTimeout(i,400)})),g.onmessage=function(e){h.write(e.data)},g.onerror=function(t){e.disconnect(),e.$apply(),o.error("Failure",t,"Connection error")},g.onclose=function(){e.disconnect(),e.$apply()},i(1),e.$apply()}}e.loaded=!1,e.states=f,e.state=f.disconnected,e.formValues={},e.containerCommands=[],e.$on("$stateChangeStart",(function(){e.disconnect()})),e.connectAttach=function(){if(e.state>f.disconnected)return;e.state=f.connecting;let r=n.params().id;i.container(r).then((n=>{if(!n.State.Running)return o.error("Failure",n,"Container "+r+" is not running!"),void e.disconnect();const s={token:u.getJWT(),endpointId:t.params.endpointId,id:r};b((window.location.origin.startsWith("http")?`${window.location.origin}${(0,a.baseHref)()}`:(0,a.baseHref)())+"api/websocket/attach?"+Object.keys(s).map((e=>e+"="+s[e])).join("&"),i.resizeTTY.bind(this,r))})).catch((function(t){o.error("Error",t,"Unable to retrieve container details"),e.disconnect()}))},e.connectExec=function(){if(!(e.state>f.disconnected)){e.state=f.connecting;var r=e.formValues.isCustomCommand?e.formValues.customCommand:e.formValues.command,s={id:n.params().id,AttachStdin:!0,AttachStdout:!0,AttachStderr:!0,Tty:!0,User:e.formValues.user,Cmd:l.commandStringToArray(r)};i.createExec(s).then((function(e){const n={token:u.getJWT(),endpointId:t.params.endpointId,id:e.Id};b((window.location.origin.startsWith("http")?`${window.location.origin}${(0,a.baseHref)()}`:(0,a.baseHref)())+"api/websocket/exec?"+Object.keys(n).map((e=>e+"="+n[e])).join("&"),c.resizeTTY.bind(this,n.id))})).catch((function(t){o.error("Failure",t,"Unable to exec into container"),e.disconnect()}))}},e.disconnect=function(){g&&g.close(),e.state>f.disconnected&&(e.state=f.disconnected,h&&(h.write("\n\r(connection closed)"),h.dispose()))},e.autoconnectAttachView=function(){return e.initView().then((function(){e.container.State.Running&&e.connectAttach()}))},e.initView=function(){return d.setPortainerAgentTargetHeader(n.params().nodeName),i.container(n.params().id).then((function(t){var n=t;return e.container=n,s.image(n.Image)})).then((function(t){var n=t,r=e.container.Config.Labels;e.imageOS=n.Os,e.formValues.command="windows"===n.Os?"powershell":"bash",e.containerCommands=Object.keys(r).filter((function(e){return 0===e.indexOf(p)})).map((function(e){return{title:e.replace(p,""),command:r[e]}})),e.loaded=!0})).catch((function(e){o.error("Error",e,"Unable to retrieve container details")}))},e.handleIsCustomCommandChange=function(t){e.$evalAsync((()=>{e.formValues.isCustomCommand=t}))}}])},51079:function(e,t,n){"use strict";n.r(t);var r=n(98484),a=n.n(r),i=n(39576),s=n.n(i),o=n(75569),l=n.n(o),c=n(51235),d=n.n(c),u=n(66539),p=n.n(u),m=n(13507),g=n.n(m),h=n(83432),f=n.n(h),v=n(6632),b=n.n(v),y=n(4622),w=n.n(y),x=n(41952),S=n.n(x),C=n(76939),k=n(93994),A=n(26196),P=n(66328),I=n(19898),$=n(12064);angular.module("portainer.docker").controller("CreateContainerController",["$q","$scope","$async","$state","$timeout","$transition$","$filter","Container","ContainerHelper","Image","ImageHelper","Volume","NetworkService","ResourceControlService","Authentication","Notifications","ContainerService","ImageService","FormValidator","ModalService","RegistryService","SystemService","PluginService","HttpRequestHelper","endpoint",function(e,t,n,r,i,o,c,u,m,h,v,y,x,N,T,E,j,D,O,R,M,L,U,V,F){function _(e){if(t.formValues.ShmSize>=0){var n=(Math.round(8*t.formValues.ShmSize)/8).toFixed(3);n*=1048576,e.HostConfig.ShmSize=n}if(t.formValues.MemoryLimit>=0){var r=(Math.round(8*t.formValues.MemoryLimit)/8).toFixed(3);r*=1048576,e.HostConfig.Memory=r}if(t.formValues.MemoryReservation>=0){var a=(Math.round(8*t.formValues.MemoryReservation)/8).toFixed(3);a*=1048576,e.HostConfig.MemoryReservation=a}t.formValues.CpuLimit>=0&&(e.HostConfig.NanoCpus=1e9*t.formValues.CpuLimit)}function K(){var i=null;return V.setPortainerAgentTargetHeader(t.formValues.NodeName),o().then((function(e){return i=e,e})).then((function(t){return t?(n=e.defer(),R.confirmDestructive({title:"Are you sure ?",message:"A container with the same name already exists. Portainer can automatically remove it and re-create one. Do you want to replace it?",buttons:{confirm:{label:"Replace",className:"btn-danger"}},callback:function(e){n.resolve(e)}}),n.promise):e.when(!0);var n})).then((function(n){return n?(r=t.formValues.AccessControlData,a=t.isAdmin,t.state.formValidationError="",(i=O.validateAccessControl(r,a))&&(t.state.formValidationError=i,1)?e.when():(t.state.actionInProgress=!0,e.when(t.formValues.alwaysPull&&D.pullImage(t.formValues.RegistryModel,!0)).then(C).then(P).then(I).then($).then(M).then(L).catch(h))):e.when();var r,a,i})).catch((function(e){E.error("Failure",e,"Unable to create container")})).finally((function(){t.state.actionInProgress=!1}));function o(){return u.query({all:1,filters:{name:["^/"+t.config.name+"$"]}}).$promise.then((function(e){if(e.length)return e[0]})).catch((function(e){E.error("Failure",e,"Unable to retrieve containers")}))}function h(t){var n=e.defer();return o().then((function(e){if(e&&(!i||e.Id!==i.Id))return j.remove(e,!0)})).then(y).then((function(){n.reject(t)})).catch((function(e){n.reject(e)})),n.promise}function y(){if(i)return j.renameContainer(i.Id,i.Names[0].substring(1))}function C(){return i?function(t){return"running"!==t.State?e.when():j.stopContainer(t.Id)}(i).then(A):e.when()}function A(){return j.renameContainer(i.Id,i.Names[0].substring(1)+"-old")}function P(){return n((async()=>{const e=function(){var e=angular.copy(t.config);return function(e){w()(e.Cmd)||"default"==t.formValues.CmdMode?delete e.Cmd:e.Cmd=m.commandStringToArray(e.Cmd)}(e),function(e){("default"==t.formValues.EntrypointMode||w()(e.Cmd)&&w()(e.Entrypoint))&&(e.Entrypoint=null)}(e),function(e){var n=e.HostConfig.NetworkMode,r=t.formValues.NetworkContainer,a=r;r&&"object"==typeof r&&(a=c("trimcontainername")(r.Names[0]));var i=n;if(a&&(i+=":"+a,e.Hostname=""),e.HostConfig.NetworkMode=i,e.MacAddress=t.formValues.MacAddress,e.NetworkingConfig.EndpointsConfig[i]={IPAMConfig:{IPv4Address:t.formValues.IPv4,IPv6Address:t.formValues.IPv6}},i&&b()(t.config.NetworkingConfig.EndpointsConfig[i],"Aliases")){var s=t.config.NetworkingConfig.EndpointsConfig[i].Aliases;e.NetworkingConfig.EndpointsConfig[i].Aliases=f()(s,(e=>!g()(t.fromContainer.Id,e)))}var o=[];t.formValues.DnsPrimary&&o.push(t.formValues.DnsPrimary),t.formValues.DnsSecondary&&o.push(t.formValues.DnsSecondary),e.HostConfig.Dns=o,e.HostConfig.ExtraHosts=p()(f()(t.formValues.ExtraHosts,(e=>e.value)),"value")}(e),function(e){const n=v.createImageConfigForContainer(t.formValues.RegistryModel);e.Image=n.fromImage}(e),function(e){const t=m.preparePortBindings(e.HostConfig.PortBindings);e.ExposedPorts={},S()(t,((t,n)=>e.ExposedPorts[n]={})),e.HostConfig.PortBindings=t}(e),function(e){var n=t.formValues.Console,r=!0,a=!0;"tty"===n?r=!1:"interactive"===n?a=!1:"none"===n&&(r=!1,a=!1),e.OpenStdin=r,e.Tty=a}(e),function(e){e.Env=k.convertToArrayOfStrings(t.formValues.Env)}(e),function(e){var n=[],r={};t.formValues.Volumes.forEach((function(e){var t=e.name,a=e.containerPath;if(t&&a){var i=t+":"+a;r[a]={},e.readOnly&&(i+=":ro"),n.push(i)}})),e.HostConfig.Binds=n,e.Volumes=r}(e),function(e){var n={};t.formValues.Labels.forEach((function(e){e.name&&(e.value?n[e.name]=e.value:n[e.name]="")})),e.Labels=n}(e),function(e){var t=[];e.HostConfig.Devices.forEach((function(e){e.pathOnHost&&(""===e.pathInContainer&&(e.pathInContainer=e.pathOnHost),t.push({PathOnHost:e.pathOnHost,PathInContainer:e.pathInContainer,CgroupPermissions:"rwm"}))})),e.HostConfig.Devices=t}(e),_(e),function(e){var n={};t.formValues.LogDriverName&&(e.HostConfig.LogConfig={Type:t.formValues.LogDriverName},"none"!==t.formValues.LogDriverName&&(t.formValues.LogDriverOpts.forEach((function(e){e.name&&(n[e.name]=e.value)})),0!==Object.keys(n).length&&n.constructor===Object&&(e.HostConfig.LogConfig.Config=n)))}(e),function(e){var n=t.formValues.capabilities.filter((function(e){return!0===e.allowed})),r=t.formValues.capabilities.filter((function(e){return!1===e.allowed})),a=function(e){return e.capability};e.HostConfig.CapAdd=n.map(a),e.HostConfig.CapDrop=r.map(a)}(e),function(e){var n={};t.formValues.Sysctls.forEach((function(e){e.name&&e.value&&(n[e.name]=e.value)})),e.HostConfig.Sysctls=n}(e),function(e){const n="nvidia",r=t.formValues.GPU,a=d()(t.config.HostConfig.DeviceRequests,{Driver:n});if(a&&l()(e.HostConfig.DeviceRequests,[a],"Driver"),!r.enabled)return;const i={Driver:n,Count:-1,DeviceIDs:[],Capabilities:[]};r.useSpecific&&(i.DeviceIDs=r.selectedGPUs,i.Count=0),i.Capabilities=[r.capabilities],e.HostConfig.DeviceRequests.push(i)}(e),e}();return await j.createAndStartContainer(e)}))}function I(e){const n=T.getUserDetails().ID,r=e.Portainer.ResourceControl,a=e.Id,i=t.formValues.AccessControlData;return N.applyResourceControl(n,i,r).then((function(){return a}))}function $(n){if(!t.extraNetworks)return e.when();var r=a()(t.extraNetworks,(function(e,r){if(s()(e,"Aliases"))var a=f()(e.Aliases,(e=>!g()(t.fromContainer.Id,e)));return x.connectContainer(r,n,a)}));return e.all(r)}function M(){var t=e.defer();if(i)return j.remove(i,!0).then((function(){E.success("Container Removed",i.Id),t.resolve()})).catch((function(e){t.reject({msg:"Unable to remove container",err:e})})),t.promise;t.resolve()}function L(){E.success("Success","Container successfully created"),r.go("docker.containers",{},{reload:!0})}}t.create=K,t.update=async function(){t.state.actionInProgress=!0;var e=angular.copy(t.config);_(e),await async function(e){try{t.state.settingUnlimitedResources?K():(await j.updateLimits(o.params().from,e),t.config=e,E.success("Success","Limits updated"))}catch(e){E.error("Failure",e,"Update Limits fail")}}(e),t.state.actionInProgress=!1},t.endpoint=F,t.containerWebhookFeature=A.tE.CONTAINER_WEBHOOK,t.formValues={alwaysPull:!0,GPU:{enabled:!1,useSpecific:!1,selectedGPUs:["all"],capabilities:["compute","utility"]},Console:"none",Volumes:[],NetworkContainer:null,Labels:[],ExtraHosts:[],MacAddress:"",IPv4:"",IPv6:"",DnsPrimary:"",DnsSecondary:"",AccessControlData:new I.AccessControlFormData,CpuLimit:0,MemoryLimit:0,MemoryReservation:0,ShmSize:64,CmdMode:"default",EntrypointMode:"default",Env:[],NodeName:null,capabilities:[],Sysctls:[],LogDriverName:"",LogDriverOpts:[],RegistryModel:new C.PorImageRegistryModel},t.extraNetworks={},t.state={formValidationError:"",actionInProgress:!1,mode:"",pullImageValidity:!0,settingUnlimitedResources:!1},t.onAlwaysPullChange=function(e){return t.$evalAsync((()=>{t.formValues.alwaysPull=e}))},t.handlePublishAllPortsChange=function(e){return t.$evalAsync((()=>{t.config.HostConfig.PublishAllPorts=e}))},t.handleAutoRemoveChange=function(e){return t.$evalAsync((()=>{t.config.HostConfig.AutoRemove=e}))},t.handlePrivilegedChange=function(e){return t.$evalAsync((()=>{t.config.HostConfig.Privileged=e}))},t.handleInitChange=function(e){return t.$evalAsync((()=>{t.config.HostConfig.Init=e}))},t.handleEnvVarChange=function(e){t.formValues.Env=e},t.refreshSlider=function(){i((function(){t.$broadcast("rzSliderForceRender")}))},t.onImageNameChange=function(){t.formValues.CmdMode="default",t.formValues.EntrypointMode="default"},t.setPullImageValidity=function(e){e||(t.formValues.alwaysPull=!1),t.state.pullImageValidity=e},t.config={Image:"",Env:[],Cmd:"",MacAddress:"",ExposedPorts:{},Entrypoint:"",HostConfig:{RestartPolicy:{Name:"no"},PortBindings:[],PublishAllPorts:!1,Binds:[],AutoRemove:!1,NetworkMode:"bridge",Privileged:!1,Init:!1,Runtime:null,ExtraHosts:[],Devices:[],DeviceRequests:[],CapAdd:[],CapDrop:[],Sysctls:{}},NetworkingConfig:{EndpointsConfig:{}},Labels:{}},t.addVolume=function(){t.formValues.Volumes.push({name:"",containerPath:"",readOnly:!1,type:"volume"})},t.removeVolume=function(e){t.formValues.Volumes.splice(e,1)},t.addPortBinding=function(){t.config.HostConfig.PortBindings.push({hostPort:"",containerPort:"",protocol:"tcp"})},t.removePortBinding=function(e){t.config.HostConfig.PortBindings.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({name:"",value:""})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addExtraHost=function(){t.formValues.ExtraHosts.push({value:""})},t.removeExtraHost=function(e){t.formValues.ExtraHosts.splice(e,1)},t.addDevice=function(){t.config.HostConfig.Devices.push({pathOnHost:"",pathInContainer:""})},t.removeDevice=function(e){t.config.HostConfig.Devices.splice(e,1)},t.onGpuChange=function(e){return n((async()=>{t.formValues.GPU=e}))},t.addSysctl=function(){t.formValues.Sysctls.push({name:"",value:""})},t.removeSysctl=function(e){t.formValues.Sysctls.splice(e,1)},t.addLogDriverOpt=function(){t.formValues.LogDriverOpts.push({name:"",value:""})},t.removeLogDriverOpt=function(e){t.formValues.LogDriverOpts.splice(e,1)},t.fromContainerMultipleNetworks=!1,t.resetNetworkConfig=function(){t.config.NetworkingConfig={EndpointsConfig:{}}},t.handleResourceChange=function(){t.state.settingUnlimitedResources=!1,(t.config.HostConfig.Memory>0&&0===t.formValues.MemoryLimit||t.config.HostConfig.MemoryReservation>0&&0===t.formValues.MemoryReservation||t.config.HostConfig.NanoCpus>0&&0===t.formValues.CpuLimit)&&(t.state.settingUnlimitedResources=!0)},async function(){var e=o.params().nodeName;t.formValues.NodeName=e,V.setPortainerAgentTargetHeader(e),t.isAdmin=T.isAdmin(),t.showDeviceMapping=await async function(){return F.SecuritySettings.allowDeviceMappingForRegularUsers||T.isAdmin()}(),t.showSysctls=await async function(){return F.SecuritySettings.allowSysctlSettingForRegularUsers||T.isAdmin()}(),t.areContainerCapabilitiesEnabled=await async function(){return F.SecuritySettings.allowContainerCapabilitiesForRegularUsers||T.isAdmin()}(),t.isAdminOrEndpointAdmin=T.isAdmin(),y.query({},(function(e){t.availableVolumes=e.Volumes.sort(((e,t)=>e.Name.localeCompare(t.Name)))}),(function(e){E.error("Failure",e,"Unable to retrieve volumes")}));var n=t.applicationState.endpoint.mode.provider,r=t.applicationState.endpoint.apiVersion;x.networks("DOCKER_STANDALONE"===n||"DOCKER_SWARM_MODE"===n,!1,"DOCKER_SWARM_MODE"===n&&r>=1.25).then((function(e){e.push({Name:"container"}),t.availableNetworks=e.sort(((e,t)=>e.Name.localeCompare(t.Name))),d()(e,{Name:"nat"})&&(t.config.HostConfig.NetworkMode="nat")})).catch((function(e){E.error("Failure",e,"Unable to retrieve networks")})),u.query({},(function(e){var n=e;t.runningContainers=n,t.gpuUseAll=b()(t,"endpoint.Snapshots[0].GpuUseAll",!1),t.gpuUseList=b()(t,"endpoint.Snapshots[0].GpuUseList",[]),o.params().from?u.get({id:o.params().from}).$promise.then((function(e){var n,r=new $.ContainerDetailsViewModel(e);r.ResourceControl&&r.ResourceControl.Public&&(t.formValues.AccessControlData.AccessControlEnabled=!1),t.fromContainer=r,t.state.mode="duplicate",t.config=m.configFromContainer(r.Model),t.config.Cmd&&(t.config.Cmd=m.commandArrayToString(t.config.Cmd),t.formValues.CmdMode="override"),s()(t.config,"Entrypoint")&&(null==t.config.Entrypoint&&(t.config.Entrypoint=""),t.formValues.EntrypointMode="override"),n=e.HostConfig.LogConfig,t.formValues.LogDriverName=n.Type,t.formValues.LogDriverOpts=p()(n.Config,(function(e,t){return{name:t,value:e}})),function(){const e=m.sortAndCombinePorts(t.config.HostConfig.PortBindings);t.config.HostConfig.PortBindings=e}(),function(e){for(var n in e.Mounts)if({}.hasOwnProperty.call(e.Mounts,n)){var r=e.Mounts[n],a={type:r.Type,name:r.Name||r.Source,containerPath:r.Destination,readOnly:!1===r.RW};t.formValues.Volumes.push(a)}}(e),function(e){if(t.config.NetworkingConfig={EndpointsConfig:{}},"default"===e.HostConfig.NetworkMode&&(t.config.HostConfig.NetworkMode="bridge",d()(t.availableNetworks,{Name:"bridge"})||(t.config.HostConfig.NetworkMode="nat")),0===t.config.HostConfig.NetworkMode.indexOf("container:")){var n=t.config.HostConfig.NetworkMode.split(/^container:/)[1];for(var r in t.config.HostConfig.NetworkMode="container",t.runningContainers)t.runningContainers[r].Id==n&&(t.formValues.NetworkContainer=t.runningContainers[r])}if(t.fromContainerMultipleNetworks=Object.keys(e.NetworkSettings.Networks).length>=2,e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode]&&e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig&&(e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv4Address&&(t.formValues.IPv4=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv4Address),e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv6Address&&(t.formValues.IPv6=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv6Address)),t.config.NetworkingConfig.EndpointsConfig[t.config.HostConfig.NetworkMode]=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode],Object.keys(e.NetworkSettings.Networks).length>1){var a=e.NetworkSettings.Networks[Object.keys(e.NetworkSettings.Networks)[0]];t.config.NetworkingConfig.EndpointsConfig[t.config.HostConfig.NetworkMode]=a,t.extraNetworks=angular.copy(e.NetworkSettings.Networks),delete t.extraNetworks[Object.keys(e.NetworkSettings.Networks)[0]]}if(t.formValues.MacAddress=e.Config.MacAddress,e.HostConfig.Dns&&e.HostConfig.Dns[0]&&(t.formValues.DnsPrimary=e.HostConfig.Dns[0],e.HostConfig.Dns[1]&&(t.formValues.DnsSecondary=e.HostConfig.Dns[1])),t.config.HostConfig.ExtraHosts){for(var i=t.config.HostConfig.ExtraHosts,s=0;s<i.length;s++){var o=i[s];t.formValues.ExtraHosts.push({value:o})}t.config.HostConfig.ExtraHosts=[]}}(e),t.formValues.Env=k.parseArrayOfStrings(t.config.Env),function(){for(var e in t.config.Labels)({}).hasOwnProperty.call(t.config.Labels,e)&&t.formValues.Labels.push({name:e,value:t.config.Labels[e]})}(),t.config.OpenStdin&&t.config.Tty?t.formValues.Console="both":!t.config.OpenStdin&&t.config.Tty?t.formValues.Console="tty":t.config.OpenStdin&&!t.config.Tty?t.formValues.Console="interactive":t.config.OpenStdin||t.config.Tty||(t.formValues.Console="none"),function(){var e=[];for(var n in t.config.HostConfig.Devices)if({}.hasOwnProperty.call(t.config.HostConfig.Devices,n)){var r=t.config.HostConfig.Devices[n];e.push({pathOnHost:r.PathOnHost,pathInContainer:r.PathInContainer})}t.config.HostConfig.Devices=e}(),function(){const e=d()(t.config.HostConfig.DeviceRequests,(function(e){return"nvidia"===e.Driver||"gpu"===e.Capabilities[0][0]}));e&&(t.formValues.GPU.enabled=!0,t.formValues.GPU.useSpecific=-1!==e.Count,t.formValues.GPU.selectedGPUs=e.DeviceIDs||[],t.formValues.GPU.useSpecific?t.formValues.GPU.selectedGPUs=e.DeviceIDs:t.formValues.GPU.selectedGPUs=["all"],t.formValues.GPU.capabilities=e.Capabilities[0],t.formValues.GPU={...t.formValues.GPU})}(),M.retrievePorRegistryModelFromRepository(t.config.Image,F.Id).then((e=>{t.formValues.RegistryModel=e})).catch((function(e){E.error("Failure",e,"Unable to retrieve registry")})),function(e){e.HostConfig.NanoCpus&&(t.formValues.CpuLimit=e.HostConfig.NanoCpus/1e9),e.HostConfig.Memory&&(t.formValues.MemoryLimit=e.HostConfig.Memory/1024/1024),e.HostConfig.MemoryReservation&&(t.formValues.MemoryReservation=e.HostConfig.MemoryReservation/1024/1024),e.HostConfig.ShmSize&&(t.formValues.ShmSize=e.HostConfig.ShmSize/1024/1024)}(e),function(e){function n(e){return e.capability===i.capability}e.HostConfig.CapAdd&&e.HostConfig.CapAdd.forEach((function(e){t.formValues.capabilities.push(new P.ContainerCapability(e,!0))})),e.HostConfig.CapDrop&&e.HostConfig.CapDrop.forEach((function(e){t.formValues.capabilities.push(new P.ContainerCapability(e,!1))}));for(var r=new P.ContainerCapabilities,a=0;a<r.length;a++){var i=r[a];d()(t.formValues.capabilities,n)||t.formValues.capabilities.push(i)}t.formValues.capabilities.sort((function(e,t){return e.capability<t.capability?-1:1}))}(e),function(){for(var e in t.config.HostConfig.Sysctls)({}).hasOwnProperty.call(t.config.HostConfig.Sysctls,e)&&t.formValues.Sysctls.push({name:e,value:t.config.HostConfig.Sysctls[e]})}()})).catch((function(e){E.error("Failure",e,"Unable to retrieve container")})):(t.fromContainer={},t.formValues.capabilities=t.areContainerCapabilitiesEnabled?new P.ContainerCapabilities:[])}),(function(e){E.error("Failure",e,"Unable to retrieve running containers")})),L.info().then((function(e){t.availableRuntimes=e.Runtimes?Object.keys(e.Runtimes):[],t.state.sliderMaxCpu=32,e.NCPU&&(t.state.sliderMaxCpu=e.NCPU),t.state.sliderMaxMemory=32768,e.MemTotal&&(t.state.sliderMaxMemory=Math.floor(e.MemTotal/1e3/1e3))})).catch((function(e){E.error("Failure",e,"Unable to retrieve engine details")})),t.allowBindMounts=t.isAdminOrEndpointAdmin||F.SecuritySettings.allowBindMountsForRegularUsers,t.allowPrivilegedMode=F.SecuritySettings.allowPrivilegedModeForRegularUsers,U.loggingPlugins(r<1.25).then((function(e){t.availableLoggingDrivers=e}))}()}])},94518:function(e,t,n){"use strict";n.r(t);var r=n(94946),a=n.n(r),i=n(40714),s=n.n(i),o=n(41952),l=n.n(o),c=n(89858),d=n.n(c),u=n(51235),p=n.n(u),m=n(4396),g=n.n(m),h=n(76939),f=n(77918),v=n(26196),b=n(83471);angular.module("portainer.docker").controller("ContainerController",["$q","$scope","$state","$transition$","$filter","$async","Commit","ContainerHelper","ContainerService","ImageHelper","NetworkService","Notifications","ModalService","ResourceControlService","RegistryService","ImageService","HttpRequestHelper","Authentication","endpoint",function(e,t,n,r,i,o,c,u,m,y,w,x,S,C,k,A,P,I,$){t.resourceType=b.O.Container,t.endpoint=$,t.isAdmin=I.isAdmin(),t.activityTime=0,t.portBindings=[],t.displayRecreateButton=!1,t.displayCreateWebhookButton=!1,t.containerWebhookFeature=v.tE.CONTAINER_WEBHOOK,t.config={RegistryModel:new h.PorImageRegistryModel,commitInProgress:!1},t.state={recreateContainerInProgress:!1,joinNetworkInProgress:!1,leaveNetworkInProgress:!1,pullImageValidity:!1},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.updateRestartPolicy=function(n,r){return r="on-failure"===n?r:void 0,m.updateRestartPolicy(t.container.Id,n,r).then((function(){t.container.HostConfig.RestartPolicy={Name:n,MaximumRetryCount:r},x.success("Success","Restart policy updated")})).catch((function(t){return x.error("Failure",t,"Unable to update restart policy"),e.reject(t)}))},t.onUpdateResourceControlSuccess=function(){n.reload()},t.computeDockerGPUCommand=()=>{const e=p()(t.container.HostConfig.DeviceRequests,(function(e){return"nvidia"===e.Driver||"gpu"===e.Capabilities[0][0]}));if(!e)return"No GPU config found";let n="all";return-1!==e.Count&&(n=`"device=${d()(e.DeviceIDs,",")}"`),`${n},"capabilities=${d()(e.Capabilities[0],",")}"`};var N=function(){var e=r.params().nodeName;P.setPortainerAgentTargetHeader(e),t.nodeName=e,m.container(r.params().id).then((function(e){var n=e;t.container=n,t.container.edit=!1,t.container.newContainerName=i("trimcontainername")(n.Name),n.State.Running?t.activityTime=g().duration(g()(n.State.StartedAt).utc().diff(g()().utc())).humanize():"created"===n.State.Status?t.activityTime=g().duration(g()(n.Created).utc().diff(g()().utc())).humanize():t.activityTime=g().duration(g()().utc().diff(g()(n.State.FinishedAt).utc())).humanize(),t.portBindings=[],n.NetworkSettings.Ports&&l()(Object.keys(n.NetworkSettings.Ports),(function(e){n.NetworkSettings.Ports[e]&&l()(n.NetworkSettings.Ports[e],(n=>{const r={};r.container=e,r.host=`${n.HostIp}:${n.HostPort}`,t.portBindings.push(r)}))})),t.container.Config.Env=s()(t.container.Config.Env,a());const r=t.container.Config.Labels["com.docker.swarm.service.id"],o=t.container.HostConfig.AutoRemove,c=I.isAdmin(),{allowContainerCapabilitiesForRegularUsers:d,allowHostNamespaceForRegularUsers:u,allowDeviceMappingForRegularUsers:p,allowSysctlSettingForRegularUsers:m,allowBindMountsForRegularUsers:h,allowPrivilegedModeForRegularUsers:f}=$.SecuritySettings,v=!(d&&h&&p&&m&&u&&f);t.displayRecreateButton=!r&&!o&&(c||!v),t.displayCreateWebhookButton=t.displayRecreateButton})).catch((function(e){x.error("Failure",e,"Unable to retrieve container info")}))};function T(e,t,n,r){t(e).then((function(){x.success(n,e),N()})).catch((function(e){x.error("Failure",e,r)}))}async function E(){t.config.commitInProgress=!0;const e=t.config.RegistryModel,a=y.createImageConfigForContainer(e);try{await c.commitContainer({id:r.params().id,repo:a.fromImage}).$promise,x.success("Image created",r.params().id),n.reload()}catch(e){x.error("Failure",e,"Unable to create image"),t.config.commitInProgress=!1}}t.start=function(){T(r.params().id,m.startContainer,"Container successfully started","Unable to start container")},t.stop=function(){T(r.params().id,m.stopContainer,"Container successfully stopped","Unable to stop container")},t.kill=function(){T(r.params().id,m.killContainer,"Container successfully killed","Unable to kill container")},t.pause=function(){T(r.params().id,m.pauseContainer,"Container successfully paused","Unable to pause container")},t.unpause=function(){T(r.params().id,m.resumeContainer,"Container successfully resumed","Unable to resume container")},t.restart=function(){T(r.params().id,m.restartContainer,"Container successfully restarted","Unable to restart container")},t.renameContainer=function(){var e=t.container;e.newContainerName!==i("trimcontainername")(e.Name)?m.renameContainer(r.params().id,e.newContainerName).then((function(){e.Name=e.newContainerName,x.success("Container successfully renamed",e.Name)})).catch((function(t){e.newContainerName=i("trimcontainername")(e.Name),x.error("Failure",t,"Unable to rename container")})).finally((function(){t.container.edit=!1,t.$apply()})):t.container.edit=!1},t.containerLeaveNetwork=function(e,r){t.state.leaveNetworkInProgress=!0,w.disconnectContainer(r,e.Id,!1).then((function(){x.success("Container left network",e.Id),n.reload()})).catch((function(e){x.error("Failure",e,"Unable to disconnect container from network")})).finally((function(){t.state.leaveNetworkInProgress=!1}))},t.containerJoinNetwork=function(e,r){t.state.joinNetworkInProgress=!0,w.connectContainer(r,e.Id).then((function(){x.success("Container joined network",e.Id),n.reload()})).catch((function(e){x.error("Failure",e,"Unable to connect container to network")})).finally((function(){t.state.joinNetworkInProgress=!1}))},t.commit=function(){return o(E)},t.confirmRemove=function(){var e="You are about to remove a container.";t.container.State.Running&&(e="You are about to remove a running container."),(0,f.A7)(e,(function(e){if(e){var r=!1;e[0]&&(r=!0),function(e){m.remove(t.container,e).then((function(){x.success("Success","Container successfully removed"),n.go("docker.containers",{},{reload:!0})})).catch((function(e){x.error("Failure",e,"Unable to remove container")}))}(r)}}))},t.recreate=function(){const r=!t.container.Config.Image||t.container.Config.Image.toLowerCase().startsWith("sha256");S.confirmContainerRecreation(r,(function(r){if(r){var a=!1;r[0]&&(a=!0),function(r){var a=t.container,i=u.configFromContainer(a.Model);t.state.recreateContainerInProgress=!0;var s=a.State.Running;(r?k.retrievePorRegistryModelFromRepository(a.Config.Image,$.Id).then((e=>A.pullImage(e,!1))):e.when()).then((function(){return s?m.stopContainer(a.Id):e.when()})).then((function(){return m.renameContainer(a.Id,a.Name+"-old")})).then((function(){var t=i.NetworkingConfig.EndpointsConfig,n=Object.keys(t);return n.length>1&&(i.NetworkingConfig.EndpointsConfig={},i.NetworkingConfig.EndpointsConfig[n[0]]=t[0]),e.all([m.createContainer(i),t])})).then((function(t){var n=t[0],r=t[1],a=Object.keys(r).map((function(e){w.connectContainer(e,n.Id)}));return e.all(a).then((function(){return n}))})).then((function(t){return s?m.startContainer(t.Id).then((function(){return t})):e.when(t)})).then((function(e){const t=I.getUserDetails().ID,n=a.ResourceControl,r=e.Portainer.ResourceControl;return C.duplicateResourceControl(t,n,r)})).then((function(e){return m.remove(a,!0).then((function(){return e}))})).then((function(){x.success("Success","Container successfully re-created"),n.go("docker.containers",{},{reload:!0})})).catch((function(e){x.error("Failure",e,"Unable to re-create container"),t.state.recreateContainerInProgress=!1}))}(a)}}))};var j=t.applicationState.endpoint.mode.provider,D=t.applicationState.endpoint.apiVersion;w.networks("DOCKER_STANDALONE"===j||"DOCKER_SWARM_MODE"===j,!1,"DOCKER_SWARM_MODE"===j&&D>=1.25).then((function(e){var n=e;t.availableNetworks=n})).catch((function(e){x.error("Failure",e,"Unable to retrieve networks")})),N()}])},62897:function(){angular.module("portainer.docker").controller("ContainerInspectController",["$scope","$transition$","Notifications","ContainerService","HttpRequestHelper",function(e,t,n,r,a){e.state={DisplayTextView:!1},e.containerInfo={},a.setPortainerAgentTargetHeader(t.params().nodeName),r.inspect(t.params().id).then((function(t){e.containerInfo=t})).catch((function(e){n.error("Failure",e,"Unable to inspect container")}))}])},47381:function(e,t,n){"use strict";n.r(t);var r=n(4396),a=n.n(r);angular.module("portainer.docker").controller("ContainerLogsController",["$scope","$transition$","$interval","ContainerService","Notifications","HttpRequestHelper",function(e,t,n,r,i,s){function o(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function l(s){var l=e.state.refreshRate;e.repeater=n((function(){r.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,a()(e.state.sinceTimestamp).unix(),e.state.lineCount,s).then((function(t){e.logs=t})).catch((function(e){o(),i.error("Failure",e,"Unable to retrieve container logs")}))}),1e3*l)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:"",displayTimestamps:!1},e.changeLogCollection=function(t){t?l(!e.container.Config.Tty):o()},e.$on("$destroy",(function(){o()})),s.setPortainerAgentTargetHeader(t.params().nodeName),r.container(t.params().id).then((function(n){var s,c=n;e.container=c,s=!c.Config.Tty,r.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,a()(e.state.sinceTimestamp).unix(),e.state.lineCount,s).then((function(t){e.logs=t,l(s)})).catch((function(e){o(),i.error("Failure",e,"Unable to retrieve container logs")}))})).catch((function(e){i.error("Failure",e,"Unable to retrieve container information")}))}])},19393:function(e,t,n){"use strict";n.r(t);var r=n(4396),a=n.n(r),i=n(52474);angular.module("portainer.docker").controller("ContainerStatsController",["$q","$scope","$transition$","$document","$interval","ContainerService","ChartService","Notifications","HttpRequestHelper",function(e,t,n,r,s,o,l,c,d){function u(){var e=t.repeater;angular.isDefined(e)&&(s.cancel(e),e=null)}function p(e,t){if(e.Networks.length>0){var n=e.Networks[0].rx_bytes,r=e.Networks[0].tx_bytes,i=a()(e.read).format("HH:mm:ss");l.UpdateNetworkChart(i,n,r,t)}}function m(e,t){var n=a()(e.read).format("HH:mm:ss");l.UpdateMemoryChart(n,e.MemoryUsage,e.MemoryCache,t)}function g(e,t){var n=a()(e.read).format("HH:mm:ss");!0!==e.noIOData&&l.UpdateIOChart(n,e.BytesRead,e.BytesWrite,t)}function h(e,t){var n=a()(e.read).format("HH:mm:ss"),r=e.isWindows?function(e){var t=e.NumProcs*parseFloat(a()(e.read,"YYYY-MM-DDTHH:mm:ss.SSSSSSSSSZ").valueOf()-a()(e.preread,"YYYY-MM-DDTHH:mm:ss.SSSSSSSSSZ").valueOf()),n=0;return t>0&&(n=parseFloat(e.CurrentCPUTotalUsage-e.PreviousCPUTotalUsage)/parseFloat(100*t)),n}(e):function(e){var t=0,n=e.CurrentCPUTotalUsage-e.PreviousCPUTotalUsage,r=e.CurrentCPUSystemUsage-e.PreviousCPUSystemUsage;return r>0&&n>0&&(t=n/r*e.CPUCores*100),t}(e);l.UpdateCPUChart(n,r,t)}function f(r,a,i,l){var d=t.state.refreshRate;t.repeater=s((function(){e.all({stats:o.containerStats(n.params().id),top:o.containerTop(n.params().id)}).then((function(e){var n=e.stats;t.processInfo=e.top,p(n,r),m(n,i),h(n,a),g(n,l)})).catch((function(e){u(),c.error("Failure",e,"Unable to retrieve container statistics")}))}),1e3*d)}t.state={refreshRate:"5",networkStatsUnavailable:!1,ioStatsUnavailable:!1},t.$on("$destroy",(function(){u()})),t.changeUpdateRepeater=function(){var e=t.networkChart,n=t.cpuChart,r=t.memoryChart,a=t.ioChart;u(),f(e,n,r,a),i("#refreshRateChange").show(),i("#refreshRateChange").fadeOut(1500)},d.setPortainerAgentTargetHeader(n.params().nodeName),o.container(n.params().id).then((function(e){t.container=e})).catch((function(e){c.error("Failure",e,"Unable to retrieve container information")})),r.ready((function(){!function(){var r=i("#networkChart"),a=l.CreateNetworkChart(r);t.networkChart=a;var s=i("#cpuChart"),d=l.CreateCPUChart(s);t.cpuChart=d;var v=i("#memoryChart"),b=l.CreateMemoryChart(v);t.memoryChart=b;var y=i("#ioChart"),w=l.CreateIOChart(y);t.ioChart=w,function(r,a,i,s){e.all({stats:o.containerStats(n.params().id),top:o.containerTop(n.params().id)}).then((function(e){var n=e.stats;t.processInfo=e.top,0===n.Networks.length&&(t.state.networkStatsUnavailable=!0),!0===n.noIOData&&(t.state.ioStatsUnavailable=!0),p(n,r),m(n,i),h(n,a),g(n,s),f(r,a,i,s)})).catch((function(e){u(),c.error("Failure",e,"Unable to retrieve container statistics")}))}(a,d,b,w)}()}))}])},89402:function(e,t,n){"use strict";n.r(t);var r=n(83432),a=n.n(r),i=n(6632),s=n.n(i),o=n(66539),l=n.n(o),c=n(89858),d=n.n(c),u=n(29274),p=n.n(u),m=n(70589),g=n(13494),h=(n(66549),n(65562),n(39532)),f=n(2792),v=n(2629);function b(e){var t=e.containers;return(0,v.jsxs)("div",{className:"pull-right",children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"vertical-center space-right pr-5",children:[(0,v.jsx)(f.J,{icon:"power",className:(0,h.Z)("icon icon-sm icon-success"),feather:!0}),y(t)," running"]}),(0,v.jsxs)("div",{className:"vertical-center space-right",children:[(0,v.jsx)(f.J,{icon:"power",className:(0,h.Z)("icon icon-sm icon-danger"),feather:!0}),w(t)," stopped"]})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"vertical-center space-right pr-5",children:[(0,v.jsx)(f.J,{icon:"heart",className:(0,h.Z)("icon icon-sm icon-success"),feather:!0}),x(t)," healthy"]}),(0,v.jsxs)("div",{className:"vertical-center space-right",children:[(0,v.jsx)(f.J,{icon:"heart",className:(0,h.Z)("icon icon-sm icon-danger"),feather:!0}),S(t)," unhealthy"]})]})]})}function y(e){return e.filter((function(e){return"running"===e.Status})).length}function w(e){return e.filter((function(e){return"exited"===e.Status})).length}function x(e){return e.filter((function(e){return"healthy"===e.Status})).length}function S(e){return e.filter((function(e){return"unhealthy"===e.Status})).length}var C=n(41066);function k(e){var t=e.imagesTotalSize;return(0,v.jsxs)("div",{className:"vertical-center",children:[(0,v.jsx)(f.J,{icon:"pie-chart",className:(0,h.Z)("space-right"),feather:!0}),(0,C.humanize)(t)]})}p().module("portainer.docker").controller("DashboardController",["$scope","$q","Authentication","ContainerService","ImageService","NetworkService","VolumeService","SystemService","ServiceService","StackService","Notifications","StateManager","TagService","endpoint",function(e,t,n,r,i,o,c,u,p,h,f,y,w,x){e.dismissInformationPanel=function(e){y.dismissInformationPanel(e)},e.offlineMode=!1,e.showStacks=!1,e.buildGpusStr=function(t){var n=new Object;for(let a=0;a<(e.endpoint.Gpus||[]).length;a++)if(!t.has(e.endpoint.Gpus[a].name)){var r=!1;for(let t in n)e.endpoint.Gpus[a].value==t&&(n[t]+=1,r=!0);!1===r&&(n[e.endpoint.Gpus[a].value]=1)}return Object.keys(n).length?d()(l()(Object.keys(n),(e=>{var t=n[e];return(t+=" x ")+e}))," + "):"none"},async function(){const y=e.applicationState.endpoint.mode;e.endpoint=x,e.showStacks=await async function(){return n.isAdmin()||x.SecuritySettings.allowStackManagementForRegularUsers}(),e.showEnvUrl=x.Type!==g.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&x.Type!==g.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment,t.all({containers:r.containers(1),images:i.images(!1),volumes:c.volumes(),networks:o.networks(!0,!0,!0),services:"DOCKER_SWARM_MODE"===y.provider&&"MANAGER"===y.role?p.services():[],stacks:h.stacks(!0,"DOCKER_SWARM_MODE"===y.provider&&"MANAGER"===y.role,x.Id),info:u.info(),tags:w.tags()}).then((function(t){var n,r;e.containers=t.containers,e.containerStatusComponent=(n=t.containers,(0,v.jsx)(b,{containers:n})),e.images=t.images,e.imagesTotalSizeComponent=(r=t.images.reduce(((e,t)=>e+t.VirtualSize),0),(0,v.jsx)(k,{imagesTotalSize:r})),e.volumeCount=t.volumes.length,e.networkCount=t.networks.length,e.serviceCount=t.services.length,e.stackCount=t.stacks.length,e.info=t.info,e.gpuInfoStr=e.buildGpusStr(new Set),e.gpuUseAll=s()(e,"endpoint.Snapshots[0].GpuUseAll",!1),e.gpuUseList=s()(e,"endpoint.Snapshots[0].GpuUseList",[]),e.gpuFreeStr="all",1==e.gpuUseAll?e.gpuFreeStr="none":e.gpuFreeStr=e.buildGpusStr(new Set(e.gpuUseList)),e.endpointTags=x.TagIds.length?d()(a()(l()(x.TagIds,(e=>{const n=t.tags.find((t=>t.Id===e));return n?n.Name:""})),Boolean),", "):"-",e.offlineMode=(0,m.isOfflineEndpoint)(x)})).catch((function(e){f.error("Failure",e,"Unable to load dashboard data")}))}()}])},25006:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(26196);class a{constructor(e,t,n,a,i){this.$async=e,this.$scope=t,this.EndpointService=n,this.Notifications=a,this.StateManager=i,this.limitedFeature=r.tE.HIDE_AUTO_UPDATE_WINDOW,this.formValues={enableHostManagementFeatures:!1,allowVolumeBrowserForRegularUsers:!1,disableBindMountsForRegularUsers:!1,disablePrivilegedModeForRegularUsers:!1,disableHostNamespaceForRegularUsers:!1,disableStackManagementForRegularUsers:!1,disableDeviceMappingForRegularUsers:!1,disableContainerCapabilitiesForRegularUsers:!1,disableSysctlSettingForRegularUsers:!1},this.isAgent=!1,this.state={actionInProgress:!1,autoUpdateSettings:{Enabled:!1},timeZone:""},this.save=this.save.bind(this),this.onChangeField=this.onChangeField.bind(this),this.onToggleAutoUpdate=this.onToggleAutoUpdate.bind(this),this.onChangeEnableHostManagementFeatures=this.onChangeField("enableHostManagementFeatures"),this.onChangeAllowVolumeBrowserForRegularUsers=this.onChangeField("allowVolumeBrowserForRegularUsers"),this.onChangeDisableBindMountsForRegularUsers=this.onChangeField("disableBindMountsForRegularUsers"),this.onChangeDisablePrivilegedModeForRegularUsers=this.onChangeField("disablePrivilegedModeForRegularUsers"),this.onChangeDisableHostNamespaceForRegularUsers=this.onChangeField("disableHostNamespaceForRegularUsers"),this.onChangeDisableStackManagementForRegularUsers=this.onChangeField("disableStackManagementForRegularUsers"),this.onChangeDisableDeviceMappingForRegularUsers=this.onChangeField("disableDeviceMappingForRegularUsers"),this.onChangeDisableContainerCapabilitiesForRegularUsers=this.onChangeField("disableContainerCapabilitiesForRegularUsers"),this.onChangeDisableSysctlSettingForRegularUsers=this.onChangeField("disableSysctlSettingForRegularUsers")}onToggleAutoUpdate(e){return this.$scope.$evalAsync((()=>{this.state.autoUpdateSettings.Enabled=e}))}onChange(e){return this.$scope.$evalAsync((()=>{this.formValues={...this.formValues,...e}}))}onChangeField(e){return t=>{this.onChange({[e]:t})}}isContainerEditDisabled(){const{disableBindMountsForRegularUsers:e,disableHostNamespaceForRegularUsers:t,disablePrivilegedModeForRegularUsers:n,disableDeviceMappingForRegularUsers:r,disableContainerCapabilitiesForRegularUsers:a,disableSysctlSettingForRegularUsers:i}=this.formValues;return e||t||n||r||a||i}async save(){return this.$async((async()=>{try{this.state.actionInProgress=!0;const e={enableHostManagementFeatures:this.formValues.enableHostManagementFeatures,allowBindMountsForRegularUsers:!this.formValues.disableBindMountsForRegularUsers,allowPrivilegedModeForRegularUsers:!this.formValues.disablePrivilegedModeForRegularUsers,allowVolumeBrowserForRegularUsers:this.formValues.allowVolumeBrowserForRegularUsers,allowHostNamespaceForRegularUsers:!this.formValues.disableHostNamespaceForRegularUsers,allowDeviceMappingForRegularUsers:!this.formValues.disableDeviceMappingForRegularUsers,allowStackManagementForRegularUsers:!this.formValues.disableStackManagementForRegularUsers,allowContainerCapabilitiesForRegularUsers:!this.formValues.disableContainerCapabilitiesForRegularUsers,allowSysctlSettingForRegularUsers:!this.formValues.disableSysctlSettingForRegularUsers};await this.EndpointService.updateSecuritySettings(this.endpoint.Id,e),this.endpoint.SecuritySettings=e,this.Notifications.success("Success","Saved settings successfully")}catch(e){this.Notifications.error("Failure",e,"Failed saving settings")}this.state.actionInProgress=!1}))}checkAgent(){return this.StateManager.getState().endpoint.mode.agentProxy}$onInit(){const e=this.endpoint.SecuritySettings,t=this.checkAgent();this.isAgent=t,this.formValues={enableHostManagementFeatures:t&&e.enableHostManagementFeatures,allowVolumeBrowserForRegularUsers:t&&e.allowVolumeBrowserForRegularUsers,disableBindMountsForRegularUsers:!e.allowBindMountsForRegularUsers,disablePrivilegedModeForRegularUsers:!e.allowPrivilegedModeForRegularUsers,disableHostNamespaceForRegularUsers:!e.allowHostNamespaceForRegularUsers,disableDeviceMappingForRegularUsers:!e.allowDeviceMappingForRegularUsers,disableStackManagementForRegularUsers:!e.allowStackManagementForRegularUsers,disableContainerCapabilitiesForRegularUsers:!e.allowContainerCapabilitiesForRegularUsers,disableSysctlSettingForRegularUsers:!e.allowSysctlSettingForRegularUsers}}}a.$inject=["$async","$scope","EndpointService","Notifications","StateManager"]},68958:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(25006);const s=n(97582);a().module("portainer.docker").component("dockerFeaturesConfigurationView",{templateUrl:s,controller:i.default,bindings:{endpoint:"<"}})},63181:function(e,t,n){"use strict";n.r(t);var r=n(4396),a=n.n(r);angular.module("portainer.docker").controller("EventsController",["$scope","Notifications","SystemService",function(e,t,n){var r,i;r=a()().subtract(24,"hour").unix(),i=a()().unix(),n.events(r,i).then((function(t){e.events=t})).catch((function(e){t.error("Failure",e,"Unable to load events")}))}])},34776:function(){angular.module("portainer.docker").controller("HostBrowserViewController",["SystemService","Notifications",function(e,t){var n=this;n.$onInit=function(){e.info().then((function(e){n.host=e})).catch((function(e){t.error("Unable to retrieve host information",e)}))}}])},24233:function(e,t,n){const r=n(18659);angular.module("portainer.docker").component("hostBrowserView",{templateUrl:r,controller:"HostBrowserViewController",bindings:{endpoint:"<"}})},43279:function(e,t,n){"use strict";n.r(t);var r=n(70589);angular.module("portainer.docker").controller("HostViewController",["$q","SystemService","Notifications","StateManager","AgentService","ContainerService","Authentication",function(e,t,n,a,i,s,o){var l=this;this.$onInit=function(){var c=a.getState();l.state.isAgent=c.endpoint.mode.agentProxy,l.state.isAdmin=o.isAdmin();var d=c.endpoint.agentApiVersion;l.state.agentApiVersion=d,l.state.enableHostManagementFeatures=l.endpoint.SecuritySettings.enableHostManagementFeatures,e.all({version:t.version(),info:t.info(),jobs:l.state.isAdmin?s.containers(!0,{label:["io.portainer.job.endpoint"]}):[]}).then((function(e){var t;if(l.engineDetails=function(e){var t=e.version,n=e.info;return{releaseVersion:t.Version,apiVersion:t.ApiVersion,rootDirectory:n.DockerRootDir,storageDriver:n.Driver,loggingDriver:n.LoggingDriver,volumePlugins:n.Plugins.Volume,networkPlugins:n.Plugins.Network}}(e),l.hostDetails={os:{arch:(t=e.info).Architecture,type:t.OSType,name:t.OperatingSystem},name:t.Name,kernelVersion:t.KernelVersion,totalCPU:t.NCPU,totalMemory:t.MemTotal},l.state.offlineMode=(0,r.isOfflineEndpoint)(l.endpoint),l.jobs=e.jobs,l.state.isAgent&&d>1&&l.state.enableHostManagementFeatures)return i.hostInfo(e.info.Hostname).then((function(e){l.devices=e.PCIDevices,l.disks=e.PhysicalDisks}))})).catch((function(e){n.error("Failure",e,"Unable to retrieve engine details")}))},l.state={isAgent:!1,isAdmin:!1,offlineMode:!1},this.engineDetails={},this.hostDetails={},this.devices=null,this.disks=null}])},15906:function(e,t,n){const r=n(20927);angular.module("portainer.docker").component("hostView",{templateUrl:r,controller:"HostViewController",bindings:{endpoint:"<"}})},88741:function(){function e(e,t,n,r,a,i,s){e.state={BuildType:"editor",actionInProgress:!1,activeTab:0,isEditorDirty:!1},e.formValues={ImageNames:[{Name:"",Valid:!1,Unique:!0}],UploadFile:null,DockerFileContent:"",AdditionalFiles:[],URL:"",Path:"Dockerfile",NodeName:null},n.onbeforeunload=()=>{if("editor"===e.state.BuildType&&e.formValues.DockerFileContent&&e.state.isEditorDirty)return""},e.$on("$destroy",(function(){e.state.isEditorDirty=!1})),e.checkName=function(t){var n=e.formValues.ImageNames[t];if(n.Valid=!0,n.Unique=!0,""!==n.Name&&(e.formValues.ImageNames.forEach(((e,r)=>{r!=t&&e.Name==n.Name&&(n.Valid=!1,n.Unique=!1)})),!n.Valid))return;const r=n.Name.split("/"),a=r[r.length-1],i=RegExp("^[a-z0-9-_]{2,255}(:[A-Za-z0-9-_.]{1,128})?$");n.Valid=i.test(a)},e.addImageName=function(){e.formValues.ImageNames.push({Name:"",Valid:!1,Unique:!0})},e.removeImageName=function(t){e.formValues.ImageNames.splice(t,1);for(var n=0;n<e.formValues.ImageNames.length;n++)e.checkName(n)},e.buildImage=async function(){return t((async()=>{if("editor"!==e.state.BuildType||""!==e.formValues.DockerFileContent){e.state.actionInProgress=!0;var t=e.formValues.ImageNames.filter((function(e){return e.Name})).map((function(e){return e.Name})),n=e.formValues.NodeName;s.setPortainerAgentTargetHeader(n);try{const n=await function(t,n){var r=e.state.BuildType,i=e.formValues.Path;if("upload"===r){var s=e.formValues.UploadFile;return a.buildImageFromUpload(n,s,i)}if("url"===r){var o=e.formValues.URL;return a.buildImageFromURL(n,o,i)}var l=e.formValues.DockerFileContent;if(0===e.formValues.AdditionalFiles.length)return a.buildImageFromDockerfileContent(n,l);var c=e.formValues.AdditionalFiles;return a.buildImageFromDockerfileContentAndFiles(n,l,c)}(0,t);e.buildLogs=n.buildLogs,e.state.activeTab=1,n.hasError?i.error("An error occurred during build",{msg:"Please check build logs output"}):(i.success("Image successfully built"),e.state.isEditorDirty=!1)}catch(e){i.error("Failure",e,"Unable to build image")}finally{e.state.actionInProgress=!1}}else e.state.formValidationError="Dockerfile content must not be empty"}))},e.validImageNames=function(){if(0==e.formValues.ImageNames.length)return!1;for(var t=0;t<e.formValues.ImageNames.length;t++)if(!e.formValues.ImageNames[t].Valid)return!1;return!0},e.editorUpdate=function(t){e.formValues.DockerFileContent=t.getValue(),e.state.isEditorDirty=!0},this.uiCanExit=async function(){if("editor"===e.state.BuildType&&e.formValues.DockerFileContent&&e.state.isEditorDirty)return r.confirmWebEditorDiscard()},e.selectAdditionalFiles=function(t){e.formValues.AdditionalFiles=t}}e.$inject=["$scope","$async","$window","ModalService","BuildService","Notifications","HttpRequestHelper"],angular.module("portainer.docker").controller("BuildImageController",e)},37391:function(e,t,n){"use strict";n.r(t);var r=n(94946),a=n.n(r),i=n(40714),s=n.n(i),o=n(44716),l=n.n(o),c=n(76939),d=n(52474);angular.module("portainer.docker").controller("ImageController",["$async","$q","$scope","$transition$","$state","Authentication","ImageService","ImageHelper","RegistryService","Notifications","HttpRequestHelper","ModalService","FileSaver","Blob","endpoint","EndpointService","RegistryModalService",function(e,t,n,r,i,o,u,p,m,g,h,f,v,b,y,w,x){n.endpoint=y,n.isAdmin=o.isAdmin(),n.formValues={RegistryModel:new c.PorImageRegistryModel},n.state={exportInProgress:!1,pullImageValidity:!1},n.sortType="Order",n.sortReverse=!1,n.order=function(e){n.sortReverse=n.sortType===e&&!n.sortReverse,n.sortType=e},n.toggleLayerCommand=function(e){d("#layer-command-expander"+e+" span").toggleClass("glyphicon-plus-sign glyphicon-minus-sign"),d("#layer-command-"+e+"-short").toggle(),d("#layer-command-"+e+"-full").toggle()},n.setPullImageValidity=function(e){n.state.pullImageValidity=e},n.tagImage=function(){const e=n.formValues.RegistryModel,t=p.createImageConfigForContainer(e);u.tagImage(r.params().id,t.fromImage).then((function(){g.success("Success","Image successfully tagged"),i.go("docker.images.image",{id:r.params().id},{reload:!0})})).catch((function(e){g.error("Failure",e,"Unable to tag image")}))},n.pushTag=async function(t){return e((async()=>{try{const e=await x.registryModal(t,n.registries);e&&(d("#uploadResourceHint").show(),await u.pushImage(e),g.success("Image successfully pushed",t))}catch(e){g.error("Failure",e,"Unable to push image to repository")}finally{d("#uploadResourceHint").hide()}}))},n.pullTag=async function(t){return e((async()=>{try{const e=await x.registryModal(t,n.registries);e&&(d("#downloadResourceHint").show(),await u.pullImage(e),g.success("Image successfully pulled",t))}catch(e){g.error("Failure",e,"Unable to pull image from repository")}finally{d("#downloadResourceHint").hide()}}))},n.removeTag=function(e){u.deleteImage(e,!1).then((function(){1===n.image.RepoTags.length?(g.success("Image successfully deleted",e),i.go("docker.images",{},{reload:!0})):(g.success("Tag successfully deleted",e),i.go("docker.images.image",{id:r.params().id},{reload:!0}))})).catch((function(e){g.error("Failure",e,"Unable to remove image")}))},n.removeImage=function(e){u.deleteImage(e,!1).then((function(){g.success("Image successfully deleted",e),i.go("docker.images",{},{reload:!0})})).catch((function(e){g.error("Failure",e,"Unable to remove image")}))},n.exportImage=function(e){0===e.RepoTags.length||l()(e.RepoTags,"<none>")?g.warning("","Cannot download a untagged image"):f.confirmImageExport((function(t){t&&function(e){h.setPortainerAgentTargetHeader(e.NodeName),n.state.exportInProgress=!0,u.downloadImages([e]).then((function(e){var t=new b([e.file],{type:"application/x-tar"});v.saveAs(t,"images.tar"),g.success("Success","Image successfully downloaded")})).catch((function(e){g.error("Failure",e,"Unable to download image")})).finally((function(){n.state.exportInProgress=!1}))}(e)}))},async function(){h.setPortainerAgentTargetHeader(r.params().nodeName);try{n.registries=await m.loadRegistriesForDropdown(y.Id)}catch(e){this.Notifications.error("Failure",e,"Unable to load registries")}t.all({image:u.image(r.params().id),history:u.history(r.params().id)}).then((function(e){n.image=e.image,n.history=e.history,n.image.Env=s()(n.image.Env,a())})).catch((function(e){g.error("Failure",e,"Unable to retrieve image details"),i.go("docker.images")}))}()}])},12107:function(e,t,n){"use strict";n.r(t);var r=n(93715),a=n.n(r),i=n(51235),s=n.n(i),o=n(76939),l=n(70589);angular.module("portainer.docker").controller("ImagesController",["$scope","$state","Authentication","ImageService","Notifications","ModalService","HttpRequestHelper","FileSaver","Blob","endpoint",function(e,t,n,r,i,c,d,u,p,m){function g(){r.images(!0).then((function(t){e.images=t,e.offlineMode=(0,l.isOfflineEndpoint)(m)})).catch((function(t){i.error("Failure",t,"Unable to retrieve images"),e.images=[]}))}e.endpoint=m,e.isAdmin=n.isAdmin(),e.state={actionInProgress:!1,exportInProgress:!1,pullRateValid:!1},e.formValues={RegistryModel:new o.PorImageRegistryModel,NodeName:null},e.pullImage=function(){const n=e.formValues.RegistryModel;var a=e.formValues.NodeName;d.setPortainerAgentTargetHeader(a),e.state.actionInProgress=!0,r.pullImage(n,!1).then((function(e){var r=e[e.length-1].errorDetail;if(r)return i.error("Failure",r,"Unable to pull image");i.success("Image successfully pulled",n.Image),t.reload()})).catch((function(e){i.error("Failure",e,"Unable to pull image")})).finally((function(){e.state.actionInProgress=!1}))},e.confirmRemovalAction=function(t,n){c.confirmImageForceRemoval((function(r){r&&e.removeAction(t,n)}))},e.downloadAction=function(t){(function(e){for(var t=0;t<e.length;t++){var n=e[t];if(s()(n.RepoTags,(function(e){return e.indexOf("<none>")>-1})))return i.warning("","Cannot download a untagged image"),!1}return!(a()(e,"NodeName").length>1&&(i.warning("","Cannot download images from different nodes at the same time"),1))})(t)&&c.confirmImageExport((function(n){var a;n&&(a=t,d.setPortainerAgentTargetHeader(a[0].NodeName),e.state.exportInProgress=!0,r.downloadImages(a).then((function(e){var t=new p([e.file],{type:"application/x-tar"});u.saveAs(t,"images.tar"),i.success("Success","Image(s) successfully downloaded")})).catch((function(e){i.error("Failure",e,"Unable to download image(s)")})).finally((function(){e.state.exportInProgress=!1})))}))},e.removeAction=function(n,a){var s=n.length;angular.forEach(n,(function(n){d.setPortainerAgentTargetHeader(n.NodeName),r.deleteImage(n.Id,a).then((function(){i.success("Image successfully removed",n.Id);var t=e.images.indexOf(n);e.images.splice(t,1)})).catch((function(e){i.error("Failure",e,"Unable to remove image")})).finally((function(){0==--s&&t.reload()}))}))},e.offlineMode=!1,e.getImages=g,e.setPullImageValidity=function(t){e.state.pullRateValid=t},g()}])},14521:function(e,t,n){"use strict";n.r(t);var r=n(76939);angular.module("portainer.docker").controller("ImportImageController",["$scope","$state","ImageService","Notifications","HttpRequestHelper","Authentication","ImageHelper","endpoint",function(e,t,n,a,i,s,o,l){e.state={actionInProgress:!1},e.endpoint=l,e.isAdmin=s.isAdmin(),e.formValues={UploadFile:null,NodeName:null,RegistryModel:new r.PorImageRegistryModel},e.setPullImageValidity=function(t){e.state.pullImageValidity=t},e.uploadImage=async function(){e.state.actionInProgress=!0;var r=e.formValues.NodeName;i.setPortainerAgentTargetHeader(r);var s=e.formValues.UploadFile;try{const{data:r}=await n.uploadImage(s);if(r.error)a.error("Failure",r.error,"Unable to upload image");else if(r.stream){var l=/Loaded.*?: (.*?)\n$/g.exec(r.stream);l&&2==l.length&&(await async function(t){const r=e.formValues.RegistryModel;if(r.Image){const e=o.createImageConfigForContainer(r);try{await n.tagImage(t,e.fromImage)}catch(e){a.error("Failure",e,"Unable to tag image")}}}(l[1]),t.go("docker.images.image",{id:l[1]},{reload:!0})),a.success("Success","Images successfully uploaded")}else a.success("Success","The uploaded tar file contained multiple images. The provided tag therefore has been ignored.")}catch(e){a.error("Failure",e,"Unable to upload image")}finally{e.state.actionInProgress=!1}}}])},543:function(e,t,n){"use strict";n.r(t);var r=n(83432),a=n.n(r),i=n(41952),s=n.n(i),o=n(55743),l=n.n(o),c=n(17465),d=n.n(c),u=n(19898),p=n(50373);angular.module("portainer.docker").controller("CreateNetworkController",["$q","$scope","$state","PluginService","Notifications","NetworkService","LabelHelper","Authentication","ResourceControlService","FormValidator","HttpRequestHelper",function(e,t,n,r,i,o,c,m,g,h,f){function v(e,t){const n=d()(e,"=");return 2===n.length?n[1]===t:e===t}function b(e,t){e.AuxiliaryAddresses={},s()(t.AuxiliaryAddresses,((t,n)=>{const r=d()(t,"=");2===r.length?e.AuxiliaryAddresses[r[0]]=r[1]:e.AuxiliaryAddresses["device"+n]=t}))}function y(e){f.setPortainerAgentTargetHeader(e.nodeName),f.setPortainerAgentManagerOperation(e.managerOperation),t.state.actionInProgress=!0,o.create(e.networkConfiguration).then((function(t){const n=e.userDetails.ID,r=e.accessControlData,a=t.Portainer.ResourceControl;return g.applyResourceControl(n,r,a)})).then((function(){i.success("Success","Network successfully created"),e.reload&&n.go("docker.networks",{},{reload:!0})})).catch((function(e){i.error("Failure",e,"An error occured during network creation")})).finally((function(){t.state.actionInProgress=!1}))}var w;t.formValues={DriverOptions:[],IPV4:{Subnet:"",Gateway:"",IPRange:"",AuxiliaryAddresses:[]},IPV6:{Subnet:"",Gateway:"",IPRange:"",AuxiliaryAddresses:[]},Labels:[],AccessControlData:new u.AccessControlFormData,NodeName:null,Macvlan:new p.MacvlanFormData},t.state={formValidationError:"",actionInProgress:!1},t.availableNetworkDrivers=[],t.config={Driver:"bridge",CheckDuplicate:!0,Internal:!1,Attachable:!1,EnableIPv6:!1,IPAM:{Driver:"default",Config:[]},Labels:{}},t.addDriverOption=function(){t.formValues.DriverOptions.push({name:"",value:""})},t.removeDriverOption=function(e){t.formValues.DriverOptions.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({key:"",value:""})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addIPV4AuxAddress=function(){t.formValues.IPV4.AuxiliaryAddresses.push("")},t.addIPV6AuxAddress=function(){t.formValues.IPV6.AuxiliaryAddresses.push("")},t.removeIPV4AuxAddress=function(e){t.formValues.IPV4.AuxiliaryAddresses.splice(e,1),t.state.IPV4AuxiliaryAddressesError.splice(e,1)},t.removeIPV6AuxAddress=function(e){t.formValues.IPV6.AuxiliaryAddresses.splice(e,1),t.state.IPV6AuxiliaryAddressesError.splice(e,1)},t.checkIPV4AuxiliaryAddress=function(e){t.state.IPV4AuxiliaryAddressesError[e]=v(t.formValues.IPV4.AuxiliaryAddresses[e],t.formValues.IPV4.Gateway)},t.checkIPV6AuxiliaryAddress=function(e){t.state.IPV6AuxiliaryAddressesError[e]=v(t.formValues.IPV6.AuxiliaryAddresses[e],t.formValues.IPV6.Gateway)},t.isValid=function(){const e=!l()(t.state.IPV4AuxiliaryAddressesError,((e,t)=>e||t),!1),n=!l()(t.state.IPV6AuxiliaryAddressesError,((e,t)=>e||t),!1);return e&&n},t.onChangeInternal=function(e){t.$evalAsync((()=>{t.config.Internal=e}))},t.onChangeAttachable=function(e){t.$evalAsync((()=>{t.config.Attachable=e}))},t.create=function(){var e=function(){var e=angular.copy(t.config);return function(e){if(t.formValues.IPV4.Subnet){let n={};n.Subnet=t.formValues.IPV4.Subnet,t.formValues.IPV4.Gateway&&(n.Gateway=t.formValues.IPV4.Gateway),t.formValues.IPV4.IPRange&&(n.IPRange=t.formValues.IPV4.IPRange),t.formValues.IPV4.AuxiliaryAddresses.length&&b(n,t.formValues.IPV4),e.IPAM.Config.push(n)}if(t.formValues.IPV6.Subnet){let n={};n.Subnet=t.formValues.IPV6.Subnet,t.formValues.IPV6.Gateway&&(n.Gateway=t.formValues.IPV6.Gateway),t.formValues.IPV6.IPRange&&(n.IPRange=t.formValues.IPV6.IPRange),t.formValues.IPV6.AuxiliaryAddresses.length&&b(n,t.formValues.IPV6),e.EnableIPv6=!0,e.IPAM.Config.push(n)}}(e),function(e){var n={};t.formValues.DriverOptions.forEach((function(e){n[e.name]=e.value})),e.Options=n}(e),function(e){e.Labels=c.fromKeyValueToLabelHash(t.formValues.Labels)}(e),e}(),n=t.formValues.AccessControlData,r=m.getUserDetails();if(function(e,n){var r;return t.state.formValidationError="",!(r=h.validateAccessControl(e,n))||(t.state.formValidationError=r,!1)}(n,m.isAdmin())){var a,i={nodeName:t.formValues.NodeName,managerOperation:!1,networkConfiguration:e,userDetails:r,accessControlData:n,reload:!0};if(t.applicationState.endpoint.mode.agentProxy&&"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider&&"overlay"===t.config.Driver&&(i.managerOperation=!0),"macvlan"===t.config.Driver)if("local"===t.formValues.Macvlan.Scope)(a=e).Internal=null,a.Attachable=null,a.ConfigOnly=!0,a.Options.parent=t.formValues.Macvlan.ParentNetworkCard;else if("swarm"===t.formValues.Macvlan.Scope){var s=t.formValues.Macvlan.SelectedNetworkConfig;!function(e,n){e.ConfigFrom={Network:n.Name},"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider?e.Scope="swarm":e.Scope="local"}(e,s),i.nodeName=s.NodeName}if("macvlan"===t.config.Driver&&"local"===t.formValues.Macvlan.Scope&&t.applicationState.endpoint.mode.agentProxy&&"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider){var o=t.formValues.Macvlan.DatatableState.selectedItems;o.forEach((function(e,t){i.nodeName=e.Hostname,i.reload=t===o.length-1,y(i)}))}else y(i)}},w=t.applicationState.endpoint.apiVersion,t.state.IPV4AuxiliaryAddressesError=[],t.state.IPV6AuxiliaryAddressesError=[],r.networkPlugins(w<1.25).then((function(e){t.availableNetworkDrivers=e,t.availableNetworkDrivers=a()(t.availableNetworkDrivers,(e=>"host"!==e&&"null"!==e))})).catch((function(e){i.error("Failure",e,"Unable to retrieve network drivers")}))}])},74225:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(25445),s=n.n(i),o=n(40714),l=n.n(o),c=n(66539),d=n.n(c),u=n(86103),p=n.n(u),m=n(1979),g=n.n(m),h=n(71204),f=n.n(h),v=n(51235),b=n.n(v),y=n(69452),w=n(70589);angular.module("portainer.docker").controller("NetworksController",["$q","$scope","$state","NetworkService","Notifications","HttpRequestHelper","endpoint","AgentService",function(e,t,n,r,i,o,c,u){function m(){const n={networks:r.networks(!0,!0,!0)};t.applicationState.endpoint.mode.agentProxy&&"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider&&(n.agents=u.agents()),e.all(n).then((e=>{t.offlineMode=(0,w.isOfflineEndpoint)(c);const n=a()(e.networks,(e=>e.Subs=[]));t.applicationState.endpoint.mode.agentProxy&&"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider?t.networks=function(e,t){const n=f()(e,(e=>"swarm"!==e.Scope)),r=g()(p()(e,(e=>e.Id))),a=d()(r,(e=>l()(e,(e=>(e=>b()(t,(t=>t.NodeName===e.NodeName)).NodeRole)(e))))),i=d()(a,(e=>{const t=e[0];for(let n=1;n<e.length;n++)t.Subs.push(e[n]);return t}));return s()(i,...n)}(e.networks,e.agents):t.networks=n,a()(t.networks,(e=>{e.IPAM.IPV4Configs=y.default.getIPV4Configs(e.IPAM.Config),e.IPAM.IPV6Configs=y.default.getIPV6Configs(e.IPAM.Config)}))})).catch((e=>{t.networks=[],i.error("Failure",e,"Unable to retrieve networks")}))}t.removeAction=function(e){var a=e.length;angular.forEach(e,(function(e){o.setPortainerAgentTargetHeader(e.NodeName),r.remove(e.Id).then((function(){i.success("Network successfully removed",e.Name);var n=t.networks.indexOf(e);t.networks.splice(n,1)})).catch((function(e){i.error("Failure",e,"Unable to remove network")})).finally((function(){0==--a&&n.reload()}))}))},t.offlineMode=!1,t.getNetworks=m,m()}])},50451:function(){angular.module("portainer.docker").controller("NodeBrowserController",["$stateParams","NodeService","HttpRequestHelper","Notifications",function(e,t,n,r){var a=this;a.$onInit=function(){a.nodeId=e.id,t.node(a.nodeId).then((function(e){n.setPortainerAgentTargetHeader(e.Hostname),a.node=e})).catch((function(e){r.error("Unable to retrieve host information",e)}))}}])},83602:function(e,t,n){const r=n(52707);angular.module("portainer.docker").component("nodeBrowserView",{templateUrl:r,controller:"NodeBrowserController",bindings:{endpoint:"<"}})},29978:function(){angular.module("portainer.docker").controller("NodeDetailsViewController",["$q","$stateParams","NodeService","StateManager","AgentService","ContainerService","Authentication",function(e,t,n,r,a,i,s){var o=this;function l(e,t){return e.filter((function(e){return e.Type===t})).map((function(e){return e.Name}))}o.$onInit=function(){var c=r.getState();o.state.isAgent=c.endpoint.mode.agentProxy,o.state.isAdmin=s.isAdmin(),o.state.enableHostManagementFeatures=o.endpoint.SecuritySettings.enableHostManagementFeatures;var d=o.state.isAdmin&&o.state.isAgent,u=t.id;e.all({node:n.node(u),jobs:d?i.containers(!0,{label:["io.portainer.job.endpoint"]}):[]}).then((function(e){var t=e.node;if(o.originalNode=t,o.hostDetails=function(e){return{os:{arch:e.PlatformArchitecture,type:e.PlatformOS},name:e.Hostname,totalCPU:e.CPUs/1e9,totalMemory:e.Memory}}(t),o.engineDetails=function(e){return{releaseVersion:e.EngineVersion,volumePlugins:l(e.Plugins,"Volume"),networkPlugins:l(e.Plugins,"Network"),engineLabels:e.EngineLabels}}(t),o.nodeDetails=function(e){return{name:e.Name,role:e.Role,managerAddress:e.ManagerAddr,availability:e.Availability,status:e.Status,nodeLabels:e.Labels}}(t),o.jobs=e.jobs,o.state.isAgent){var n=c.endpoint.agentApiVersion;if(o.state.agentApiVersion=n,n<2||!o.state.enableHostManagementFeatures)return;a.hostInfo(t.Hostname).then((function(e){o.devices=e.PCIDevices,o.disks=e.PhysicalDisks}))}}))},o.state={isAgent:!1,isAdmin:!1}}])},74275:function(e,t,n){const r=n(89455);angular.module("portainer.docker").component("nodeDetailsView",{templateUrl:r,controller:"NodeDetailsViewController",bindings:{endpoint:"<"}})},77152:function(e,t,n){const r=n(73675);angular.module("portainer.docker").component("dockerRegistryAccessView",{templateUrl:r,controller:"DockerRegistryAccessController",bindings:{endpoint:"<"}})},40106:function(e,t,n){"use strict";n.r(t);var r=n(93133);class a{constructor(e,t,n,r,a,i){this.$async=e,this.$state=t,this.Notifications=n,this.EndpointService=r,this.GroupService=a,this.RegistryService=i,this.updateAccess=this.updateAccess.bind(this),this.filterUsers=this.filterUsers.bind(this)}updateAccess(){return this.$async((async()=>{this.state.actionInProgress=!0;try{await this.EndpointService.updateRegistryAccess(this.state.endpointId,this.state.registryId,this.registryEndpointAccesses),this.Notifications.success("Success","Access successfully updated"),this.$state.reload()}catch(e){this.state.actionInProgress=!1,this.Notifications.error("Failure",e,"Unable to update accesses")}}))}filterUsers(e){const t=this.endpoint.UserAccessPolicies,n=this.endpoint.TeamAccessPolicies,a=this.endpointGroup.UserAccessPolicies,i=this.endpointGroup.TeamAccessPolicies;return e.filter((e=>{const s=e instanceof r.UserAccessViewModel&&(t[e.Id]||a[e.Id]),o=e instanceof r.TeamAccessViewModel&&(n[e.Id]||i[e.Id]);return s||o}))}$onInit(){return this.$async((async()=>{this.registryTo=window.location.hash.match(/#!\/\d+\/docker\/swarm\/registries/)?"docker.swarm.registries":"docker.host.registries";try{this.state={viewReady:!1,actionInProgress:!1,endpointId:this.$state.params.endpointId,registryId:this.$state.params.id},this.registry=await this.RegistryService.registry(this.state.registryId,this.state.endpointId),this.registryEndpointAccesses=this.registry.RegistryAccesses[this.state.endpointId]||{},this.endpointGroup=await this.GroupService.group(this.endpoint.GroupId)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registry details")}finally{this.state.viewReady=!0}}))}}a.$inject=["$async","$state","Notifications","EndpointService","GroupService","RegistryService"],t.default=a,angular.module("portainer.docker").controller("DockerRegistryAccessController",a)},65968:function(e,t,n){"use strict";n.r(t);var r=n(19898);angular.module("portainer.docker").controller("CreateSecretController",["$scope","$state","Notifications","SecretService","LabelHelper","Authentication","ResourceControlService","FormValidator",function(e,t,n,a,i,s,o,l){e.formValues={Name:"",Data:"",Labels:[],encodeSecret:!0,AccessControlData:new r.AccessControlFormData},e.state={formValidationError:"",actionInProgress:!1},e.handleEncodeSecretChange=function(t){return e.$evalAsync((()=>{e.formValues.encodeSecret=t}))},e.addLabel=function(){e.formValues.Labels.push({key:"",value:""})},e.removeLabel=function(t){e.formValues.Labels.splice(t,1)},e.create=function(){const r=e.formValues.AccessControlData,c=s.getUserDetails(),d=s.isAdmin();if(function(t,n){var r;return e.state.formValidationError="",!(r=l.validateAccessControl(t,n))||(e.state.formValidationError=r,!1)}(r,d)){e.state.actionInProgress=!0;var u=((p={}).Name=e.formValues.Name,function(t){e.formValues.encodeSecret?t.Data=btoa(unescape(encodeURIComponent(e.formValues.Data))):t.Data=e.formValues.Data}(p),function(t){t.Labels=i.fromKeyValueToLabelHash(e.formValues.Labels)}(p),p);a.create(u).then((function(e){const t=c.ID,n=e.Portainer.ResourceControl;return o.applyResourceControl(t,r,n)})).then((function(){n.success("Success","Secret successfully created"),t.go("docker.secrets",{},{reload:!0})})).catch((function(e){n.error("Failure",e,"Unable to create secret")})).finally((function(){e.state.actionInProgress=!1}))}var p}}])},20842:function(e,t,n){"use strict";n.r(t);var r=n(83471);angular.module("portainer.docker").controller("SecretController",["$scope","$transition$","$state","SecretService","Notifications",function(e,t,n,a,i){e.resourceType=r.O.Secret,e.onUpdateResourceControlSuccess=function(){n.reload()},e.removeSecret=function(e){a.remove(e).then((function(){i.success("Success","Secret successfully removed"),n.go("docker.secrets",{})})).catch((function(e){i.error("Failure",e,"Unable to remove secret")}))},a.secret(t.params().id).then((function(t){e.secret=t})).catch((function(e){i.error("Failure",e,"Unable to retrieve secret details")}))}])},69654:function(){angular.module("portainer.docker").controller("SecretsController",["$scope","$state","SecretService","Notifications",function(e,t,n,r){function a(){n.secrets().then((function(t){e.secrets=t})).catch((function(t){e.secrets=[],r.error("Failure",t,"Unable to retrieve secrets")}))}e.removeAction=function(a){var i=a.length;angular.forEach(a,(function(a){n.remove(a.Id).then((function(){r.success("Secret successfully removed",a.Name);var t=e.secrets.indexOf(a);e.secrets.splice(t,1)})).catch((function(e){r.error("Failure",e,"Unable to remove secret")})).finally((function(){0==--i&&t.reload()}))}))},e.getSecrets=a,a()}])},91188:function(e,t,n){"use strict";n.r(t);var r=n(17908),a=n.n(r),i=n(75345),s=n.n(i),o=n(76939),l=n(93994),c=n(19898);n(74827),n(61573),n(98876),n(14714),angular.module("portainer.docker").controller("CreateServiceController",["$q","$scope","$state","$timeout","Service","ServiceHelper","ConfigService","ConfigHelper","SecretHelper","SecretService","VolumeService","NetworkService","ImageHelper","LabelHelper","Authentication","ResourceControlService","Notifications","FormValidator","PluginService","RegistryService","HttpRequestHelper","NodeService","WebhookService","endpoint",function(e,t,n,r,i,d,u,p,m,g,h,f,v,b,y,w,x,S,C,k,A,P,I,$){function N(e){return[].concat.apply([],e.split("'").map((function(e,t){return t%2?e:e.split(" ")}))).filter(Boolean)}var T;t.endpoint=$,t.formValues={Name:"",RegistryModel:new o.PorImageRegistryModel,Mode:"replicated",Replicas:1,Command:"",EntryPoint:"",WorkingDir:"",User:"",Env:[],Labels:[],ContainerLabels:[],Volumes:[],Network:"",ExtraNetworks:[],HostsEntries:[],Ports:[],Parallelism:1,PlacementConstraints:[],PlacementPreferences:[],UpdateDelay:"0s",UpdateOrder:"stop-first",FailureAction:"pause",Secrets:[],Configs:[],AccessControlData:new c.AccessControlFormData,CpuLimit:0,CpuReservation:0,MemoryLimit:0,MemoryReservation:0,MemoryLimitUnit:"MB",MemoryReservationUnit:"MB",RestartCondition:"any",RestartDelay:"5s",RestartMaxAttempts:0,RestartWindow:"0s",LogDriverName:"",LogDriverOpts:[],Webhook:!1},t.state={formValidationError:"",actionInProgress:!1,pullImageValidity:!1},t.allowBindMounts=!1,t.handleWebHookChange=function(e){return t.$evalAsync((()=>{t.formValues.Webhook=e}))},t.handleEnvVarChange=function(e){t.formValues.Env=e},t.refreshSlider=function(){r((function(){t.$broadcast("rzSliderForceRender")}))},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.addPortBinding=function(){t.formValues.Ports.push({PublishedPort:"",TargetPort:"",Protocol:"tcp",PublishMode:"ingress"})},t.removePortBinding=function(e){t.formValues.Ports.splice(e,1)},t.addExtraNetwork=function(){t.formValues.ExtraNetworks.push({Name:""})},t.removeExtraNetwork=function(e){t.formValues.ExtraNetworks.splice(e,1)},t.addHostsEntry=function(){t.formValues.HostsEntries.push({})},t.removeHostsEntry=function(e){t.formValues.HostsEntries.splice(e,1)},t.addVolume=function(){t.formValues.Volumes.push({Source:null,Target:"",ReadOnly:!1,Type:"volume"})},t.removeVolume=function(e){t.formValues.Volumes.splice(e,1)},t.addConfig=function(){t.formValues.Configs.push({})},t.removeConfig=function(e){t.formValues.Configs.splice(e,1),t.checkIfConfigDuplicated()},t.addSecret=function(){t.formValues.Secrets.push({overrideTarget:!1})},t.removeSecret=function(e){t.formValues.Secrets.splice(e,1),t.checkIfSecretDuplicated()},t.addPlacementConstraint=function(){t.formValues.PlacementConstraints.push({key:"",operator:"==",value:""})},t.removePlacementConstraint=function(e){t.formValues.PlacementConstraints.splice(e,1)},t.addPlacementPreference=function(){t.formValues.PlacementPreferences.push({strategy:"spread",value:""})},t.removePlacementPreference=function(e){t.formValues.PlacementPreferences.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({key:"",value:""})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addContainerLabel=function(){t.formValues.ContainerLabels.push({key:"",value:""})},t.removeContainerLabel=function(e){t.formValues.ContainerLabels.splice(e,1)},t.addLogDriverOpt=function(){t.formValues.LogDriverOpts.push({name:"",value:""})},t.removeLogDriverOpt=function(e){t.formValues.LogDriverOpts.splice(e,1)},t.checkIfSecretDuplicated=function(){t.formValues.Secrets.$invalid=!1,[...t.formValues.Secrets].sort(((e,t)=>e.model.Id.localeCompare(t.model.Id))).sort(((e,n)=>{e.model.Id===n.model.Id&&(t.formValues.Secrets.$invalid=!0,t.formValues.Secrets.$error="Secret "+e.model.Name+" cannot be assigned multiple times.")})),t.formValues.Secrets.$invalid||(t.formValues.Secrets.$error="")},t.checkIfConfigDuplicated=function(){t.formValues.Configs.$invalid=!1,[...t.formValues.Configs].sort(((e,t)=>e.model.Id.localeCompare(t.model.Id))).sort(((e,n)=>{e.model.Id===n.model.Id&&(t.formValues.Configs.$invalid=!0,t.formValues.Configs.$error="Config "+e.model.Name+" cannot be assigned multiple times.")})),t.formValues.Configs.$invalid||(t.formValues.Configs.$error="")},t.volumesAreValid=function(){return t.formValues.Volumes.every((e=>e.Target&&e.Source))},t.create=function(){var r,o,c=t.formValues.AccessControlData;(function(e,n){var r;return t.state.formValidationError="",!(r=S.validateAccessControl(e,n)||t.formValues.Secrets.$error||t.formValues.Configs.$error)||(t.state.formValidationError=r,!1)})(c,t.isAdmin)&&(t.state.actionInProgress=!0,function(r,a){const s=t.formValues.RegistryModel;var o=s.Registry.Authentication?k.encodedCredentials(s.Registry):"";A.setRegistryAuthenticationHeader(o),i.create(r).$promise.then((function(n){const r=n.ID,i=n.Portainer.ResourceControl,s=y.getUserDetails().ID,o=w.applyResourceControl(s,a,i),l=t.formValues.RegistryModel.Registry.Id,c=e.when(4!==$.Type&&t.formValues.Webhook&&I.createServiceWebhook(r,$.Id,l));return e.all([o,c])})).then((function(){x.success("Success","Service successfully created"),n.go("docker.services",{},{reload:!0})})).catch((function(e){x.error("Failure",e,"Unable to create service")})).finally((function(){t.state.actionInProgress=!1}))}((r=t.formValues,function(e,t){"replicated"===t.Mode?e.Mode.Replicated={Replicas:t.Replicas}:e.Mode.Global={}}(o={Name:r.Name,TaskTemplate:{ContainerSpec:{Mounts:[]},Placement:{},Resources:{Limits:{},Reservations:{}}},Mode:{},EndpointSpec:{}},r),function(e,t){var n=v.createImageConfigForContainer(t.RegistryModel);e.TaskTemplate.ContainerSpec.Image=n.fromImage}(o,r),function(e,t){let n=[];t.Ports.forEach((function(e){const t={Protocol:e.Protocol,PublishMode:e.PublishMode};e.TargetPort&&(t.TargetPort=+e.TargetPort,e.PublishedPort&&(t.PublishedPort=+e.PublishedPort),n.push(t))})),e.EndpointSpec.Ports=n}(o,r),function(e,t){t.EntryPoint&&(e.TaskTemplate.ContainerSpec.Command=N(t.EntryPoint)),t.Command&&(e.TaskTemplate.ContainerSpec.Args=N(t.Command)),t.User&&(e.TaskTemplate.ContainerSpec.User=t.User),t.WorkingDir&&(e.TaskTemplate.ContainerSpec.Dir=t.WorkingDir)}(o,r),function(e,t){e.TaskTemplate.ContainerSpec.Env=l.convertToArrayOfStrings(t.Env)}(o,r),function(e,t){e.Labels=b.fromKeyValueToLabelHash(t.Labels),e.TaskTemplate.ContainerSpec.Labels=b.fromKeyValueToLabelHash(t.ContainerLabels)}(o,r),function(e,t){t.Volumes.forEach((function(t){if(t.Source&&t.Target)if("volume"!==t.Type)e.TaskTemplate.ContainerSpec.Mounts.push(t);else{var n=(r=t.Source,a=t.Target,i=t.ReadOnly,{Target:a,Source:r.Id,Type:"volume",ReadOnly:i,VolumeOptions:{Labels:r.Labels,DriverConfig:{Name:r.Driver,Options:r.Options}}});e.TaskTemplate.ContainerSpec.Mounts.push(n)}var r,a,i}))}(o,r),function(e,t){var n=[];t.Network&&n.push({Target:t.Network}),t.ExtraNetworks.forEach((function(e){n.push({Target:e.Name})})),e.Networks=s()(n,a())}(o,r),function(e,t){var n=[];t.HostsEntries&&(t.HostsEntries.forEach((function(e){if(e.value&&e.value.indexOf(":")&&2===e.value.split(":").length){var t=e.value.split(":");n.push(t[1]+" "+t[0])}})),n.length>0&&(e.TaskTemplate.ContainerSpec.Hosts=n))}(o,r),function(e,t){e.UpdateConfig={Parallelism:t.Parallelism||0,Delay:d.translateHumanDurationToNanos(t.UpdateDelay)||0,FailureAction:t.FailureAction,Order:t.UpdateOrder}}(o,r),function(e,t){if(t.Configs){var n=[];angular.forEach(t.Configs,(function(e){if(e.model){var t=p.configConfig(e.model);t.File.Name=e.FileName||t.File.Name,n.push(t)}})),e.TaskTemplate.ContainerSpec.Configs=n}}(o,r),function(e,t){if(t.Secrets){var n=[];angular.forEach(t.Secrets,(function(e){if(e.model){var t=m.secretConfig(e.model);t.File.Name=t.SecretName,e.overrideTarget&&e.target&&""!==e.target&&(t.File.Name=e.target),n.push(t)}})),e.TaskTemplate.ContainerSpec.Secrets=n}}(o,r),function(e,t){e.TaskTemplate.Placement.Constraints=d.translateKeyValueToPlacementConstraints(t.PlacementConstraints),e.TaskTemplate.Placement.Preferences=d.translateKeyValueToPlacementPreferences(t.PlacementPreferences)}(o,r),function(e,t){t.CpuLimit>0&&(e.TaskTemplate.Resources.Limits.NanoCPUs=1e9*t.CpuLimit),t.CpuReservation>0&&(e.TaskTemplate.Resources.Reservations.NanoCPUs=1e9*t.CpuReservation)}(o,r),function(e,t){var n=(Math.round(8*t.MemoryLimit)/8).toFixed(3);n*=1048576,"GB"===t.MemoryLimitUnit&&(n*=1024),n>0&&(e.TaskTemplate.Resources.Limits.MemoryBytes=n);var r=(Math.round(8*t.MemoryReservation)/8).toFixed(3);r*=1048576,"GB"===t.MemoryReservationUnit&&(r*=1024),r>0&&(e.TaskTemplate.Resources.Reservations.MemoryBytes=r)}(o,r),function(e,t){e.TaskTemplate.RestartPolicy={Condition:t.RestartCondition||"any",Delay:d.translateHumanDurationToNanos(t.RestartDelay)||5e9,MaxAttempts:t.RestartMaxAttempts||0,Window:d.translateHumanDurationToNanos(t.RestartWindow)||0}}(o,r),function(e,t){var n={};t.LogDriverName&&(e.TaskTemplate.LogDriver={Name:t.LogDriverName},"none"!==t.LogDriverName&&(t.LogDriverOpts.forEach((function(e){e.name&&(n[e.name]=e.value)})),0!==Object.keys(n).length&&n.constructor===Object&&(e.TaskTemplate.LogDriver.Options=n)))}(o,r),o),c))},T=t.applicationState.endpoint.apiVersion,e.all({volumes:h.volumes(),networks:f.networks(!0,!0,!1),secrets:T>=1.25?g.secrets():[],configs:T>=1.3?u.configs():[],nodes:P.nodes(),availableLoggingDrivers:C.loggingPlugins(T<1.25),allowBindMounts:async function(){const e=y.isAdmin(),{allowBindMountsForRegularUsers:t}=$.SecuritySettings;return e||t}()}).then((function(e){t.availableVolumes=e.volumes,t.availableNetworks=e.networks,t.availableSecrets=e.secrets,t.availableConfigs=e.configs,t.availableLoggingDrivers=e.availableLoggingDrivers,function(e){var n=0,r=0;for(var a in e)e[a].CPUs&&e[a].CPUs>n&&(n=e[a].CPUs),e[a].Memory&&e[a].Memory>r&&(r=e[a].Memory);t.state.sliderMaxCpu=n>0?n/1e9:32,t.state.sliderMaxMemory=r>0?Math.floor(r/1e3/1e3):32768}(e.nodes),t.isAdmin=y.isAdmin(),t.allowBindMounts=e.allowBindMounts})).catch((function(e){x.error("Failure",e,"Unable to initialize view")}))}])},1816:function(e,t,n){"use strict";n.r(t);var r=n(99432),a=n.n(r),i=n(51235),s=n.n(i),o=n(25445),l=n.n(o),c=n(93715),d=n.n(c),u=n(83432),p=n.n(u),m=n(66539),g=n.n(m),h=n(6632),f=n.n(h),v=n(76939),b=n(93994),y=n(83471),w=n(52474);n(74612),n(17590),n(83431),n(33964),n(73631),n(49394),n(69480),n(47300),n(95765),n(2224),n(82292),n(31402),n(95266),n(418),n(13269),n(91082),n(72493),n(87512),angular.module("portainer.docker").controller("ServiceController",["$q","$scope","$transition$","$state","$location","$timeout","$anchorScroll","ServiceService","ConfigService","ConfigHelper","SecretService","ImageService","SecretHelper","ServiceHelper","LabelHelper","TaskService","NodeService","ContainerService","TaskHelper","Notifications","ModalService","PluginService","Authentication","VolumeService","ImageHelper","WebhookService","clipboard","WebhookHelper","NetworkService","RegistryService","endpoint",function(e,t,n,r,i,o,c,u,m,h,x,S,C,k,A,P,I,$,N,T,E,j,D,O,R,M,L,U,V,F,_){t.resourceType=y.O.Service,t.onUpdateResourceControlSuccess=function(){r.reload()},t.endpoint=_,t.state={updateInProgress:!1,deletionInProgress:!1,rollbackInProgress:!1},t.formValues={RegistryModel:new v.PorImageRegistryModel},t.tasks=[],t.availableImages=[],t.lastVersion=0;var K={},B=[];function z(e){var n=k.serviceToConfig(e.Model);if(n.Name=e.Name,n.Labels=A.fromKeyValueToLabelHash(e.ServiceLabels),n.TaskTemplate.ContainerSpec.Env=b.convertToArrayOfStrings(e.EnvironmentVariables),n.TaskTemplate.ContainerSpec.Labels=A.fromKeyValueToLabelHash(e.ServiceContainerLabels),t.hasChanges(e,["Image"])){const e=R.createImageConfigForContainer(t.formValues.RegistryModel);n.TaskTemplate.ContainerSpec.Image=e.fromImage,n.registryId=t.formValues.RegistryModel.Registry.Id}else n.TaskTemplate.ContainerSpec.Image=e.Image;if(t.hasChanges(e,["Networks"])&&(n.Networks=g()(p()(e.Networks,(e=>e.Id&&e.Editable)),(e=>({Target:e.Id}))),n.TaskTemplate.Networks=n.Networks),n.TaskTemplate.ContainerSpec.Secrets=e.ServiceSecrets?e.ServiceSecrets.map(C.secretConfig):[],n.TaskTemplate.ContainerSpec.Configs=e.ServiceConfigs?e.ServiceConfigs.map(h.configConfig):[],n.TaskTemplate.ContainerSpec.Hosts=e.Hosts?k.translateHostnameIPToHostsEntries(e.Hosts):[],"replicated"===e.Mode&&(n.Mode.Replicated.Replicas=e.Replicas),n.TaskTemplate.ContainerSpec.Mounts=e.ServiceMounts,void 0===n.TaskTemplate.Placement&&(n.TaskTemplate.Placement={}),n.TaskTemplate.Placement.Constraints=k.translateKeyValueToPlacementConstraints(e.ServiceConstraints),n.TaskTemplate.Placement.Preferences=k.translateKeyValueToPlacementPreferences(e.ServicePreferences),t.hasChanges(e,["LimitNanoCPUs","LimitMemoryBytes","ReservationNanoCPUs","ReservationMemoryBytes"])){var r=(Math.round(8*e.LimitMemoryBytes)/8).toFixed(3);r*=1048576;var a=(Math.round(8*e.ReservationMemoryBytes)/8).toFixed(3);a*=1048576,n.TaskTemplate.Resources={Limits:{NanoCPUs:1e9*e.LimitNanoCPUs,MemoryBytes:r},Reservations:{NanoCPUs:1e9*e.ReservationNanoCPUs,MemoryBytes:a}}}if(t.hasChanges(e,["UpdateFailureAction","UpdateDelay","UpdateParallelism","UpdateOrder"])&&(n.UpdateConfig={Parallelism:e.UpdateParallelism,Delay:k.translateHumanDurationToNanos(e.UpdateDelay)||0,FailureAction:e.UpdateFailureAction,Order:e.UpdateOrder}),t.hasChanges(e,["RestartCondition","RestartDelay","RestartMaxAttempts","RestartWindow"])&&(n.TaskTemplate.RestartPolicy={Condition:e.RestartCondition,Delay:k.translateHumanDurationToNanos(e.RestartDelay)||5e9,MaxAttempts:e.RestartMaxAttempts,Window:k.translateHumanDurationToNanos(e.RestartWindow)||0}),n.TaskTemplate.LogDriver=null,e.LogDriverName&&(n.TaskTemplate.LogDriver={Name:e.LogDriverName},"none"!==e.LogDriverName)){var i=k.translateKeyValueToLogDriverOpts(e.LogDriverOpts);0!==Object.keys(i).length&&i.constructor===Object&&(n.TaskTemplate.LogDriver.Options=i)}return e.Ports&&e.Ports.forEach((function(e){null!==e.PublishedPort&&""!==e.PublishedPort||delete e.PublishedPort})),n.EndpointSpec={Mode:n.EndpointSpec&&n.EndpointSpec.Mode||"vip",Ports:e.Ports},n}function H(){var r=t.applicationState.endpoint.apiVersion,i=t.applicationState.endpoint.mode.agentProxy,v=null;u.service(n.params().id).then((function(n){return v=n,t.isUpdating=t.lastVersion>=v.Version,t.isUpdating||(t.lastVersion=v.Version),function(e){e.LimitNanoCPUs=e.LimitNanoCPUs/1e9||0,e.ReservationNanoCPUs=e.ReservationNanoCPUs/1e9||0,e.LimitMemoryBytes=e.LimitMemoryBytes/1024/1024||0,e.ReservationMemoryBytes=e.ReservationMemoryBytes/1024/1024||0}(v),function(e){e.ServiceSecrets=e.Secrets?e.Secrets.map(C.flattenSecret):[],e.ServiceConfigs=e.Configs?e.Configs.map(h.flattenConfig):[],e.EnvironmentVariables=b.parseArrayOfStrings(e.Env).map((e=>({...e,added:!0}))).sort(((e,t)=>e.name>t.name?1:-1)),e.LogDriverOpts=k.translateLogDriverOptsToKeyValue(e.LogDriverOpts),e.ServiceLabels=A.fromLabelHashToKeyValue(e.Labels),e.ServiceContainerLabels=A.fromLabelHashToKeyValue(e.ContainerLabels),e.ServiceMounts=angular.copy(e.Mounts),e.ServiceConstraints=k.translateConstraintsToKeyValue(e.Constraints),e.ServicePreferences=k.translatePreferencesToKeyValue(e.Preferences),e.Hosts=k.translateHostsEntriesToHostnameIP(e.Hosts)}(v),function(e){e.RestartDelay=k.translateNanosToHumanDuration(e.RestartDelay)||"5s",e.RestartWindow=k.translateNanosToHumanDuration(e.RestartWindow)||"0s",e.UpdateDelay=k.translateNanosToHumanDuration(e.UpdateDelay)||"0s",e.StopGracePeriod=e.StopGracePeriod?k.translateNanosToHumanDuration(e.StopGracePeriod):""}(v),t.service=v,K=angular.copy(v),e.all({volumes:O.volumes(),tasks:P.tasks({service:[v.Name]}),containers:i?$.containers():[],nodes:I.nodes(),secrets:r>=1.25?x.secrets():[],configs:r>=1.3?m.configs():[],availableImages:S.images(),availableLoggingDrivers:j.loggingPlugins(r<1.25),availableNetworks:V.networks(!0,!0,r>=1.25),webhooks:M.webhooks(v.Id,_.Id)})})).then((async function(e){t.nodes=e.nodes,t.configs=e.configs,t.secrets=e.secrets,t.availableImages=S.getUniqueTagListFromImages(e.availableImages),t.availableLoggingDrivers=e.availableLoggingDrivers,t.availableVolumes=e.volumes,t.allowBindMounts=_.SecuritySettings.allowBindMountsForRegularUsers,t.isAdmin=D.isAdmin(),t.availableNetworks=e.availableNetworks,t.swarmNetworks=p()(t.availableNetworks,(e=>"swarm"===e.Scope));const n=d()(l()(t.service.Model.Spec.Networks||[],t.service.Model.Spec.TaskTemplate.Networks||[]),"Target"),r=p()(g()(n,(({Target:t})=>s()(e.availableNetworks,{Id:t}))),Boolean);if(a()(t.service.Ports,(e=>"ingress"===e.PublishMode))){const e=s()(t.availableNetworks,(e=>e.Ingress));e&&r.unshift(e)}if(t.service.Networks=await Promise.all(g()(r,(async e=>{let t="";if(e.IPAM.Config.length)t=e.IPAM.Config[0].Subnet;else{const n=await V.network(e.Id);t=n&&n.IPAM&&n.IPAM.Config&&n.IPAM.Config.length&&n.IPAM.Config[0].Subnet||""}return{Id:e.Id,Name:e.Name,Addr:t,Editable:!e.Ingress}}))),K.Networks=angular.copy(t.service.Networks),e.webhooks.length>0){var u=e.webhooks[0];t.WebhookExists=!0,t.webhookID=u.Id,t.webhookURL=U.returnWebhookUrl(u.Token)}var m=e.tasks;if(i)for(var h=e.containers,b=0;b<m.length;b++){var y=m[b];N.associateContainerToTask(y,h)}k.associateTasksToService(v,m),t.tasks=e.tasks;var w=0;for(var x in e.nodes)e.nodes[x].CPUs&&e.nodes[x].CPUs>w&&(w=e.nodes[x].CPUs);t.state.sliderMaxCpu=w>0?w/1e9:32;const C=t.service.Model.Spec.TaskTemplate.ContainerSpec.Image;F.retrievePorRegistryModelFromRepository(C,_.Id).then((e=>{t.formValues.RegistryModel=e,t.initialRegistryID=f()(e,"Registry.Id",0)})),t.state.addSecret={override:!1},o((function(){c()}))})).catch((function(e){t.secrets=[],t.configs=[],T.error("Failure",e,"Unable to retrieve service details")}))}function G(e,t){B.push(t),e.hasChanges=!0}t.goToItem=function(e){i.hash()!==e?i.hash(e):c()},t.addEnvironmentVariable=function(e){e.EnvironmentVariables.push({name:"",value:""}),G(e,"EnvironmentVariables",e.EnvironmentVariables)},t.onChangeEnvVars=function(e){const n=t.service,r=n.EnvironmentVariables;n.EnvironmentVariables=e.map((e=>{const t=r.find((({name:t})=>e.name===t)),n=t&&t.added;return{...e,added:n}})),G(n,"EnvironmentVariables",n.EnvironmentVariables)},t.addConfig=function(e,t){t&&0===e.ServiceConfigs.filter((function(e){return e.Id===t.Id})).length&&(e.ServiceConfigs.push({Id:t.Id,Name:t.Name,FileName:t.Name,Uid:"0",Gid:"0",Mode:292}),G(e,"ServiceConfigs",e.ServiceConfigs))},t.removeConfig=function(e,t){null!==e.ServiceConfigs.splice(t,1)&&G(e,"ServiceConfigs",e.ServiceConfigs)},t.updateConfig=function(e){G(e,"ServiceConfigs",e.ServiceConfigs)},t.addSecret=function(e,t){if(t.secret){var n=t.secret.Name;t.override&&(n=t.target),0===e.ServiceSecrets.filter((function(e){return e.Id===t.secret.Id&&e.FileName===n})).length&&(e.ServiceSecrets.push({Id:t.secret.Id,Name:t.secret.Name,FileName:n,Uid:"0",Gid:"0",Mode:444}),G(e,"ServiceSecrets",e.ServiceSecrets))}},t.removeSecret=function(e,t){null!==e.ServiceSecrets.splice(t,1)&&G(e,"ServiceSecrets",e.ServiceSecrets)},t.addLabel=function(e){e.ServiceLabels.push({key:"",value:"",originalValue:""}),G(e,"ServiceLabels",e.ServiceLabels)},t.removeLabel=function(e,t){null!==e.ServiceLabels.splice(t,1)&&G(e,"ServiceLabels",e.ServiceLabels)},t.updateLabel=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||G(e,"ServiceLabels",e.ServiceLabels)},t.addContainerLabel=function(e){e.ServiceContainerLabels.push({key:"",value:"",originalValue:""}),G(e,"ServiceContainerLabels",e.ServiceContainerLabels)},t.removeContainerLabel=function(e,t){null!==e.ServiceContainerLabels.splice(t,1)&&G(e,"ServiceContainerLabels",e.ServiceContainerLabels)},t.updateContainerLabel=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||G(e,"ServiceContainerLabels",e.ServiceContainerLabels)},t.addMount=function(e){e.ServiceMounts.push({Type:"volume",Source:null,Target:"",ReadOnly:!1}),G(e,"ServiceMounts",e.ServiceMounts)},t.removeMount=function(e,t){null!==e.ServiceMounts.splice(t,1)&&G(e,"ServiceMounts",e.ServiceMounts)},t.onChangeMountType=function(e,n){n.Source=null,t.updateMount(e,n)},t.updateMount=function(e){G(e,"ServiceMounts",e.ServiceMounts)},t.addNetwork=function(e){e.Networks||(e.Networks=[]),e.Networks.push({Editable:!0})},t.removeNetwork=function(e,t){var n=e.Networks.splice(t,1);n&&n.length&&n[0].Id&&G(e,"Networks",e.Networks)},t.updateNetwork=function(e){G(e,"Networks",e.Networks)},t.addPlacementConstraint=function(e){e.ServiceConstraints.push({key:"",operator:"==",value:""}),G(e,"ServiceConstraints",e.ServiceConstraints)},t.removePlacementConstraint=function(e,t){null!==e.ServiceConstraints.splice(t,1)&&G(e,"ServiceConstraints",e.ServiceConstraints)},t.updatePlacementConstraint=function(e){G(e,"ServiceConstraints",e.ServiceConstraints)},t.addPlacementPreference=function(e){e.ServicePreferences.push({strategy:"spread",value:""}),G(e,"ServicePreferences",e.ServicePreferences)},t.removePlacementPreference=function(e,t){null!==e.ServicePreferences.splice(t,1)&&G(e,"ServicePreferences",e.ServicePreferences)},t.updatePlacementPreference=function(e){G(e,"ServicePreferences",e.ServicePreferences)},t.addPublishedPort=function(e){e.Ports||(e.Ports=[]),e.Ports.push({PublishedPort:"",TargetPort:"",Protocol:"tcp",PublishMode:"ingress"})},t.updatePublishedPort=function(e){G(e,"Ports",e.Ports)},t.removePortPublishedBinding=function(e,t){null!==e.Ports.splice(t,1)&&G(e,"Ports",e.Ports)},t.addLogDriverOpt=function(e){e.LogDriverOpts.push({key:"",value:"",originalValue:""}),G(e,"LogDriverOpts",e.LogDriverOpts)},t.removeLogDriverOpt=function(e,t){null!==e.LogDriverOpts.splice(t,1)&&G(e,"LogDriverOpts",e.LogDriverOpts)},t.updateLogDriverOpt=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||G(e,"LogDriverOpts",e.LogDriverOpts)},t.updateLogDriverName=function(e){G(e,"LogDriverName",e.LogDriverName)},t.addHostsEntry=function(e){e.Hosts||(e.Hosts=[]),e.Hosts.push({hostname:"",ip:""})},t.removeHostsEntry=function(e,t){null!==e.Hosts.splice(t,1)&&G(e,"Hosts",e.Hosts)},t.updateHostsEntry=function(e){G(e,"Hosts",e.Hosts)},t.onWebhookChange=function(e){t.$evalAsync((()=>{t.updateWebhook(t.service),t.WebhookExists=e}))},t.updateWebhook=function(e){t.WebhookExists?M.deleteWebhook(t.webhookID).then((function(){t.webhookURL=null,t.webhookID=null,t.WebhookExists=!1})).catch((function(e){T.error("Failure",e,"Unable to delete webhook")})):M.createServiceWebhook(e.Id,_.Id,t.initialRegistryID).then((function(e){t.WebhookExists=!0,t.webhookID=e.Id,t.webhookURL=U.returnWebhookUrl(e.Token)})).catch((function(e){T.error("Failure",e,"Unable to create webhook")}))},t.updateWebhookRegistryId=function(){const e=f()(t.formValues.RegistryModel,"Registry.Id",0),n=t.initialRegistryID!=e;t.WebhookExists&&n&&M.updateServiceWebhook(t.webhookID,e).catch((function(e){T.error("Failure",e,"Unable to update webhook")}))},t.copyWebhook=function(){L.copyText(t.webhookURL),w("#copyNotification").show(),w("#copyNotification").fadeOut(2e3)},t.cancelChanges=async function(e,n){if(n)for(const e of n)if("Image"===e)t.formValues.RegistryModel=await F.retrievePorRegistryModelFromRepository(K.Image,_.Id);else{var r=B.indexOf(e);r>=0&&B.splice(r,1)}else t.formValues.RegistryModel=await F.retrievePorRegistryModelFromRepository(K.Image,_.Id),n=Object.keys(e),B=[];n.forEach((function(t){e[t]=K[t]})),e.hasChanges=!1},t.hasChanges=function(e,n){var r=!1;return n.forEach((function(n){if("Image"===n){const n=e?e.Model.Spec.TaskTemplate.ContainerSpec.Image:null,a=R.createImageConfigForContainer(t.formValues.RegistryModel).fromImage;r=r||n!==a}else r=r||B.indexOf(n)>=0})),r},t.mountsAreValid=function(){return t.service.ServiceMounts.every((e=>e.Source&&e.Target))},t.rollbackService=function(e){E.confirmWarn({title:"Rollback service",message:"Are you sure you want to rollback?",buttons:{confirm:{label:"Yes",className:"btn-danger"}},callback:function(n){n&&function(e){t.state.rollbackInProgress=!0;let n={};n=z(e),u.update(e,n,"previous").then((function(e){e.message&&e.message.match(/^rpc error:/)?T.error("Failure",e,"Error"):(T.success("Success","Service successfully rolled back"),t.cancelChanges({}),H())})).catch((function(e){e.data.message&&e.data.message.includes("does not have a previous spec")?T.error("Failure",{message:"No previous config to rollback to."}):T.error("Failure",e,"Unable to rollback service")})).finally((function(){t.state.rollbackInProgress=!1}))}(e)}})},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.updateService=function(e){let n={};n=z(e),u.update(e,n).then((function(e){e.message&&e.message.match(/^rpc error:/)?T.error("Failure",e,"Error"):(T.success("Service successfully updated","Service updated"),t.updateWebhookRegistryId()),t.cancelChanges({}),H()}),(function(e){T.error("Failure",e,"Unable to update service")}))},t.removeService=function(){E.confirmDeletion("Do you want to remove this service? All the containers associated to this service will be removed too.",(function(n){n&&(t.state.deletionInProgress=!0,u.remove(t.service).then((function(){return e.when(t.webhookID&&M.deleteWebhook(t.webhookID))})).then((function(){T.success("Success","Service successfully deleted"),r.go("docker.services",{})})).catch((function(e){T.error("Failure",e,"Unable to remove service")})).finally((function(){t.state.deletionInProgress=!1})))}))},t.forceUpdateService=function(e){E.confirmServiceForceUpdate("Do you want to force an update of the service? All the tasks associated to the service will be recreated.",(function(n){if(n){var r=!1;n[0]&&(r=!0),function(e,n){var r=k.serviceToConfig(e.Model);n&&(r.TaskTemplate.ContainerSpec.Image=R.removeDigestFromRepository(r.TaskTemplate.ContainerSpec.Image)),r.TaskTemplate.ForceUpdate++,t.state.updateInProgress=!0,u.update(e,r).then((function(){T.success("Service successfully updated",e.Name),t.cancelChanges({}),H()})).catch((function(t){T.error("Failure",t,"Unable to force update service",e.Name)})).finally((function(){t.state.updateInProgress=!1}))}(e,r)}}))},t.updateServiceAttribute=function(e,t){e[t]===K[t]&&t in K||(e.hasChanges=!0),B.push(t)},t.filterNetworks=function(e,n){return e.filter((e=>!e.Ingress&&(e.Id===n.Id||t.service.Networks.every((t=>e.Id!==t.Id)))))},H()}])},59139:function(e,t,n){"use strict";n.r(t);var r=n(4396),a=n.n(r);angular.module("portainer.docker").controller("ServiceLogsController",["$scope","$transition$","$interval","ServiceService","Notifications",function(e,t,n,r,i){function s(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function o(){var o=e.state.refreshRate;e.repeater=n((function(){r.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,a()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t})).catch((function(e){s(),i.error("Failure",e,"Unable to retrieve service logs")}))}),1e3*o)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:"",displayTimestamps:!1},e.changeLogCollection=function(e){e?o():s()},e.$on("$destroy",(function(){s()})),r.service(t.params().id).then((function(n){e.service=n,r.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,a()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t,o()})).catch((function(e){s(),i.error("Failure",e,"Unable to retrieve service logs")}))})).catch((function(e){i.error("Failure",e,"Unable to retrieve service information")}))}])},48566:function(){angular.module("portainer.docker").controller("ServicesController",["$q","$scope","ServiceService","ServiceHelper","Notifications","TaskService","TaskHelper","NodeService","ContainerService","endpoint",function(e,t,n,r,a,i,s,o,l,c){function d(){var c=t.applicationState.endpoint.mode.agentProxy;return e.all({services:n.services(),tasks:i.tasks(),containers:c?l.containers(1):[],nodes:o.nodes()}).then((function(e){var n=e.services,a=e.tasks;if(c)for(var i=e.containers,o=0;o<a.length;o++){var l=a[o];s.associateContainerToTask(l,i)}for(var d=0;d<n.length;d++){var u=n[d];r.associateTasksToService(u,a)}t.nodes=e.nodes,t.tasks=a,t.services=n})).catch((function(e){t.services=[],a.error("Failure",e,"Unable to retrieve services")}))}t.getServices=d,t.endpoint=c,d()}])},9104:function(){angular.module("portainer.docker").controller("SwarmController",["$q","$scope","SystemService","NodeService","Notifications","StateManager","Authentication",function(e,t,n,r,a,i,s){function o(e,n){var r={};r.name=e[n][0],r.ip=e[n][1],r.Id=e[n+1][1],r.status=e[n+2][1],r.containers=e[n+3][1],r.cpu=e[n+4][1].split("/")[1],r.memory=e[n+5][1].split("/")[1],r.labels=e[n+6][1],r.version=e[n+8][1],t.swarm.Status.push(r)}function l(){"DOCKER_SWARM_MODE"===t.applicationState.endpoint.mode.provider&&r.nodes().then((function(e){var n=e;!function(e){var n=0,r=0;angular.forEach(e,(function(e){n+=e.CPUs,r+=e.Memory})),t.totalCPU=n/1e9,t.totalMemory=r}(n),t.nodes=n})).catch((function(e){a.error("Failure",e,"Unable to retrieve cluster details")}))}t.info={},t.docker={},t.swarm={},t.totalCPU=0,t.totalMemory=0,t.getNodes=l,function(){t.isAdmin=s.isAdmin();var r=t.applicationState.endpoint.mode.provider;e.all({version:n.version(),info:n.info()}).then((function(e){t.docker=e.version,t.info=e.info,"DOCKER_SWARM_MODE"===r?l():function(e){var n=e.SystemStatus;t.swarm[n[1][0]]=n[1][1],t.swarm[n[2][0]]=n[2][1];var r="primary"===n[0][1]?n[3][1]:n[4][1],a=parseInt(r,10);t.swarm[n[3][0]]=a,t.swarm.Status=[],function(e,t){var n="primary"===e[0][1]?4:5;for(let r=0;r<t;r++)o(e,n),n+=9}(n,a)}(e.info)})).catch((function(e){a.error("Failure",e,"Unable to retrieve cluster details")}))}()}])},83456:function(e,t,n){var r=n(52474);angular.module("portainer.docker").controller("SwarmVisualizerController",["$q","$scope","$document","$interval","NodeService","ServiceService","TaskService","Notifications","LocalStorage",function(e,t,n,a,i,s,o,l,c){function d(){var e=t.repeater;angular.isDefined(e)&&(a.cancel(e),e=null)}function u(){var n=t.state.refreshRate;t.repeater=a((function(){e.all({nodes:i.nodes(),services:s.services(),tasks:o.tasks()}).then((function(e){var n=e.nodes;t.nodes=n;var r=e.services;t.services=r;var a=e.tasks;t.tasks=a,p(n,r,a)})).catch((function(e){d(),l.error("Failure",e,"Unable to retrieve cluster information")}))}),1e3*n)}function p(e,n,r){var a={};!function(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],a=0;a<t.length;a++){var i=t[a];i.ServiceId===r.Id&&(i.ServiceName=r.Name)}}(n,r),function(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.Tasks=[];for(var a=0;a<t.length;a++){var i=t[a];i.NodeId===r.Id&&r.Tasks.push(i)}}}(e,r),a.nodes=e,t.visualizerData=a}t.state={ShowInformationPanel:!0,DisplayOnlyRunningTasks:!1,DisplayNodeLabels:!1,refreshRate:"5"},t.handleChangeDisplayOnlyRunningTasks=function(e){t.$evalAsync((()=>{t.state.DisplayOnlyRunningTasks=e,t.changeDisplayOnlyRunningTasks()}))},t.handleChangeDisplayNodeLabels=function(e){t.$evalAsync((()=>{t.state.DisplayNodeLabels=e,t.changeDisplayNodeLabels()}))},t.$on("$destroy",(function(){d()})),t.changeShowInformationPanel=function(e){t.state.ShowInformationPanel=e,c.storeSwarmVisualizerSettings("show_info_panel",e)},t.changeDisplayOnlyRunningTasks=function(){var e=t.state.DisplayOnlyRunningTasks;c.storeSwarmVisualizerSettings("display_only_running_tasks",e)},t.changeDisplayNodeLabels=function(){var e=t.state.DisplayNodeLabels;c.storeSwarmVisualizerSettings("display_node_labels",e)},t.changeUpdateRepeater=function(){d(),u(),r("#refreshRateChange").show(),r("#refreshRateChange").fadeOut(1500),c.storeSwarmVisualizerSettings("refresh_rate",t.state.refreshRate)},e.all({nodes:i.nodes(),services:s.services(),tasks:o.tasks()}).then((function(e){var n=e.nodes;t.nodes=n;var r=e.services;t.services=r;var a=e.tasks;t.tasks=a,p(n,r,a),u()})).catch((function(e){l.error("Failure",e,"Unable to initialize cluster visualizer")})),function(){var e=c.getSwarmVisualizerSettings("show_info_panel");null!=e&&(t.state.ShowInformationPanel=e);var n=c.getSwarmVisualizerSettings("display_only_running_tasks");null!=n&&(t.state.DisplayOnlyRunningTasks=n);var r=c.getSwarmVisualizerSettings("display_node_labels");null!=r&&(t.state.DisplayNodeLabels=r);var a=c.getSwarmVisualizerSettings("refresh_rate");null!=a&&(t.state.refreshRate=a)}()}])},75349:function(){angular.module("portainer.docker").controller("TaskController",["$scope","$transition$","TaskService","ServiceService","Notifications",function(e,t,n,r,a){n.task(t.params().id).then((function(t){var n=t;return e.task=n,r.service(n.ServiceId)})).then((function(t){var n=t;e.service=n})).catch((function(e){a.error("Failure",e,"Unable to retrieve task details")}))}])},93356:function(e,t,n){"use strict";n.r(t);var r=n(4396),a=n.n(r);angular.module("portainer.docker").controller("TaskLogsController",["$scope","$transition$","$interval","TaskService","ServiceService","Notifications",function(e,t,n,r,i,s){function o(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function l(){var i=e.state.refreshRate;e.repeater=n((function(){r.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,a()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t})).catch((function(e){o(),s.error("Failure",e,"Unable to retrieve task logs")}))}),1e3*i)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:"",displayTimestamps:!1},e.changeLogCollection=function(e){e?l():o()},e.$on("$destroy",(function(){o()})),r.task(t.params().id).then((function(t){var n=t;return e.task=n,i.service(n.ServiceId)})).then((function(n){var i=n;e.service=i,r.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,a()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t,l()})).catch((function(e){o(),s.error("Failure",e,"Unable to retrieve task logs")}))})).catch((function(e){s.error("Failure",e,"Unable to retrieve task details")}))}])},63137:function(){function e(e,t,n,r){e.volumeId=t.params().id,e.nodeName=t.params().nodeName,e.agentApiVersion=n.getAgentApiVersion(),e.endpointId=r.Id}e.$inject=["$scope","$transition$","StateManager","endpoint"],angular.module("portainer.docker").controller("BrowseVolumeController",e)},61362:function(e,t,n){"use strict";n.r(t);var r=n(19898),a=n(4819),i=n(86668);angular.module("portainer.docker").controller("CreateVolumeController",["$q","$scope","$state","VolumeService","PluginService","ResourceControlService","Authentication","Notifications","FormValidator","HttpRequestHelper",function(e,t,n,s,o,l,c,d,u,p){var m;t.formValues={Driver:"local",DriverOptions:[],AccessControlData:new r.AccessControlFormData,NodeName:null,NFSData:new a.VolumesNFSFormData,CIFSData:new i.VolumesCIFSFormData},t.state={formValidationError:"",actionInProgress:!1},t.availableVolumeDrivers=[],t.addDriverOption=function(){t.formValues.DriverOptions.push({name:"",value:""})},t.removeDriverOption=function(e){t.formValues.DriverOptions.splice(e,1)},t.onUseNFSChange=function(e){return t.$evalAsync((()=>{t.formValues.NFSData.useNFS=e,t.formValues.CIFSData.useCIFS=!1}))},t.onUseCIFSChange=function(e){return t.$evalAsync((()=>{t.formValues.CIFSData.useCIFS=e,t.formValues.NFSData.useNFS=!1}))},t.create=function(){var e=t.formValues.Name,r=t.formValues.Driver,a=t.formValues.DriverOptions;t.formValues.NFSData.useNFS&&function(e){var n=t.formValues.NFSData;e.push({name:"type",value:"nfs"});var r="addr="+n.serverAddress+","+n.options;"NFS4"===n.version&&(r+=",nfsvers=4"),e.push({name:"o",value:r});var a=":"===n.mountPoint[0]?n.mountPoint:":"+n.mountPoint;e.push({name:"device",value:a})}(a),t.formValues.CIFSData.useCIFS&&function(e){const n=t.formValues.CIFSData;e.push({name:"type",value:"cifs"});let r=n.share.replace("\\","/");"/"!==r[0]&&(r="/"+r);const a="//"+n.serverAddress+r;e.push({name:"device",value:a});const i=n.versionsNumber[n.versions.indexOf(n.version)],s="addr="+n.serverAddress+",username="+n.username+",password="+n.password+",vers="+i;e.push({name:"o",value:s})}(a);var i=s.createVolumeConfiguration(e,r,a),o=t.formValues.AccessControlData,m=c.getUserDetails(),g=c.isAdmin();if(function(e,n){var r;return t.state.formValidationError="",!(r=u.validateAccessControl(e,n))||(t.state.formValidationError=r,!1)}(o,g)){var h=t.formValues.NodeName;p.setPortainerAgentTargetHeader(h),t.state.actionInProgress=!0,s.createVolume(i).then((function(e){const t=m.ID,n=e.ResourceControl;return l.applyResourceControl(t,o,n)})).then((function(){d.success("Success","Volume successfully created"),n.go("docker.volumes",{},{reload:!0})})).catch((function(e){d.error("Failure",e,"An error occured during volume creation")})).finally((function(){t.state.actionInProgress=!1}))}},m=t.applicationState.endpoint.apiVersion,o.volumePlugins(m<1.25).then((function(e){t.availableVolumeDrivers=e})).catch((function(e){d.error("Failure",e,"Unable to retrieve volume drivers")}))}])},28862:function(e,t,n){"use strict";n.r(t);var r=n(83471);angular.module("portainer.docker").controller("VolumeController",["$scope","$state","$transition$","$q","ModalService","VolumeService","ContainerService","Notifications","HttpRequestHelper",function(e,t,n,a,i,s,o,l,c){e.resourceType=r.O.Volume,e.onUpdateResourceControlSuccess=function(){t.reload()},e.removeVolume=function(){i.confirmDeletion("Do you want to remove this volume?",(r=>{r&&s.remove(e.volume).then((function(){l.success("Volume successfully removed",n.params().id),t.go("docker.volumes",{})})).catch((function(e){l.error("Failure",e,"Unable to remove volume")}))}))},c.setPortainerAgentTargetHeader(n.params().nodeName),s.volume(n.params().id).then((function(t){var n=t;e.volume=n;var r={volume:[n.Id]};return o.containers(1,r)})).then((function(t){var n=(e.isCioDriver?t.containers:t).map((function(t){return t.volumeData=function(e,t){return e.Mounts.find((function(e){return e.Name===t}))}(t,e.volume.Id),t}));e.containersUsingVolume=n})).catch((function(e){l.error("Failure",e,"Unable to retrieve volume details")}))}])},6002:function(e,t,n){"use strict";n.r(t);var r=n(70589);angular.module("portainer.docker").controller("VolumesController",["$q","$scope","$state","VolumeService","ServiceService","VolumeHelper","Notifications","HttpRequestHelper","Authentication","ModalService","endpoint",function(e,t,n,a,i,s,o,l,c,d,u){function p(){var n=t.applicationState.endpoint.mode.provider,l=t.applicationState.endpoint.mode.role;e.all({attached:a.volumes({filters:{dangling:["false"]}}),dangling:a.volumes({filters:{dangling:["true"]}}),services:"DOCKER_SWARM_MODE"===n&&"MANAGER"===l?i.services():[]}).then((function(e){var n=e.services;t.offlineMode=(0,r.isOfflineEndpoint)(u),t.volumes=e.attached.map((function(e){return e.dangling=!1,e})).concat(e.dangling.map((function(e){return e.dangling=!0,s.isVolumeUsedByAService(e,n)&&(e.dangling=!1),e})))})).catch((function(e){o.error("Failure",e,"Unable to retrieve volumes")}))}t.removeAction=function(e){d.confirmDeletion("Do you want to remove the selected volume(s)?",(r=>{if(r){var i=e.length;angular.forEach(e,(function(e){l.setPortainerAgentTargetHeader(e.NodeName),a.remove(e).then((function(){o.success("Volume successfully removed",e.Id);var n=t.volumes.indexOf(e);t.volumes.splice(n,1)})).catch((function(e){o.error("Failure",e,"Unable to remove volume")})).finally((function(){0==--i&&n.reload()}))}))}}))},t.offlineMode=!1,t.getVolumes=p,p(),t.showBrowseAction=t.applicationState.endpoint.mode.agentProxy&&(c.isAdmin()||u.SecuritySettings.allowVolumeBrowserForRegularUsers)}])},42374:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(54269),s=n(3731),o=n(65280),l=n(81800),c=n(6142),d=(n(20493),n(83810)),u=n(64858),p=a().module("app.edge.components",[]).component("edgeScriptForm",(0,s.A)((0,o.H)(d.y),["edgeInfo","commands","isNomadTokenVisible"])).component("edgeCheckinIntervalField",u.v).name,m=n(89023),g=n(86064),h=n(23945),f=(n(83302),n(18311)),v=n(63613),b=n(71535),y=(n(65562),n(57592),n(92429),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(66076),n(77072),n(4450)),w=n(87227),x=n(46021),S=n(12584),C=n(29722),k=n(1808),A=n(38276),P=n(59765),I=(n(40958),n(50527),n(51641));n(6811),n(19990);var $=n(2629),N=n(20810),T=n.n(N),E=(n(78495),n(6174)),j=a().module("portainer.edge.react.components",[]).component("edgeGroupsSelector",(0,s.A)((function(e){var t=e.items,n=e.value,r=e.onChange,a=T()(n.map((function(e){return t.find((function(t){return t.Id===e}))})));return(0,$.jsx)(E.P,{"aria-label":"Edge groups",options:t,isMulti:!0,getOptionLabel:function(e){return e.Name},getOptionValue:function(e){return String(e.Id)},value:a,onChange:function(e){r(e.map((function(e){return e.Id})))},placeholder:"Select one or multiple group(s)",closeMenuOnSelect:!1})}),["items","onChange","value"])).name,D=n(95004),O=n(59991),R=n(22589),M=n(35094),L=(n(19992),n(15556),n(50033),n(66549),n(47097),n(98191),n(62176),n(73903)),U=n(86103),V=n.n(U),F=n(76827),_=n(9924);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=(0,_.w)(),z=B.RowProvider,H=B.useRowContext;function G(e){var t,n,r=e.environmentId,a=e.children,i=(t=(0,D.useReducer)((function(e){return!e}),!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],o=i[1],l=(0,D.useMemo)((function(){return{isLoading:s,toggleIsLoading:o,environmentId:r}}),[r,s]);return(0,$.jsx)(z,{context:l,children:a})}function Z(e){var t=e.children;return(0,$.jsx)("div",{className:"inner-datatable",children:t})}var q,W,Q={Header:"Hostname",accessor:function(e){return e.hostname||"-"},id:"hostname",disableFilters:!0,canHide:!0,sortType:"string",Filter:function(){return null}},Y=n(39532),J={Header:"MPS Status",id:"status",disableFilters:!0,canHide:!0,sortType:"string",Cell:function(e){var t=e.row.original;return(0,$.jsx)("span",{className:(0,Y.Z)({"text-success":t.connectionStatus}),children:t.connectionStatus?"Connected":"Disconnected"})},Filter:function(){return null}};!function(e){e.Running="Running",e.Sleep="Sleep",e.Off="Off",e.Hibernate="Hibernate",e.PowerCycle="Power Cycle"}(q||(q={})),function(e){e[e.On=2]="On",e[e.SleepLight=3]="SleepLight",e[e.SleepDeep=4]="SleepDeep",e[e.OffHard=6]="OffHard",e[e.Hibernate=7]="Hibernate",e[e.OffSoft=8]="OffSoft",e[e.PowerCycle=9]="PowerCycle",e[e.OffHardGraceful=13]="OffHardGraceful"}(W||(W={}));var X={Header:"Power State",accessor:function(e){return ee(e.powerState)},id:"powerState",disableFilters:!0,canHide:!0,sortType:"string",Cell:function(e){var t=e.row.original,n=H().isLoading;return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("span",{className:(0,Y.Z)({"text-success":t.powerState===W.On}),children:ee(t.powerState)}),(0,$.jsx)("span",{children:n&&(0,$.jsx)("i",{className:"fa fa-cog fa-spin space-left"})})]})},Filter:function(){return null}};function ee(e){switch(e){case W.On:return q.Running;case W.SleepLight:case W.SleepDeep:return q.Sleep;case W.OffHard:case W.OffSoft:case W.OffHardGraceful:return q.Off;case W.Hibernate:return q.Hibernate;case W.PowerCycle:return q.PowerCycle;default:return"-"}}var te=n(29937),ne=n(46980);function re(e){var t=e.children;return(0,$.jsx)(te.v2,{className:"app-react-components-datatables-ActionsMenu-module__actions",children:function(e){var n=e.isExpanded;return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(te.j2,{className:(0,Y.Z)("app-react-components-datatables-ActionsMenu-module__table-actions-menu-btn",n&&"app-react-components-datatables-ActionsMenu-module__actions-active"),children:(0,$.jsx)("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})}),(0,$.jsx)(te.qy,{children:(0,$.jsx)("div",{className:"app-react-components-datatables-ActionsMenu-module__table-actions-menu-list",children:t})})]})}})}var ae;function ie(e){var t=e.children;return(0,$.jsx)("div",{className:"app-react-components-datatables-ActionsMenuTitle-module__table-actions-title",children:t})}function se(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){se(i,r,a,s,o,"next",e)}function o(e){se(i,r,a,s,o,"throw",e)}s(void 0)}))}}!function(e){e.PowerOn="power on",e.PowerOff="power off",e.Restart="restart"}(ae||(ae={}));var le={Header:"Actions",accessor:function(){return"actions"},id:"actions",disableFilters:!0,canHide:!0,disableResizing:!0,width:"5px",sortType:"string",Filter:function(){return null},Cell:function(e){var t=e.row.original,n=(0,I.useQueryClient)(),r=H(),a=r.isLoading,i=r.toggleIsLoading,s=r.environmentId,o=(0,m.useSref)("portainer.endpoints.endpoint.kvm",{id:s,deviceId:t.guid,deviceName:t.hostname});return(0,$.jsxs)(re,{children:[(0,$.jsx)(ie,{children:"AMT Functions"}),(0,$.jsx)(te.sN,{disabled:a,onSelect:function(){return l(ae.PowerOn)},children:"Power ON"}),(0,$.jsx)(te.sN,{disabled:a,onSelect:function(){return l(ae.PowerOff)},children:"Power OFF"}),(0,$.jsx)(te.sN,{disabled:a,onSelect:function(){return l(ae.Restart)},children:"Restart"}),(0,$.jsx)(te.Uk,{href:o.href,onClick:o.onClick,disabled:a,children:"KVM"})]});function l(e){return c.apply(this,arguments)}function c(){return(c=oe(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ne.l9)({title:"Confirm action",message:"Are you sure you want to ".concat(r," the device?"),buttons:{cancel:{label:"Cancel",className:"btn-default"},confirm:{label:"Confirm",className:"btn-primary"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,i(),e.next=9,(0,F.aP)(s,t.guid,r);case 9:return x.Vp("".concat(r," action sent successfully"),t.hostname),e.next=12,n.invalidateQueries(["amt_devices",s]);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),x.vU("Failure",e.t0,"Failed to ".concat(r," the device"));case 17:return e.prev=17,i(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})))).apply(this,arguments)}}};function ce(e){var t=e.environmentId,n=(0,D.useMemo)((function(){return[Q,J,X,le]}),[]),r=function(e){var t=(0,I.useQuery)(["amt_devices",e],(function(){return(0,F.PW)(e)})),n=t.isLoading,r=t.data,a=t.isError,i=t.error;return(0,D.useEffect)((function(){a&&x.vU("Failure",i,"Failed retrieving AMT devices")}),[a,i]),{isLoading:n,devices:(0,D.useMemo)((function(){return r||[]}),[r]),error:a?i:void 0}}(t),a=r.isLoading,i=r.devices,s=r.error,o=(0,y.useTable)({columns:n,data:i},y.usePagination),l=o.getTableProps,c=o.getTableBodyProps,d=o.headerGroups,u=o.page,p=o.prepareRow,m=l(),g=c();return(0,$.jsx)(Z,{children:(0,$.jsx)(C.xJ,{children:(0,$.jsxs)(C.iA,{className:m.className,role:m.role,style:m.style,children:[(0,$.jsx)("thead",{children:d.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,r=t.className,a=t.role,i=t.style;return(0,$.jsx)(C.KA,{className:r,role:a,style:i,headers:e.headers},n)}))}),(0,$.jsx)("tbody",{className:g.className,role:g.role,style:g.style,children:!a&&i&&i.length>0?u.map((function(e){p(e);var n=e.getRowProps(),r=n.key,a=n.className,i=n.role,s=n.style;return(0,$.jsx)(G,{environmentId:t,children:(0,$.jsx)(C.SC,{cells:e.cells,className:a,role:i,style:s},r)},r)})):(0,$.jsx)("tr",{children:(0,$.jsx)("td",{colSpan:5,className:"text-center text-muted",children:de(a,s)})})})]})})})}function de(e,t){return e?"Loading...":t?t.message:"No devices found"}var ue,pe=n(35138),me=n(2294),ge=n(89996),he=n(33417),fe=n(77918),ve=n(31848),be=n(31051);function ye(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){ye(i,r,a,s,o,"next",e)}function o(e){ye(i,r,a,s,o,"throw",e)}s(void 0)}))}}function xe(e){var t=e.selectedItems,n=e.isOpenAMTEnabled,r=e.isFDOEnabled,a=e.setLoadingMessage,i=e.showWaitingRoomLink,s=(0,m.useRouter)();return(0,$.jsxs)("div",{className:"actionBar",children:[(0,$.jsx)(S.zx,{disabled:t.length<1,color:"danger",onClick:function(){return function(){return o.apply(this,arguments)}()},icon:"trash-2",featherIcon:!0,children:"Remove"}),(0,$.jsx)(S.zx,{onClick:function(){return function(){return l.apply(this,arguments)}()},icon:"plus",featherIcon:!0,children:"Add Device"}),n&&(0,$.jsx)(S.zx,{disabled:1!==t.length,onClick:function(){return function(e){return c.apply(this,arguments)}(t)},icon:"link",featherIcon:!0,children:"Associate with OpenAMT"}),i&&(0,$.jsx)(be.r,{to:"edge.devices.waiting-room",children:(0,$.jsx)(S.zx,{children:"Waiting Room"})})]});function o(){return o=we(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ne.j6)({title:"Are you sure ?",message:"This action will remove all configurations associated to your environment(s). Continue?",buttons:{confirm:{label:"Remove",className:"btn-danger"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Promise.all(t.map(function(){var e=we(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ve.xr)(t.Id);case 3:x.Vp("Environment successfully removed",t.Name),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),x.vU("Failure",e.t0,"Unable to remove environment");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.next=9,s.stateService.reload();case 9:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function l(){return(l=we(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,(0,fe.SW)({title:"How would you like to add an Edge Device?",inputType:"radio",inputOptions:[{text:"Provision bare-metal using Intel FDO",value:ue.FDO},{text:"Deploy agent manually",value:ue.MANUAL}],buttons:{confirm:{label:"Confirm",className:"btn-primary"}}});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=ue.MANUAL;case 7:t=e.t0,e.t1=t,e.next=e.t1===ue.FDO?11:e.t1===ue.MANUAL?13:15;break;case 11:return s.stateService.go("portainer.endpoints.importDevice"),e.abrupt("break",16);case 13:return s.stateService.go("portainer.wizard.endpoints",{edgeDevice:!0}),e.abrupt("break",16);case 15:return e.abrupt("break",16);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return c=we(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[0],e.next=3,(0,ne.l9)({title:"",message:"Associate ".concat(n.Name," with OpenAMT"),buttons:{cancel:{label:"Cancel",className:"btn-default"},confirm:{label:"Confirm",className:"btn-primary"}}});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,a("Activating Active Management Technology on selected device..."),e.next=10,(0,F.xq)(n.Id);case 10:x.Vp("Successfully associated with OpenAMT",n.Name),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),x.vU("Failure",e.t0,"Unable to associate with OpenAMT");case 16:return e.prev=16,a(""),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[6,13,16,19]])}))),c.apply(this,arguments)}}!function(e){e.FDO="FDO",e.MANUAL="MANUAL"}(ue||(ue={}));var Se=n(16838);function Ce(){var e=(0,v.h)(),t=e.settings,n=e.setTableSettings;return(0,$.jsx)(Se.k,{value:t.autoRefreshRate,onChange:function(e){n({autoRefreshRate:e})}})}var ke=(0,_.w)(),Ae=ke.RowProvider,Pe=ke.useRowContext;function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){var t,n=e.row,r=e.showExpandArrow,a=e.children;return(0,$.jsxs)($.Fragment,{children:[r&&(0,$.jsx)("button",{type:"button",className:"app-react-components-datatables-ExpandingCell-module__expand-button",children:(0,$.jsx)("i",$e($e({},n.getToggleRowExpandedProps()),{},{className:"fas ".concat((t=n.isExpanded,t?"fa-angle-down":"fa-angle-right")," space-right"),"aria-hidden":"true"}))}),a]})}var Ee={Header:"Name",accessor:function(e){return e.Name},id:"name",Cell:function(e){var t=e.value,n=e.row,r=!!(Pe().isOpenAmtEnabled&&n.original.AMTDeviceGUID&&n.original.AMTDeviceGUID.length>0);return(0,$.jsx)(Te,{row:n,showExpandArrow:r,children:(0,$.jsx)(be.r,{to:"portainer.endpoints.endpoint",params:{id:n.original.Id},title:t,children:t})})},disableFilters:!0,Filter:function(){return null},canHide:!1,sortType:"string"},je=n(63504),De={Header:"Heartbeat",accessor:"Status",id:"status",Cell:function(e){var t=e.row.original;return(0,$.jsx)(je.x,{environment:t})},disableFilters:!0,canHide:!0},Oe={Header:"Group",accessor:function(e){return e.GroupId},Cell:function(){return Pe().groupName},id:"groupName",Filter:n(33513).tS,canHide:!0},Re=n(57941),Me={Header:"Actions",accessor:function(){return"actions"},id:"actions",disableFilters:!0,canHide:!0,disableResizing:!0,width:"5px",sortType:"string",Filter:function(){return null},Cell:function(e){var t=e.row.original,n=((0,m.useRouter)(),(0,Re.Bv)(t)),r=(0,m.useSref)(n,{id:t.Id,endpointId:t.Id});return(0,$.jsxs)(re,{children:[(0,$.jsx)(te.Uk,{href:r.href,onClick:r.onClick,children:"Browse"}),!1]})}};function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e){var t=e.isFdoEnabled,n=e.isOpenAmtEnabled,r=e.showWaitingRoomLink,a=e.mpsServer,i=e.dataset,s=e.onChangeSearch,o=e.search,l=e.groups,c=e.setLoadingMessage,d=e.pagination,u=e.onChangePagination,p=e.totalCount,m=(0,v.h)(),g=m.settings,h=m.setTableSettings,b=(0,D.useMemo)((function(){return[Ee,De,Oe,Me]}),[]),x=(0,y.useTable)({defaultCanFilter:!1,columns:b,data:i,filterTypes:{multiple:pe.m},initialState:{hiddenColumns:g.hiddenColumns,sortBy:[g.sortBy]},isRowSelectable:function(){return!0},autoResetExpanded:!1,autoResetSelectedRows:!1,getRowId:function(e){return e.Id.toString()},selectColumnWidth:5},y.useFilters,y.useSortBy,y.useExpanded,ge.i,w.M_),S=x.getTableProps,I=x.getTableBodyProps,N=x.headerGroups,T=x.rows,E=x.prepareRow,j=x.selectedFlatRows,O=x.allColumns,R=x.setHiddenColumns,M=O.filter((function(e){var t=b.find((function(t){return t.id===e.id}));return null==t?void 0:t.canHide})),L=S(),U=I(),F=i.some((function(e){return e.AMTDeviceGUID&&""!==e.AMTDeviceGUID})),_=V()(l,"Id");return(0,$.jsx)("div",{className:"row",children:(0,$.jsx)("div",{className:"col-sm-12",children:(0,$.jsxs)(C.xJ,{children:[(0,$.jsxs)(C.lw,{icon:"box",featherIcon:!0,label:"Edge Devices",children:[(0,$.jsx)(k.E,{value:o,onChange:function(e){s(e)}}),(0,$.jsx)(C.p2,{children:(0,$.jsx)(xe,{selectedItems:j.map((function(e){return e.original})),isFDOEnabled:t,isOpenAMTEnabled:n,setLoadingMessage:c,showWaitingRoomLink:r})}),(0,$.jsxs)(C.MQ,{children:[(0,$.jsx)(me.a,{columns:M,onChange:function(e){R(e),h((function(t){return Ue(Ue({},t),{},{hiddenColumns:e})}))},value:g.hiddenColumns}),(0,$.jsx)(C.I6,{children:(0,$.jsx)(Ce,{})})]})]}),n&&F&&(0,$.jsx)("div",{className:"app-edge-EdgeDevices-EdgeDevicesView-EdgeDevicesDatatable-EdgeDevicesDatatable-module__kvm-tip",children:(0,$.jsxs)(f.a,{color:"blue",children:["For the KVM function to work you need to have the MPS server added to your trusted site list, browse to this"," ",(0,$.jsx)("a",{href:"https://".concat(a),target:"_blank",rel:"noreferrer",className:"space-right",children:"site"}),"and add to your trusted site list"]})}),(0,$.jsxs)(C.iA,{className:L.className,role:L.role,style:L.style,children:[(0,$.jsx)("thead",{children:N.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,r=t.className,a=t.role,i=t.style;return(0,$.jsx)(C.KA,{className:r,role:a,style:i,headers:e.headers,onSortChange:K},n)}))}),(0,$.jsx)("tbody",{className:U.className,role:U.role,style:U.style,children:(0,$.jsx)(C.iA.Content,{prepareRow:E,rows:T,renderRow:function(e,t){var r,a=t.key,i=t.className,s=t.role,o=t.style,l=_[e.original.GroupId];return(0,$.jsxs)(Ae,{context:{isOpenAmtEnabled:n,groupName:null===(r=l[0])||void 0===r?void 0:r.Name},children:[(0,$.jsx)(C.SC,{cells:e.cells,className:i,role:s,style:o},a),e.isExpanded&&(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{}),(0,$.jsx)("td",{colSpan:e.cells.length-1,children:(0,$.jsx)(ce,{environmentId:e.original.Id})})]})]},a)}})})]}),(0,$.jsxs)(he.y,{children:[(0,$.jsx)(A.V,{value:j.length}),(0,$.jsx)(P.j,{isPageInputVisible:!0,pageLimit:d.pageLimit,page:d.page,onPageChange:function(e){u({page:e})},totalCount:p,onPageLimitChange:function(e){(function(e){u({pageLimit:e})})(e),h((function(t){return Ue(Ue({},t),{},{pageSize:e})}))}})]})]})})});function K(e,t){h((function(n){return Ue(Ue({},n),{},{sortBy:{id:e,desc:t}})}))}}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e){var t=Object.assign({},e),n="edgeDevices";return(0,$.jsx)(v.U,{defaults:{autoRefreshRate:0,hiddenQuickActions:[],hiddenColumns:[],pageSize:10,sortBy:{id:"state",desc:!1}},storageKey:n,children:(0,$.jsx)(Ze,{storageKey:n,children:function(e){var r=e.environments,a=e.pagination,i=e.totalCount,s=e.setPagination,o=e.search,l=e.setSearch;return(0,$.jsx)(Fe,ze(ze({},t),{},{storageKey:n,dataset:r,pagination:a,onChangePagination:s,totalCount:i,search:o,onChangeSearch:l}))}})})}function Ze(e){var t=e.children,n=e.storageKey,r=(0,v.h)().settings,a=_e((0,D.useState)({pageLimit:r.pageSize,page:1}),2),i=a[0],s=a[1],o=_e((0,k.I)(n),2),l=o[0],c=o[1],d=(0,L.N)(l),u=(0,g.LH)(ze({edgeDevice:!0,search:d,types:h.rP,excludeSnapshots:!0},i),1e3*r.autoRefreshRate),p=u.environments,m=u.isLoading,f=u.totalCount;return m?null:(0,$.jsx)($.Fragment,{children:t({environments:p,totalCount:f,pagination:i,setPagination:function(e){s((function(t){return ze(ze({},t),e)}))},search:l,setSearch:c})})}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We=a().module("portainer.edge.react.views",[]).component("edgeDevicesView",(0,s.A)((0,l.Q)((0,o.H)((0,i.s)((function(){var e,t,n=(e=(0,D.useState)(""),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1],i=(0,O.rV)(),s=(0,R.X)();if(!i.data||!s.data)return null;var o=i.data;return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(b.m,{title:"Edge Devices",reload:!0,breadcrumbs:[{label:"EdgeDevices"}]}),r?(0,$.jsx)(M.d,{message:r}):(0,$.jsx)(Ge,{setLoadingMessage:a,isFdoEnabled:o.EnableEdgeComputeFeatures&&o.fdoConfiguration.enabled,showWaitingRoomLink:!1,isOpenAmtEnabled:o.EnableEdgeComputeFeatures&&o.openAMTConfiguration.enabled,mpsServer:o.openAMTConfiguration.mpsServer,groups:s.data,storageKey:"edgeDevices"})]})})))),[])).name,Qe=a().module("portainer.edge.react",[We,j]).name;a().module("portainer.edge",[c.default,p,Qe]).component("waitingRoomView",(0,s.A)((0,l.Q)((0,o.H)((0,i.s)((function(){var e=(0,m.useRouter)(),t=(0,g.LH)({edgeDevice:!0,edgeDeviceUntrusted:!0,excludeSnapshots:!0,types:h.rP});return t.environments,t.isLoading,t.totalCount,e.stateService.go("edge.devices"),null})))),[])).config(["$stateRegistryProvider",function(e){e.register({name:"edge.devices",url:"/devices",views:{"content@":{component:"edgeDevicesView"}}}),e.register({name:"edge",url:"/edge",parent:"root",abstract:!0}),e.register({name:"edge.groups",url:"/groups",views:{"content@":{component:"edgeGroupsView"}}}),e.register({name:"edge.groups.new",url:"/new",views:{"content@":{component:"createEdgeGroupView"}}}),e.register({name:"edge.groups.edit",url:"/:groupId",views:{"content@":{component:"editEdgeGroupView"}}}),e.register({name:"edge.stacks",url:"/stacks",views:{"content@":{component:"edgeStacksView"}}}),e.register({name:"edge.stacks.new",url:"/new",views:{"content@":{component:"createEdgeStackView"}}}),e.register({name:"edge.stacks.edit",url:"/:stackId",views:{"content@":{component:"editEdgeStackView"}},params:{tab:0}}),e.register({name:"edge.jobs",url:"/jobs",views:{"content@":{component:"edgeJobsView"}}}),e.register({name:"edge.jobs.job",url:"/:id",views:{"content@":{component:"edgeJobView"}},params:{tab:0}}),e.register({name:"edge.jobs.new",url:"/new",views:{"content@":{component:"createEdgeJobView"}}})}])},24381:function(e,t,n){"use strict";n.r(t),n.d(t,{AssociatedEndpointsDatatableController:function(){return i}});var r=n(29274),a=n.n(r);class i{constructor(e,t,n,r){this.extendGenericController(t,e),this.DatatableService=n,this.PaginationService=r,this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.onPageChange=this.onPageChange.bind(this),this.paginationChanged=this.paginationChanged.bind(this)}extendGenericController(e,t){const n=this.$onInit.bind(this),r=this.changePaginationLimit.bind(this),i=this.onTextFilterChange.bind(this);a().extend(this,e("GenericDatatableController",{$scope:t})),this.$onInit=n,this.changePaginationLimit=r,this.onTextFilterChange=i}$onInit(){this.setDefaults(),this.prepareTableFromDataset();var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}$onChanges({updateKey:e}){e.currentValue&&!e.isFirstChange()&&this.paginationChanged()}onPageChange(e){this.state.pageNumber=e,this.paginationChanged()}changePaginationLimit(){this.PaginationService.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()}onTextFilterChange(){var e=this.state.textFilter;this.DatatableService.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()}paginationChanged(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter).then((e=>{this.state.filteredDataSet=e.endpoints,this.state.totalFilteredDataSet=e.totalCount})).finally((()=>{this.state.loading=!1}))}}i.$inject=["$scope","$controller","DatatableService","PaginationService"]},34139:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(24381);const s=n(31140);a().module("portainer.edge").component("associatedEndpointsDatatable",{templateUrl:s,controller:i.AssociatedEndpointsDatatableController,bindings:{titleText:"@",titleIcon:"@",tableKey:"@",orderBy:"@",reverseOrder:"<",retrievePage:"<",updateKey:"<"}})},267:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeJobFormController:function(){return c}});var r=n(83432),a=n.n(r),i=n(44716),s=n.n(i),o=n(4396),l=n.n(o);class c{constructor(){this.state={formValidationError:""},this.scheduleValues=[{displayed:"Every hour",cron:"0 * * * *"},{displayed:"Every 2 hours",cron:"0 */2 * * *"},{displayed:"Every day",cron:"0 0 * * *"}],this.formValues={datetime:l()(),scheduleValue:this.scheduleValues[0],cronMethod:"basic",method:"editor"},this.cronRegex=/(@(annually|yearly|monthly|weekly|daily|hourly|reboot))|(@every (\d+(ns|us|s|ms|s|m|h))+)|((((\d+,)+\d+|(\d+(\/|-)\d+)|\d+|\*) ){4,6}((\d+,)+\d+|(\d+(\/|-)\d+)|\d+|\*))/,this.action=this.action.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this)}onChangeModel(e){const t=l()().add("hours",1);this.formValues={datetime:e.CronExpression?d(e.CronExpression,t):t,scheduleValue:this.formValues.scheduleValue,cronMethod:e.Recurring?"advanced":"basic",method:this.formValues.method}}action(){if(this.state.formValidationError="","editor"!==this.formValues.method||""!==this.model.FileContent){if("basic"===this.formValues.cronMethod){if(!(this.model.Recurring||void 0!==this.formValues.datetime&&this.formValues.datetime.isValid()))return void(this.state.formValidationError="Schedule date must not be empty");this.model.Recurring?this.model.CronExpression=this.formValues.scheduleValue.cron:this.model.CronExpression=(e=this.formValues.datetime,[(t=l()(e)).minutes(),t.hours(),t.date(),t.month()+1,"*"].join(" "))}else this.model.Recurring=!0;var e,t;this.formAction(this.formValues.method)}else this.state.formValidationError="Script file content must not be empty"}editorUpdate(e){this.model.FileContent=e.getValue(),this.isEditorDirty=!0}associateEndpoint(e){s()(this.model.Endpoints,e.Id)||(this.model.Endpoints=[...this.model.Endpoints,e.Id])}dissociateEndpoint(e){this.model.Endpoints=a()(this.model.Endpoints,(t=>t!==e.Id))}$onInit(){this.onChangeModel(this.model)}}function d(e,t=l()()){var n=e.split(" ");return n.length>4?(n=n.slice(0,4),l()(e,"m H D M")):t}c.$inject=[]},59788:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(267);const s=n(7422);a().module("portainer.edge").component("edgeJobForm",{templateUrl:s,controller:i.EdgeJobFormController,bindings:{model:"=",groups:"<",tags:"<",addLabelAction:"<",removeLabelAction:"<",formAction:"<",formActionLabel:"@",actionInProgress:"<",isEditorDirty:"="}})},11314:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeJobResultsDatatableController:function(){return o}});var r=n(99432),a=n.n(r),i=n(29274),s=n.n(i);class o{constructor(e,t,n){this.$state=n,s().extend(this,e("GenericDatatableController",{$scope:t}))}collectLogs(...e){this.settings.repeater.autoRefresh=!0,this.settings.repeater.refreshRate="5",this.onSettingsRepeaterChange(),this.onCollectLogsClick(...e)}$onChanges({dataset:e}){e&&e.currentValue&&this.onDatasetChange(e.currentValue)}onDatasetChange(e){const t=a()(e,(e=>2===e.LogsStatus));this.settings.repeater.autoRefresh=t,this.settings.repeater.refreshRate="5",this.onSettingsRepeaterChange()}}o.$inject=["$controller","$scope","$state"]},46642:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(11314);const s=n(88832);a().module("portainer.edge").component("edgeJobResultsDatatable",{templateUrl:s,controller:i.EdgeJobResultsDatatableController,bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",onDownloadLogsClick:"<",onCollectLogsClick:"<",onClearLogsClick:"<",refreshCallback:"<"}})},25758:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(14186);a().module("portainer.edge").component("edgeJobsDatatable",{templateUrl:i,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<"}})},70830:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(86682);class a{constructor(){this.deploymentOptions=[{...r.q,value:0},{...r.h,value:1,disabled:()=>this.hasDockerEndpoint(),tooltip:()=>this.hasDockerEndpoint()?"Cannot use this option with Edge Docker endpoints":""}]}}a.$inject=[]},60559:function(e,t,n){"use strict";n.r(t),n.d(t,{edgeStackDeploymentTypeSelector:function(){return s}});var r=n(29274),a=n.n(r),i=n(70830);const s={templateUrl:n(23423),controller:i.default,bindings:{value:"<",onChange:"<",hasDockerEndpoint:"<"}};a().module("portainer.edge").component("edgeStackDeploymentTypeSelector",s)},67383:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeStackEndpointsDatatableController:function(){return i}});var r=n(29274),a=n.n(r);class i{constructor(e,t,n,r,a,i){this.extendGenericController(n,t),this.DatatableService=r,this.PaginationService=a,this.Notifications=i,this.$async=e,this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.onPageChange=this.onPageChange.bind(this),this.paginationChanged=this.paginationChanged.bind(this),this.paginationChangedAsync=this.paginationChangedAsync.bind(this),this.statusMap={1:"OK",2:"Error",3:"Acknowledged"}}extendGenericController(e,t){const n=this.$onInit.bind(this),r=this.changePaginationLimit.bind(this),i=this.onTextFilterChange.bind(this);a().extend(this,e("GenericDatatableController",{$scope:t})),this.$onInit=n,this.changePaginationLimit=r,this.onTextFilterChange=i}getEndpointStatus(e){return this.endpointsStatus[e]}endpointStatusLabel(e){const t=this.getEndpointStatus(e);return t?this.statusMap[t.Type]:"Pending"}endpointStatusError(e){const t=this.getEndpointStatus(e);return t&&t.Error?t.Error:"-"}$onInit(){this.setDefaults(),this.prepareTableFromDataset();var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}onPageChange(e){this.state.pageNumber=e,this.paginationChanged()}changePaginationLimit(){this.PaginationService.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()}onTextFilterChange(){var e=this.state.textFilter;this.DatatableService.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()}paginationChanged(){this.$async(this.paginationChangedAsync)}async paginationChangedAsync(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;try{const{endpoints:t,totalCount:n}=await this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter);this.state.filteredDataSet=t,this.state.totalFilteredDataSet=n}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environments")}finally{this.state.loading=!1}}}i.$inject=["$async","$scope","$controller","DatatableService","PaginationService","Notifications"]},91505:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(67383);const s=n(77656);a().module("portainer.edge").component("edgeStackEndpointsDatatable",{templateUrl:s,controller:i.EdgeStackEndpointsDatatableController,bindings:{titleText:"@",titleIcon:"@",tableKey:"@",orderBy:"@",reverseOrder:"<",retrievePage:"<",edgeStackId:"<",endpointsStatus:"<"}})},794:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeStackStatusController:function(){return a}});const r={1:"ok",2:"error",3:"acknowledged"};class a{$onChanges({stackStatus:e}){if(!e||!e.currentValue)return;const t={ok:0,error:0,acknowledged:0};for(let n in e.currentValue){const a=e.currentValue[n];t[r[a.Type]]++}this.status=t}}},26342:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(794);const s=n(53501);a().module("portainer.edge").component("edgeStackStatus",{templateUrl:s,controller:i.EdgeStackStatusController,bindings:{stackStatus:"<"}})},70018:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(3942);a().module("portainer.edge").component("edgeStacksDatatable",{templateUrl:i,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<"}})},83205:function(e,t,n){"use strict";n.r(t),n.d(t,{EditEdgeStackFormController:function(){return a}});var r=n(13494);class a{constructor(e){this.$scope=e,this.state={endpointTypes:[]},this.fileContents={0:"",1:""},this.onChangeGroups=this.onChangeGroups.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeComposeConfig=this.onChangeComposeConfig.bind(this),this.onChangeKubeManifest=this.onChangeKubeManifest.bind(this),this.hasDockerEndpoint=this.hasDockerEndpoint.bind(this),this.hasKubeEndpoint=this.hasKubeEndpoint.bind(this),this.onChangeDeploymentType=this.onChangeDeploymentType.bind(this),this.removeLineBreaks=this.removeLineBreaks.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this)}hasKubeEndpoint(){return this.state.endpointTypes.includes(r.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment)}hasDockerEndpoint(){return this.state.endpointTypes.includes(r.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment)}onChangeGroups(e){return this.$scope.$evalAsync((()=>{this.model.EdgeGroups=e,this.checkEndpointTypes(e)}))}isFormValid(){return this.model.EdgeGroups.length&&this.model.StackFileContent&&this.validateEndpointsForDeployment()}checkEndpointTypes(e){const t=e.map((e=>this.edgeGroups.find((t=>t.Id===e))));this.state.endpointTypes=t.flatMap((e=>e.EndpointTypes))}removeLineBreaks(e){return e.replace(/(\r\n|\n|\r)/gm,"")}onChangeFileContent(e,t){const n=this.fileContents[e];this.removeLineBreaks(n)!==this.removeLineBreaks(t)&&(this.model.StackFileContent=t,this.fileContents[e]=t,this.isEditorDirty=!0)}onChangeKubeManifest(e){this.onChangeFileContent(1,e)}onChangeComposeConfig(e){this.onChangeFileContent(0,e)}onChangeDeploymentType(e){this.model.DeploymentType=e,this.model.StackFileContent=this.fileContents[e]}validateEndpointsForDeployment(){return 0==this.model.DeploymentType||!this.hasDockerEndpoint()}$onInit(){this.checkEndpointTypes(this.model.EdgeGroups)}}a.$inject=["$scope"]},56037:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(83205);const s=n(51367);a().module("portainer.edge").component("editEdgeStackForm",{templateUrl:s,controller:i.EditEdgeStackFormController,bindings:{model:"<",actionInProgress:"<",submitAction:"<",edgeGroups:"<",isEditorDirty:"="}})},88633:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeGroupFormController:function(){return d}});var r=n(83432),a=n.n(r),i=n(44716),s=n.n(i),o=n(46980),l=n(23945),c=n(31848);class d{constructor(e,t){this.$async=e,this.$scope=t,this.endpoints={state:{limit:"10",filter:"",pageNumber:1,totalCount:0},value:null},this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this),this.getDynamicEndpointsAsync=this.getDynamicEndpointsAsync.bind(this),this.getDynamicEndpoints=this.getDynamicEndpoints.bind(this),this.onChangeTags=this.onChangeTags.bind(this),t.$watch((()=>this.model),(()=>{this.model.Dynamic&&this.getDynamicEndpoints()}),!0)}onChangeTags(e){return this.$scope.$evalAsync((()=>{this.model.TagIds=e}))}associateEndpoint(e){s()(this.model.Endpoints,e.Id)||(this.model.Endpoints=[...this.model.Endpoints,e.Id])}dissociateEndpoint(e){return this.$async((async()=>{await(0,o.j6)({title:"Confirm action",message:"Removing the environment from this group will remove its corresponding edge stacks",buttons:{cancel:{label:"Cancel",className:"btn-default"},confirm:{label:"Confirm",className:"btn-primary"}}})&&(this.model.Endpoints=a()(this.model.Endpoints,(t=>t!==e.Id)))}))}getDynamicEndpoints(){return this.$async(this.getDynamicEndpointsAsync)}async getDynamicEndpointsAsync(){const{pageNumber:e,limit:t,search:n}=this.endpoints.state,r=(e-1)*t+1,a={search:n,types:l.rP,tagIds:this.model.TagIds,tagsPartialMatch:this.model.PartialMatch},i=await(0,c.hF)({start:r,limit:t,query:a}),s=parseInt(i.totalCount,10);this.endpoints.value=i.value,this.endpoints.state.totalCount=s}}d.$inject=["$async","$scope"]},36906:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(88633);const s=n(68393);a().module("portainer.edge").component("edgeGroupForm",{templateUrl:s,controller:i.EdgeGroupFormController,bindings:{model:"<",groups:"<",formActionLabel:"@",formAction:"<",actionInProgress:"<",loaded:"<",pageType:"@"}})},9868:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeGroupsDatatableController:function(){return i}});var r=n(29274),a=n.n(r);class i{constructor(e,t){const n=this.allowSelection;a().extend(this,t("GenericDatatableController",{$scope:e})),this.allowSelection=n.bind(this)}allowSelection(e){return!e.HasEdgeStack}}i.$inject=["$scope","$controller"]},36267:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(9868);const s=n(48384);a().module("portainer.edge").component("edgeGroupsDatatable",{templateUrl:s,controller:i.EdgeGroupsDatatableController,bindings:{dataset:"<",titleIcon:"@",tableKey:"@",orderBy:"@",removeAction:"<",updateAction:"<",reverseOrder:"<"}})},65658:function(e,t,n){"use strict";n.r(t);var r=n(29274);n.n(r)().module("portainer.edge").factory("EdgeGroups",["$resource","API_ENDPOINT_EDGE_GROUPS",function(e,t){return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@Id"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},96791:function(){function e(e,t){return e(t+"/:id/tasks/:taskId/:action",{},{query:{method:"GET",isArray:!0,params:{id:"@id"}},logFile:{method:"GET",params:{id:"@id",taskId:"@taskId",action:"logs"}},clearLogs:{method:"DELETE",params:{id:"@id",taskId:"@taskId",action:"logs"}},collectLogs:{method:"POST",params:{id:"@id",taskId:"@taskId",action:"logs"}}})}e.$inject=["$resource","API_ENDPOINT_EDGE_JOBS"],angular.module("portainer.edge").factory("EdgeJobResults",e)},2056:function(){function e(e,t){return e(t+"/:id/:action",{},{create:{method:"POST"},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},file:{method:"GET",params:{id:"@id",action:"file"}},tasks:{method:"GET",isArray:!0,params:{id:"@id",action:"tasks"}}})}e.$inject=["$resource","API_ENDPOINT_EDGE_JOBS"],angular.module("portainer.edge").factory("EdgeJobs",e)},86796:function(e,t,n){"use strict";n.r(t);var r=n(29274);n.n(r)().module("portainer.edge").factory("EdgeStacks",["$resource","API_ENDPOINT_EDGE_STACKS",function(e,t){return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},file:{method:"GET",params:{id:"@id",action:"file"}}})}])},42163:function(e,t,n){"use strict";n.r(t);var r=n(29274);n.n(r)().module("portainer.edge").factory("EdgeTemplates",["$resource","API_ENDPOINT_EDGE_TEMPLATES",function(e,t){return e(t,{},{query:{method:"GET",isArray:!0}})}])},800:function(e,t,n){"use strict";n.r(t);var r=n(29274);n.n(r)().module("portainer.edge").factory("EdgeGroupService",["EdgeGroups",function(e){return{group:function(t){return e.get({id:t}).$promise},groups:function(){return e.query({}).$promise},remove:function(t){return e.remove({id:t}).$promise},create:function(t){return e.create(t).$promise},update:function(t){return e.update(t).$promise}}}])},30221:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(82653);function s(e,t,n){var r={edgeJob:async function(t){try{return await e.get({id:t}).$promise}catch(e){throw{msg:"Unable to retrieve edgeJob",err:e}}},edgeJobs:async function(){try{return await e.query().$promise}catch(e){throw{msg:"Unable to retrieve edgeJobs",err:e}}},jobResults:async function(e){try{return await t.query({id:e}).$promise}catch(e){throw{msg:"Unable to retrieve results associated to the edgeJob",err:e}}},logFile:function(e,n){return t.logFile({id:e,taskId:n}).$promise},collectLogs:function(e,n){return t.collectLogs({id:e,taskId:n}).$promise},clearLogs:function(e,n){return t.clearLogs({id:e,taskId:n}).$promise},createEdgeJobFromFileContent:function(t){var n=new i.ScheduleCreateRequest(t);return e.create({method:"string"},n).$promise},createEdgeJobFromFileUpload:function(e){var t=new i.ScheduleCreateRequest(e);return n.createSchedule(t)},updateEdgeJob:function(t){var n=new i.ScheduleUpdateRequest(t);return e.update(n).$promise},remove:function(t){return e.remove({id:t}).$promise},getScriptFile:function(t){return e.file({id:t}).$promise}};return r}s.$inject=["EdgeJobs","EdgeJobResults","FileUploadService"],a().module("portainer.edge").factory("EdgeJobService",s)},27527:function(e,t,n){"use strict";n.r(t);var r=n(29274);n.n(r)().module("portainer.edge").factory("EdgeStackService",["EdgeStacks","FileUploadService",function(e,t){return{stack:function(t){return e.get({id:t}).$promise},stacks:function(){return e.query({}).$promise},remove:function(t){return e.remove({id:t}).$promise},stackFile:async function(t){try{const{StackFileContent:n}=await e.file({id:t}).$promise;return n}catch(e){throw{msg:"Unable to retrieve stack content",err:e}}},updateStack:async function(t,n){return e.update({id:t},n).$promise},createStackFromFileContent:async function(t){try{return await e.create({method:"string"},t).$promise}catch(e){throw{msg:"Unable to create the stack",err:e}}},createStackFromFileUpload:async function(e,n){try{return await t.createEdgeStack(e,n)}catch(e){throw{msg:"Unable to create the stack",err:e}}},createStackFromGitRepository:async function(t,n){try{return await e.create({method:"repository"},{...t,RepositoryURL:n.RepositoryURL,RepositoryReferenceName:n.RepositoryReferenceName,FilePathInRepository:n.FilePathInRepository,RepositoryAuthentication:n.RepositoryAuthentication,RepositoryUsername:n.RepositoryUsername,RepositoryPassword:n.RepositoryPassword}).$promise}catch(e){throw{msg:"Unable to create the stack",err:e}}},update:function(t){return e.update(t).$promise}}}])},10993:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);class i{constructor(e){this.EdgeTemplates=e}edgeTemplates(){return this.EdgeTemplates.query().$promise}async edgeTemplate(e){const t=await fetch(e.stackFile);if(!t.ok)throw new Error(t.statusText);return t.text()}}i.$inject=["EdgeTemplates"],a().module("portainer.edge").service("EdgeTemplateService",i)},44932:function(e,t,n){"use strict";n.r(t),n.d(t,{CreateEdgeGroupController:function(){return r}});class r{constructor(e,t,n,r,a){this.EdgeGroupService=e,this.GroupService=t,this.Notifications=n,this.$state=r,this.$async=a,this.state={actionInProgress:!1,loaded:!1},this.model={Name:"",Endpoints:[],Dynamic:!1,TagIds:[],PartialMatch:!1},this.createGroup=this.createGroup.bind(this),this.createGroupAsync=this.createGroupAsync.bind(this)}async $onInit(){const e=await this.GroupService.groups();this.endpointGroups=e,this.state.loaded=!0}createGroup(){return this.$async(this.createGroupAsync)}async createGroupAsync(){this.state.actionInProgress=!0;try{await this.EdgeGroupService.create(this.model),this.Notifications.success("Success","Edge group successfully created"),this.$state.go("edge.groups")}catch(e){this.Notifications.error("Failure",e,"Unable to create edge group")}finally{this.state.actionInProgress=!1}}}r.$inject=["EdgeGroupService","GroupService","Notifications","$state","$async"]},35146:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(44932);const s=n(4690);a().module("portainer.edge").component("createEdgeGroupView",{templateUrl:s,controller:i.CreateEdgeGroupController})},62044:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeGroupsController:function(){return i}});var r=n(71204),a=n.n(r);class i{constructor(e,t,n,r){this.$async=e,this.$state=t,this.EdgeGroupService=n,this.Notifications=r,this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}async $onInit(){try{this.items=await this.EdgeGroupService.groups()}catch(e){this.items=[],this.Notifications.error("Failure",e,"Unable to retrieve Edge groups")}}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){for(let t of e)try{await this.EdgeGroupService.remove(t.Id),this.Notifications.success("Edge Group successfully removed",t.Name),a()(this.items,t)}catch(e){this.Notifications.error("Failure",e,"Unable to remove Edge Group")}this.$state.reload()}}i.$inject=["$async","$state","EdgeGroupService","Notifications"]},45359:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(62044);const s=n(52934);a().module("portainer.edge").component("edgeGroupsView",{templateUrl:s,controller:i.EdgeGroupsController})},23794:function(e,t,n){"use strict";n.r(t),n.d(t,{EditEdgeGroupController:function(){return r}});class r{constructor(e,t,n,r,a){this.EdgeGroupService=e,this.GroupService=t,this.Notifications=n,this.$state=r,this.$async=a,this.state={actionInProgress:!1,loaded:!1},this.updateGroup=this.updateGroup.bind(this),this.updateGroupAsync=this.updateGroupAsync.bind(this)}async $onInit(){const[e,t]=await Promise.all([this.GroupService.groups(),this.EdgeGroupService.group(this.$state.params.groupId)]);t||(this.Notifications.error("Failed to find edge group",{}),this.$state.go("edge.groups")),this.endpointGroups=e,this.model=t,this.state.loaded=!0}updateGroup(){return this.$async(this.updateGroupAsync)}async updateGroupAsync(){this.state.actionInProgress=!0;try{await this.EdgeGroupService.update(this.model),this.Notifications.success("Success","Edge group successfully updated"),this.$state.go("edge.groups")}catch(e){this.Notifications.error("Failure",e,"Unable to update edge group")}finally{this.state.actionInProgress=!1}}}r.$inject=["EdgeGroupService","GroupService","Notifications","$state","$async"]},58188:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(23794);const s=n(25575);a().module("portainer.edge").component("editEdgeGroupView",{templateUrl:s,controller:i.EditEdgeGroupController})},8039:function(e,t,n){"use strict";n.r(t),n.d(t,{CreateEdgeJobViewController:function(){return r}});class r{constructor(e,t,n,r,a,i,s,o,l){this.state={actionInProgress:!1,isEditorDirty:!1},this.model={Name:"",Recurring:!1,CronExpression:"",Endpoints:[],FileContent:"",File:null},this.$async=e,this.$q=t,this.$state=n,this.$window=r,this.ModalService=a,this.Notifications=o,this.GroupService=s,this.EdgeJobService=i,this.TagService=l,this.create=this.create.bind(this),this.createEdgeJob=this.createEdgeJob.bind(this),this.createAsync=this.createAsync.bind(this)}create(e){return this.$async(this.createAsync,e)}async createAsync(e){this.state.actionInProgress=!0;try{await this.createEdgeJob(e,this.model),this.Notifications.success("Success","Edge job successfully created"),this.state.isEditorDirty=!1,this.$state.go("edge.jobs",{},{reload:!0})}catch(e){this.Notifications.error("Failure",e,"Unable to create Edge job")}this.state.actionInProgress=!1}createEdgeJob(e,t){return"editor"===e?this.EdgeJobService.createEdgeJobFromFileContent(t):this.EdgeJobService.createEdgeJobFromFileUpload(t)}async uiCanExit(){if(this.model.FileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){try{const[e,t]=await Promise.all([this.GroupService.groups(),this.TagService.tags()]);this.groups=e,this.tags=t}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve page data")}this.$window.onbeforeunload=()=>{if(this.model.FileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}}r.$inject=["$async","$q","$state","$window","ModalService","EdgeJobService","GroupService","Notifications","TagService"]},47994:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(8039);const s=n(4913);a().module("portainer.edge").component("createEdgeJobView",{templateUrl:s,controller:i.CreateEdgeJobViewController})},87609:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeJobController:function(){return l}});var r=n(51235),a=n.n(r),i=n(66539),s=n.n(i),o=n(31848);class l{constructor(e,t,n,r,a,i,s,o,l,c,d){this.state={actionInProgress:!1,showEditorTab:!1,isEditorDirty:!1},this.$async=e,this.$q=t,this.$state=n,this.$window=r,this.ModalService=a,this.EdgeJobService=i,this.FileSaver=s,this.GroupService=o,this.HostBrowserService=l,this.Notifications=c,this.TagService=d,this.update=this.update.bind(this),this.updateAsync=this.updateAsync.bind(this),this.downloadLogs=this.downloadLogs.bind(this),this.downloadLogsAsync=this.downloadLogsAsync.bind(this),this.collectLogs=this.collectLogs.bind(this),this.collectLogsAsync=this.collectLogsAsync.bind(this),this.clearLogs=this.clearLogs.bind(this),this.clearLogsAsync=this.clearLogsAsync.bind(this),this.refresh=this.refresh.bind(this),this.refreshAsync=this.refreshAsync.bind(this),this.showEditor=this.showEditor.bind(this)}update(){return this.$async(this.updateAsync)}async updateAsync(){const e=this.edgeJob;this.state.actionInProgress=!0;try{await this.EdgeJobService.updateEdgeJob(e),this.Notifications.success("Success","Edge job successfully updated"),this.state.isEditorDirty=!1,this.$state.go("edge.jobs",{},{reload:!0})}catch(e){this.Notifications.error("Failure",e,"Unable to update Edge job")}this.state.actionInProgress=!1}downloadLogs(e){return this.$async(this.downloadLogsAsync,e)}async downloadLogsAsync(e){try{const t=await this.EdgeJobService.logFile(this.edgeJob.Id,e),n=new Blob([t.FileContent],{type:"text/plain;charset=utf-8"}),r=`job_${this.edgeJob.Id}_task_${e}.log`;this.FileSaver.saveAs(n,r)}catch(e){this.Notifications.error("Failure",e,"Unable to download file")}}associateEndpointsToResults(e,t){return s()(e,(e=>{const n=a()(t,(t=>t.Id===e.EndpointId));return e.Endpoint=n,e}))}collectLogs(e){return this.$async(this.collectLogsAsync,e)}async collectLogsAsync(e){try{await this.EdgeJobService.collectLogs(this.edgeJob.Id,e),a()(this.results,(t=>t.EndpointId===e)).LogsStatus=2}catch(e){this.Notifications.error("Failure",e,"Unable to collect logs")}}clearLogs(e){return this.$async(this.clearLogsAsync,e)}async clearLogsAsync(e){try{await this.EdgeJobService.clearLogs(this.edgeJob.Id,e),a()(this.results,(t=>t.EndpointId===e)).LogsStatus=1}catch(e){this.Notifications.error("Failure",e,"Unable to clear logs")}}refresh(){return this.$async(this.refreshAsync)}async refreshAsync(){const{id:e}=this.$state.params,t=await this.EdgeJobService.jobResults(e);if(t.length>0){const e=s()(t,(e=>e.EndpointId)),n=await(0,o.hF)({query:{endpointIds:e}});this.results=this.associateEndpointsToResults(t,n.value)}else this.results=t}showEditor(){this.state.showEditorTab=!0}async uiCanExit(){if(this.edgeJob&&this.edgeJob.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){const{id:e,tab:t}=this.$state.params;this.state.activeTab=t,t&&0!==t||(this.state.showEditorTab=!0);try{const[t,n,r,a,i]=await Promise.all([this.EdgeJobService.edgeJob(e),this.EdgeJobService.getScriptFile(e),this.EdgeJobService.jobResults(e),this.GroupService.groups(),this.TagService.tags()]);if(t.FileContent=n.FileContent,this.oldFileContent=t.FileContent,this.edgeJob=t,this.groups=a,this.tags=i,r.length>0){const e=s()(r,(e=>e.EndpointId)),t=await(0,o.hF)({query:{endpointIds:e}});this.results=this.associateEndpointsToResults(r,t.value)}else this.results=r}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment list")}this.$window.onbeforeunload=()=>{if(this.edgeJob&&this.edgeJob.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}}l.$inject=["$async","$q","$state","$window","ModalService","EdgeJobService","FileSaver","GroupService","HostBrowserService","Notifications","TagService"]},6300:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(87609);const s=n(14399);a().module("portainer.edge").component("edgeJobView",{templateUrl:s,controller:i.EdgeJobController})},54223:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeJobsViewController:function(){return i}});var r=n(71204),a=n.n(r);class i{constructor(e,t,n,r,a){this.$async=e,this.$state=t,this.EdgeJobService=n,this.ModalService=r,this.Notifications=a,this.removeAction=this.removeAction.bind(this),this.deleteJobsAsync=this.deleteJobsAsync.bind(this),this.deleteJobs=this.deleteJobs.bind(this)}removeAction(e){this.ModalService.confirmDeletion("Do you want to remove the selected edge job(s) ?",(t=>{t&&this.deleteJobs(e)}))}deleteJobs(e){return this.$async(this.deleteJobsAsync,e)}async deleteJobsAsync(e){for(let t of e)try{await this.EdgeJobService.remove(t.Id),this.Notifications.success("Edge job successfully removed",t.Name),a()(this.edgeJobs,t)}catch(e){this.Notifications.error("Failure",e,"Unable to remove Edge job "+t.Name)}this.$state.reload()}async $onInit(){try{const e=await this.EdgeJobService.edgeJobs();this.edgeJobs=e}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve Edge jobs"),this.edgeJobs=[]}}}i.$inject=["$async","$state","EdgeJobService","ModalService","Notifications"]},30190:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(54223);const s=n(53684);a().module("portainer.edge").component("edgeJobsView",{templateUrl:s,controller:i.EdgeJobsViewController})},32884:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e,t,n,r,a,i,s,o,l,c){Object.assign(this,{$state:e,$window:t,ModalService:n,EdgeStackService:r,EdgeGroupService:a,EdgeTemplateService:i,Notifications:s,FormHelper:o,$async:l,$scope:c}),this.formValues={Name:"",StackFileContent:"",StackFile:null,RepositoryURL:"",RepositoryReferenceName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",Env:[],ComposeFilePathInRepository:"",Groups:[],DeploymentType:0},this.state={Method:"editor",formValidationError:"",actionInProgress:!1,StackType:null,isEditorDirty:!1,hasKubeEndpoint:!1,endpointTypes:[]},this.edgeGroups=null,this.createStack=this.createStack.bind(this),this.validateForm=this.validateForm.bind(this),this.createStackByMethod=this.createStackByMethod.bind(this),this.createStackFromFileContent=this.createStackFromFileContent.bind(this),this.createStackFromFileUpload=this.createStackFromFileUpload.bind(this),this.createStackFromGitRepository=this.createStackFromGitRepository.bind(this),this.onChangeGroups=this.onChangeGroups.bind(this),this.hasDockerEndpoint=this.hasDockerEndpoint.bind(this),this.onChangeDeploymentType=this.onChangeDeploymentType.bind(this)}buildAnalyticsProperties(){const e={type:function(e){switch(e){case"editor":return"web-editor";case"repository":return"git";case"upload":return"file-upload";case"template":return"template"}}(this.state.Method),format:"compose"};return"template"===e.type&&(e.templateName=this.selectedTemplate.title),{metadata:e}}uiCanExit(){if("editor"===this.state.Method&&this.formValues.StackFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){try{this.edgeGroups=await this.EdgeGroupService.groups(),this.noGroups=0===this.edgeGroups.length}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve Edge groups")}this.$window.onbeforeunload=()=>{if("editor"===this.state.Method&&this.formValues.StackFileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}createStack(){return this.$async((async()=>{const e=this.formValues.Name;let t=this.state.Method;if("template"===t&&(t="editor"),this.validateForm(t)){this.state.actionInProgress=!0;try{await this.createStackByMethod(e,t),this.Notifications.success("Success","Stack successfully deployed"),this.state.isEditorDirty=!1,this.$state.go("edge.stacks")}catch(e){this.Notifications.error("Deployment error",e,"Unable to deploy stack")}finally{this.state.actionInProgress=!1}}}))}onChangeGroups(e){return this.$scope.$evalAsync((()=>{this.formValues.Groups=e,this.checkIfEndpointTypes(e)}))}checkIfEndpointTypes(e){const t=e.map((e=>this.edgeGroups.find((t=>t.Id===e))));this.state.endpointTypes=t.flatMap((e=>e.EndpointTypes)),this.hasDockerEndpoint()&&1==this.formValues.DeploymentType&&this.onChangeDeploymentType(0)}hasKubeEndpoint(){return this.state.endpointTypes.includes(7)}hasDockerEndpoint(){return this.state.endpointTypes.includes(4)}validateForm(e){if(this.state.formValidationError="","editor"!==e||""!==this.formValues.StackFileContent)return!0;this.state.formValidationError="Stack file content must not be empty"}createStackByMethod(e,t){switch(t){case"editor":return this.createStackFromFileContent(e);case"upload":return this.createStackFromFileUpload(e);case"repository":return this.createStackFromGitRepository(e)}}createStackFromFileContent(e){const{StackFileContent:t,Groups:n,DeploymentType:r}=this.formValues;return this.EdgeStackService.createStackFromFileContent({name:e,StackFileContent:t,EdgeGroups:n,DeploymentType:r})}createStackFromFileUpload(e){const{StackFile:t,Groups:n,DeploymentType:r}=this.formValues;return this.EdgeStackService.createStackFromFileUpload({Name:e,EdgeGroups:n,DeploymentType:r},t)}createStackFromGitRepository(e){const{Groups:t,DeploymentType:n}=this.formValues,r={RepositoryURL:this.formValues.RepositoryURL,RepositoryReferenceName:this.formValues.RepositoryReferenceName,FilePathInRepository:this.formValues.ComposeFilePathInRepository,RepositoryAuthentication:this.formValues.RepositoryAuthentication,RepositoryUsername:this.formValues.RepositoryUsername,RepositoryPassword:this.formValues.RepositoryPassword};return this.EdgeStackService.createStackFromGitRepository({name:e,EdgeGroups:t,DeploymentType:n},r)}onChangeDeploymentType(e){this.formValues.DeploymentType=e,this.state.Method="editor",this.formValues.StackFileContent=""}formIsInvalid(){return this.form.$invalid||!this.formValues.Groups.length||["template","editor"].includes(this.state.Method)&&!this.formValues.StackFileContent||"upload"===this.state.Method&&!this.formValues.StackFile}}r.$inject=["$state","$window","ModalService","EdgeStackService","EdgeGroupService","EdgeTemplateService","Notifications","FormHelper","$async","$scope"]},96478:function(e,t,n){"use strict";n.r(t),n.d(t,{createEdgeStackView:function(){return a}});var r=n(32884);const a={templateUrl:n(71818),controller:r.default}},83615:function(e,t,n){"use strict";n.r(t);var r=n(37463);class a{constructor(e,t,n){Object.assign(this,{$async:e,EdgeTemplateService:t,Notifications:n}),this.methodOptions=[r.j6,r.ws,r.L4,r.XK],this.selectedTemplate=null,this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeFile=this.onChangeFile.bind(this),this.onChangeTemplate=this.onChangeTemplate.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this)}onChangeFormValues(e){this.formValues=e}onChangeMethod(e){this.state.Method=e,this.formValues.StackFileContent="",this.selectedTemplate=null}onChangeTemplate(e){return this.$async((async()=>{this.formValues.StackFileContent="";try{const t=await this.EdgeTemplateService.edgeTemplate(e);this.formValues.StackFileContent=t}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve Template")}}))}onChangeFileContent(e){this.formValues.StackFileContent=e,this.state.isEditorDirty=!0}onChangeFile(e){return this.$async((async()=>{this.formValues.StackFile=e}))}async $onInit(){return this.$async((async()=>{try{const e=await this.EdgeTemplateService.edgeTemplates();this.templates=e.map((e=>({...e,label:`${e.title} - ${e.description}`})))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve Templates")}}))}}a.$inject=["$async","EdgeTemplateService","Notifications"],t.default=a},32878:function(e,t,n){"use strict";n.r(t),n.d(t,{edgeStacksDockerComposeForm:function(){return a}});var r=n(83615);const a={templateUrl:n(2892),controller:r.default,bindings:{formValues:"=",state:"="}}},24125:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(96478),s=n(32878),o=n(56799),l=n(75038);t.default=a().module("portainer.edge.stacks.create",[]).component("createEdgeStackView",i.createEdgeStackView).component("edgeStacksDockerComposeForm",s.edgeStacksDockerComposeForm).component("edgeStacksKubeManifestForm",o.kubeManifestForm).component("kubeDeployDescription",l.kubeDeployDescription).name},75038:function(e,t,n){"use strict";n.r(t),n.d(t,{kubeDeployDescription:function(){return r}});const r={templateUrl:n(87700)}},56799:function(e,t,n){"use strict";n.r(t),n.d(t,{kubeManifestForm:function(){return a}});var r=n(23836);const a={templateUrl:n(65398),controller:r.default,bindings:{formValues:"=",state:"="}}},23836:function(e,t,n){"use strict";n.r(t);var r=n(37463);class a{constructor(e){Object.assign(this,{$async:e}),this.methodOptions=[r.j6,r.ws,r.L4],this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this),this.onChangeFile=this.onChangeFile.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this)}onChangeFormValues(e){this.formValues=e}onChangeFileContent(e){this.state.isEditorDirty=!0,this.formValues.StackFileContent=e}onChangeFile(e){return this.$async((async()=>{this.formValues.StackFile=e}))}onChangeMethod(e){this.state.Method=e}}a.$inject=["$async"],t.default=a},33661:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeStacksViewController:function(){return i}});var r=n(71204),a=n.n(r);class i{constructor(e,t,n,r,a){this.$state=e,this.Notifications=t,this.EdgeStackService=n,this.$scope=r,this.$async=a,this.stacks=void 0,this.getStacks=this.getStacks.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}$onInit(){this.getStacks()}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){for(let t of e)try{await this.EdgeStackService.remove(t.Id),this.Notifications.success("Stack successfully removed",t.Name),a()(this.stacks,t)}catch(e){this.Notifications.error("Failure",e,"Unable to remove stack "+t.Name)}this.$state.reload()}async getStacks(){try{this.stacks=await this.EdgeStackService.stacks()}catch(e){this.stacks=[],this.Notifications.error("Failure",e,"Unable to retrieve stacks")}}}i.$inject=["$state","Notifications","EdgeStackService","$scope","$async"]},82138:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(33661);const s=n(51919);a().module("portainer.edge").component("edgeStacksView",{templateUrl:s,controller:i.EdgeStacksViewController})},66514:function(e,t,n){"use strict";n.r(t),n.d(t,{EditEdgeStackViewController:function(){return d}});var r=n(51235),a=n.n(r),i=n(66539),s=n.n(i),o=n(55332),l=n.n(o),c=n(31848);class d{constructor(e,t,n,r,a,i,s){this.$async=e,this.$state=t,this.$window=n,this.ModalService=r,this.EdgeGroupService=a,this.EdgeStackService=i,this.Notifications=s,this.stack=null,this.edgeGroups=null,this.state={actionInProgress:!1,activeTab:0,isEditorDirty:!1},this.deployStack=this.deployStack.bind(this),this.deployStackAsync=this.deployStackAsync.bind(this),this.getPaginatedEndpoints=this.getPaginatedEndpoints.bind(this),this.getPaginatedEndpointsAsync=this.getPaginatedEndpointsAsync.bind(this)}async $onInit(){const{stackId:e,tab:t}=this.$state.params;this.state.activeTab=t;try{const[t,n,r]=await Promise.all([this.EdgeGroupService.groups(),this.EdgeStackService.stack(e),this.EdgeStackService.stackFile(e)]);this.edgeGroups=t,this.stack=n,this.stackEndpointIds=this.filterStackEndpoints(n.EdgeGroups,t),this.originalFileContent=r,this.formValues={StackFileContent:r,EdgeGroups:this.stack.EdgeGroups,DeploymentType:this.stack.DeploymentType},this.oldFileContent=this.formValues.StackFileContent}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve stack data")}this.$window.onbeforeunload=()=>{if(this.formValues.StackFileContent!==this.oldFileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if(this.formValues.StackFileContent.replace(/(\r\n|\n|\r)/gm,"")!==this.oldFileContent.replace(/(\r\n|\n|\r)/gm,"")&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}filterStackEndpoints(e,t){return l()(s()(e,(e=>a()(t,{Id:e}).Endpoints)))}deployStack(){return this.$async(this.deployStackAsync)}async deployStackAsync(){this.state.actionInProgress=!0;try{this.originalFileContent!=this.formValues.StackFileContent&&(this.formValues.Version=this.stack.Version+1),await this.EdgeStackService.updateStack(this.stack.Id,this.formValues),this.Notifications.success("Success","Stack successfully deployed"),this.state.isEditorDirty=!1,this.$state.go("edge.stacks")}catch(e){this.Notifications.error("Deployment error",e,"Unable to deploy stack")}finally{this.state.actionInProgress=!1}}getPaginatedEndpoints(...e){return this.$async(this.getPaginatedEndpointsAsync,...e)}async getPaginatedEndpointsAsync(e,t,n){try{if(0===this.stackEndpointIds.length)return{endpoints:[],totalCount:0};const r={search:n,endpointIds:this.stackEndpointIds},{value:a,totalCount:i}=await(0,c.hF)({start:e,limit:t,query:r});return{endpoints:a,totalCount:i}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment information")}}}d.$inject=["$async","$state","$window","ModalService","EdgeGroupService","EdgeStackService","Notifications"]},36237:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(66514);const s=n(48023);a().module("portainer.edge").component("editEdgeStackView",{templateUrl:s,controller:i.EditEdgeStackViewController})},6142:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(24125);t.default=a().module("portainer.edge.stacks",[i.default]).name},76553:function(e,t,n){"use strict";n.r(t),n(92502);var r=n(96861),a=n(55478),i=n(82185),s=n(38592);r.ZP.use(s.Z).use(i.Z).use(a.Db).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1}});var o=n(29274),l=n.n(o),c=n(28127),d=(n(63924),n(14916)),u=(n(26317),n(40958),n(20493),n(65562),n(50527),n(46021)),p=l().module("portainer.azure.react.components",[]).name,m=n(3731),g=n(71535),h=n(29561),f=(n(42240),n(47771),n(69592)),v=n(89023),b=n(50265),y=n(7725),w=n(45588),x=n(29638),S=n(13880),C=n(7862),k=n(97347),A=n(88606),P=n(77568);n(93742),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var I=n(5627),$=n(24751),N=n(35547),T=n(88728),E=n(2629);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){var t=e.value,n=e.onChange,r=void 0===n?function(){}:n,a=e.errors,i=e.disabled,s=e.readOnly;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(T.Q,{label:"Port mapping",value:t,onChange:r,addLabel:"map additional port",itemBuilder:function(){return{host:0,container:0,protocol:"TCP"}},item:M,errors:a,disabled:i,readOnly:s}),"string"==typeof a&&(0,E.jsx)("div",{className:"form-group col-md-12",children:(0,E.jsx)($.X,{children:a})})]})}function M(e){var t=e.onChange,n=e.item,r=e.error,a=e.disabled,i=e.readOnly;return(0,E.jsxs)("div",{className:"app-react-azure-container-instances-CreateView-PortsMappingField-module__item",children:[(0,E.jsxs)("div",{className:"flex items-center gap-2",children:[(0,E.jsxs)(N.B,{size:"small",children:[(0,E.jsx)(N.B.Addon,{children:"host"}),(0,E.jsx)(N.B.Input,{placeholder:"e.g. 80",value:n.host,onChange:function(e){return s("host",parseInt(e.target.value||"0",10))},disabled:a,readOnly:i,type:"number"})]}),(0,E.jsx)("span",{className:"mx-3",children:(0,E.jsx)("i",{className:"fa fa-long-arrow-alt-right","aria-hidden":"true"})}),(0,E.jsxs)(N.B,{size:"small",children:[(0,E.jsx)(N.B.Addon,{children:"container"}),(0,E.jsx)(N.B.Input,{placeholder:"e.g. 80",value:n.container,onChange:function(e){return s("container",parseInt(e.target.value||"0",10))},disabled:a,readOnly:i,type:"number"})]}),(0,E.jsx)(I.K,{onChange:function(e){return s("protocol",e)},value:n.protocol,options:[{value:"TCP"},{value:"UDP"}],disabled:a,readOnly:i})]}),!!r&&(0,E.jsx)("div",{className:"app-react-azure-container-instances-CreateView-PortsMappingField-module__errors",children:(0,E.jsx)($.X,{children:Object.values(r)[0]})})]});function s(e,r){t(D(D({},n),{},O({},e,r)))}}n(92429);var L=n(33287),U=n(51235),V=n.n(U),F=n(20810),_=n.n(F),K=(n(25212),n(78433),n(51641)),B=n(6811),z=n(53347);function H(e){var t,n,r,a=(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||"Failed azure request";return{error:new Error(a),details:a}}function G(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(62341),n(82459),n(77236),n(66076),n(33262),n(77072);var q={subscriptions:function(e){return["azure",e,"subscriptions"]},subscription:function(e,t){return[].concat(G(q.subscriptions(e)),[t])},resourceGroups:function(e,t){return[].concat(G(q.subscription(e,t)),["resourceGroups"])},resourceGroup:function(e,t,n){return[].concat(G(q.resourceGroups(e,t)),[n])},provider:function(e,t){return[].concat(G(q.subscription(e,t)),["provider"])},containerGroups:function(e,t){return[].concat(G(q.subscription(e,t)),["containerGroups"])},containerGroup:function(e,t,n,r){return[].concat(G(q.resourceGroup(e,t,n)),["containerGroups",r])}};function W(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){W(i,r,a,s,o,"next",e)}function o(e){W(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Q(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="/endpoints/".concat(t,"/azure/subscriptions/").concat(n,"/providers/Microsoft.ContainerInstance"),e.next=4,B.ZP.get(r,{params:{"api-version":"2018-02-01"}});case 4:return a=e.sent,i=a.data,e.abrupt("return",ne(i));case 9:throw e.prev=9,e.t0=e.catch(0),(0,B.vs)(e.t0,"Unable to retrieve provider",H);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ne(e){var t=e.id,n=e.namespace,r=e.resourceTypes,a=(V()(r,{resourceType:"containerGroups"})||{}).locations;return{id:t,namespace:n,locations:void 0===a?[]:a}}function re(e,t){var n="/endpoints/".concat(e,"/azure/subscriptions");return t&&(n+="/".concat(t)),n}function ae(e,t,n){var r="".concat(re(e,t),"/resourcegroups");return n&&(r+="/".concat(n)),r}function ie(e,t,n,r){var a=re(e,t);return n&&(a+="/resourceGroups/".concat(n)),a+="/providers/Microsoft.ContainerInstance/containerGroups",r&&(a+="/".concat(r)),a}function se(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){se(i,r,a,s,o,"next",e)}function o(e){se(i,r,a,s,o,"throw",e)}s(void 0)}))}}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,K.useQueries)(t.map((function(t){return ce({queryKey:q.resourceGroups(e,t.subscriptionId),queryFn:(n=oe(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pe(e,t.subscriptionId);case 2:return r=n.sent,n.abrupt("return",[t.subscriptionId,r]);case 4:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})},(0,z.AQ)("Unable to retrieve Azure resource groups"));var n})));return{resourceGroups:Object.fromEntries(_()(n.map((function(e){return e.data?e.data:null})))),isLoading:n.some((function(e){return e.isLoading})),isError:n.some((function(e){return e.isError}))}}function pe(e,t){return me.apply(this,arguments)}function me(){return(me=oe(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.ZP.get(ae(t,n),{params:{"api-version":"2018-02-01"}});case 3:return r=e.sent,a=r.data.value,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,B.vs)(e.t0,"Unable to retrieve resource groups",H);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ge(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function he(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){ge(i,r,a,s,o,"next",e)}function o(e){ge(i,r,a,s,o,"throw",e)}s(void 0)}))}}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){return(0,K.useQuery)(q.subscriptions(e),(function(){return function(e){return ye.apply(this,arguments)}(e)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,z.AQ)("Unable to retrieve Azure subscriptions")))}function ye(){return(ye=he(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.ZP.get(re(t),{params:{"api-version":"2016-06-01"}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.value);case 8:throw e.prev=8,e.t0=e.catch(0),(0,B.vs)(e.t0,"Unable to retrieve subscriptions",H);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function we(e,t){return e&&t&&t[e]?t[e].map((function(e){var t=e.name;return{value:e.id,label:t}})):[]}function xe(e,t){if(!e||!t)return[];var n=t[e];return n?n.locations.map((function(e){return{value:e,label:e}})):[]}function Se(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Se(i,r,a,s,o,"next",e)}function o(e){Se(i,r,a,s,o,"throw",e)}s(void 0)}))}}function ke(){return(ke=Ce(regeneratorRuntime.mark((function e(t,n,r,a){var i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pe(t),e.prev=1,e.next=4,B.ZP.put(ie(n,r,a,t.name),i,{params:{"api-version":"2018-04-01"}});case 4:return s=e.sent,o=s.data,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(1),(0,B.vs)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function Ae(){return(Ae=Ce(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.ZP.delete("/endpoints/".concat(t,"/azure").concat(n),{params:{"api-version":"2018-04-01"}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,B.vs)(e.t0,"Unable to remove container group");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Pe(e){for(var t=[],n=[],r=e.ports.filter((function(e){return e.container&&e.host})),a=0;a<r.length;a+=1){var i=r[a];t.push({port:i.container}),n.push({port:i.host,protocol:i.protocol})}return{location:e.location,properties:{osType:e.os,containers:[{name:e.name,properties:{image:e.image,ports:t,resources:{requests:{cpu:e.cpu,memoryInGB:e.memory}}}}],ipAddress:{type:e.allocatePublicIP?"Public":"Private",ports:n}}}}n(78495);var Ie=n(20023),$e=n(63625);function Ne(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Te(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Te(i,r,a,s,o,"next",e)}function o(e){Te(i,r,a,s,o,"throw",e)}s(void 0)}))}}function je(){var e=(0,w.C)(),t=(0,b.aF)().isAdmin,n=function(e){var t=be(e),n=t.data,r=t.isLoading,a=ue(e,n),i=a.resourceGroups,s=a.isLoading,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,K.useQueries)(t.map((function(t){return J({queryKey:q.provider(e,t.subscriptionId),queryFn:(n=Q(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ee(e,t.subscriptionId);case 2:return r=n.sent,n.abrupt("return",[t.subscriptionId,r]);case 4:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})},(0,z.AQ)("Unable to retrieve Azure providers"));var n})));return{providers:Object.fromEntries(_()(n.map((function(e){return e.data?e.data:null})))),isLoading:n.some((function(e){return e.isLoading}))}}(e,n),l=o.providers,c=o.isLoading;return{isLoading:r||s||c,subscriptions:n,resourceGroups:i,providers:l}}(e),r=n.providers,a=n.subscriptions,i=n.resourceGroups,s=n.isLoading,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,b.aF)().isAdmin,a=e.map((function(e){return{value:e.subscriptionId,label:e.displayName}})),i=o(a),s=we(i,t);return{initialValues:{name:"",location:o(xe(i,n)),subscription:i,resourceGroup:o(s),image:"",os:"Linux",memory:1,cpu:1,ports:[{container:80,host:80,protocol:"TCP"}],allocatePublicIP:!0,accessControl:(0,L.d)(r)},subscriptionOptions:a};function o(e){if(0!==e.length)return e[0].value}}(a,i,r),l=o.initialValues,c=o.subscriptionOptions,d=(0,v.useRouter)(),p=function(e,t){var n=(0,K.useQueryClient)();return(0,K.useMutation)((function(n){if(!n.subscription)throw new Ie.Z("subscription is required");var r=we(n.subscription,e).find((function(e){return e.value===n.resourceGroup}));if(!r)throw new Ie.Z("resource group not found");return function(e,t,n,r){return ke.apply(this,arguments)}(n,t,n.subscription,r.label)}),{onSuccess:function(e,r){return(a=regeneratorRuntime.mark((function a(){var i,s,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null===(i=e.Portainer)||void 0===i?void 0:i.ResourceControl){a.next=3;break}throw new Ie.Z("resource control expected after creation");case 3:return o=r.accessControl,a.next=6,(0,$e.e)(o,s);case 6:return a.abrupt("return",n.invalidateQueries(q.subscriptions(t)));case 7:case"end":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=a.apply(e,t);function s(e){Ne(i,n,r,s,o,"next",e)}function o(e){Ne(i,n,r,s,o,"throw",e)}s(void 0)}))})();var a}})}(i,e).mutateAsync;return s?null:(0,E.jsx)(f.J9,{initialValues:l,validationSchema:function(){return function(e){return(0,A.Ry)().shape({name:(0,A.Z_)().required("Name is required."),image:(0,A.Z_)().required("Image is required."),subscription:(0,A.Z_)().required("Subscription is required."),resourceGroup:(0,A.Z_)().required("Resource group is required."),location:(0,A.Z_)().required("Location is required."),os:(0,A.Z_)().oneOf(["Linux","Windows"]),cpu:(0,A.Rx)().positive(),memory:(0,A.Rx)().positive(),allocatePublicIP:(0,A.O7)(),ports:(0,A.IX)((0,A.Ry)().shape({host:(0,A.Z_)().required("host is required"),container:(0,A.Z_)().required("container is required"),protocol:(0,A.Z_)().oneOf(["TCP","UDP"])})).min(1,"At least one port binding is required"),accessControl:(0,P.p)(e)})}(t)},onSubmit:function(e){return m.apply(this,arguments)},validateOnMount:!0,validateOnChange:!0,enableReinitialize:!0,children:function(e){var t=e.errors,n=e.handleSubmit,a=e.isSubmitting,s=e.isValid,o=e.values,l=e.setFieldValue;return(0,E.jsxs)(f.l0,{className:"form-horizontal",onSubmit:n,noValidate:!0,children:[(0,E.jsx)(C.i,{children:"Azure settings"}),(0,E.jsx)(x.N,{label:"Subscription",inputId:"subscription-input",errors:t.subscription,children:(0,E.jsx)(f.gN,{name:"subscription",as:S.P,id:"subscription-input",options:c})}),(0,E.jsx)(x.N,{label:"Resource group",inputId:"resourceGroup-input",errors:t.resourceGroup,children:(0,E.jsx)(f.gN,{name:"resourceGroup",as:S.P,id:"resourceGroup-input",options:we(o.subscription,i)})}),(0,E.jsx)(x.N,{label:"Location",inputId:"location-input",errors:t.location,children:(0,E.jsx)(f.gN,{name:"location",as:S.P,id:"location-input",options:xe(o.subscription,r)})}),(0,E.jsx)(C.i,{children:"Container configuration"}),(0,E.jsx)(x.N,{label:"Name",inputId:"name-input",errors:t.name,children:(0,E.jsx)(f.gN,{name:"name",as:S.I,id:"name-input",placeholder:"e.g. myContainer"})}),(0,E.jsx)(x.N,{label:"Image",inputId:"image-input",errors:t.image,children:(0,E.jsx)(f.gN,{name:"image",as:S.I,id:"image-input",placeholder:"e.g. nginx:alpine"})}),(0,E.jsx)(x.N,{label:"OS",inputId:"os-input",errors:t.os,children:(0,E.jsx)(f.gN,{name:"os",as:S.P,id:"os-input",options:[{label:"Linux",value:"Linux"},{label:"Windows",value:"Windows"}]})}),(0,E.jsx)(R,{value:o.ports,onChange:function(e){return l("ports",e)},errors:t.ports}),(0,E.jsx)("div",{className:"form-group",children:(0,E.jsx)("div",{className:"col-sm-12 small text-muted",children:"This will automatically deploy a container with a public IP address"})}),(0,E.jsx)(C.i,{children:"Container Resources"}),(0,E.jsx)(x.N,{label:"CPU",inputId:"cpu-input",errors:t.cpu,children:(0,E.jsx)(f.gN,{name:"cpu",as:S.I,id:"cpu-input",type:"number",placeholder:"1"})}),(0,E.jsx)(x.N,{label:"Memory",inputId:"cpu-input",errors:t.memory,children:(0,E.jsx)(f.gN,{name:"memory",as:S.I,id:"memory-input",type:"number",placeholder:"1"})}),(0,E.jsx)(y.I,{formNamespace:"accessControl",onChange:function(e){return l("accessControl",e)},values:o.accessControl,errors:t.accessControl}),(0,E.jsx)("div",{className:"form-group",children:(0,E.jsx)("div",{className:"col-sm-12",children:(0,E.jsxs)(k.f,{disabled:!s,isLoading:a,loadingText:"Deployment in progress...",children:[(0,E.jsx)("i",{className:"fa fa-plus space-right","aria-hidden":"true"}),"Deploy the container"]})})})]})}});function m(){return(m=Ee(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(t);case 3:u.Vp("Container successfully created",t.name),d.stateService.go("azure.containerinstances"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u.vU("Failure",e.t0,"Unable to create container");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}}n(49329);var De=n(94033),Oe=n(80178),Re=n(83471);function Me(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Me(i,r,a,s,o,"next",e)}function o(e){Me(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(){return(Fe=Le(regeneratorRuntime.mark((function e(t,n,r,a){var i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.ZP.get(ie(t,n,r,a),{params:{"api-version":"2018-04-01"}});case 3:return i=e.sent,s=i.data,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(0),(0,B.vs)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function _e(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){_e(i,r,a,s,o,"next",e)}function o(e){_e(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(){return(He=Ke(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.ZP.get(ae(t,n,r),{params:{"api-version":"2018-02-01"}});case 3:return a=e.sent,i=a.data,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),(0,B.vs)(e.t0,"Unable to retrieve resource group",H);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Ge(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Ge(i,r,a,s,o,"next",e)}function o(e){Ge(i,r,a,s,o,"throw",e)}s(void 0)}))}}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(){return(Qe=Ze(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.ZP.get(re(t,n),{params:{"api-version":"2016-06-01"}});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,B.vs)(e.t0,"Unable to retrieve subscription",H);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var et=n(19990),tt=n(74362),nt=n.n(tt),rt=n(95004);function at(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function it(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){at(i,r,a,s,o,"next",e)}function o(e){at(i,r,a,s,o,"throw",e)}s(void 0)}))}}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){return dt.apply(this,arguments)}function dt(){return(dt=it(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.ZP.get(ie(t,n),{params:{"api-version":"2018-04-01"}});case 3:return r=e.sent,a=r.data,e.abrupt("return",a.value);case 8:throw e.prev=8,e.t0=e.catch(0),(0,B.vs)(e.t0,"Unable to retrieve container groups");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var ut=n(63613),pt=n(4450),mt=n(87227),gt=n(15638),ht=n(4391),ft=n(32346),vt=n(73903),bt=n(46980),yt=n(59765),wt=n(29722),xt=n(35138),St=n(1808),Ct=n(89996),kt=n(59748),At=n(33417),Pt=n(38276),It=n(12584),$t=n(31051),Nt={Header:"Name",accessor:function(e){return e.name},id:"name",Cell:function(e){var t=e.value,n=e.row.original;return(0,E.jsx)($t.r,{to:"azure.containerinstances.container",params:{id:n.id},className:"hover:underline",children:t})},disableFilters:!0,Filter:function(){return null},canHide:!0,sortType:"string"},Tt={Header:"Location",accessor:function(e){return e.location},id:"location",disableFilters:!0,Filter:function(){return null},canHide:!0,sortType:"string"},Et={Header:"Published Ports",accessor:function(e){return function(e){var t=e.properties.ipAddress?e.properties.ipAddress.ports:[],n=e.properties.containers.length?e.properties.containers[0]:null,r=n?n.properties.ports:[];return t.map((function(e,t){return{container:r[t]?r[t].port:void 0,host:e.port,protocol:e.protocol}}))}(e)},id:"ports",disableFilters:!0,Filter:function(){return null},canHide:!0,Cell:function(e){var t=e.value,n=e.row.original,r=n.properties.ipAddress?n.properties.ipAddress.ip:"";return 0!==t.length&&r?t.map((function(e){return(0,E.jsxs)("a",{className:"image-tag",href:"http://".concat(r,":").concat(e.host),children:[(0,E.jsx)("i",{className:"fa fa-external-link-alt","aria-hidden":"true"})," ",r,":",e.host]},e.host)})):"-"}},jt=n(39532),Dt=n(41066),Ot={Header:"Ownership",id:"ownership",accessor:function(e){return e.Portainer&&e.Portainer.ResourceControl?(0,Oe.C)(e.Portainer.ResourceControl):Re.X.ADMINISTRATORS},Cell:function(e){var t=e.value;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("i",{className:(0,jt.Z)((0,Dt.ownershipIcon)(t),"space-right"),"aria-hidden":"true"}),t]})},disableFilters:!0,canHide:!0,sortType:"string",Filter:function(){return null}};function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){Lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Vt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Ut(i,r,a,s,o,"next",e)}function o(e){Ut(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(e){var t,n,r=e.dataset,a=e.tableKey,i=e.onRemoveClick,s=(0,ut.h)(),o=s.settings,l=s.setTableSettings,c=(t=(0,St.I)(a),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],u=c[1],p=(0,rt.useMemo)((function(){return[Nt,Tt,Et,Ot]}),[]),m=(0,pt.useTable)({defaultCanFilter:!1,columns:p,data:r,filterTypes:{multiple:xt.m},initialState:{pageSize:o.pageSize||10,sortBy:[o.sortBy],globalFilter:d},selectCheckboxComponent:kt.X,autoResetSelectedRows:!1,getRowId:function(e){return e.id}},pt.useGlobalFilter,pt.useSortBy,pt.usePagination,Ct.i,mt.M_),g=m.getTableProps,h=m.getTableBodyProps,f=m.headerGroups,v=m.page,y=m.prepareRow,w=m.selectedFlatRows,x=m.gotoPage,S=m.setPageSize,C=m.setGlobalFilter,k=m.state,A=k.pageIndex,P=k.pageSize,I=(0,vt.N)(d);(0,rt.useEffect)((function(){C(I)}),[I,C]);var $=g(),N=h();return(0,E.jsx)("div",{className:"row",children:(0,E.jsx)("div",{className:"col-sm-12",children:(0,E.jsxs)(wt.xJ,{children:[(0,E.jsxs)(wt.lw,{icon:gt.Z,label:"Containers",children:[(0,E.jsx)(St.E,{value:d,onChange:function(e){u(e)}}),(0,E.jsxs)(wt.p2,{children:[(0,E.jsx)(b.FY,{authorizations:"AzureContainerGroupDelete",children:(0,E.jsx)(It.zx,{color:"dangerlight",disabled:0===w.length,onClick:function(){return function(e){return T.apply(this,arguments)}(w.map((function(e){return e.original.id})))},icon:ht.Z,children:"Remove"})}),(0,E.jsx)(b.FY,{authorizations:"AzureContainerGroupCreate",children:(0,E.jsx)($t.r,{to:"azure.containerinstances.new",className:"space-left",children:(0,E.jsx)(It.zx,{icon:ft.Z,children:"Add container"})})})]})]}),(0,E.jsxs)(wt.iA,{className:$.className,role:$.role,style:$.style,children:[(0,E.jsx)("thead",{children:f.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,r=t.className,a=t.role,i=t.style;return(0,E.jsx)(wt.KA,{className:r,role:a,style:i,headers:e.headers,onSortChange:j},n)}))}),(0,E.jsx)("tbody",{className:N.className,role:N.role,style:N.style,children:(0,E.jsx)(wt.iA.Content,{prepareRow:y,renderRow:function(e,t){var n=t.key,r=t.className,a=t.role,i=t.style;return(0,E.jsx)(wt.SC,{cells:e.cells,className:r,role:a,style:i},n)},rows:v,emptyContent:"No container available."})})]}),(0,E.jsxs)(At.y,{children:[(0,E.jsx)(Pt.V,{value:w.length}),(0,E.jsx)(yt.j,{showAll:!0,pageLimit:P,page:A+1,onPageChange:function(e){return x(e-1)},totalCount:r.length,onPageLimitChange:function(e){S(e),l((function(t){return Mt(Mt({},t),{},{pageSize:e})}))}})]})]})})});function T(){return(T=Vt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,bt.Id)("Are you sure you want to delete the selected containers?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",i(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){l((function(n){return Mt(Mt({},n),{},{sortBy:{id:e,desc:t}})}))}}function Kt(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Bt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Kt(i,r,a,s,o,"next",e)}function o(e){Kt(i,r,a,s,o,"throw",e)}s(void 0)}))}}n(89999),n(58613);var zt,Ht=n(27162),Gt=n(76118);function Zt(e){var t=e.children;return(0,E.jsx)("div",{className:"dashboard-grid",children:t})}function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qt.apply(this,arguments)}var Wt=function(e){return rt.createElement("svg",qt({width:"1em",height:"1em",viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),zt||(zt=rt.createElement("path",{d:"M20.864 8.083H1.697m8.625 8.625h7.475c1.074 0 1.61 0 2.02-.209.361-.183.654-.476.838-.837.21-.41.21-.947.21-2.02V6.358c0-1.073 0-1.61-.21-2.02a1.917 1.917 0 0 0-.837-.837c-.41-.21-.947-.21-2.02-.21h-1.726m-5.75 13.417 1.917 1.917m-1.917-1.917 1.917-1.916m-5.75 1.916H4.764c-1.073 0-1.61 0-2.02-.209a1.916 1.916 0 0 1-.838-.837c-.209-.41-.209-.947-.209-2.02V6.358c0-1.073 0-1.61.21-2.02.183-.36.476-.654.837-.837.41-.21.947-.21 2.02-.21h7.475m0 0-1.917 1.917m1.917-1.916-1.917-1.917",stroke:"#344054",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})))},Qt=n(54269),Yt=n(65280),Jt=n(81800),Xt=l().module("portainer.azure.react.views",[]).component("containerInstanceView",(0,m.A)((0,Jt.Q)((0,Yt.H)((0,Qt.s)((function(){var e=(0,v.useCurrentStateAndParams)().params.id,t=function(e){var t=e.match(/^\/subscriptions\/(.+)\/resourceGroups\/(.+)\/providers\/(.+)\/containerGroups\/(.+)$/);if(!t)throw new Error("container id is missing details");var n,r,a=(r=5,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{subscriptionId:a[1],resourceGroupId:a[2],containerGroupId:a[4]}}(e),n=t.subscriptionId,r=t.resourceGroupId,a=t.containerGroupId,i=(0,w.C)(),s=(0,K.useQueryClient)(),o=function(e,t){return(0,K.useQuery)(q.subscription(e,t),(function(){return function(e,t){return Qe.apply(this,arguments)}(e,t)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,z.AQ)("Unable to retrieve Azure subscription")))}(i,n),l=function(e,t,n){return(0,K.useQuery)(q.resourceGroup(e,t,n),(function(){return function(e,t,n){return He.apply(this,arguments)}(e,t,n)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,z.AQ)("Unable to retrieve Azure resource group")))}(i,n,r),c=function(e,t,n,r){return(0,K.useQuery)(q.containerGroup(e,t,n,r),(function(){return function(e,t,n,r){return Fe.apply(this,arguments)}(e,t,n,r)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,z.AQ)("Unable to retrieve Azure container group")))}(i,n,r,a);if(!o.isSuccess||!l.isSuccess||!c.isSuccess)return null;var d,u,p,m,f,b,y=(d=o.data,u=l.data,p=c.data,f=function(){var e=p.properties.containers[0];if(!e)return{ports:[]};var t=e.properties,n=t.ports;return{imageName:t.image,ports:p.properties.ipAddress.ports.map((function(e,t){return{container:n&&n[t]?n[t].port:void 0,host:e.port,protocol:e.protocol}})),cpu:t.resources.cpu,memory:t.resources.memoryInGB}}(),b=null!==(m=p.Portainer)&&void 0!==m&&m.ResourceControl?new Oe.w(p.Portainer.ResourceControl):void 0,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:p.name,subscriptionName:d.displayName,resourceGroupName:u.name,location:p.location,osType:p.properties.osType,ipAddress:p.properties.ipAddress.ip,resourceControl:b},f));return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(g.m,{title:"Container Instance",breadcrumbs:[{link:"azure.containerinstances",label:"Container instances"},{label:y.name}]}),(0,E.jsx)("div",{className:"row",children:(0,E.jsx)("div",{className:"col-sm-12",children:(0,E.jsx)(h.$L,{children:(0,E.jsxs)(h.kh,{className:"form-horizontal",children:[(0,E.jsx)(C.i,{children:"Azure settings"}),(0,E.jsx)(x.N,{label:"Subscription",inputId:"subscription-input",children:(0,E.jsx)(S.I,{name:"subscription",id:"subscription-input",value:y.subscriptionName,readOnly:!0})}),(0,E.jsx)(x.N,{label:"Resource group",inputId:"resourceGroup-input",children:(0,E.jsx)(S.I,{name:"resourceGroup",id:"resourceGroup-input",value:y.resourceGroupName,readOnly:!0})}),(0,E.jsx)(x.N,{label:"Location",inputId:"location-input",children:(0,E.jsx)(S.I,{name:"location",id:"location-input",value:y.location,readOnly:!0})}),(0,E.jsx)(C.i,{children:"Container configuration"}),(0,E.jsx)(x.N,{label:"Name",inputId:"name-input",children:(0,E.jsx)(S.I,{name:"name",id:"name-input",readOnly:!0,value:y.name})}),(0,E.jsx)(x.N,{label:"Image",inputId:"image-input",children:(0,E.jsx)(S.I,{name:"image",id:"image-input",value:y.imageName,readOnly:!0})}),(0,E.jsx)(x.N,{label:"OS",inputId:"os-input",children:(0,E.jsx)(S.I,{name:"os",id:"os-input",readOnly:!0,value:y.osType})}),(0,E.jsx)(R,{value:y.ports,readOnly:!0}),(0,E.jsx)(x.N,{label:"Public IP",inputId:"public-ip",children:(0,E.jsx)(S.I,{name:"public-ip",id:"public-ip",readOnly:!0,value:y.ipAddress})}),(0,E.jsx)(C.i,{children:"Container Resources"}),(0,E.jsx)(x.N,{label:"CPU",inputId:"cpu-input",children:(0,E.jsx)(S.I,{name:"cpu",id:"cpu-input",type:"number",placeholder:"1",readOnly:!0,value:y.cpu})}),(0,E.jsx)(x.N,{label:"Memory",inputId:"cpu-input",children:(0,E.jsx)(S.I,{name:"memory",id:"memory-input",type:"number",placeholder:"1",readOnly:!0,value:y.memory})})]})})})}),(0,E.jsx)(De.V,{onUpdateSuccess:function(){return s.invalidateQueries(["azure",i,"subscriptions",n,"resourceGroups",l.data.name,"containerGroups",c.data.name])},resourceId:e,resourceControl:y.resourceControl,resourceType:Re.O.ContainerGroup,environmentId:i})]})})))),[])).component("createContainerInstanceView",(0,m.A)((0,Jt.Q)((0,Yt.H)((0,Qt.s)((function(){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(g.m,{title:"Create container instance",breadcrumbs:[{link:"azure.containerinstances",label:"Container instances"},{label:"Add container"}]}),(0,E.jsx)("div",{className:"row",children:(0,E.jsx)("div",{className:"col-sm-12",children:(0,E.jsx)(h.$L,{children:(0,E.jsx)(h.kh,{children:(0,E.jsx)(je,{})})})})})]})})))),[])).component("containerInstancesView",(0,m.A)((0,Jt.Q)((0,Yt.H)((0,Qt.s)((function(){var e="containergroups",t=(0,w.C)(),n=be(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=(0,K.useQueries)((0,rt.useMemo)((function(){return t.map((function(t){return ot(ot({queryKey:q.containerGroups(e,t.subscriptionId),queryFn:(r=it(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",ct(e,t.subscriptionId));case 1:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)})},(0,z.AQ)("Unable to retrieve Azure container groups")),{},{enabled:n});var r}))}),[t,n,e]));return(0,rt.useMemo)((function(){return{containerGroups:nt()(_()(r.map((function(e){return e.data})))),isLoading:r.some((function(e){return e.isLoading}))}}),[r])}(t,n.data,n.isSuccess),a=function(e){var t=(0,K.useQueryClient)(),n=(0,K.useMutation)((function(t){return(0,et.y)(t.map((function(t){return function(){return function(e,t){return Ae.apply(this,arguments)}(e,t)}})))}),{onSuccess:function(){return t.invalidateQueries(["azure",e,"subscriptions"])},onError:function(e){(0,u.cB)("Failure",e,"Unable to remove container groups")}});return{handleRemove:function(e){return r.apply(this,arguments)}};function r(){return(r=Bt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.mutate(t,{onSuccess:function(){(0,u.t5)("Success","Container groups successfully removed")}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}(t),i=a.handleRemove;return r.isLoading||n.isLoading?null:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(g.m,{breadcrumbs:"Container instances",reload:!0,title:"Container list"}),(0,E.jsx)(ut.U,{defaults:{pageSize:10,sortBy:{id:"state",desc:!1}},storageKey:e,children:(0,E.jsx)(_t,{tableKey:e,dataset:r.containerGroups,onRemoveClick:i})})]})})))),[])).component("dashboardView",(0,m.A)((0,Jt.Q)((0,Yt.H)((0,Qt.s)((function(){var e,t=(0,w.C)(),n=be(t),r=ue(t,n.data),a=null===(e=n.data)||void 0===e?void 0:e.length,i=Object.values(r.resourceGroups).flatMap((function(e){return Object.values(e)})).length;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(g.m,{title:"Home",breadcrumbs:[{label:"Dashboard"}]}),(0,E.jsx)("div",{className:"mx-4",children:n.data&&(0,E.jsxs)(Zt,{children:[(0,E.jsx)(Gt.G,{value:a,icon:Wt,type:"Subscription"}),!r.isError&&!r.isLoading&&(0,E.jsx)(Gt.G,{value:i,icon:Ht.Z,type:"Resource group"})]})})]})})))),[])).name,en=l().module("portainer.azure.react",[Xt,p]).name;function tn(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function nn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){tn(i,r,a,s,o,"next",e)}function o(e){tn(i,r,a,s,o,"throw",e)}s(void 0)}))}}an.$inject=["$stateRegistryProvider"];var rn=l().module("portainer.azure",[en]).config(an).name;function an(e){var t={name:"azure",url:"/azure",parent:"endpoint",abstract:!0,onEnter:["$async","$state","endpoint","EndpointProvider","StateManager",function(e,t,n,r,a){return e(nn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3===n.Type){e.next=3;break}return t.go("portainer.home"),e.abrupt("return");case 3:return e.prev=3,r.setEndpointID(n.Id),r.setEndpointPublicURL(n.PublicURL),r.setOfflineModeFromStatus(n.Status),e.next=9,a.updateEndpointState(n);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),(0,u.cB)("Failed loading environment",e.t0),t.go("portainer.home",{},{reload:!0});case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))))}]};e.register(t),e.register({name:"azure.containerinstances",url:"/containerinstances",views:{"content@":{component:"containerInstancesView"}}}),e.register({name:"azure.containerinstances.container",url:"/:id",views:{"content@":{component:"containerInstanceView"}}}),e.register({name:"azure.containerinstances.new",url:"/new/",views:{"content@":{component:"createContainerInstanceView"}}}),e.register({name:"azure.dashboard",url:"/dashboard",views:{"content@":{component:"dashboardView"}}})}n(27783),n(42374),n(67912);var sn=n(54905),on=n(98767),ln=n(20037),cn=n(26196),dn=l().module("portainer.nomad.react.components",[]).name,un=l().module("portainer.nomad.react.views",[]).name,pn=l().module("portainer.nomad.react",[un,dn]).name,mn=l().module("portainer.nomad",["portainer.app",pn]).name;(0,ln.S1)(cn.cX.CE),l().module("portainer",["ui.bootstrap","ui.router",c.jd,"ngSanitize","ngFileUpload","ngMessages","ngResource","angularUtils.directives.dirPagination","LocalStorageModule","angular-jwt","angular-json-tree","angular-loading-bar","angular-clipboard","ngFileSaver","luegg.directives","portainer.app","portainer.agent",rn,"portainer.docker","portainer.kubernetes",mn,"portainer.edge","rzModule","moment-picker","angulartics",d.default]).run(sn.onStartupAngular).config(on.configApp);{const e=n(19338);e.keys().filter((e=>!e.includes(".test"))).forEach((function(t){e(t)}))}},38941:function(e,t,n){"use strict";n.r(t);var r=n(87658),a=n(79023),i=(n(20493),n(29274)),s=n.n(i),o=n(3731),l=(n(28001),n(62341),n(65562),n(66549),n(78433),n(92429),n(99230),n(15845),n(7974),n(82459),n(42240),n(77236),n(47771),n(33262),n(66076),n(77072),n(50033),n(47097),n(98191),n(62176),n(95004)),c=n(46980),d=n(29722),u=n(12584),p=n(2792),m=n(63027),g=n(2629),h={Header:"Availability",accessor:"Availability",Cell:function(e){var t=e.value;return(0,g.jsxs)(m.C,{type:t?"success":"danger",children:[(0,g.jsx)(p.J,{icon:t?"check":"x",feather:!0,className:"!mr-1"}),t?"Allowed":"Disallowed"]})},id:"availability",disableFilters:!0,canHide:!0,sortInverted:!0,sortType:"basic",Filter:function(){return null}},f={Header:"Ingress controller type",accessor:"Type",Cell:function(e){return e.row.original.Type||"-"},id:"type",disableFilters:!0,canHide:!0,Filter:function(){return null}},v={Header:"Ingress class",accessor:"ClassName",Cell:function(e){var t=e.row;return(0,g.jsxs)("span",{className:"flex flex-nowrap",children:[t.original.ClassName,t.original.New&&(0,g.jsx)(m.C,{className:"ml-1",children:"Newly detected"})]})},id:"name",disableFilters:!0,canHide:!0,Filter:function(){return null},sortType:"string"},b=n(22037),y=n(55087),w=n(73817),x=n(16579);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=("ingressClasses",(0,b.ZP)()((0,y.tJ)((function(e){return C(C({},(0,x.MX)(e)),(0,x.en)(e))}),{name:(0,w.gW)("ingressClasses")})));function E(e,t){if(e.length!==t.length)return!0;for(var n=0;n<t.length;n+=1){var r,a;if((null===(r=e[n])||void 0===r?void 0:r.Availability)!==(null===(a=t[n])||void 0===a?void 0:a.Availability))return!0}return!1}var j=n(20810),D=n.n(j),O=(n(78495),n(57592),n(6174)),R=n(39533);function M(e){var t=e.data,n=e.innerProps,r=e.selectProps;if(!t||!t.Name)throw new Error("missing option name");return(0,g.jsx)(R.c.MultiValueLabel,{data:t,innerProps:n,selectProps:r,children:t.Name})}var L=n(64490),U=n(85568),V=["data"],F=["data"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function G(e){return!!e&&"object"===H(e)&&"Type"in e}function Z(e){var t=e.data,n=z(e,V);return(0,g.jsx)(R.c.Option,K(K({data:t},n),{},{children:G(t)&&(0,g.jsx)(W,{option:t})}))}function q(e){var t=e.data,n=z(e,F);return(0,g.jsx)(R.c.MultiValueLabel,K(K({data:t},n),{},{children:G(t)&&(0,g.jsx)(W,{option:t})}))}function W(e){var t=e.option,n="user"===t.Type?L.Z:U.Z;return(0,g.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,g.jsx)(n,{}),(0,g.jsx)("span",{children:t.Name}),(0,g.jsx)("span",{children:"|"}),(0,g.jsx)("span",{children:t.Role.Name})]})}var Q=s().module("portainer.kubernetes.react.components",[]).component("ingressClassDatatable",(0,o.A)((function(e){var t,n,r=e.onChangeControllers,a=e.description,i=e.ingressControllers,s=e.allowNoneIngressClass,o=e.isLoading,m=e.noIngressControllerLabel,b=e.view,y=(t=(0,l.useState)(i||[]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||$(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=y[0],x=y[1],S=T(),C=(0,l.useMemo)((function(){return[v,f,h]}),[]);return(0,l.useEffect)((function(){if(void 0!==s){var e,t=w.some((function(e){return"custom"===e.Type}));s?(e=function(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(w),t||e.push({Name:"none",ClassName:"none",Type:"custom",Availability:!0,New:!1,Used:!1})):e=w.filter((function(e){return"none"!==e.ClassName})),x(e),r(e)}}),[s,r]),(0,g.jsx)("div",{className:"-mx-[15px]",children:(0,g.jsx)(d.Gn,{dataset:w||[],storageKey:"ingressClasses",columns:C,settingsStore:S,isLoading:o,emptyContentLabel:m,titleOptions:{icon:"database",title:"Ingress controllers",featherIcon:!0},getRowId:function(e){return"".concat(e.Name,"-").concat(e.ClassName,"-").concat(e.Type)},renderTableActions:function(e){return function(e){return(0,g.jsx)("div",{className:"flex items-start",children:(0,g.jsxs)(u.hE,{children:[(0,g.jsx)(u.zx,{disabled:0===e.filter((function(e){return!0===e.Availability})).length,color:"dangerlight",size:"small",onClick:function(){return k(e,w||[],!1)},children:"Disallow selected"}),(0,g.jsx)(u.zx,{disabled:0===e.filter((function(e){return!1===e.Availability})).length,color:"default",size:"small",onClick:function(){return k(e,w||[],!0)},children:"Allow selected"})]})})}(e)},description:(0,g.jsxs)("div",{className:"flex flex-col !text-xs text-muted w-full",children:[(0,g.jsx)("div",{className:"mt-1",children:a}),i&&w&&E(i,w)&&(0,g.jsxs)("span",{className:"flex items-center text-warning mt-1",children:[(0,g.jsx)(p.J,{icon:"alert-triangle",feather:!0,className:"!mr-1"}),(0,g.jsx)("span",{className:"text-warning",children:"Unsaved changes."})]})]})})});function k(e,t,n){var a=function(e,t,n){var r=e.map((function(e){return e.ClassName}));return null==t?void 0:t.map((function(e){return r.includes(e.ClassName)?P(P({},e),{},{Availability:n}):e}))}(e,t||[],n);if(i&&i.length){var s=a.map((function(e){return e.Availability}));if("namespace"===b)return x(a),void r(a);var o=i.filter((function(e,t){return!(!e.Availability||!e.Used||s[t])}));if(o.length>0){var l=o.map((function(e){return"<li>".concat(e.ClassName,"</li>")})),d='<ul class="ml-6">'.concat(l.join(""),"</ul>");return void(0,c.TP)({title:"Disallow in-use ingress controllers?",message:"\n            <div>\n              <p>There are ingress controllers you want to disallow that are in use:</p>\n              ".concat(d,"\n              <p>No new ingress rules can be created for the disallowed controllers.</p>\n            </div>"),buttons:{cancel:{label:"Cancel",className:"btn-default"},confirm:{label:"Disallow",className:"btn-warning"}},callback:function(e){e&&(x(a),r(a))}})}x(a),r(a)}}}),["onChangeControllers","description","ingressControllers","allowNoneIngressClass","isLoading","noIngressControllerLabel","view"])).component("namespacesSelector",(0,o.A)((function(e){var t=e.name,n=e.value,r=e.onChange,a=e.namespaces,i=e.dataCy,s=e.inputId,o=e.placeholder;return(0,g.jsx)(O.P,{name:t,isMulti:!0,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return String(e.id)},options:a,value:D()(n.map((function(e){return a.find((function(t){return t.name===e}))}))),closeMenuOnSelect:!1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e.map((function(e){return e.name})))})),"data-cy":i,inputId:s,placeholder:o})}),["dataCy","inputId","name","namespaces","onChange","placeholder","value"])).component("storageAccessModeSelector",(0,o.A)((function(e){var t=e.value,n=e.onChange,r=e.options,a=e.inputId,i=e.storageClassName;return(0,g.jsx)(O.P,{isMulti:!0,getOptionLabel:function(e){return e.Description},getOptionValue:function(e){return e.Name},components:{MultiValueLabel:M},options:r,value:t,closeMenuOnSelect:!1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(i,e)})),inputId:a,placeholder:"Not configured","data-cy":"kubeSetup-storageAccessSelect".concat(i)})}),["inputId","onChange","options","value","storageClassName"])).component("namespaceAccessUsersSelector",(0,o.A)((function(e){var t=e.onChange,n=e.options,r=e.value,a=e.dataCy,i=e.inputId,s=e.name,o=e.placeholder;return(0,g.jsx)(O.P,{isMulti:!0,name:s,getOptionLabel:function(e){return e.Name},getOptionValue:function(e){return"".concat(e.Id,"-").concat(e.Type)},options:n,value:r,closeMenuOnSelect:!1,onChange:t,"data-cy":a,inputId:i,placeholder:o,components:{MultiValueLabel:q,Option:Z}})}),["inputId","onChange","options","value","dataCy","placeholder","name"])).component("createNamespaceRegistriesSelector",(0,o.A)((function(e){var t=e.value,n=e.onChange,r=e.options,a=e.inputId;return(0,g.jsx)(O.P,{isMulti:!0,getOptionLabel:function(e){return e.Name},getOptionValue:function(e){return String(e.Id)},options:r,value:t,closeMenuOnSelect:!1,onChange:n,inputId:a,"data-cy":"namespaceCreate-registrySelect",placeholder:"Select one or more registry"})}),["inputId","onChange","options","value"])).name,Y=n(71535),J=(n(40958),n(50527),n(4391)),X=n(32346),ee=n(89023),te=n(45588),ne=n(51641),re=n(46021),ae=n(6811);function ie(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){ie(i,r,a,s,o,"next",e)}function o(e){ie(i,r,a,s,o,"throw",e)}s(void 0)}))}}function oe(){return(oe=se(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.ZP.get(le(t));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,ae.vs)(e.t0,"Unable to retrieve network details");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function le(e,t){var n="kubernetes/".concat(e,"/namespaces");return t&&(n+="/".concat(t)),n}function ce(e){return(0,ne.useQuery)(["environments",e,"kubernetes","namespaces"],(function(){return function(e){return oe.apply(this,arguments)}(e)}),{onError:function(e){(0,re.vU)("Failure",e,"Unable to get namespaces.")}})}var de=n(50265),ue=n(31051),pe=(n(97602),n(34920),n(8743),n(89024),n(53347)),me=n(27471),ge=n(38770);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){be(i,r,a,s,o,"next",e)}function o(e){be(i,r,a,s,o,"throw",e)}s(void 0)}))}}function we(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se={all:["environments","kubernetes","namespace","ingress"],namespace:function(e,t,n){return[].concat(we(Se.all),[String(e),t,n])}};function Ce(e,t){return(0,ne.useQuery)(["environments",e,"kubernetes","namespace",t,"ingress"],ye(regeneratorRuntime.mark((function n(){var r,a,i,s,o,l,c,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.allSettled(t.map((function(t){return(0,ge.qW)(e,t)})));case 2:return i=n.sent,s=null===(r=i.filter(ke))||void 0===r?void 0:r.map((function(e){return e.value})),o=s.flat().filter((function(e){return e})),l=we(new Set(o.map((function(e){return null==e?void 0:e.Namespace})))),n.next=8,Promise.allSettled(l.map((function(t){return(0,me.U)(e,t)})));case 8:return c=n.sent,d=null===(a=c.filter(ke))||void 0===a?void 0:a.map((function(e){return e.value})).flat(),o.forEach((function(e,t){var n,r=null==d?void 0:d.filter((function(t){return(null==t?void 0:t.Namespace)===(null==e?void 0:e.Namespace)})),a=null==r?void 0:r.map((function(e){return e.Name}));null===(n=e.Paths)||void 0===n||n.forEach((function(e,n){null!=a&&a.includes(e.ServiceName)||!o[t].Paths?o[t].Paths[n].HasService=!0:o[t].Paths[n].HasService=!1}))})),n.abrupt("return",o);case 12:case"end":return n.stop()}}),n)}))),fe({enabled:t.length>0},(0,pe.AQ)("Unable to get ingresses")))}function ke(e){return"fulfilled"===e.status}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e={Header:"Name",accessor:"Name",Cell:function(e){var t=e.row;return(0,g.jsx)(de.FY,{authorizations:"K8sIngressesW",childrenUnauthorized:t.original.Name,children:(0,g.jsx)(ue.r,{to:"kubernetes.ingresses.edit",params:{uid:t.original.UID,namespace:t.original.Namespace,name:t.original.Name},title:t.original.Name,children:t.original.Name})})},id:"name",disableFilters:!0,canHide:!0},Ne={Header:"Type",accessor:"Type",id:"type",disableFilters:!0,canHide:!0},Te={Header:"Namespace",accessor:"Namespace",Cell:function(e){var t=e.row;return(0,g.jsx)(ue.r,{to:"kubernetes.resourcePools.resourcePool",params:{id:t.original.Namespace},title:t.original.Namespace,children:t.original.Namespace})},id:"namespace",disableFilters:!1,canHide:!0,Filter:(0,n(33513).Cv)("Filter by namespace"),filter:function(e,t,n){return 0===n.length?e:e.filter((function(e){return n.includes(e.original.Namespace)}))}},Ee={Header:"Class Name",accessor:"ClassName",id:"className",disableFilters:!0,canHide:!0};function je(e,t,n){return e?(0,g.jsx)("a",{href:"".concat(n?"http":"https","://").concat(e).concat(t),target:"_blank",rel:"noreferrer",children:"".concat(n?"http":"https","://").concat(e).concat(t)}):t}var De={Header:"Rules and Paths",accessor:"Paths",Cell:function(e){var t,n=e.row;return(null===(t=n.original.Paths)||void 0===t?void 0:t.map((function(e){var t,r,a=(t=n.original.TLS||[],r=e.Host,0===t.filter((function(e){return-1!==e.Hosts.indexOf(r)})).length);return(0,g.jsx)("div",{children:(0,g.jsxs)("span",{className:"flex px-2 flex-nowrap items-center gap-1",children:[je(e.Host,e.Path,a),(0,g.jsx)(p.J,{icon:"arrow-right",feather:!0}),"".concat(e.ServiceName,":").concat(e.Port),!e.HasService&&(0,g.jsxs)(m.C,{type:"warn",className:"ml-1 gap-1",children:[(0,g.jsx)(p.J,{icon:"alert-triangle",feather:!0}),"Service doesn't exist"]})]})},"".concat(e.Host).concat(e.Path).concat(e.ServiceName,":").concat(e.Port))})))||(0,g.jsx)("div",{})},id:"ingressRules",disableFilters:!0,canHide:!0,disableSortBy:!0};function Oe(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Oe(i,r,a,s,o,"next",e)}function o(e){Oe(i,r,a,s,o,"throw",e)}s(void 0)}))}}var Me=(0,b.ZP)()((0,y.tJ)((function(e){return Pe(Pe({},(0,x.MX)(e)),(0,x.en)(e))}),{name:(0,w.gW)("ingresses")}));function Le(){var e,t=(0,te.C)(),n=ce(t),r=Ce(t,Object.keys((null==n?void 0:n.data)||{})),a=Me(),i=(0,l.useMemo)((function(){return[$e,Te,Ee,Ne,De]}),[]),s=(e=(0,ne.useQueryClient)(),(0,ne.useMutation)((function(e){var t=e.environmentId,n=e.data;return(0,ge.gW)(t,n)}),(0,pe.yL)((0,pe.AQ)("Unable to update ingress controller"),(0,pe.ar)(e,[Se.all])))),o=(0,ee.useRouter)();return(0,g.jsx)(d.Gn,{dataset:r.data||[],storageKey:"ingressClassesNameSpace",columns:i,settingsStore:a,isLoading:r.isLoading,emptyContentLabel:"No supported ingresses found",titleOptions:{icon:"svg-route",title:"Ingresses"},getRowId:function(e){return e.Name+e.Type+e.Namespace},renderTableActions:function(e){return(0,g.jsxs)("div",{className:"ingressDatatable-actions",children:[(0,g.jsx)(de.FY,{authorizations:"AzureContainerGroupDelete",children:(0,g.jsx)(u.zx,{className:"btn-wrapper",color:"dangerlight",disabled:0===e.length,onClick:function(){return function(e){return p.apply(this,arguments)}(e.map((function(e){return{Name:e.Name,Namespace:e.Namespace}})))},icon:J.Z,children:"Remove"})}),(0,g.jsx)(de.FY,{authorizations:"K8sIngressesW",children:(0,g.jsx)(ue.r,{to:"kubernetes.ingresses.create",className:"space-left",children:(0,g.jsx)(u.zx,{icon:X.Z,className:"btn-wrapper vertical-center",color:"secondary",children:"Add with form"})})}),(0,g.jsx)(de.FY,{authorizations:"K8sIngressesW",children:(0,g.jsx)(ue.r,{to:"kubernetes.deploy",className:"space-left",children:(0,g.jsx)(u.zx,{icon:X.Z,className:"btn-wrapper",children:"Create from manifest"})})})]})},disableSelect:!(0,de.n5)(["K8sIngressesW"])});function p(){return(p=Re(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Id)("Are you sure you want to delete the selected ingresses?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return r={},n.forEach((function(e){r[e.Namespace]=r[e.Namespace]||[],r[e.Namespace].push(e.Name)})),s.mutate({environmentId:t,data:r},{onSuccess:function(){o.stateService.reload()}}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}n(49329),n(15363),n(40443),n(25212),n(76657);var Ue=n(64001);function Ve(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Ve(i,r,a,s,o,"next",e)}function o(e){Ve(i,r,a,s,o,"throw",e)}s(void 0)}))}}function _e(){return _e=Fe(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.ZP.get("kubernetes/".concat(t,"/namespaces/").concat(n,"/configmaps"));case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,ae.vs)(e.t0,"Unable to retrieve configmaps");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),_e.apply(this,arguments)}var Ke=n(96636),Be=n(24751);function ze(e){var t=e.annotations,n=e.handleAnnotationChange,r=e.removeAnnotation,a=e.errors,i=e.placeholder;return(0,g.jsx)(g.Fragment,{children:t.map((function(e,t){return(0,g.jsxs)("div",{className:"row",children:[(0,g.jsxs)("div",{className:"form-group !pl-0 col-sm-4 !m-0",children:[(0,g.jsxs)("div",{className:"input-group input-group-sm",children:[(0,g.jsx)("span",{className:"input-group-addon required",children:"Key"}),(0,g.jsx)("input",{name:"annotation_key_".concat(t),type:"text",className:"form-control form-control-sm",placeholder:i[0],defaultValue:e.Key,onChange:function(e){return n(t,"Key",e.target.value)}})]}),a["annotations.key[".concat(t,"]")]&&(0,g.jsx)(Be.X,{className:"mt-1 !mb-0",children:a["annotations.key[".concat(t,"]")]})]}),(0,g.jsxs)("div",{className:"form-group !pl-0 col-sm-4 !m-0",children:[(0,g.jsxs)("div",{className:"input-group input-group-sm",children:[(0,g.jsx)("span",{className:"input-group-addon required",children:"Value"}),(0,g.jsx)("input",{name:"annotation_value_".concat(t),type:"text",className:"form-control form-control-sm",placeholder:i[1],defaultValue:e.Value,onChange:function(e){return n(t,"Value",e.target.value)}})]}),a["annotations.value[".concat(t,"]")]&&(0,g.jsx)(Be.X,{className:"mt-1 !mb-0",children:a["annotations.value[".concat(t,"]")]})]}),(0,g.jsx)("div",{className:"col-sm-3 !pl-0 !m-0",children:(0,g.jsx)("button",{className:"btn btn-sm btn-dangerlight btn-only-icon !ml-0",type:"button",onClick:function(){return r(t)},children:(0,g.jsx)(p.J,{icon:"trash-2",size:"md",feather:!0})})})]},e.ID)}))})}var He=n(47661),Ge=n(29561),Ze=n(54497),qe={nginx:["ImplementationSpecific","Prefix","Exact"],traefik:["Prefix","Exact"],other:["Prefix","Exact"]},We={nginx:["e.g. nginx.ingress.kubernetes.io/rewrite-target","/$1"],traefik:["e.g. traefik.ingress.kubernetes.io/router.tls","true"],other:["e.g. app.kubernetes.io/name","examplename"]};function Qe(e){var t,n,r=e.environmentID,a=e.rule,i=e.isLoading,s=e.isEdit,o=e.servicePorts,l=e.tlsOptions,c=e.handleTLSChange,d=e.addNewIngressHost,m=e.serviceOptions,h=e.handleHostChange,f=e.handleIngressChange,v=e.handlePathChange,b=e.addNewIngressRoute,y=e.removeIngressRoute,w=e.removeIngressHost,x=e.addNewAnnotation,S=e.removeAnnotation,C=e.reloadTLSCerts,k=e.handleAnnotationChange,A=e.ingressClassOptions,P=e.errors,I=e.namespacesOptions,$=e.handleNamespaceChange,N=e.namespace;if(i)return(0,g.jsx)("div",{children:"Loading..."});var T=null===(t=a.Hosts)||void 0===t?void 0:t.some((function(e){return e.NoHost})),E=We[a.IngressType||"other"]||We.other,j=qe[a.IngressType||"other"]||qe.other;return(0,g.jsxs)(Ge.$L,{children:[(0,g.jsx)(Ge.PI,{icon:"svg-route",title:"Ingress"}),(0,g.jsxs)(Ge.kh,{children:[(0,g.jsx)("div",{className:"row",children:(0,g.jsx)("div",{className:"form-horizontal",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{className:"control-label text-muted col-sm-3 col-lg-2 required",htmlFor:"namespace",children:"Namespace"}),(0,g.jsx)("div",{className:"col-sm-4",children:s?N:(0,g.jsx)(He.P,{name:"namespaces",options:I||[],onChange:function(e){return $(e.target.value)},defaultValue:N,disabled:s})})]})})}),N&&(0,g.jsxs)("div",{className:"row",children:[(0,g.jsxs)("div",{className:"form-horizontal",children:[(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{className:"control-label text-muted col-sm-3 col-lg-2 required",htmlFor:"ingress_name",children:"Ingress name"}),(0,g.jsxs)("div",{className:"col-sm-4",children:[s?a.IngressName:(0,g.jsx)("input",{name:"ingress_name",type:"text",className:"form-control",placeholder:"Ingress name",defaultValue:a.IngressName,onChange:function(e){return f("IngressName",e.target.value)},disabled:s}),P.ingressName&&!s&&(0,g.jsx)(Be.X,{className:"mt-1 error-inline",children:P.ingressName})]})]}),(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{className:"control-label text-muted col-sm-3 col-lg-2 required",htmlFor:"ingress_class",children:"Ingress class"}),(0,g.jsxs)("div",{className:"col-sm-4",children:[(0,g.jsx)(He.P,{name:"ingress_class",className:"form-control",placeholder:"Ingress name",defaultValue:a.IngressClassName,onChange:function(e){return f("IngressClassName",e.target.value)},options:A}),P.className&&(0,g.jsx)(Be.X,{className:"mt-1 error-inline",children:P.className})]})]},A.toString())]}),(0,g.jsxs)("div",{className:"col-sm-12 px-0 text-muted !mb-0",children:[(0,g.jsx)("div",{className:"mb-2",children:"Annotations"}),(0,g.jsxs)("p",{className:"vertical-center text-muted small",children:[(0,g.jsx)(p.J,{icon:"info",mode:"primary",feather:!0}),(0,g.jsxs)("span",{children:["You can specify"," ",(0,g.jsx)("a",{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/",target:"_black",children:"annotations"})," ","for the object. See further Kubernetes documentation on"," ",(0,g.jsx)("a",{href:"https://kubernetes.io/docs/reference/labels-annotations-taints/",target:"_black",children:"well-known annotations"}),"."]})]})]}),(null==a?void 0:a.Annotations)&&(0,g.jsx)(ze,{placeholder:E,annotations:a.Annotations,handleAnnotationChange:k,removeAnnotation:S,errors:P}),(0,g.jsxs)("div",{className:"col-sm-12 p-0 anntation-actions",children:[(0,g.jsxs)(u.zx,{className:"btn btn-sm btn-light mb-2 !ml-0",onClick:function(){return x()},icon:X.Z,title:"Use annotations to configure options for an ingress. Review Nginx or Traefik documentation to find the annotations supported by your choice of ingress type.",children:[" ","add annotation"]}),"nginx"===a.IngressType&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.zx,{className:"btn btn-sm btn-light mb-2 ml-2",onClick:function(){return x("rewrite")},icon:X.Z,title:"When the exposed URLs for your applications differ from the specified paths in the ingress, use the rewrite target annotation to denote the path to redirect to.","data-cy":"add-rewrite-annotation",children:[" ","Add rewrite annotation"]}),(0,g.jsx)(u.zx,{className:"btn btn-sm btn-light mb-2 ml-2",onClick:function(){return x("regex")},icon:X.Z,title:"When the exposed URLs for your applications differ from the specified paths in the ingress, use the rewrite target annotation to denote the path to redirect to.","data-cy":"add-regex-annotation",children:"Add regular expression annotation"})]}),"custom"===a.IngressType&&(0,g.jsx)(u.zx,{className:"btn btn-sm btn-light mb-2 ml-2",onClick:function(){return x("ingressClass")},icon:X.Z,"data-cy":"add-ingress-class-annotation",children:"Add kubernetes.io/ingress.class annotation"})]}),(0,g.jsx)("div",{className:"col-sm-12 px-0 text-muted",children:"Rules"})]}),N&&(null==a||null===(n=a.Hosts)||void 0===n?void 0:n.map((function(e,t){return(0,g.jsx)("div",{className:"row mb-5 rule bordered",children:(0,g.jsxs)("div",{className:"col-sm-12",children:[(0,g.jsxs)("div",{className:"row mt-5 rule-actions",children:[(0,g.jsx)("div",{className:"col-sm-3 p-0",children:e.NoHost?"Fallback rule":"Rule"}),(0,g.jsxs)("div",{className:"col-sm-9 p-0 text-right",children:[!e.NoHost&&(0,g.jsx)(u.zx,{className:"btn btn-light btn-sm",onClick:function(){return C()},icon:Ke.Z,children:"Reload TLS secrets"}),(0,g.jsx)(u.zx,{className:"btn btn-sm ml-2",color:"dangerlight",type:"button","data-cy":"k8sAppCreate-rmHostButton_".concat(t),onClick:function(){return w(t)},disabled:1===a.Hosts.length,icon:J.Z,children:"Remove rule"})]})]}),!e.NoHost&&(0,g.jsxs)("div",{className:"row",children:[(0,g.jsxs)("div",{className:"form-group !pl-0 col-sm-6 col-lg-4 !pr-2",children:[(0,g.jsxs)("div",{className:"input-group input-group-sm",children:[(0,g.jsx)("span",{className:"input-group-addon required",children:"Hostname"}),(0,g.jsx)("input",{name:"ingress_host_".concat(t),type:"text",className:"form-control form-control-sm",placeholder:"e.g. example.com",defaultValue:e.Host,onChange:function(e){return h(t,e.target.value)}})]}),P["hosts[".concat(t,"].host")]&&(0,g.jsx)(Be.X,{className:"mt-1 !mb-0",children:P["hosts[".concat(t,"].host")]})]}),(0,g.jsx)("div",{className:"form-group !pr-0 col-sm-6 col-lg-4 !pl-2",children:(0,g.jsxs)("div",{className:"input-group input-group-sm",children:[(0,g.jsx)("span",{className:"input-group-addon",children:"TLS secret"}),(0,g.jsx)(He.P,{name:"ingress_tls_".concat(t),options:l,onChange:function(e){return c(t,e.target.value)},defaultValue:e.Secret},l.toString()+e.Secret)]})}),(0,g.jsxs)("p",{className:"vertical-center text-muted small whitespace-nowrap col-sm-12 !p-0",children:[(0,g.jsx)(p.J,{icon:"info",mode:"primary",size:"md",feather:!0}),(0,g.jsxs)("span",{children:["Add a secret via"," ",(0,g.jsx)(ue.r,{to:"kubernetes.configurations",params:{id:r},className:"text-primary",target:"_blank",children:"ConfigMaps & Secrets"}),", ","then select 'Reload TLS secrets' above to populate the dropdown with your changes."]})]})]}),e.NoHost&&(0,g.jsxs)("p",{className:"vertical-center text-muted small whitespace-nowrap col-sm-12 !p-0",children:[(0,g.jsx)(p.J,{icon:"info",mode:"primary",size:"md",feather:!0}),"A fallback rule has no host specified. This rule only applies when an inbound request has a hostname that does not match with any of your other rules."]}),(0,g.jsx)("div",{className:"row",children:(0,g.jsx)("div",{className:"col-sm-12 px-0 !mb-0 mt-2 text-muted",children:"Paths"})}),e.Paths.map((function(n,r){return(0,g.jsxs)("div",{className:"mt-5 !mb-5 row path",children:[(0,g.jsxs)("div",{className:"form-group !pl-0 col-sm-3 col-xl-2 !m-0",children:[(0,g.jsxs)("div",{className:"input-group input-group-sm",children:[(0,g.jsx)("span",{className:"input-group-addon required",children:"Service"}),(0,g.jsx)(He.P,{name:"ingress_service_".concat(t,"_").concat(r),options:m,onChange:function(e){return v(t,r,"ServiceName",e.target.value)},defaultValue:n.ServiceName},m.toString()+n.ServiceName)]}),P["hosts[".concat(t,"].paths[").concat(r,"].servicename")]&&(0,g.jsx)(Be.X,{className:"mt-1 !mb-0 error-inline",children:P["hosts[".concat(t,"].paths[").concat(r,"].servicename")]})]}),(0,g.jsx)("div",{className:"form-group !pl-0 col-sm-2 col-xl-2 !m-0",children:o&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"input-group input-group-sm",children:[(0,g.jsx)("span",{className:"input-group-addon required",children:"Service port"}),(0,g.jsx)(He.P,{name:"ingress_servicePort_".concat(t,"_").concat(r),options:n.ServiceName&&o[n.ServiceName]?o[n.ServiceName]:[{label:"Select port",value:""}],onChange:function(e){return v(t,r,"ServicePort",e.target.value)},defaultValue:n.ServicePort},o.toString()+n.ServicePort)]}),P["hosts[".concat(t,"].paths[").concat(r,"].serviceport")]&&(0,g.jsx)(Be.X,{className:"mt-1 !mb-0",children:P["hosts[".concat(t,"].paths[").concat(r,"].serviceport")]})]})}),(0,g.jsxs)("div",{className:"form-group !pl-0 col-sm-3 col-xl-2 !m-0",children:[(0,g.jsxs)("div",{className:"input-group input-group-sm",children:[(0,g.jsx)("span",{className:"input-group-addon required",children:"Path type"}),(0,g.jsx)(He.P,{name:"ingress_pathType_".concat(t,"_").concat(r),options:j?j.map((function(e){return{label:e,value:e}})):[],onChange:function(e){return v(t,r,"PathType",e.target.value)},defaultValue:n.PathType},o.toString()+n.PathType)]}),P["hosts[".concat(t,"].paths[").concat(r,"].pathType")]&&(0,g.jsx)(Be.X,{className:"mt-1 !mb-0",children:P["hosts[".concat(t,"].paths[").concat(r,"].pathType")]})]}),(0,g.jsxs)("div",{className:"form-group !pl-0 col-sm-3 col-xl-3 !m-0",children:[(0,g.jsxs)("div",{className:"input-group input-group-sm",children:[(0,g.jsx)("span",{className:"input-group-addon required",children:"Path"}),(0,g.jsx)("input",{className:"form-control",name:"ingress_route_".concat(t,"-").concat(r),placeholder:"/example","data-pattern":"/^(\\/?[a-zA-Z0-9]+([a-zA-Z0-9-/_]*[a-zA-Z0-9])?|[a-zA-Z0-9]+)|(\\/){1}$/","data-cy":"k8sAppCreate-route_".concat(t,"-").concat(r),defaultValue:n.Route,onChange:function(e){return v(t,r,"Route",e.target.value)}})]}),P["hosts[".concat(t,"].paths[").concat(r,"].path")]&&(0,g.jsx)(Be.X,{className:"mt-1 !mb-0",children:P["hosts[".concat(t,"].paths[").concat(r,"].path")]})]}),(0,g.jsx)("div",{className:"form-group !pl-0 col-sm-1 !m-0",children:(0,g.jsx)(u.zx,{className:"btn btn-sm btn-only-icon !ml-0 vertical-center",color:"dangerlight",type:"button","data-cy":"k8sAppCreate-rmPortButton_".concat(t,"-").concat(r),onClick:function(){return y(t,r)},disabled:1===e.Paths.length,icon:J.Z})})]},"path_".concat(n.Key,"}"))})),(0,g.jsx)("div",{className:"row mt-5",children:(0,g.jsx)(u.zx,{className:"btn btn-sm btn-light !ml-0",type:"button",onClick:function(){return b(t)},icon:X.Z,children:"Add path"})})]})},e.Key)}))),N&&(0,g.jsx)("div",{className:"row p-0 rules-action",children:(0,g.jsxs)("div",{className:"col-sm-12 p-0 vertical-center",children:[(0,g.jsx)(u.zx,{className:"btn btn-sm btn-light !ml-0",type:"button",onClick:function(){return d()},icon:X.Z,children:"Add new host"}),(0,g.jsx)(u.zx,{className:"btn btn-sm btn-light ml-2",type:"button",onClick:function(){return d(!0)},disabled:T,icon:X.Z,children:"Add fallback rule"}),(0,g.jsx)(Ze.u,{message:"A fallback rule will be applied to all requests that do not match any of the defined hosts."})]})})]},a.Key+a.Namespace)]})}n(89999),n(58613);var Ye=["kubectl.kubernetes.io/last-applied-configuration"];function Je(e){var t=[];return e.forEach((function(e){e.Secret&&e.Host&&t.push({Hosts:[e.Host],SecretName:e.Secret})})),t}function Xe(e){var t;return null===(t=e.Hosts)||void 0===t?void 0:t.map((function(t){var n,r={};return r.Host=t,r.Secret=function(e,t){var n="";return t&&t.forEach((function(t){-1!==t.Hosts.indexOf(e)&&(n=t.SecretName)})),n}(t,e.TLS),r.Paths=[],null===(n=e.Paths)||void 0===n||n.forEach((function(e){e.Host===t&&r.Paths.push({Route:e.Path,ServiceName:e.ServiceName,ServicePort:e.Port,PathType:e.PathType,Key:Math.random().toString()})})),t||(r.NoHost=!0),r.Key=(0,Ue.v4)(),r}))}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||it(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||it(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ot=n(54269),lt=n(65280),ct=n(81800),dt=s().module("portainer.kubernetes.react.views",[]).component("kubernetesIngressesView",(0,o.A)((0,ct.Q)((0,lt.H)((0,ot.s)((function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Y.m,{title:"Ingresses",breadcrumbs:[{label:"Ingresses"}],reload:!0}),(0,g.jsx)(Le,{})]})})))),[])).component("kubernetesIngressesCreateView",(0,o.A)((0,ct.Q)((0,lt.H)((0,ot.s)((function(){var e,t,n,r=(0,te.C)(),a=(0,ee.useCurrentStateAndParams)().params,i=(0,ee.useRouter)(),s=!!a.namespace,o=at((0,l.useState)(a.namespace||""),2),c=o[0],d=o[1],p=at((0,l.useState)({}),2),m=p[0],h=p[1],f=at((0,l.useState)({}),2),v=f[0],b=f[1],y=ce(r),w=function(e,t){return(0,ne.useQuery)(["environments",e,"kubernetes","namespaces",t,"services"],(function(){return t?(0,me.U)(e,t):[]}),{onError:function(e){(0,re.vU)("Failure",e,"Unable to get services")}})}(r,c),x=function(e,t){return(0,ne.useQuery)(["environments",e,"kubernetes","namespaces",t,"configurations"],(function(){return t?function(e,t){return _e.apply(this,arguments)}(e,t):[]}),{onError:function(e){(0,re.vU)("Failure",e,"Unable to get configurations")},enabled:!!t})}(r,c),S=Ce(r,y.data?Object.keys((null==y?void 0:y.data)||{}):[]),C=function(e,t){return(0,ne.useQuery)(["environments",e,"kubernetes","namespace",t,"ingresscontrollers"],ye(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ge.tl)(e,t);case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)}))),fe({enabled:!!t,cacheTime:0},(0,pe.AQ)("Unable to get ingress controllers")))}(r,c),k=(n=(0,ne.useQueryClient)(),(0,ne.useMutation)((function(e){var t=e.environmentId,n=e.ingress;return(0,ge.Ww)(t,n)}),(0,pe.yL)((0,pe.AQ)("Unable to create ingress controller"),(0,pe.ar)(n,[Se.all])))),A=function(){var e=(0,ne.useQueryClient)();return(0,ne.useMutation)((function(e){var t=e.environmentId,n=e.ingress;return(0,ge.Ev)(t,n)}),(0,pe.yL)((0,pe.AQ)("Unable to update ingress controller"),(0,pe.ar)(e,[Se.all])))}(),P=w.isLoading&&x.isLoading&&y.isLoading&&S.isLoading&&C.isLoading||s&&!m.IngressName,I=(0,l.useMemo)((function(){var e,t,n={},r={};null===(e=S.data)||void 0===e||e.forEach((function(e){var t;null===(t=e.TLS)||void 0===t||t.forEach((function(e){e.Hosts.forEach((function(t){r[t]=e.SecretName}))}))}));var a=[];return null===(t=S.data)||void 0===t||t.forEach((function(e){n[e.Namespace]=n[e.Namespace]||0;var t=e.Name.match(/^(.*)-(\d+)$/);3===(null==t?void 0:t.length)&&(n[e.Namespace]=Math.max(n[e.Namespace],Number(t[2]))),e.Namespace===c&&a.push(e.Name)})),[a||[],S.data||[],n,r]}),[S.data,c]),$=at(I,4),N=$[0],T=$[1],E=$[2],j=$[3],D=[{label:"Select a namespace",value:""}];Object.entries((null==y?void 0:y.data)||{}).forEach((function(e){var t=at(e,2),n=t[0];t[1].IsSystem||D.push({label:n,value:n})}));var O=(0,l.useMemo)((function(){var e;return null===(e=w.data)||void 0===e?void 0:e.filter((function(e){return"ClusterIP"===e.Type}))}),[w.data]),R=(0,l.useMemo)((function(){return null==O?void 0:O.map((function(e){return{label:e.Name,value:e.Name}}))}),[O]),M=[{label:"Select a service",value:""}].concat(rt(R||[])),L=(0,l.useMemo)((function(){return O?Object.fromEntries(null==O?void 0:O.map((function(e){return[e.Name,e.Ports.map((function(e){return{label:String(e.Port),value:String(e.Port)}}))]}))):{}}),[O]),U=(0,l.useMemo)((function(){var e;return null===(e=C.data)||void 0===e?void 0:e.find((function(e){return e.ClassName===m.IngressClassName||"custom"===e.Type&&""===m.IngressClassName}))}),[C.data,m.IngressClassName]),V=[{label:"Select an ingress class",value:""}].concat(rt((null===(e=C.data)||void 0===e?void 0:e.filter((function(e){return e.Availability})).map((function(e){return{label:e.ClassName,value:e.ClassName}})))||[]));if((!U||U&&!U.Availability)&&m.IngressClassName&&!C.isLoading){var F=m.IngressType?"".concat(m.IngressClassName," - DISALLOWED"):"".concat(m.IngressClassName," - NOT FOUND");V.push({label:F,value:m.IngressClassName})}var _=null==x||null===(t=x.data)||void 0===t?void 0:t.filter((function(e){return"kubernetes.io/tls"===e.SecretType&&e.Namespace===c})),K=(0,l.useMemo)((function(){return[{label:"No TLS",value:""}].concat(rt((null==_?void 0:_.map((function(e){return{label:e.Name,value:e.Name}})))||[]))}),[_]);return(0,l.useEffect)((function(){if(a.name&&S.data&&!m.IngressName&&!C.isLoading&&!C.isLoading){var e,t=null===(e=S.data)||void 0===e?void 0:e.find((function(e){return e.Name===a.name&&e.Namespace===a.namespace}));if(t){var n,r,i=null===(n=C.data)||void 0===n||null===(r=n.find((function(e){return e.ClassName===t.ClassName||"custom"===e.Type&&!t.ClassName})))||void 0===r?void 0:r.Type,s=function(e,t){return{Key:(0,Ue.v4)(),IngressName:e.Name,Namespace:e.Namespace,IngressClassName:"custom"===t?"none":e.ClassName,Hosts:Xe(e)||[],Annotations:e.Annotations?(n=e.Annotations,r=[],Object.keys(n).forEach((function(e){-1===Ye.indexOf(e)&&r.push({Key:e,Value:n[e],ID:(0,Ue.v4)()})})),r):[],IngressType:e.Type};var n,r}(t,i);s.IngressType=i||s.IngressType,h(s)}}}),[a.name,S.data,C.data,m.IngressName,a.namespace]),(0,l.useEffect)((function(){var e;null!=m&&null!==(e=m.Hosts)&&void 0!==e&&e.length&&m.Hosts.forEach((function(e,t){var n=e.Secret||"",r=K.map((function(e){return e.value}));null==K||!K.length||null!=r&&r.includes(n)||B(t,r[0])}))}),[K,m.Hosts]),(0,l.useEffect)((function(){var e;null!=m&&null!==(e=m.Hosts)&&void 0!==e&&e.length&&m.Hosts.forEach((function(e,t){var n;null==e||null===(n=e.Paths)||void 0===n||n.forEach((function(e,n){var r,a=e.ServiceName,i=null===(r=L[a])||void 0===r?void 0:r.map((function(e){return e.value}));null==i||!i.length||null!=i&&i.includes(String(e.ServicePort))||z(t,n,"ServicePort",i[0])}))}))}),[m,L]),(0,l.useEffect)((function(){c.length>0&&function(e,t,n,i){var o,l,c={},d=tt({},e);if(!s){d.Namespace||(c.namespace="Namespace is required");d.IngressName?/^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$/.test(d.IngressName)?t.includes(d.IngressName)&&(c.ingressName="Ingress name already exists"):c.ingressName="This field must consist of lower case alphanumeric characters or '-', contain at most 63 characters, start with an alphabetic character, and end with an alphanumeric character (e.g. 'my-name', or 'abc-123').":c.ingressName="Ingress name is required",d.IngressClassName||(c.className="Ingress class is required")}s&&!e.IngressClassName&&(c.className="No ingress class is currently set for this ingress - use of the Portainer UI requires one to be set."),s&&(!i||i&&!i.Availability)&&e.IngressClassName&&(d.IngressType?c.className="Currently set to an ingress class that you do not have access to - you must select a valid class.":c.className="Currently set to an ingress class that cannot be found in the cluster - you must select a valid class.");var u=[];null===(o=d.Annotations)||void 0===o||o.forEach((function(e,t){e.Key?u.includes(e.Key)&&(c["annotations.key[".concat(t,"]")]="Annotation cannot be duplicated"):c["annotations.key[".concat(t,"]")]="Annotation key is required",e.Value||(c["annotations.value[".concat(t,"]")]="Annotation value is required"),u.push(e.Key)}));var p=[];if(null===(l=d.Hosts)||void 0===l||l.forEach((function(e,t){var i;e.NoHost||(e.Host?p.includes(e.Host)&&(c["hosts[".concat(t,"].host")]="Host cannot be duplicated"):c["hosts[".concat(t,"].host")]="Host is required",p.push(e.Host)),null===(i=e.Paths)||void 0===i||i.forEach((function(e,a){e.ServiceName||(c["hosts[".concat(t,"].paths[").concat(a,"].servicename")]="Service name is required"),s&&e.ServiceName&&!n.find((function(t){return t.value===e.ServiceName}))&&(c["hosts[".concat(t,"].paths[").concat(a,"].servicename")]=(0,g.jsxs)("span",{children:["Currently set to ",e.ServiceName,", which does not exist. You can create a service with this name for a particular deployment via"," ",(0,g.jsx)(ue.r,{to:"kubernetes.applications",params:{id:r},className:"text-primary",target:"_blank",children:"Applications"}),", and on returning here it will be picked up."]})),e.ServicePort||(c["hosts[".concat(t,"].paths[").concat(a,"].serviceport")]="Service port is required")}));var o=e.Paths.map((function(e){return e.Route}));o.forEach((function(n,r){if(n)if(o.indexOf(n)!==r)c["hosts[".concat(t,"].paths[").concat(r,"].path")]="Paths cannot be duplicated";else{var i=function(e,t,n,r){var a=!1;return e.forEach((function(e){var i;r&&e.Name===r||null===(i=e.Paths)||void 0===i||i.forEach((function(e){e.Host===t&&e.Path===n&&(a=!0)}))})),a}(T,e.Host,n,a.name);i&&(c["hosts[".concat(t,"].paths[").concat(r,"].path")]="Path is already in use with the same host")}else c["hosts[".concat(t,"].paths[").concat(r,"].path")]="Path cannot be empty"}))})),b(c),Object.keys(c).length>0);}(m,N||[],R||[],U)}),[m,c,N,R,U]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Y.m,{title:s?"Edit ingress":"Add ingress",breadcrumbs:[{link:"kubernetes.ingresses",label:"Ingresses"},{label:s?"Edit ingress":"Add ingress"}]}),(0,g.jsxs)("div",{className:"row ingress-rules",children:[(0,g.jsx)("div",{className:"col-sm-12",children:(0,g.jsx)(Qe,{environmentID:r,isLoading:P,isEdit:s,rule:m,ingressClassOptions:V,errors:v,servicePorts:L,tlsOptions:K,serviceOptions:M,addNewIngressHost:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=tt({},m),n={ServiceName:"",ServicePort:0,Route:"",PathType:"Prefix",Key:(0,Ue.v4)()},r={Host:"",Secret:"",Paths:[n],NoHost:e,Key:(0,Ue.v4)()};t.Hosts.push(r),h(t)},handleTLSChange:B,handleHostChange:function(e,t){h((function(n){var r=tt({},n);return r.Hosts[e]=tt(tt({},r.Hosts[e]),{},{Host:t}),r.Hosts[e].Secret=j[t]||r.Hosts[e].Secret,r}))},handleIngressChange:function(e,t){h((function(n){var r,a,i=tt(tt({},n),{},nt({},e,t));return"IngressClassName"===e&&(i.IngressType=null===(r=C.data)||void 0===r||null===(a=r.find((function(e){return e.ClassName===t})))||void 0===a?void 0:a.Type),i}))},handlePathChange:z,addNewIngressRoute:function(e){var t=tt({},m),n={ServiceName:"",ServicePort:0,Route:"",PathType:"Prefix",Key:(0,Ue.v4)()};t.Hosts[e].Paths.push(n),h(t)},removeIngressHost:function(e){var t=tt(tt({},m),{},{Hosts:rt(m.Hosts)});e>-1&&t.Hosts.splice(e,1),h(t)},removeIngressRoute:function(e,t){var n=tt(tt({},m),{},{Hosts:rt(m.Hosts)});e>-1&&t>-1&&n.Hosts[e].Paths.splice(t,1),h(n)},addNewAnnotation:function(e){var t,n=tt({},m),r={Key:"",Value:"",ID:(0,Ue.v4)()};switch(e){case"rewrite":r.Key="nginx.ingress.kubernetes.io/rewrite-target",r.Value="/$1";break;case"regex":r.Key="nginx.ingress.kubernetes.io/use-regex",r.Value="true";break;case"ingressClass":r.Key="kubernetes.io/ingress.class",r.Value=""}n.Annotations=n.Annotations||[],null===(t=n.Annotations)||void 0===t||t.push(r),h(n)},removeAnnotation:function(e){var t,n=tt({},m);e>-1&&(null===(t=n.Annotations)||void 0===t||t.splice(e,1)),h(n)},reloadTLSCerts:function(){x.refetch()},handleAnnotationChange:function(e,t,n){h((function(r){var a=tt({},r);return a.Annotations=a.Annotations||[],a.Annotations[e]=a.Annotations[e]||{Key:"",Value:""},a.Annotations[e][t]=n,a}))},namespace:c,handleNamespaceChange:function(e){d(e),s||function(e){var t="".concat(e,"-ingress-").concat((E[e]||0)+1),n={Host:"",Secret:"",Paths:[{Key:(0,Ue.v4)(),ServiceName:"",ServicePort:0,Route:"",PathType:"Prefix"}],Key:(0,Ue.v4)()},r={Key:(0,Ue.v4)(),Namespace:e,IngressName:t,IngressClassName:"",Hosts:[n]};h(r)}(e)},namespacesOptions:D})}),c&&!P&&(0,g.jsx)("div",{className:"col-sm-12",children:(0,g.jsx)(u.zx,{onClick:function(){return l="none"===(o=tt({},m)).IngressClassName?"":o.IngressClassName,d={Namespace:c,Name:o.IngressName,ClassName:l,Hosts:o.Hosts.map((function(e){return e.Host})),Paths:(n=o.IngressName,a=o.Hosts,a.flatMap((function(e){return e.Paths.map((function(t){return{ServiceName:t.ServiceName,Host:e.Host,Path:t.Route,Port:t.ServicePort,PathType:t.PathType||"Prefix",IngressName:n}}))}))),TLS:Je(o.Hosts),Annotations:(e=o.Annotations||[],t={},e.forEach((function(e){t[e.Key]=e.Value})),t)},void(s?A.mutate({environmentId:r,ingress:d},{onSuccess:function(){(0,re.t5)("Success","Ingress updated successfully"),i.stateService.go("kubernetes.ingresses")}}):k.mutate({environmentId:r,ingress:d},{onSuccess:function(){(0,re.t5)("Success","Ingress created successfully"),i.stateService.go("kubernetes.ingresses")}}));var e,t,n,a,o,l,d},disabled:Object.keys(v).length>0,children:s?"Update":"Create"})})]})]});function B(e,t){h((function(n){var r=tt({},n);return r.Hosts[e]=tt(tt({},r.Hosts[e]),{},{Secret:t}),r}))}function z(e,t,n,r){h((function(a){var i=tt({},a),s=tt({},i.Hosts[e]);return s.Paths[t]=tt(tt({},s.Paths[t]),{},nt({},n,"ServicePort"===n?Number(r):r)),"ServiceName"===n&&L[r]&&L[r].length>0&&(s.Paths[t].ServicePort=Number(L[r][0].value)),i.Hosts[e]=s,i}))}})))),[])).name,ut=s().module("portainer.kubernetes.react",[dt,Q]).name;const pt=n(45315),mt=n(84579);angular.module("portainer.kubernetes",["portainer.app",r.default,a.default,ut]).config(["$stateRegistryProvider",function(e){const t={name:"kubernetes",url:"/kubernetes",parent:"endpoint",abstract:!0,onEnter:["$async","$state","endpoint","EndpointProvider","KubernetesHealthService","KubernetesNamespaceService","Notifications","StateManager",function(e,t,n,r,a,i,s,o){return e((async()=>{if([5,6,7].includes(n.Type))try{if(7===n.Type)try{await a.ping(n.Id),n.Status=1}catch(e){n.Status=2}if(r.setEndpointID(n.Id),await o.updateEndpointState(n),7===n.Type&&2===n.Status)throw new Error("Unable to contact Edge agent, please ensure that the agent is properly running on the remote environment.");await i.get()}catch(e){s.error("Failed loading environment",e),t.go("portainer.home",{},{reload:!0})}else t.go("portainer.home")}))}]},n={name:"kubernetes.cluster.setup",url:"/configure",views:{"content@":{templateUrl:pt,controller:"KubernetesConfigureController",controllerAs:"ctrl"}}},r={name:"kubernetes.cluster.securityConstraint",url:"/securityConstraint",views:{"content@":{templateUrl:mt,controller:"KubernetesSecurityConstraintController"}}};e.register(t),e.register({name:"kubernetes.helm",url:"/helm/:namespace/:name",views:{"content@":{component:"kubernetesHelmApplicationView"}}}),e.register({name:"kubernetes.templates.helm",url:"/helm",views:{"content@":{component:"helmTemplatesView"}}}),e.register({name:"kubernetes.applications",url:"/applications",views:{"content@":{component:"kubernetesApplicationsView"}}}),e.register({name:"kubernetes.applications.new",url:"/new",views:{"content@":{component:"kubernetesCreateApplicationView"}}}),e.register({name:"kubernetes.applications.application",url:"/:namespace/:name",views:{"content@":{component:"kubernetesApplicationView"}}}),e.register({name:"kubernetes.applications.application.edit",url:"/edit",views:{"content@":{component:"kubernetesCreateApplicationView"}}}),e.register({name:"kubernetes.applications.application.console",url:"/:pod/:container/console",views:{"content@":{component:"kubernetesApplicationConsoleView"}}}),e.register({name:"kubernetes.applications.application.logs",url:"/:pod/:container/logs",views:{"content@":{component:"kubernetesApplicationLogsView"}}}),e.register({name:"kubernetes.applications.application.stats",url:"/:pod/:container/stats",views:{"content@":{component:"kubernetesApplicationStatsView"}}}),e.register({name:"kubernetes.stacks",url:"/stacks",abstract:!0}),e.register({name:"kubernetes.stacks.stack",url:"/:namespace/:name",abstract:!0}),e.register({name:"kubernetes.stacks.stack.logs",url:"/logs",views:{"content@":{component:"kubernetesStackLogsView"}}}),e.register({name:"kubernetes.configurations",url:"/configurations",views:{"content@":{component:"kubernetesConfigurationsView"}}}),e.register({name:"kubernetes.configurations.new",url:"/new",views:{"content@":{component:"kubernetesCreateConfigurationView"}}}),e.register({name:"kubernetes.configurations.configuration",url:"/:namespace/:name",views:{"content@":{component:"kubernetesConfigurationView"}}}),e.register({name:"kubernetes.cluster",url:"/cluster",views:{"content@":{component:"kubernetesClusterView"}}}),e.register({name:"kubernetes.dashboard",url:"/dashboard",views:{"content@":{component:"kubernetesDashboardView"}}}),e.register({name:"kubernetes.deploy",url:"/deploy?templateId",views:{"content@":{component:"kubernetesDeployView"}},params:{templateId:""}}),e.register({name:"kubernetes.cluster.node",url:"/:name",views:{"content@":{component:"kubernetesNodeView"}}}),e.register({name:"kubernetes.cluster.node.stats",url:"/stats",views:{"content@":{component:"kubernetesNodeStatsView"}}}),e.register({name:"kubernetes.resourcePools",url:"/pools",views:{"content@":{component:"kubernetesResourcePoolsView"}}}),e.register({name:"kubernetes.resourcePools.new",url:"/new",views:{"content@":{component:"kubernetesCreateResourcePoolView"}}}),e.register({name:"kubernetes.resourcePools.resourcePool",url:"/:id",views:{"content@":{component:"kubernetesResourcePoolView"}}}),e.register({name:"kubernetes.resourcePools.resourcePool.access",url:"/access",views:{"content@":{component:"kubernetesResourcePoolAccessView"}}}),e.register({name:"kubernetes.volumes",url:"/volumes",views:{"content@":{component:"kubernetesVolumesView"}}}),e.register({name:"kubernetes.volumes.volume",url:"/:namespace/:name",views:{"content@":{component:"kubernetesVolumeView"}}}),e.register({name:"kubernetes.registries",url:"/registries",views:{"content@":{component:"endpointRegistriesView"}}}),e.register({name:"kubernetes.registries.access",url:"/:id/access",views:{"content@":{component:"kubernetesRegistryAccessView"}}}),e.register(n),e.register(r),e.register({name:"kubernetes.ingresses",url:"/ingresses",views:{"content@":{component:"kubernetesIngressesView"}}}),e.register({name:"kubernetes.ingresses.create",url:"/add",views:{"content@":{component:"kubernetesIngressesCreateView"}}}),e.register({name:"kubernetes.ingresses.edit",url:"/:namespace/:name/edit",views:{"content@":{component:"kubernetesIngressesCreateView"}}})}])},28953:function(e,t,n){const r=n(15879);angular.module("portainer.kubernetes").component("kubernetesContainersDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",refreshCallback:"<",isPod:"<",useServerMetrics:"<"}})},41727:function(e,t,n){"use strict";n.r(t);var r=n(82434);t.default=class{$onInit(){const e=(this.configurations||[]).filter((e=>e.Data&&e.Type===r.KubernetesConfigurationKinds.SECRET)).flatMap((e=>Object.entries(e.Data))).map((([e,t])=>({key:e,value:t})));this.state={secrets:e}}}},3962:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(41727);const s=n(99055);a().module("portainer.kubernetes").component("kubernetesApplicationsDatatableDetails",{templateUrl:s,controller:i.default,bindings:{configurations:"<"}})},87082:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(57257);a().module("portainer.kubernetes").component("kubernetesApplicationsDatatableUrl",{templateUrl:i,bindings:{publishedUrl:"@"}})},42270:function(e,t,n){"use strict";n.r(t);const r=n(69333);angular.module("portainer.kubernetes").component("kubernetesApplicationsDatatable",{templateUrl:r,controller:"KubernetesApplicationsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",settingsKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<",onPublishingModeClick:"<",isPrimary:"<"}})},45941:function(e,t,n){"use strict";n.r(t);var r=n(93715),a=n.n(r),i=n(7172),s=n(57947),o=n(7506),l=n(82434);angular.module("portainer.docker").controller("KubernetesApplicationsDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,r){angular.extend(this,t("GenericDatatableController",{$scope:e}));const c=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.state=Object.assign(this.state,{expandAll:!1,expandedItems:[]}),this.filters={state:{open:!1,enabled:!1,values:[]}},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,this.state.filteredDataSet.forEach((e=>this.expandItem(e,this.state.expandAll)))},this.isItemExpanded=function(e){return this.state.expandedItems.includes(e.Id)},this.isExpandable=function(e){return e.KubernetesApplications||this.hasConfigurationSecrets(e)||!!this.getPublishedUrl(e).length},this.expandItem=function(e,t){t?t&&!this.state.expandedItems.includes(e.Id)&&(this.state.expandedItems=[...this.state.expandedItems,e.Id]):this.state.expandedItems=this.state.expandedItems.filter((t=>t!==e.Id)),n.setDataTableExpandedItems(this.tableKey,this.state.expandedItems)},this.expandItems=function(e){this.state.expandedItems=e,this.state.expandedItems.length===this.dataset.length&&(this.state.expandAll=!0)},this.onDataRefresh=function(){const e=n.getDataTableExpandedItems(this.tableKey);null!==e&&this.expandItems(e)},this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return s.default.isExternalApplication(e)},this.isSystemNamespace=function(e){return e.KubernetesApplications&&e.KubernetesApplications.length>0?e.KubernetesApplications.some((e=>o.default.isSystemNamespace(e.ResourcePool))):o.default.isSystemNamespace(e.ResourcePool)},this.isDisplayed=function(e){return!c.isSystemNamespace(e)||c.settings.showSystem},this.getPublishedUrl=function(e){const t=e.PublishedPorts.flatMap((e=>e.IngressRules)).filter((({Host:e,IP:t})=>e||t)).map((({Host:e,IP:t,Path:n,TLS:r})=>`${r&&r.filter((t=>t.hosts&&t.hosts.includes(e))).length>0?"https":"http"}://${e||t}${n}`));let n=[];e.LoadBalancerIPAddress&&(n=e.PublishedPorts.map((t=>`http://${e.LoadBalancerIPAddress}:${t.Port}`)));const r=[...t,...n];return r.length>0?r[0]:""},this.hasConfigurationSecrets=function(e){return e.Configurations&&e.Configurations.some((e=>e.Data&&e.Type===l.KubernetesConfigurationKinds.SECRET))},this.allowSelection=function(e){return!this.isSystemNamespace(e)},this.applyFilters=function(e){return c.filters.state.values.some((t=>e.ApplicationType===t.type&&t.display))},this.onStateFilterChange=function(){this.filters.state.enabled=this.filters.state.values.some((e=>!e.display))},this.prepareTableFromDataset=function(){const e=this.dataset.map((e=>({type:e.ApplicationType,display:!0})));this.filters.state.values=a()(e,"type")},this.$onInit=function(){this.isAdmin=r.isAdmin(),this.KubernetesApplicationDeploymentTypes=i.KubernetesApplicationDeploymentTypes,this.KubernetesApplicationTypes=i.KubernetesApplicationTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;const e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);const t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());const a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);const s=n.getDataTableExpandedItems(this.tableKey);null!==s&&this.expandItems(s);const o=n.getDataTableSettings(this.settingsKey);null!==o&&(this.settings=o,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},50195:function(e,t,n){const r=n(13181);angular.module("portainer.kubernetes").component("kubernetesApplicationsPortsDatatable",{templateUrl:r,controller:"KubernetesApplicationsPortsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},77106:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(83432),s=n.n(i),o=n(7172),l=n(57947),c=n(7506),d=n(79990);angular.module("portainer.docker").controller("KubernetesApplicationsPortsDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,r){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1});var i=this;this.KubernetesServiceTypes=d.KubernetesServiceTypes,this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return l.default.isExternalApplication(e)},this.isSystemNamespace=function(e){return c.default.isSystemNamespace(e.ResourcePool)},this.isDisplayed=function(e){return!i.isSystemNamespace(e)||i.settings.showSystem},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Ports.length>1||e.Ports[0].IngressRules.length>1},this.buildIngressRuleURL=function(e){return"http://"+(e.Host?e.Host:e.IP)+e.Path},this.portHasIngressRules=function(e){return e.IngressRules.length>0},this.ruleCanBeDisplayed=function(e){return!(!e.Host&&!e.IP)},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,a()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.isAdmin=r.isAdmin(),this.KubernetesApplicationDeploymentTypes=o.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},21266:function(e,t,n){const r=n(35558);angular.module("portainer.kubernetes").component("kubernetesApplicationsStacksDatatable",{templateUrl:r,controller:"KubernetesApplicationsStacksDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<",removeAction:"<"}})},89107:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(83432),s=n.n(i),o=n(7172),l=n(57947),c=n(7506);angular.module("portainer.kubernetes").controller("KubernetesApplicationsStacksDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,r){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1});var i=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return l.default.isExternalApplication(e)},this.allowSelection=function(e){return!this.isSystemNamespace(e.ResourcePool)},this.isSystemNamespace=function(e){return c.default.isSystemNamespace(e)},this.isDisplayed=function(e){return!i.isSystemNamespace(e.ResourcePool)||i.settings.showSystem},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Applications.length>0},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,a()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.isAdmin=r.isAdmin(),this.KubernetesApplicationDeploymentTypes=o.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},95240:function(e,t,n){const r=n(62178);angular.module("portainer.kubernetes").component("kubernetesConfigurationsDatatable",{templateUrl:r,controller:"KubernetesConfigurationsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",refreshCallback:"<",removeAction:"<"}})},63507:function(e,t,n){"use strict";n.r(t);var r=n(51780),a=n(7506);angular.module("portainer.docker").controller("KubernetesConfigurationsDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,i){angular.extend(this,t("GenericDatatableController",{$scope:e}));const s=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isSystemNamespace=function(e){return a.default.isSystemNamespace(e.Namespace)},this.isSystemToken=function(e){return r.default.isSystemToken(e)},this.isSystemConfig=function(e){return s.isSystemNamespace(e)||s.isSystemToken(e)||e.IsRegistrySecret},this.isExternalConfiguration=function(e){return r.default.isExternalConfiguration(e)},this.isDisplayed=function(e){return!s.isSystemConfig(e)||s.settings.showSystem&&s.isAdmin},this.allowSelection=function(e){return!this.isSystemConfig(e)&&!e.Used},this.$onInit=function(){this.isAdmin=i.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},39564:function(e,t,n){const r=n(29649);angular.module("portainer.kubernetes").component("kubernetesEventsDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",loading:"<",refreshCallback:"<"}})},78458:function(e,t,n){const r=n(95947);angular.module("portainer.kubernetes").component("kubernetesIntegratedApplicationsDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},56531:function(e,t,n){const r=n(33989);angular.module("portainer.kubernetes").component("kubernetesNodeApplicationsDatatable",{templateUrl:r,controller:"KubernetesNodeApplicationsDatatableController",bindings:{titleText:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},8122:function(e,t,n){"use strict";n.r(t);var r=n(7172),a=n(57947),i=n(7506);angular.module("portainer.docker").controller("KubernetesNodeApplicationsDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.isSystemNamespace=function(e){return i.default.isSystemNamespace(e.ResourcePool)},this.isExternalApplication=function(e){return a.default.isExternalApplication(e)},this.$onInit=function(){this.KubernetesApplicationDeploymentTypes=r.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},60810:function(e,t,n){const r=n(93172);angular.module("portainer.kubernetes").component("kubernetesNodesDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",refreshCallback:"<",isAdmin:"<",useServerMetrics:"<"}})},56975:function(e,t,n){const r=n(60927);angular.module("portainer.kubernetes").component("kubernetesResourcePoolApplicationsDatatable",{templateUrl:r,controller:"KubernetesResourcePoolApplicationsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},94817:function(e,t,n){"use strict";n.r(t);var r=n(57947);angular.module("portainer.docker").controller("KubernetesResourcePoolApplicationsDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.isExternalApplication=function(e){return r.default.isExternalApplication(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},22158:function(e,t,n){const r=n(70586);angular.module("portainer.kubernetes").component("kubernetesResourcePoolsDatatable",{templateUrl:r,controller:"KubernetesResourcePoolsDatatableController",bindings:{endpoint:"<",titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<"}})},51329:function(e,t,n){"use strict";n.r(t);var r=n(7506);angular.module("portainer.docker").controller("KubernetesResourcePoolsDatatableController",["$scope","$controller","Authentication","DatatableService",function(e,t,n,a){angular.extend(this,t("GenericDatatableController",{$scope:e}));var i=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){a.setDataTableSettings(this.tableKey,this.settings)},this.canManageAccess=function(e){return(this.endpoint.Kubernetes.Configuration.RestrictDefaultNamespace||!r.default.isDefaultNamespace(e.Namespace.Name))&&!this.isSystemNamespace(e)},this.disableRemove=function(e){return this.isSystemNamespace(e)||r.default.isDefaultNamespace(e.Namespace.Name)},this.isSystemNamespace=function(e){return r.default.isSystemNamespace(e.Namespace.Name)},this.isDisplayed=function(e){return!i.isSystemNamespace(e)||i.settings.showSystem&&i.isAdmin},this.namespaceStatusColor=function(e){switch(e.toLowerCase()){case"active":return"success";case"terminating":return"danger";default:return"primary"}},this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.isAdmin=n.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=a.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=a.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=a.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=a.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},62925:function(e,t,n){const r=n(18491);angular.module("portainer.kubernetes").component("kubernetesVolumesDatatable",{templateUrl:r,controller:"KubernetesVolumesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",refreshCallback:"<"}})},63651:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(11507),s=n(7506);class o{constructor(e,t,n,r){this.$async=e,this.$controller=t,this.Authentication=n,this.DatatableService=r,this.onInit=this.onInit.bind(this),this.allowSelection=this.allowSelection.bind(this),this.isDisplayed=this.isDisplayed.bind(this)}onSettingsShowSystemChange(){this.DatatableService.setDataTableSettings(this.tableKey,this.settings)}disableRemove(e){return this.isSystemNamespace(e)||this.isUsed(e)}isUsed(e){return i.default.isUsed(e)}isSystemNamespace(e){return s.default.isSystemNamespace(e.ResourcePool.Namespace.Name)}isDisplayed(e){return!this.isSystemNamespace(e)||this.settings.showSystem}isExternalVolume(e){return i.default.isExternalVolume(e)}allowSelection(e){return!this.disableRemove(e)}async onInit(){this.setDefaults(),this.prepareTableFromDataset(),this.isAdmin=this.Authentication.isAdmin(),this.settings.showSystem=!1,this.state.orderBy=this.orderBy;var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=this.DatatableService.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}$onInit(){const e=a().extend({},this.$controller("GenericDatatableController"),this);return a().extend(this,e),this.$async(this.onInit)}}o.$inject=["$async","$controller","Authentication","DatatableService"],t.default=o,a().module("portainer.kubernetes").controller("KubernetesVolumesDatatableController",o)},41399:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e,t,n,r){this.$state=e,this.$async=t,this.HelmService=n,this.Notifications=r}doesRepoExist(){return!!this.state.repository&&this.repos.includes(this.state.repository.toLowerCase().replace(/\/$/,""))}async addRepository(){this.state.isAddingRepo=!0;try{await this.HelmService.addHelmRepository(this.endpoint.Id,{url:this.state.repository}),this.Notifications.success("Success","Helm repository added successfully"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Installation error",e)}finally{this.state.isAddingRepo=!1}}$onInit(){return this.$async((async()=>{this.state={isAddingRepo:!1,repository:""}}))}}r.$inject=["$state","$async","HelmService","Notifications"]},79553:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(41399);const s=n(46598);a().module("portainer.kubernetes").component("helmAddRepository",{templateUrl:s,controller:i.default,bindings:{repos:"<",endpoint:"<"}})},43579:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(2894);a().module("portainer.kubernetes").component("helmTemplatesListItem",{templateUrl:i,bindings:{model:"<",onSelect:"<"},transclude:{actions:"?templateItemActions"}})},88416:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e,t,n,r,a){this.$async=e,this.$scope=t,this.DatatableService=n,this.HelmService=r,this.Notifications=a,this.state={textFilter:"",selectedCategory:"",categories:[]},this.updateCategories=this.updateCategories.bind(this),this.onCategoryChange=this.onCategoryChange.bind(this)}async updateCategories(){try{const e=this.charts.map((e=>e.annotations)).filter((e=>e)).map((e=>e.category)),t=[...new Set(e)].sort();this.state.categories=t.map((e=>({label:e,value:e})))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve helm charts categories")}}onCategoryChange(e){return this.$scope.$evalAsync((()=>{this.state.selectedCategory=e||""}))}onTextFilterChange(){this.DatatableService.setDataTableTextFilters(this.tableKey,this.state.textFilter)}$onChanges(){this.charts.length>0&&this.updateCategories()}$onInit(){return this.$async((async()=>{const e=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==e&&(this.state.textFilter=e)}))}}r.$inject=["$async","$scope","DatatableService","HelmService","Notifications"]},15778:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(88416);const s=n(24633);a().module("portainer.kubernetes").component("helmTemplatesList",{templateUrl:s,controller:i.default,bindings:{loading:"<",titleText:"@",titleIcon:"@",charts:"<",tableKey:"@",selectAction:"<"}})},67316:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(40714),a=n.n(r),i=n(7506);class s{constructor(e,t,n,r,a,i,s,o,l,c){this.$analytics=e,this.$async=t,this.$window=r,this.$state=n,this.$anchorScroll=a,this.Authentication=i,this.HelmService=s,this.KubernetesResourcePoolService=o,this.Notifications=l,this.ModalService=c,this.editorUpdate=this.editorUpdate.bind(this),this.uiCanExit=this.uiCanExit.bind(this),this.installHelmchart=this.installHelmchart.bind(this),this.getHelmValues=this.getHelmValues.bind(this),this.selectHelmChart=this.selectHelmChart.bind(this),this.getHelmRepoURLs=this.getHelmRepoURLs.bind(this),this.getLatestCharts=this.getLatestCharts.bind(this),this.getResourcePools=this.getResourcePools.bind(this),r.onbeforeunload=()=>{if(this.state.isEditorDirty)return""}}editorUpdate(e){this.state.originalvalues===e?this.state.isEditorDirty=!1:(this.state.values=e,this.state.isEditorDirty=!0)}async uiCanExit(){if(this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async installHelmchart(){this.state.actionInProgress=!0;try{const e={Name:this.state.appName,Repo:this.state.chart.repo,Chart:this.state.chart.name,Values:this.state.values,Namespace:this.state.resourcePool.Namespace.Name};await this.HelmService.install(this.endpoint.Id,e),this.Notifications.success("Success","Helm Chart successfully installed"),this.$analytics.eventTrack("kubernetes-helm-install",{category:"kubernetes",metadata:{"chart-name":this.state.chart.name}}),this.state.isEditorDirty=!1,this.$state.go("kubernetes.applications")}catch(e){this.Notifications.error("Installation error",e)}finally{this.state.actionInProgress=!1}}async getHelmValues(){this.state.loadingValues=!0;try{const{values:e}=await this.HelmService.values(this.state.chart.repo,this.state.chart.name);this.state.values=e,this.state.originalvalues=e}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve helm chart values.")}finally{this.state.loadingValues=!1}}async selectHelmChart(e){window.scrollTo(0,0),this.state.showCustomValues=!1,this.state.chart=e,await this.getHelmValues()}async getHelmRepoURLs(){this.state.reposLoading=!0;try{const{GlobalRepository:e,UserRepositories:t}=await this.HelmService.getHelmRepositories(this.endpoint.Id);this.state.globalRepository=e;const n=t.map((e=>e.URL)),r=[...new Set([e,...n])].map((e=>e.toLowerCase())).filter((e=>e));return this.state.repos=r,r}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve helm repo urls.")}finally{this.state.reposLoading=!1}}async getLatestCharts(e){this.state.chartsLoading=!0;try{const t=e.map((e=>this.HelmService.search(e))),n=await Promise.allSettled(t),r=n.filter((e=>"fulfilled"===e.status)).map((t=>({entries:t.value.entries,repo:e[n.indexOf(t)]}))).flatMap((({entries:e,repo:t})=>Object.values(e).map((e=>({...e[0],repo:t})))));this.state.charts=r}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve helm repo charts.")}finally{this.state.chartsLoading=!1}}async getResourcePools(){this.state.resourcePoolsLoading=!0;try{const e=(await this.KubernetesResourcePoolService.get()).filter((e=>!i.default.isSystemNamespace(e.Namespace.Name)));this.state.resourcePools=a()(e,(({Namespace:e})=>"default"===e.Name?0:1)),this.state.resourcePool=this.state.resourcePools[0]}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve initial helm data.")}finally{this.state.resourcePoolsLoading=!1}}$onInit(){return this.$async((async()=>{this.state={appName:"",chart:null,showCustomValues:!1,actionInProgress:!1,resourcePools:[],resourcePool:"",values:null,originalvalues:null,repos:[],charts:[],loadingValues:!1,isEditorDirty:!1,chartsLoading:!1,resourcePoolsLoading:!1,viewReady:!1,isAdmin:this.Authentication.isAdmin(),globalRepository:void 0};const e=await this.getHelmRepoURLs();await Promise.all([this.getLatestCharts(e),this.getResourcePools()]),this.state.viewReady=!0}))}$onDestroy(){this.state.isEditorDirty=!1}}s.$inject=["$analytics","$async","$state","$window","$anchorScroll","Authentication","HelmService","KubernetesResourcePoolService","Notifications","ModalService"]},71228:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(67316);const s=n(18236);a().module("portainer.kubernetes").component("helmTemplatesView",{templateUrl:s,controller:i.default,bindings:{endpoint:"<"}})},65473:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(66539),a=n.n(r),i=n(79990),s=n(14917),o=n(54241),l=n(20783);class c{constructor(e,t){this.EndpointProvider=e,this.Authentication=t,this.KubernetesApplicationPublishingTypes=l.KubernetesApplicationPublishingTypes}addPort(){const e=new i.KubernetesServicePort;e.nodePort="",e.port="",e.targetPort="",e.protocol="TCP",this.service.Ports.push(e)}removePort(e){this.service.Ports.splice(e,1)}servicePort(e){const t=this.service.Ports[e].targetPort;this.service.Ports[e].port=t,this.onChangeServicePort()}isAdmin(){return this.Authentication.isAdmin()}onChangeContainerPort(){const e=this.state.duplicates.targetPort,t=a()(this.service.Ports,(e=>e.targetPort)),n=o.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onChangeServicePort(){const e=this.state.duplicates.servicePort,t=a()(this.service.Ports,(e=>e.port)),n=o.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0,this.service.servicePortError=e.hasRefs}onChangeNodePort(){const e=this.state.duplicates.nodePort,t=this.nodePortServices.filter((e=>e.Name!==this.service.Name)).map((e=>e.Ports)).flat().map((e=>e.NodePort)),n=this.formServices.filter((e=>e.Type===l.KubernetesApplicationPublishingTypes.NODE_PORT&&e.Name!==this.service.Name)).map((e=>e.Ports)).flat().map((e=>e.nodePort)),r=this.service.Ports.map((e=>e.nodePort)),a=[...t,...n],i=o.default.getDuplicateNodePorts(r,a);e.refs=i,e.hasRefs=Object.keys(i).length>0,this.service.nodePortError=e.hasRefs}$onInit(){0===this.service.Ports.length&&this.addPort(),this.state={duplicates:{targetPort:new s.KubernetesFormValidationReferences,servicePort:new s.KubernetesFormValidationReferences,nodePort:new s.KubernetesFormValidationReferences},endpointId:this.EndpointProvider.endpointID()}}}c.$inject=["EndpointProvider","Authentication"]},1542:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(65473);const s=n(74226);a().module("portainer.kubernetes").component("kubeServicesItemView",{templateUrl:s,controller:i.default,bindings:{nodePortServices:"<",formServices:"<",service:"=",isEdit:"<",loadbalancerEnabled:"<"}})},54466:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(79990),a=n(20783),i=n(27471),s=n(46021);class o{constructor(e,t,n){this.$async=e,this.EndpointProvider=t,this.Authentication=n,this.asyncOnInit=this.asyncOnInit.bind(this)}addEntry(e){const t=new r.KubernetesService;t.Type=e,t.Selector=this.formValues.Selector,t.Name=this.getUniqName(),this.formValues.Services.push(t)}getUniqName(){let e=2,t=this.formValues.Name;const n=this.formValues.Services.sort(((e,t)=>e.Name.localeCompare(t.Name)));return 0!==n.length&&n.forEach((n=>{n.Name===t&&(t=this.formValues.Name+"-"+e,e+=1)})),t}deleteService(e){this.formValues.Services.splice(e,1)}addPort(e){const t=new r.KubernetesServicePort;this.formValues.Services[e].Ports.push(t)}serviceType(e){switch(e){case a.KubernetesApplicationPublishingTypes.CLUSTER_IP:return r.KubernetesServiceTypes.CLUSTER_IP;case a.KubernetesApplicationPublishingTypes.NODE_PORT:return r.KubernetesServiceTypes.NODE_PORT;case a.KubernetesApplicationPublishingTypes.LOAD_BALANCER:return r.KubernetesServiceTypes.LOAD_BALANCER}}isAdmin(){return this.Authentication.isAdmin()}iconStyle(e){switch(e){case a.KubernetesApplicationPublishingTypes.CLUSTER_IP:return"fa fa-list-alt";case a.KubernetesApplicationPublishingTypes.NODE_PORT:return"fa fa-list";case a.KubernetesApplicationPublishingTypes.LOAD_BALANCER:return"fa fa-project-diagram"}}async asyncOnInit(){try{const e=(await Promise.allSettled(this.namespaces.map((e=>(0,i.U)(this.state.endpointId,e))))).filter((e=>"fulfilled"===e.status&&e.value)).map((e=>e.value)).flat();this.nodePortServices=e.filter((e=>"NodePort"===e.Type))}catch(e){(0,s.cB)("Failure",e,"Failed getting services")}}$onInit(){return this.state={serviceType:[{typeName:r.KubernetesServiceTypes.CLUSTER_IP,typeValue:a.KubernetesApplicationPublishingTypes.CLUSTER_IP},{typeName:r.KubernetesServiceTypes.NODE_PORT,typeValue:a.KubernetesApplicationPublishingTypes.NODE_PORT},{typeName:r.KubernetesServiceTypes.LOAD_BALANCER,typeValue:a.KubernetesApplicationPublishingTypes.LOAD_BALANCER}],selected:a.KubernetesApplicationPublishingTypes.CLUSTER_IP,endpointId:this.EndpointProvider.endpointID()},this.$async(this.asyncOnInit)}}o.$inject=["$async","EndpointProvider","Authentication"]},14957:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(54466);const s=n(68629);a().module("portainer.kubernetes").component("kubeServicesView",{templateUrl:s,controller:i.default,bindings:{formValues:"=",isEdit:"<",namespaces:"<",loadbalancerEnabled:"<"}})},30761:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96049),a=n(13501),i=n(50433);class s{constructor(e,t,n,r,a,i){this.$async=n,this.$window=t,this.TerminalWindow=e,this.EndpointProvider=r,this.LocalStorage=a,this.Notifications=i,t.onbeforeunload=()=>{if(this.state.shell.connected)return""}}disconnect(){this.state.shell.connected&&(this.state.shell.connected=!1,this.state.icon="fas fa-window-minimize",this.state.shell.socket.close(),this.state.shell.term.dispose(),this.TerminalWindow.terminalclose(),this.$window.onresize=null)}screenClear(){this.state.shell.term.clear()}miniRestore(){"mini"===this.state.css?(this.state.css="normal",this.state.icon="fas fa-window-minimize",this.TerminalWindow.terminalopen()):(this.state.css="mini",this.state.icon="fas fa-window-restore",this.TerminalWindow.terminalclose())}configureSocketAndTerminal(e,t){e.onopen=()=>{const e=document.getElementById("terminal-container");t.open(e),t.setOption("cursorBlink",!0),t.focus(),t.fit(),t.writeln("#Run kubectl commands inside here"),t.writeln("#e.g. kubectl get all"),t.writeln("")},t.on("data",(t=>{e.send(t)})),e.onmessage=e=>{t.write(e.data)},e.onerror=e=>{this.disconnect(),e.target.readyState!==WebSocket.CLOSED&&this.Notifications.error("Failure",e,"Websocket connection error")},this.$window.onresize=()=>{this.TerminalWindow.terminalresize()},e.onclose=this.disconnect.bind(this),this.state.shell.connected=!0}connectConsole(){this.TerminalWindow.terminalopen(),this.state.css="normal";const e={token:this.LocalStorage.getJWT(),endpointId:this.EndpointProvider.endpointID()},t="https:"===this.$window.location.protocol?"wss://":"ws://",n=(0,i.baseHref)()+"api/websocket/kubernetes-shell",s=`${t}${n.startsWith("http")?n.replace(/^https?:\/\//i,""):window.location.host+n}?${Object.entries(e).map((([e,t])=>`${e}=${t}`)).join("&")}`;r.o.applyAddon(a),this.state.shell.socket=new WebSocket(s),this.state.shell.term=new r.o,this.configureSocketAndTerminal(this.state.shell.socket,this.state.shell.term)}$onInit(){return this.$async((async()=>{this.state={css:"normal",icon:"fa-window-minimize",shell:{connected:!1,socket:null,term:null}}}))}$onDestroy(){this.state.shell.connected&&(this.disconnect(),this.$window.onresize=null)}}s.$inject=["TerminalWindow","$window","$async","EndpointProvider","LocalStorage","Notifications"]},4546:function(e,t,n){const r=n(80331);angular.module("portainer.kubernetes").component("kubernetesConfigurationData",{templateUrl:r,controller:"KubernetesConfigurationDataController",bindings:{formValues:"=",isDockerConfig:"=",onChangeValidation:"&",isValid:"=",isCreation:"=",isEditorDirty:"="}})},16591:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(94214),s=n(29274),o=n.n(s),l=n(28380),c=n.n(l),d=n(52300),u=n(54241),p=n(51780),m=n(30578),g=n(82434);class h{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.editorUpdate=this.editorUpdate.bind(this),this.editorUpdateAsync=this.editorUpdateAsync.bind(this),this.onFileLoad=this.onFileLoad.bind(this),this.onFileLoadAsync=this.onFileLoadAsync.bind(this),this.showSimpleMode=this.showSimpleMode.bind(this),this.showAdvancedMode=this.showAdvancedMode.bind(this),this.KubernetesConfigurationKinds=g.KubernetesConfigurationKinds,this.KubernetesSecretTypeOptions=g.KubernetesSecretTypeOptions}onChangeKey(e){e&&e.Used||(this.onChangeValidation(),this.state.duplicateKeys=u.default.getDuplicates(a()(this.formValues.Data,(e=>e.Key))),this.state.invalidKeys=u.default.getInvalidKeys(a()(this.formValues.Data,(e=>e.Key))),this.isValid=0===Object.keys(this.state.duplicateKeys).length&&0===Object.keys(this.state.invalidKeys).length)}addEntry(){if(this.formValues.Data.push(new m.KubernetesConfigurationFormValuesEntry),this.formValues.Kind===this.KubernetesConfigurationKinds.SECRET){const e=this.formValues.Data.length-1;switch(this.formValues.Type){case this.KubernetesSecretTypeOptions.DOCKERCFG.value:this.addMissingKeys(["dockercfg"],e);break;case this.KubernetesSecretTypeOptions.DOCKERCONFIGJSON.value:this.addMissingKeys([".dockerconfigjson"],e);break;case this.KubernetesSecretTypeOptions.BASICAUTH.value:this.formValues.Data.some((e=>"username"===e.Key||"password"===e.Key))||this.addMissingKeys(["username","password"],e);break;case this.KubernetesSecretTypeOptions.SSHAUTH.value:this.addMissingKeys(["ssh-privatekey"],e);break;case this.KubernetesSecretTypeOptions.TLS.value:this.addMissingKeys(["tls.crt","tls.key"],e);break;case this.KubernetesSecretTypeOptions.BOOTSTRAPTOKEN.value:this.addMissingKeys(["token-id","token-secret"],e)}}this.onChangeValidation()}addMissingKeys(e,t){for(let n of e)if(this.formValues.Data.every((e=>e.Key!==n)))return void(this.formValues.Data[t].Key=n)}isRequiredKey(e){if(this.formValues.Kind===this.KubernetesConfigurationKinds.SECRET)switch(this.formValues.Type){case this.KubernetesSecretTypeOptions.DOCKERCONFIGJSON.value:if(".dockerconfigjson"===e)return!0;break;case this.KubernetesSecretTypeOptions.DOCKERCFG.value:if(".dockercfg"===e)return!0;break;case this.KubernetesSecretTypeOptions.SSHAUTH.value:if("ssh-privatekey"===e)return!0;break;case this.KubernetesSecretTypeOptions.TLS.value:if("tls.crt"===e||"tls.key"===e)return!0;break;case this.KubernetesSecretTypeOptions.BOOTSTRAPTOKEN.value:if("token-id"===e||"token-secret"===e)return!0}return!1}removeEntry(e,t){t.Used||(this.formValues.Data.splice(e,1),this.onChangeKey())}async editorUpdateAsync(e){this.formValues.DataYaml!==e&&(this.formValues.DataYaml=e,this.isEditorDirty=!0)}editorUpdate(e){return this.$async(this.editorUpdateAsync,e)}async onFileLoadAsync(e){if(e.target.result.byteLength>1048576)return void this.Notifications.error("File size is too big","File size is too big","Select a file that is 1MB or smaller.");const t=new m.KubernetesConfigurationFormValuesEntry;try{const n=c().detect(i.lW.from(e.target.result)),r=new TextDecoder(n);if(t.IsBinary=p.default.isBinary(n),t.IsBinary){const n=r.decode(e.target.result);t.Value=d.DS.encode(n)}else t.Value=r.decode(e.target.result)}catch(e){return void this.Notifications.error("Failed to upload file",e,"Failed to upload file")}t.Key=e.target.fileName,this.formValues.Kind===this.KubernetesConfigurationKinds.SECRET&&(this.isDockerConfig&&(this.formValues.Type===this.KubernetesSecretTypeOptions.DOCKERCFG.value?t.Key=".dockercfg":t.Key=".dockerconfigjson"),this.formValues.Type===this.KubernetesSecretTypeOptions.TLS.value)&&(-1!==t.Value.indexOf("BEGIN CERTIFICATE")&&(t.Key="tls.crt"),-1!==t.Value.indexOf("PRIVATE KEY")&&(t.Key="tls.key"));const n=this.formValues.Data.findIndex((e=>e.Key===t.Key||""===e.Value&&""===e.Key));-1!==n?this.formValues.Data[n]=t:this.formValues.Data.push(t),this.onChangeKey()}isEntryRequired(){return this.formValues.Kind===this.KubernetesConfigurationKinds.SECRET&&1===this.formValues.Data.length&&this.formValues.Type!==this.KubernetesSecretTypeOptions.SERVICEACCOUNTTOKEN.value}onFileLoad(e){return this.$async(this.onFileLoadAsync,e)}addEntryFromFile(e){if(e){const t=new FileReader;t.fileName=e.name,t.onload=this.onFileLoad,t.readAsArrayBuffer(e)}}showSimpleMode(){this.formValues.IsSimple=!0,this.formValues.Data=p.default.parseYaml(this.formValues),this.onChangeKey()}showAdvancedMode(){this.formValues.IsSimple=!1,this.formValues.DataYaml=p.default.parseData(this.formValues)}$onInit(){this.state={duplicateKeys:[],invalidKeys:{}}}}h.$inject=["$async","Notifications"],t.default=h,o().module("portainer.kubernetes").controller("KubernetesConfigurationDataController",h)},42718:function(e,t,n){const r=n(37751);angular.module("portainer.kubernetes").component("kubernetesResourceReservation",{templateUrl:r,controller:"KubernetesResourceReservationController",bindings:{description:"@",cpuReservation:"<",cpuUsage:"<",cpuLimit:"<",memoryReservation:"<",memoryUsage:"<",memoryLimit:"<",displayUsage:"<"}})},44579:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);class i{usageValues(){this.cpuLimit&&(this.cpuReservationPercent=Math.round(this.cpuReservation/this.cpuLimit*100)),this.memoryLimit&&(this.memoryReservationPercent=Math.round(this.memoryReservation/this.memoryLimit*100)),this.displayUsage&&this.cpuLimit&&this.memoryLimit&&(this.cpuUsagePercent=Math.round(this.cpuUsage/this.cpuLimit*100),this.memoryUsagePercent=Math.round(this.memoryUsage/this.memoryLimit*100))}$onInit(){this.usageValues()}$onChanges(){this.usageValues()}}t.default=i,a().module("portainer.kubernetes").controller("KubernetesResourceReservationController",i)},15572:function(e,t,n){const r=n(41776);angular.module("portainer.kubernetes").component("kubernetesViewLoading",{templateUrl:r,bindings:{viewReady:"<"}})},31938:function(e,t,n){const r=n(96354);angular.module("portainer.kubernetes").component("kubernetesYamlInspector",{templateUrl:r,controller:"KubernetesYamlInspectorController",bindings:{key:"@",data:"<"}})},50346:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(52474);class s{constructor(e){this.clipboard=e,this.expanded=!1}copyYAML(){this.clipboard.copyText(this.data),i("#copyNotificationYAML").show().fadeOut(2500)}toggleYAMLInspectorExpansion(){let e=this.expanded?"500px":"80vh";i("kubernetes-yaml-inspector code-editor > div.CodeMirror").css({height:e}),this.expanded=!this.expanded}}s.$inject=["clipboard"],t.default=s,a().module("portainer.kubernetes").controller("KubernetesYamlInspectorController",s)},10293:function(e,t,n){"use strict";n.r(t);var r=n(46006),a=n.n(r),i=n(83432),s=n.n(i),o=n(55743),l=n.n(o),c=n(74362),d=n.n(c),u=n(25445),p=n.n(u),m=n(46545),g=n.n(m),h=n(51235),f=n.n(h),v=n(41952),b=n.n(v),y=n(66539),w=n.n(y),x=n(29500),S=n.n(x),C=n(7172),k=n(79990),A=n(22229),P=n(14917),I=n(57947),$=n(95929),N=n(12512),T=n(15986),E=n(86998),j=n(56636),D=n(20023),O=n(7587),R=n(61515);class M{static applicationCommon(e,t,n,r,i){const o=t.spec.template?g()(p()(t.spec.template.spec.containers,t.spec.template.spec.initContainers),void 0):t.spec.containers;if(e.Id=t.metadata.uid,e.Name=t.metadata.name,e.Metadata=t.metadata,t.metadata.labels){const{labels:n}=t.metadata;e.StackId=n[C.KubernetesPortainerApplicationStackIdLabel]?parseInt(n[C.KubernetesPortainerApplicationStackIdLabel],10):null,e.StackName=n[C.KubernetesPortainerApplicationStackNameLabel]||"",e.ApplicationKind=n[C.KubernetesPortainerApplicationKindLabel]||"",e.ApplicationOwner=n[C.KubernetesPortainerApplicationOwnerLabel]||"",e.ApplicationName=n[C.KubernetesPortainerApplicationNameLabel]||e.Name}if(e.Note=t.metadata.annotations&&t.metadata.annotations[C.KubernetesPortainerApplicationNote]||"",e.ResourcePool=t.metadata.namespace,o.length&&(e.Image=o[0].image),t.spec.template&&t.spec.template.spec&&t.spec.template.spec.imagePullSecrets&&t.spec.template.spec.imagePullSecrets.length&&(e.RegistryId=parseInt(t.spec.template.spec.imagePullSecrets[0].name.replace("registry-",""),10)),e.CreationDate=t.metadata.creationTimestamp,e.Env=g()(d()(w()(o,"env")),void 0),e.Pods=t.spec.selector?I.default.associatePodsAndApplication(n,t.spec.selector):[t],e.Limits=l()(o,((e,t)=>(t.resources.limits&&t.resources.limits.cpu&&(e.Cpu+=A.default.parseCPU(t.resources.limits.cpu)),t.resources.limits&&t.resources.limits.memory&&(e.Memory+=S()(t.resources.limits.memory,{base:10})),e)),{Cpu:0,Memory:0}),e.Requests=l()(o,((e,t)=>(t.resources.requests&&t.resources.requests.cpu&&(e.Cpu+=A.default.parseCPU(t.resources.requests.cpu)),t.resources.requests&&t.resources.requests.memory&&(e.Memory+=S()(t.resources.requests.memory,{base:10})),e)),{Cpu:0,Memory:0}),r){const t=r.spec.type;e.ServiceType=t,e.ServiceId=r.metadata.uid,e.ServiceName=r.metadata.name,e.ClusterIp=r.spec.clusterIP,e.ExternalIp=r.spec.externalIP,t===k.KubernetesServiceTypes.LOAD_BALANCER&&r.status.loadBalancer.ingress&&r.status.loadBalancer.ingress.length>0&&(e.LoadBalancerIPAddress=r.status.loadBalancer.ingress[0].ip||r.status.loadBalancer.ingress[0].hostname);const n=p()(...w()(o,(e=>e.ports))),a=function(e,t){const n=w()(e,(e=>{const t=new C.KubernetesApplicationPort;return t.Port=e.port,t.TargetPort=e.targetPort,t.NodePort=e.nodePort,t.Protocol=e.protocol,t}));return b()(n,(e=>{if(isNaN(e.TargetPort)){const n=f()(t,{name:e.TargetPort});n&&(e.TargetPort=n.containerPort)}})),n}(r.spec.ports,n),l=O.KubernetesIngressHelper.findSBoundServiceIngressesRules(i,r.metadata.name);b()(a,(e=>e.IngressRules=s()(l,(t=>t.Port===e.Port)))),e.PublishedPorts=a}if(t.spec.template?e.Volumes=t.spec.template.spec.volumes?t.spec.template.spec.volumes:[]:e.Volumes=t.spec.volumes,t.spec.volumeClaimTemplates){const n=w()(t.spec.volumeClaimTemplates,(e=>({name:e.metadata.name,persistentVolumeClaim:{claimName:e.metadata.name}}))),r=s()(n,(t=>!f()(e.Volumes,{persistentVolumeClaim:{claimName:t.persistentVolumeClaim.claimName}})));e.Volumes=p()(e.Volumes,r)}const c=s()(e.Volumes,(e=>e.persistentVolumeClaim||e.hostPath));e.PersistedFolders=w()(c,(e=>{const t=a()(d()(w()(o,"volumeMounts")),"name"),n=f()(t,{name:e.name});if(n){const t=new C.KubernetesApplicationPersistedFolder;return t.MountPath=n.mountPath,e.persistentVolumeClaim?t.PersistentVolumeClaimName=e.persistentVolumeClaim.claimName:t.HostPath=e.hostPath.path,t}})),e.PersistedFolders=g()(e.PersistedFolders,void 0),e.ConfigurationVolumes=l()(e.Volumes,((e,t)=>{if(t.configMap||t.secret){const n=f()(d()(w()(o,"volumeMounts")),{name:t.name});if(n){let r=[],a="";if(t.configMap?(r=t.configMap.items,a=t.configMap.name):(r=t.secret.items,a=t.secret.secretName),r)b()(r,(t=>{const r=new C.KubernetesApplicationConfigurationVolume;r.fileMountPath=n.mountPath+"/"+t.path,r.rootMountPath=n.mountPath,r.configurationKey=t.key,r.configurationName=a,e.push(r)}));else{const t=new C.KubernetesApplicationConfigurationVolume;t.fileMountPath=n.mountPath,t.rootMountPath=n.mountPath,t.configurationName=a,e.push(t)}}}return e}),[])}static apiPodToApplication(e,t,n,r){const a=new C.KubernetesApplication;return M.applicationCommon(a,e,t,n,r),a.ApplicationType=C.KubernetesApplicationTypes.POD,a}static apiDeploymentToApplication(e,t,n,r){const a=new C.KubernetesApplication;return M.applicationCommon(a,e,t,n,r),a.ApplicationType=C.KubernetesApplicationTypes.DEPLOYMENT,a.DeploymentType=C.KubernetesApplicationDeploymentTypes.REPLICATED,a.DataAccessPolicy=C.KubernetesApplicationDataAccessPolicies.SHARED,a.RunningPodsCount=e.status.availableReplicas||e.status.replicas-e.status.unavailableReplicas||0,a.TotalPodsCount=e.spec.replicas,a}static apiDaemonSetToApplication(e,t,n,r){const a=new C.KubernetesApplication;return M.applicationCommon(a,e,t,n,r),a.ApplicationType=C.KubernetesApplicationTypes.DAEMONSET,a.DeploymentType=C.KubernetesApplicationDeploymentTypes.GLOBAL,a.DataAccessPolicy=C.KubernetesApplicationDataAccessPolicies.SHARED,a.RunningPodsCount=e.status.numberAvailable||e.status.desiredNumberScheduled-e.status.numberUnavailable||0,a.TotalPodsCount=e.status.desiredNumberScheduled,a}static apiStatefulSetToapplication(e,t,n,r){const a=new C.KubernetesApplication;return M.applicationCommon(a,e,t,n,r),a.ApplicationType=C.KubernetesApplicationTypes.STATEFULSET,a.DeploymentType=C.KubernetesApplicationDeploymentTypes.REPLICATED,a.DataAccessPolicy=C.KubernetesApplicationDataAccessPolicies.ISOLATED,a.RunningPodsCount=e.status.readyReplicas||0,a.TotalPodsCount=e.spec.replicas,a.HeadlessServiceName=e.spec.serviceName,a}static applicationToFormValues(e,t,n,r,a,i){const o=new P.KubernetesApplicationFormValues;o.ApplicationType=e.ApplicationType,o.ResourcePool=f()(t,["Namespace.Name",e.ResourcePool]),o.Name=e.Name,o.Services=I.default.generateServicesFormValuesFromServices(e),o.Selector=I.default.generateSelectorFromService(e),o.StackName=e.StackName,o.ApplicationOwner=e.ApplicationOwner,o.ImageModel.Image=e.Image,o.ImageModel.Registry.Id=e.RegistryId,o.ReplicaCount=e.TotalPodsCount,o.MemoryLimit=A.default.megaBytesValue(e.Limits.Memory),o.CpuLimit=e.Limits.Cpu,o.DeploymentType=e.DeploymentType,o.DataAccessPolicy=e.DataAccessPolicy,o.EnvironmentVariables=I.default.generateEnvVariablesFromEnv(e.Env),o.PersistedFolders=I.default.generatePersistedFoldersFormValuesFromPersistedFolders(e.PersistedFolders,r),o.Configurations=I.default.generateConfigurationFormValuesFromEnvAndVolumes(e.Env,e.ConfigurationVolumes,n),o.AutoScaler=I.default.generateAutoScalerFormValueFromHorizontalPodAutoScaler(e.AutoScaler,o.ReplicaCount),o.PublishedPorts=I.default.generatePublishedPortsFormValuesFromPublishedPorts(e.ServiceType,e.PublishedPorts,i),o.Containers=e.Containers;const l=s()(o.PublishedPorts,(e=>e.IngressName)).length;return e.ServiceType===k.KubernetesServiceTypes.LOAD_BALANCER?o.PublishingType=C.KubernetesApplicationPublishingTypes.LOAD_BALANCER:e.ServiceType===k.KubernetesServiceTypes.NODE_PORT?o.PublishingType=C.KubernetesApplicationPublishingTypes.NODE_PORT:e.ServiceType===k.KubernetesServiceTypes.CLUSTER_IP&&l?o.PublishingType=C.KubernetesApplicationPublishingTypes.INGRESS:o.PublishingType=C.KubernetesApplicationPublishingTypes.CLUSTER_IP,e.Pods&&e.Pods.length&&I.default.generatePlacementsFormValuesFromAffinity(o,e.Pods[0].Affinity,a),o}static applicationFormValuesToApplication(e){e.ApplicationOwner=R.default.ownerToLabel(e.ApplicationOwner);const t=j.default.applicationFormValuesToVolumeClaims(e),n=I.default.hasRWX(t),r=e.DeploymentType===C.KubernetesApplicationDeploymentTypes.REPLICATED&&(0===t.length||t.length>0&&e.DataAccessPolicy===C.KubernetesApplicationDataAccessPolicies.SHARED)||e.ApplicationType===C.KubernetesApplicationTypes.DEPLOYMENT,a=e.DeploymentType===C.KubernetesApplicationDeploymentTypes.REPLICATED&&t.length>0&&e.DataAccessPolicy===C.KubernetesApplicationDataAccessPolicies.ISOLATED||e.ApplicationType===C.KubernetesApplicationTypes.STATEFULSET,i=e.DeploymentType===C.KubernetesApplicationDeploymentTypes.GLOBAL&&(0===t.length||t.length>0&&e.DataAccessPolicy===C.KubernetesApplicationDataAccessPolicies.SHARED&&n)||e.ApplicationType===C.KubernetesApplicationTypes.DAEMONSET;let s,o;if(r)s=$.default.applicationFormValuesToDeployment(e,t);else if(a)s=T.default.applicationFormValuesToStatefulSet(e,t);else{if(!i)throw new D.Z("Unable to determine which association to use to convert form");s=N.default.applicationFormValuesToDaemonSet(e,t)}a&&(o=E.default.applicationFormValuesToHeadlessService(e));let l=E.default.applicationFormValuesToService(e);return l.Ports.length||(l=void 0),[s,o,E.default.applicationFormValuesToServices(e),l,t]}}t.default=M},40654:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(80738),s=n.n(i),o=n(66539),l=n.n(o),c=n(25445),d=n.n(c),u=n(59712),p=n.n(u),m=n(13978),g=n(40879),h=n(82434),f=n(30578);class v{static apiToPortainerAccessConfigMap(e){const t=new m.KubernetesPortainerAccessConfigMap;return t.Id=e.metadata.uid,t.Data=e.data,t}static createAccessPayload(e){const t=new g.KubernetesConfigMapCreatePayload;return p()(t,"binaryData"),t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.data=e.Data,t}static updateAccessPayload(e){const t=v.createAccessPayload(e);return t.metadata.uid=e.Id,t}static apiToConfigMap(e,t){const n=new m.KubernetesConfigMap;return n.Id=e.metadata.uid,n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.ConfigurationOwner=e.metadata.labels?e.metadata.labels[h.KubernetesPortainerConfigurationOwnerLabel]:"",n.CreationDate=e.metadata.creationTimestamp,n.Yaml=t?t.data:"",n.Data=d()(l()(e.data,((e,t)=>{const n=new f.KubernetesConfigurationFormValuesEntry;return n.Key=t,n.Value=e,n})),l()(e.binaryData,((e,t)=>{const n=new f.KubernetesConfigurationFormValuesEntry;return n.Key=t,n.Value=e,n.IsBinary=!0,n}))),n}static defaultConfigMap(e,t){const n=new m.KubernetesConfigMap;return n.Name=t,n.Namespace=e,n}static createPayload(e){const t=new g.KubernetesConfigMapCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace;const n=s()(e.ConfigurationOwner,{length:63,omission:""});return t.metadata.labels[h.KubernetesPortainerConfigurationOwnerLabel]=n,a()(e.Data,(e=>{e.IsBinary?t.binaryData[e.Key]=e.Value:t.data[e.Key]=e.Value})),t}static updatePayload(e){const t=new g.KubernetesConfigMapUpdatePayload;return t.metadata.uid=e.Id,t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[h.KubernetesPortainerConfigurationOwnerLabel]=e.ConfigurationOwner,a()(e.Data,(e=>{e.IsBinary?t.binaryData[e.Key]=e.Value:t.data[e.Key]=e.Value})),t}static configurationFormValuesToConfigMap(e){const t=new m.KubernetesConfigMap;return t.Id=e.Id,t.Name=e.Name,t.Namespace=e.ResourcePool.Namespace.Name,t.ConfigurationOwner=e.ConfigurationOwner,t.Data=e.Data,t}}t.default=v},10241:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(82434);t.default=class{static secretToConfiguration(e){const t=new i.KubernetesConfiguration;return t.Kind=i.KubernetesConfigurationKinds.SECRET,t.Id=e.Id,t.Name=e.Name,t.Type=e.Type,t.Namespace=e.Namespace,t.CreationDate=e.CreationDate,t.Yaml=e.Yaml,a()(e.Data,(e=>{t.Data[e.Key]=e.Value})),t.ConfigurationOwner=e.ConfigurationOwner,t.IsRegistrySecret=e.IsRegistrySecret,t.SecretType=e.SecretType,e.Annotations&&(t.ServiceAccountName=e.Annotations["kubernetes.io/service-account.name"]),t}static configMapToConfiguration(e){const t=new i.KubernetesConfiguration;return t.Kind=i.KubernetesConfigurationKinds.CONFIGMAP,t.Id=e.Id,t.Name=e.Name,t.Namespace=e.Namespace,t.CreationDate=e.CreationDate,t.Yaml=e.Yaml,a()(e.Data,(e=>{t.Data[e.Key]=e.Value})),t.ConfigurationOwner=e.ConfigurationOwner,t}}},12512:function(e,t,n){"use strict";n.r(t);var r=n(34901),a=n(12745),i=n(82935),s=n(7172),o=n(57947),l=n(22229),c=n(61515),d=n(20886);class u{static applicationFormValuesToDaemonSet(e,t){const n=new a.KubernetesDaemonSet;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=l.default.bytesValue(e.MemoryLimit),n.Env=o.default.generateEnvFromEnvVariables(e.EnvironmentVariables),o.default.generateVolumesFromPersistentVolumClaims(n,t),o.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),o.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new i.KubernetesDaemonSetCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[s.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[s.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[s.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[s.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[s.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,t.spec.template.spec.containers[0].image=(0,d.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:`registry-${e.ImageModel.Registry.Id}`}]),t.spec.template.spec.affinity=e.Affinity,c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].env",e.Env),c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].volumeMounts",e.VolumeMounts),c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.volumes",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=u.createPayload(e),a=u.createPayload(t);return r.qu(n,a)}}t.default=u},95929:function(e,t,n){"use strict";n.r(t);var r=n(34901),a=n(59238),i=n(95008),s=n(7172),o=n(57947),l=n(22229),c=n(61515),d=n(20886);class u{static applicationFormValuesToDeployment(e,t){const n=new a.KubernetesDeployment;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ReplicaCount=e.ReplicaCount,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=l.default.bytesValue(e.MemoryLimit),n.Env=o.default.generateEnvFromEnvVariables(e.EnvironmentVariables),n.Containers=e.Containers,o.default.generateVolumesFromPersistentVolumClaims(n,t),o.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),o.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new i.KubernetesDeploymentCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[s.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[s.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[s.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[s.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[s.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,e.ImageModel&&(t.spec.template.spec.containers[0].image=(0,d.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:`registry-${e.ImageModel.Registry.Id}`}])),t.spec.template.spec.affinity=e.Affinity,c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].env",e.Env),c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].volumeMounts",e.VolumeMounts),c.default.assignOrDeleteIfEmpty(t,"spec.template.spec.volumes",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=u.createPayload(e),a=u.createPayload(t);return r.qu(n,a)}}t.default=u},43083:function(e,t,n){"use strict";n.r(t);var r=n(82239);t.default=class{static apiToEvent(e){const t=new r.KubernetesEvent;return t.Id=e.metadata.uid,t.Date=e.lastTimestamp||e.eventTime,t.Type=e.type,t.Message=e.message,t.Involved=e.involvedObject,t}}},2544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(80738),a=n.n(r),i=n(4622),s=n.n(i),o=n(35076),l=n(63829),c=n(72210),d=n(7506);class u{static apiToNamespace(e,t){const n=new o.KubernetesNamespace;if(n.Id=e.metadata.uid,n.Name=e.metadata.name,n.CreationDate=e.metadata.creationTimestamp,n.Status=e.status.phase,n.Yaml=t?t.data:"",n.ResourcePoolName=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]:"",n.ResourcePoolOwner=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]:"",n.IsSystem=d.default.isDefaultSystemNamespace(e.metadata.name),e.metadata.labels){const t=e.metadata.labels[c.KubernetesPortainerNamespaceSystemLabel];s()(t)||(n.IsSystem="true"===t)}return n}static createPayload(e){const t=new l.KubernetesNamespaceCreatePayload;if(t.metadata.name=e.Name,t.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]=e.ResourcePoolName,e.ResourcePoolOwner){const n=a()(e.ResourcePoolOwner,{length:63,omission:""});t.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]=n}return t}}},56636:function(e,t,n){"use strict";n.r(t);var r=n(4622),a=n.n(r),i=n(66539),s=n.n(i),o=n(71204),l=n.n(o),c=n(51235),d=n.n(c),u=n(34901),p=n(72913),m=n(88296),g=n(7172);class h{static apiToPersistentVolumeClaim(e,t,n){const r=new p.KubernetesPersistentVolumeClaim;return r.Id=e.metadata.uid,r.Name=e.metadata.name,r.Namespace=e.metadata.namespace,r.CreationDate=e.metadata.creationTimestamp,r.Storage=`${e.spec.resources.requests.storage}B`,r.StorageClass=d()(t,{Name:e.spec.storageClassName}),r.Yaml=n?n.data:"",r.ApplicationOwner=e.metadata.labels?e.metadata.labels[g.KubernetesPortainerApplicationOwnerLabel]:"",r.ApplicationName=e.metadata.labels?e.metadata.labels[g.KubernetesPortainerApplicationNameLabel]:"",r}static applicationFormValuesToVolumeClaims(e){return l()(e.PersistedFolders,(e=>e.NeedsDeletion)),s()(e.PersistedFolders,(t=>{const n=new p.KubernetesPersistentVolumeClaim;if(a()(t.ExistingVolume))t.PersistentVolumeClaimName?(n.Name=t.PersistentVolumeClaimName,n.PreviousName=t.PersistentVolumeClaimName):n.Name=e.Name+"-"+n.Name,n.Storage=""+t.Size+t.SizeUnit.charAt(0),n.StorageClass=t.StorageClass;else{const e=t.ExistingVolume.PersistentVolumeClaim;n.Name=e.Name,t.PersistentVolumeClaimName&&(n.PreviousName=t.PersistentVolumeClaimName),n.StorageClass=e.StorageClass,n.Storage=e.Storage.charAt(0),n.CreationDate=e.CreationDate,n.Id=e.Id}return n.MountPath=t.ContainerPath,n.Namespace=e.ResourcePool.Namespace.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n}))}static createPayload(e){const t=new m.KubernetesPersistentVolumClaimCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.spec.resources.requests.storage=e.Storage,t.spec.storageClassName=e.StorageClass?e.StorageClass.Name:"",t.metadata.labels.app=e.ApplicationName,t.metadata.labels[g.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.labels[g.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t}static patchPayload(e,t){const n=h.createPayload(e),r=h.createPayload(t);return u.qu(n,r)}}t.default=h},57911:function(e,t,n){"use strict";n.r(t);var r=n(44716),a=n.n(r),i=n(46545),s=n.n(i),o=n(66539),l=n.n(o),c=n(72210),d=n(35076),u=n(47086),p=n(57456);t.default=class{static apiToResourcePool(e){const t=new c.KubernetesResourcePool;return t.Namespace=e,t.Yaml=e.Yaml,t}static formValuesToResourcePool(e){const t=new d.KubernetesNamespace;t.Name=e.Name,t.ResourcePoolName=e.Name,t.ResourcePoolOwner=e.Owner,t.IsSystem=e.IsSystem;const n=p.default.resourcePoolFormValuesToResourceQuota(e),r=l()(e.IngressClasses,(e=>{if(e.Selected)return e.Namespace=t.Name,u.KubernetesIngressConverter.resourcePoolIngressClassFormValueToIngress(e)})),i=s()(r,void 0),o=l()(e.Registries,(t=>(t.RegistryAccesses[e.EndpointId]||(t.RegistryAccesses[e.EndpointId]={Namespaces:[]}),a()(t.RegistryAccesses[e.EndpointId].Namespaces,e.Name)||(t.RegistryAccesses[e.EndpointId].Namespaces=[...t.RegistryAccesses[e.EndpointId].Namespaces,e.Name]),t)));return[t,n,i,o]}}},57456:function(e,t,n){"use strict";n.r(t);var r=n(34901),a=n(29500),i=n.n(a),s=n(47685),o=n(75976),l=n(21458),c=n(72210),d=n(22229),u=n(61515),p=n(16496);class m{static apiToResourceQuota(e,t){const n=new s.KubernetesResourceQuota;return n.Id=e.metadata.uid,n.Namespace=e.metadata.namespace,n.Name=e.metadata.name,n.CpuLimit=0,n.MemoryLimit=0,e.spec.hard&&e.spec.hard[s.KubernetesPortainerResourceQuotaCPULimit]&&(n.CpuLimit=d.default.parseCPU(e.spec.hard[s.KubernetesPortainerResourceQuotaCPULimit])),e.spec.hard&&e.spec.hard[s.KubernetesPortainerResourceQuotaMemoryLimit]&&(n.MemoryLimit=i()(e.spec.hard[s.KubernetesPortainerResourceQuotaMemoryLimit],{base:10})),n.MemoryLimitUsed=0,e.status.used&&e.status.used[s.KubernetesPortainerResourceQuotaMemoryLimit]&&(n.MemoryLimitUsed=i()(e.status.used[s.KubernetesPortainerResourceQuotaMemoryLimit],{base:10})),n.CpuLimitUsed=0,e.status.used&&e.status.used[s.KubernetesPortainerResourceQuotaCPULimit]&&(n.CpuLimitUsed=d.default.parseCPU(e.status.used[s.KubernetesPortainerResourceQuotaCPULimit])),n.Yaml=t?t.data:"",n.ResourcePoolName=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]:"",n.ResourcePoolOwner=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]:"",n}static createPayload(e){const t=new o.KubernetesResourceQuotaCreatePayload;return t.metadata.name=l.default.generateResourceQuotaName(e.Namespace),t.metadata.namespace=e.Namespace,u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${s.KubernetesPortainerResourceQuotaCPURequest}']`,e.CpuLimit),u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${s.KubernetesPortainerResourceQuotaMemoryRequest}']`,e.MemoryLimit),u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${s.KubernetesPortainerResourceQuotaCPULimit}']`,e.CpuLimit),u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${s.KubernetesPortainerResourceQuotaMemoryLimit}']`,e.MemoryLimit),t.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]=e.ResourcePoolName,e.ResourcePoolOwner&&(t.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]=e.ResourcePoolOwner),t}static updatePayload(e){const t=m.createPayload(e);return t.metadata.uid=e.Id,t}static patchPayload(e,t){const n=m.createPayload(e),a=m.createPayload(t);return r.qu(n,a)}static quotaToResourcePoolFormValues(e){const t=new p.KubernetesResourcePoolFormValues(s.KubernetesResourceQuotaDefaults);return t.Name=e.Namespace,t.CpuLimit=e.CpuLimit,t.MemoryLimit=d.default.megaBytesValue(e.MemoryLimit),(t.CpuLimit||t.MemoryLimit)&&(t.HasQuota=!0),t.StorageClasses=e.StorageRequests,t}static resourcePoolFormValuesToResourceQuota(e){if(e.HasQuota){const t=new s.KubernetesResourceQuota(e.Name);return e.HasQuota&&(t.CpuLimit=e.CpuLimit,t.MemoryLimit=d.default.bytesValue(e.MemoryLimit)),t.ResourcePoolName=e.Name,t.ResourcePoolOwner=e.Owner,t}}}t.default=m},52341:function(e,t,n){"use strict";n.r(t);var r=n(44716),a=n.n(r),i=n(66539),s=n.n(i),o=n(41952),l=n.n(o),c=n(80738),d=n.n(c),u=n(60622),p=n(69730),m=n(82434),g=n(30578);t.default=class{static createPayload(e){const t=new u.KubernetesSecretCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.type=e.Type;const n=d()(e.ConfigurationOwner,{length:63,omission:""});t.metadata.labels[m.KubernetesPortainerConfigurationOwnerLabel]=n;let r="";return l()(e.Data,(e=>{e.IsBinary?(t.data[e.Key]=e.Value,r+=""!==r?"|"+e.Key:e.Key):t.stringData[e.Key]=e.Value})),""!==r&&(t.metadata.annotations[m.KubernetesPortainerConfigurationDataAnnotation]=r),l()(e.Annotations,(e=>{t.metadata.annotations[e.name]=e.value})),t}static updatePayload(e){const t=new u.KubernetesSecretUpdatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.type=e.Type,t.metadata.labels[m.KubernetesPortainerConfigurationOwnerLabel]=e.ConfigurationOwner;let n="";return l()(e.Data,(e=>{e.IsBinary?(t.data[e.Key]=e.Value,n+=""!==n?"|"+e.Key:e.Key):t.stringData[e.Key]=e.Value})),""!==n&&(t.metadata.annotations[m.KubernetesPortainerConfigurationDataAnnotation]=n),l()(e.Annotations,(e=>{t.metadata.annotations[e.name]=e.value})),t}static apiToSecret(e,t){const n=new p.KubernetesApplicationSecret;return n.Id=e.metadata.uid,n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.Type=e.type,n.ConfigurationOwner=e.metadata.labels?e.metadata.labels[m.KubernetesPortainerConfigurationOwnerLabel]:"",n.CreationDate=e.metadata.creationTimestamp,n.Annotations=e.metadata.annotations,n.IsRegistrySecret=e.metadata.annotations&&!!e.metadata.annotations["portainer.io/registry.id"],n.Yaml=t?t.data:"",n.SecretType=e.type,n.Data=s()(e.data,((t,n)=>{const r=e.metadata.annotations?e.metadata.annotations[m.KubernetesPortainerConfigurationDataAnnotation]:"",i=new g.KubernetesConfigurationFormValuesEntry;return i.Key=n,i.IsBinary=a()(r,i.Key),i.IsBinary?i.Value=t:i.Value=atob(t),i})),n}static configurationFormValuesToSecret(e){const t=new p.KubernetesApplicationSecret;return t.Name=e.Name,t.Namespace=e.ResourcePool.Namespace.Name,t.Type=e.Type,t.ConfigurationOwner=e.ConfigurationOwner,t.Data=e.Data,e.Type===m.KubernetesSecretTypeOptions.CUSTOM.value&&(t.Type=e.customType),e.Type===m.KubernetesSecretTypeOptions.SERVICEACCOUNTTOKEN.value&&(t.Annotations=[{name:"kubernetes.io/service-account.name",value:e.ServiceAccountName}]),t}}},86998:function(e,t,n){"use strict";n.r(t);var r=n(46545),a=n.n(r),i=n(93715),s=n.n(i),o=n(66539),l=n.n(o),c=n(94946),d=n.n(c),u=n(34901),p=n(31249),m=n(7172),g=n(79990),h=n(57637);class f{static applicationFormValuesToService(e){const t=new g.KubernetesService;t.Namespace=e.ResourcePool.Namespace.Name,t.Name=e.Name,t.StackName=e.StackName?e.StackName:e.Name,t.ApplicationOwner=e.ApplicationOwner,t.ApplicationName=e.Name,e.PublishingType===m.KubernetesApplicationPublishingTypes.NODE_PORT?t.Type=g.KubernetesServiceTypes.NODE_PORT:e.PublishingType===m.KubernetesApplicationPublishingTypes.LOAD_BALANCER&&(t.Type=g.KubernetesServiceTypes.LOAD_BALANCER);const n=l()(e.PublishedPorts,(n=>function(e,t,n){if(t.IsNew||!t.NeedsDeletion){const r=e.Name,a=new g.KubernetesServicePort;return a.name=d()(r+"-"+t.ContainerPort+"-"+t.Protocol),a.port=n===g.KubernetesServiceTypes.LOAD_BALANCER?t.LoadBalancerPort:t.ContainerPort,a.targetPort=t.ContainerPort,a.protocol=t.Protocol,n===g.KubernetesServiceTypes.NODE_PORT&&t.NodePort?a.nodePort=t.NodePort:n===g.KubernetesServiceTypes.LOAD_BALANCER&&t.LoadBalancerNodePort?a.nodePort=t.LoadBalancerNodePort:delete a.nodePort,a}}(e,n,t.Type)));return t.Ports=s()(a()(n,void 0),(e=>e.targetPort+e.protocol)),t}static applicationFormValuesToServices(e){let t=[];return e.Services.forEach((function(n){const r=new g.KubernetesService;r.Namespace=e.ResourcePool.Namespace.Name,r.Name=n.Name,r.StackName=e.StackName?e.StackName:e.Name,r.ApplicationOwner=e.ApplicationOwner,r.ApplicationName=e.Name,n.Type===m.KubernetesApplicationPublishingTypes.NODE_PORT?r.Type=g.KubernetesServiceTypes.NODE_PORT:n.Type===m.KubernetesApplicationPublishingTypes.LOAD_BALANCER?r.Type=g.KubernetesServiceTypes.LOAD_BALANCER:n.Type===m.KubernetesApplicationPublishingTypes.CLUSTER_IP&&(r.Type=g.KubernetesServiceTypes.CLUSTER_IP),r.Ingress=n.Ingress,void 0!==n.Selector?r.Selector=n.Selector:r.Selector={app:e.Name};let a=[];n.Ports.forEach((function(e,t){const n=new g.KubernetesServicePort;n.name="port-"+t,n.port=e.port,e.nodePort&&(n.nodePort=e.nodePort),n.protocol=e.protocol,n.targetPort=e.targetPort,n.ingress=e.ingress,a.push(n)})),r.Ports=a,t.push(r)})),t}static applicationFormValuesToHeadlessService(e){const t=f.applicationFormValuesToService(e);return t.Name=h.default.generateHeadlessServiceName(e.Name),t.Headless=!0,t.Selector={app:e.Name},t}static createPayload(e){const t=new p.KubernetesServiceCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[m.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[m.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[m.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner;const n=[];return e.Ports.forEach((e=>{const t={};t.name=e.name,t.port=e.port,t.nodePort=e.nodePort,t.protocol=e.protocol,t.targetPort=e.targetPort,n.push(t)})),t.spec.ports=n,t.spec.selector=e.Selector,e.Headless?(t.spec.clusterIP=g.KubernetesServiceHeadlessClusterIP,delete t.spec.ports):e.Type&&(t.spec.type=e.Type),t}static patchPayload(e,t){const n=f.createPayload(e),r=f.createPayload(t);return u.qu(n,r)}}t.default=f},15986:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(34901),s=n(91920),o=n(13871),l=n(7172),c=n(57947),d=n(22229),u=n(61515),p=n(20886),m=n(56636);class g{static applicationFormValuesToStatefulSet(e,t){const n=new s.KubernetesStatefulSet;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ReplicaCount=e.ReplicaCount,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=d.default.bytesValue(e.MemoryLimit),n.Env=c.default.generateEnvFromEnvVariables(e.EnvironmentVariables),c.default.generateVolumesFromPersistentVolumClaims(n,t),c.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),c.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new o.KubernetesStatefulSetCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[l.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[l.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[l.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[l.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.serviceName=e.ServiceName,t.spec.selector.matchLabels.app=e.Name,t.spec.volumeClaimTemplates=a()(e.VolumeClaims,(e=>m.default.createPayload(e))),t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[l.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,e.ImageModel.Image&&(t.spec.template.spec.containers[0].image=(0,p.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:`registry-${e.ImageModel.Registry.Id}`}])),t.spec.template.spec.affinity=e.Affinity,u.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].env",e.Env),u.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].volumeMounts",e.VolumeMounts),u.default.assignOrDeleteIfEmpty(t,"spec.template.spec.volumes",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=g.createPayload(e),r=g.createPayload(t);return i.qu(n,r)}}t.default=g},17981:function(e,t,n){"use strict";n.r(t);var r=n(34901),a=n(86871),i=n(79824);class s{static apiToStorageClass(e){const t=new a.KubernetesStorageClass;return t.Name=e.metadata.name,t.Provisioner=e.provisioner,t.AllowVolumeExpansion=e.allowVolumeExpansion,t}static createPayload(e){const t=new i.KubernetesStorageClassCreatePayload;return t.metadata.name=e.Name,t.provisioner=e.Provisioner,t.allowVolumeExpansion=e.AllowVolumeExpansion,t}static patchPayload(e,t){const n=s.createPayload(e),a=s.createPayload(t);return r.qu(n,a)}}t.default=s},92192:function(e,t,n){"use strict";n.r(t);var r=n(72913);t.default=class{static pvcToVolume(e,t){const n=new r.KubernetesVolume;return n.PersistentVolumeClaim=e,n.ResourcePool=t,n}}},79023:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(79403),s=n(52657),o=n(6793);function l(e){e.register({name:"kubernetes.templates",url:"/templates",abstract:!0}),e.register({name:"kubernetes.templates.custom",url:"/custom",views:{"content@":{component:"kubeCustomTemplatesView"}}}),e.register({name:"kubernetes.templates.custom.new",url:"/new?fileContent",views:{"content@":{component:"kubeCreateCustomTemplateView"}},params:{fileContent:""}}),e.register({name:"kubernetes.templates.custom.edit",url:"/:id",views:{"content@":{component:"kubeEditCustomTemplateView"}}})}l.$inject=["$stateRegistryProvider"],t.default=a().module("portainer.kubernetes.custom-templates",[]).config(l).component("kubeCustomTemplatesView",i.kubeCustomTemplatesView).component("kubeEditCustomTemplateView",s.kubeEditCustomTemplateView).component("kubeCreateCustomTemplateView",o.kubeCreateCustomTemplateView).name},6793:function(e,t,n){"use strict";n.r(t),n.d(t,{kubeCreateCustomTemplateView:function(){return a}});var r=n(2267);const a={templateUrl:n(21843),controller:r.default}},2267:function(e,t,n){"use strict";n.r(t);var r=n(19898),a=n(26951),i=n(20037),s=n(37463);class o{constructor(e,t,n,a,o,l,c,d){Object.assign(this,{$async:e,$state:t,Authentication:n,CustomTemplateService:a,FormValidator:o,ModalService:l,Notifications:c,ResourceControlService:d}),this.methodOptions=[s.j6,s.ws],this.templates=null,this.isTemplateVariablesEnabled=i.aW,this.state={method:"editor",actionInProgress:!1,formValidationError:"",isEditorDirty:!1,isTemplateValid:!0},this.formValues={FileContent:"",File:null,Title:"",Description:"",Note:"",Logo:"",AccessControlData:new r.AccessControlFormData,Variables:[]},this.onChangeFile=this.onChangeFile.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onBeforeOnload=this.onBeforeOnload.bind(this),this.handleChange=this.handleChange.bind(this),this.onVariablesChange=this.onVariablesChange.bind(this)}onChangeMethod(e){this.state.method=e,this.formValues.Variables=[]}onChangeFileContent(e){this.handleChange({FileContent:e}),this.parseTemplate(e),this.state.isEditorDirty=!0}parseTemplate(e){if(!this.isTemplateVariablesEnabled)return;const t=(0,a.NT)(e),n=!!t;this.state.isTemplateValid=n,n&&this.onVariablesChange((0,a.fD)(this.formValues.Variables,t))}onVariablesChange(e){this.handleChange({Variables:e})}onChangeFile(e){this.handleChange({File:e})}handleChange(e){return this.$async((async()=>{this.formValues={...this.formValues,...e}}))}async createCustomTemplate(){return this.$async((async()=>{const{method:e}=this.state;if(this.validateForm(e)){this.state.actionInProgress=!0;try{const t=await this.createCustomTemplateByMethod(e,this.formValues),n=this.formValues.AccessControlData,r=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(r,n,t.ResourceControl),this.Notifications.success("Success","Custom template successfully created"),this.state.isEditorDirty=!1,this.$state.go("kubernetes.templates.custom")}catch(e){this.Notifications.error("Failure",e,"Failed creating custom template")}finally{this.state.actionInProgress=!1}}}))}createCustomTemplateByMethod(e,t){switch(t.Type=3,e){case"editor":return this.createCustomTemplateFromFileContent(t);case"upload":return this.createCustomTemplateFromFileUpload(t)}}createCustomTemplateFromFileContent(e){return this.CustomTemplateService.createCustomTemplateFromFileContent(e)}createCustomTemplateFromFileUpload(e){return this.CustomTemplateService.createCustomTemplateFromFileUpload(e)}validateForm(e){if(this.state.formValidationError="","editor"===e&&""===this.formValues.FileContent)return this.state.formValidationError="Template file content must not be empty",!1;const t=this.formValues.Title;if(this.templates.some((e=>e.Title===t)))return this.state.formValidationError="A template with the same name already exists",!1;if(!this.state.isTemplateValid)return this.state.formValidationError="Template is not valid",!1;const n=this.Authentication.isAdmin(),r=this.formValues.AccessControlData,a=this.FormValidator.validateAccessControl(r,n);return!a||(this.state.formValidationError=a,!1)}async $onInit(){return this.$async((async()=>{const{fileContent:e,type:t}=this.$state.params;this.formValues.FileContent=e,this.parseTemplate(e),t&&(this.formValues.Type=+t);try{this.templates=await this.CustomTemplateService.customTemplates(3)}catch(e){this.Notifications.error("Failure loading",e,"Failed loading custom templates")}this.state.loading=!1,window.addEventListener("beforeunload",this.onBeforeOnload)}))}$onDestroy(){window.removeEventListener("beforeunload",this.onBeforeOnload)}isEditorDirty(){return"editor"===this.state.method&&this.formValues.FileContent&&this.state.isEditorDirty}onBeforeOnload(e){this.isEditorDirty()&&(e.preventDefault(),e.returnValue="")}uiCanExit(){if(this.isEditorDirty())return this.ModalService.confirmWebEditorDiscard()}}o.$inject=["$async","$state","Authentication","CustomTemplateService","FormValidator","ModalService","Notifications","ResourceControlService"],t.default=o},79403:function(e,t,n){"use strict";n.r(t),n.d(t,{kubeCustomTemplatesView:function(){return a}});var r=n(11916);const a={templateUrl:n(66295),controller:r.default}},11916:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(71204),a=n.n(r),i=n(51235),s=n.n(i);class o{constructor(e,t,n,r,a,i,s){Object.assign(this,{$async:e,$state:t,Authentication:n,CustomTemplateService:r,FormValidator:a,ModalService:i,Notifications:s}),this.state={selectedTemplate:null,formValidationError:"",actionInProgress:!1},this.currentUser={isAdmin:!1,id:null},this.isEditAllowed=this.isEditAllowed.bind(this),this.getTemplates=this.getTemplates.bind(this),this.validateForm=this.validateForm.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.selectTemplate=this.selectTemplate.bind(this)}selectTemplate(e){this.$state.go("kubernetes.deploy",{templateId:e.Id})}isEditAllowed(e){return this.currentUser.isAdmin||this.currentUser.id===e.CreatedByUserId}getTemplates(){return this.$async((async()=>{try{this.templates=await this.CustomTemplateService.customTemplates(3)}catch(e){this.Notifications.error("Failed loading templates",e,"Unable to load custom templates")}}))}validateForm(e,t){this.state.formValidationError="";const n=this.FormValidator.validateAccessControl(e,t);return!n||(this.state.formValidationError=n,!1)}confirmDelete(e){return this.$async((async()=>{if(await this.ModalService.confirmDeletionAsync("Are you sure that you want to delete this template?"))try{var t=s()(this.templates,{Id:e});await this.CustomTemplateService.remove(e),this.Notifications.success("Template successfully deleted",t&&t.Title),a()(this.templates,{Id:e})}catch(e){this.Notifications.error("Failure",e,"Failed to delete template")}}))}$onInit(){this.getTemplates(),this.currentUser.isAdmin=this.Authentication.isAdmin();const e=this.Authentication.getUserDetails();this.currentUser.id=e.ID}}o.$inject=["$async","$state","Authentication","CustomTemplateService","FormValidator","ModalService","Notifications"]},52657:function(e,t,n){"use strict";n.r(t),n.d(t,{kubeEditCustomTemplateView:function(){return a}});var r=n(69199);const a={templateUrl:n(13968),controller:r.default}},69199:function(e,t,n){"use strict";n.r(t);var r=n(80178),a=n(19898),i=n(20037),s=n(26951);class o{constructor(e,t,n,r,a,s,o,l){Object.assign(this,{$async:e,$state:t,ModalService:n,Authentication:r,CustomTemplateService:a,FormValidator:s,Notifications:o,ResourceControlService:l}),this.isTemplateVariablesEnabled=i.aW,this.formValues=null,this.state={formValidationError:"",isEditorDirty:!1,isTemplateValid:!0},this.templates=[],this.getTemplate=this.getTemplate.bind(this),this.submitAction=this.submitAction.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),this.handleChange=this.handleChange.bind(this),this.onVariablesChange=this.onVariablesChange.bind(this)}getTemplate(){return this.$async((async()=>{try{const{id:e}=this.$state.params,[t,n]=await Promise.all([this.CustomTemplateService.customTemplate(e),this.CustomTemplateService.customTemplateFile(e)]);t.FileContent=n,t.Variables=t.Variables||[],this.formValues=t,this.parseTemplate(n),this.oldFileContent=this.formValues.FileContent,this.formValues.ResourceControl=new r.w(t.ResourceControl),this.formValues.AccessControlData=new a.AccessControlFormData}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve custom template data")}}))}onVariablesChange(e){this.handleChange({Variables:e})}handleChange(e){return this.$async((async()=>{this.formValues={...this.formValues,...e}}))}parseTemplate(e){if(!this.isTemplateVariablesEnabled)return;const t=(0,s.NT)(e),n=!!t;this.state.isTemplateValid=n,n&&this.onVariablesChange((0,s.fD)(this.formValues.Variables,t))}validateForm(){if(this.state.formValidationError="",!this.formValues.FileContent)return this.state.formValidationError="Template file content must not be empty",!1;const e=this.formValues.Title,t=this.$state.params.id;if(this.templates.some((n=>n.Title===e&&n.Id!=t)))return this.state.formValidationError=`A template with the name ${e} already exists`,!1;const n=this.Authentication.isAdmin(),r=this.formValues.AccessControlData,a=this.FormValidator.validateAccessControl(r,n);return!a||(this.state.formValidationError=a,!1)}submitAction(){return this.$async((async()=>{if(this.validateForm()){this.actionInProgress=!0;try{await this.CustomTemplateService.updateCustomTemplate(this.formValues.Id,this.formValues);const e=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(e,this.formValues.AccessControlData,this.formValues.ResourceControl),this.Notifications.success("Success","Custom template successfully updated"),this.state.isEditorDirty=!1,this.$state.go("kubernetes.templates.custom")}catch(e){this.Notifications.error("Failure",e,"Unable to update custom template")}finally{this.actionInProgress=!1}}}))}onChangeFileContent(e){l(this.formValues.FileContent)!==l(e)&&(this.formValues.FileContent=e,this.parseTemplate(e),this.state.isEditorDirty=!0)}async $onInit(){this.$async((async()=>{this.getTemplate();try{this.templates=await this.CustomTemplateService.customTemplates()}catch(e){this.Notifications.error("Failure loading",e,"Failed loading custom templates")}window.addEventListener("beforeunload",this.onBeforeUnload)}))}isEditorDirty(){return this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty}uiCanExit(){if(this.isEditorDirty())return this.ModalService.confirmWebEditorDiscard()}onBeforeUnload(e){if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return e.preventDefault(),e.returnValue="",""}$onDestroy(){window.removeEventListener("beforeunload",this.onBeforeUnload)}}function l(e=""){return e.replace(/(\r\n|\n|\r)/gm,"")}o.$inject=["$async","$state","ModalService","Authentication","CustomTemplateService","FormValidator","Notifications","ResourceControlService"],t.default=o},59041:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r),i=n(66539),s=n.n(i),o=n(17465),l=n.n(o),c=n(5264);t.default=class{static apiToEndpoint(e){const t=new c.KubernetesEndpoint;t.Id=e.metadata.uid,t.Name=e.metadata.name,t.Namespace=e.metadata.namespace;const n=e.metadata.annotations?e.metadata.annotations[c.KubernetesEndpointAnnotationLeader]:"";if(n){const e=JSON.parse(n),r=l()(e.holderIdentity,"_");t.HolderIdentity=r[0]}return e.subsets&&(t.Subsets=s()(e.subsets,(e=>{const t=new c.KubernetesEndpointSubset;t.Ips=s()(e.addresses,"ip");const n=a()(e.ports,{name:"https"});return t.Port=n?n.port:void 0,t}))),t}}},5264:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesEndpointAnnotationLeader:function(){return r},KubernetesEndpoint:function(){return i},KubernetesEndpointSubset:function(){return o}});const r="control-plane.alpha.kubernetes.io/leader",a=Object.freeze({Id:"",Name:"",Namespace:"",HolderIdentity:"",Subsets:[]});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const s=Object.freeze({Ips:[],Port:0});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},42964:function(){angular.module("portainer.kubernetes").factory("KubernetesEndpoints",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return function(r){return e(t+"/:endpointId/kubernetes/api/v1"+(r?"/namespaces/:namespace":"")+"/endpoints/:id",{endpointId:n.endpointID,namespace:r},{get:{method:"GET",ignoreLoadingBar:!0}})}}])},5427:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(29274),s=n.n(i),o=n(20023),l=n(59041);class c{constructor(e,t){this.$async=e,this.KubernetesEndpoints=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{const t=await this.KubernetesEndpoints(e).get().$promise;return a()(t.items,(e=>l.default.apiToEndpoint(e)))}catch(e){throw new o.Z("Unable to retrieve environments",e)}}get(e){return this.$async(this.getAllAsync,e)}}c.$inject=["$async","KubernetesEndpoints"],t.default=c,s().module("portainer.kubernetes").service("KubernetesEndpointService",c)},11518:function(e,t,n){"use strict";n.r(t);var r=n(18622),a=n.n(r),i=n(94946),s=n.n(i),o=n(7172),l=n(31275);angular.module("portainer.kubernetes").filter("kubernetesApplicationServiceTypeIcon",(function(){return function(e){switch(s()(e)){case"loadbalancer":return"fa-project-diagram";case"clusterip":return"fa-list-alt";case"nodeport":return"fa-list"}}})).filter("kubernetesApplicationServiceTypeText",(function(){return function(e){switch(s()(e)){case"loadbalancer":return"LoadBalancer";case"clusterip":return"ClusterIP";case"nodeport":return"NodePort"}}})).filter("kubernetesApplicationTypeText",(function(){return function(e){switch(e){case o.KubernetesApplicationTypes.DEPLOYMENT:return o.KubernetesApplicationTypeStrings.DEPLOYMENT;case o.KubernetesApplicationTypes.DAEMONSET:return o.KubernetesApplicationTypeStrings.DAEMONSET;case o.KubernetesApplicationTypes.STATEFULSET:return o.KubernetesApplicationTypeStrings.STATEFULSET;case o.KubernetesApplicationTypes.POD:return o.KubernetesApplicationTypeStrings.POD;case o.KubernetesApplicationTypes.HELM:return o.KubernetesApplicationTypeStrings.HELM;default:return"-"}}})).filter("kubernetesApplicationCPUValue",(function(){return function(e){return a()(e,2)}})).filter("kubernetesApplicationDataAccessPolicyIcon",(function(){return function(e){switch(e){case o.KubernetesApplicationDataAccessPolicies.ISOLATED:return"svg-cubes";case o.KubernetesApplicationDataAccessPolicies.SHARED:return"box"}}})).filter("kubernetesApplicationDataAccessPolicyText",(function(){return function(e){switch(e){case o.KubernetesApplicationDataAccessPolicies.ISOLATED:return"Isolated";case o.KubernetesApplicationDataAccessPolicies.SHARED:return"Shared"}}})).filter("kubernetesApplicationDataAccessPolicyTooltip",(function(){return function(e){switch(e){case o.KubernetesApplicationDataAccessPolicies.ISOLATED:return"All the instances of this application are using their own data.";case o.KubernetesApplicationDataAccessPolicies.SHARED:return"All the instances of this application are sharing the same data."}}})).filter("kubernetesApplicationConstraintNodeAffinityValue",(function(){return function(e,t){return t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN||t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.NOT_IN?e:t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS||t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.DOES_NOT_EXIST?"":t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.GREATER_THAN||t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.LOWER_THAN?e[0]:""}})).filter("kubernetesNodeLabelHumanReadbleText",(function(){return function(e){return{"kubernetes.io/os":"Operating system","kubernetes.io/arch":"Architecture","kubernetes.io/hostname":"Node"}[e]||e}})).filter("kubernetesApplicationIngressEmptyHostname",(function(){return function(e){return""===e?"<use IP>":e}}))},63642:function(e,t,n){"use strict";n.r(t);var r=n(82434);angular.module("portainer.kubernetes").filter("kubernetesConfigurationKindText",(function(){return function(e){switch(e){case r.KubernetesConfigurationKinds.SECRET:return"Secret";case r.KubernetesConfigurationKinds.CONFIGMAP:return"ConfigMap"}}}))},58311:function(e,t,n){"use strict";n.r(t);var r=n(94946),a=n.n(r);angular.module("portainer.kubernetes").filter("kubernetesEventTypeColor",(function(){return function(e){switch(a()(e)){case"normal":return"info";case"warning":return"warning";default:return"danger"}}}))},11634:function(){angular.module("portainer.kubernetes").filter("kubernetesUsageLevelInfo",(function(){return function(e){return e>=80?"danger":e>50&&e<80?"warning":"success"}}))},65744:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t){const n=t+"/:endpointId/kubernetes/helm",r="api/templates/helm";return e(n,{},{templates:{url:r,method:"GET",params:{repo:"@repo"},cache:!0},show:{url:`${r}/:type`,method:"GET",params:{repo:"@repo",chart:"@chart"},transformResponse:function(e){return{values:e}}},getHelmRepositories:{method:"GET",url:`${n}/repositories`},addHelmRepository:{method:"POST",url:`${n}/repositories`},list:{method:"GET",isArray:!0,params:{namespace:"@namespace",selector:"@selector",filter:"@filter",output:"@output"}},install:{method:"POST"},uninstall:{url:`${n}/:release`,method:"DELETE",params:{namespace:"@namespace"}}})}i.$inject=["$resource","API_ENDPOINT_ENDPOINTS"],a().module("portainer.kubernetes").factory("HelmFactory",i)},40846:function(e,t,n){"use strict";n.r(t),n.d(t,{HelmService:function(){return s}});var r=n(29274),a=n.n(r),i=n(20023);function s(e){return{search:async function(t){try{return await e.templates({repo:t}).$promise}catch(e){throw new i.Z("Unable to retrieve helm charts",e)}},values:async function(t,n){try{return await e.show({repo:t,chart:n,type:"values"}).$promise}catch(e){throw new i.Z("Unable to retrieve values from chart",e)}},getHelmRepositories:async function(t){return await e.getHelmRepositories({endpointId:t}).$promise},addHelmRepository:async function(t,n){return await e.addHelmRepository({endpointId:t},n).$promise},install:async function(t,n){return await e.install({endpointId:t},n).$promise},uninstall:async function(t,{Name:n,ResourcePool:r}){try{await e.uninstall({endpointId:t,release:n,namespace:r}).$promise}catch(e){throw new i.Z("Unable to delete release",e)}},listReleases:async function(t,{namespace:n,selector:r,filter:a,output:s}){try{return await e.list({endpointId:t,selector:r,namespace:n,filter:a,output:s}).$promise}catch(e){throw new i.Z("Unable to retrieve release list",e)}}}}s.$inject=["HelmFactory"],a().module("portainer.kubernetes").factory("HelmService",s)},57947:function(e,t,n){"use strict";n.r(t),n.d(t,{PodKubernetesInstanceLabel:function(){return K},PodManagedByLabel:function(){return B}});var r=n(17908),a=n.n(r),i=n(13507),s=n.n(i),o=n(51235),l=n.n(o),c=n(86103),d=n.n(c),u=n(47915),p=n.n(u),m=n(25445),g=n.n(m),h=n(68260),f=n.n(h),v=n(71204),b=n.n(v),y=n(55743),w=n.n(y),x=n(74362),S=n.n(x),C=n(44716),k=n.n(C),A=n(66539),P=n.n(A),I=n(46545),$=n.n(I),N=n(41952),T=n.n(N),E=n(83432),j=n.n(E),D=n(83270),O=n(79990),R=n(82434),M=n(14917),L=n(11505),U=n(11507),V=n(7172),F=n(31275),_=n(78398);const K="app.kubernetes.io/instance",B="app.kubernetes.io/managed-by";class z{static isExternalApplication(e){return!e.ApplicationOwner}static associatePodsAndApplication(e,t){return j()(e,["metadata.labels",t.matchLabels])}static associateContainerPersistedFoldersAndConfigurations(e,t){T()(t,(t=>{t.PersistedFolders=$()(P()(e.PersistedFolders,(e=>{if(e.MountPath&&k()(P()(t.VolumeMounts,"mountPath"),e.MountPath))return e})),void 0),t.ConfigurationVolumes=$()(P()(e.ConfigurationVolumes,(e=>{if(e.rootMountPath&&k()(P()(t.VolumeMounts,"mountPath"),e.rootMountPath))return e})),void 0)}))}static associateContainersAndApplication(e){if(!e.Pods||0===e.Pods.length)return[];const t=e.Pods[0].Containers;return z.associateContainerPersistedFoldersAndConfigurations(e,t),t}static associateAllContainersAndApplication(e){const t=S()(P()(e.Pods,"Containers"));return z.associateContainerPersistedFoldersAndConfigurations(e,t),t}static portMappingsFromApplications(e){return w()(e,((e,t)=>{if(t.PublishedPorts.length>0){const n=new D.KubernetesPortMapping;n.Name=t.Name,n.ResourcePool=t.ResourcePool,n.ServiceType=t.ServiceType,n.LoadBalancerIPAddress=t.LoadBalancerIPAddress,n.ApplicationOwner=t.ApplicationOwner,n.Ports=P()(t.PublishedPorts,(e=>{const t=new D.KubernetesPortMappingPort;return t.Port=n.ServiceType===O.KubernetesServiceTypes.NODE_PORT?e.NodePort:e.Port,t.TargetPort=e.TargetPort,t.Protocol=e.Protocol,t.IngressRules=e.IngressRules,t})),e.push(n)}return e}),[])}static generateEnvFromEnvVariables(e){return b()(e,(e=>e.NeedsDeletion)),P()(e,(e=>{const t=new L.KubernetesApplicationEnvPayload;return t.name=e.Name,void 0===e.Value?delete t.value:t.value=e.Value,t}))}static generateEnvVariablesFromEnv(e){const t=P()(e,(e=>{if(e.valueFrom)return;const t=new M.KubernetesApplicationEnvironmentVariableFormValue;return t.Name=e.name,t.Value=e.value,t.IsNew=!1,t.NameIndex=e.name,t}));return $()(t,void 0)}static generateConfigurationFormValuesFromEnvAndVolumes(e,t,n){const r=S()(n,(n=>{const r=n.Type===R.KubernetesConfigurationKinds.CONFIGMAP?"valueFrom.configMapKeyRef.name":"valueFrom.secretKeyRef.name",a=j()(e,[r,n.Name]),i=j()(t,{configurationName:n.Name});if(!a.length&&!i.length)return;const s=w()(f()(n.Data),((e,t)=>{const n=j()(a,{name:t}),r=j()(i,{configurationKey:t}),s={Key:t,Count:n.length+r.length,Sum:g()(n,r),EnvCount:n.length,VolCount:r.length};return e.push(s),e}),[]),o=p()(P()(s,"Count")),l=o-p()(P()(s,"VolCount")),c=P()(new Array(o),(()=>new M.KubernetesApplicationConfigurationFormValue));return T()(c,((e,t)=>{e.SelectedConfiguration=n,t>=l&&(e.Overriden=!0,e.OverridenKeys=P()(s,(e=>{const n=new M.KubernetesApplicationConfigurationFormValueOverridenKey;return n.Key=e.Key,e.Count?t<e.EnvCount?n.Type=M.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT:(n.Type=M.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM,n.Path=e.Sum[t].rootMountPath):n.Type=M.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.NONE,n})))})),c}));return $()(r,void 0)}static generateEnvOrVolumesFromConfigurations(e,t){let n=[],r=[],a=[];return T()(t,(t=>{const i=t.SelectedConfiguration.Type===R.KubernetesConfigurationKinds.CONFIGMAP;if(t.Overriden){const s=j()(t.OverridenKeys,(e=>e.Type===M.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT));T()(s,(e=>{const r=i?new L.KubernetesApplicationEnvConfigMapPayload:new L.KubernetesApplicationEnvSecretPayload;r.name=e.Key,i?(r.valueFrom.configMapKeyRef.name=t.SelectedConfiguration.Name,r.valueFrom.configMapKeyRef.key=e.Key):(r.valueFrom.secretKeyRef.name=t.SelectedConfiguration.Name,r.valueFrom.secretKeyRef.key=e.Key),n.push(r)}));const o=j()(t.OverridenKeys,(e=>e.Type===M.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM)),l=d()(o,"Path");T()(l,((n,s)=>{const o=U.default.generatedApplicationConfigVolumeName(e.Name),l=t.SelectedConfiguration.Name,c=P()(n,(e=>{const t=new L.KubernetesApplicationVolumeEntryPayload;return t.key=e.Key,t.path=e.Key,t})),d=i?new L.KubernetesApplicationVolumeMountPayload:new L.KubernetesApplicationVolumeMountPayload(!0),u=i?new L.KubernetesApplicationVolumeConfigMapPayload:new L.KubernetesApplicationVolumeSecretPayload;d.name=o,d.mountPath=s,u.name=o,i?(u.configMap.name=l,u.configMap.items=c):(u.secret.secretName=l,u.secret.items=c),a.push(d),r.push(u)}))}else{const e=f()(t.SelectedConfiguration.Data);T()(e,(e=>{const r=i?new L.KubernetesApplicationEnvConfigMapPayload:new L.KubernetesApplicationEnvSecretPayload;r.name=e,i?(r.valueFrom.configMapKeyRef.name=t.SelectedConfiguration.Name,r.valueFrom.configMapKeyRef.key=e):(r.valueFrom.secretKeyRef.name=t.SelectedConfiguration.Name,r.valueFrom.secretKeyRef.key=e),n.push(r)}))}})),e.Env=g()(e.Env,n),e.Volumes=g()(e.Volumes,r),e.VolumeMounts=g()(e.VolumeMounts,a),e}static generateServicesFormValuesFromServices(e){let t=[];if(e.Services)return e.Services.forEach((function(n){if("None"!==n.spec.clusterIP){const r=new O.KubernetesService;r.Namespace=n.metadata.namespace,r.Name=n.metadata.name,r.StackName=n.StackName,r.ApplicationOwner=e.ApplicationOwner,r.ApplicationName=e.ApplicationName,r.Type=n.spec.type,n.spec.type===O.KubernetesServiceTypes.CLUSTER_IP?r.Type=1:n.spec.type===O.KubernetesServiceTypes.NODE_PORT?r.Type=2:n.spec.type===O.KubernetesServiceTypes.LOAD_BALANCER&&(r.Type=3);let a=[];n.spec.ports.forEach((function(t){const i=new O.KubernetesServicePort;i.name=t.name,i.port=t.port,i.nodePort=t.nodePort,i.protocol=t.protocol,i.targetPort=t.targetPort,e.Ingresses.value.forEach((e=>{const a=e.Paths.find((e=>e.ServiceName===n.metadata.name)),s=e.Paths.find((e=>e.Port===t.port));s&&(i.ingress={IngressName:s.IngressName,Host:s.Host,Path:s.Path}),a&&(r.Ingress=!0)})),a.push(i)})),r.Ports=a,r.Selector=e.Raw.spec.selector.matchLabels,t.push(r)}})),t}static generateSelectorFromService(e){if("Pod"!==e.Raw.kind)return e.Raw.spec.selector.matchLabels}static generatePublishedPortsFormValuesFromPublishedPorts(e,t,n){const r=(t,r)=>{const a=new M.KubernetesApplicationPublishedPortFormValue;return a.IsNew=!1,r&&(a.IngressName=r.IngressName,a.IngressRoute=r.Path,a.IngressHost=r.Host,a.IngressHosts=n&&n.find((e=>e.Name===r.IngressName)).Hosts),a.Protocol=t.Protocol,a.ContainerPort=t.TargetPort,e===O.KubernetesServiceTypes.LOAD_BALANCER?(a.LoadBalancerPort=t.Port,a.LoadBalancerNodePort=t.NodePort):e===O.KubernetesServiceTypes.NODE_PORT&&(a.NodePort=t.NodePort),a};return S()(t,(e=>e.IngressRules.length?P()(e.IngressRules,(t=>r(e,t))):r(e)))}static generateAutoScalerFormValueFromHorizontalPodAutoScaler(e,t){const n=new M.KubernetesApplicationAutoScalerFormValue;return e?(n.IsUsed=!0,n.MinReplicas=e.MinReplicas,n.MaxReplicas=e.MaxReplicas,n.TargetCPUUtilization=e.TargetCPUUtilization,n.ApiVersion=e.ApiVersion):(n.ApiVersion="apps/v1",n.MinReplicas=t,n.MaxReplicas=t),n}static generatePersistedFoldersFormValuesFromPersistedFolders(e,t){return P()(e,(e=>{const n=l()(t,(t=>s()(t.Name,e.PersistentVolumeClaimName))),r=new M.KubernetesApplicationPersistedFolderFormValue(n.StorageClass);return r.PersistentVolumeClaimName=e.PersistentVolumeClaimName,r.Size=parseInt(n.Storage,10),r.SizeUnit=n.Storage.slice(-2),r.ContainerPath=e.MountPath,r}))}static generateVolumesFromPersistentVolumClaims(e,t){e.VolumeMounts=[],e.Volumes=[],T()(t,(t=>{const n=new L.KubernetesApplicationVolumeMountPayload,r=t.Name;n.name=r,n.mountPath=t.MountPath,e.VolumeMounts.push(n);const a=new L.KubernetesApplicationVolumePersistentPayload;a.name=r,a.persistentVolumeClaim.claimName=r,e.Volumes.push(a)}))}static hasRWOOnly(e){return l()(e.PersistedFolders,(e=>e.StorageClass&&a()(e.StorageClass.AccessModes,["RWO"])))}static hasRWX(e){return void 0!==l()(e,(e=>e.StorageClass&&k()(e.StorageClass.AccessModes,"RWX")))}static generatePlacementsFormValuesFromAffinity(e,t,n){let r=e.Placements,a=e.PlacementType;const i=t.nodeAffinity;i&&i.requiredDuringSchedulingIgnoredDuringExecution?(a=V.KubernetesApplicationPlacementTypes.MANDATORY,T()(i.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms,(e=>{T()(e.matchExpressions,(e=>{const t=new M.KubernetesApplicationPlacementFormValue,a=l()(n,{Key:e.key});t.Label=a,t.Value=e.values[0],t.IsNew=!1,r.push(t)}))}))):i&&i.preferredDuringSchedulingIgnoredDuringExecution&&(a=V.KubernetesApplicationPlacementTypes.PREFERRED,T()(i.preferredDuringSchedulingIgnoredDuringExecution,(e=>{T()(e.preference.matchExpressions,(e=>{const t=new M.KubernetesApplicationPlacementFormValue,a=l()(n,{Key:e.key});t.Label=a,t.Value=e.values[0],t.IsNew=!1,r.push(t)}))}))),e.Placements=r,e.PlacementType=a}static generateAffinityFromPlacements(e,t){if(t.DeploymentType===V.KubernetesApplicationDeploymentTypes.REPLICATED){const n=t.Placements,r=new _.KubernetesPodNodeAffinityPayload;let a=P()(n,(e=>{if(!e.NeedsDeletion){const t=new _.KubernetesNodeSelectorRequirementPayload;return t.key=e.Label.Key,e.Value?(t.operator=F.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN,t.values=[e.Value]):(t.operator=F.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS,delete t.values),t}}));if(a=$()(a,void 0),a.length){if(t.PlacementType===V.KubernetesApplicationPlacementTypes.MANDATORY){const e=new _.KubernetesNodeSelectorTermPayload;e.matchExpressions=a,r.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.push(e),delete r.preferredDuringSchedulingIgnoredDuringExecution}else if(t.PlacementType===V.KubernetesApplicationPlacementTypes.PREFERRED){const e=new _.KubernetesPreferredSchedulingTermPayload;e.preference=new _.KubernetesNodeSelectorTermPayload,e.preference.matchExpressions=a,r.preferredDuringSchedulingIgnoredDuringExecution.push(e),delete r.requiredDuringSchedulingIgnoredDuringExecution}e.Affinity=new F.KubernetesPodAffinity,e.Affinity.nodeAffinity=r}}}static getHelmApplications(e){const t=e.filter((e=>e.Metadata.labels&&e.Metadata.labels[K]&&"Helm"===e.Metadata.labels[B])),n={};t.forEach((e=>{const t=e.ResourcePool,r=e.Metadata.labels[K];n[t]?n[t][r]=[...n[t][r]||[],e]:n[t]={[r]:[e]}}));const r=Object.values(n).flatMap((e=>Object.entries(e))).map((([e,t])=>{const n=new V.HelmApplication;n.Name=e,n.ApplicationType=V.KubernetesApplicationTypes.HELM,n.ApplicationOwner=t[0].ApplicationOwner,n.KubernetesApplications=t;const r=t.some((e=>e.RunningPodsCount<e.TotalPodsCount));return n.Status=r?"Not ready":"Ready",n.CreationDate=t.map((e=>e.CreationDate)).sort(((e,t)=>new Date(e)-new Date(t)))[0],n.ResourcePool=t[0].ResourcePool,n.Id=n.ResourcePool+"-"+n.Name.toLowerCase().replaceAll(" ","-"),n}));return r}static getNestedApplications(e){const t=z.getHelmApplications(e),n=[...new Set(t.map((e=>e.Name)))];return{helmApplications:t,nonHelmApplications:e.filter((e=>!e.Metadata.labels||!n.includes(e.Metadata.labels[K])))}}}t.default=z},65011:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(29274),s=n.n(i),o=n(20023),l=n(7172),c=n(24601);class d{static getPatchPayload(e,t){let n;switch(e.ApplicationType){case l.KubernetesApplicationTypes.DEPLOYMENT:n=d._getDeploymentPayload(e,t);break;case l.KubernetesApplicationTypes.DAEMONSET:n=d._getDaemonSetPayload(e,t);break;case l.KubernetesApplicationTypes.STATEFULSET:n=d._getStatefulSetPayload(e,t);break;default:throw new o.Z("Unable to determine which association to use to convert patch")}return n}static _getDeploymentPayload(e,t){const n=s().copy(t),r=e.Raw;delete n.spec.template.metadata.labels[c.KubernetesSystem_DefaultDeploymentUniqueLabelKey];const i={};return a()(c.KubernetesSystem_AnnotationsToSkip,((e,t)=>{const n=r.metadata.annotations[t];n&&(i[t]=n)})),a()(n.metadata.annotations,((e,t)=>{c.KubernetesSystem_AnnotationsToSkip[t]||(i[t]=e)})),[{op:"replace",path:"/spec/template",value:n.spec.template},{op:"replace",path:"/metadata/annotations",value:i}]}static _getDaemonSetPayload(e,t){return t.data}static _getStatefulSetPayload(e,t){return t.data}}t.default=d},61515:function(e,t,n){"use strict";n.r(t);var r=n(80738),a=n.n(r),i=n(30465),s=n.n(i),o=n(5354),l=n.n(o),c=n(59712),d=n.n(c);t.default=class{static assignOrDeleteIfEmpty(e,t,n){!n||n instanceof Array&&!n.length?d()(e,t):l()(e,t,n)}static ownerToLabel(e){let t=s()(e,/[^-A-Za-z0-9_.]/g,".");return t=a()(t,{length:63,omission:""}),t=s()(t,/^[-_.]*/g,""),t=s()(t,/[-_.]*$/g,""),t}static assignOrDeleteIfEmptyOrZero(e,t,n){!n||0===n||n instanceof Array&&!n.length?d()(e,t):l()(e,t,n)}}},58007:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(5777),s=n.n(i),o=n(13978),l=n(93133);t.default=class{static parseJSONData(e){return s()(e.Data,((t,n)=>{try{e.Data[n]=JSON.parse(t)}catch(r){e.Data[n]=t}})),e}static modifiyNamespaceAccesses(e,t,n){return e.Data[o.KubernetesPortainerConfigMapAccessKey][t]={UserAccessPolicies:{},TeamAccessPolicies:{}},a()(n,(n=>{n instanceof l.UserAccessViewModel?e.Data[o.KubernetesPortainerConfigMapAccessKey][t].UserAccessPolicies[n.Id]={RoleId:0}:n instanceof l.TeamAccessViewModel&&(e.Data[o.KubernetesPortainerConfigMapAccessKey][t].TeamAccessPolicies[n.Id]={RoleId:0})})),s()(e.Data,((t,n)=>{e.Data[n]=JSON.stringify(t)})),e}}},51780:function(e,t,n){"use strict";n.r(t);var r=n(55743),a=n.n(r),i=n(66539),s=n.n(i),o=n(41952),l=n.n(o),c=n(44716),d=n.n(c),u=n(13507),p=n.n(u),m=n(51235),g=n.n(m),h=n(83432),f=n.n(h),v=n(78879),b=n.n(v),y=n(82434),w=n(30578);class x{static getUsingApplications(e,t){return f()(t,(t=>{let n,r;return e.Type===y.KubernetesConfigurationKinds.CONFIGMAP?(n=g()(t.Env,{valueFrom:{configMapKeyRef:{name:e.Name}}}),r=g()(t.Volumes,{configMap:{name:e.Name}})):(n=g()(t.Env,{valueFrom:{secretKeyRef:{name:e.Name}}}),r=g()(t.Volumes,{secret:{secretName:e.Name}})),n||r}))}static isSystemToken(e){return p()(e.Name,"default-token-")}static isBinary(e){return""!==e&&!d()(e,"ISO")&&!d()(e,"UTF")}static setConfigurationUsed(e){e.Used=e.Applications&&0!==e.Applications.length}static setConfigurationsUsed(e,t){l()(e,(e=>{e.Applications=x.getUsingApplications(e,t),x.setConfigurationUsed(e)}))}static getApplicationConfigurations(e,t){const n=t.filter((t=>0!==x.getUsingApplications(t,e).length));return e.map((e=>{const t=n.filter((t=>e.ApplicationName===t.Name&&e.ResourcePool===t.Namespace)),r=n.filter((t=>e.ConfigurationVolumes.some((e=>e.configurationName===t.Name)))).filter((e=>!t.some((t=>t.Name===e.Name))));return e.Configurations=[...t,...r],e}))}static parseYaml(e){return b().defaultOptions.customTags=["binary"],s()(b().parse(e.DataYaml),((t,n)=>{const r=new w.KubernetesConfigurationFormValuesEntry;r.Key=n,r.Value=t;const a=g()(e.Data,{Key:r.Key});return r.IsBinary=!!a&&a.IsBinary,r}))}static parseData(e){if(!e.Data.length)return"";const t=a()(e.Data,((e,t)=>(e[t.Key]=t.Value,e)),{});return b().stringify(t)}static isExternalConfiguration(e){return!e.ConfigurationOwner}}t.default=x},52929:function(e,t,n){"use strict";n.r(t);var r=n(83432),a=n.n(r);t.default=class{static warningCount(e){return a()(e,(e=>"Warning"===e.Type)).length}}},54241:function(e,t,n){"use strict";n.r(t);var r=n(86103),a=n.n(r),i=n(41952),s=n.n(i);t.default=class{static getInvalidKeys(e){const t={};return s()(e,((e,n)=>{/^[-._a-zA-Z0-9]+$/.test(e)||(t[n]=!0)})),t}static getDuplicates(e){const t=a()(e),n={};return s()(e,((e,r)=>{e&&t[e].length>1&&(n[r]=e)})),n}static getDuplicateNodePorts(e,t){const n={};return e.forEach(((r,a)=>{(t.includes(r)||e.filter((e=>e===r)).length>1)&&(n[a]=r)})),n}}},48367:function(e,t,n){"use strict";n.r(t);var r=n(11600),a=n.n(r),i=n(40714),s=n.n(i),o=n(83432),l=n.n(o),c=n(51235),d=n.n(c);class u{static _isControlledBy(e){return t=>void 0!==d()(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=l()(e,["metadata.labels",t.spec.selector.matchLabels]),r=l()(n,u._isControlledBy(t));return s()(r,["revision","metadata.creationTimestamp"])}static getCurrentRevision(e){return a()(e)}}t.default=u},38215:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(17908),s=n.n(i),o=n(40714),l=n.n(o),c=n(83432),d=n.n(c),u=n(51235),p=n.n(u),m=n(29274),g=n.n(m),h=n(24601);class f{static _isControlledBy(e){return t=>void 0!==p()(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=d()(e,["spec.selector",t.spec.selector]),r=d()(n,f._isControlledBy(t));return l()(r,["metadata.creationTimestamp","metadata.name"])}static getCurrentRevision(e,t){const n=g().copy(e),r=p()(n,(e=>(delete e.spec.template.metadata.labels[h.KubernetesSystem_DefaultDeploymentUniqueLabelKey],s()(t.spec.template,e.spec.template))));return r.revision=r.metadata.annotations[h.KubernetesSystem_RevisionAnnotation],r}static filterVersionedRevisions(e){const t=d()(e,(e=>void 0!==e.metadata.annotations[h.KubernetesSystem_RevisionAnnotation]));return a()(t,(e=>(e.revision=e.metadata.annotations[h.KubernetesSystem_RevisionAnnotation],e)))}}t.default=f},70224:function(e,t,n){"use strict";n.r(t);var r=n(40714),a=n.n(r),i=n(20023),s=n(38215),o=n(48367),l=n(47220),c=n(7172);class d{static getRevisions(e,t){let n,r;switch(t.ApplicationType){case c.KubernetesApplicationTypes.DEPLOYMENT:[n,r]=d._getDeploymentRevisions(e,t.Raw);break;case c.KubernetesApplicationTypes.DAEMONSET:[n,r]=d._getDaemonSetRevisions(e,t.Raw);break;case c.KubernetesApplicationTypes.STATEFULSET:[n,r]=d._getStatefulSetRevisions(e,t.Raw);break;default:throw new i.Z("Unable to determine which association to use to get revisions")}return r=a()(r,"revision"),[n,r]}static _getDeploymentRevisions(e,t){const n=s.default.filterOwnedRevisions(e,t);return[s.default.getCurrentRevision(n,t),s.default.filterVersionedRevisions(n)]}static _getDaemonSetRevisions(e,t){const n=o.default.filterOwnedRevisions(e,t);return[o.default.getCurrentRevision(n,t),n]}static _getStatefulSetRevisions(e,t){const n=l.default.filterOwnedRevisions(e,t);return[l.default.getCurrentRevision(n,t),n]}}t.default=d},47220:function(e,t,n){"use strict";n.r(t);var r=n(11600),a=n.n(r),i=n(40714),s=n.n(i),o=n(83432),l=n.n(o),c=n(51235),d=n.n(c);class u{static _isControlledBy(e){return t=>void 0!==d()(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=l()(e,["metadata.labels",t.spec.selector.matchLabels]),r=l()(n,u._isControlledBy(t));return s()(r,["revision","metadata.creationTimestamp"])}static getCurrentRevision(e){return a()(e)}}t.default=u},7506:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(44716),a=n.n(r),i=n(35076),s=n(22823);class o{static isSystemNamespace(e){return(0,s.isSystem)(e)}static isDefaultNamespace(e){return e===i.KUBERNETES_DEFAULT_NAMESPACE}static isDefaultSystemNamespace(e){return a()(i.KUBERNETES_DEFAULT_SYSTEM_NAMESPACES,e)}}},21458:function(e,t,n){"use strict";n.r(t);var r=n(47685);t.default=class{static generateResourceQuotaName(e){return r.KubernetesPortainerResourceQuotaPrefix+e}static formatBytes(e,t=0,n=!0){if(0===e)return{Size:0,SizeUnit:"B"};const r=n?1e3:1024,a=t<0?0:t,i=Math.floor(Math.log(e)/Math.log(r));return{Size:parseFloat((e/Math.pow(r,i)).toFixed(a)),SizeUnit:["B","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}}}},22229:function(e,t,n){"use strict";n.r(t);var r=n(94467),a=n.n(r),i=n(25445),s=n.n(i),o=n(55743),l=n.n(o),c=n(29500),d=n.n(c),u=n(46685);class p{static computeResourceReservation(e){const t=l()(e,((e,t)=>s()(e,t.Containers)),[]);return l()(t,((e,t)=>(t.Requests&&(t.Requests.memory&&(e.Memory+=d()(t.Requests.memory,{base:10})),t.Requests.cpu&&(e.CPU+=p.parseCPU(t.Requests.cpu))),e)),new u.KubernetesResourceReservation)}static parseCPU(e){let t=parseInt(e,10);return a()(e,"m")?t/=1e3:a()(e,"n")&&(t/=1e9),t}static megaBytesValue(e){return Math.floor(d()(e)/1e3/1e3)}static bytesValue(e){return 1e3*d()(e)*1e3}}t.default=p},57637:function(e,t,n){"use strict";n.r(t);var r=n(83432),a=n.n(r),i=n(55828),s=n.n(i),o=n(51235),l=n.n(o),c=n(79990);t.default=class{static generateHeadlessServiceName(e){return c.KubernetesServiceHeadlessPrefix+e}static findApplicationBoundService(e,t){if(t.spec.template)return l()(e,(e=>e.spec.selector&&s()(t.spec.template.metadata.labels,e.spec.selector)))}static findApplicationBoundServices(e,t){if(t.spec.template)return a()(e,(e=>e.spec.selector&&s()(t.spec.template.metadata.labels,e.spec.selector)))}}},41208:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r),i=n(55743),s=n.n(i),o=n(31084);t.default=class{static stacksFromApplications(e){return s()(e,((e,t)=>{if(t.StackName){let n=a()(e,{Name:t.StackName,ResourcePool:t.ResourcePool});n||(n=new o.KubernetesStack,n.Name=t.StackName,n.ResourcePool=t.ResourcePool,e.push(n)),n.Applications.push(t)}return e}),[])}}},69461:function(e,t,n){"use strict";n.r(t);var r=n(41208);describe("stacksFromApplications",(()=>{const{stacksFromApplications:e}=r.default;test("should return an empty array when passed an empty array",(()=>{expect(e([])).toHaveLength(0)})),test("should return an empty array when passed a list of applications without stacks",(()=>{expect(e([{StackName:""},{StackName:""},{StackName:""},{StackName:""}])).toHaveLength(0)}))}))},11507:function(e,t,n){"use strict";n.r(t);var r=n(44716),a=n.n(r),i=n(13507),s=n.n(i),o=n(66539),l=n.n(o),c=n(46545),d=n.n(c),u=n(83432),p=n.n(u),m=n(15964),g=n.n(m),h=n(7172);t.default=class{static getUsingApplications(e,t){return p()(t,(t=>{const n=d()(l()(t.Volumes,"persistentVolumeClaim.claimName"),void 0),r=p()(n,(t=>s()(e.PersistentVolumeClaim.Name,t)));return e.ResourcePool.Namespace.Name===t.ResourcePool&&r.length&&(t.ApplicationType!==h.KubernetesApplicationTypes.STATEFULSET||a()(e.PersistentVolumeClaim.Name,t.Name))}))}static isUsed(e){return 0!==e.Applications.length}static generatedApplicationConfigVolumeName(e){return"config-"+e+"-"+g()()}static isExternalVolume(e){return!e.PersistentVolumeClaim.ApplicationOwner}}},41247:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScalerConverter:function(){return s}});var r=n(34901),a=n(90914),i=n(85597);class s{static apiToModel(e,t){const n=new a.KubernetesHorizontalPodAutoScaler;return n.Id=e.metadata.uid,n.Namespace=e.metadata.namespace,n.Name=e.metadata.name,n.MinReplicas=e.spec.minReplicas,n.MaxReplicas=e.spec.maxReplicas,n.TargetCPUUtilization=e.spec.targetCPUUtilizationPercentage,e.spec.scaleTargetRef&&(n.TargetEntity.ApiVersion=e.spec.scaleTargetRef.apiVersion,n.TargetEntity.Kind=e.spec.scaleTargetRef.kind,n.TargetEntity.Name=e.spec.scaleTargetRef.name),n.Yaml=t?t.data:"",n}static createPayload(e){const t=new i.KubernetesHorizontalPodAutoScalerCreatePayload;return t.metadata.namespace=e.Namespace,t.metadata.name=e.TargetEntity.Name,t.spec.minReplicas=e.MinReplicas,t.spec.maxReplicas=e.MaxReplicas,t.spec.targetCPUUtilizationPercentage=e.TargetCPUUtilization,t.spec.scaleTargetRef.apiVersion=e.TargetEntity.ApiVersion,t.spec.scaleTargetRef.kind=e.TargetEntity.Kind,t.spec.scaleTargetRef.name=e.TargetEntity.Name,t}static patchPayload(e,t){const n=s.createPayload(e),a=s.createPayload(t);return r.qu(n,a)}static applicationFormValuesToModel(e,t){const n=new a.KubernetesHorizontalPodAutoScaler;return n.Name=e.Name,n.Namespace=e.ResourcePool.Namespace.Name,n.MinReplicas=e.AutoScaler.MinReplicas,n.MaxReplicas=e.AutoScaler.MaxReplicas,n.TargetCPUUtilization=e.AutoScaler.TargetCPUUtilization,n.TargetEntity.Name=e.Name,n.TargetEntity.Kind=t,n.TargetEntity.ApiVersion=e.AutoScaler.ApiVersion,n}}},1239:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScalerHelper:function(){return d}});var r=n(51235),a=n.n(r),i=n(20023),s=n(7172),o=n(59238),l=n(91920),c=n(12745);class d{static findApplicationBoundScaler(e,t){const n=d.getApplicationTypeString(t);return a()(e,(e=>e.TargetEntity.Kind===n&&e.TargetEntity.Name===t.Name))}static getApplicationTypeString(e){if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.DEPLOYMENT||e instanceof o.KubernetesDeployment)return s.KubernetesApplicationTypeStrings.DEPLOYMENT;if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.DAEMONSET||e instanceof c.KubernetesDaemonSet)return s.KubernetesApplicationTypeStrings.DAEMONSET;if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.STATEFULSET||e instanceof l.KubernetesStatefulSet)return s.KubernetesApplicationTypeStrings.STATEFULSET;if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.POD)return s.KubernetesApplicationTypeStrings.POD;throw new i.Z("Unable to determine application type")}}},90914:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScaler:function(){return a}});const r=Object.freeze({Id:"",Namespace:"",Name:"",MinReplicas:1,MaxReplicas:1,TargetCPUUtilization:0,TargetEntity:{ApiVersion:"",Kind:"",Name:""},Yaml:""});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},85597:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScalerCreatePayload:function(){return a}});const r=Object.freeze({metadata:{namespace:"",name:""},spec:{maxReplicas:0,minReplicas:0,targetCPUUtilizationPercentage:0,scaleTargetRef:{kind:"",name:""}}});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},61160:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesHorizontalPodAutoScalers",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/apis/autoscaling/v1"+(a?"/namespaces/:namespace":"")+"/horizontalpodautoscalers/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},rollback:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},51866:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(29274),s=n.n(i),o=n(20023),l=n(82469),c=n(41247);class d{constructor(e,t){this.$async=e,this.KubernetesHorizontalPodAutoScalers=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new l.KubernetesCommonParams;n.id=t;const[r,a]=await Promise.all([this.KubernetesHorizontalPodAutoScalers(e).get(n).$promise,this.KubernetesHorizontalPodAutoScalers(e).getYaml(n).$promise]);return c.KubernetesHorizontalPodAutoScalerConverter.apiToModel(r,a)}catch(e){throw new o.Z("Unable to retrieve HorizontalPodAutoScaler",e)}}async getAllAsync(e){try{const t=await this.KubernetesHorizontalPodAutoScalers(e).get().$promise;return a()(t.items,(e=>c.KubernetesHorizontalPodAutoScalerConverter.apiToModel(e)))}catch(e){throw new o.Z("Unable to retrieve HorizontalPodAutoScalers",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=c.KubernetesHorizontalPodAutoScalerConverter.createPayload(e),r=n.metadata.namespace;return await this.KubernetesHorizontalPodAutoScalers(r).create(t,n).$promise}catch(e){throw new o.Z("Unable to create horizontalPodAutoScaler",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new l.KubernetesCommonParams;n.id=t.Name;const r=t.Namespace,a=c.KubernetesHorizontalPodAutoScalerConverter.patchPayload(e,t);if(!a.length)return;return await this.KubernetesHorizontalPodAutoScalers(r).patch(n,a).$promise}catch(e){throw new o.Z("Unable to patch horizontalPodAutoScaler",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new l.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesHorizontalPodAutoScalers(n).delete(t).$promise}catch(e){throw new o.Z("Unable to remove horizontalPodAutoScaler",e)}}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=["$async","KubernetesHorizontalPodAutoScalers"],t.default=d,s().module("portainer.kubernetes").service("KubernetesHorizontalPodAutoScalerService",d)},62072:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesIngressClassAnnotation:function(){return r},KubernetesNginxRewriteTargetAnnotations:function(){return a},KubernetesTraefikRewriteTargetAnnotations:function(){return i},KubernetesNginxUseregexAnnotations:function(){return s},KubernetesIngressClassTypes:function(){return o},PortainerIngressClassTypes:function(){return l}});const r="kubernetes.io/ingress.class",a={Key:"nginx.ingress.kubernetes.io/rewrite-target",Value:"/$1"},i={Key:"traefik.ingress.kubernetes.io/rewrite-target",Value:"/$1"},s={Key:"nginx.ingress.kubernetes.io/use-regex",Value:"true"},o=Object.freeze({NGINX:"nginx",TRAEFIK:"traefik"}),l="ingress.portainer.io/ingress-type"},47086:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesIngressConverter:function(){return M}});var r=n(25445),a=n.n(r),i=n(86103),s=n.n(i),o=n(46545),l=n.n(o),c=n(4160),d=n.n(c),u=n(36947),p=n.n(u),m=n(13507),g=n.n(m),h=n(71204),f=n.n(h),v=n(51235),b=n.n(v),y=n(41952),w=n.n(y),x=n(45849),S=n.n(x),C=n(46006),k=n.n(C),A=n(66539),P=n.n(A),I=n(74362),$=n.n(I),N=n(34901),T=n(61515),E=n(16496),j=n(7172),D=n(27155),O=n(17362),R=n(62072);class M{static apiToModel(e){const t=$()(e.spec.rules,(t=>t.http?P()(t.http.paths,(n=>{const r=new D.KubernetesIngressRule;return r.IngressName=e.metadata.name,r.ServiceName=n.backend.service.name,r.Host=t.host||"",r.IP=e.status.loadBalancer.ingress?e.status.loadBalancer.ingress[0].ip:void 0,r.Port=n.backend.service.port.number,r.Path=n.path,r.TLS=e.spec.tls,r})):[])),n=new D.KubernetesIngress;n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.Annotations=e.metadata.annotations||{},n.IngressClassName=e.metadata.annotations&&e.metadata.annotations[R.KubernetesIngressClassAnnotation]?e.metadata.annotations[R.KubernetesIngressClassAnnotation]:e.spec.ingressClassName,n.Paths=t,n.Hosts=k()(P()(e.spec.rules,"host"));const r=S()(n.Hosts,(e=>void 0===e));return r>=0&&n.Hosts.splice(r,1,""),n.TLS=e.spec.tls,n}static applicationFormValuesToIngresses(e,t){const n=e.PublishingType===j.KubernetesApplicationPublishingTypes.INGRESS,r=angular.copy(e.OriginalIngresses);return w()(e.PublishedPorts,(e=>{const a=b()(r,{Name:e.IngressName});if(a)if(e.NeedsDeletion)f()(a.Paths,(n=>n.Port===e.ContainerPort&&n.ServiceName===t&&n.Path===e.IngressRoute));else if(n&&e.IsNew){const n=new D.KubernetesIngressRule;n.IngressName=a.Name,n.ServiceName=t,n.Port=e.ContainerPort,e.IngressRoute&&(n.Path=g()(e.IngressRoute,"/")?e.IngressRoute:"/"+e.IngressRoute),n.Host=e.IngressHost,a.Paths.push(n)}})),r}static applicationFormValuesToDeleteIngresses(e,t){const n=angular.copy(e.OriginalIngresses);return t.Services.forEach((e=>{n.forEach((t=>{const n=b()(t.Paths,{ServiceName:e.metadata.name});n&&f()(t.Paths,n)}))})),n}static removeIngressesPaths(e,t){const n=angular.copy(e);return n.forEach((e=>{t.forEach((t=>{f()(e.Paths,{ServiceName:t.Name})}))})),n}static generateNewIngresses(e,t){const n=angular.copy(e);return t.filter((e=>e.Ingress)).forEach((e=>{if(0!==e.Ports.length){const t=b()(n,{Name:e.Ports[0].ingress.IngressName});if(t){const n=new D.KubernetesIngressRule;n.ServiceName=e.Name,n.IngressName=e.Ports[0].ingress.IngressName,n.Host=e.Ports[0].ingress.Host,n.Path=g()(e.Ports[0].ingress.Path,"/")?e.Ports[0].ingress.Path:"/"+e.Ports[0].ingress.Path,n.Port=e.Ports[0].port,t.Paths.push(n)}}})),n}static newApplicationFormValuesToIngresses(e,t,n){const r=angular.copy(e.OriginalIngresses);return n.forEach((e=>{const n=b()(r,{Name:e.ingress.IngressName});if(n){const r=new D.KubernetesIngressRule;r.ServiceName=t,r.IngressName=e.ingress.IngressName,r.Host=e.ingress.Host,r.Path=g()(e.ingress.Path,"/")?e.ingress.Path:"/"+e.ingress.Path,r.Port=e.port,n.Paths.push(r)}})),r}static resourcePoolIngressClassFormValueToIngress(e){const t=new D.KubernetesIngress;t.Name=e.IngressClass.Name,t.Namespace=e.Namespace;const n=P()(e.Annotations,(e=>[e.Key,e.Value]));return t.Annotations=p()(n),t.Annotations[R.PortainerIngressClassTypes]=e.IngressClass.Name,t.IngressClassName=e.IngressClass.Name,t.Hosts=e.Hosts,t.Paths=e.Paths,t}static ingressClassesToFormValues(e,t){return P()(e,(e=>{const n=new E.KubernetesResourcePoolIngressClassFormValue(e),r=b()(t,{Name:e.Name});if(r){n.Selected=!0,n.WasSelected=!0,n.Hosts=P()(r.Hosts,(e=>{const t=new E.KubernetesResourcePoolIngressClassHostFormValue;return t.Host=e,t.PreviousHost=e,t.IsNew=!1,t}));const e=P()(d()(r.Annotations),(([e,t])=>{if(e!==R.PortainerIngressClassTypes){const n=new E.KubernetesResourcePoolIngressClassAnnotationFormValue;return n.Key=e,n.Value=t,n}}));n.Annotations=l()(e,void 0),n.AdvancedConfig=n.Annotations.length>0,n.Paths=r.Paths}return n}))}static createPayload(e){const t=new O.KubernetesIngressCreatePayload;if(t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.annotations=e.Annotations,t.spec.ingressClassName=e.IngressClassName,e.Paths&&e.Paths.length){w()(e.Paths,(e=>{"undefined"!==e.Host&&void 0!==e.Host||(e.Host="")}));const n=[],r=s()(e.Paths,"Host");let i=P()(r,((t,r)=>{const a=b()(e.Hosts,(e=>e===r||e.PreviousHost===r));if(r=a.Host||a,a.NeedsDeletion)return;const i=new O.KubernetesIngressRuleCreatePayload;return T.default.assignOrDeleteIfEmpty(i,"host",r),i.http.paths=P()(t,(e=>{const t=new O.KubernetesIngressRulePathCreatePayload;return t.path=e.Path,t.backend.service.name=e.ServiceName,t.backend.service.port.number=e.Port,t})),n.push(r),i}));i=l()(i,void 0);const o=l()(P()(e.Hosts,(e=>e.NeedsDeletion?void 0:e.Host||e)),void 0),c=l()(o,...n),d=P()(c,(e=>({host:e})));i=a()(i,d),T.default.assignOrDeleteIfEmpty(t,"spec.rules",i)}else e.Hosts?(t.spec.rules=[],w()(e.Hosts,(e=>{e.NeedsDeletion||t.spec.rules.push({host:e.Host||e})}))):delete t.spec.rules;return t}static patchPayload(e,t){const n=M.createPayload(e),r=M.createPayload(t);return N.qu(n,r)}}},7587:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesIngressHelper:function(){return o}});var r=n(83432),a=n.n(r),i=n(74362),s=n.n(i);class o{static findSBoundServiceIngressesRules(e,t){const n=s()(e,"Paths");return a()(n,{ServiceName:t})}}},27155:function(e,t,n){"use strict";function r(){return{Name:"",Namespace:"",Annotations:{},Hosts:[],Paths:[],IngressClassName:"",TLS:[]}}function a(){return{IngressName:"",ServiceName:"",Host:"",IP:"",Port:"",Path:""}}function i(){return{Name:"",Type:void 0,NeedsDeletion:!1,IsNew:!0}}n.r(t),n.d(t,{KubernetesIngress:function(){return r},KubernetesIngressRule:function(){return a},KubernetesIngressClass:function(){return i}})},17362:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesIngressCreatePayload:function(){return a},KubernetesIngressRuleCreatePayload:function(){return i},KubernetesIngressRulePathCreatePayload:function(){return s}});var r=n(27367);function a(){return{metadata:new r.KubernetesCommonMetadataPayload,spec:{ingressClassName:"",rules:[]}}}function i(){return{host:"",http:{paths:[]}}}function s(){return{path:"",pathType:"ImplementationSpecific",backend:{service:{name:"",port:{number:0}}}}}},45678:function(e,t,n){"use strict";n.r(t);var r=n(25658);function a(e,t,n){return function(a){return e(`${t}/:endpointId/kubernetes/apis/networking.k8s.io/v1${a?"/namespaces/:namespace":""}/ingresses/:id/:action`,{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},rollback:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}a.$inject=["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider"],angular.module("portainer.kubernetes").factory("KubernetesIngresses",a)},76706:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesIngressService:function(){return p}});var r=n(25445),a=n.n(r),i=n(55743),s=n.n(i),o=n(29274),l=n.n(o),c=n(20023),d=n(82469),u=n(47086);function p(e,t){return{get:function(t,a){return a?e(n,t,a):e(r,t)},create:function(n){return e((async()=>{try{const e={},r=u.KubernetesIngressConverter.createPayload(n),a=r.metadata.namespace;return await t(a).create(e,r).$promise}catch(e){throw new c.Z("Unable to create ingress",e)}}))},patch:function(n,r){return e((async()=>{try{const e=new d.KubernetesCommonParams;e.id=r.Name;const a=r.Namespace,i=u.KubernetesIngressConverter.patchPayload(n,r);if(!i.length)return;return await t(a).patch(e,i).$promise}catch(e){throw new c.Z("Unable to patch ingress",e)}}))},delete:function(n,r){return e((async()=>{try{const e=new d.KubernetesCommonParams;e.id=r,await t(n).delete(e).$promise}catch(e){throw new c.Z("Unable to delete ingress",e)}}))}};async function n(e,n){try{const r=new d.KubernetesCommonParams;r.id=n;const[a,i]=await Promise.all([t(e).get(r).$promise,t(e).getYaml(r).$promise]);return{Raw:u.KubernetesIngressConverter.apiToModel(a),Yaml:i.data}}catch(e){throw new c.Z("Unable to retrieve Ingress",e)}}async function r(e){try{const n=await t(e).get().$promise;return s()(n.items,((e,t)=>a()(e,u.KubernetesIngressConverter.apiToModel(t))),[])}catch(e){throw new c.Z("Unable to retrieve Ingresses",e)}}}p.$inject=["$async","KubernetesIngresses"],l().module("portainer.kubernetes").service("KubernetesIngressService",p)},60299:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023),s=n(82469);class o{constructor(e,t){this.$async=e,this.KubernetesMetrics=t,this.capabilitiesAsync=this.capabilitiesAsync.bind(this),this.getPodAsync=this.getPodAsync.bind(this),this.getNodeAsync=this.getNodeAsync.bind(this),this.getPodsAsync=this.getPodsAsync.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this)}async capabilitiesAsync(e){try{await this.KubernetesMetrics().capabilities({endpointId:e}).$promise}catch(e){throw new i.Z("Unable to retrieve metrics",e)}}capabilities(e){return this.$async(this.capabilitiesAsync,e)}async getNodeAsync(e){try{const t=new s.KubernetesCommonParams;return t.id=e,await this.KubernetesMetrics().getNode(t).$promise}catch(e){throw new i.Z("Unable to retrieve node stats",e)}}getNode(e){return this.$async(this.getNodeAsync,e)}async getPodAsync(e,t){try{const n=new s.KubernetesCommonParams;return n.id=t,await this.KubernetesMetrics(e).getPod(n).$promise}catch(e){throw new i.Z("Unable to retrieve pod stats",e)}}getPod(e,t){return this.$async(this.getPodAsync,e,t)}async getNodesAsync(e){try{return await this.KubernetesMetrics().getNodes({endpointId:e}).$promise}catch(e){throw new i.Z("Unable to retrieve nodes stats",e)}}getNodes(e){return this.$async(this.getNodesAsync,e)}async getPodsAsync(e){try{return await this.KubernetesMetrics(e).getPods().$promise}catch(e){throw new i.Z("Unable to retrieve pod stats",e)}}getPods(e){return this.$async(this.getPodsAsync,e)}}o.$inject=["$async","KubernetesMetrics"],t.default=o,a().module("portainer.kubernetes").service("KubernetesMetricsService",o)},26835:function(){angular.module("portainer.kubernetes").factory("KubernetesMetrics",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return function(r){const a=t+"/:endpointId/kubernetes/apis/metrics.k8s.io/v1beta1",i=`${a}${r?"/namespaces/:namespace":""}/pods/:id`;return e(a,{endpointId:n.endpointID,namespace:r},{capabilities:{method:"GET"},getPod:{method:"GET",url:i},getNode:{method:"GET",url:`${a}/nodes/:id`},getPods:{method:"GET",url:`${a}/namespaces/:namespace/pods`},getNodes:{method:"GET",url:`${a}/nodes`}})}}])},14917:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesApplicationFormValues:function(){return i},KubernetesApplicationConfigurationFormValueOverridenKeyTypes:function(){return s},KubernetesApplicationConfigurationFormValueOverridenKey:function(){return l},KubernetesApplicationConfigurationFormValue:function(){return d},KubernetesApplicationEnvironmentVariableFormValue:function(){return p},KubernetesApplicationPersistedFolderFormValue:function(){return g},KubernetesApplicationPublishedPortFormValue:function(){return h},KubernetesApplicationPlacementFormValue:function(){return f},KubernetesApplicationAutoScalerFormValue:function(){return b},KubernetesFormValidationReferences:function(){return y}});var r=n(76939),a=n(7172);function i(){this.ApplicationType=void 0,this.ResourcePool={},this.Name="",this.StackName="",this.ApplicationOwner="",this.ImageModel=new r.PorImageRegistryModel,this.Note="",this.MemoryLimit=0,this.CpuLimit=0,this.DeploymentType=a.KubernetesApplicationDeploymentTypes.REPLICATED,this.ReplicaCount=1,this.AutoScaler={},this.Containers=[],this.Services=[],this.EnvironmentVariables=[],this.DataAccessPolicy=a.KubernetesApplicationDataAccessPolicies.ISOLATED,this.PersistedFolders=[],this.Configurations=[],this.PublishingType=a.KubernetesApplicationPublishingTypes.CLUSTER_IP,this.PublishedPorts=[],this.PlacementType=a.KubernetesApplicationPlacementTypes.PREFERRED,this.Placements=[],this.OriginalIngresses=void 0,this.IsPublishingService=!1}const s=Object.freeze({NONE:0,ENVIRONMENT:1,FILESYSTEM:2}),o=Object.freeze({Key:"",Path:"",Type:s.ENVIRONMENT});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({SelectedConfiguration:void 0,Overriden:!1,OverridenKeys:[]});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({Name:"",Value:"",IsSecret:!1,NeedsDeletion:!1,IsNew:!0,NameIndex:""});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({PersistentVolumeClaimName:"",NeedsDeletion:!1,ContainerPath:"",Size:"",SizeUnit:"GB",StorageClass:{},ExistingVolume:null,UseNewVolume:!0});class g{constructor(e){Object.assign(this,JSON.parse(JSON.stringify(m))),this.StorageClass=e}}function h(){return{NeedsDeletion:!1,IsNew:!0,ContainerPort:"",NodePort:"",LoadBalancerPort:"",LoadBalancerNodePort:void 0,Protocol:"TCP",IngressName:void 0,IngressRoute:void 0,IngressHost:void 0,IngressHosts:[]}}function f(){return{Label:{},Value:"",NeedsDeletion:!1,IsNew:!0}}const v=Object.freeze({MinReplicas:0,MaxReplicas:0,TargetCPUUtilization:50,ApiVersion:"",IsUsed:!1});class b{constructor(){Object.assign(this,JSON.parse(JSON.stringify(v)))}}function y(){return{refs:{},hasRefs:!1}}},20783:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesApplicationDeploymentTypes:function(){return r},KubernetesApplicationDataAccessPolicies:function(){return a},KubernetesApplicationTypes:function(){return i},KubernetesApplicationTypeStrings:function(){return s},KubernetesApplicationPublishingTypes:function(){return o},KubernetesApplicationPlacementTypes:function(){return l},KubernetesApplicationQuotaDefaults:function(){return c},KubernetesPortainerApplicationStackNameLabel:function(){return d},KubernetesPortainerApplicationStackIdLabel:function(){return u},KubernetesPortainerApplicationKindLabel:function(){return p},KubernetesPortainerApplicationNameLabel:function(){return m},KubernetesPortainerApplicationOwnerLabel:function(){return g},KubernetesPortainerApplicationNote:function(){return h}});const r=Object.freeze({REPLICATED:1,GLOBAL:2}),a=Object.freeze({SHARED:1,ISOLATED:2}),i=Object.freeze({DEPLOYMENT:1,DAEMONSET:2,STATEFULSET:3,POD:4,HELM:5}),s=Object.freeze({HELM:"Helm",DEPLOYMENT:"Deployment",DAEMONSET:"DaemonSet",STATEFULSET:"StatefulSet",POD:"Pod"}),o=Object.freeze({CLUSTER_IP:1,NODE_PORT:2,LOAD_BALANCER:3,INGRESS:4}),l=Object.freeze({PREFERRED:1,MANDATORY:2}),c={CpuLimit:.1,MemoryLimit:64},d="io.portainer.kubernetes.application.stack",u="io.portainer.kubernetes.application.stackid",p="io.portainer.kubernetes.application.kind",m="io.portainer.kubernetes.application.name",g="io.portainer.kubernetes.application.owner",h="io.portainer.kubernetes.application.note"},7172:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesApplicationDataAccessPolicies:function(){return r.KubernetesApplicationDataAccessPolicies},KubernetesApplicationDeploymentTypes:function(){return r.KubernetesApplicationDeploymentTypes},KubernetesApplicationPlacementTypes:function(){return r.KubernetesApplicationPlacementTypes},KubernetesApplicationPublishingTypes:function(){return r.KubernetesApplicationPublishingTypes},KubernetesApplicationQuotaDefaults:function(){return r.KubernetesApplicationQuotaDefaults},KubernetesApplicationTypeStrings:function(){return r.KubernetesApplicationTypeStrings},KubernetesApplicationTypes:function(){return r.KubernetesApplicationTypes},KubernetesPortainerApplicationKindLabel:function(){return r.KubernetesPortainerApplicationKindLabel},KubernetesPortainerApplicationNameLabel:function(){return r.KubernetesPortainerApplicationNameLabel},KubernetesPortainerApplicationNote:function(){return r.KubernetesPortainerApplicationNote},KubernetesPortainerApplicationOwnerLabel:function(){return r.KubernetesPortainerApplicationOwnerLabel},KubernetesPortainerApplicationStackIdLabel:function(){return r.KubernetesPortainerApplicationStackIdLabel},KubernetesPortainerApplicationStackNameLabel:function(){return r.KubernetesPortainerApplicationStackNameLabel},KubernetesApplication:function(){return i},HelmApplication:function(){return s},KubernetesApplicationPersistedFolder:function(){return l},KubernetesApplicationConfigurationVolume:function(){return d},KubernetesApplicationPort:function(){return p},KubernetesDeploymentTypes:function(){return m}});var r=n(20783);const a=Object.freeze({Id:"",Name:"",StackName:"",StackId:"",ApplicationKind:"",ApplicationOwner:"",ApplicationName:"",ResourcePool:"",Image:"",CreationDate:0,Pods:[],Containers:[],Metadata:{},Limits:{},ServiceType:"",ServiceId:"",ServiceName:"",HeadlessServiceName:void 0,LoadBalancerIPAddress:void 0,PublishedPorts:[],Volumes:[],Env:[],PersistedFolders:[],ConfigurationVolumes:[],DeploymentType:"Unknown",DataAccessPolicy:"Unknown",ApplicationType:"Unknown",RunningPodsCount:0,TotalPodsCount:0,Yaml:"",Note:"",Revisions:void 0,CurrentRevision:void 0,Raw:void 0,AutoScaler:void 0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}class s{constructor(){this.Id="",this.Name="",this.KubernetesApplications=[],this.ApplicationOwner="",this.CreationDate=0,this.ApplicationType="Unknown",this.Status="",this.StackName="-",this.ResourcePool="-",this.Image="-",this.PublishedPorts=[]}}const o=Object.freeze({MountPath:"",PersistentVolumeClaimName:"",HostPath:""});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({fileMountPath:"",rootMountPath:"",configurationKey:"",configurationName:""});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({IngressRules:[],NodePort:0,TargetPort:0,Port:0,Protocol:""});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({GIT:"git",CONTENT:"content",APPLICATION_FORM:"application form",URL:"url"})},11505:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesApplicationVolumeMountPayload:function(){return a},KubernetesApplicationVolumePersistentPayload:function(){return s},KubernetesApplicationVolumeConfigMapPayload:function(){return l},KubernetesApplicationVolumeSecretPayload:function(){return d},KubernetesApplicationVolumeEntryPayload:function(){return p},KubernetesApplicationEnvPayload:function(){return g},KubernetesApplicationEnvConfigMapPayload:function(){return f},KubernetesApplicationEnvSecretPayload:function(){return b}});const r=Object.freeze({name:"",mountPath:"",readOnly:!1});class a{constructor(e){Object.assign(this,JSON.parse(JSON.stringify(r))),e?this.readOnly=!0:delete this.readOnly}}const i=Object.freeze({name:"",persistentVolumeClaim:{claimName:""}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const o=Object.freeze({name:"",configMap:{name:"",items:[]}});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({name:"",secret:{secretName:"",items:[]}});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({key:"",path:""});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({name:"",value:""});class g{constructor(){Object.assign(this,JSON.parse(JSON.stringify(m)))}}const h=Object.freeze({name:"",valueFrom:{configMapKeyRef:{name:"",key:""}}});class f{constructor(){Object.assign(this,JSON.parse(JSON.stringify(h)))}}const v=Object.freeze({name:"",valueFrom:{secretKeyRef:{name:"",key:""}}});class b{constructor(){Object.assign(this,JSON.parse(JSON.stringify(v)))}}},82469:function(e,t,n){"use strict";function r(){return{id:""}}n.r(t),n.d(t,{KubernetesCommonParams:function(){return r}})},27367:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesCommonMetadataPayload:function(){return a}});const r=Object.freeze({uid:"",name:"",namespace:"",labels:{},annotations:{}});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},13978:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesPortainerConfigMapNamespace:function(){return r},KubernetesPortainerConfigMapConfigName:function(){return a},KubernetesPortainerConfigMapAccessKey:function(){return i},KubernetesPortainerAccessConfigMap:function(){return s},KubernetesConfigMap:function(){return l}});const r="portainer",a="portainer-config",i="NamespaceAccessPolicies";function s(){return{Id:0,Name:a,Namespace:r,Data:{}}}const o=Object.freeze({Id:0,Name:"",Namespace:"",Yaml:"",ConfigurationOwner:"",Data:[]});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}},40879:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesConfigMapCreatePayload:function(){return i},KubernetesConfigMapUpdatePayload:function(){return o}});var r=n(27367);const a=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload,data:{},binaryData:{}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const s=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload,data:{},binaryData:{}});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},30578:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesConfigurationFormValues:function(){return i},KubernetesConfigurationFormValuesEntry:function(){return o}});var r=n(82434);const a=Object.freeze({Id:"",ResourcePool:"",Name:"",ConfigurationOwner:"",Kind:r.KubernetesConfigurationKinds.CONFIGMAP,Data:[],DataYaml:"",IsSimple:!0,ServiceAccountName:"",Type:r.KubernetesSecretTypeOptions.OPAQUE.value});class i{constructor(){Object.assign(this,a)}}const s=Object.freeze({Key:"",Value:"",IsBinary:!1});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},82434:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesPortainerConfigurationOwnerLabel:function(){return r},KubernetesPortainerConfigurationDataAnnotation:function(){return a},KubernetesConfiguration:function(){return s},KubernetesConfigurationKinds:function(){return o},KubernetesSecretTypeOptions:function(){return l}});const r="io.portainer.kubernetes.configuration.owner",a="io.portainer.kubernetes.configuration.data",i=Object.freeze({Id:0,Name:"",Kind:"",Namespace:"",CreationDate:"",ConfigurationOwner:"",Used:!1,Applications:[],Data:{},SecretType:""});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const o=Object.freeze({CONFIGMAP:1,SECRET:2}),l=Object.freeze({OPAQUE:{name:"Opaque",value:"Opaque"},SERVICEACCOUNTTOKEN:{name:"Service account token",value:"kubernetes.io/service-account-token"},DOCKERCFG:{name:"Dockercfg",value:"kubernetes.io/dockercfg"},DOCKERCONFIGJSON:{name:"Dockerconfigjson",value:"kubernetes.io/dockerconfigjson"},BASICAUTH:{name:"Basic auth",value:"kubernetes.io/basic-auth"},SSHAUTH:{name:"SSH auth",value:"kubernetes.io/ssh-auth"},TLS:{name:"TLS",value:"kubernetes.io/tls"},BOOTSTRAPTOKEN:{name:"Bootstrap token",value:"bootstrap.kubernetes.io/token"},CUSTOM:{name:"Custom",value:"Custom"}})},12745:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesDaemonSet:function(){return a}});const r=Object.freeze({Namespace:"",Name:"",StackName:"",ImageModel:null,Env:[],CpuLimit:0,MemoryLimit:0,VoluemMounts:[],Volumes:[],Secret:void 0,ApplicationName:"",ApplicationOwner:"",Note:"",Affinity:void 0});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},82935:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesDaemonSetCreatePayload:function(){return i}});var r=n(27367);const a=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:""}},updateStrategy:{type:"RollingUpdate",rollingUpdate:{maxUnavailable:1}},template:{metadata:{labels:{app:""}},spec:{containers:[{name:"",image:"",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},6253:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesDeployManifestTypes:function(){return r},KubernetesDeployBuildMethods:function(){return a},KubernetesDeployRequestMethods:function(){return i},RepositoryMechanismTypes:function(){return s}});const r=Object.freeze({KUBERNETES:1,COMPOSE:2}),a=Object.freeze({GIT:1,WEB_EDITOR:2,CUSTOM_TEMPLATE:3,URL:4}),i=Object.freeze({REPOSITORY:"repository",STRING:"string",URL:"url"}),s=Object.freeze({WEBHOOK:"Webhook",INTERVAL:"Interval"})},59238:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesDeployment:function(){return a}});const r=Object.freeze({Namespace:"",Name:"",StackName:"",ReplicaCount:0,ImageModel:null,Env:[],CpuLimit:0,MemoryLimit:0,VolumeMounts:[],Volumes:[],Secret:void 0,ApplicationName:"",ApplicationOwner:"",Note:"",Affinity:void 0});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},95008:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesDeploymentCreatePayload:function(){return i}});var r=n(27367);const a=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:""}},strategy:{type:"RollingUpdate",rollingUpdate:{maxSurge:0,maxUnavailable:"100%"}},template:{metadata:{labels:{app:""}},spec:{affinity:{},containers:[{name:"",image:"",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},82239:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesEvent:function(){return a}});const r=Object.freeze({Id:"",Date:0,Type:"",Message:"",Involved:{}});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},24601:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesSystem_DefaultDeploymentUniqueLabelKey:function(){return r},KubernetesSystem_RevisionAnnotation:function(){return a},KubernetesSystem_RevisionHistoryAnnotation:function(){return i},KubernetesSystem_ChangeCauseAnnotation:function(){return s},KubernetesSystem_DesiredReplicasAnnotation:function(){return o},KubernetesSystem_MaxReplicasAnnotation:function(){return l},KubernetesSystem_AnnotationsToSkip:function(){return c}});const r="pod-template-hash",a="deployment.kubernetes.io/revision",i="deployment.kubernetes.io/revision-history",s="kubernetes.io/change-cause",o="deployment.kubernetes.io/desired-replicas",l="deployment.kubernetes.io/max-replicas",c={"kubectl.kubernetes.io/last-applied-configuration":!0,[a]:!0,[i]:!0,[o]:!0,[l]:!0,"deprecated.deployment.rollback.to":!0}},35076:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesNamespace:function(){return r},KUBERNETES_DEFAULT_SYSTEM_NAMESPACES:function(){return a},KUBERNETES_DEFAULT_NAMESPACE:function(){return i}});class r{constructor(){this.Id="",this.Name="",this.CreationDate="",this.Status="",this.Yaml="",this.ResourcePoolName="",this.ResourcePoolOwner="",this.IsSystem=!1}}const a=["kube-system","kube-public","kube-node-lease","portainer"],i="default"},63829:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesNamespaceCreatePayload:function(){return i}});var r=n(27367);const a=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},74335:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesNodesLimits:function(){return o}});var r=n(30385),a=n.n(r),i=n(41952),s=n.n(i);class o{constructor(e){this.MaxCPU=0,this.MaxMemory=0,this.nodesLimits=this.convertCPU(e),this.calculateMaxCPUMemory()}convertCPU(e){return s()(e,(e=>{e.CPU&&(e.CPU/=1e3)})),e}calculateMaxCPUMemory(){const e=Object.values(this.nodesLimits);this.MaxCPU=a()(e,"CPU").CPU,this.MaxMemory=a()(e,"Memory").Memory}overflowForReplica(e,t,n){return s()(this.nodesLimits,(r=>{n-=Math.min(Math.floor(r.CPU/e),Math.floor(r.Memory/t))})),n>0}overflowForGlobal(e,t){let n=!1;return s()(this.nodesLimits,(r=>{(e>r.CPU||t>r.Memory)&&(n=!0)})),n}excludesPods(e,t,n){const r=this.nodesLimits;s()(e,(e=>{const a=e.Node;a&&r[a]&&(r[a].CPU+=t,r[a].Memory+=n)})),this.calculateMaxCPUMemory()}}},83270:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesPortMappingPort:function(){return a},KubernetesPortMapping:function(){return s}});const r=Object.freeze({Port:0,TargetPort:0,Protocol:"",IngressRules:[]});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const i=Object.freeze({Expanded:!1,Highlighted:!1,ResourcePool:"",ServiceType:"",ApplicationOwner:"",LoadBalancerIPAddress:"",Ports:[]});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},16496:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesResourcePoolFormValues:function(){return a},KubernetesResourcePoolIngressClassFormValue:function(){return i},KubernetesResourcePoolIngressClassAnnotationFormValue:function(){return s},KubernetesResourcePoolIngressClassHostFormValue:function(){return o},KubernetesResourcePoolNginxRewriteAnnotationFormValue:function(){return l},KubernetesResourcePoolNginxUseregexAnnotationFormValue:function(){return c},KubernetesResourcePoolTraefikRewriteAnnotationFormValue:function(){return d}});var r=n(62072);function a(e){this.Name="",this.MemoryLimit=e.MemoryLimit,this.CpuLimit=e.CpuLimit,this.HasQuota=!1,this.IngressClasses=[],this.Registries=[],this.EndpointId=0,this.IsSystem=!1}function i(e){return{Namespace:void 0,IngressClass:e,RewriteTarget:!1,Annotations:[],Hosts:[],Selected:!1,WasSelected:!1,AdvancedConfig:!1,Paths:[]}}function s(){return{Key:"",Value:""}}function o(){return{Host:"",PreviousHost:"",NeedsDeletion:!1,IsNew:!0}}function l(){return r.KubernetesNginxRewriteTargetAnnotations}function c(){return r.KubernetesNginxUseregexAnnotations}function d(){return r.KubernetesTraefikRewriteTargetAnnotations}},72210:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesPortainerResourcePoolNameLabel:function(){return r},KubernetesPortainerResourcePoolOwnerLabel:function(){return a},KubernetesPortainerNamespaceSystemLabel:function(){return i},KubernetesResourcePool:function(){return s}});const r="io.portainer.kubernetes.resourcepool.name",a="io.portainer.kubernetes.resourcepool.owner",i="io.portainer.kubernetes.namespace.system";function s(){return{Namespace:{},Quota:void 0,Ingresses:[],Yaml:""}}},47685:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesPortainerResourceQuotaPrefix:function(){return a},KubernetesPortainerResourceQuotaCPULimit:function(){return i},KubernetesPortainerResourceQuotaMemoryLimit:function(){return s},KubernetesPortainerResourceQuotaCPURequest:function(){return o},KubernetesPortainerResourceQuotaMemoryRequest:function(){return l},KubernetesResourceQuotaDefaults:function(){return c},KubernetesResourceQuota:function(){return d}});var r=n(21458);const a="portainer-rq-",i="limits.cpu",s="limits.memory",o="requests.cpu",l="requests.memory",c={CpuLimit:0,MemoryLimit:0};function d(e){return{Id:"",Namespace:e||"",Name:e?r.default.generateResourceQuotaName(e):"",CpuLimit:c.CpuLimit,MemoryLimit:c.MemoryLimit,CpuLimitUsed:c.CpuLimit,MemoryLimitUsed:c.MemoryLimit,Yaml:"",ResourcePoolName:"",ResourcePoolOwner:""}}},75976:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesResourceQuotaCreatePayload:function(){return i}});var r=n(27367),a=n(47685);function i(){return{metadata:new r.KubernetesCommonMetadataPayload,spec:{hard:{[a.KubernetesPortainerResourceQuotaCPURequest]:0,[a.KubernetesPortainerResourceQuotaMemoryRequest]:0,[a.KubernetesPortainerResourceQuotaCPULimit]:0,[a.KubernetesPortainerResourceQuotaMemoryLimit]:0}}}}},46685:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesResourceReservation:function(){return a}});const r=Object.freeze({Memory:0,CPU:0});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},39212:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesResourceTypes:function(){return r},KubernetesResourceActions:function(){return a}});const r=Object.freeze({NAMESPACE:"Namespace",RESOURCEQUOTA:"ResourceQuota",CONFIGMAP:"ConfigMap",SECRET:"Secret",DEPLOYMENT:"Deployment",STATEFULSET:"StatefulSet",DAEMONSET:"Daemonset",PERSISTENT_VOLUME_CLAIM:"PersistentVolumeClaim",SERVICE:"Service",INGRESS:"Ingress",HORIZONTAL_POD_AUTOSCALER:"HorizontalPodAutoscaler"}),a=Object.freeze({CREATE:"Create",UPDATE:"Update",DELETE:"Delete"})},69730:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesApplicationSecret:function(){return a}});const r=Object.freeze({Id:0,Name:"",Namespace:"",Type:"",CreationDate:"",ConfigurationOwner:"",Yaml:"",Data:[],SecretType:"",Annotations:[]});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},60622:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesSecretCreatePayload:function(){return i},KubernetesSecretUpdatePayload:function(){return o}});var r=n(27367);const a=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload,type:"",data:{},stringData:{}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const s=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload,type:"",data:{},stringData:{}});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},79990:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesServiceHeadlessPrefix:function(){return r},KubernetesServiceHeadlessClusterIP:function(){return a},KubernetesServiceTypes:function(){return i},KubernetesService:function(){return o},KubernetesIngressService:function(){return c},KubernetesIngressServiceRoute:function(){return u},KubernetesServicePort:function(){return m}});const r="headless-",a="None",i=Object.freeze({LOAD_BALANCER:"LoadBalancer",NODE_PORT:"NodePort",CLUSTER_IP:"ClusterIP",INGRESS:"Ingress"}),s=Object.freeze({Headless:!1,Namespace:"",Name:"",StackName:"",Ports:[],Type:"",ClusterIP:"",ApplicationName:"",ApplicationOwner:"",Note:"",Ingress:!1,Selector:{},nodePortError:!1,servicePortError:!1});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const l=Object.freeze({Headless:!1,Namespace:"",Name:"",StackName:"",Ports:[],Type:"",ClusterIP:"",ApplicationName:"",ApplicationOwner:"",Note:"",Ingress:!0,IngressRoute:[]});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({Host:"",IngressName:"",Path:"",ServiceName:"",TLSCert:""});class u{constructor(){Object.assign(this,JSON.parse(JSON.stringify(d)))}}const p=Object.freeze({name:"",port:0,targetPort:0,protocol:"",nodePort:0,ingress:""});class m{constructor(){Object.assign(this,JSON.parse(JSON.stringify(p)))}}},31249:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesServiceCreatePayload:function(){return i}});var r=n(27367);const a=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload,spec:{ports:[],selector:{app:""},type:"",clusterIP:""}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},31084:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesStack:function(){return a}});const r=Object.freeze({Name:"",ResourcePool:"",Applications:[]});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},91920:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesStatefulSet:function(){return a}});const r=Object.freeze({Namespace:"",Name:"",StackName:"",ReplicaCount:0,ImageModel:null,Env:[],CpuLimit:"",MemoryLimit:"",VolumeMounts:[],Volumes:[],Secret:void 0,VolumeClaims:[],ServiceName:"",ApplicationName:"",ApplicationOwner:"",Note:"",Affinity:void 0});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},13871:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesStatefulSetCreatePayload:function(){return i}});var r=n(27367);const a=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload,spec:{replicas:0,serviceName:"",selector:{matchLabels:{app:""}},volumeClaimTemplates:[],updateStrategy:{type:"RollingUpdate",rollingUpdate:{partition:0}},template:{metadata:{labels:{app:""}},spec:{containers:[{name:"",image:"",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},86871:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesStorageClassAccessPolicies:function(){return a},KubernetesStorageClass:function(){return s}});const r=Object.freeze([{Name:"RWO",Description:"Allow read-write from a single pod only (RWO)",selected:!0},{Name:"RWX",Description:"Allow read-write access from one or more pods concurrently (RWX)",selected:!1}]);function a(){return JSON.parse(JSON.stringify(r))}const i=Object.freeze({Name:"",AccessModes:[],Provisioner:"",AllowVolumeExpansion:!1});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},79824:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesStorageClassCreatePayload:function(){return i}});var r=n(27367);const a=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload,provisioner:"",allowVolumeExpansion:!1});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},72913:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesPersistentVolumeClaim:function(){return s},KubernetesVolume:function(){return l}});var r=n(15964),a=n.n(r);const i=Object.freeze({Id:"",Name:"",PreviousName:"",Namespace:"",Storage:0,StorageClass:{},CreationDate:"",ApplicationOwner:"",ApplicationName:"",MountPath:"",Yaml:""});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i))),this.Name=a()()}}const o=Object.freeze({ResourcePool:{},PersistentVolumeClaim:{},Applications:[]});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}},88296:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesPersistentVolumClaimCreatePayload:function(){return i}});var r=n(27367);const a=Object.freeze({metadata:new r.KubernetesCommonMetadataPayload,spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:""}},storageClassName:""}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},76676:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesNodeConditionTypes:function(){return y}});var r=n(55743),a=n.n(r),i=n(83432),s=n.n(i),o=n(66539),l=n.n(o),c=n(39576),d=n.n(c),u=n(51235),p=n.n(u),m=n(34901),g=n(85001),h=n(22229),f=n(2949),v=n(11801);class b{static apiToNode(e,t){t||(t=new g.KubernetesNode),t.Id=e.metadata.uid;const n=p()(e.status.addresses,{type:"Hostname"});t.Name=e.metadata.name?e.metadata.name:n.address,t.Labels=e.metadata.labels,t.Role=d()(e.metadata.labels,"node-role.kubernetes.io/master")?"Master":"Worker";const r=p()(e.status.conditions,{type:y.READY}),a=p()(e.status.conditions,{type:y.MEMORY_PRESSURE}),i=p()(e.status.conditions,{type:y.PID_PRESSURE}),s=p()(e.status.conditions,{type:y.DISK_PRESSURE}),o=p()(e.status.conditions,{type:y.NETWORK_UNAVAILABLE});t.Conditions={MemoryPressure:a&&"True"===a.status,PIDPressure:i&&"True"===i.status,DiskPressure:s&&"True"===s.status,NetworkUnavailable:o&&"True"===o.status},t.Availability=g.KubernetesNodeAvailabilities.ACTIVE,!0===e.spec.unschedulable&&(t.Availability=d()(e.metadata.labels,g.KubernetesPortainerNodeDrainLabel)?g.KubernetesNodeAvailabilities.DRAIN:g.KubernetesNodeAvailabilities.PAUSE),"False"===r.status?t.Status="Unhealthy":"Unknown"===r.status||t.Conditions.MemoryPressure||t.Conditions.PIDPressure||t.Conditions.DiskPressure||t.Conditions.NetworkUnavailable?t.Status="Warning":t.Status="Ready",t.CPU=h.default.parseCPU(e.status.allocatable.cpu),t.Memory=e.status.allocatable.memory,t.Version=e.status.nodeInfo.kubeletVersion;const c=p()(e.status.addresses,{type:"InternalIP"});return t.IPAddress=c?c.address:"-",t.Taints=l()(e.spec.taints,(e=>{const t=new g.KubernetesNodeTaint;return t.Key=e.key,t.Value=e.value,t.Effect=e.effect,t})),t}static apiToNodeDetails(e,t){let n=new g.KubernetesNodeDetails;return n=b.apiToNode(e,n),n.CreationDate=e.metadata.creationTimestamp,n.OS.Architecture=e.status.nodeInfo.architecture,n.OS.Platform=e.status.nodeInfo.operatingSystem,n.OS.Image=e.status.nodeInfo.osImage,n.Yaml=t?t.data:"",n}static nodeToFormValues(e){const t=new f.KubernetesNodeFormValues;return t.Availability=e.Availability,t.Taints=l()(e.Taints,(e=>{const t=new f.KubernetesNodeTaintFormValues;return t.Key=e.Key,t.Value=e.Value,t.Effect=e.Effect,t.NeedsDeletion=!1,t.IsNew=!1,t})),t.Labels=l()(e.Labels,((e,t)=>{const n=new f.KubernetesNodeLabelFormValues;return n.Key=t,n.Value=e,n.NeedsDeletion=!1,n.IsNew=!1,n})),t}static formValuesToNode(e,t){const n=angular.copy(e);n.Availability=t.Availability;const r=s()(t.Taints,(e=>!e.NeedsDeletion));n.Taints=l()(r,(e=>{const t=new g.KubernetesNodeTaint;return t.Key=e.Key,t.Value=e.Value,t.Effect=e.Effect,t}));const i=s()(t.Labels,(e=>!e.NeedsDeletion));return n.Labels=a()(i,((e,t)=>(e[t.Key]=t.Value?t.Value:"",e)),{}),n}static createPayload(e){const t=new v.KubernetesNodeCreatePayload;t.metadata.name=e.Name;const n=l()(e.Taints,(e=>{const t=new v.KubernetesNodeTaintPayload;return t.key=e.Key,t.value=e.Value,t.effect=e.Effect,t}));return t.spec.taints=n.length?n:void 0,t.metadata.labels=e.Labels,e.Availability!==g.KubernetesNodeAvailabilities.ACTIVE&&(t.spec.unschedulable=!0,e.Availability===g.KubernetesNodeAvailabilities.DRAIN?t.metadata.labels[g.KubernetesPortainerNodeDrainLabel]="":delete t.metadata.labels[g.KubernetesPortainerNodeDrainLabel]),t}static patchPayload(e,t){const n=b.createPayload(e),r=b.createPayload(t);return m.qu(n,r)}}const y=Object.freeze({READY:"Ready",MEMORY_PRESSURE:"MemoryPressure",PID_PRESSURE:"PIDPressure",DISK_PRESSURE:"DiskPressure",NETWORK_UNAVAILABLE:"NetworkUnavailable"});t.default=b},57067:function(e,t,n){"use strict";n.r(t);var r=n(94946),a=n.n(r);angular.module("portainer.kubernetes").filter("kubernetesNodeStatusColor",(function(){return function(e){switch(a()(e)){case"ready":return"success";case"warning":return"warning";default:return"danger"}}})).filter("kubernetesNodeConditionsMessage",(function(){return function(e){return e.MemoryPressure?"Node memory is running low":e.PIDPressure?"Too many processes running on the node":e.DiskPressure?"Node disk capacity is running low":e.NetworkUnavailable?"Incorrect node network configuration":void 0}}))},2949:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesNodeFormValues:function(){return a},KubernetesNodeTaintFormValues:function(){return s},KubernetesNodeLabelFormValues:function(){return l}});const r=Object.freeze({Taints:[],Labels:[],Availability:""});class a{constructor(){Object.assign(JSON.parse(JSON.stringify(r)))}}const i=Object.freeze({Key:"",Values:"",Effect:"",NeedsDeletion:!1,IsNew:!1,IsChanged:!1});class s{constructor(){Object.assign(JSON.parse(JSON.stringify(i)))}}const o=Object.freeze({Key:"",Values:"",NeedsDeletion:!1,IsNew:!1,IsUsed:!1,IsChanged:!1});class l{constructor(){Object.assign(JSON.parse(JSON.stringify(o)))}}},14780:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesNodeHelper:function(){return x}});var r=n(86103),a=n.n(r),i=n(4160),s=n.n(i),o=n(74362),l=n.n(o),c=n(51235),d=n.n(c),u=n(46006),p=n.n(u),m=n(66539),g=n.n(m),h=n(55332),f=n.n(h),v=n(40714),b=n.n(v),y=n(13507),w=n.n(y);class x{static isSystemLabel(e){return!e.IsNew&&(w()(e.Key,"beta.kubernetes.io")||w()(e.Key,"kubernetes.io")||"node-role.kubernetes.io/master"===e.Key)}static reorderLabels(e){return b()(e,(e=>!x.isSystemLabel(e)))}static computeUsedLabels(e,t){const n=f()(g()(e,"Pods")),r=p()(f()(g()(n,"NodeSelector")));return g()(t,(e=>(e.IsUsed=!!d()(r,(t=>t&&t[e.Key]===e.Value)),e)))}static generateNodeLabelsFromNodes(e){const t=l()(e,(e=>g()(s()(e.Labels),(([e,t])=>({key:e,value:t})))));return g()(a()(t,"key"),((e,t)=>({Key:t,Values:p()(g()(e,"value"))})))}}},85001:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesPortainerNodeDrainLabel:function(){return r},KubernetesNode:function(){return i},KubernetesNodeDetails:function(){return o},KubernetesNodeTaint:function(){return c},KubernetesNodeAvailabilities:function(){return d},KubernetesNodeTaintEffects:function(){return u}});const r="io.portainer/node-status-drain",a=Object.freeze({Id:"",Name:"",Labels:{},Role:"",Status:"",CPU:0,Memory:"",Version:"",IPAddress:"",Api:!1,Taints:[],Port:0,Availability:""});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const s=Object.freeze({CreationDate:"",OS:{Architecture:"",Platform:"",Image:""},Conditions:[],Yaml:""});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a))),Object.assign(this,JSON.parse(JSON.stringify(s)))}}const l=Object.freeze({Key:"",Value:"",Effect:""});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({ACTIVE:"Active",PAUSE:"Pause",DRAIN:"Drain"}),u=Object.freeze({NOSCHEDULE:"NoSchedule",PREFERNOSCHEDULE:"PreferNoSchedule",NOEXECUTE:"NoExecute"})},11801:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesNodeCreatePayload:function(){return a},KubernetesNodeTaintPayload:function(){return s}});const r=Object.freeze({metadata:{name:"",labels:{}},spec:{taints:void 0}});class a{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const i=Object.freeze({key:"",value:"",effect:""});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},9790:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesNodes",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(){return e(t+"/:endpointId/kubernetes/api/v1/nodes/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},6795:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(29274),s=n.n(i),o=n(20023),l=n(76676),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesNodes=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.patchAsync=this.patchAsync.bind(this)}async getAsync(e){try{const t=new c.KubernetesCommonParams;t.id=e;const[n,r]=await Promise.all([this.KubernetesNodes().get(t).$promise,this.KubernetesNodes().getYaml(t).$promise]);return l.default.apiToNodeDetails(n,r)}catch(e){const t=e.data;throw new o.Z("Unable to retrieve node details",t)}}async getAllAsync(){try{const e=await this.KubernetesNodes().get().$promise;return a()(e.items,(e=>l.default.apiToNode(e)))}catch(e){throw{msg:"Unable to retrieve nodes",err:e}}}get(e){return e?this.$async(this.getAsync,e):this.$async(this.getAllAsync)}async patchAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=e.Name;const r=l.default.formValuesToNode(e,t),a=l.default.patchPayload(e,r),i=await this.KubernetesNodes().patch(n,a).$promise;return l.default.apiToNodeDetails(i)}catch(e){throw{msg:"Unable to patch node",err:e}}}patch(e,t){return this.$async(this.patchAsync,e,t)}}d.$inject=["$async","KubernetesNodes"],t.default=d,s().module("portainer.kubernetes").service("KubernetesNodeService",d)},22050:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(37336),a=n.n(r),i=n(25445),s=n.n(i),o=n(51235),l=n.n(o),c=n(83432),d=n.n(c),u=n(66539),p=n.n(u),m=n(34901),g=n(61515),h=n(7172),f=n(31275),v=n(61005);function b(e,t){const n=l()(e,{name:t});if(!n)return"Terminated";const r=n.state;return r.waiting?"Waiting":r.running?"Running":"Terminated"}class y{static apiToModel(e){const t=new f.KubernetesPod;var n;return t.Id=e.metadata.uid,t.Name=e.metadata.name,t.Namespace=e.metadata.namespace,t.Images=p()(e.spec.containers,"image"),t.Status=function(e){const t=p()(e,"state"),n=d()(t,(e=>e.running)).length;return d()(t,(e=>e.waiting)).length?"Waiting":n?"Running":"Terminated"}(e.status.containerStatuses),t.Restarts=a()(e.status.containerStatuses,"restartCount"),t.Node=e.spec.nodeName,t.CreationDate=e.status.startTime,t.Containers=function(e){const t=e.spec.containers,n=e.spec.initContainers;return s()(p()(t,(t=>{const n=new f.KubernetesPodContainer;return n.Type=f.KubernetesPodContainerTypes.APP,n.PodName=e.metadata.name,n.PodIP=e.status.podIP,n.Name=t.name,n.Image=t.image,n.ImagePullPolicy=t.imagePullPolicy,n.Node=e.spec.nodeName,n.CreationDate=e.status.startTime,n.Status=b(e.status.containerStatuses,t.name),n.Limits=t.resources.limits,n.Requests=t.resources.requests,n.VolumeMounts=t.volumeMounts,n.Env=t.env,n})),p()(n,(t=>{const n=new f.KubernetesPodContainer;return n.Type=f.KubernetesPodContainerTypes.INIT,n.PodName=e.metadata.name,n.Name=t.name,n.Image=t.image,n.Node=e.spec.nodeName,n.CreationDate=e.status.startTime,n.Status=b(e.status.containerStatuses,t.name),n.Limits=t.resources.limits,n.Requests=t.resources.requests,n.VolumeMounts=t.volumeMounts,n.Env=t.env,n})))}(e),t.Labels=e.metadata.labels,t.Affinity=function(e){const t=new f.KubernetesPodAffinity;return e&&(t.nodeAffinity=e.nodeAffinity||{}),t}(e.spec.affinity),t.NodeSelector=e.spec.nodeSelector,t.Tolerations=(n=e.spec.tolerations,p()(n,(e=>{const t=new f.KubernetesPodToleration;return t.Key=e.key,t.Operator=e.operator,t.Value=e.value,t.TolerationSeconds=e.tolerationSeconds,t.Effect=e.effect,t}))),t}static evictionPayload(e){const t=new f.KubernetesPodEviction;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t}static patchPayload(e,t){const n=w(e),r=w(t);return m.qu(n,r)}}function w(e){const t=(0,v.createPayloadFactory)();return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[h.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[h.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[h.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,e.Note?t.metadata.annotations[h.KubernetesPortainerApplicationNote]=e.Note:t.metadata.annotations=void 0,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[h.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,t.spec.template.spec.containers[0].image=e.Image,t.spec.template.spec.affinity=e.Affinity,g.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].env",e.Env),g.default.assignOrDeleteIfEmpty(t,"spec.template.spec.containers[0].volumeMounts",e.VolumeMounts),g.default.assignOrDeleteIfEmpty(t,"spec.template.spec.volumes",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}},15826:function(e,t,n){"use strict";n.r(t);var r=n(94946),a=n.n(r);angular.module("portainer.kubernetes").filter("kubernetesPodStatusColor",(function(){return function(e){switch(a()(e)){case"running":return"success";case"waiting":return"warning";case"terminated":return"info";default:return"danger"}}})).filter("kubernetesPodConditionStatusBadge",(function(){return function(e,t){switch(t){case"Unschedulable":switch(e){case"True":return"fa-exclamation-triangle red-icon";case"False":return"fa-check green-icon";case"Unknown":return"fa-exclamation-circle orange-icon"}break;case"PodScheduled":case"Ready":case"Initialized":case"ContainersReady":switch(e){case"True":return"fa-check green-icon";case"False":return"fa-exclamation-triangle red-icon";case"Unknown":return"fa-exclamation-circle orange-icon"}break;default:return"fa-question-circle red-icon"}}})).filter("kubernetesPodConditionStatusText",(function(){return function(e,t){switch(t){case"Unschedulable":switch(e){case"True":return"Alert";case"False":return"OK";case"Unknown":return"Warning"}break;case"PodScheduled":case"Ready":case"Initialized":case"ContainersReady":switch(e){case"True":return"Ok";case"False":return"Alert";case"Unknown":return"Warning"}break;default:return"Unknown"}}}))},73689:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesPodNodeAffinityNodeSelectorRequirementOperators:function(){return r},KubernetesPodAffinity:function(){return a}});const r=Object.freeze({IN:"In",NOT_IN:"NotIn",EXISTS:"Exists",DOES_NOT_EXIST:"DoesNotExist",GREATER_THAN:"Gt",LOWER_THAN:"Lt"});function a(){return{nodeAffinity:{}}}},31275:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesPodAffinity:function(){return r.KubernetesPodAffinity},KubernetesPodNodeAffinityNodeSelectorRequirementOperators:function(){return r.KubernetesPodNodeAffinityNodeSelectorRequirementOperators},KubernetesPod:function(){return i},KubernetesPodToleration:function(){return o},KubernetesPodContainer:function(){return c},KubernetesPodEviction:function(){return u},KubernetesPodContainerTypes:function(){return p}});var r=n(73689);const a=Object.freeze({Id:"",Name:"",Namespace:"",Images:[],Status:"",Restarts:0,Node:"",CreationDate:"",Containers:[],Labels:[],Affinity:{},Tolerations:[],NodeSelector:void 0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const s=Object.freeze({Key:"",Operator:"",Value:"",TolerationSeconds:0,Effect:""});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const l=Object.freeze({Type:0,PodName:"",Name:"",Image:"",ImagePullPolicy:"",Node:"",CreationDate:"",Status:"",Limits:{},Requests:{},VolumeMounts:{},ConfigurationVolumes:[],PersistedFolders:[],Env:[]});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({apiVersion:"policy/v1beta1",kind:"Eviction",metadata:{name:"",namespace:""}});class u{constructor(){Object.assign(this,JSON.parse(JSON.stringify(d)))}}const p={INIT:1,APP:2}},78398:function(e,t,n){"use strict";function r(){return{requiredDuringSchedulingIgnoredDuringExecution:{nodeSelectorTerms:[]},preferredDuringSchedulingIgnoredDuringExecution:[]}}function a(){return{weight:1,preference:{}}}function i(){return{matchExpressions:[]}}function s(){return{key:"",operator:"",values:[]}}n.r(t),n.d(t,{KubernetesPodNodeAffinityPayload:function(){return r},KubernetesPreferredSchedulingTermPayload:function(){return a},KubernetesNodeSelectorTermPayload:function(){return i},KubernetesNodeSelectorRequirementPayload:function(){return s}})},61005:function(e,t,n){"use strict";n.r(t),n.d(t,{createPayloadFactory:function(){return a}});var r=n(27367);function a(){return{metadata:new r.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:""}},strategy:{type:"RollingUpdate",rollingUpdate:{maxSurge:0,maxUnavailable:"100%"}},template:{metadata:{labels:{app:""}},spec:{affinity:{},containers:[{name:"",image:"",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}}}},30754:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023),s=n(82469),o=n(22050);class l{constructor(e,t){this.$async=e,this.KubernetesPods=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.logsAsync=this.logsAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.evictionAsync=this.evictionAsync.bind(this)}async getAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t;const[r,a]=await Promise.all([this.KubernetesPods(e).get(n).$promise,this.KubernetesPods(e).getYaml(n).$promise]);return{Raw:r,Yaml:a.data}}catch(e){throw new i.Z("Unable to retrieve pod",e)}}async getAllAsync(e){try{return(await this.KubernetesPods(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve pods",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async logsAsync(e,t,n){try{const r=new s.KubernetesCommonParams;return r.id=t,n&&(r.container=n),(await this.KubernetesPods(e).logs(r).$promise).logs}catch(e){throw new i.Z("Unable to retrieve pod logs",e)}}logs(e,t,n){return this.$async(this.logsAsync,e,t,n)}async patchAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t.Name;const r=t.Namespace,a=o.default.patchPayload(e,t);if(!a.length)return;return await this.KubernetesPods(r).patch(n,a).$promise}catch(e){throw new i.Z("Unable to patch pod",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesPods(n).delete(t).$promise}catch(e){throw new i.Z("Unable to remove pod",e)}}delete(e){return this.$async(this.deleteAsync,e)}async evictionAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name,t.action="eviction";const n=e.Namespace,r=o.default.evictionPayload(e);await this.KubernetesPods(n).evict(t,r).$promise}catch(e){throw new i.Z("Unable to evict pod",e)}}eviction(e){return this.$async(this.evictionAsync,e)}}l.$inject=["$async","KubernetesPods"],t.default=l,a().module("portainer.kubernetes").service("KubernetesPodService",l)},87658:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(51482);t.default=a().module("portainer.kubernetes.registries",[]).component("kubernetesRegistryAccessView",i.kubernetesRegistryAccessView).name},51482:function(e,t,n){"use strict";n.r(t),n.d(t,{kubernetesRegistryAccessView:function(){return a}});var r=n(60124);const a={templateUrl:n(2780),controller:r.default,bindings:{endpoint:"<"}}},60124:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(7506);class a{constructor(e,t,n,r,a,i,s,o){this.$async=e,this.$scope=t,this.$state=n,this.ModalService=r,this.Notifications=i,this.KubernetesResourcePoolService=o,this.RegistryService=s,this.EndpointService=a,this.state={actionInProgress:!1},this.selectedResourcePools=[],this.resourcePools=[],this.savedResourcePools=[],this.handleRemove=this.handleRemove.bind(this),this.onChangeResourcePools=this.onChangeResourcePools.bind(this)}async submit(){return this.updateNamespaces([...this.savedResourcePools.map((({value:e})=>e)),...this.selectedResourcePools])}handleRemove(e){const t=e.map((({value:e})=>e)),n=this.savedResourcePools.map((({value:e})=>e)).filter((e=>!t.includes(e)));this.ModalService.confirmDeletion("This registry might be used by one or more applications inside this environment. Removing the registry access could lead to a service interruption for these applications.<br/><br/>Do you wish to continue?",(e=>{if(e)return this.updateNamespaces(n)}))}updateNamespaces(e){return this.$async((async()=>{try{await this.EndpointService.updateRegistryAccess(this.endpoint.Id,this.registry.Id,{namespaces:e}),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Failed saving registry access")}}))}onChangeResourcePools(e){return this.$scope.$evalAsync((()=>{this.selectedResourcePools=e}))}$onInit(){return this.$async((async()=>{try{this.state={registryId:this.$state.params.id},this.registry=await this.RegistryService.registry(this.state.registryId,this.endpoint.Id),this.registry.RegistryAccesses&&this.registry.RegistryAccesses[this.endpoint.Id]&&(this.savedResourcePools=this.registry.RegistryAccesses[this.endpoint.Id].Namespaces.map((e=>({value:e}))))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registry details")}try{const e=await this.KubernetesResourcePoolService.get();this.resourcePools=e.filter((e=>!r.default.isSystemNamespace(e.Namespace.Name)&&!this.savedResourcePools.find((({value:t})=>t===e.Namespace.Name)))).map((e=>({name:e.Namespace.Name,id:e.Namespace.Id})))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespaces")}}))}}a.$inject=["$async","$scope","$state","ModalService","EndpointService","Notifications","RegistryService","KubernetesResourcePoolService"]},83972:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesConfigMaps",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/api/v1"+(a?"/namespaces/:namespace":"")+"/configmaps/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"}})}}])},20017:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesControllerRevisions",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/apis/apps/v1"+(a?"/namespaces/:namespace":"")+"/controllerrevisions/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},38345:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesDaemonSets",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/apis/apps/v1"+(a?"/namespaces/:namespace":"")+"/daemonsets/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},rollback:{method:"PATCH",headers:{"Content-Type":"application/strategic-merge-patch+json"}},delete:{method:"DELETE"}})}}])},36566:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesDeployments",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/apis/apps/v1"+(a?"/namespaces/:namespace":"")+"/deployments/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},rollback:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},85333:function(){angular.module("portainer.kubernetes").factory("KubernetesEndpoints",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){"use strict";return function(r){return e(t+"/:endpointId/kubernetes/api/v1"+(r?"/namespaces/:namespace":"")+"/endpoints/:id",{endpointId:n.endpointID,namespace:r},{get:{method:"GET",ignoreLoadingBar:!0}})}}])},69673:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesEvents",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/api/v1"+(a?"/namespaces/:namespace":"")+"/events/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"}})}}])},71461:function(){angular.module("portainer.kubernetes").factory("KubernetesHealth",["$resource","API_ENDPOINT_ENDPOINTS",function(e,t){"use strict";return e(t+"/:id/kubernetes/healthz",{},{ping:{method:"GET",params:{id:"id"}}})}])},82475:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesNamespaces",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(){return e(t+"/:endpointId/kubernetes/api/v1/namespaces/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},getJSON:{method:"GET",headers:{Accept:"application/json"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"},status:{method:"GET",params:{action:"status"},ignoreLoadingBar:!0}})}}])},40912:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t,n){return e(t+"/:endpointId/nodes_limits",{endpointId:n.endpointID},{get:{method:"GET",ignoreLoadingBar:!0,transformResponse:e=>({data:JSON.parse(e)})}})}i.$inject=["$resource","API_ENDPOINT_KUBERNETES","EndpointProvider"],a().module("portainer.kubernetes").factory("KubernetesNodesLimits",i)},58732:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesPersistentVolumeClaims",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/api/v1"+(a?"/namespaces/:namespace":"")+"/persistentvolumeclaims/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},83699:function(e,t,n){"use strict";n.r(t);var r=n(25658),a=n(12944);angular.module("portainer.kubernetes").factory("KubernetesPods",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(i){return e(t+"/:endpointId/kubernetes/api/v1"+(i?"/namespaces/:namespace":"")+"/pods/:id/:action",{endpointId:n.endpointID,namespace:i},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},logs:{method:"GET",params:{action:"log"},transformResponse:a.logsHandler},evict:{method:"POST"}})}}])},93449:function(){function e(e){return e("/api/kubernetes/:endpointId/namespaces/:namespaceName/:action",{},{toggleSystem:{method:"PUT",params:{action:"system"}}})}e.$inject=["$resource"],angular.module("portainer.kubernetes").factory("KubernetesPortainerNamespaces",e)},81056:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesReplicaSets",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/apis/apps/v1"+(a?"/namespaces/:namespace":"")+"/replicasets/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},10129:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesResourceQuotas",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/api/v1"+(a?"/namespaces/:namespace":"")+"/resourcequotas/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},25658:function(e,t,n){"use strict";function r(e){return{data:e}}n.r(t),n.d(t,{rawResponse:function(){return r}})},61588:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesSecrets",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/api/v1"+(a?"/namespaces/:namespace":"")+"/secrets/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"}})}}])},68376:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesServices",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/api/v1"+(a?"/namespaces/:namespace":"")+"/services/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},13535:function(e,t,n){"use strict";n.r(t),n.d(t,{getServiceAccounts:function(){return a}});var r=n(6811);async function a(e,t){try{const{data:{items:n}}=await r.ZP.get(function(e,t){return`endpoints/${e}/kubernetes/api/v1/namespaces/${t}/serviceaccounts`}(e,t));return n}catch(e){throw(0,r.vs)(e)}}},55594:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesStatefulSets",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(a){return e(t+"/:endpointId/kubernetes/apis/apps/v1"+(a?"/namespaces/:namespace":"")+"/statefulsets/:id/:action",{endpointId:n.endpointID,namespace:a},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},rollback:{method:"PATCH",headers:{"Content-Type":"application/strategic-merge-patch+json"}},delete:{method:"DELETE"}})}}])},33415:function(e,t,n){"use strict";n.r(t);var r=n(25658);angular.module("portainer.kubernetes").factory("KubernetesStorage",["$resource","API_ENDPOINT_ENDPOINTS","EndpointProvider",function(e,t,n){return function(){return e(t+"/:endpointId/kubernetes/apis/storage.k8s.io/v1/storageclasses/:id/:action",{endpointId:n.endpointID},{get:{method:"GET",ignoreLoadingBar:!0},getYaml:{method:"GET",headers:{Accept:"application/yaml"},transformResponse:r.rawResponse,ignoreLoadingBar:!0},create:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH",headers:{"Content-Type":"application/json-patch+json"}},delete:{method:"DELETE"}})}}])},94358:function(e,t,n){"use strict";n.r(t);var r=n(4622),a=n.n(r),i=n(51235),s=n.n(i),o=n(55332),l=n.n(o),c=n(41952),d=n.n(c),u=n(46545),p=n.n(u),m=n(74362),g=n.n(m),h=n(25445),f=n.n(h),v=n(66539),b=n.n(v),y=n(29274),w=n.n(y),x=n(20023),S=n(7172),C=n(57947),k=n(65011),A=n(10293),P=n(59238),I=n(91920),$=n(12745),N=n(57637),T=n(1239),E=n(41247),j=n(22050),D=n(46021);class O{constructor(e,t,n,r,a,i,s,o,l,c,d,u,p){this.$async=e,this.Authentication=t,this.KubernetesDeploymentService=n,this.KubernetesDaemonSetService=r,this.KubernetesStatefulSetService=a,this.KubernetesServiceService=i,this.KubernetesSecretService=s,this.KubernetesPersistentVolumeClaimService=o,this.KubernetesNamespaceService=l,this.KubernetesPodService=c,this.KubernetesHistoryService=d,this.KubernetesHorizontalPodAutoScalerService=u,this.KubernetesIngressService=p,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.patchPartialAsync=this.patchPartialAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}_getApplicationApiService(e){let t;if(e instanceof P.KubernetesDeployment||e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.DEPLOYMENT)t=this.KubernetesDeploymentService;else if(e instanceof $.KubernetesDaemonSet||e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.DAEMONSET)t=this.KubernetesDaemonSetService;else if(e instanceof I.KubernetesStatefulSet||e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.STATEFULSET)t=this.KubernetesStatefulSetService;else{if(!(e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.POD))throw new x.Z("Unable to determine which association to use to retrieve API Service");t=this.KubernetesPodService}return t}async getAsync(e,t){const[n,r,a,i,s,o,l]=await Promise.allSettled([this.KubernetesDeploymentService.get(e,t),this.KubernetesDaemonSetService.get(e,t),this.KubernetesStatefulSetService.get(e,t),this.KubernetesPodService.get(e,t),this.KubernetesPodService.get(e),this.KubernetesHorizontalPodAutoScalerService.get(e),this.KubernetesIngressService.get(e)]);let c,d;if("fulfilled"===n.status)c=n,d=A.default.apiDeploymentToApplication;else if("fulfilled"===r.status)c=r,d=A.default.apiDaemonSetToApplication;else if("fulfilled"===a.status)c=a,d=A.default.apiStatefulSetToapplication;else{if("fulfilled"!==i.status)throw new x.Z("Unable to determine which association to use to convert application");c=i,d=A.default.apiPodToApplication}const u=await this.KubernetesServiceService.get(e),p=N.default.findApplicationBoundService(u,c.value.Raw),m=p?await this.KubernetesServiceService.get(e,p.metadata.name):{},g=N.default.findApplicationBoundServices(u,c.value.Raw),h=d(c.value.Raw,s.value,m.Raw,l.value);h.Yaml=c.value.Yaml,h.Raw=c.value.Raw,h.Pods=b()(h.Pods,(e=>j.default.apiToModel(e))),h.Containers=C.default.associateContainersAndApplication(h),h.Services=g;const f=T.KubernetesHorizontalPodAutoScalerHelper.findApplicationBoundScaler(o.value,h),v=f?await this.KubernetesHorizontalPodAutoScalerService.get(e,f.Name):void 0;return h.AutoScaler=v,h.Ingresses=l,await this.KubernetesHistoryService.get(h),m.Yaml&&(h.Yaml+="---\n"+m.Yaml),v&&v.Yaml&&(h.Yaml+="---\n"+v.Yaml),h}async getAllAsync(e){const t=e?[e]:b()(await this.KubernetesNamespaceService.get(),"Name"),n=(e,t,n,r,a)=>{const i=N.default.findApplicationBoundService(n,e),s=N.default.findApplicationBoundServices(n,e),o=t(e,r,i,a);return o.Containers=C.default.associateContainersAndApplication(o),o.Services=s,o},r=await Promise.all(b()(t,(async e=>{const[t,r,a,i,s,o,l]=await Promise.all([this.KubernetesDeploymentService.get(e),this.KubernetesDaemonSetService.get(e),this.KubernetesStatefulSetService.get(e),this.KubernetesServiceService.get(e),this.KubernetesPodService.get(e),this.KubernetesIngressService.get(e),this.KubernetesHorizontalPodAutoScalerService.get(e)]),c=b()(t,(e=>n(e,A.default.apiDeploymentToApplication,i,s,o))),u=b()(r,(e=>n(e,A.default.apiDaemonSetToApplication,i,s,o))),m=b()(a,(e=>n(e,A.default.apiStatefulSetToapplication,i,s,o))),h=f()(g()(c,"Pods"),g()(u,"Pods"),g()(m,"Pods")),v=p()(s,...h),y=b()(v,(e=>n(e,A.default.apiPodToApplication,i,s,o))),w=f()(c,u,m,y);return d()(w,(e=>{e.Pods=b()(e.Pods,(e=>j.default.apiToModel(e)))})),await Promise.all(d()(w,(async t=>{const n=T.KubernetesHorizontalPodAutoScalerHelper.findApplicationBoundScaler(l,t),r=n?await this.KubernetesHorizontalPodAutoScalerService.get(e,n.Name):void 0;t.AutoScaler=r,t.Ingresses=await this.KubernetesIngressService.get(e)}))),w})));return l()(r)}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){let[t,n,r,,a]=A.default.applicationFormValuesToApplication(e);r&&r.forEach((async e=>{try{await this.KubernetesServiceService.create(e)}catch(e){(0,D.cB)("Unable to create service",e)}}));const i=this._getApplicationApiService(t);if(t instanceof I.KubernetesStatefulSet){t.VolumeClaims=a;try{n=await this.KubernetesServiceService.create(n)}catch(e){(0,D.cB)("Unable to create service",e)}t.ServiceName=n.metadata.name}else{const e=b()(a,(e=>{if(!e.PreviousName&&!e.Id)return this.KubernetesPersistentVolumeClaimService.create(e)}));await Promise.all(p()(e,void 0))}if(e.AutoScaler.IsUsed&&e.DeploymentType!==S.KubernetesApplicationDeploymentTypes.GLOBAL){const n=T.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(t),r=E.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,n);await this.KubernetesHorizontalPodAutoScalerService.create(r)}await i.create(t)}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){const[n,r,a,,i]=A.default.applicationFormValuesToApplication(e),[o,l,c,,d]=A.default.applicationFormValuesToApplication(t),u=this._getApplicationApiService(n),p=this._getApplicationApiService(o);if(u!==p)return a&&await this.KubernetesServiceService.delete(a),await this.delete(n),await new Promise((e=>setTimeout(e,5e3))),await this.create(t);if(o instanceof I.KubernetesStatefulSet)try{await this.KubernetesServiceService.patch(r,l)}catch(e){(0,D.cB)("Unable to update service",e)}else{const e=b()(d,(e=>{if(!e.PreviousName&&!e.Id)return this.KubernetesPersistentVolumeClaimService.create(e);if(!e.Id){const t=s()(i,{Name:e.PreviousName});return this.KubernetesPersistentVolumeClaimService.patch(t,e)}}));await Promise.all(e)}await p.patch(n,o),0===a.length&&0!==c.length&&c.forEach((async e=>{try{await this.KubernetesServiceService.create(e)}catch(e){(0,D.cB)("Unable to create service",e)}})),0!==a.length&&0===c.length&&await this.KubernetesServiceService.deleteAll(a),0!==a.length&&0!==c.length&&(a.forEach((async e=>{s()(c,{Name:e.Name})||await this.KubernetesServiceService.deleteSingle(e)})),c.forEach((async e=>{const t=s()(a,{Name:e.Name});if(t)try{await this.KubernetesServiceService.patch(t,e)}catch(e){(0,D.cB)("Unable to update service",e)}else try{await this.KubernetesServiceService.create(e)}catch(e){(0,D.cB)("Unable to create service",e)}})));const m=T.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(o),g=E.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(t,m);if(e.AutoScaler.IsUsed){const r=T.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(n),a=E.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,r);t.AutoScaler.IsUsed?await this.KubernetesHorizontalPodAutoScalerService.patch(a,g):await this.KubernetesHorizontalPodAutoScalerService.delete(a)}else t.AutoScaler.IsUsed&&await this.KubernetesHorizontalPodAutoScalerService.create(g)}async patchPartialAsync(e,t){const n={Name:e.Name,Namespace:e.ResourcePool,StackName:e.StackName,Note:e.Note},r={Name:t.Name,Namespace:t.ResourcePool,StackName:t.StackName,Note:t.Note},a=this._getApplicationApiService(e);await a.patch(n,r)}patch(e,t,n=!1){return n?this.$async(this.patchPartialAsync,e,t):this.$async(this.patchAsync,e,t)}async deleteAsync(e){const t={Namespace:e.ResourcePool||e.Namespace,Name:e.Name};w().copy(t).Name=e.Name;const n=this._getApplicationApiService(e);await n.delete(t),n===this.KubernetesStatefulSetService&&(w().copy(t).Name=e instanceof I.KubernetesStatefulSet?e.ServiceName:e.HeadlessServiceName),e.ServiceType&&await this.KubernetesServiceService.delete(e.Services),a()(e.AutoScaler)||await this.KubernetesHorizontalPodAutoScalerService.delete(e.AutoScaler)}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t){const n=k.default.getPatchPayload(e,t),r=this._getApplicationApiService(e);await r.rollback(e.ResourcePool,e.Name,n)}rollback(e,t){return this.$async(this.rollbackAsync,e,t)}}O.$inject=["$async","Authentication","KubernetesDeploymentService","KubernetesDaemonSetService","KubernetesStatefulSetService","KubernetesServiceService","KubernetesSecretService","KubernetesPersistentVolumeClaimService","KubernetesNamespaceService","KubernetesPodService","KubernetesHistoryService","KubernetesHorizontalPodAutoScalerService","KubernetesIngressService"],t.default=O,w().module("portainer.kubernetes").service("KubernetesApplicationService",O)},45819:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(6632),s=n.n(i),o=n(29274),l=n.n(o),c=n(20023),d=n(40654),u=n(82469),p=n(13978);class m{constructor(e,t){this.$async=e,this.KubernetesConfigMaps=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}getAccess(e,t){return this.$async((async()=>{try{const n=new u.KubernetesCommonParams;n.id=t;const r=await this.KubernetesConfigMaps(e).get(n).$promise;return d.default.apiToPortainerAccessConfigMap(r)}catch(e){if(404===e.status)return new p.KubernetesPortainerAccessConfigMap;throw new c.Z("Unable to retrieve Portainer accesses",e)}}))}createAccess(e){return this.$async((async()=>{try{const t=d.default.createAccessPayload(e),n={},r=t.metadata.namespace,a=await this.KubernetesConfigMaps(r).create(n,t).$promise;return d.default.apiToPortainerAccessConfigMap(a)}catch(e){throw new c.Z("Unable to create Portainer accesses",e)}}))}updateAccess(e){return this.$async((async()=>{try{if(!e.Id)return await this.createAccess(e);const t=d.default.updateAccessPayload(e),n=new u.KubernetesCommonParams;n.id=t.metadata.name;const r=t.metadata.namespace,a=await this.KubernetesConfigMaps(r).update(n,t).$promise;return d.default.apiToPortainerAccessConfigMap(a)}catch(e){throw new c.Z("Unable to update Portainer accesses",e)}}))}async getAsync(e,t){try{const n=new u.KubernetesCommonParams;n.id=t;const[r,a]=await Promise.allSettled([this.KubernetesConfigMaps(e).get(n).$promise,this.KubernetesConfigMaps(e).getYaml(n).$promise]);if(404===s()(r,"reason.status")&&404===s()(a,"reason.status"))return d.default.defaultConfigMap(e,t);if(r.value)return d.default.apiToConfigMap(r.value,a.value);throw new c.Z("Unable to retrieve config map ",t)}catch(n){if(404===n.status)return d.default.defaultConfigMap(e,t);throw new c.Z("Unable to retrieve config map",n)}}async getAllAsync(e){try{const t=await this.KubernetesConfigMaps(e).get().$promise;return a()(t.items,(e=>d.default.apiToConfigMap(e)))}catch(e){throw new c.Z("Unable to retrieve config maps",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t=d.default.createPayload(e),n={},r=t.metadata.namespace,a=await this.KubernetesConfigMaps(r).create(n,t).$promise;return d.default.apiToConfigMap(a)}catch(e){throw new c.Z("Unable to create config map",e)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e){try{if(!e.Id)return await this.create(e);const t=d.default.updatePayload(e),n=new u.KubernetesCommonParams;n.id=t.metadata.name;const r=t.metadata.namespace,a=await this.KubernetesConfigMaps(r).update(n,t).$promise;return d.default.apiToConfigMap(a)}catch(e){throw new c.Z("Unable to update config map",e)}}update(e){return this.$async(this.updateAsync,e)}async deleteAsync(e){try{const t=new u.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesConfigMaps(n).delete(t).$promise}catch(e){throw new c.Z("Unable to delete config map",e)}}delete(e){return this.$async(this.deleteAsync,e)}}m.$inject=["$async","KubernetesConfigMaps"],t.default=m,l().module("portainer.kubernetes").service("KubernetesConfigMapService",m)},81567:function(e,t,n){"use strict";n.r(t);var r=n(55332),a=n.n(r),i=n(25445),s=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c),u=n(10241),p=n(40654),m=n(52341),g=n(82434),h=n(61515);class f{constructor(e,t,n,r,a){this.$async=e,this.Authentication=t,this.KubernetesNamespaceService=n,this.KubernetesConfigMapService=r,this.KubernetesSecretService=a,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){const[n,r]=await Promise.allSettled([this.KubernetesConfigMapService.get(e,t),this.KubernetesSecretService.get(e,t)]);let a;return"fulfilled"===r.status?(a=u.default.secretToConfiguration(r.value),a):(a=u.default.configMapToConfiguration(n.value),a)}async getAllAsync(e){const t=e?[e]:l()(await this.KubernetesNamespaceService.get(),"Name"),n=await Promise.all(l()(t,(async e=>{const[t,n]=await Promise.all([this.KubernetesConfigMapService.get(e),this.KubernetesSecretService.get(e)]),r=l()(n,(e=>u.default.secretToConfiguration(e))),a=l()(t,(e=>u.default.configMapToConfiguration(e)));return s()(a,r)})));return a()(n)}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){if(e.ConfigurationOwner=h.default.ownerToLabel(e.ConfigurationOwner),e.Kind===g.KubernetesConfigurationKinds.CONFIGMAP){const t=p.default.configurationFormValuesToConfigMap(e);await this.KubernetesConfigMapService.create(t)}else{const t=m.default.configurationFormValuesToSecret(e);await this.KubernetesSecretService.create(t)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e,t){if(e.Kind===g.KubernetesConfigurationKinds.CONFIGMAP){const n=p.default.configurationFormValuesToConfigMap(e);n.ConfigurationOwner=t.ConfigurationOwner,await this.KubernetesConfigMapService.update(n)}else{const n=m.default.configurationFormValuesToSecret(e);n.ConfigurationOwner=t.ConfigurationOwner,await this.KubernetesSecretService.update(n)}}update(e,t){return this.$async(this.updateAsync,e,t)}async deleteAsync(e){e.Kind==g.KubernetesConfigurationKinds.CONFIGMAP?await this.KubernetesConfigMapService.delete(e):await this.KubernetesSecretService.delete(e)}delete(e){return this.$async(this.deleteAsync,e)}}f.$inject=["$async","Authentication","KubernetesNamespaceService","KubernetesConfigMapService","KubernetesSecretService"],t.default=f,d().module("portainer.kubernetes").service("KubernetesConfigurationService",f)},40917:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023);class s{constructor(e,t){this.$async=e,this.KubernetesControllerRevisions=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{return(await this.KubernetesControllerRevisions(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve ControllerRevisions",e)}}get(e){return this.$async(this.getAllAsync,e)}}s.$inject=["$async","KubernetesControllerRevisions"],t.default=s,a().module("portainer.kubernetes").service("KubernetesControllerRevisionService",s)},42183:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023),s=n(82469),o=n(12512);class l{constructor(e,t){this.$async=e,this.KubernetesDaemonSets=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t;const[r,a]=await Promise.all([this.KubernetesDaemonSets(e).get(n).$promise,this.KubernetesDaemonSets(e).getYaml(n).$promise]);return{Raw:r,Yaml:a.data}}catch(e){throw new i.Z("Unable to retrieve DaemonSet",e)}}async getAllAsync(e){try{return(await this.KubernetesDaemonSets(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve DaemonSets",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),r=n.metadata.namespace;return await this.KubernetesDaemonSets(r).create(t,n).$promise}catch(e){throw new i.Z("Unable to create daemonset",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t.Name;const r=t.Namespace,a=o.default.patchPayload(e,t);if(!a.length)return;return await this.KubernetesDaemonSets(r).patch(n,a).$promise}catch(e){throw new i.Z("Unable to patch daemonSet",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesDaemonSets(n).delete(t).$promise}catch(e){throw new i.Z("Unable to remove daemonset",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const r=new s.KubernetesCommonParams;r.id=t,await this.KubernetesDaemonSets(e).rollback(r,n).$promise}catch(e){throw new i.Z("Unable to rollback daemonset",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=["$async","KubernetesDaemonSets"],t.default=l,a().module("portainer.kubernetes").service("KubernetesDaemonSetService",l)},18354:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023),s=n(82469),o=n(95929);class l{constructor(e,t){this.$async=e,this.KubernetesDeployments=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t;const[r,a]=await Promise.all([this.KubernetesDeployments(e).get(n).$promise,this.KubernetesDeployments(e).getYaml(n).$promise]);return{Raw:r,Yaml:a.data}}catch(e){throw new i.Z("Unable to retrieve Deployment",e)}}async getAllAsync(e){try{return(await this.KubernetesDeployments(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve Deployments",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),r=n.metadata.namespace;return await this.KubernetesDeployments(r).create(t,n).$promise}catch(e){throw new i.Z("Unable to create deployment",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t.Name;const r=t.Namespace,a=o.default.patchPayload(e,t);if(!a.length)return;return await this.KubernetesDeployments(r).patch(n,a).$promise}catch(e){throw new i.Z("Unable to patch deployment",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesDeployments(n).delete(t).$promise}catch(e){throw new i.Z("Unable to remove deployment",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const r=new s.KubernetesCommonParams;r.id=t,await this.KubernetesDeployments(e).rollback(r,n).$promise}catch(e){throw new i.Z("Unable to rollback deployment",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=["$async","KubernetesDeployments"],t.default=l,a().module("portainer.kubernetes").service("KubernetesDeploymentService",l)},3855:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(29274),s=n.n(i),o=n(20023),l=n(43083);class c{constructor(e,t){this.$async=e,this.KubernetesEvents=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{const t=await this.KubernetesEvents(e).get().$promise;return a()(t.items,(e=>l.default.apiToEvent(e)))}catch(e){throw new o.Z("Unable to retrieve events",e)}}get(e){return this.$async(this.getAllAsync,e)}}c.$inject=["$async","KubernetesEvents"],t.default=c,s().module("portainer.kubernetes").service("KubernetesEventService",c)},24717:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023);class s{constructor(e,t){this.$async=e,this.KubernetesHealth=t,this.pingAsync=this.pingAsync.bind(this)}async pingAsync(e){try{return await this.KubernetesHealth.ping({id:e}).$promise}catch(e){throw new i.Z("Unable to retrieve environment health",e)}}ping(e){return this.$async(this.pingAsync,e)}}s.$inject=["$async","KubernetesHealth"],t.default=s,a().module("portainer.kubernetes").service("KubernetesHealthService",s)},18842:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023),s=n(70224),o=n(7172);class l{constructor(e,t,n){this.$async=e,this.KubernetesReplicaSetService=t,this.KubernetesControllerRevisionService=n,this.getAsync=this.getAsync.bind(this)}async getAsync(e){try{const t=e.ResourcePool;let n;switch(e.ApplicationType){case o.KubernetesApplicationTypes.DEPLOYMENT:n=await this.KubernetesReplicaSetService.get(t);break;case o.KubernetesApplicationTypes.DAEMONSET:case o.KubernetesApplicationTypes.STATEFULSET:n=await this.KubernetesControllerRevisionService.get(t);break;case o.KubernetesApplicationTypes.POD:n=[];break;default:throw new i.Z("Unable to determine which association to use for history")}if(n.length){const[t,r]=s.default.getRevisions(n,e);e.CurrentRevision=t,e.Revisions=r}return e}catch(e){throw new i.Z("",e)}}get(e){return this.$async(this.getAsync,e)}}l.$inject=["$async","KubernetesReplicaSetService","KubernetesControllerRevisionService"],t.default=l,a().module("portainer.kubernetes").service("KubernetesHistoryService",l)},44987:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(29274),s=n.n(i),o=n(20023),l=n(82469),c=n(2544),d=n(22823),u=n(67808);class p{constructor(e,t){this.$async=e,this.KubernetesNamespaces=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this),this.getJSONAsync=this.getJSONAsync.bind(this),this.updateFinalizeAsync=this.updateFinalizeAsync.bind(this)}async getAsync(e){try{const t=new l.KubernetesCommonParams;t.id=e,await this.KubernetesNamespaces().status(t).$promise;const[n,r]=await Promise.all([this.KubernetesNamespaces().get(t).$promise,this.KubernetesNamespaces().getYaml(t).$promise]),a=c.default.apiToNamespace(n,r);return(0,d.updateNamespaces)([a]),a}catch(e){throw new o.Z("Unable to retrieve namespace",e)}}async getJSONAsync(e){try{const t=new l.KubernetesCommonParams;return t.id=e,await this.KubernetesNamespaces().status(t).$promise,await this.KubernetesNamespaces().getJSON(t).$promise}catch(e){throw new o.Z("Unable to retrieve namespace",e)}}async updateFinalizeAsync(e){try{return await this.KubernetesNamespaces().update({id:e.metadata.name,action:"finalize"},e).$promise}catch(e){throw new o.Z("Unable to update namespace",e)}}async getAllAsync(){try{const e=await this.KubernetesNamespaces().get().$promise,t=a()(e.items,(e=>this.KubernetesNamespaces().status({id:e.metadata.name}).$promise)),n=await(0,u.default)(t),r=a()(n.fulfilled,(e=>c.default.apiToNamespace(e)));return(0,d.updateNamespaces)(r),r}catch(e){throw new o.Z("Unable to retrieve namespaces",e)}}get(e){return e?this.$async(this.getAsync,e):this.$async(this.getAllAsync)}async createAsync(e){try{const t=c.default.createPayload(e),n={};return await this.KubernetesNamespaces().create(n,t).$promise}catch(e){throw new o.Z("Unable to create namespace",e)}}create(e){return this.$async(this.createAsync,e)}async deleteAsync(e){try{const t=new l.KubernetesCommonParams;t.id=e.Name,await this.KubernetesNamespaces().delete(t).$promise}catch(e){throw new o.Z("Unable to delete namespace",e)}}delete(e){return this.$async(this.deleteAsync,e)}}p.$inject=["$async","KubernetesNamespaces"],t.default=p,s().module("portainer.kubernetes").service("KubernetesNamespaceService",p)},73774:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023),s=n(74335);class o{constructor(e){this.KubernetesNodesLimits=e}async get(){try{const e=await this.KubernetesNodesLimits.get().$promise;return new s.KubernetesNodesLimits(e.data)}catch(e){throw new i.Z("Unable to retrieve nodes limits",e)}}}o.$inject=["KubernetesNodesLimits"],t.default=o,a().module("portainer.kubernetes").service("KubernetesNodesLimitsService",o)},79362:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(29274),s=n.n(i),o=n(20023),l=n(56636),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesPersistentVolumeClaims=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t,n){try{const r=new c.KubernetesCommonParams;r.id=n;const[a,i]=await Promise.all([this.KubernetesPersistentVolumeClaims(e).get(r).$promise,this.KubernetesPersistentVolumeClaims(e).getYaml(r).$promise]);return l.default.apiToPersistentVolumeClaim(a,t,i)}catch(e){throw new o.Z("Unable to retrieve persistent volume claim",e)}}async getAllAsync(e,t){try{const n=await this.KubernetesPersistentVolumeClaims(e).get().$promise;return a()(n.items,(e=>l.default.apiToPersistentVolumeClaim(e,t)))}catch(e){throw new o.Z("Unable to retrieve persistent volume claims",e)}}get(e,t,n){return n?this.$async(this.getAsync,e,t,n):this.$async(this.getAllAsync,e,t)}async createAsync(e){try{const t={},n=l.default.createPayload(e),r=n.metadata.namespace;return await this.KubernetesPersistentVolumeClaims(r).create(t,n).$promise}catch(e){throw new o.Z("Unable to create persistent volume claim",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=t.Name;const r=t.Namespace,a=l.default.patchPayload(e,t);if(!a.length)return;return await this.KubernetesPersistentVolumeClaims(r).patch(n,a).$promise}catch(e){throw new o.Z("Unable to patch persistent volume claim",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new c.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesPersistentVolumeClaims(n).delete(t).$promise}catch(e){throw new o.Z("Unable to delete persistent volume claim",e)}}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=["$async","KubernetesPersistentVolumeClaims"],t.default=d,s().module("portainer.kubernetes").service("KubernetesPersistentVolumeClaimService",d)},59010:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023);class s{constructor(e,t){this.$async=e,this.KubernetesReplicaSets=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{return(await this.KubernetesReplicaSets(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve ReplicaSets",e)}}get(e){return this.$async(this.getAllAsync,e)}}s.$inject=["$async","KubernetesReplicaSets"],t.default=s,a().module("portainer.kubernetes").service("KubernetesReplicaSetService",s)},22539:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesResourcePoolService:function(){return C}});var r=n(25445),a=n.n(r),i=n(67386),s=n.n(i),o=n(66900),l=n.n(o),c=n(55332),d=n.n(c),u=n(46545),p=n.n(u),m=n(51235),g=n.n(m),h=n(83432),f=n.n(h),v=n(66539),b=n.n(v),y=n(29274),w=n.n(y),x=n(57911),S=n(21458);function C(e,t,n,r,i,o){return{get:function(t){return t?e(c,t):e(u)},create:function(a){return e((async()=>{const[e,s,o,l]=x.default.formValuesToResourcePool(a);await n.create(e),s&&await r.create(s);const c=b()(o,(e=>i.create(e)));await Promise.all(c);const d=a.EndpointId,u=b()(l,(e=>t.updateRegistryAccess(d,e.Id,e.RegistryAccesses[d])));await Promise.all(u)}))},patch:function(n,o){return e((async()=>{const[,e,c,u]=x.default.formValuesToResourcePool(n),[,m,h,v]=x.default.formValuesToResourcePool(o);e&&m?await r.patch(e,m):!e&&m?await r.create(m):e&&!m&&await r.delete(e);const y=f()(h,(e=>!g()(c,{Name:e.Name}))),S=f()(c,(e=>!g()(h,{Name:e.Name}))),C=p()(h,...y),k=b()(y,(e=>i.create(e))),A=b()(S,(e=>i.delete(e.Namespace,e.Name))),P=b()(C,(e=>{const t=g()(c,{Name:e.Name});return e.Paths=w().copy(t.Paths),e.PreviousHost=t.Host,i.patch(t,e)})),I=d()([k,A,P]);await Promise.all(I);const $=o.EndpointId,N=l()(u,v,"Id"),T=p()(u,...N),E=b()(v,(e=>t.updateRegistryAccess($,e.Id,e.RegistryAccesses[$]))),j=b()(T,(e=>(s()(e.RegistryAccesses[$].Namespaces,o.Name),t.updateRegistryAccess($,e.Id,e.RegistryAccesses[$]))));await Promise.all(a()(E,j))}))},delete:function(t){return e((async()=>{await n.delete(t.Namespace)}))},toggleSystem:function(e,t,n){return o.toggleSystem({namespaceName:t,endpointId:e},{system:n}).$promise}};async function c(e){const t=await n.get(e),[a]=await Promise.allSettled([r.get(e,S.default.generateResourceQuotaName(e))]),i=x.default.apiToResourcePool(t);return"fulfilled"===a.status&&(i.Quota=a.value,i.Yaml+="---\n"+a.value.Yaml),i}async function u(){const e=await n.get();return await Promise.all(b()(e,(async e=>{const t=e.Name,[n]=await Promise.allSettled([r.get(t,S.default.generateResourceQuotaName(t))]),a=x.default.apiToResourcePool(e);return"fulfilled"===n.status&&(a.Quota=n.value,a.Yaml+="---\n"+n.value.Yaml),a})))}}C.$inject=["$async","EndpointService","KubernetesNamespaceService","KubernetesResourceQuotaService","KubernetesIngressService","KubernetesPortainerNamespaces"],w().module("portainer.kubernetes").service("KubernetesResourcePoolService",C)},85927:function(e,t,n){"use strict";n.r(t),n.d(t,{KubernetesResourceQuotaService:function(){return d}});var r=n(66539),a=n.n(r),i=n(29274),s=n.n(i),o=n(20023),l=n(82469),c=n(57456);function d(e,t){return{get:function(t,a){return a?e(n,t,a):e(r,t)},create:function(n){return e((async()=>{try{const e=c.default.createPayload(n),r=e.metadata.namespace,a={},i=await t(r).create(a,e).$promise;return c.default.apiToResourceQuota(i)}catch(e){throw new o.Z("Unable to create quota",e)}}))},patch:function(n,r){return e((async()=>{try{const e=new l.KubernetesCommonParams;e.id=r.Name;const a=r.Namespace,i=c.default.patchPayload(n,r);if(!i.length)return;return await t(a).patch(e,i).$promise}catch(e){throw new o.Z("Unable to update resource quota",e)}}))},delete:function(n){return e((async()=>{try{const e=new l.KubernetesCommonParams;e.id=n.Name,await t(n.Namespace).delete(e).$promise}catch(e){throw new o.Z("Unable to delete quota",e)}}))}};async function n(e,n){try{const r=new l.KubernetesCommonParams;r.id=n;const[a,i]=await Promise.all([t(e).get(r).$promise,t(e).getYaml(r).$promise]);return c.default.apiToResourceQuota(a,i)}catch(e){throw new o.Z("Unable to retrieve resource quota",e)}}async function r(e){try{const n=await t(e).get().$promise;return a()(n.items,(e=>c.default.apiToResourceQuota(e)))}catch(e){throw new o.Z("Unable to retrieve resource quotas",e)}}}d.$inject=["$async","KubernetesResourceQuotas"],s().module("portainer.kubernetes").service("KubernetesResourceQuotaService",d)},76354:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(29274),s=n.n(i),o=n(20023),l=n(52341),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesSecrets=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=t;const[r,a]=await Promise.all([this.KubernetesSecrets(e).get(n).$promise,this.KubernetesSecrets(e).getYaml(n).$promise]);return l.default.apiToSecret(r,a)}catch(e){throw new o.Z("Unable to retrieve secret",e)}}async getAllAsync(e){try{const t=await this.KubernetesSecrets(e).get().$promise;return a()(t.items,(e=>l.default.apiToSecret(e)))}catch(e){throw new o.Z("Unable to retrieve secrets",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t=l.default.createPayload(e),n=t.metadata.namespace,r={};return await this.KubernetesSecrets(n).create(r,t).$promise}catch(e){throw new o.Z("Unable to create secret",e)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e){try{const t=l.default.updatePayload(e),n=new c.KubernetesCommonParams;n.id=t.metadata.name;const r=t.metadata.namespace,a=await this.KubernetesSecrets(r).update(n,t).$promise;return l.default.apiToSecret(a)}catch(e){throw new o.Z("Unable to update secret",e)}}update(e){return this.$async(this.updateAsync,e)}async deleteAsync(e){try{const t=new c.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesSecrets(n).delete(t).$promise}catch(e){throw new o.Z("Unable to delete secret",e)}}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=["$async","KubernetesSecrets"],t.default=d,s().module("portainer.kubernetes").service("KubernetesSecretService",d)},7055:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023),s=n(82469),o=n(86998);class l{constructor(e,t){this.$async=e,this.KubernetesServices=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this),this.deleteSingleAsync=this.deleteSingleAsync.bind(this),this.deleteAllAsync=this.deleteAllAsync.bind(this)}async getAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t;const[r,a]=await Promise.all([this.KubernetesServices(e).get(n).$promise,this.KubernetesServices(e).getYaml(n).$promise]);return{Raw:r,Yaml:a.data}}catch(e){throw new i.Z("Unable to retrieve service",e)}}async getAllAsync(e){try{return(await this.KubernetesServices(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve services",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),r=n.metadata.namespace;return await this.KubernetesServices(r).create(t,n).$promise}catch(e){throw new i.Z("Unable to create service",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t.Name;const r=t.Namespace,a=o.default.patchPayload(e,t);if(!a.length)return;return await this.KubernetesServices(r).patch(n,a).$promise}catch(e){throw new i.Z("Unable to patch service",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){e.forEach((async e=>{try{const t=new s.KubernetesCommonParams;t.id=e.metadata&&e.metadata.name||e.Name;const n=e.metadata&&e.metadata.namespace||e.Namespace;await this.KubernetesServices(n).delete(t).$promise}catch(e){console.error("unable to remove service",e)}}))}delete(e){return this.$async(this.deleteAsync,e)}async deleteAllAsync(e){e.forEach((async e=>{try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesServices(n).delete(t).$promise}catch(e){console.error("unable to remove service",e)}}))}deleteAll(e){return this.$async(this.deleteAllAsync,e)}async deleteSingleAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesServices(n).delete(t).$promise}catch(e){console.error("unable to remove service",e)}}deleteSingle(e){return this.$async(this.deleteSingleAsync,e)}}l.$inject=["$async","KubernetesServices"],t.default=l,a().module("portainer.kubernetes").service("KubernetesServiceService",l)},4063:function(e,t,n){"use strict";n.r(t);var r=n(46545),a=n.n(r),i=n(46006),s=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c);class u{constructor(e,t){this.$async=e,this.KubernetesApplicationService=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){const t=await this.KubernetesApplicationService.get(e),n=l()(t,(e=>e.StackName));return s()(a()(n,"-",""))}get(e){return this.$async(this.getAllAsync,e)}}u.$inject=["$async","KubernetesApplicationService"],t.default=u,d().module("portainer.kubernetes").service("KubernetesStackService",u)},4165:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20023),s=n(82469),o=n(15986);class l{constructor(e,t,n){this.$async=e,this.KubernetesStatefulSets=t,this.KubernetesServiceService=n,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t;const[r,a]=await Promise.all([this.KubernetesStatefulSets(e).get(n).$promise,this.KubernetesStatefulSets(e).getYaml(n).$promise]),i={Raw:r,Yaml:a.data},o=r.spec.serviceName;if(o)try{const t=await this.KubernetesServiceService.get(e,o);i.Yaml+="---\n"+t.Yaml}catch(e){}return i}catch(e){throw new i.Z("Unable to retrieve StatefulSet",e)}}async getAllAsync(e){try{return(await this.KubernetesStatefulSets(e).get().$promise).items}catch(e){throw new i.Z("Unable to retrieve StatefulSets",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),r=n.metadata.namespace;return await this.KubernetesStatefulSets(r).create(t,n).$promise}catch(e){throw new i.Z("Unable to create statefulSet",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t.Name;const r=t.Namespace,a=o.default.patchPayload(e,t);if(!a.length)return;return await this.KubernetesStatefulSets(r).patch(n,a).$promise}catch(e){throw new i.Z("Unable to patch statefulSet",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesStatefulSets(n).delete(t).$promise}catch(e){throw new i.Z("Unable to remove statefulSet",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const r=new s.KubernetesCommonParams;r.id=t,await this.KubernetesStatefulSets(e).rollback(r,n).$promise}catch(e){throw new i.Z("Unable to rollback statefulSet",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=["$async","KubernetesStatefulSets","KubernetesServiceService"],t.default=l,a().module("portainer.kubernetes").service("KubernetesStatefulSetService",l)},36552:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(29274),s=n.n(i),o=n(20023),l=n(17981),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesStorage=t,this.getAsync=this.getAsync.bind(this),this.patchAsync=this.patchAsync.bind(this)}async getAsync(e){try{const t={endpointId:e},n=await this.KubernetesStorage().get(t).$promise;return a()(n.items,(e=>l.default.apiToStorageClass(e)))}catch(e){throw new o.Z("Unable to retrieve storage classes",e)}}get(e){return this.$async(this.getAsync,e)}async patchAsync(e,t,n){try{const r=new c.KubernetesCommonParams;r.id=n.Name,r.endpointId=e;const a=l.default.patchPayload(t,n);await this.KubernetesStorage().patch(r,a).$promise}catch(e){throw new o.Z("Unable to patch storage class",e)}}patch(e,t,n){return this.$async(this.patchAsync,e,t,n)}}d.$inject=["$async","KubernetesStorage"],t.default=d,s().module("portainer.kubernetes").service("KubernetesStorageService",d)},78085:function(e,t,n){"use strict";n.r(t);var r=n(55332),a=n.n(r),i=n(66539),s=n.n(i),o=n(29274),l=n.n(o),c=n(92192);class d{constructor(e,t,n,r){this.$async=e,this.KubernetesResourcePoolService=t,this.KubernetesApplicationService=n,this.KubernetesPersistentVolumeClaimService=r,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t,n){const[r,a]=await Promise.all([this.KubernetesPersistentVolumeClaimService.get(e,t,n),this.KubernetesResourcePoolService.get(e)]);return c.default.pvcToVolume(r,a)}async getAllAsync(e,t){const n=await this.KubernetesResourcePoolService.get(e),r=n instanceof Array?n:[n],i=await Promise.all(s()(r,(async e=>{const n=await this.KubernetesPersistentVolumeClaimService.get(e.Namespace.Name,t);return s()(n,(t=>c.default.pvcToVolume(t,e)))})));return a()(i)}get(e,t,n){return n?this.$async(this.getAsync,e,t,n):this.$async(this.getAllAsync,e,t)}async deleteAsync(e){await this.KubernetesPersistentVolumeClaimService.delete(e.PersistentVolumeClaim)}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=["$async","KubernetesResourcePoolService","KubernetesApplicationService","KubernetesPersistentVolumeClaimService"],t.default=d,l().module("portainer.kubernetes").service("KubernetesVolumeService",d)},22823:function(e,t,n){"use strict";n.r(t),n.d(t,{isSystem:function(){return a},updateNamespaces:function(){return i}});const r={};function a(e){return r[e]&&r[e].IsSystem}function i(e){e.forEach((e=>r[e.Name]=e))}},86393:function(e,t,n){const r=n(79573);angular.module("portainer.kubernetes").component("kubernetesApplicationsView",{templateUrl:r,controller:"KubernetesApplicationsController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},55495:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(71204),s=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c),u=n(41208),p=n(57947),m=n(51780),g=n(7172);class h{constructor(e,t,n,r,a,i,s,o,l,c){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesApplicationService=r,this.HelmService=a,this.KubernetesConfigurationService=i,this.Authentication=s,this.ModalService=o,this.LocalStorage=l,this.StackService=c,this.onInit=this.onInit.bind(this),this.getApplications=this.getApplications.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.removeStacksAction=this.removeStacksAction.bind(this),this.removeStacksActionAsync=this.removeStacksActionAsync.bind(this),this.onPublishingModeClick=this.onPublishingModeClick.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab("applications",e)}async removeStacksActionAsync(e){let t=e.length;for(const n of e)try{if(n.Applications.some((e=>!e.ApplicationKind))){const e=l()(n.Applications,(e=>this.KubernetesApplicationService.delete(e)));await Promise.all(e)}else{const e=n.Applications.find((e=>null!==e.StackId));e&&e.StackId&&await this.StackService.remove({Id:e.StackId},!1,this.endpoint.Id)}this.Notifications.success("Stack successfully removed",n.Name),s()(this.state.stacks,{Name:n.Name})}catch(e){this.Notifications.error("Failure",e,"Unable to remove stack")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeStacksAction(e){this.ModalService.confirmDeletion("Are you sure that you want to remove the selected stack(s) ? This will remove all the applications associated to the stack(s).",(t=>{if(t)return this.$async(this.removeStacksActionAsync,e)}))}async removeActionAsync(e){let t=e.length;for(const n of e)try{if(n.ApplicationType===g.KubernetesApplicationTypes.HELM)await this.HelmService.uninstall(this.endpoint.Id,n);else if(await this.KubernetesApplicationService.delete(n),n.Metadata.labels[g.KubernetesPortainerApplicationStackNameLabel]){const e=this.state.stacks.find((e=>e.Name===n.StackName)),t=e.Applications.indexOf(n);e.Applications.splice(t,1),0===e.Applications.length&&n.StackId&&await this.StackService.remove({Id:n.StackId},!1,this.endpoint.Id)}this.Notifications.success("Application successfully removed",n.Name);const e=this.state.applications.indexOf(n);this.state.applications.splice(e,1)}catch(e){this.Notifications.error("Failure",e,"Unable to remove application")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion("Do you want to remove the selected application(s)?",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}onPublishingModeClick(e){this.state.activeTab=1,a()(this.state.ports,(t=>{t.Expanded=!1,t.Highlighted=!1,t.Name===e.Name&&t.Ports.length>1&&(t.Expanded=!0,t.Highlighted=!0)}))}async getApplicationsAsync(){try{const[e,t]=await Promise.all([this.KubernetesApplicationService.get(),this.KubernetesConfigurationService.get()]),n=m.default.getApplicationConfigurations(e,t),{helmApplications:r,nonHelmApplications:a}=p.default.getNestedApplications(n);this.state.applications=[...r,...a],this.state.stacks=u.default.stacksFromApplications(e),this.state.ports=p.default.portMappingsFromApplications(e)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}}getApplications(){return this.$async(this.getApplicationsAsync)}async onInit(){this.state={activeTab:this.LocalStorage.getActiveTab("applications"),currentName:this.$state.$current.name,isAdmin:this.Authentication.isAdmin(),viewReady:!1,applications:[],stacks:[],ports:[]},await this.getApplications(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("applications",0)}}h.$inject=["$async","$state","Notifications","KubernetesApplicationService","HelmService","KubernetesConfigurationService","Authentication","ModalService","LocalStorage","StackService"],t.default=h,d().module("portainer.kubernetes").controller("KubernetesApplicationsController",h)},51819:function(e,t,n){const r=n(65998);angular.module("portainer.kubernetes").component("kubernetesApplicationConsoleView",{templateUrl:r,controller:"KubernetesApplicationConsoleController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},33243:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(96049),s=n(50433);class o{constructor(e,t,n,r,a){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesApplicationService=r,this.LocalStorage=a,this.onInit=this.onInit.bind(this)}disconnect(){this.state.socket.close(),this.state.term.dispose(),this.state.connected=!1}configureSocketAndTerminal(e,t){e.onopen=function(){const e=document.getElementById("terminal-container");t.open(e),t.setOption("cursorBlink",!0),t.focus()},t.on("data",(function(t){e.send(t)})),e.onmessage=function(e){t.write(e.data)},e.onerror=function(e){this.disconnect(),this.Notifications.error("Failure",e,"Websocket connection error")}.bind(this),this.state.socket.onclose=function(){this.disconnect()}.bind(this),this.state.connected=!0}connectConsole(){const e={token:this.LocalStorage.getJWT(),endpointId:this.endpoint.Id,namespace:this.application.ResourcePool,podName:this.podName,containerName:this.containerName,command:this.state.command};let t=(window.location.origin.startsWith("http")?`${window.location.origin}${(0,s.baseHref)()}`:(0,s.baseHref)())+"api/websocket/pod?"+Object.keys(e).map((t=>t+"="+e[t])).join("&");t=t.indexOf("https")>-1?t.replace("https://","wss://"):t.replace("http://","ws://"),this.state.socket=new WebSocket(t),this.state.term=new i.o,this.configureSocketAndTerminal(this.state.socket,this.state.term)}async onInit(){const e=["/bin/bash","/bin/sh"];this.state={actionInProgress:!1,availableCommands:e,command:e[1],connected:!1,socket:null,term:null,viewReady:!1};const t=this.$transition$.params().pod,n=this.$transition$.params().name,r=this.$transition$.params().namespace,a=this.$transition$.params().container;this.podName=t,this.containerName=a;try{this.application=await this.KubernetesApplicationService.get(r,n)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application logs")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}o.$inject=["$async","$state","Notifications","KubernetesApplicationService","LocalStorage"],t.default=o,a().module("portainer.kubernetes").controller("KubernetesApplicationConsoleController",o)},58791:function(e,t,n){const r=n(1866);angular.module("portainer.kubernetes").component("kubernetesCreateApplicationView",{templateUrl:r,controller:"KubernetesCreateApplicationController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},8924:function(e,t,n){"use strict";n.r(t);var r=n(40714),a=n.n(r),i=n(71204),s=n.n(i),o=n(83464),l=n.n(o),c=n(17908),d=n.n(c),u=n(83432),p=n.n(u),m=n(44716),g=n.n(m),h=n(74362),f=n.n(h),v=n(41952),b=n.n(v),y=n(25445),w=n.n(y),x=n(46006),S=n.n(x),C=n(55743),k=n.n(C),A=n(68260),P=n.n(A),I=n(66539),$=n.n(I),N=n(51235),T=n.n(N),E=n(29274),j=n.n(E),D=n(29500),O=n.n(D),R=n(34901),M=n(56414),L=n(7172),U=n(14917),V=n(54241),F=n(10293),_=n(22229),K=n(79990),B=n(57947),z=n(11507),H=n(7506),G=n(14780),Z=n(38770),q=n(77918);class W{constructor(e,t,n,r,a,i,s,o,l,c,d,u,p,m,g,h,f){this.$scope=e,this.$async=t,this.$state=n,this.Notifications=r,this.Authentication=a,this.ModalService=i,this.KubernetesResourcePoolService=s,this.KubernetesApplicationService=o,this.KubernetesStackService=l,this.KubernetesConfigurationService=c,this.KubernetesNodeService=d,this.KubernetesVolumeService=m,this.KubernetesIngressService=u,this.KubernetesPersistentVolumeClaimService=p,this.RegistryService=g,this.StackService=h,this.KubernetesNodesLimitsService=f,this.ApplicationDeploymentTypes=L.KubernetesApplicationDeploymentTypes,this.ApplicationDataAccessPolicies=L.KubernetesApplicationDataAccessPolicies,this.ApplicationPublishingTypes=L.KubernetesApplicationPublishingTypes,this.ApplicationPlacementTypes=L.KubernetesApplicationPlacementTypes,this.ApplicationTypes=L.KubernetesApplicationTypes,this.ApplicationConfigurationFormValueOverridenKeyTypes=U.KubernetesApplicationConfigurationFormValueOverridenKeyTypes,this.ServiceTypes=K.KubernetesServiceTypes,this.KubernetesDeploymentTypes=L.KubernetesDeploymentTypes,this.state={appType:this.KubernetesDeploymentTypes.APPLICATION_FORM,updateWebEditorInProgress:!1,actionInProgress:!1,useLoadBalancer:!1,useServerMetrics:!1,sliders:{cpu:{min:0,max:0},memory:{min:0,max:0}},nodes:{memory:0,cpu:0},namespaceLimits:{memory:0,cpu:0},resourcePoolHasQuota:!1,viewReady:!1,availableSizeUnits:["MB","GB","TB"],alreadyExists:!1,duplicates:{environmentVariables:new U.KubernetesFormValidationReferences,persistedFolders:new U.KubernetesFormValidationReferences,configurationPaths:new U.KubernetesFormValidationReferences,existingVolumes:new U.KubernetesFormValidationReferences,publishedPorts:{containerPorts:new U.KubernetesFormValidationReferences,nodePorts:new U.KubernetesFormValidationReferences,ingressRoutes:new U.KubernetesFormValidationReferences,loadBalancerPorts:new U.KubernetesFormValidationReferences},placements:new U.KubernetesFormValidationReferences},isEdit:this.$state.params.namespace&&this.$state.params.name,persistedFoldersUseExistingVolumes:!1,pullImageValidity:!1},this.isAdmin=this.Authentication.isAdmin(),this.editChanges=[],this.storageClasses=[],this.state.useLoadBalancer=!1,this.state.useServerMetrics=!1,this.formValues=new U.KubernetesApplicationFormValues,this.updateApplicationAsync=this.updateApplicationAsync.bind(this),this.deployApplicationAsync=this.deployApplicationAsync.bind(this),this.setPullImageValidity=this.setPullImageValidity.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onServicePublishChange=this.onServicePublishChange.bind(this),this.checkIngressesToUpdate=this.checkIngressesToUpdate.bind(this),this.confirmUpdateApplicationAsync=this.confirmUpdateApplicationAsync.bind(this)}onChangeFileContent(e){this.stackFileContent.replace(/(\r\n|\n|\r)/gm,"")!==e.replace(/(\r\n|\n|\r)/gm,"")&&(this.state.isEditorDirty=!0,this.stackFileContent=e)}async updateApplicationViaWebEditor(){return this.$async((async()=>{try{if(!await this.ModalService.confirmAsync({title:"Are you sure?",message:"Any changes to this application will be overriden and may cause a service interruption. Do you wish to continue?",buttons:{confirm:{label:"Update",className:"btn-warning"}}}))return;this.state.updateWebEditorInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.endpoint.Id,Id:this.application.StackId},this.stackFileContent,null),this.state.isEditorDirty=!1,await this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Failed redeploying application")}finally{this.state.updateWebEditorInProgress=!1}}))}async uiCanExit(){if(this.stackFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}setPullImageValidity(e){this.state.pullImageValidity=e}imageValidityIsValid(){return this.state.pullImageValidity||this.formValues.ImageModel.Registry.Type!==M.RegistryTypes.DOCKERHUB}onChangeName(){const e=T()(this.applications,{Name:this.formValues.Name});this.state.alreadyExists=this.state.isEdit&&e&&this.application.Id!==e.Id||!this.state.isEdit&&e}unselectAutoScaler(){this.formValues.DeploymentType===this.ApplicationDeploymentTypes.GLOBAL&&(this.formValues.AutoScaler.IsUsed=!1)}addConfiguration(){let e=new U.KubernetesApplicationConfigurationFormValue;e.SelectedConfiguration=this.configurations[0],this.formValues.Configurations.push(e)}removeConfiguration(e){this.formValues.Configurations.splice(e,1),this.onChangeConfigurationPath()}overrideConfiguration(e){const t=this.formValues.Configurations[e];t.Overriden=!0,t.OverridenKeys=$()(P()(t.SelectedConfiguration.Data),(e=>{const t=new U.KubernetesApplicationConfigurationFormValueOverridenKey;return t.Key=e,t}))}resetConfiguration(e){const t=this.formValues.Configurations[e];t.Overriden=!1,t.OverridenKeys=[],this.onChangeConfigurationPath()}clearConfigurations(){this.formValues.Configurations=[]}onChangeConfigurationPath(){this.state.duplicates.configurationPaths.refs=[];const e=k()(this.formValues.Configurations,((e,t)=>{const n=S()($()(t.OverridenKeys,"Path"));return w()(e,n)}),[]),t=V.default.getDuplicates(e);b()(this.formValues.Configurations,((e,n)=>{b()(e.OverridenKeys,((e,r)=>{const a=T()(t,(t=>t===e.Path));a&&(this.state.duplicates.configurationPaths.refs[n+"_"+r]=a)}))})),this.state.duplicates.configurationPaths.hasRefs=Object.keys(this.state.duplicates.configurationPaths.refs).length>0}addEnvironmentVariable(){this.formValues.EnvironmentVariables.push(new U.KubernetesApplicationEnvironmentVariableFormValue)}restoreEnvironmentVariable(e){e.NeedsDeletion=!1}removeEnvironmentVariable(e){const t=this.formValues.EnvironmentVariables.indexOf(e);if(-1!==t){const e=this.formValues.EnvironmentVariables[t];e.IsNew?this.formValues.EnvironmentVariables.splice(t,1):e.NeedsDeletion=!0}this.onChangeEnvironmentName()}onChangeEnvironmentName(){this.state.duplicates.environmentVariables.refs=V.default.getDuplicates($()(this.formValues.EnvironmentVariables,"Name")),this.state.duplicates.environmentVariables.hasRefs=Object.keys(this.state.duplicates.environmentVariables.refs).length>0}addPersistedFolder(){let e={};this.storageClasses.length>0&&(e=this.storageClasses[0]);const t=new U.KubernetesApplicationPersistedFolderFormValue(e);this.formValues.PersistedFolders.push(t),this.resetDeploymentType()}restorePersistedFolder(e){this.formValues.PersistedFolders[e].NeedsDeletion=!1,this.validatePersistedFolders()}resetPersistedFolders(){this.formValues.PersistedFolders=b()(this.formValues.PersistedFolders,(e=>{e.ExistingVolume=null,e.UseNewVolume=!0})),this.validatePersistedFolders()}removePersistedFolder(e){this.state.isEdit&&this.formValues.PersistedFolders[e].PersistentVolumeClaimName?this.formValues.PersistedFolders[e].NeedsDeletion=!0:this.formValues.PersistedFolders.splice(e,1),this.validatePersistedFolders()}useNewVolume(e){this.formValues.PersistedFolders[e].UseNewVolume=!0,this.formValues.PersistedFolders[e].ExistingVolume=null,this.state.persistedFoldersUseExistingVolumes=!k()(this.formValues.PersistedFolders,((e,t)=>e&&t.UseNewVolume),!0),this.validatePersistedFolders()}useExistingVolume(e){this.formValues.PersistedFolders[e].UseNewVolume=!1,this.state.persistedFoldersUseExistingVolumes=!!T()(this.formValues.PersistedFolders,{UseNewVolume:!1}),this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED&&(this.formValues.DataAccessPolicy=this.ApplicationDataAccessPolicies.SHARED,this.resetDeploymentType()),this.validatePersistedFolders()}validatePersistedFolders(){this.onChangePersistedFolderPath(),this.onChangeExistingVolumeSelection()}onChangePersistedFolderPath(){this.state.duplicates.persistedFolders.refs=V.default.getDuplicates($()(this.formValues.PersistedFolders,(e=>{if(!e.NeedsDeletion)return e.ContainerPath}))),this.state.duplicates.persistedFolders.hasRefs=Object.keys(this.state.duplicates.persistedFolders.refs).length>0}onChangeExistingVolumeSelection(){this.state.duplicates.existingVolumes.refs=V.default.getDuplicates($()(this.formValues.PersistedFolders,(e=>{if(!e.NeedsDeletion)return e.ExistingVolume?e.ExistingVolume.PersistentVolumeClaim.Name:""}))),this.state.duplicates.existingVolumes.hasRefs=Object.keys(this.state.duplicates.existingVolumes.refs).length>0}addPlacement(){const e=new U.KubernetesApplicationPlacementFormValue,t=this.nodesLabels[0];e.Label=t,e.Value=t.Values[0],this.formValues.Placements.push(e),this.onChangePlacement()}restorePlacement(e){this.formValues.Placements[e].NeedsDeletion=!1,this.onChangePlacement()}removePlacement(e){this.state.isEdit&&!this.formValues.Placements[e].IsNew?this.formValues.Placements[e].NeedsDeletion=!0:this.formValues.Placements.splice(e,1),this.onChangePlacement()}onChangePlacement(){this.onChangePlacementLabelValidate()}onChangePlacementLabel(e){this.formValues.Placements[e].Value=this.formValues.Placements[e].Label.Values[0],this.onChangePlacementLabelValidate()}onChangePlacementLabelValidate(){const e=this.state.duplicates.placements,t=$()(this.formValues.Placements,(e=>e.NeedsDeletion?void 0:e.Label.Key)),n=V.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onServicePublishChange(){!this.formValues.IsPublishingService||this.formValues.PublishedPorts.length?this.formValues.IsPublishingService?this.formValues.PublishedPorts.forEach((e=>e.NeedsDeletion=!1)):this.formValues.PublishedPorts=this.formValues.PublishedPorts.filter((e=>!e.IsNew)).map((e=>({...e,NeedsDeletion:!0}))):this.addPublishedPort()}addPublishedPort(){const e=new U.KubernetesApplicationPublishedPortFormValue,t=this.ingresses;this.formValues.PublishingType===L.KubernetesApplicationPublishingTypes.INGRESS&&(e.IngressName=t&&t.length?t[0].Name:void 0,e.IngressHost=t&&t.length?t[0].Hosts[0]:void 0,e.IngressHosts=t&&t.length?t[0].Hosts:void 0),this.formValues.PublishedPorts.length&&(e.Protocol=this.formValues.PublishedPorts[0].Protocol),this.formValues.PublishedPorts.push(e)}resetPublishedPorts(){const e=this.ingresses;b()(this.formValues.PublishedPorts,(t=>{t.IngressName=e&&e.length?e[0].Name:void 0,t.IngressHost=e&&e.length?e[0].Hosts[0]:void 0}))}restorePublishedPort(e){this.formValues.PublishedPorts[e].NeedsDeletion=!1,this.onChangePublishedPorts()}removePublishedPort(e){this.state.isEdit&&!this.formValues.PublishedPorts[e].IsNew?this.formValues.PublishedPorts[e].NeedsDeletion=!0:this.formValues.PublishedPorts.splice(e,1),this.onChangePublishedPorts()}onChangePublishedPorts(){this.onChangePortMappingContainerPort(),this.onChangePortMappingNodePort(),this.onChangePortMappingIngressRoute(),this.onChangePortMappingLoadBalancer(),this.onChangePortProtocol()}onChangePortMappingContainerPort(){const e=this.state.duplicates.publishedPorts.containerPorts;if(this.formValues.PublishingType!==L.KubernetesApplicationPublishingTypes.INGRESS){const t=$()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion?void 0:e.ContainerPort+e.Protocol)),n=V.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingNodePort(){const e=this.state.duplicates.publishedPorts.nodePorts;if(this.formValues.PublishingType===L.KubernetesApplicationPublishingTypes.NODE_PORT){const t=$()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion?void 0:e.NodePort)),n=V.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingIngress(e){const t=this.formValues.PublishedPorts[e],n=T()(this.ingresses,{Name:t.IngressName});t.IngressHosts=n.Hosts,this.ingressHostnames=n.Hosts,t.IngressHost=this.ingressHostnames.length?this.ingressHostnames[0]:[],this.onChangePublishedPorts()}onChangePortMappingIngressRoute(){const e=this.state.duplicates.publishedPorts.ingressRoutes;if(this.formValues.PublishingType===L.KubernetesApplicationPublishingTypes.INGRESS){const t=$()(this.formValues.PublishedPorts,(e=>e.IsNew&&e.IngressRoute?`${e.IngressHost||e.IngressName}${e.IngressRoute}`:void 0)),n=$()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion&&e.IngressRoute?`${e.IngressHost||e.IngressName}${e.IngressRoute}`:void 0)),r=f()(this.ingresses,(e=>$()(e.Paths,(t=>`${t.Host||e.Name}${t.Path}`)))),a=V.default.getDuplicates(t);b()(t,((e,t)=>{g()(r,e)&&!g()(n,e)&&(a[t]=e)})),e.refs=a,e.hasRefs=Object.keys(a).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingLoadBalancer(){const e=this.state.duplicates.publishedPorts.loadBalancerPorts;if(this.formValues.PublishingType===L.KubernetesApplicationPublishingTypes.LOAD_BALANCER){const t=$()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion?void 0:e.LoadBalancerPort)),n=V.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortProtocol(e){if(this.formValues.PublishingType===L.KubernetesApplicationPublishingTypes.LOAD_BALANCER){const t=p()(this.formValues.PublishedPorts,{IsNew:!0});b()(t,(n=>{n.Protocol=e?this.formValues.PublishedPorts[e].Protocol:t[0].Protocol})),this.onChangePortMappingLoadBalancer()}this.onChangePortMappingContainerPort()}isValid(){return!(this.state.alreadyExists||this.state.duplicates.environmentVariables.hasRefs||this.state.duplicates.persistedFolders.hasRefs||this.state.duplicates.configurationPaths.hasRefs||this.state.duplicates.existingVolumes.hasRefs||this.state.duplicates.publishedPorts.containerPorts.hasRefs||this.state.duplicates.publishedPorts.nodePorts.hasRefs||this.state.duplicates.publishedPorts.ingressRoutes.hasRefs||this.state.duplicates.publishedPorts.loadBalancerPorts.hasRefs)}storageClassAvailable(){return this.storageClasses&&this.storageClasses.length>0}hasMultipleStorageClassesAvailable(){return this.storageClasses&&this.storageClasses.length>1}resetDeploymentType(){this.formValues.DeploymentType=this.ApplicationDeploymentTypes.REPLICATED}showDataAccessPolicySection(){return 0!==this.formValues.PersistedFolders.length}supportGlobalDeployment(){const e=0!==this.formValues.PersistedFolders.length,t=B.default.hasRWOOnly(this.formValues),n=this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED;return!e||!t&&!n}isEditAndStatefulSet(){return this.state.isEdit&&this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED}supportScalableReplicaDeployment(){const e=0!==this.formValues.PersistedFolders.length,t=B.default.hasRWOOnly(this.formValues),n=this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED;return!(e&&!n&&(!e||t))}getNonScalableStorage(){let e=[];for(let t=0;t<this.formValues.PersistedFolders.length;t++){const n=this.formValues.PersistedFolders[t];n.StorageClass&&d()(n.StorageClass.AccessModes,["RWO"])?e.push(n.StorageClass.Name):e.push("<no storage option available>")}return S()(e).join(", ")}enforceReplicaCountMinimum(){null===this.formValues.ReplicaCount&&(this.formValues.ReplicaCount=1)}resourceQuotaCapacityExceeded(){return!this.state.sliders.memory.max||!this.state.sliders.cpu.max}nodeLimitsOverflow(){const e=this.formValues.CpuLimit,t=_.default.bytesValue(this.formValues.MemoryLimit);return this.nodesLimits.overflowForReplica(e,t,1)}effectiveInstances(){return this.formValues.DeploymentType===this.ApplicationDeploymentTypes.GLOBAL?this.nodeNumber:this.formValues.ReplicaCount}hasPortErrors(){return this.formValues.Services.some((e=>e.nodePortError||e.servicePortError))}resourceReservationsOverflow(){const e=this.effectiveInstances(),t=this.formValues.CpuLimit,n=this.state.namespaceLimits.cpu,r=_.default.bytesValue(this.formValues.MemoryLimit),a=this.state.namespaceLimits.memory;return 1e3*t*e>1e3*n||r*e>a||(this.formValues.DeploymentType===this.ApplicationDeploymentTypes.REPLICATED?this.nodesLimits.overflowForReplica(t,r,e):this.nodesLimits.overflowForGlobal(t,r))}autoScalerOverflow(){const e=this.formValues.AutoScaler.MaxReplicas,t=this.formValues.CpuLimit,n=this.state.namespaceLimits.cpu,r=_.default.bytesValue(this.formValues.MemoryLimit),a=this.state.namespaceLimits.memory;return 1e3*t*e>1e3*n||r*e>a||this.nodesLimits.overflowForReplica(t,r,e)}publishViaLoadBalancerEnabled(){return this.state.useLoadBalancer&&0!==this.state.maxLoadBalancersQuota}publishViaIngressEnabled(){return this.ingresses.length}isEditAndNoChangesMade(){if(!this.state.isEdit)return!1;const e=R.qu(this.savedFormValues,this.formValues);return this.editChanges=p()(e,(e=>!g()(e.path,"$$hashKey")&&"/ApplicationType"!==e.path)),!this.editChanges.length}isAddPersistentFolderButtonShowed(){return!this.isEditAndStatefulSet()&&this.formValues.Containers.length<=1}isNewVolumeButtonDisabled(e){return this.isEditAndExistingPersistedFolder(e)}isExistingVolumeButtonDisabled(){return!this.hasAvailableVolumes()||this.isEdit&&this.application.ApplicationType===this.ApplicationTypes.STATEFULSET}hasAvailableVolumes(){return this.availableVolumes.length>0}isEditAndExistingPersistedFolder(e){return this.state.isEdit&&this.formValues.PersistedFolders[e].PersistentVolumeClaimName}isEditAndNotNewPublishedPort(e){return this.state.isEdit&&!this.formValues.PublishedPorts[e].IsNew}hasNoPublishedPorts(){return 0===this.formValues.PublishedPorts.filter((e=>!e.NeedsDeletion)).length}isEditAndNotNewPlacement(e){return this.state.isEdit&&!this.formValues.Placements[e].IsNew}isNewAndNotFirst(e){return!this.state.isEdit&&0!==e}showPlacementPolicySection(){return 0!==p()(this.formValues.Placements,{NeedsDeletion:!1}).length}isNonScalable(){const e=this.supportScalableReplicaDeployment(),t=this.supportGlobalDeployment(),n=this.formValues.ReplicaCount>1,r=this.formValues.DeploymentType===this.ApplicationDeploymentTypes.REPLICATED;return r&&!e&&n||!r&&!t}isDeployUpdateButtonDisabled(){const e=this.resourceReservationsOverflow(),t=this.autoScalerOverflow(),n=this.state.actionInProgress,r=!this.isValid(),a=this.isEditAndNoChangesMade(),i=this.isNonScalable(),s=this.formValues.IsPublishingService&&this.hasNoPublishedPorts();return e||t||n||r||a||i||s}isExternalApplication(){return!!this.application&&B.default.isExternalApplication(this.application)}disableLoadBalancerEdit(){return this.state.isEdit&&this.application.ServiceType===this.ServiceTypes.LOAD_BALANCER&&!this.application.LoadBalancerIPAddress&&this.formValues.PublishingType===this.ApplicationPublishingTypes.LOAD_BALANCER}isPublishingTypeEditDisabled(){const e=p()(this.formValues.PublishedPorts,{IsNew:!1,NeedsDeletion:!1});return this.state.isEdit&&this.formValues.PublishedPorts.length>0&&e.length>0}isEditLBWithPorts(){return this.formValues.PublishingType===L.KubernetesApplicationPublishingTypes.LOAD_BALANCER&&0===p()(this.formValues.PublishedPorts,{IsNew:!1}).length}isProtocolOptionDisabled(e,t){return this.disableLoadBalancerEdit()||this.isEditAndNotNewPublishedPort(e)&&this.formValues.PublishedPorts[e].Protocol!==t||this.isEditLBWithPorts()&&this.formValues.PublishedPorts[e].Protocol!==t&&this.isNewAndNotFirst(e)}updateSliders(){const e=this.formValues.ResourcePool.Quota;let t=0,n=0,r=this.state.namespaceLimits.cpu,a=this.state.namespaceLimits.memory;e&&(e.CpuLimit&&(t=L.KubernetesApplicationQuotaDefaults.CpuLimit),e.MemoryLimit&&(n=_.default.bytesValue(L.KubernetesApplicationQuotaDefaults.MemoryLimit))),r=Math.min(r,this.nodesLimits.MaxCPU),a=Math.min(a,this.nodesLimits.MaxMemory),a<n&&(n=0,a=0),this.state.sliders.memory.min=_.default.megaBytesValue(n),this.state.sliders.memory.max=_.default.megaBytesValue(a),this.state.sliders.cpu.min=t,this.state.sliders.cpu.max=l()(r,2),this.state.isEdit||(this.formValues.CpuLimit=t,this.formValues.MemoryLimit=_.default.megaBytesValue(n))}updateNamespaceLimits(){let e=this.state.nodes.cpu,t=this.state.nodes.memory;const n=this.formValues.ResourcePool.Quota;this.state.resourcePoolHasQuota=!1,n&&(n.CpuLimit&&(this.state.resourcePoolHasQuota=!0,e=n.CpuLimit-n.CpuLimitUsed,this.state.isEdit&&this.savedFormValues.CpuLimit&&(e+=this.savedFormValues.CpuLimit*this.effectiveInstances())),n.MemoryLimit&&(this.state.resourcePoolHasQuota=!0,t=n.MemoryLimit-n.MemoryLimitUsed,this.state.isEdit&&this.savedFormValues.MemoryLimit&&(t+=_.default.bytesValue(this.savedFormValues.MemoryLimit)*this.effectiveInstances()))),this.state.namespaceLimits.cpu=e,this.state.namespaceLimits.memory=t}refreshStacks(e){return this.$async((async()=>{try{this.stacks=await this.KubernetesStackService.get(e)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve stacks")}}))}refreshConfigurations(e){return this.$async((async()=>{try{this.configurations=await this.KubernetesConfigurationService.get(e)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configurations")}}))}refreshApplications(e){return this.$async((async()=>{try{this.applications=await this.KubernetesApplicationService.get(e)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}}))}refreshVolumes(e){return this.$async((async()=>{try{const t=this.endpoint.Kubernetes.Configuration.StorageClasses,n=await this.KubernetesVolumeService.get(e,t);b()(n,(e=>{e.Applications=z.default.getUsingApplications(e,this.applications)})),this.volumes=n;const r=p()(this.volumes,(e=>{const t=!z.default.isUsed(e),n=e.PersistentVolumeClaim.StorageClass&&g()(e.PersistentVolumeClaim.StorageClass.AccessModes,"RWX");return t||n}));this.availableVolumes=r}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve volumes")}}))}refreshIngresses(e){return this.$async((async()=>{try{this.ingresses=await this.KubernetesIngressService.get(e),this.ingressHostnames=this.ingresses.length?this.ingresses[0].Hosts:[],this.publishViaIngressEnabled()||(this.savedFormValues?this.formValues.PublishingType=this.savedFormValues.PublishingType:this.formValues.PublishingType=this.ApplicationPublishingTypes.CLUSTER_IP),this.formValues.OriginalIngresses=this.ingresses}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve ingresses")}}))}refreshNamespaceData(e){return this.$async((async()=>{await Promise.all([this.refreshStacks(e),this.refreshConfigurations(e),this.refreshApplications(e),this.refreshIngresses(e),this.refreshVolumes(e)]),this.onChangeName()}))}resetFormValues(){this.clearConfigurations(),this.resetPersistedFolders(),this.resetPublishedPorts()}onResourcePoolSelectionChange(){return this.$async((async()=>{const e=this.formValues.ResourcePool.Namespace.Name;this.updateNamespaceLimits(),this.updateSliders(),await this.refreshNamespaceData(e),this.resetFormValues()}))}async deployApplicationAsync(){this.state.actionInProgress=!0;try{this.formValues.ApplicationOwner=this.Authentication.getUserDetails().username,s()(this.formValues.Configurations,(e=>void 0===e.SelectedConfiguration)),await this.KubernetesApplicationService.create(this.formValues),this.Notifications.success("Application successfully deployed",this.formValues.Name),this.$state.go("kubernetes.applications")}catch(e){this.Notifications.error("Failure",e,"Unable to create application")}finally{this.state.actionInProgress=!1}}async updateApplicationAsync(e,t){if(e.length)try{await Promise.all(e.map((e=>(0,Z.Ev)(this.endpoint.Id,e)))),this.Notifications.success("Success",`Ingress ${t} successfully updated`)}catch(e){this.Notifications.error("Failure",e,"Unable to update ingress")}try{this.state.actionInProgress=!0,await this.KubernetesApplicationService.patch(this.savedFormValues,this.formValues),this.Notifications.success("Success","Application successfully updated"),this.$state.go("kubernetes.applications.application",{name:this.application.Name,namespace:this.application.ResourcePool})}catch(e){this.Notifications.error("Failure",e,"Unable to update application")}finally{this.state.actionInProgress=!1}}async confirmUpdateApplicationAsync(){const[e,t]=await this.checkIngressesToUpdate();if(e.length){const n=e.length>1?"rules":"rule",r=`\n        <ul class="ml-3">\n          <li>Updating the application may cause a service interruption.</li>\n          <li>${t.length>1?`Service ports in this application no longer match the ingress ${n}.`:`A service port in this application no longer matches the ingress ${n} which may break ingress rule paths.`}</li>\n        </ul>\n      `,a=`Update ingress ${n} to match the service port changes`;(0,q.H1)("Are you sure?",r,a,(t=>{if(null!==t)return 0===t.length?this.$async(this.updateApplicationAsync,[],""):"1"===t[0]?this.$async(this.updateApplicationAsync,e,n):void 0}))}else this.ModalService.confirmUpdate("Updating the application may cause a service interruption. Do you wish to continue?",(e=>{if(e)return this.$async(this.updateApplicationAsync,[],"")}))}async checkIngressesToUpdate(){let e=[],t=[];const n=await(0,Z.qW)(this.endpoint.Id,this.formValues.ResourcePool.Namespace.Name);return this.formValues.Services.forEach((r=>{const a=this.oldFormValues.Services.findIndex((e=>e.Name===r.Name)),i=this.oldFormValues.Services[a]&&this.oldFormValues.Services[a].Ports.length;if(r.Ingress&&i&&i<=r.Ports.length){const s=r.Ports.slice(0,i);n.filter((e=>{if(e.Paths.map((e=>e.ServiceName)).includes(r.Name))return!0})).forEach((n=>{s.forEach(((i,s)=>{if(i.ingress&&!n.Paths.find((e=>e.ServiceName===r.Name&&e.Port===i.port))){const o=this.oldFormValues.Services[a].Ports[s].port,l=i.port,c=n.Paths.findIndex((e=>e.ServiceName===r.Name&&e.Port===o));if(-1!==c){const r=e.findIndex((e=>e.Name===n.Name));if(-1===r){const t=j().copy(n);t.Paths[c].Port=l,e.push(t)}else e[r].Paths[c].Port=l;t.includes(l)||t.push(l)}}}))}))}})),[e,t]}deployApplication(){return this.state.isEdit?this.$async(this.confirmUpdateApplicationAsync):this.$async(this.deployApplicationAsync)}getApplication(){return this.$async((async()=>{try{const e=this.$state.params.namespace,t=this.endpoint.Kubernetes.Configuration.StorageClasses;[this.application,this.persistentVolumeClaims]=await Promise.all([this.KubernetesApplicationService.get(e,this.$state.params.name),this.KubernetesPersistentVolumeClaimService.get(e,t)])}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application details")}}))}async parseImageConfiguration(e){return this.$async((async()=>{try{return await this.RegistryService.retrievePorRegistryModelFromRepository(e.Image,this.endpoint.Id,e.Registry.Id,this.$state.params.namespace)}catch(t){return this.Notifications.error("Failure",t,"Unable to retrieve registry"),e}}))}$onInit(){return this.$async((async()=>{try{this.storageClasses=this.endpoint.Kubernetes.Configuration.StorageClasses,this.state.useLoadBalancer=this.endpoint.Kubernetes.Configuration.UseLoadBalancer,this.state.useServerMetrics=this.endpoint.Kubernetes.Configuration.UseServerMetrics;const[e,t,n]=await Promise.all([this.KubernetesResourcePoolService.get(),this.KubernetesNodeService.get(),this.KubernetesNodesLimitsService.get()]);this.nodesLimits=n;const r=p()(e,(e=>!H.default.isSystemNamespace(e.Namespace.Name)));if(this.allNamespaces=e.map((({Namespace:e})=>e.Name)),this.resourcePools=a()(r,(({Namespace:e})=>"default"===e.Name?0:1)),this.formValues.ResourcePool=this.resourcePools[0],!this.formValues.ResourcePool)return;b()(t,(e=>{this.state.nodes.memory+=O()(e.Memory),this.state.nodes.cpu+=e.CPU})),this.nodesLabels=G.KubernetesNodeHelper.generateNodeLabelsFromNodes(t),this.nodeNumber=t.length;const i=this.state.isEdit?this.$state.params.namespace:this.formValues.ResourcePool.Namespace.Name;await this.refreshNamespaceData(i),this.state.isEdit?(await this.getApplication(),this.formValues=F.default.applicationToFormValues(this.application,this.resourcePools,this.configurations,this.persistentVolumeClaims,this.nodesLabels,this.ingresses),this.application.ApplicationKind&&(this.state.appType=L.KubernetesDeploymentTypes[this.application.ApplicationKind.toUpperCase()],this.application.ApplicationKind===L.KubernetesDeploymentTypes.URL&&(this.state.appType=L.KubernetesDeploymentTypes.CONTENT),this.application.StackId&&(this.stack=await this.StackService.stack(this.application.StackId),this.state.appType===L.KubernetesDeploymentTypes.CONTENT&&(this.stackFileContent=await this.StackService.getStackFile(this.application.StackId)))),this.formValues.OriginalIngresses=this.ingresses,this.formValues.ImageModel=await this.parseImageConfiguration(this.formValues.ImageModel),this.savedFormValues=j().copy(this.formValues),delete this.formValues.ApplicationType,this.application.ApplicationType!==L.KubernetesApplicationTypes.STATEFULSET&&b()(this.formValues.PersistedFolders,(e=>{const t=T()(this.availableVolumes,["PersistentVolumeClaim.Name",e.PersistentVolumeClaimName]);t&&(e.UseNewVolume=!1,e.ExistingVolume=t)})),await this.refreshNamespaceData(i)):this.formValues.AutoScaler=B.default.generateAutoScalerFormValueFromHorizontalPodAutoScaler(null,this.formValues.ReplicaCount),this.state.isEdit&&this.nodesLimits.excludesPods(this.application.Pods,this.formValues.CpuLimit,_.default.bytesValue(this.formValues.MemoryLimit)),this.formValues.IsPublishingService=this.formValues.PublishedPorts.length>0,this.oldFormValues=j().copy(this.formValues),this.updateNamespaceLimits(),this.updateSliders()}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}}))}}W.$inject=["$scope","$async","$state","Notifications","Authentication","ModalService","KubernetesResourcePoolService","KubernetesApplicationService","KubernetesStackService","KubernetesConfigurationService","KubernetesNodeService","KubernetesIngressService","KubernetesPersistentVolumeClaimService","KubernetesVolumeService","RegistryService","StackService","KubernetesNodesLimitsService"],t.default=W,j().module("portainer.kubernetes").controller("KubernetesCreateApplicationController",W)},56378:function(e,t,n){const r=n(45758);angular.module("portainer.kubernetes").component("kubernetesApplicationView",{templateUrl:r,controller:"KubernetesApplicationController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},66485:function(e,t,n){"use strict";n.r(t);var r=n(83432),a=n.n(r),i=n(92375),s=n.n(i),o=n(46545),l=n.n(o),c=n(44716),d=n.n(c),u=n(19980),p=n.n(u),m=n(66539),g=n.n(m),h=n(71204),f=n.n(h),v=n(51235),b=n.n(v),y=n(41952),w=n.n(y),x=n(29274),S=n.n(x),C=n(34901),k=n(7172),A=n(52929),P=n(57947),I=n(79990),$=n(31275),N=n(7506),T=n(52474);class E{constructor(e,t,n,r,a,i,s,o,l,c,d,u,p){this.$async=e,this.$state=t,this.clipboard=n,this.Notifications=r,this.LocalStorage=a,this.ModalService=i,this.KubernetesResourcePoolService=s,this.StackService=p,this.KubernetesApplicationService=o,this.KubernetesEventService=l,this.KubernetesStackService=c,this.KubernetesPodService=d,this.KubernetesNodeService=u,this.KubernetesApplicationDeploymentTypes=k.KubernetesApplicationDeploymentTypes,this.KubernetesApplicationTypes=k.KubernetesApplicationTypes,this.KubernetesDeploymentTypes=k.KubernetesDeploymentTypes,this.ApplicationDataAccessPolicies=k.KubernetesApplicationDataAccessPolicies,this.KubernetesServiceTypes=I.KubernetesServiceTypes,this.KubernetesPodContainerTypes=$.KubernetesPodContainerTypes,this.onInit=this.onInit.bind(this),this.getApplication=this.getApplication.bind(this),this.getApplicationAsync=this.getApplicationAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.updateApplicationKindText=this.updateApplicationKindText.bind(this),this.updateApplicationAsync=this.updateApplicationAsync.bind(this),this.redeployApplicationAsync=this.redeployApplicationAsync.bind(this),this.rollbackApplicationAsync=this.rollbackApplicationAsync.bind(this),this.copyLoadBalancerIP=this.copyLoadBalancerIP.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab("application",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(3)}isSystemNamespace(){return N.default.isSystemNamespace(this.application.ResourcePool)}isExternalApplication(){return P.default.isExternalApplication(this.application)}copyLoadBalancerIP(){this.clipboard.copyText(this.application.LoadBalancerIPAddress),T("#copyNotificationLB").show().fadeOut(2500)}copyApplicationName(){this.clipboard.copyText(this.application.Name),T("#copyNotificationApplicationName").show().fadeOut(2500)}hasPersistedFolders(){return this.application&&this.application.PersistedFolders.length}hasVolumeConfiguration(){return this.application&&this.application.ConfigurationVolumes.length}hasEventWarnings(){return this.state.eventWarningCount}buildIngressRuleURL(e){return"http://"+(e.Host?e.Host:e.IP)+e.Path}portHasIngressRules(e){return e.IngressRules.length>0}ruleCanBeDisplayed(e){return!(!e.Host&&!e.IP)}isStack(){return this.application.StackId}async rollbackApplicationAsync(){try{const e=s()(this.application.Revisions,-2);await this.KubernetesApplicationService.rollback(this.application,e),this.Notifications.success("Success","Application successfully rolled back"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to rollback the application")}}rollbackApplication(){this.ModalService.confirmUpdate("Rolling back the application to a previous configuration may cause a service interruption. Do you wish to continue?",(e=>{if(e)return this.$async(this.rollbackApplicationAsync)}))}async redeployApplicationAsync(){try{const e=g()(this.application.Pods,(e=>this.KubernetesPodService.delete(e)));await Promise.all(e),this.Notifications.success("Success","Application successfully redeployed"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to redeploy the application")}}redeployApplication(){this.ModalService.confirmUpdate("Redeploying the application may cause a service interruption. Do you wish to continue?",(e=>{if(e)return this.$async(this.redeployApplicationAsync)}))}async updateApplicationAsync(){try{const e=S().copy(this.application);e.Note=this.formValues.Note,await this.KubernetesApplicationService.patch(this.application,e,!0),this.Notifications.success("Success","Application successfully updated"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to update application")}}updateApplication(){return this.$async(this.updateApplicationAsync)}updateApplicationKindText(){this.application.ApplicationKind===this.KubernetesDeploymentTypes.GIT?this.state.appType="git repository":(this.application.ApplicationKind===this.KubernetesDeploymentTypes.CONTENT||this.application.ApplicationKind===this.KubernetesDeploymentTypes.URL)&&(this.state.appType="manifest")}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get(this.state.params.namespace);this.events=a()(e,(e=>e.Involved.uid===this.application.Id||e.Involved.uid===this.application.ServiceId||void 0!==b()(this.application.Pods,(t=>t.Id===e.Involved.uid)))),this.state.eventWarningCount=A.default.warningCount(this.events)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application related events")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}async getApplicationAsync(){try{this.state.dataLoading=!0;const[e,t]=await Promise.all([this.KubernetesApplicationService.get(this.state.params.namespace,this.state.params.name),this.KubernetesNodeService.get()]);if(this.application=e,this.allContainers=P.default.associateAllContainersAndApplication(e),this.formValues.Note=this.application.Note,this.formValues.Services=this.application.Services,this.application.Note&&(this.state.expandedNote=!0),this.application.CurrentRevision&&(this.formValues.SelectedRevision=b()(this.application.Revisions,{revision:this.application.CurrentRevision.revision})),this.state.useIngress=b()(e.PublishedPorts,(e=>this.portHasIngressRules(e))),this.placements=function(e,t){return e=function(e,t){const n=t.Pods[0];return w()(e,(e=>{e.AcceptsApplication=!0,e.Expanded=!1,n&&(e.UnmetTaints=[],w()(e.Taints,(t=>{const r=b()(n.Tolerations,{Key:t.Key,Operator:"Equal",Value:t.Value,Effect:t.Effect}),a=b()(n.Tolerations,{Key:t.Key,Operator:"Exists",Effect:t.Effect}),i=b()(n.Tolerations,{Key:t.Key,Operator:"Equal",Value:t.Value,Effect:""}),s=b()(n.Tolerations,{Key:t.Key,Operator:"Exists",Effect:""}),o=b()(n.Tolerations,{Key:"",Operator:"Exists",Effect:""});r||a||i||s||o?e.AcceptsApplication=!0:(e.AcceptsApplication=!1,e.UnmetTaints.push(t))})))})),e}(e,t),e=function(e,t){if(!t.Pods||0===t.Pods.length)return e;const n=t.Pods[0];return w()(e,(e=>{if(n.NodeSelector){const t=C.qu(e.Labels,n.NodeSelector);f()(t,{op:"remove"}),e.UnmatchedNodeSelectorLabels=g()(t,(e=>({key:p()(e.path,"/"),value:e.value}))),e.UnmatchedNodeSelectorLabels.length&&(e.AcceptsApplication=!1)}if(n.Affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution){const t=g()(n.Affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms,(t=>{const n=g()(t.matchExpressions,(t=>{const n={}.hasOwnProperty.call(e.Labels,t.key),r=n&&d()(t.values,e.Labels[t.key]);if(!(t.operator===$.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS&&n||t.operator===$.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.DOES_NOT_EXIST&&!n||t.operator===$.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN&&r||t.operator===$.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.NOT_IN&&!r||t.operator===$.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.GREATER_THAN&&n&&parseInt(e.Labels[t.key],10)>parseInt(t.values[0],10)||t.operator===$.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.LOWER_THAN&&n&&parseInt(e.Labels[t.key],10)<parseInt(t.values[0],10)))return t}));return l()(n,void 0)}));f()(t,(e=>0===e.length)),e.UnmatchedNodeAffinities=t,e.UnmatchedNodeAffinities.length&&(e.AcceptsApplication=!1)}})),e}(e,t),e}(t,this.application),this.state.placementWarning=!b()(this.placements,{AcceptsApplication:!0}),e.StackId){const t=await this.StackService.getStackFile(e.StackId);this.stackFileContent=t}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application details")}finally{this.state.dataLoading=!1}}getApplication(){return this.$async(this.getApplicationAsync)}async onInit(){this.state={activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,DisplayedPanel:"pods",eventsLoading:!0,dataLoading:!0,viewReady:!1,params:{namespace:this.$transition$.params().namespace,name:this.$transition$.params().name},appType:this.KubernetesDeploymentTypes.APPLICATION_FORM,eventWarningCount:0,placementWarning:!1,expandedNote:!1,useIngress:!1,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics,publicUrl:this.endpoint.PublicURL},this.state.activeTab=this.LocalStorage.getActiveTab("application"),this.formValues={Note:"",SelectedRevision:void 0};const e=await this.KubernetesResourcePoolService.get();this.allNamespaces=e.map((({Namespace:e})=>e.Name)),await this.getApplication(),await this.getEvents(),this.updateApplicationKindText(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("application",0)}}E.$inject=["$async","$state","clipboard","Notifications","LocalStorage","ModalService","KubernetesResourcePoolService","KubernetesApplicationService","KubernetesEventService","KubernetesStackService","KubernetesPodService","KubernetesNodeService","StackService"],t.default=E,S().module("portainer.kubernetes").controller("KubernetesApplicationController",E)},20630:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(41952),a=n.n(r);class i{constructor(e,t){this.$async=e,this.KubernetesIngressService=t}$onInit(){return this.$async((async()=>{this.hasIngress,this.applicationIngress=[];const e=await this.KubernetesIngressService.get(this.application.ResourcePool),t=this.application.Services;a()(t,(t=>{a()(e,(e=>{a()(e.Paths,(n=>{n.ServiceName===t.metadata.name&&(n.Secure=e.TLS&&e.TLS.filter((e=>e.hosts&&e.hosts.includes(n.Host))).length>0,this.applicationIngress.push(n),this.hasIngress=!0)}))}))}))}))}}i.$inject=["$async","KubernetesIngressService"]},63060:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(20630);const s=n(70881);a().module("portainer.kubernetes").component("kubernetesApplicationIngressTable",{templateUrl:s,controller:i.default,bindings:{application:"<",publicUrl:"<"}})},29272:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(83432),s=n.n(i);angular.module("portainer.docker").controller("KubernetesApplicationPlacementsDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,r){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return!e.AcceptsApplication},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,a()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.isAdmin=r.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},50156:function(e,t,n){const r=n(83260);angular.module("portainer.kubernetes").component("kubernetesApplicationPlacementsDatatable",{templateUrl:r,controller:"KubernetesApplicationPlacementsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<",loading:"<",removeAction:"<"}})},18137:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(29262);a().module("portainer.kubernetes").component("kubernetesApplicationServicesTable",{templateUrl:i,bindings:{services:"<",application:"<",publicUrl:"<"}})},85392:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(20023);class a{constructor(e,t,n,r,a){this.$async=e,this.$state=t,this.Authentication=n,this.Notifications=r,this.HelmService=a}async getHelmApplication(){try{this.state.dataLoading=!0;const e=await this.HelmService.listReleases(this.endpoint.Id,{selector:`name=${this.state.params.name}`,namespace:this.state.params.namespace});if(!(e.length>0))throw new r.Z(`Release ${this.state.params.name} not found`);this.state.release=e[0]}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve helm application details")}finally{this.state.dataLoading=!1}}$onInit(){return this.$async((async()=>{this.state={dataLoading:!0,viewReady:!1,params:{name:this.$state.params.name,namespace:this.$state.params.namespace},release:{name:void 0,chart:void 0,app_version:void 0}},await this.getHelmApplication(),this.state.viewReady=!0}))}}a.$inject=["$async","$state","Authentication","Notifications","HelmService"]},8180:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(85392);const s=n(21152);a().module("portainer.kubernetes").component("kubernetesHelmApplicationView",{templateUrl:s,controller:i.default,bindings:{endpoint:"<"}})},81297:function(e,t,n){const r=n(28068);angular.module("portainer.kubernetes").component("kubernetesApplicationLogsView",{templateUrl:r,controller:"KubernetesApplicationLogsController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},94649:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(89115);class s{constructor(e,t,n,r,a,i,s,o){this.$async=e,this.$state=t,this.$interval=n,this.Notifications=r,this.KubernetesApplicationService=a,this.KubernetesPodService=i,this.Blob=s,this.FileSaver=o,this.onInit=this.onInit.bind(this),this.stopRepeater=this.stopRepeater.bind(this),this.getApplicationLogsAsync=this.getApplicationLogsAsync.bind(this)}updateAutoRefresh(){this.state.autoRefresh?this.setUpdateRepeater():this.stopRepeater()}stopRepeater(){a().isDefined(this.repeater)&&(this.$interval.cancel(this.repeater),this.repeater=null)}setUpdateRepeater(){this.repeater=this.$interval(this.getApplicationLogsAsync,this.state.refreshRate)}downloadLogs(){const e=(0,i.m)(this.applicationLogs),t=new this.Blob([e]);this.FileSaver.saveAs(t,this.podName+"_logs.txt")}async getApplicationLogsAsync(){try{const e=await this.KubernetesPodService.logs(this.application.ResourcePool,this.podName,this.containerName);this.applicationLogs=(0,i.q)(e)}catch(e){this.stopRepeater(),this.Notifications.error("Failure",e,"Unable to retrieve application logs")}}async onInit(){this.state={autoRefresh:!1,refreshRate:5e3,search:"",viewReady:!1};const e=this.$transition$.params().pod,t=this.$transition$.params().name,n=this.$transition$.params().namespace,r=this.$transition$.params().container;this.applicationLogs=[],this.podName=e,this.containerName=r;try{this.application=await this.KubernetesApplicationService.get(n,t),await this.getApplicationLogsAsync()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application logs")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.stopRepeater()}}s.$inject=["$async","$state","$interval","Notifications","KubernetesApplicationService","KubernetesPodService","Blob","FileSaver"],t.default=s,a().module("portainer.kubernetes").controller("KubernetesApplicationLogsController",s)},61260:function(e,t,n){const r=n(96144);angular.module("portainer.kubernetes").component("kubernetesApplicationStatsView",{templateUrl:r,controller:"KubernetesApplicationStatsController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},13754:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r),i=n(29274),s=n.n(i),o=n(4396),l=n.n(o),c=n(29500),d=n.n(c),u=n(22229),p=n(22050),m=n(52474);class g{constructor(e,t,n,r,a,i,s,o,l){this.$async=e,this.$state=t,this.$interval=n,this.$document=r,this.Notifications=a,this.KubernetesPodService=i,this.KubernetesNodeService=s,this.KubernetesMetricsService=o,this.ChartService=l,this.onInit=this.onInit.bind(this)}changeUpdateRepeater(){var e=this.cpuChart,t=this.memoryChart;this.stopRepeater(),this.setUpdateRepeater(e,t),m("#refreshRateChange").show(),m("#refreshRateChange").fadeOut(1500)}updateCPUChart(){const e=l()(this.stats.read).format("HH:mm:ss");this.ChartService.UpdateCPUChart(e,this.stats.CPUUsage,this.cpuChart)}updateMemoryChart(){const e=l()(this.stats.read).format("HH:mm:ss");this.ChartService.UpdateMemoryChart(e,this.stats.MemoryUsage,this.stats.MemoryCache,this.memoryChart)}stopRepeater(){var e=this.repeater;s().isDefined(e)&&(this.$interval.cancel(e),e=void 0)}setUpdateRepeater(){const e=this.state.refreshRate;this.repeater=this.$interval((async()=>{try{await this.getStats(),this.updateCPUChart(),this.updateMemoryChart()}catch(e){this.stopRepeater(),this.Notifications.error("Failure",e)}}),1e3*e)}initCharts(){const e=m("#cpuChart"),t=this.ChartService.CreateCPUChart(e);this.cpuChart=t;const n=m("#memoryChart"),r=this.ChartService.CreateMemoryChart(n);this.memoryChart=r,this.updateCPUChart(),this.updateMemoryChart(),this.setUpdateRepeater()}getStats(){return this.$async((async()=>{try{const e=await this.KubernetesMetricsService.getPod(this.state.transition.namespace,this.state.transition.podName),t=a()(e.containers,{name:this.state.transition.containerName});if(t){const n=d()(t.usage.memory),r=u.default.parseCPU(t.usage.cpu);this.stats={read:e.timestamp,preread:"",MemoryCache:0,MemoryUsage:n,NumProcs:"",isWindows:!1,PreviousCPUTotalUsage:0,CPUUsage:r/this.nodeCPU*100,CPUCores:0}}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application stats")}}))}$onDestroy(){this.stopRepeater()}async onInit(){this.state={autoRefresh:!1,refreshRate:"30",viewReady:!1,transition:{podName:this.$transition$.params().pod,containerName:this.$transition$.params().container,namespace:this.$transition$.params().namespace,applicationName:this.$transition$.params().name},getMetrics:!1};try{await this.KubernetesMetricsService.getPod(this.state.transition.namespace,this.state.transition.podName)}catch(e){return this.state.getMetrics=!1,void(this.state.viewReady=!0)}try{const e=await this.KubernetesPodService.get(this.state.transition.namespace,this.state.transition.podName),t=p.default.apiToModel(e.Raw);if(!t)throw new Error("Unable to find pod");{const e=await this.KubernetesNodeService.get(t.Node);this.nodeCPU=e.CPU}await this.getStats(),this.state.getMetrics=!0,this.$document.ready((()=>{this.initCharts()}))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application stats")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}g.$inject=["$async","$state","$interval","$document","Notifications","KubernetesPodService","KubernetesNodeService","KubernetesMetricsService","ChartService"],t.default=g,s().module("portainer.kubernetes").controller("KubernetesApplicationStatsController",g)},24924:function(e,t,n){const r=n(21284);angular.module("portainer.kubernetes").component("kubernetesClusterView",{templateUrl:r,controller:"KubernetesClusterController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},99641:function(e,t,n){"use strict";n.r(t);var r=n(55743),a=n.n(r),i=n(44716),s=n.n(i),o=n(41952),l=n.n(o),c=n(66539),d=n.n(c),u=n(55332),p=n.n(u),m=n(51235),g=n.n(m),h=n(83432),f=n.n(h),v=n(29274),b=n.n(v),y=n(29500),w=n.n(y),x=n(22229),S=n(46685);class C{constructor(e,t,n,r,a,i,s,o,l){this.$async=e,this.$state=t,this.Authentication=n,this.Notifications=r,this.LocalStorage=a,this.KubernetesNodeService=i,this.KubernetesMetricsService=s,this.KubernetesApplicationService=o,this.KubernetesEndpointService=l,this.onInit=this.onInit.bind(this),this.getNodes=this.getNodes.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.hasResourceUsageAccess=this.hasResourceUsageAccess.bind(this)}async getEndpointsAsync(){try{const e=await this.KubernetesEndpointService.get(),t=f()(e,{Namespace:"kube-system"});this.systemEndpoints=f()(t,(e=>e.HolderIdentity));const n=g()(e,{Name:"kubernetes"});if(n&&n.Subsets){const e=p()(d()(n.Subsets,"Ips"));l()(this.nodes,(t=>{t.Api=s()(e,t.IPAddress)}))}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environments")}}getEndpoints(){return this.$async(this.getEndpointsAsync)}async getNodesAsync(){try{const e=await this.KubernetesNodeService.get();l()(e,(e=>e.Memory=w()(e.Memory))),this.nodes=e,this.CPULimit=a()(this.nodes,((e,t)=>t.CPU+e),0),this.CPULimit=Math.round(1e4*this.CPULimit)/1e4,this.MemoryLimit=a()(this.nodes,((e,t)=>x.default.megaBytesValue(t.Memory)+e),0)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve nodes")}}getNodes(){return this.$async(this.getNodesAsync)}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get();const e=d()(this.nodes,(e=>e.Name));this.resourceReservation=a()(this.applications,((t,n)=>{n.Pods=f()(n.Pods,(t=>e.includes(t.Node)));const r=x.default.computeResourceReservation(n.Pods);return t.CPU+=r.CPU,t.Memory+=r.Memory,t}),new S.KubernetesResourceReservation),this.resourceReservation.Memory=x.default.megaBytesValue(this.resourceReservation.Memory),this.hasResourceUsageAccess()&&await this.getResourceUsage(this.endpoint.Id)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async getResourceUsage(e){try{const t=(await this.KubernetesMetricsService.getNodes(e)).items.map((e=>e.usage)).reduce(((e,t)=>(e.CPU+=x.default.parseCPU(t.cpu),e.Memory+=x.default.megaBytesValue(t.memory),e)),new S.KubernetesResourceReservation);this.resourceUsage=t}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve cluster resource usage")}}hasResourceUsageAccess(){return this.isAdmin&&this.state.useServerMetrics}async onInit(){this.isAdmin=this.Authentication.isAdmin();const e=this.endpoint.Kubernetes.Configuration.UseServerMetrics;this.state={applicationsLoading:!0,viewReady:!1,useServerMetrics:e},await this.getNodes(),this.isAdmin&&(await this.getEndpoints(),await this.getApplications()),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}C.$inject=["$async","$state","Authentication","Notifications","LocalStorage","KubernetesNodeService","KubernetesMetricsService","KubernetesApplicationService","KubernetesEndpointService"],t.default=C,b().module("portainer.kubernetes").controller("KubernetesClusterController",C)},64696:function(e,t,n){const r=n(78928);angular.module("portainer.kubernetes").component("kubernetesNodeView",{templateUrl:r,controller:"KubernetesNodeController",controllerAs:"ctrl",bindings:{endpoint:"<",$transition$:"<"}})},79308:function(e,t,n){"use strict";n.r(t);var r=n(68582),a=n.n(r),i=n(41952),s=n.n(i),o=n(51235),l=n.n(o),c=n(55332),d=n.n(c),u=n(83432),p=n.n(u),m=n(66539),g=n.n(m),h=n(29274),f=n.n(h),v=n(22229),b=n(46685),y=n(52929),w=n(76676),x=n(2949),S=n(85001),C=n(54241),k=n(14780);class A{constructor(e,t,n,r,a,i,s,o,l,c,d,u){this.$async=e,this.$state=t,this.Notifications=n,this.LocalStorage=r,this.ModalService=a,this.KubernetesNodeService=i,this.KubernetesEventService=s,this.KubernetesPodService=o,this.KubernetesApplicationService=l,this.KubernetesEndpointService=c,this.KubernetesMetricsService=d,this.Authentication=u,this.onInit=this.onInit.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.updateNodeAsync=this.updateNodeAsync.bind(this),this.drainNodeAsync=this.drainNodeAsync.bind(this),this.hasResourceUsageAccess=this.hasResourceUsageAccess.bind(this),this.getNodeUsageAsync=this.getNodeUsageAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab("node",e)}onChangeTaintKey(e){this.state.duplicateTaintKeys=C.default.getDuplicates(g()(this.formValues.Taints,(e=>{if(!e.NeedsDeletion)return e.Key}))),this.state.hasDuplicateTaintKeys=Object.keys(this.state.duplicateTaintKeys).length>0,this.onChangeTaint(e)}onChangeTaint(e){this.formValues.Taints[e]&&(this.formValues.Taints[e].IsChanged=!0)}addTaint(){const e=new x.KubernetesNodeTaintFormValues;e.IsNew=!0,e.Effect=S.KubernetesNodeTaintEffects.NOSCHEDULE,this.formValues.Taints.push(e)}removeTaint(e){const t=this.formValues.Taints[e];t.IsNew?this.formValues.Taints.splice(e,1):t.NeedsDeletion=!0,this.onChangeTaintKey()}restoreTaint(e){this.formValues.Taints[e].NeedsDeletion=!1,this.onChangeTaintKey()}computeTaintsWarning(){return p()(this.formValues.Taints,(e=>e.Effect===S.KubernetesNodeTaintEffects.NOEXECUTE&&(e.IsNew||e.IsChanged))).length}onChangeLabelKey(e){this.state.duplicateLabelKeys=C.default.getDuplicates(g()(this.formValues.Labels,(e=>{if(!e.NeedsDeletion)return e.Key}))),this.state.hasDuplicateLabelKeys=Object.keys(this.state.duplicateLabelKeys).length>0,this.onChangeLabel(e)}onChangeLabel(e){this.formValues.Labels[e]&&(this.formValues.Labels[e].IsChanged=!0)}addLabel(){const e=new x.KubernetesNodeLabelFormValues;e.IsNew=!0,this.formValues.Labels.push(e)}removeLabel(e){const t=this.formValues.Labels[e];t.IsNew?this.formValues.Labels.splice(e,1):t.NeedsDeletion=!0,this.onChangeLabelKey()}restoreLabel(e){this.formValues.Labels[e].NeedsDeletion=!1,this.onChangeLabelKey()}isSystemLabel(e){return k.KubernetesNodeHelper.isSystemLabel(this.formValues.Labels[e])}computeLabelsWarning(){return p()(this.formValues.Labels,(e=>e.IsUsed&&(e.NeedsDeletion||e.IsChanged))).length}computeCordonWarning(){return this.formValues.Availability===this.availabilities.PAUSE}computeDrainWarning(){return this.formValues.Availability===this.availabilities.DRAIN}async drainNodeAsync(){const e=d()(g()(this.applications,(e=>e.Pods)));let t=e.length;for(const n of e)try{await this.KubernetesPodService.eviction(n),this.Notifications.success("Pod successfully evicted",n.Name)}catch(e){this.Notifications.error("Failure",e,"Unable to evict pod"),this.formValues.Availability=this.availabilities.PAUSE,await this.KubernetesNodeService.patch(this.node,this.formValues)}finally{--t,0===t&&(this.formValues.Availability=this.availabilities.PAUSE,await this.KubernetesNodeService.patch(this.node,this.formValues))}}drainNode(){return this.$async(this.drainNodeAsync)}isNoChangesMade(){const e=w.default.formValuesToNode(this.node,this.formValues);return!w.default.patchPayload(this.node,e).length}isDrainError(){return(this.state.isDrainOperation||this.state.isContainPortainer)&&this.formValues.Availability===this.availabilities.DRAIN}isFormValid(){return!(this.state.hasDuplicateTaintKeys||this.state.hasDuplicateLabelKeys||this.isNoChangesMade()||this.isDrainError())}resetFormValues(){this.formValues=w.default.nodeToFormValues(this.node)}async getEndpointsAsync(){try{const e=await this.KubernetesEndpointService.get();this.endpoint=l()(e,{Name:"kubernetes"}),this.endpoint&&this.endpoint.Subsets&&s()(this.endpoint.Subsets,(e=>s()(e.Ips,(t=>{if(t===this.node.IPAddress)return this.node.Api=!0,this.node.Port=e.Port,!1}))))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environments")}}getEndpoints(){return this.$async(this.getEndpointsAsync)}async updateNodeAsync(){try{this.node=await this.KubernetesNodeService.patch(this.node,this.formValues),"Drain"===this.formValues.Availability&&await this.drainNode(),this.Notifications.success("Success","Node updated successfully"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to update node")}}updateNode(){const e=this.computeTaintsWarning(),t=this.computeLabelsWarning(),n=this.computeCordonWarning(),r=this.computeDrainWarning();if(e&&!t)this.ModalService.confirmUpdate("Changes to taints will immediately deschedule applications running on this node without the corresponding tolerations. Do you wish to continue?",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else if(!e&&t)this.ModalService.confirmUpdate("Removing or changing a label that is used might prevent applications from being scheduled on this node in the future. Do you wish to continue?",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else if(e&&t)this.ModalService.confirmUpdate("Changes to taints will immediately deschedule applications running on this node without the corresponding tolerations.<br/></br/>Removing or changing a label that is used might prevent applications from scheduling on this node in the future.\n\nDo you wish to continue?",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else if(n)this.ModalService.confirmUpdate("Marking this node as unschedulable will effectively cordon the node and prevent any new workload from being scheduled on that node. Are you sure?",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else{if(!r)return this.$async(this.updateNodeAsync);this.ModalService.confirmUpdate("Draining this node will cause all workloads to be evicted from that node. This might lead to some service interruption. Are you sure?",(e=>{if(e)return this.$async(this.updateNodeAsync)}))}}async getNodesAsync(){try{this.state.dataLoading=!0;const e=this.$transition$.params().name;this.nodes=await this.KubernetesNodeService.get(),this.node=l()(this.nodes,{Name:e}),this.state.isDrainOperation=l()(this.nodes,{Availability:this.availabilities.DRAIN})}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve node")}finally{this.state.dataLoading=!1}}getNodes(){return this.$async(this.getNodesAsync)}hasResourceUsageAccess(){return this.state.isAdmin&&this.state.useServerMetrics}async getNodeUsageAsync(){try{const e=this.$transition$.params().name,t=await this.KubernetesMetricsService.getNode(e);this.resourceUsage=new b.KubernetesResourceReservation,this.resourceUsage.CPU=v.default.parseCPU(t.usage.cpu),this.resourceUsage.Memory=v.default.megaBytesValue(t.usage.memory)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve node resource usage")}}getNodeUsage(){return this.$async(this.getNodeUsageAsync)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get();this.events=e.filter((e=>"Node"===e.Involved.kind)),this.state.eventWarningCount=y.default.warningCount(this.events)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve node events")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get(),this.resourceReservation=new b.KubernetesResourceReservation,this.applications=g()(this.applications,(e=>(e.Pods=p()(e.Pods,(e=>e.Node===this.node.Name)),e))),this.applications=p()(this.applications,(e=>0!==e.Pods.length)),this.applications=g()(this.applications,(e=>{const t=v.default.computeResourceReservation(e.Pods);return e.CPU=t.CPU,e.Memory=t.Memory,this.resourceReservation.CPU+=t.CPU,this.resourceReservation.Memory+=t.Memory,e})),this.resourceReservation.Memory=v.default.megaBytesValue(this.resourceReservation.Memory),this.memoryLimit=v.default.megaBytesValue(this.node.Memory),this.state.isContainPortainer=l()(this.applications,{ApplicationName:"portainer"}),this.hasResourceUsageAccess()&&await this.getNodeUsage()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async onInit(){this.availabilities=S.KubernetesNodeAvailabilities,this.state={isAdmin:this.Authentication.isAdmin(),activeTab:this.LocalStorage.getActiveTab("node"),currentName:this.$state.$current.name,dataLoading:!0,eventsLoading:!0,applicationsLoading:!0,showEditorTab:!1,viewReady:!1,eventWarningCount:0,duplicateTaintKeys:[],hasDuplicateTaintKeys:!1,duplicateLabelKeys:[],hasDuplicateLabelKeys:!1,isDrainOperation:!1,isContainPortainer:!1,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics},await this.getNodes(),await this.getEvents(),await this.getApplications(),await this.getEndpoints(),this.availableEffects=a()(S.KubernetesNodeTaintEffects),this.formValues=w.default.nodeToFormValues(this.node),this.formValues.Labels=k.KubernetesNodeHelper.computeUsedLabels(this.applications,this.formValues.Labels),this.formValues.Labels=k.KubernetesNodeHelper.reorderLabels(this.formValues.Labels),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("node",0)}}A.$inject=["$async","$state","Notifications","LocalStorage","ModalService","KubernetesNodeService","KubernetesEventService","KubernetesPodService","KubernetesApplicationService","KubernetesEndpointService","KubernetesMetricsService","Authentication"],t.default=A,f().module("portainer.kubernetes").controller("KubernetesNodeController",A)},83490:function(e,t,n){const r=n(49709);angular.module("portainer.kubernetes").component("kubernetesNodeStatsView",{templateUrl:r,controller:"KubernetesNodeStatsController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},2997:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(4396),s=n.n(i),o=n(29500),l=n.n(o),c=n(22229),d=n(71541),u=n(52474);class p{constructor(e,t,n,r,a,i,s,o){this.$async=e,this.$state=t,this.$interval=n,this.$document=r,this.Notifications=a,this.KubernetesNodeService=i,this.KubernetesMetricsService=s,this.ChartService=o,this.onInit=this.onInit.bind(this)}changeUpdateRepeater(){var e=this.cpuChart,t=this.memoryChart;this.stopRepeater(),this.setUpdateRepeater(e,t),u("#refreshRateChange").show(),u("#refreshRateChange").fadeOut(d.PORTAINER_FADEOUT)}updateCPUChart(){const e=s()(this.stats.read).format("HH:mm:ss");this.ChartService.UpdateCPUChart(e,this.stats.CPUUsage,this.cpuChart)}updateMemoryChart(){const e=s()(this.stats.read).format("HH:mm:ss");this.ChartService.UpdateMemoryChart(e,this.stats.MemoryUsage,0,this.memoryChart)}stopRepeater(){var e=this.repeater;a().isDefined(e)&&(this.$interval.cancel(e),this.repeater=void 0)}setUpdateRepeater(){const e=this.state.refreshRate;this.repeater=this.$interval((async()=>{try{await this.getStats(),this.updateCPUChart(),this.updateMemoryChart()}catch(e){this.stopRepeater(),this.Notifications.error("Failure",e)}}),1e3*e)}initCharts(){const e=u("#cpuChart"),t=this.ChartService.CreateCPUChart(e);this.cpuChart=t;const n=u("#memoryChart"),r=this.ChartService.CreateMemoryChart(n);this.memoryChart=r,this.updateCPUChart(),this.updateMemoryChart(),this.setUpdateRepeater()}getStats(){return this.$async((async()=>{try{const e=await this.KubernetesMetricsService.getNode(this.state.transition.nodeName);if(e){const t=l()(e.usage.memory),n=c.default.parseCPU(e.usage.cpu);this.stats={read:e.creationTimestamp,MemoryUsage:t,CPUUsage:n/this.nodeCPU*100}}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve node stats")}}))}$onDestroy(){this.stopRepeater()}async onInit(){this.state={autoRefresh:!1,refreshRate:"30",viewReady:!1,transition:{nodeName:this.$transition$.params().name},getMetrics:!0};try{if(await this.KubernetesMetricsService.getNode(this.state.transition.nodeName)){const e=await this.KubernetesNodeService.get(this.state.transition.nodeName);this.nodeCPU=e.CPU||1,await this.getStats(),this.state.getMetrics&&this.$document.ready((()=>{this.initCharts()}))}else this.state.getMetrics=!1}catch(e){this.state.getMetrics=!1,this.Notifications.error("Failure",e,"Unable to retrieve node stats")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}p.$inject=["$async","$state","$interval","$document","Notifications","KubernetesNodeService","KubernetesMetricsService","ChartService"],t.default=p,a().module("portainer.kubernetes").controller("KubernetesNodeStatsController",p)},56286:function(e,t,n){const r=n(79773);angular.module("portainer.kubernetes").component("kubernetesConfigurationsView",{templateUrl:r,controller:"KubernetesConfigurationsController",controllerAs:"ctrl"})},35752:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(51780);class s{constructor(e,t,n,r,a,i,s){this.$async=e,this.$state=t,this.Notifications=n,this.Authentication=r,this.KubernetesConfigurationService=a,this.KubernetesApplicationService=i,this.ModalService=s,this.onInit=this.onInit.bind(this),this.getConfigurations=this.getConfigurations.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.refreshCallback=this.refreshCallback.bind(this),this.refreshCallbackAsync=this.refreshCallbackAsync.bind(this)}async getConfigurationsAsync(){try{this.state.configurationsLoading=!0,this.configurations=await this.KubernetesConfigurationService.get(),i.default.setConfigurationsUsed(this.configurations,this.applications)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configurations")}finally{this.state.configurationsLoading=!1}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesConfigurationService.delete(n),this.Notifications.success("Configurations successfully removed",n.Name);const e=this.configurations.indexOf(n);this.configurations.splice(e,1)}catch(e){this.Notifications.error("Failure",e,"Unable to remove configuration")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion("Do you want to remove the selected configuration(s)?",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async refreshCallbackAsync(){await this.getConfigurations(),await this.getApplications()}refreshCallback(){return this.$async(this.refreshCallbackAsync)}async onInit(){this.state={configurationsLoading:!0,applicationsLoading:!0,viewReady:!1,isAdmin:this.Authentication.isAdmin()},await this.getApplications(),await this.getConfigurations(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}s.$inject=["$async","$state","Notifications","Authentication","KubernetesConfigurationService","KubernetesApplicationService","ModalService"],t.default=s,a().module("portainer.kubernetes").controller("KubernetesConfigurationsController",s)},9022:function(e,t,n){const r=n(5502);angular.module("portainer.kubernetes").component("kubernetesCreateConfigurationView",{templateUrl:r,controller:"KubernetesCreateConfigurationController",controllerAs:"ctrl"})},38646:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r),i=n(83432),s=n.n(i),o=n(29274),l=n.n(o),c=n(30578),d=n(82434),u=n(51780),p=n(7506),m=n(13535),g=n(64987);class h{constructor(e,t,n,r,a,i,s,o,l){this.$async=e,this.$state=t,this.$window=n,this.EndpointProvider=l,this.ModalService=r,this.Notifications=a,this.Authentication=i,this.KubernetesConfigurationService=s,this.KubernetesResourcePoolService=o,this.KubernetesConfigurationKinds=d.KubernetesConfigurationKinds,this.KubernetesSecretTypeOptions=d.KubernetesSecretTypeOptions,this.onInit=this.onInit.bind(this),this.createConfigurationAsync=this.createConfigurationAsync.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this),this.onResourcePoolSelectionChangeAsync=this.onResourcePoolSelectionChangeAsync.bind(this),this.onSecretTypeChange=this.onSecretTypeChange.bind(this)}onChangeName(){const e=s()(this.configurations,(e=>e.Namespace===this.formValues.ResourcePool.Namespace.Name&&e.Kind===this.formValues.Kind));this.state.alreadyExist=void 0!==a()(e,(e=>e.Name===this.formValues.Name))}onChangeKind(){this.onChangeName(),0===this.formValues.Data.length&&this.formValues.Data.push(new c.KubernetesConfigurationFormValuesEntry),this.formValues.Kind===this.KubernetesConfigurationKinds.SECRET?this.onSecretTypeChange():this.isDockerConfig=!1}async onResourcePoolSelectionChangeAsync(){try{this.onChangeName(),this.availableServiceAccounts=await(0,m.getServiceAccounts)(this.environmentId,this.formValues.ResourcePool.Namespace.Name),this.formValues.ServiceAccountName=this.availableServiceAccounts.length>0?this.availableServiceAccounts[0].metadata.name:""}catch(e){this.Notifications.error("Failure",e,"Unable load service accounts")}}onResourcePoolSelectionChange(){this.$async(this.onResourcePoolSelectionChangeAsync)}onSecretTypeChange(){switch(this.formValues.Type){case d.KubernetesSecretTypeOptions.OPAQUE.value:case d.KubernetesSecretTypeOptions.CUSTOM.value:this.formValues.Data=this.formValues.Data.filter((e=>""!==e.Value)),0===this.formValues.Data.length&&this.addRequiredKeysToForm([""]),this.state.isDockerConfig=!1;break;case d.KubernetesSecretTypeOptions.SERVICEACCOUNTTOKEN.value:this.addRequiredKeysToForm([]),this.state.isDockerConfig=!1;break;case d.KubernetesSecretTypeOptions.DOCKERCONFIGJSON.value:this.addRequiredKeysToForm([".dockerconfigjson"]),this.state.isDockerConfig=!0;break;case d.KubernetesSecretTypeOptions.DOCKERCFG.value:this.addRequiredKeysToForm([".dockercfg"]),this.state.isDockerConfig=!0;break;case d.KubernetesSecretTypeOptions.BASICAUTH.value:this.addRequiredKeysToForm(["username","password"]),this.state.isDockerConfig=!1;break;case d.KubernetesSecretTypeOptions.SSHAUTH.value:this.addRequiredKeysToForm(["ssh-privatekey"]),this.state.isDockerConfig=!1;break;case d.KubernetesSecretTypeOptions.TLS.value:this.addRequiredKeysToForm(["tls.crt","tls.key"]),this.state.isDockerConfig=!1;break;case d.KubernetesSecretTypeOptions.BOOTSTRAPTOKEN.value:this.addRequiredKeysToForm(["token-id","token-secret"]),this.state.isDockerConfig=!1;break;default:this.state.isDockerConfig=!1}this.isFormValid()}addRequiredKeysToForm(e){this.formValues.Data=this.formValues.Data.filter((e=>e.Value)),e.forEach((e=>{if(!this.formValues.Data.some((t=>t.Key===e))){this.formValues.Data.push(new c.KubernetesConfigurationFormValuesEntry);const t=this.formValues.Data.length-1;this.formValues.Data[t].Key=e}}))}isFormValid(){const[e,t]=(0,g.isConfigurationFormValid)(this.state.alreadyExist,this.state.isDataValid,this.formValues);return this.state.secretWarningMessage=t,e}async createConfigurationAsync(){try{this.state.actionInProgress=!0,this.formValues.ConfigurationOwner=this.Authentication.getUserDetails().username,this.formValues.IsSimple||(this.formValues.Data=u.default.parseYaml(this.formValues)),await this.KubernetesConfigurationService.create(this.formValues),this.Notifications.success("Success","Configuration succesfully created"),this.state.isEditorDirty=!1,this.$state.go("kubernetes.configurations")}catch(e){this.Notifications.error("Failure",e,"Unable to create configuration")}finally{this.state.actionInProgress=!1}}createConfiguration(){return this.$async(this.createConfigurationAsync)}async getConfigurationsAsync(){try{this.configurations=await this.KubernetesConfigurationService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configurations")}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}async uiCanExit(){if(!this.formValues.IsSimple&&this.formValues.DataYaml&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async onInit(){this.state={actionInProgress:!1,viewReady:!1,alreadyExist:!1,isDataValid:!0,isEditorDirty:!1,isDockerConfig:!1,secretWarningMessage:""},this.formValues=new c.KubernetesConfigurationFormValues,this.formValues.Data=[new c.KubernetesConfigurationFormValuesEntry];try{const e=await this.KubernetesResourcePoolService.get();this.resourcePools=s()(e,(e=>!p.default.isSystemNamespace(e.Namespace.Name))),this.formValues.ResourcePool=this.resourcePools[0],await this.getConfigurations(),this.environmentId=this.EndpointProvider.endpointID(),this.availableServiceAccounts=await(0,m.getServiceAccounts)(this.environmentId,this.resourcePools[0].Namespace.Name),this.formValues.ServiceAccountName=this.availableServiceAccounts.length>0?this.availableServiceAccounts[0].metadata.name:""}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}this.$window.onbeforeunload=()=>{if(!this.formValues.IsSimple&&this.formValues.DataYaml&&this.state.isEditorDirty)return""}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.isEditorDirty=!1}}h.$inject=["$async","$state","$window","ModalService","Notifications","Authentication","KubernetesConfigurationService","KubernetesResourcePoolService","EndpointProvider"],t.default=h,l().module("portainer.kubernetes").controller("KubernetesCreateConfigurationController",h)},78025:function(e,t,n){const r=n(61330);angular.module("portainer.kubernetes").component("kubernetesConfigurationView",{templateUrl:r,controller:"KubernetesConfigurationController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},55682:function(e,t,n){"use strict";n.r(t);var r=n(46006),a=n.n(r),i=n(83432),s=n.n(i),o=n(51235),l=n.n(o),c=n(29274),d=n.n(c),u=n(30578),p=n(82434),m=n(51780),g=n(10241),h=n(52929),f=n(7506),v=n(64987),b=n(52474);class y{constructor(e,t,n,r,a,i,s,o,l,c,d,u,m){this.$async=e,this.$state=t,this.$window=n,this.clipboard=r,this.Notifications=a,this.LocalStorage=i,this.ModalService=d,this.KubernetesConfigurationService=s,this.KubernetesResourcePoolService=c,this.KubernetesApplicationService=u,this.KubernetesEventService=m,this.KubernetesConfigurationKinds=p.KubernetesConfigurationKinds,this.KubernetesSecretTypeOptions=p.KubernetesSecretTypeOptions,this.KubernetesConfigMapService=o,this.KubernetesSecretService=l,this.onInit=this.onInit.bind(this),this.getConfigurationAsync=this.getConfigurationAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.getApplications=this.getApplications.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this),this.updateConfiguration=this.updateConfiguration.bind(this),this.updateConfigurationAsync=this.updateConfigurationAsync.bind(this)}isSystemNamespace(){return f.default.isSystemNamespace(this.configuration.Namespace)}isSystemConfig(){return this.isSystemNamespace()||this.configuration.IsRegistrySecret}selectTab(e){this.LocalStorage.storeActiveTab("configuration",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}copyConfigurationValue(e){this.clipboard.copyText(this.formValues.Data[e].Value),b("#copyValueNotification_"+e).show().fadeOut(2500)}isFormValid(){const[e,t]=(0,v.isConfigurationFormValid)(this.state.alreadyExist,this.state.isDataValid,this.formValues);return this.state.secretWarningMessage=t,e}async updateConfigurationAsync(){try{this.state.actionInProgress=!0,this.formValues.Kind!==this.configuration.Kind||this.formValues.ResourcePool.Namespace.Name!==this.configuration.Namespace||this.formValues.Name!==this.configuration.Name?(await this.KubernetesConfigurationService.create(this.formValues),await this.KubernetesConfigurationService.delete(this.configuration),this.Notifications.success("Success","Configuration succesfully updated"),this.$state.go("kubernetes.configurations.configuration",{namespace:this.formValues.ResourcePool.Namespace.Name,name:this.formValues.Name},{reload:!0})):(await this.KubernetesConfigurationService.update(this.formValues,this.configuration),this.Notifications.success("Success","Configuration succesfully updated"),this.$state.reload(this.$state.current))}catch(e){this.Notifications.error("Failure",e,"Unable to update configuration")}finally{this.state.actionInProgress=!1}}updateConfiguration(){if(!this.configuration.Used)return this.$async(this.updateConfigurationAsync);{const e=this.configuration.Applications.length>1?"s":"";this.ModalService.confirmUpdate(`The changes will be propagated to ${this.configuration.Applications.length} running application${e}. Are you sure you want to update this configuration?`,(e=>{if(e)return this.$async(this.updateConfigurationAsync)}))}}async getConfigurationAsync(){try{this.state.configurationLoading=!0;const e=this.$transition$.params().name,t=this.$transition$.params().namespace,[n,r]=await Promise.allSettled([this.KubernetesConfigMapService.get(t,e),this.KubernetesSecretService.get(t,e)]);if("rejected"===r.status&&403===r.reason.err.status)throw this.$state.go("kubernetes.configurations"),new Error("Not authorized to edit secret");return"fulfilled"===r.status?(this.configuration=g.default.secretToConfiguration(r.value),this.formValues.Data=r.value.Data):(this.configuration=g.default.configMapToConfiguration(n.value),this.formValues.Data=n.value.Data),this.formValues.ResourcePool=l()(this.resourcePools,(e=>e.Namespace.Name===this.configuration.Namespace)),this.formValues.Id=this.configuration.Id,this.formValues.Name=this.configuration.Name,this.formValues.Type=this.configuration.Type,this.formValues.Kind=this.configuration.Kind,this.oldDataYaml=this.formValues.DataYaml,this.configuration}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configuration")}finally{this.state.configurationLoading=!1}}getConfiguration(){return this.$async(this.getConfigurationAsync)}async getApplicationsAsync(e){try{this.state.applicationsLoading=!0;const t=await this.KubernetesApplicationService.get(e);this.configuration.Applications=m.default.getUsingApplications(this.configuration,t),m.default.setConfigurationUsed(this.configuration)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications")}finally{this.state.applicationsLoading=!1}}getApplications(e){return this.$async(this.getApplicationsAsync,e)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(e){try{this.state.eventsLoading=!0,this.events=await this.KubernetesEventService.get(e),this.events=s()(this.events,(e=>e.Involved.uid===this.configuration.Id)),this.state.eventWarningCount=h.default.warningCount(this.events)}catch(e){this.Notifications("Failure",e,"Unable to retrieve events")}finally{this.state.eventsLoading=!1}}getEvents(e){return this.$async(this.getEventsAsync,e)}async getConfigurationsAsync(){try{this.configurations=await this.KubernetesConfigurationService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve configurations")}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}tagUsedDataKeys(){const e=this.$transition$.params().name,t=a()(this.configuration.Applications.flatMap((t=>t.Env.filter((t=>t.valueFrom&&t.valueFrom.configMapKeyRef&&t.valueFrom.configMapKeyRef.name===e)).map((e=>e.name)))));this.formValues.Data=this.formValues.Data.map((e=>t.includes(e.Key)?{...e,Used:!0}:e))}async uiCanExit(){if(!this.formValues.IsSimple&&this.formValues.DataYaml!==this.oldDataYaml&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async onInit(){try{this.state={actionInProgress:!1,configurationLoading:!0,applicationsLoading:!0,eventsLoading:!0,showEditorTab:!1,viewReady:!1,eventWarningCount:0,activeTab:0,currentName:this.$state.$current.name,isDataValid:!0,isEditorDirty:!1,isDockerConfig:!1,secretWarningMessage:""},this.state.activeTab=this.LocalStorage.getActiveTab("configuration"),this.formValues=new u.KubernetesConfigurationFormValues,this.resourcePools=await this.KubernetesResourcePoolService.get();const e=await this.getConfiguration();if(e&&(await this.getApplications(this.configuration.Namespace),await this.getEvents(this.configuration.Namespace),await this.getConfigurations()),this.formValues.Kind!==this.KubernetesConfigurationKinds.SECRET||this.formValues.Type!==this.KubernetesSecretTypeOptions.DOCKERCONFIGJSON.value&&this.formValues.Type!==this.KubernetesSecretTypeOptions.DOCKERCFG.value||(this.state.isDockerConfig=!0),this.formValues.Type){const e=Object.values(this.KubernetesSecretTypeOptions).find((e=>e.value===this.formValues.Type));this.secretTypeName=e?e.name:this.formValues.Type}else this.secretTypeName="";this.formValues.Type===this.KubernetesSecretTypeOptions.SERVICEACCOUNTTOKEN.value&&(this.formValues.ServiceAccountName=e.ServiceAccountName),this.tagUsedDataKeys()}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}this.$window.onbeforeunload=()=>{if(!this.formValues.IsSimple&&this.formValues.DataYaml!==this.oldDataYaml&&this.state.isEditorDirty)return""}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("configuration",0),this.state.isEditorDirty=!1}}y.$inject=["$async","$state","$window","clipboard","Notifications","LocalStorage","KubernetesConfigurationService","KubernetesConfigMapService","KubernetesSecretService","KubernetesResourcePoolService","ModalService","KubernetesApplicationService","KubernetesEventService"],t.default=y,d().module("portainer.kubernetes").controller("KubernetesConfigurationController",y)},64987:function(e,t,n){"use strict";n.r(t),n.d(t,{isConfigurationFormValid:function(){return a}});var r=n(82434);function a(e,t,n){const a=!e&&t;let i="",s=!1;if(n.IsSimple){if(n.Kind===r.KubernetesConfigurationKinds.SECRET){let e=!0;switch(n.Type){case r.KubernetesSecretTypeOptions.SERVICEACCOUNTTOKEN.value:return s=a&&n.ResourcePool,[s,""];case r.KubernetesSecretTypeOptions.DOCKERCFG.value:e=n.Data.some((e=>".dockercfg"===e.Key)),i=e?"":"A data entry with a .dockercfg key is required.";break;case r.KubernetesSecretTypeOptions.DOCKERCONFIGJSON.value:e=n.Data.some((e=>".dockerconfigjson"===e.Key)),i=e?"":"A data entry with a .dockerconfigjson key. is required.";break;case r.KubernetesSecretTypeOptions.BASICAUTH.value:e=n.Data.some((e=>"username"===e.Key||"password"===e.Key)),i=e?"":"A data entry with a username or password key is required.";break;case r.KubernetesSecretTypeOptions.SSHAUTH.value:e=n.Data.some((e=>"ssh-privatekey"===e.Key)),i=e?"":"A data entry with a 'ssh-privatekey' key is required.";break;case r.KubernetesSecretTypeOptions.TLS.value:e=n.Data.some((e=>"tls.crt"===e.Key))&&n.Data.some((e=>"tls.key"===e.Key)),i=e?"":"Data entries containing a 'tls.crt' key and a 'tls.key' key are required.";break;case r.KubernetesSecretTypeOptions.BOOTSTRAPTOKEN.value:e=n.Data.some((e=>"token-id"===e.Key))&&n.Data.some((e=>"token-secret"===e.Key)),i=e?"":"Data entries containing a 'token-id' key and a 'token-secret' key are required."}return s=a&&n.ResourcePool&&n.Data.length>=1&&e,[s,i]}return s=n.Data.length>0&&a&&n.ResourcePool,[s,i]}return s=a&&n.ResourcePool,[s,i]}},71244:function(e,t,n){"use strict";n.r(t);var r=n(17908),a=n.n(r),i=n(83432),s=n.n(i),o=n(46545),l=n.n(o),c=n(67386),d=n.n(c),u=n(66539),p=n.n(u),m=n(51235),g=n.n(m),h=n(41952),f=n.n(h),v=n(29274),b=n.n(v),y=n(86871),w=n(14917),x=n(62072),S=n(7506),C=n(26196),k=n(4679);class A{constructor(e,t,n,r,a,i,s,o,l,c,d){this.$async=e,this.$state=t,this.$scope=n,this.Notifications=r,this.KubernetesStorageService=a,this.EndpointService=i,this.EndpointProvider=s,this.ModalService=o,this.KubernetesResourcePoolService=l,this.KubernetesIngressService=c,this.KubernetesMetricsService=d,this.IngressClassTypes=x.KubernetesIngressClassTypes,this.onInit=this.onInit.bind(this),this.configureAsync=this.configureAsync.bind(this),this.areControllersChanged=this.areControllersChanged.bind(this),this.areFormValuesChanged=this.areFormValuesChanged.bind(this),this.onBeforeOnload=this.onBeforeOnload.bind(this),this.limitedFeature=C.tE.K8S_SETUP_DEFAULT,this.limitedFeatureAutoWindow=C.tE.HIDE_AUTO_UPDATE_WINDOW,this.onToggleAutoUpdate=this.onToggleAutoUpdate.bind(this),this.onChangeControllers=this.onChangeControllers.bind(this),this.onChangeEnableResourceOverCommit=this.onChangeEnableResourceOverCommit.bind(this),this.onToggleIngressAvailabilityPerNamespace=this.onToggleIngressAvailabilityPerNamespace.bind(this),this.onToggleAllowNoneIngressClass=this.onToggleAllowNoneIngressClass.bind(this),this.onChangeStorageClassAccessMode=this.onChangeStorageClassAccessMode.bind(this)}storageClassAvailable(){return this.StorageClasses&&this.StorageClasses.length>0}hasValidStorageConfiguration(){let e=!0;return f()(this.StorageClasses,(t=>{t.selected&&0===t.AccessModes.length&&(e=!1)})),e}onChangeControllers(e){this.ingressControllers=e}hasTraefikIngress(){return g()(this.formValues.IngressClasses,{Type:this.IngressClassTypes.TRAEFIK})}toggleAdvancedIngSettings(){this.$scope.$evalAsync((()=>{this.state.isIngToggleSectionExpanded=!this.state.isIngToggleSectionExpanded}))}onToggleAllowNoneIngressClass(){this.$scope.$evalAsync((()=>{this.formValues.AllowNoneIngressClass=!this.formValues.AllowNoneIngressClass}))}onToggleIngressAvailabilityPerNamespace(){this.$scope.$evalAsync((()=>{this.formValues.IngressAvailabilityPerNamespace=!this.formValues.IngressAvailabilityPerNamespace}))}onChangeEnableResourceOverCommit(e){this.$scope.$evalAsync((()=>{this.formValues.EnableResourceOverCommit=e,e&&(this.formValues.ResourceOverCommitPercentage=20)}))}assignFormValuesToEndpoint(e,t,n){e.Kubernetes.Configuration.StorageClasses=t,e.Kubernetes.Configuration.UseLoadBalancer=this.formValues.UseLoadBalancer,e.Kubernetes.Configuration.UseServerMetrics=this.formValues.UseServerMetrics,e.Kubernetes.Configuration.EnableResourceOverCommit=this.formValues.EnableResourceOverCommit,e.Kubernetes.Configuration.ResourceOverCommitPercentage=this.formValues.ResourceOverCommitPercentage,e.Kubernetes.Configuration.IngressClasses=n,e.Kubernetes.Configuration.RestrictDefaultNamespace=this.formValues.RestrictDefaultNamespace,e.Kubernetes.Configuration.IngressAvailabilityPerNamespace=this.formValues.IngressAvailabilityPerNamespace,e.Kubernetes.Configuration.AllowNoneIngressClass=this.formValues.AllowNoneIngressClass,e.ChangeWindow=this.state.autoUpdateSettings}transformFormValues(){const e=p()(this.StorageClasses,(e=>{if(e.selected){const t=new y.KubernetesStorageClass;return t.Name=e.Name,t.AccessModes=p()(e.AccessModes,"Name"),t.Provisioner=e.Provisioner,t.AllowVolumeExpansion=e.AllowVolumeExpansion,t}}));d()(e,void 0);const t=l()(p()(this.formValues.IngressClasses,(e=>e.NeedsDeletion?void 0:e)),void 0);return d()(t,void 0),[e,t]}async removeIngressesAcrossNamespaces(){const e=s()(this.formValues.IngressClasses,{NeedsDeletion:!0});if(!e.length)return;const t=[],n=this.EndpointProvider.endpointID();this.EndpointProvider.setEndpointID(this.endpoint.Id);try{const r=await this.KubernetesResourcePoolService.get(),a=s()(r,(e=>!S.default.isSystemNamespace(e.Namespace.Name)&&!S.default.isDefaultNamespace(e.Namespace.Name)));e.forEach((e=>{a.forEach((n=>{t.push(this.KubernetesIngressService.delete(n.Namespace.Name,e.Name))}))}))}finally{this.EndpointProvider.setEndpointID(n)}(await Promise.allSettled(t)).forEach((e=>{if("rejected"==e.status&&404!=e.reason.err.status)throw e.reason}))}enableMetricsServer(){this.formValues.UseServerMetrics?(this.state.metrics.userClick=!0,this.state.metrics.pending=!0,this.KubernetesMetricsService.capabilities(this.endpoint.Id).then((()=>{this.state.metrics.isServerRunning=!0,this.state.metrics.pending=!1,this.formValues.UseServerMetrics=!0})).catch((()=>{this.state.metrics.isServerRunning=!1,this.state.metrics.pending=!1,this.formValues.UseServerMetrics=!1}))):(this.state.metrics.userClick=!1,this.formValues.UseServerMetrics=!1)}async configureAsync(){try{this.state.actionInProgress=!0;const[e,t]=this.transformFormValues();await this.removeIngressesAcrossNamespaces(),this.assignFormValuesToEndpoint(this.endpoint,e,t),await this.EndpointService.updateEndpoint(this.endpoint.Id,this.endpoint),await(0,k.A)(this.state.endpointId,this.ingressControllers||[]),this.state.isSaving=!0;const n=p()(e,(e=>{const t=g()(this.oldStorageClasses,{Name:e.Name});if(t)return this.KubernetesStorageService.patch(this.state.endpointId,t,e)}));await Promise.all(n);const r=this.EndpointProvider.endpoints(),a=g()(r,(e=>e.Id===this.endpoint.Id));a&&(this.assignFormValuesToEndpoint(a,e,t),this.EndpointProvider.setEndpoints(r)),this.Notifications.success("Success","Configuration successfully applied"),this.$state.go("portainer.home")}catch(e){this.Notifications.error("Failure",e,"Unable to apply configuration")}finally{this.state.actionInProgress=!1}}configure(){return this.$async(this.configureAsync)}restrictDefaultToggledOn(){return this.formValues.RestrictDefaultNamespace&&!this.oldFormValues.RestrictDefaultNamespace}onToggleAutoUpdate(e){return this.$scope.$evalAsync((()=>{this.state.autoUpdateSettings.Enabled=e}))}onChangeStorageClassAccessMode(e,t){return this.$scope.$evalAsync((()=>{const n=this.StorageClasses.find((t=>t.Name===e));if(!n)throw new Error("Storage class not found");n.AccessModes=t}))}async onInit(){this.state={actionInProgress:!1,displayConfigureClassPanel:{},viewReady:!1,isIngToggleSectionExpanded:!1,endpointId:this.$state.params.endpointId,duplicates:{ingressClasses:new w.KubernetesFormValidationReferences},metrics:{pending:!1,isServerRunning:!1,userClick:!1},timeZone:"",isSaving:!1},this.formValues={UseLoadBalancer:!1,UseServerMetrics:!1,EnableResourceOverCommit:!0,ResourceOverCommitPercentage:20,IngressClasses:[],RestrictDefaultNamespace:!1,enableAutoUpdateTimeWindow:!1,IngressAvailabilityPerNamespace:!1},this.isIngressControllersLoading=!0;try{this.availableAccessModes=new y.KubernetesStorageClassAccessPolicies,[this.StorageClasses,this.endpoint]=await Promise.all([this.KubernetesStorageService.get(this.state.endpointId),this.EndpointService.endpoint(this.state.endpointId)]),this.ingressControllers=await(0,k.N)({environmentId:this.state.endpointId}),this.originalIngressControllers=structuredClone(this.ingressControllers),this.state.autoUpdateSettings=this.endpoint.ChangeWindow,f()(this.StorageClasses,(e=>{const t=g()(this.endpoint.Kubernetes.Configuration.StorageClasses,(t=>t.Name===e.Name));t?(e.selected=!0,e.AccessModes=t.AccessModes.map((e=>this.availableAccessModes.find((t=>t.Name===e))))):this.availableAccessModes.length&&(e.AccessModes=[this.availableAccessModes[0]])})),this.oldStorageClasses=b().copy(this.StorageClasses),this.formValues.UseLoadBalancer=this.endpoint.Kubernetes.Configuration.UseLoadBalancer,this.formValues.UseServerMetrics=this.endpoint.Kubernetes.Configuration.UseServerMetrics,this.formValues.EnableResourceOverCommit=this.endpoint.Kubernetes.Configuration.EnableResourceOverCommit,this.formValues.ResourceOverCommitPercentage=this.endpoint.Kubernetes.Configuration.ResourceOverCommitPercentage,this.formValues.RestrictDefaultNamespace=this.endpoint.Kubernetes.Configuration.RestrictDefaultNamespace,this.formValues.IngressClasses=p()(this.endpoint.Kubernetes.Configuration.IngressClasses,(e=>(e.IsNew=!1,e.NeedsDeletion=!1,e))),this.formValues.IngressAvailabilityPerNamespace=this.endpoint.Kubernetes.Configuration.IngressAvailabilityPerNamespace,this.formValues.AllowNoneIngressClass=this.endpoint.Kubernetes.Configuration.AllowNoneIngressClass,this.oldFormValues=Object.assign({},this.formValues)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment configuration")}finally{this.state.viewReady=!0,this.isIngressControllersLoading=!1}window.addEventListener("beforeunload",this.onBeforeOnload)}$onInit(){return this.$async(this.onInit)}$onDestroy(){window.removeEventListener("beforeunload",this.onBeforeOnload)}areControllersChanged(){return!a()(this.ingressControllers,this.originalIngressControllers)}areFormValuesChanged(){return!a()(this.formValues,this.oldFormValues)}onBeforeOnload(e){this.state.isSaving||!this.areControllersChanged()&&!this.areFormValuesChanged()||(e.preventDefault(),e.returnValue="")}uiCanExit(){if(!this.state.isSaving&&(this.areControllersChanged()||this.areFormValuesChanged())&&!this.isIngressControllersLoading)return this.ModalService.confirmAsync({title:"Are you sure?",message:"You currently have unsaved changes in the cluster setup view. Are you sure you want to leave?",buttons:{confirm:{label:"Yes",className:"btn-danger"}}})}}A.$inject=["$async","$state","$scope","Notifications","KubernetesStorageService","EndpointService","EndpointProvider","ModalService","KubernetesResourcePoolService","KubernetesIngressService","KubernetesMetricsService"],t.default=A,b().module("portainer.kubernetes").controller("KubernetesConfigureController",A)},15219:function(e,t,n){const r=n(38947);angular.module("portainer.kubernetes").component("kubernetesDashboardView",{templateUrl:r,controller:"KubernetesDashboardController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},79581:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(83432),s=n.n(i),o=n(89858),l=n.n(o),c=n(29274),d=n.n(c),u=n(51780),p=n(7506),m=n(13494);class g{constructor(e,t,n,r,a,i,s,o,l){this.$async=e,this.Notifications=t,this.EndpointService=n,this.KubernetesResourcePoolService=r,this.KubernetesApplicationService=a,this.KubernetesConfigurationService=i,this.KubernetesVolumeService=s,this.Authentication=o,this.TagService=l,this.onInit=this.onInit.bind(this),this.getAll=this.getAll.bind(this),this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(){const e=this.Authentication.isAdmin(),t=this.endpoint.Kubernetes.Configuration.StorageClasses;this.showEnvUrl=this.endpoint.Type!==m.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&this.endpoint.Type!==m.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment;try{const[n,r,i,o,c]=await Promise.all([this.KubernetesResourcePoolService.get(),this.KubernetesApplicationService.get(),this.KubernetesConfigurationService.get(),this.KubernetesVolumeService.get(void 0,t),this.TagService.tags()]);this.applications=r,this.volumes=o,this.endpointTags=this.endpoint.TagIds.length?l()(s()(a()(this.endpoint.TagIds,(e=>{const t=c.find((t=>t.Id===e));return t?t.Name:""})),Boolean),", "):"-",e?(this.pools=n,this.configurations=i):(this.pools=s()(n,(e=>!p.default.isSystemNamespace(e.Namespace.Name))),this.configurations=s()(i,(e=>!u.default.isSystemToken(e))))}catch(e){this.Notifications.error("Failure",e,"Unable to load dashboard data")}}getAll(){return this.$async(this.getAllAsync)}async onInit(){this.state={viewReady:!1},await this.getAll(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}g.$inject=["$async","Notifications","EndpointService","KubernetesResourcePoolService","KubernetesApplicationService","KubernetesConfigurationService","KubernetesVolumeService","Authentication","TagService"],t.default=g,d().module("portainer.kubernetes").controller("KubernetesDashboardController",g)},36661:function(e,t,n){const r=n(32635);angular.module("portainer.kubernetes").component("kubernetesDeployView",{templateUrl:r,controller:"KubernetesDeployController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},23322:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(4622),s=n.n(i),o=n(29274),l=n.n(o),c=n(65808),d=n.n(c),u=n(15964),p=n.n(u),m=n(20023),g=n(6253),h=n(26951),f=n(20037),v=n(86682),b=n(37463);class y{constructor(e,t,n,r,a,i,s,o,l,c){this.$async=e,this.$state=t,this.$window=n,this.Authentication=r,this.ModalService=a,this.Notifications=i,this.KubernetesResourcePoolService=s,this.StackService=o,this.WebhookHelper=l,this.CustomTemplateService=c,this.DeployMethod="manifest",this.isTemplateVariablesEnabled=f.aW,this.deployOptions=[{...v.h,value:g.KubernetesDeployManifestTypes.KUBERNETES},{...v.q,value:g.KubernetesDeployManifestTypes.COMPOSE}],this.methodOptions=[{...b.L4,value:g.KubernetesDeployBuildMethods.GIT},{...b.j6,value:g.KubernetesDeployBuildMethods.WEB_EDITOR},{...b.HQ,value:g.KubernetesDeployBuildMethods.URL},{...b.XK,description:"Use custom template",value:g.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE}],this.state={DeployType:g.KubernetesDeployManifestTypes.KUBERNETES,BuildMethod:g.KubernetesDeployBuildMethods.GIT,tabLogsDisabled:!0,activeTab:0,viewReady:!1,isEditorDirty:!1,templateId:null,template:null},this.formValues={StackName:"",RepositoryURL:"",RepositoryReferenceName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",AdditionalFiles:[],ComposeFilePathInRepository:"",RepositoryAutomaticUpdates:!1,RepositoryMechanism:g.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:"5m",RepositoryWebhookURL:l.returnStackWebhookUrl(p()()),Variables:{}},this.ManifestDeployTypes=g.KubernetesDeployManifestTypes,this.BuildMethods=g.KubernetesDeployBuildMethods,this.onChangeTemplateId=this.onChangeTemplateId.bind(this),this.deployAsync=this.deployAsync.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.getNamespacesAsync=this.getNamespacesAsync.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this),this.buildAnalyticsProperties=this.buildAnalyticsProperties.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onChangeDeployType=this.onChangeDeployType.bind(this),this.onChangeTemplateVariables=this.onChangeTemplateVariables.bind(this)}onChangeTemplateVariables(e){this.onChangeFormValues({Variables:e}),this.renderTemplate()}renderTemplate(){if(!this.isTemplateVariablesEnabled)return;const e=(0,h.SM)(this.state.templateContent,this.formValues.Variables,this.state.template.Variables);this.onChangeFormValues({EditorContent:e})}buildAnalyticsProperties(){const e={type:function(e){switch(e){case g.KubernetesDeployBuildMethods.GIT:return"git";case g.KubernetesDeployBuildMethods.WEB_EDITOR:return"web-editor"}}(this.state.BuildMethod),format:function(e){switch(e){case g.KubernetesDeployManifestTypes.COMPOSE:return"compose";case g.KubernetesDeployManifestTypes.KUBERNETES:return"manifest"}}(this.state.DeployType),role:(t=this.Authentication.isAdmin(),t?"admin":"standard"),"automatic-updates":function(e,t){switch(e&&t){case g.RepositoryMechanismTypes.INTERVAL:return"polling";case g.RepositoryMechanismTypes.WEBHOOK:return"webhook";default:return"off"}}(this.formValues.RepositoryAutomaticUpdates,this.formValues.RepositoryMechanism)};var t;return this.state.BuildMethod===g.KubernetesDeployBuildMethods.GIT&&(e.auth=this.formValues.RepositoryAuthentication),{metadata:e}}onChangeMethod(e){this.state.BuildMethod=e}onChangeDeployType(e){this.state.DeployType=e,e==this.ManifestDeployTypes.COMPOSE?this.DeployMethod="compose":this.DeployMethod="manifest"}disableDeploy(){const e=this.state.BuildMethod===g.KubernetesDeployBuildMethods.GIT&&(!this.formValues.RepositoryURL||!this.formValues.FilePathInRepository||this.formValues.RepositoryAuthentication&&!this.formValues.RepositoryPassword)&&s()(this.formValues.Namespace),t=this.state.BuildMethod===g.KubernetesDeployBuildMethods.WEB_EDITOR&&s()(this.formValues.EditorContent)&&s()(this.formValues.Namespace),n=this.state.BuildMethod==g.KubernetesDeployBuildMethods.WEB_EDITOR.URL&&s()(this.formValues.ManifestURL),r=s()(this.formValues.Namespace);return!this.formValues.StackName||e||t||n||this.state.actionInProgress||r}onChangeFormValues(e){this.formValues={...this.formValues,...e}}onChangeTemplateId(e,t){return this.$async((async()=>{if(t&&(this.state.templateId!==e||this.state.template!==t)){this.state.templateId=e,this.state.template=t;try{const n=await this.CustomTemplateService.customTemplateFile(e);if(this.state.templateContent=n,this.onChangeFileContent(n),t.Variables&&t.Variables.length>0){const e=Object.fromEntries(t.Variables.map((e=>[e.name,""])));this.onChangeTemplateVariables(e)}}catch(e){this.Notifications.error("Failure",e,"Unable to load template file")}}}))}onChangeFileContent(e){this.formValues.EditorContent=e,this.state.isEditorDirty=!0}displayErrorLog(e){this.errorLog=d()(e),this.state.tabLogsDisabled=!1,this.state.activeTab=1}async deployAsync(){this.errorLog="",this.state.actionInProgress=!0;try{let e,t=this.state.DeployType===this.ManifestDeployTypes.COMPOSE;switch(this.state.BuildMethod){case this.BuildMethods.GIT:e=g.KubernetesDeployRequestMethods.REPOSITORY;break;case this.BuildMethods.WEB_EDITOR:e=g.KubernetesDeployRequestMethods.STRING;break;case g.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE:e=g.KubernetesDeployRequestMethods.STRING,t=!1;break;case this.BuildMethods.URL:e=g.KubernetesDeployRequestMethods.URL;break;default:throw new m.Z("Unable to determine build method")}let n="";n=this.formValues.namespace_toggle?"":this.formValues.Namespace;const r={ComposeFormat:t,Namespace:n,StackName:this.formValues.StackName};e===g.KubernetesDeployRequestMethods.REPOSITORY?(r.RepositoryURL=this.formValues.RepositoryURL,r.RepositoryReferenceName=this.formValues.RepositoryReferenceName,r.RepositoryAuthentication=!!this.formValues.RepositoryAuthentication,r.RepositoryAuthentication&&(r.RepositoryUsername=this.formValues.RepositoryUsername,r.RepositoryPassword=this.formValues.RepositoryPassword),r.ManifestFile=this.formValues.ComposeFilePathInRepository,r.AdditionalFiles=this.formValues.AdditionalFiles,this.formValues.RepositoryAutomaticUpdates&&(r.AutoUpdate={},this.formValues.RepositoryMechanism===g.RepositoryMechanismTypes.INTERVAL?r.AutoUpdate.Interval=this.formValues.RepositoryFetchInterval:this.formValues.RepositoryMechanism===g.RepositoryMechanismTypes.WEBHOOK&&(r.AutoUpdate.Webhook=this.formValues.RepositoryWebhookURL.split("/").reverse()[0]))):e===g.KubernetesDeployRequestMethods.STRING?r.StackFileContent=this.formValues.EditorContent:r.ManifestURL=this.formValues.ManifestURL,await this.StackService.kubernetesDeploy(this.endpoint.Id,e,r),this.Notifications.success("Success","Manifest successfully deployed"),this.state.isEditorDirty=!1,this.$state.go("kubernetes.applications")}catch(e){this.Notifications.error("Unable to deploy manifest",e,"Unable to deploy resources"),this.displayErrorLog(e.err.data.details)}finally{this.state.actionInProgress=!1}}deploy(){return this.$async(this.deployAsync)}async getNamespacesAsync(){try{const e=await this.KubernetesResourcePoolService.get(),t=a()(e,"Namespace").sort(((e,t)=>"default"===e.Name?-1:"default"===t.Name?1:0));this.namespaces=t,this.namespaces.length>0&&(this.formValues.Namespace=this.namespaces[0].Name)}catch(e){this.Notifications.error("Failure",e,"Unable to load namespaces data")}}getNamespaces(){return this.$async(this.getNamespacesAsync)}async uiCanExit(){if(this.formValues.EditorContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}$onInit(){return this.$async((async()=>{if(this.formValues.namespace_toggle=!1,await this.getNamespaces(),this.$state.params.templateId){const e=parseInt(this.$state.params.templateId,10);e&&!Number.isNaN(e)&&(this.state.BuildMethod=g.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE,this.state.templateId=e)}this.state.viewReady=!0,this.$window.onbeforeunload=()=>{if(this.formValues.EditorContent&&this.state.isEditorDirty)return""}}))}$onDestroy(){this.state.isEditorDirty=!1}}y.$inject=["$async","$state","$window","Authentication","ModalService","Notifications","KubernetesResourcePoolService","StackService","WebhookHelper","CustomTemplateService"],t.default=y,l().module("portainer.kubernetes").controller("KubernetesDeployController",y)},28311:function(e,t,n){const r=n(9273);angular.module("portainer.kubernetes").component("kubernetesResourcePoolAccessView",{templateUrl:r,controller:"KubernetesResourcePoolAccessController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},38513:function(e,t,n){"use strict";n.r(t);var r=n(25445),a=n.n(r),i=n(46545),s=n.n(i),o=n(83432),l=n.n(o),c=n(29274),d=n.n(c),u=n(13978),p=n(93133),m=n(58007);class g{constructor(e,t,n,r,a,i,s,o){this.$async=e,this.$state=t,this.$scope=n,this.Notifications=r,this.KubernetesResourcePoolService=a,this.KubernetesConfigMapService=i,this.GroupService=s,this.AccessService=o,this.onInit=this.onInit.bind(this),this.authorizeAccessAsync=this.authorizeAccessAsync.bind(this),this.unauthorizeAccessAsync=this.unauthorizeAccessAsync.bind(this),this.onUsersAndTeamsChange=this.onUsersAndTeamsChange.bind(this),this.unauthorizeAccess=this.unauthorizeAccess.bind(this)}initAccessConfigMap(e){return e.Name=u.KubernetesPortainerConfigMapConfigName,e.Namespace=u.KubernetesPortainerConfigMapNamespace,e.Data[u.KubernetesPortainerConfigMapAccessKey]={},e}async onInit(){const e=this.endpoint;this.state={actionInProgress:!1,viewReady:!1},this.formValues={multiselectOutput:[]};try{const t=this.$transition$.params().id;let[n,r]=await Promise.all([this.KubernetesResourcePoolService.get(t),this.KubernetesConfigMapService.getAccess(u.KubernetesPortainerConfigMapNamespace,u.KubernetesPortainerConfigMapConfigName)]);const a=await this.GroupService.group(e.GroupId),i=[],o=await this.AccessService.accesses(e,a,i);this.pool=n,0===r.Id&&(r=this.initAccessConfigMap(r)),r=m.default.parseJSONData(r),this.authorizedUsersAndTeams=[],this.accessConfigMap=r;const c=r.Data[u.KubernetesPortainerConfigMapAccessKey][t];c&&(this.authorizedUsersAndTeams=l()(o.authorizedUsersAndTeams,(e=>e instanceof p.UserAccessViewModel&&c.UserAccessPolicies?void 0!==c.UserAccessPolicies[e.Id]:!!(e instanceof p.TeamAccessViewModel&&c.TeamAccessPolicies)&&void 0!==c.TeamAccessPolicies[e.Id]))),this.availableUsersAndTeams=s()(o.authorizedUsersAndTeams,...this.authorizedUsersAndTeams)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespace information")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}async authorizeAccessAsync(){try{this.state.actionInProgress=!0;const e=a()(this.authorizedUsersAndTeams,this.formValues.multiselectOutput),t=m.default.modifiyNamespaceAccesses(d().copy(this.accessConfigMap),this.pool.Namespace.Name,e);await this.KubernetesConfigMapService.updateAccess(t),this.Notifications.success("Success","Access successfully created"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to create accesses")}}onUsersAndTeamsChange(e){this.$scope.$evalAsync((()=>{this.formValues.multiselectOutput=e}))}authorizeAccess(){return this.$async(this.authorizeAccessAsync)}async unauthorizeAccessAsync(e){try{this.state.actionInProgress=!0;const t=s()(this.authorizedUsersAndTeams,...e),n=m.default.modifiyNamespaceAccesses(d().copy(this.accessConfigMap),this.pool.Namespace.Name,t);await this.KubernetesConfigMapService.updateAccess(n),this.Notifications.success("Success","Access successfully removed"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to remove accesses")}finally{this.state.actionInProgress=!1}}unauthorizeAccess(e){return this.$async(this.unauthorizeAccessAsync,e)}}g.$inject=["$async","$state","$scope","Notifications","KubernetesResourcePoolService","KubernetesConfigMapService","GroupService","AccessService"],t.default=g,d().module("portainer.kubernetes").controller("KubernetesResourcePoolAccessController",g)},74474:function(e,t,n){"use strict";n.r(t),n.d(t,{storageClassSwitch:function(){return s}});var r=n(29274),a=n.n(r),i=n(10405);const s={templateUrl:n(87925),controller:i.default,bindings:{value:"<",onChange:"<",name:"<"}};a().module("portainer.kubernetes").component("storageClassSwitch",s)},10405:function(e,t,n){"use strict";n.r(t);var r=n(26196);class a{constructor(){this.featureId=r.tE.K8S_RESOURCE_POOL_STORAGE_QUOTA,this.handleChange=this.handleChange.bind(this)}handleChange(e){this.onChange(this.name,e)}}a.$inject=[],t.default=a},19777:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(83908);const s=n(28134);a().module("portainer.kubernetes").component("kubernetesCreateResourcePoolView",{templateUrl:s,controller:i.default,bindings:{endpoint:"<"}})},83908:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(51235),s=n.n(i),o=n(29500),l=n.n(o),c=n(47685),d=n(22229),u=n(16496),p=n(47086),m=n(14917),g=n(62072),h=n(26196),f=n(4679);class v{constructor(e,t,n,r,a,i,s,o,l){Object.assign(this,{$async:e,$state:t,$scope:n,Notifications:r,KubernetesNodeService:a,KubernetesResourcePoolService:i,KubernetesIngressService:s,Authentication:o,EndpointService:l}),this.IngressClassTypes=g.KubernetesIngressClassTypes,this.LBQuotaFeatureId=h.tE.K8S_RESOURCE_POOL_LB_QUOTA,this.onToggleStorageQuota=this.onToggleStorageQuota.bind(this),this.onToggleLoadBalancerQuota=this.onToggleLoadBalancerQuota.bind(this),this.onToggleResourceQuota=this.onToggleResourceQuota.bind(this),this.onChangeIngressControllerAvailability=this.onChangeIngressControllerAvailability.bind(this),this.onRegistriesChange=this.onRegistriesChange.bind(this),this.handleMemoryLimitChange=this.handleMemoryLimitChange.bind(this),this.handleCpuLimitChange=this.handleCpuLimitChange.bind(this)}onRegistriesChange(e){return this.$scope.$evalAsync((()=>{this.formValues.Registries=e}))}onToggleStorageQuota(e,t){this.$scope.$evalAsync((()=>{this.formValues.StorageClasses=this.formValues.StorageClasses.map((n=>n.Name!==e?n:{...n,Selected:t}))}))}onToggleLoadBalancerQuota(e){this.$scope.$evalAsync((()=>{this.formValues.UseLoadBalancersQuota=e}))}onToggleResourceQuota(e){this.$scope.$evalAsync((()=>{this.formValues.HasQuota=e}))}onChangeIngressControllerAvailability(e){this.ingressControllers=e}isCreateButtonDisabled(){return this.state.actionInProgress||this.formValues.HasQuota&&!this.isQuotaValid()||this.state.isAlreadyExist||this.state.hasPrefixKube||this.state.duplicates.ingressHosts.hasRefs}onChangeName(){this.state.isAlreadyExist=void 0!==s()(this.resourcePools,(e=>e.Namespace.Name===this.formValues.Name)),this.state.hasPrefixKube=/^kube-/.test(this.formValues.Name)}isQuotaValid(){return!(this.state.sliderMaxCpu<this.formValues.CpuLimit||this.state.sliderMaxMemory<this.formValues.MemoryLimit||0===this.formValues.CpuLimit&&0===this.formValues.MemoryLimit)}checkDefaults(){this.formValues.CpuLimit<this.defaults.CpuLimit&&(this.formValues.CpuLimit=this.defaults.CpuLimit),this.formValues.MemoryLimit<d.default.megaBytesValue(this.defaults.MemoryLimit)&&(this.formValues.MemoryLimit=d.default.megaBytesValue(this.defaults.MemoryLimit))}handleMemoryLimitChange(e){return this.$async((async()=>{this.formValues.MemoryLimit=e}))}handleCpuLimitChange(e){return this.$async((async()=>{this.formValues.CpuLimit=e}))}createResourcePool(){return this.$async((async()=>{this.state.actionInProgress=!0;try{this.checkDefaults(),this.formValues.Owner=this.Authentication.getUserDetails().username,await this.KubernetesResourcePoolService.create(this.formValues),await(0,f.A)(this.endpoint.Id,this.ingressControllers||[],this.formValues.Name),this.Notifications.success("Namespace successfully created",this.formValues.Name),this.$state.go("kubernetes.resourcePools")}catch(e){this.Notifications.error("Failure",e,"Unable to create namespace")}finally{this.state.actionInProgress=!1}}))}getIngresses(){return this.$async((async()=>{try{this.allIngresses=await this.KubernetesIngressService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve ingresses.")}}))}getResourcePools(){return this.$async((async()=>{try{this.resourcePools=await this.KubernetesResourcePoolService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespaces")}}))}getRegistries(){return this.$async((async()=>{try{this.registries=await this.EndpointService.registries(this.endpoint.Id)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registries")}}))}$onInit(){return this.$async((async()=>{try{const e=this.endpoint;this.defaults=c.KubernetesResourceQuotaDefaults,this.formValues=new u.KubernetesResourcePoolFormValues(this.defaults),this.formValues.EndpointId=this.endpoint.Id,this.formValues.HasQuota=!0,this.state={actionInProgress:!1,sliderMaxMemory:0,sliderMaxCpu:0,viewReady:!1,isAlreadyExist:!1,hasPrefixKube:!1,canUseIngress:!1,duplicates:{ingressHosts:new m.KubernetesFormValidationReferences},isAdmin:this.Authentication.isAdmin(),ingressAvailabilityPerNamespace:e.Kubernetes.Configuration.IngressAvailabilityPerNamespace};const t=await this.KubernetesNodeService.get();if(this.ingressControllers=[],this.state.ingressAvailabilityPerNamespace&&(this.ingressControllers=await(0,f.N)({environmentId:this.endpoint.Id,allowedOnly:!0})),a()(t,(e=>{this.state.sliderMaxMemory+=l()(e.Memory),this.state.sliderMaxCpu+=e.CPU})),this.state.sliderMaxMemory=d.default.megaBytesValue(this.state.sliderMaxMemory),await this.getResourcePools(),this.state.canUseIngress){await this.getIngresses();const t=e.Kubernetes.Configuration.IngressClasses;this.formValues.IngressClasses=p.KubernetesIngressConverter.ingressClassesToFormValues(t)}a()(this.formValues.IngressClasses,(e=>{0===e.Hosts.length&&e.Hosts.push(new u.KubernetesResourcePoolIngressClassHostFormValue)})),await this.getRegistries()}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}}))}}v.$inject=["$async","$state","$scope","Notifications","KubernetesNodeService","KubernetesResourcePoolService","KubernetesIngressService","Authentication","EndpointService"],t.default=v},63009:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(83432),s=n.n(i);angular.module("portainer.kubernetes").controller("KubernetesResourcePoolIngressesDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.onSettingsRepeaterChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Paths.length>0},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,a()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},88952:function(e,t,n){const r=n(23932);angular.module("portainer.kubernetes").component("kubernetesResourcePoolIngressesDatatable",{templateUrl:r,controller:"KubernetesResourcePoolIngressesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},85146:function(e,t,n){const r=n(50856);angular.module("portainer.kubernetes").component("kubernetesResourcePoolView",{templateUrl:r,controller:"KubernetesResourcePoolController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},42310:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r),i=n(41952),s=n.n(i),o=n(66539),l=n.n(o),c=n(83432),d=n.n(c),u=n(29274),p=n.n(u),m=n(29500),g=n.n(m),h=n(47685),f=n(22229),v=n(46685),b=n(52929),y=n(16496),w=n(47086),x=n(14917),S=n(62072),C=n(57456),k=n(7506),A=n(26196),P=n(4679);class I{constructor(e,t,n,r,a,i,s,o,l,c,d,u,p,m,g,f,v){Object.assign(this,{$async:e,$state:t,$scope:n,Authentication:r,Notifications:a,LocalStorage:i,EndpointService:s,ModalService:o,KubernetesNodeService:l,KubernetesMetricsService:c,KubernetesResourceQuotaService:d,KubernetesResourcePoolService:u,KubernetesEventService:p,KubernetesPodService:m,KubernetesApplicationService:g,KubernetesIngressService:f,KubernetesVolumeService:v}),this.IngressClassTypes=S.KubernetesIngressClassTypes,this.ResourceQuotaDefaults=h.KubernetesResourceQuotaDefaults,this.LBQuotaFeatureId=A.tE.K8S_RESOURCE_POOL_LB_QUOTA,this.StorageQuotaFeatureId=A.tE.K8S_RESOURCE_POOL_STORAGE_QUOTA,this.updateResourcePoolAsync=this.updateResourcePoolAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.onToggleLoadBalancersQuota=this.onToggleLoadBalancersQuota.bind(this),this.onToggleStorageQuota=this.onToggleStorageQuota.bind(this),this.onChangeIngressControllerAvailability=this.onChangeIngressControllerAvailability.bind(this),this.onRegistriesChange=this.onRegistriesChange.bind(this),this.handleMemoryLimitChange=this.handleMemoryLimitChange.bind(this),this.handleCpuLimitChange=this.handleCpuLimitChange.bind(this)}onRegistriesChange(e){return this.$scope.$evalAsync((()=>{this.formValues.Registries=e}))}onToggleLoadBalancersQuota(e){return this.$scope.$evalAsync((()=>{this.formValues.UseLoadBalancersQuota=e}))}onToggleStorageQuota(e,t){this.$scope.$evalAsync((()=>{this.formValues.StorageClasses=this.formValues.StorageClasses.map((n=>n.Name!==e?n:{...n,Selected:t}))}))}onChangeIngressControllerAvailability(e){this.ingressControllers=e}selectTab(e){this.LocalStorage.storeActiveTab("resourcePool",e)}isUpdateButtonDisabled(){return this.state.actionInProgress||this.formValues.HasQuota&&!this.isQuotaValid()||this.state.duplicates.ingressHosts.hasRefs}isQuotaValid(){return!(this.state.sliderMaxCpu<this.formValues.CpuLimit||this.state.sliderMaxMemory<this.formValues.MemoryLimit||0===this.formValues.CpuLimit&&0===this.formValues.MemoryLimit)}checkDefaults(){this.formValues.CpuLimit<h.KubernetesResourceQuotaDefaults.CpuLimit&&(this.formValues.CpuLimit=h.KubernetesResourceQuotaDefaults.CpuLimit),this.formValues.MemoryLimit<f.default.megaBytesValue(h.KubernetesResourceQuotaDefaults.MemoryLimit)&&(this.formValues.MemoryLimit=f.default.megaBytesValue(h.KubernetesResourceQuotaDefaults.MemoryLimit))}handleMemoryLimitChange(e){return this.$async((async()=>{this.formValues.MemoryLimit=e}))}handleCpuLimitChange(e){return this.$async((async()=>{this.formValues.CpuLimit=e}))}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}hasResourceQuotaBeenReduced(){if(this.formValues.HasQuota&&this.oldQuota){const e=this.formValues.CpuLimit,t=f.default.bytesValue(this.formValues.MemoryLimit);if(e<this.oldQuota.CpuLimit||t<this.oldQuota.MemoryLimit)return!0}return!1}async updateResourcePoolAsync(e,t){this.state.actionInProgress=!0;try{this.checkDefaults(),await this.KubernetesResourcePoolService.patch(e,t),await(0,P.A)(this.endpoint.Id,this.ingressControllers||[],this.formValues.Name),this.Notifications.success("Namespace successfully updated",this.pool.Namespace.Name),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to create namespace")}finally{this.state.actionInProgress=!1}}updateResourcePool(){const e=d()(this.formValues.IngressClasses,{WasSelected:!0,Selected:!1}),t=d()(this.registries,{WasChecked:!0,Checked:!1}),n=this.hasResourceQuotaBeenReduced(),r=0!==e.length,a=0!==t.length;if(!(n||r||a))return this.$async(this.updateResourcePoolAsync,this.savedFormValues,this.formValues);{const e={quota:'Reducing the quota assigned to an "in-use" namespace may have unintended consequences, including preventing running applications from functioning correctly and potentially even blocking them from running at all.',ingress:"Deactivating ingresses may cause applications to be unaccessible. All ingress configurations from affected applications will be removed.",registries:"Some registries you removed might be used by one or more applications inside this environment. Removing the registries access could lead to a service interruption for these applications."},t=`${n?e.quota+"<br/><br/>":""}\n      ${r?e.ingress+"<br/><br/>":""}\n      ${a?e.registries+"<br/><br/>":""}\n      Do you wish to continue?`;this.ModalService.confirmUpdate(t,(e=>{if(e)return this.$async(this.updateResourcePoolAsync,this.savedFormValues,this.formValues)}))}}async confirmMarkUnmarkAsSystem(){const e=this.isSystem?"Unmarking this namespace as system will allow non administrator users to manage it and the resources in contains depending on the access control settings. Are you sure?":"Marking this namespace as a system namespace will prevent non administrator users from managing it and the resources it contains. Are you sure?";return new Promise((t=>{this.ModalService.confirmUpdate(e,t)}))}markUnmarkAsSystem(){return this.$async((async()=>{try{const e=this.$state.params.id;if(this.state.actionInProgress=!0,!await this.confirmMarkUnmarkAsSystem())return;await this.KubernetesResourcePoolService.toggleSystem(this.endpoint.Id,e,!this.isSystem),this.Notifications.success("Namespace successfully updated",e),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to create namespace")}finally{this.state.actionInProgress=!1}}))}hasEventWarnings(){return this.state.eventWarningCount}getEvents(){return this.$async((async()=>{try{this.state.eventsLoading=!0,this.events=await this.KubernetesEventService.get(this.pool.Namespace.Name),this.state.eventWarningCount=b.default.warningCount(this.events)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespace related events")}finally{this.state.eventsLoading=!1}}))}getApplications(){return this.$async((async()=>{try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get(this.pool.Namespace.Name),this.applications=l()(this.applications,(e=>{const t=f.default.computeResourceReservation(e.Pods);return e.CPU=t.CPU,e.Memory=t.Memory,e})),this.state.useServerMetrics&&await this.getResourceUsage(this.pool.Namespace.Name)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve applications.")}finally{this.state.applicationsLoading=!1}}))}getIngresses(){return this.$async((async()=>{this.state.ingressesLoading=!0;try{const e=this.pool.Namespace.Name;this.allIngresses=await this.KubernetesIngressService.get(this.state.hasWriteAuthorization?"":e),this.ingresses=d()(this.allIngresses,{Namespace:e}),s()(this.ingresses,(t=>{t.Namespace=e,s()(t.Paths,(e=>{const t=a()(this.applications,{ServiceName:e.ServiceName});e.ApplicationName=t&&t.Name?t.Name:"-"}))}))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve ingresses.")}finally{this.state.ingressesLoading=!1}}))}getRegistries(){return this.$async((async()=>{try{const e=this.$state.params.id;if(this.isAdmin)return this.registries=await this.EndpointService.registries(this.endpoint.Id),this.registries.forEach((t=>{t.RegistryAccesses&&t.RegistryAccesses[this.endpoint.Id]&&t.RegistryAccesses[this.endpoint.Id].Namespaces.includes(e)&&(t.Checked=!0,t.WasChecked=!0,this.formValues.Registries.push(t))})),void(this.selectedRegistries=this.formValues.Registries.map((e=>e.Name)).join(", "));const t=await this.EndpointService.registries(this.endpoint.Id,e);this.selectedRegistries=t.map((e=>e.Name)).join(", ")}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registries")}}))}async getResourceUsage(e){try{const t=(await this.KubernetesMetricsService.getPods(e)).items.flatMap((e=>e.containers.map((e=>e.usage)))).reduce(((e,t)=>(e.CPU+=f.default.parseCPU(t.cpu),e.Memory+=f.default.megaBytesValue(t.memory),e)),new v.KubernetesResourceReservation);this.state.resourceUsage=t}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve namespace resource usage")}}$onInit(){return this.$async((async()=>{try{this.isAdmin=this.Authentication.isAdmin(),this.state={actionInProgress:!1,sliderMaxMemory:0,sliderMaxCpu:0,cpuUsage:0,memoryUsage:0,resourceReservation:{CPU:0,Memory:0},activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,eventsLoading:!0,applicationsLoading:!0,ingressesLoading:!0,viewReady:!1,eventWarningCount:0,canUseIngress:!1,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics,duplicates:{ingressHosts:new x.KubernetesFormValidationReferences},ingressAvailabilityPerNamespace:this.endpoint.Kubernetes.Configuration.IngressAvailabilityPerNamespace},this.state.activeTab=this.LocalStorage.getActiveTab("resourcePool");const e=this.$state.params.id,[t,n]=await Promise.all([this.KubernetesNodeService.get(),this.KubernetesResourcePoolService.get()]);this.ingressControllers=[],this.state.ingressAvailabilityPerNamespace&&(this.ingressControllers=await(0,P.N)({environmentId:this.endpoint.Id,namespace:e})),this.pool=a()(n,{Namespace:{Name:e}}),this.formValues=new y.KubernetesResourcePoolFormValues(h.KubernetesResourceQuotaDefaults),this.formValues.Name=this.pool.Namespace.Name,this.formValues.EndpointId=this.endpoint.Id,this.formValues.IsSystem=this.pool.Namespace.IsSystem,s()(t,(e=>{this.state.sliderMaxMemory+=g()(e.Memory),this.state.sliderMaxCpu+=e.CPU})),this.state.sliderMaxMemory=f.default.megaBytesValue(this.state.sliderMaxMemory);const r=this.pool.Quota;if(r&&(this.oldQuota=p().copy(r),this.formValues=C.default.quotaToResourcePoolFormValues(r),this.formValues.EndpointId=this.endpoint.Id,this.state.resourceReservation.CPU=r.CpuLimitUsed,this.state.resourceReservation.Memory=f.default.megaBytesValue(r.MemoryLimitUsed)),this.isSystem=k.default.isSystemNamespace(this.pool.Namespace.Name),this.isDefaultNamespace=k.default.isDefaultNamespace(this.pool.Namespace.Name),this.isEditable=!this.isSystem&&!this.isDefaultNamespace,await this.getEvents(),await this.getApplications(),this.state.canUseIngress){await this.getIngresses();const e=this.endpoint.Kubernetes.Configuration.IngressClasses;this.formValues.IngressClasses=w.KubernetesIngressConverter.ingressClassesToFormValues(e,this.ingresses),s()(this.formValues.IngressClasses,(e=>{0===e.Hosts.length&&e.Hosts.push(new y.KubernetesResourcePoolIngressClassHostFormValue)}))}await this.getRegistries(),this.savedFormValues=p().copy(this.formValues)}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}}))}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("resourcePool",0)}}I.$inject=["$async","$state","$scope","Authentication","Notifications","LocalStorage","EndpointService","ModalService","KubernetesNodeService","KubernetesMetricsService","KubernetesResourceQuotaService","KubernetesResourcePoolService","KubernetesEventService","KubernetesPodService","KubernetesApplicationService","KubernetesIngressService","KubernetesVolumeService"],t.default=I,p().module("portainer.kubernetes").controller("KubernetesResourcePoolController",I)},7134:function(e,t,n){const r=n(78268);angular.module("portainer.kubernetes").component("kubernetesResourcePoolsView",{templateUrl:r,controller:"KubernetesResourcePoolsController",controllerAs:"ctrl",bindings:{endpoint:"<"}})},39502:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);class i{constructor(e,t,n,r,a,i){this.$async=e,this.$state=t,this.Notifications=n,this.ModalService=r,this.KubernetesResourcePoolService=a,this.KubernetesNamespaceService=i,this.onInit=this.onInit.bind(this),this.getResourcePools=this.getResourcePools.bind(this),this.getResourcePoolsAsync=this.getResourcePoolsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}async removeActionAsync(e){let t=e.length;for(const n of e)try{"Terminating"===n.Namespace.Status?(await this.KubernetesNamespaceService.getJSONAsync(n.Namespace.Name)).$promise.then((async e=>{const t=JSON.parse(e.data);t.spec&&t.spec.finalizers&&delete t.spec.finalizers,await this.KubernetesNamespaceService.updateFinalizeAsync(t)})):await this.KubernetesResourcePoolService.delete(n),this.Notifications.success("Namespace successfully removed",n.Namespace.Name);const e=this.resourcePools.indexOf(n);this.resourcePools.splice(e,1)}catch(e){this.Notifications.error("Failure",e,"Unable to remove namespace")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){const t=e.some((e=>"Terminating"===e.Namespace.Status)),n=t?"At least one namespace is in a terminating state. For terminating state namespaces, you may continue and force removal, but doing so without having properly cleaned up may lead to unstable and unpredictable behavior. Are you sure you wish to proceed?":"Do you want to remove the selected namespace(s)? All the resources associated to the selected namespace(s) will be removed too. Are you sure you wish to proceed?";this.ModalService.confirmWithTitle(t?"Force namespace removal":"Are you sure?",n,(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}async getResourcePoolsAsync(){try{this.resourcePools=await this.KubernetesResourcePoolService.get()}catch(e){this.Notifications.error("Failure",e,"Unable to retreive namespaces")}}getResourcePools(){return this.$async(this.getResourcePoolsAsync)}async onInit(){this.state={viewReady:!1},await this.getResourcePools(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}i.$inject=["$async","$state","Notifications","ModalService","KubernetesResourcePoolService","KubernetesNamespaceService"],t.default=i,a().module("portainer.kubernetes").controller("KubernetesResourcePoolsController",i)},66046:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(26196);a().module("portainer.kubernetes").controller("KubernetesSecurityConstraintController",["$scope","EndpointProvider","EndpointService",function(e,t,n){e.limitedFeaturePodSecurityPolicy=i.tE.POD_SECURITY_POLICY_CONSTRAINT,e.state={viewReady:!1,actionInProgress:!1},async function(){const r=t.endpointID();n.endpoint(r).then((t=>{e.endpoint=t,e.state.viewReady=!0}))}()}])},9981:function(e,t,n){const r=n(88336);angular.module("portainer.kubernetes").component("kubernetesStackLogsView",{templateUrl:r,controller:"KubernetesStackLogsController",controllerAs:"ctrl",bindings:{$transition$:"<"}})},39554:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(74362),s=n.n(i),o=n(83432),l=n.n(o),c=n(29274),d=n.n(c),u=n(67808),p=n(89115);const m=["red","orange","lime","green","darkgreen","cyan","turquoise","teal","deepskyblue","blue","darkblue","slateblue","magenta","darkviolet"];class g{constructor(e,t,n,r,a,i,s,o){this.$async=e,this.$state=t,this.$interval=n,this.Notifications=r,this.KubernetesApplicationService=a,this.KubernetesPodService=i,this.Blob=o,this.FileSaver=s,this.onInit=this.onInit.bind(this),this.stopRepeater=this.stopRepeater.bind(this),this.generateLogsPromise=this.generateLogsPromise.bind(this),this.generateAppPromise=this.generateAppPromise.bind(this),this.getStackLogsAsync=this.getStackLogsAsync.bind(this)}updateAutoRefresh(){this.state.autoRefresh?this.setUpdateRepeater():this.stopRepeater()}stopRepeater(){d().isDefined(this.repeater)&&(this.$interval.cancel(this.repeater),this.repeater=null)}setUpdateRepeater(){this.repeater=this.$interval(this.getStackLogsAsync,this.state.refreshRate)}async generateLogsPromise(e,t){const n={Pod:e,Logs:[]};return n.Logs=await this.KubernetesPodService.logs(e.Namespace,e.Name,t.Name),n}async generateAppPromise(e){const t={Application:e,Pods:[]},n=s()(a()(e.Pods,(e=>a()(e.Containers,(t=>this.generateLogsPromise(e,t)))))),r=await(0,u.default)(n);return t.Pods=r.fulfilled,t}async getStackLogsAsync(){try{const e=await this.KubernetesApplicationService.get(this.state.transition.namespace),t=l()(e,(e=>e.StackName===this.state.transition.name)),n=a()(t,this.generateAppPromise),r=await Promise.all(n),i=s()(r,((e,t)=>s()(e.Pods,(e=>(0,p.q)(e.Logs).map((n=>({...n,appColor:m[t%m.length],appName:e.Pod.Name})))))));this.stackLogs=i}catch(e){this.stopRepeater(),this.Notifications.error("Failure",e,"Unable to retrieve application logs")}}downloadLogs(){const e=(0,p.m)(this.state.filteredLogs,(e=>`${e.appName} ${e.line}`)),t=new this.Blob([e]);this.FileSaver.saveAs(t,this.state.transition.name+"_logs.txt")}async onInit(){this.state={autoRefresh:!1,refreshRate:3e4,search:"",viewReady:!1,transition:{namespace:this.$transition$.params().namespace,name:this.$transition$.params().name}},this.stackLogs=[];try{await this.getStackLogsAsync()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve stack logs")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.stopRepeater()}}g.$inject=["$async","$state","$interval","Notifications","KubernetesApplicationService","KubernetesPodService","FileSaver","Blob"],t.default=g,d().module("portainer.kubernetes").controller("KubernetesStackLogsController",g)},45233:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(51235),a=n.n(r),i=n(39212),s=n(14917),o=n(59238),l=n(91920),c=n(12745),d=n(79990),u=n(7172),p=n(1239),m=n(41247),g=n(10293),h=n(86998),f=n(47086),v=n(56636);const{CREATE:b,UPDATE:y,DELETE:w}=i.KubernetesResourceActions;function x(e,t={}){if(t instanceof s.KubernetesApplicationFormValues){const n=function(e,t){const n=[],[r,s,o,c,h]=g.default.applicationFormValuesToApplication(e),[x,P,I,$,N]=g.default.applicationFormValuesToApplication(t),T=C(r);if(T!==C(x)){n.push({action:w,kind:T,name:r.Name}),c&&o&&n.push({action:w,kind:i.KubernetesResourceTypes.SERVICE,name:c.Name,type:c.Type||d.KubernetesServiceTypes.CLUSTER_IP});const e=S(t);return n.push(...e),n}if(x instanceof l.KubernetesStatefulSet){const e=A(s,P);e&&n.push(e)}else{const e=N.map((e=>{return e.PreviousName||e.Id?e.Id?void 0:(t=a()(h,{Name:e.PreviousName}),n=e,v.default.patchPayload(t,n).length?{action:y,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:t.Name}:null):{action:b,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:e.Name};var t,n})).filter((e=>e));n.push(...e)}if(n.push({action:y,kind:T,name:r.Name}),o&&I){const r=A(o,I);if(null!==r&&r.forEach((e=>{n.push(e)})),t.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS||e.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS){const r=f.KubernetesIngressConverter.applicationFormValuesToIngresses(e,c.Name),a=f.KubernetesIngressConverter.applicationFormValuesToIngresses(t,$.Name);n.push(...k(r,a))}}else if(!c&&$){if(n.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:$.Name,type:$.Type||d.KubernetesServiceTypes.CLUSTER_IP}),t.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS){const e=f.KubernetesIngressConverter.applicationFormValuesToIngresses(t,$.Name);n.push(...k(t.OriginalIngresses,e))}}else if(c&&!$&&(n.push({action:w,kind:i.KubernetesResourceTypes.SERVICE,name:c.Name,type:c.Type||d.KubernetesServiceTypes.CLUSTER_IP}),e.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS)){const r=f.KubernetesIngressConverter.applicationFormValuesToIngresses(t,c.Name);n.push(...k(e.OriginalIngresses,r))}const E=p.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(x),j=m.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(t,E);if(e.AutoScaler.IsUsed){const a=p.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(r),s=m.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,a);if(t.AutoScaler.IsUsed){const e=(D=s,O=j,m.KubernetesHorizontalPodAutoScalerConverter.patchPayload(D,O).length?{action:y,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:D.Name}:null);e&&n.push(e)}else n.push({action:w,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:s.Name})}else t.AutoScaler.IsUsed&&n.push({action:b,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:j.Name});var D,O;return n}(t,e);return n}return S(e)}function S(e){const t=[];let[n,r,a,s,o]=g.default.applicationFormValuesToApplication(e);if(a&&a.forEach((n=>{if(t.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:n.Name,type:n.Type||d.KubernetesServiceTypes.CLUSTER_IP}),0!==e.OriginalIngresses.length){const r=f.KubernetesIngressConverter.newApplicationFormValuesToIngresses(e,n.Name,n.Ports);t.push(...k(e.OriginalIngresses,r))}})),s&&(t.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:s.Name,type:s.Type||d.KubernetesServiceTypes.CLUSTER_IP}),e.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS)){const n=f.KubernetesIngressConverter.applicationFormValuesToIngresses(e,s.Name);t.push(...k(e.OriginalIngresses,n))}if(n instanceof l.KubernetesStatefulSet)t.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:r.Name,type:r.Type||d.KubernetesServiceTypes.CLUSTER_IP});else{const e=o.filter((e=>!e.PreviousName&&!e.Id)).map((e=>({action:b,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:e.Name})));t.push(...e)}if(e.AutoScaler.IsUsed&&e.DeploymentType!==u.KubernetesApplicationDeploymentTypes.GLOBAL){const r=p.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(n),a=m.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,r);t.push({action:b,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:a.Name})}const c=C(n);return null!==c&&t.push({action:b,kind:c,name:n.Name}),t}function C(e){return e instanceof o.KubernetesDeployment||e instanceof u.KubernetesApplication&&e.ApplicationType===u.KubernetesApplicationTypes.DEPLOYMENT?i.KubernetesResourceTypes.DEPLOYMENT:e instanceof c.KubernetesDaemonSet||e instanceof u.KubernetesApplication&&e.ApplicationType===u.KubernetesApplicationTypes.DAEMONSET?i.KubernetesResourceTypes.DAEMONSET:e instanceof l.KubernetesStatefulSet||e instanceof u.KubernetesApplication&&e.ApplicationType===u.KubernetesApplicationTypes.STATEFULSET?i.KubernetesResourceTypes.STATEFULSET:null}function k(e,t){return t.map((t=>{return n=a()(e,{Name:t.Name}),r=t,f.KubernetesIngressConverter.patchPayload(n,r).length?{action:y,kind:i.KubernetesResourceTypes.INGRESS,name:n.Name}:null;var n,r})).filter((e=>e))}function A(e,t){let n=[];return e.Headless||(t.forEach((t=>{const r=a()(e,{Name:t.Name});if(r){if(h.default.patchPayload(r,t).length){const e={action:y,kind:i.KubernetesResourceTypes.SERVICE,name:r.Name,type:r.Type||d.KubernetesServiceTypes.CLUSTER_IP};n.push(e)}}else{const e=new d.KubernetesService;if(h.default.patchPayload(e,t).length){const e={action:b,kind:i.KubernetesResourceTypes.SERVICE,name:t.Name,type:t.Type||d.KubernetesServiceTypes.CLUSTER_IP};n.push(e)}}})),e.forEach((e=>{if(!a()(t,{Name:e.Name})){const t={action:w,kind:i.KubernetesResourceTypes.SERVICE,name:e.Name,type:e.Type||d.KubernetesServiceTypes.CLUSTER_IP};n.push(t)}}))),0!==n.length?n:null}},3310:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(39212),a=n(82434);const{CREATE:i,UPDATE:s}=r.KubernetesResourceActions;function o(e){const t=e.Id?s:i;if(e.Kind===a.KubernetesConfigurationKinds.CONFIGMAP)return[{action:t,kind:r.KubernetesResourceTypes.CONFIGMAP,name:e.Name}];if(e.Kind===a.KubernetesConfigurationKinds.SECRET){let n=e.Type;return e.customType&&(n=e.customType),[{action:t,kind:r.KubernetesResourceTypes.SECRET,name:e.Name,type:n}]}}},60953:function(e,t,n){"use strict";n.r(t),n.d(t,{getResourcesSummary:function(){return v}});var r=n(44716),a=n.n(r),i=n(83432),s=n.n(i),o=n(32461),l=n.n(o),c=n(61977),d=n.n(c),u=n(34901),p=n(39212);function m(e,t){return d()(e,t,"Name")}function g(e,t){return d()(t,e,"Name")}function h(e,t){return l()(e,t,((e,t)=>e.Name==t.Name&&!function(e,t){let n=u.qu(e,t);return n=s()(n,(e=>!a()(e.path,"$$hashKey")&&!a()(e.path,"Duplicate"))),!n.length}(e,t)))}function f(e,t,n,r,a){return a(e,t).map((e=>({name:e.Name,action:r,kind:n})))}function v(e,t,n){return Array.isArray(e)||(e=e?[e]:[],t=t?[t]:[]),[...f(e,t,n,p.KubernetesResourceActions.CREATE,m),...f(e,t,n,p.KubernetesResourceActions.UPDATE,h),...f(e,t,n,p.KubernetesResourceActions.DELETE,g)]}},49113:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(57911),a=n(16496),i=n(47685),s=n(39212),o=n(60953);function l(e,t){const[n,l,c]=r.default.formValuesToResourcePool(e);t instanceof a.KubernetesResourcePoolFormValues||(t=new a.KubernetesResourcePoolFormValues(i.KubernetesResourceQuotaDefaults));const[d,u,p]=r.default.formValuesToResourcePool(t);return[...(0,o.getResourcesSummary)(n,d,s.KubernetesResourceTypes.NAMESPACE),...(0,o.getResourcesSummary)(l,u,s.KubernetesResourceTypes.RESOURCEQUOTA),...(0,o.getResourcesSummary)(c,p,s.KubernetesResourceTypes.INGRESS)]}},21099:function(e,t,n){const r=n(17648);angular.module("portainer.kubernetes").component("kubernetesSummaryView",{templateUrl:r,controller:"KubernetesSummaryController",controllerAs:"$ctrl",bindings:{formValues:"<",oldFormValues:"<"}})},69861:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(30578),s=n(16496),o=n(14917),l=n(39212),c=n(45233),d=n(49113),u=n(3310);class p{constructor(e,t,n){this.LocalStorage=t,this.KubernetesResourcePoolService=n,this.toggleSummary=this.toggleSummary.bind(this),this.generateResourceSummaryList=this.generateResourceSummaryList.bind(this),e.$watch("$ctrl.formValues",(e=>{this.state.resources=this.generateResourceSummaryList(a().copy(e))}),!0)}getArticle(e,t){let n="a";return t===l.KubernetesResourceActions.CREATE?e===l.KubernetesResourceTypes.INGRESS&&(n="an"):n="the",n}toggleSummary(){this.state.expandedTemplate=!this.state.expandedTemplate,this.LocalStorage.storeKubernetesSummaryToggle(this.state.expandedTemplate)}generateResourceSummaryList(e){const t=this.oldFormValues;return e instanceof i.KubernetesConfigurationFormValues?(0,u.default)(e):e instanceof s.KubernetesResourcePoolFormValues?(0,d.default)(e,t):e instanceof o.KubernetesApplicationFormValues?(this.state.limits={cpu:e.CpuLimit,memory:e.MemoryLimit},(0,c.default)(e,t)):[]}$onInit(){const e=this.LocalStorage.getKubernetesSummaryToggle(),t="boolean"!=typeof e||e;this.state={expandedTemplate:t,resources:[],limits:{cpu:null,memory:null}}}}p.$inject=["$scope","LocalStorage","KubernetesResourcePoolService"],t.default=p,a().module("portainer.kubernetes").controller("KubernetesSummaryController",p)},70302:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(83432),s=n.n(i);angular.module("portainer.kubernetes").controller("KubernetesVolumesStoragesDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.onSettingsRepeaterChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Volumes.length>0},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,a()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},1502:function(e,t,n){const r=n(71894);angular.module("portainer.kubernetes").component("kubernetesVolumesStoragesDatatable",{templateUrl:r,controller:"KubernetesVolumesStoragesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",refreshCallback:"<"}})},61158:function(e,t,n){const r=n(86604);angular.module("portainer.kubernetes").component("kubernetesVolumeView",{templateUrl:r,controller:"KubernetesVolumeController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},52962:function(e,t,n){"use strict";n.r(t);var r=n(83432),a=n.n(r),i=n(66539),s=n.n(i),o=n(55332),l=n.n(o),c=n(29274),d=n.n(c),u=n(29500),p=n.n(u),m=n(11507),g=n(52929),h=n(86871),f=n(7506);class v{constructor(e,t,n,r,a,i,s,o,l,c){this.$async=e,this.$state=t,this.Notifications=n,this.LocalStorage=r,this.KubernetesVolumeService=a,this.KubernetesEventService=i,this.KubernetesApplicationService=s,this.KubernetesPersistentVolumeClaimService=o,this.ModalService=l,this.KubernetesPodService=c,this.onInit=this.onInit.bind(this),this.getVolume=this.getVolume.bind(this),this.getVolumeAsync=this.getVolumeAsync.bind(this),this.updateVolumeAsync=this.updateVolumeAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab("volume",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}isExternalVolume(){return m.default.isExternalVolume(this.volume)}isSystemNamespace(){return f.default.isSystemNamespace(this.volume.ResourcePool.Namespace.Name)}isUsed(){return m.default.isUsed(this.volume)}onChangeSize(){if(this.state.volumeSize){const e=p()(this.state.volumeSize+this.state.volumeSizeUnit,{base:10});this.state.oldVolumeSize>e?this.state.errors.volumeSize=!0:this.state.errors.volumeSize=!1}}sizeIsValid(){return!this.state.errors.volumeSize&&this.state.volumeSize&&this.state.oldVolumeSize!==p()(this.state.volumeSize+this.state.volumeSizeUnit,{base:10})}async updateVolumeAsync(e){try{if(this.volume.PersistentVolumeClaim.Storage=this.state.volumeSize+this.state.volumeSizeUnit.charAt(0),await this.KubernetesPersistentVolumeClaimService.patch(this.oldVolume.PersistentVolumeClaim,this.volume.PersistentVolumeClaim),this.Notifications.success("Success","Volume successfully updated"),e){const e=l()(s()(this.volume.Applications,(e=>s()(e.Pods,(e=>this.KubernetesPodService.delete(e))))));await Promise.all(e),this.Notifications.success("Success","Applications successfully redeployed")}this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Unable to update volume.")}}updateVolume(){if(!m.default.isUsed(this.volume))return this.$async(this.updateVolumeAsync,!1);this.ModalService.confirmRedeploy("One or multiple applications are currently using this volume.</br> For the change to be taken into account these applications will need to be redeployed. Do you want us to reschedule it now?",(e=>this.$async(this.updateVolumeAsync,e)))}async getVolumeAsync(){const e=this.endpoint.Kubernetes.Configuration.StorageClasses;try{const[t,n]=await Promise.all([this.KubernetesVolumeService.get(this.state.namespace,e,this.state.name),this.KubernetesApplicationService.get(this.state.namespace)]);t.Applications=m.default.getUsingApplications(t,n),this.volume=t,this.oldVolume=d().copy(t),this.state.volumeSize=parseInt(t.PersistentVolumeClaim.Storage.slice(0,-2),10),this.state.volumeSizeUnit=t.PersistentVolumeClaim.Storage.slice(-2),this.state.oldVolumeSize=p()(t.PersistentVolumeClaim.Storage,{base:10})}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve volume")}}getVolume(){return this.$async(this.getVolumeAsync)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get(this.state.namespace);this.events=a()(e,(e=>e.Involved.uid===this.volume.PersistentVolumeClaim.Id)),this.state.eventWarningCount=g.default.warningCount(this.events)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve application related events")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}async onInit(){this.state={activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,eventsLoading:!0,viewReady:!1,namespace:this.$transition$.params().namespace,name:this.$transition$.params().name,eventWarningCount:0,availableSizeUnits:["MB","GB","TB"],increaseSize:!1,volumeSize:0,volumeSizeUnit:"GB",volumeSharedAccessPolicy:"",volumeSharedAccessPolicyTooltip:"",errors:{volumeSize:!1}},this.state.activeTab=this.LocalStorage.getActiveTab("volume");try{await this.getVolume(),await this.getEvents(),void 0!==this.volume.PersistentVolumeClaim.StorageClass&&(this.state.volumeSharedAccessPolicy=this.volume.PersistentVolumeClaim.StorageClass.AccessModes[this.volume.PersistentVolumeClaim.StorageClass.AccessModes.length-1],(0,h.KubernetesStorageClassAccessPolicies)().forEach((e=>{e.Name==this.state.volumeSharedAccessPolicy&&(this.state.volumeSharedAccessPolicyTooltip=e.Description)})))}catch(e){this.Notifications.error("Failure",e,"Unable to load view data")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("volume",0)}}v.$inject=["$async","$state","Notifications","LocalStorage","KubernetesVolumeService","KubernetesEventService","KubernetesApplicationService","KubernetesPersistentVolumeClaimService","ModalService","KubernetesPodService"],t.default=v,d().module("portainer.kubernetes").controller("KubernetesVolumeController",v)},49633:function(e,t,n){const r=n(44e3);angular.module("portainer.kubernetes").component("kubernetesVolumesView",{templateUrl:r,controller:"KubernetesVolumesController",controllerAs:"ctrl",bindings:{$transition$:"<",endpoint:"<"}})},64539:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(37336),s=n.n(i),o=n(83432),l=n.n(o),c=n(41952),d=n.n(c),u=n(29500),p=n.n(u),m=n(29274),g=n.n(m),h=n(11507),f=n(21458);class v{constructor(e,t,n,r,a,i,s,o,l){this.$async=e,this.$state=t,this.Notifications=n,this.Authentication=r,this.ModalService=a,this.LocalStorage=i,this.KubernetesStorageService=s,this.KubernetesVolumeService=o,this.KubernetesApplicationService=l,this.onInit=this.onInit.bind(this),this.getVolumes=this.getVolumes.bind(this),this.getVolumesAsync=this.getVolumesAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab("volumes",e)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesVolumeService.delete(n),this.Notifications.success("Volume successfully removed",n.PersistentVolumeClaim.Name);const e=this.volumes.indexOf(n);this.volumes.splice(e,1)}catch(e){this.Notifications.error("Failure",e,"Unable to remove volume")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion("Do you want to remove the selected volume(s)?",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}async getVolumesAsync(){const e=this.endpoint.Kubernetes.Configuration.StorageClasses;try{const[t,n,r]=await Promise.all([this.KubernetesVolumeService.get(void 0,e),this.KubernetesApplicationService.get(),this.KubernetesStorageService.get(this.endpoint.Id)]);this.volumes=a()(t,(e=>(e.Applications=h.default.getUsingApplications(e,n),e))),this.storages=function(e,t){return d()(e,(e=>{const n=l()(t,["PersistentVolumeClaim.StorageClass.Name",e.Name,"PersistentVolumeClaim.StorageClass.Provisioner",e.Provisioner]);e.Volumes=n,e.Size=function(e){const t=s()(e,(e=>p()(e.PersistentVolumeClaim.Storage,{base:10}))),n=f.default.formatBytes(t);return`${n.Size}${n.SizeUnit}`}(n)})),e}(r,t)}catch(e){this.Notifications.error("Failure",e,"Unable to retreive namespaces")}}getVolumes(){return this.$async(this.getVolumesAsync)}async onInit(){this.state={viewReady:!1,currentName:this.$state.$current.name,activeTab:this.LocalStorage.getActiveTab("volumes"),isAdmin:this.Authentication.isAdmin()},await this.getVolumes(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab("volumes",0)}}v.$inject=["$async","$state","Notifications","Authentication","ModalService","LocalStorage","KubernetesStorageService","KubernetesVolumeService","KubernetesApplicationService"],t.default=v,g().module("portainer.kubernetes").controller("KubernetesVolumesController",v)},63924:function(){const e=window._paq=window._paq||[];e.push(["enableLinkTracking"]),e.push(["setTrackerUrl","https://portainer-ce.matomo.cloud/matomo.php"]),e.push(["setSiteId","1"]);var t=document,n=t.createElement("script"),r=t.getElementsByTagName("script")[0];n.type="text/javascript",n.async=!0,n.src="//cdn.matomo.cloud/portainer-ce.matomo.cloud/matomo.js",r.parentNode.insertBefore(n,r)},67912:function(e,t,n){"use strict";n.r(t);var r=n(44716),a=n.n(r),i=(n(35552),n(11033)),s=n(52744),o=(n(20493),n(29274)),l=n.n(o),c=(n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(66076),n(83161)),d=n.n(c),u=(n(92429),n(66549),n(65562),n(50033),n(23405),n(77072),n(59886),n(98191),n(24378),n(78433),n(26196)),p=n(20037);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g="limitedFeature",h=l().module("portainer.feature-flags",[]).directive("limitedFeatureDir",(function(){return{restrict:"A",link:function(e,t,n){var r=n.limitedFeatureDir;if(r){var a=Object.keys(n).filter((function(e){return e.startsWith(g)&&e!=="".concat(g,"Dir")})).map((function(e){return[d()(e.replace(g,"")),n[e]]})),i=(0,p.RU)(r);i!==u.CQ.HIDDEN?i!==u.CQ.VISIBLE&&a.forEach((function(e){var n,r,a=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],s=a[1],o=void 0===s?i:s,l=t.attr(i)||"";t.attr(i,"".concat(l," ").concat(o).trim())})):t.hide()}}}})).name,f=n(91573),v=n(96664),b=l().module("portainer.app.services.api",[]).factory("UserService",v.UserService).name,y=n(46021),w=n(43695),x=n.n(w),S=n(53062),C=n.n(S),k=n(46980),A=n(77918);function P(e){var t=x()(e);C().dialog({message:'<img src="'.concat(t,'" style="width:100%" />'),className:"image-zoom-modal",onEscape:!0})}var I=n(50477),$=l().module("portainer.app.services",[b]).factory("Notifications",y.Tx).factory("ModalService",(function(){return{enlargeImage:P,confirmWebEditorDiscard:k.ir,confirmAsync:k.l9,confirmWarn:k.TP,confirmDestructive:k.gv,confirmDestructiveAsync:k.j6,confirm:k.iG,confirmImageForceRemoval:k.sv,cancelRegistryRepositoryAction:k.no,confirmDeletion:k.DP,confirmDetachment:k.pM,confirmDisassociate:k.dY,confirmUpdate:k.HW,confirmRedeploy:k.Do,confirmDeletionAsync:k.Id,confirmContainerRecreation:A.N8,confirmChangePassword:k.Q8,confirmImageExport:k.ZX,confirmServiceForceUpdate:A.Kf,confirmStackUpdate:A.o$,selectRegistry:A.G0,confirmContainerDeletion:A.A7,confirmForceChangePassword:k.ob,confirmWithTitle:k.JX}})).factory("HttpRequestHelper",I.$r).name,N=n(3731),T=n(59991),E=n(54497),j=n(12584),D=n(2792),O=n(32597),R=n(2629),M=n(39532),L=n(13169),U=n(94033),V=(n(7725),n(54269)),F=n(65280),_=n(81800),K=(n(40958),n(50527),n(95004)),B=n(69592),z=n(44212),H=n(29638),G=n(7862),Z=n(29561),q=n(97347),W=n(18311),Q=n(13880),Y=(n(19992),n(47097),n(62176),n(63613)),J=n(4450),X=n(87227),ee=n(59765),te=n(38276),ne=n(33417),re=n(89996),ae=n(29722),ie=n(51641),se=n(60122),oe=n(41066),le={Header:"Created",accessor:"dateCreated",id:"created",Cell:function(e){var t=e.value;return(0,oe.isoDateFromTimestamp)(t)},disableFilters:!0,canHide:!0,Filter:function(){return null}},ce=n(89023),de={Header:"Name",accessor:"name",id:"name",Cell:function(e){var t=e.value,n=e.row.original,r=(0,ce.useSref)("portainer.endpoints.profile.edit",{id:n.id});return(0,R.jsx)("a",{href:r.href,onClick:r.onClick,title:t,children:t})},disableFilters:!0,Filter:function(){return null},canHide:!0,sortType:"string"},ue=n(31051);function pe(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){pe(i,r,a,s,o,"next",e)}function o(e){pe(i,r,a,s,o,"throw",e)}s(void 0)}))}}function ge(e){var t=e.isFDOEnabled,n=e.selectedItems,r=(0,ce.useRouter)(),a=(0,ie.useQueryClient)();return(0,R.jsxs)("div",{className:"actionBar",children:[(0,R.jsx)(ue.r,{to:"portainer.endpoints.profile",className:"space-left",children:(0,R.jsx)(j.zx,{disabled:!t,icon:"plus-circle",featherIcon:!0,children:"Add Profile"})}),(0,R.jsx)(j.zx,{disabled:!t||1!==n.length,onClick:function(){return function(){return i.apply(this,arguments)}()},icon:"plus-circle",featherIcon:!0,children:"Duplicate"}),(0,R.jsx)(j.zx,{disabled:!t||n.length<1,color:"danger",onClick:function(){return function(){return s.apply(this,arguments)}()},icon:"trash-2",featherIcon:!0,children:"Remove"})]});function i(){return(i=me(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.l9)({title:"Are you sure ?",message:"This action will duplicate the selected profile. Continue?",buttons:{confirm:{label:"Confirm",className:"btn-primary"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,t=n[0],e.next=9,(0,se.M9)(t.id);case 9:a=e.sent,y.Vp("Profile successfully duplicated",t.name),r.stateService.go("portainer.endpoints.profile.edit",{id:a.id}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),y.vU("Failure",e.t0,"Unable to duplicate profile");case 17:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function s(){return s=me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.j6)({title:"Are you sure ?",message:"This action will delete the selected profile(s). Continue?",buttons:{confirm:{label:"Remove",className:"btn-danger"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Promise.all(n.map(function(){var e=me(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,se.he)(t.id);case 3:y.Vp("Profile successfully removed",t.name),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),y.vU("Failure",e.t0,"Unable to remove profile");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.next=9,a.invalidateQueries("fdo_profiles");case 9:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){var t=e.isFDOEnabled,n=(0,Y.h)(),r=n.settings,a=n.setTableSettings,i=(0,K.useMemo)((function(){return[de,le]}),[]),s=function(){var e=(0,ie.useQuery)("fdo_profiles",(function(){return(0,se.cp)()})),t=e.isLoading,n=e.data,r=e.isError,a=e.error;return(0,K.useEffect)((function(){r&&y.vU("Failure",a,"Failed retrieving FDO profiles")}),[r,a]),{isLoading:t,profiles:(0,K.useMemo)((function(){return n||[]}),[n]),error:r?a:void 0}}(),o=s.isLoading,l=s.profiles,c=s.error,d=(0,J.useTable)({defaultCanFilter:!1,columns:i,data:l,initialState:{pageSize:r.pageSize||10,sortBy:[r.sortBy]},isRowSelectable:function(){return t},selectColumnWidth:5},J.useSortBy,J.usePagination,re.i,X.M_),u=d.getTableProps,p=d.getTableBodyProps,m=d.headerGroups,g=d.page,h=d.prepareRow,f=d.selectedFlatRows,v=d.gotoPage,b=d.setPageSize,w=d.state,x=w.pageIndex,S=w.pageSize,C=u(),k=p();return(0,R.jsxs)(ae.xJ,{children:[(0,R.jsx)(ae.lw,{icon:"list",featherIcon:!0,label:"Device Profiles",children:(0,R.jsx)(ge,{isFDOEnabled:t,selectedItems:f.map((function(e){return e.original}))})}),(0,R.jsxs)(ae.iA,{className:C.className,role:C.role,style:C.style,children:[(0,R.jsx)("thead",{children:m.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,r=t.className,a=t.role,i=t.style;return(0,R.jsx)(ae.KA,{className:r,role:a,style:i,headers:e.headers},n)}))}),(0,R.jsx)("tbody",{className:k.className,role:k.role,style:k.style,children:!o&&l&&l.length>0?g.map((function(e){h(e);var t=e.getRowProps(),n=t.key,r=t.className,a=t.role,i=t.style;return(0,R.jsx)(ae.SC,{cells:e.cells,className:r,role:a,style:i},n)})):(0,R.jsx)("tr",{children:(0,R.jsx)("td",{colSpan:5,className:"text-center text-muted",children:ye(o,c)})})})]}),(0,R.jsxs)(ne.y,{children:[(0,R.jsx)(te.V,{value:f.length}),(0,R.jsx)(ee.j,{showAll:!0,pageLimit:S,page:x+1,onPageChange:function(e){return v(e-1)},totalCount:l?l.length:0,onPageLimitChange:function(e){b(e),a((function(t){return fe(fe({},t),{},{pageSize:e})}))}})]})]})}function ye(e,t){return e?"Loading...":t?t.message:"No profiles found"}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){var t=Object.assign({},e);return(0,R.jsx)(Y.U,{defaults:{pageSize:10,sortBy:{id:"name",desc:!1}},storageKey:"fdoProfiles",children:(0,R.jsx)(be,xe({},t))})}var ke=n(88606);function Ae(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Ae(i,r,a,s,o,"next",e)}function o(e){Ae(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(57592);function $e(e){var t=e.onChange,n=e.value,r=e.accept,a=e.title,i=void 0===a?"Select a file":a,s=e.required,o=void 0!==s&&s,l=e.inputId,c=(0,K.createRef)();return(0,R.jsxs)("div",{className:"file-upload-field vertical-center",children:[(0,R.jsx)("input",{id:l,ref:c,type:"file",accept:r,required:o,className:"app-react-components-form-components-FileUpload-FileUploadField-module__file-input",onChange:function(e){e.target&&e.target.files&&e.target.files.length>0&&t(e.target.files[0])},"aria-label":"file-input"}),(0,R.jsx)(j.zx,{size:"small",color:"primary",onClick:function(){c&&c.current&&c.current.click()},className:"app-react-components-form-components-FileUpload-FileUploadField-module__file-button",children:i}),(0,R.jsx)("span",{className:"vertical-center",children:n?n.name:(0,R.jsx)(D.J,{icon:"x-circle",feather:!0,mode:"danger"})})]})}function Ne(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Ne(i,r,a,s,o,"next",e)}function o(e){Ne(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je=n(46032),De=n(66),Oe=n(64550),Re=n(32473);function Me(e){var t,n=e.icon,r=e.value,a=e.color;return(0,R.jsxs)("span",{className:"badge inline-flex items-center",style:{backgroundColor:(t=a,.1,"".concat(t).concat(Math.floor(25.5).toString(16).padStart(2,"0"))),color:a,padding:"5px 10px"},children:[n,r]})}n(99658);var Le={sliderBadge:"app-react-portainer-settings-AuthenticationView-InternalAuth-PasswordLengthSlider-PasswordLengthSlider-module__slider-badge",root:"app-react-portainer-settings-AuthenticationView-InternalAuth-PasswordLengthSlider-PasswordLengthSlider-module__root"},Ue={strength:"weak",color:"#F04438",text:"Weak password"},Ve={strength:"good",color:"#F79009",text:"Good password"},Fe={strength:"strong",color:"#12B76A",text:"Strong password"},_e={strength:"veryStrong",color:"#0BA5EC",text:"Very strong password"},Ke=je.ZP.createSliderWithTooltip(je.ZP);function Be(e){var t=e.min,n=e.max,r=e.step,a=e.value,i=e.onChange,s=function(e){return e<10?Ue:e<12?Ve:e<14?Fe:_e}(a);return(0,R.jsxs)("div",{className:(0,M.Z)(Le.root,Le[s.strength]),children:[(0,R.jsx)("div",{className:"col-sm-4",children:(0,R.jsx)(Ke,{tipFormatter:function(e){return"".concat(e," characters")},min:t,max:n,step:r,defaultValue:12,value:a,onChange:function(e){i(e)},handleStyle:{height:25,width:25,borderWidth:1.85,borderColor:s.color,top:1.5,boxShadow:"none"},railStyle:{height:10},trackStyle:{backgroundColor:s.color,height:10}})}),(0,R.jsx)("div",{className:(0,M.Z)("col-sm-2",Le.sliderBadge),children:(0,R.jsx)(Me,{icon:function(e){switch(e){case"weak":return(0,R.jsx)(De.Z,{size:"13",className:"space-right",strokeWidth:"3px"});case"good":case"strong":return(0,R.jsx)(Oe.Z,{size:"13",className:"space-right",strokeWidth:"3px"});default:return(0,R.jsx)(Re.Z,{size:"13",className:"space-right",strokeWidth:"3px"})}}(s.strength),value:s.text,color:s.color})})]})}function ze(e){var t=e.onSubmit,n=e.isLoading;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(G.i,{children:"Actions"}),(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(q.f,{loadingText:"Saving...",isLoading:n,onClick:function(){return t()},children:"Save settings"})})})]})}var He=n(6174),Ge=n(64490),Ze=n(85568),qe=n(39533),We=["data"],Qe=["data"];function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}function nt(e){return!!e&&"object"===tt(e)&&"Type"in e}function rt(e){var t=e.data,n=et(e,We);return(0,R.jsx)(qe.c.Option,Je(Je({data:t},n),{},{children:nt(t)&&(0,R.jsx)(it,{option:t})}))}function at(e){var t=e.data,n=et(e,Qe);return(0,R.jsx)(qe.c.MultiValueLabel,Je(Je({data:t},n),{},{children:nt(t)&&(0,R.jsx)(it,{option:t})}))}function it(e){var t=e.option,n="user"===t.Type?Ge.Z:Ze.Z;return(0,R.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,R.jsx)(n,{}),(0,R.jsx)("span",{children:t.Name})]})}var st=n(71535),ot=n(20810),lt=n.n(ot),ct=(n(78495),n(15845),n(7974),n(53347)),dt=n(6811);function ut(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){ut(i,r,a,s,o,"next",e)}function o(e){ut(i,r,a,s,o,"throw",e)}s(void 0)}))}}function mt(){return(mt=pt(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.get(ft());case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Unable to retrieve tags");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function gt(e){return ht.apply(this,arguments)}function ht(){return ht=pt(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.post(ft(),{name:t});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Unable to create tag");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),ht.apply(this,arguments)}function ft(e){var t="/tags";return e&&(t+="/".concat(e)),t}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wt={all:["tags"],tag:function(e){return[].concat(function(e){if(Array.isArray(e))return yt(e)}(t=wt.all)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var t}};function xt(e){var t=(0,ie.useQuery)(wt.all,(function(){return function(){return mt.apply(this,arguments)}()}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({staleTime:50,select:e},(0,ct.AQ)("Failed to retrieve tags")));return{tags:t.data,isLoading:t.isLoading}}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ct(e){var t,n=e.value,r=e.allowCreate,a=void 0!==r&&r,i=e.onChange,s=xt((function(e){return e.map((function(e){return{label:e.Name,value:e.ID}}))})),o=(t=(0,ie.useQueryClient)(),(0,ie.useMutation)(gt,(0,ct.yL)((0,ct.AQ)("Unable to create tag"),(0,ct.ar)(t,[wt.all]))));if(!s.tags)return null;var l=s.tags,c=lt()(n.map((function(e){return l.find((function(t){return t.value===e}))}))),d=a?He.V:He.P;return l.length||a?(0,R.jsxs)(R.Fragment,{children:[n.length>0&&(0,R.jsx)(H.N,{label:"Selected tags",children:c.map((function(e){return(0,R.jsxs)("button",{type:"button",title:"Remove tag",className:(0,M.Z)("app-react-components-TagSelector-TagSelector-module__remove-tag-btn","space-left","tag","vertical-center"),onClick:function(){return t=e.value,void i(n.filter((function(e){return e!==t})));var t},children:[e.label,(0,R.jsx)(D.J,{icon:"trash-2",feather:!0})]},e.value)}))}),(0,R.jsx)(H.N,{label:"Tags",inputId:"tags-selector",children:(0,R.jsx)(d,{inputId:"tags-selector",value:[],hideSelectedOptions:!0,options:l.filter((function(e){return!n.includes(e.value)})),closeMenuOnSelect:!1,onChange:u,noOptionsMessage:function(){return"No tags available"},formatCreateLabel:function(e){return'Create "'.concat(e,'"')},onCreateOption:function(e){a&&o.mutate(e,{onSuccess:function(e){u({label:e.Name,value:e.ID})}})}})})]}):(0,R.jsx)("div",{className:"form-group",children:(0,R.jsxs)("div",{className:"col-sm-12 small text-muted",children:["No tags available. Head over to the",(0,R.jsx)(ue.r,{to:"portainer.tags",className:"space-right space-left",children:"Tags view"}),"to add tags"]})});function u(e){var t;e&&i([].concat(function(e){if(Array.isArray(e))return St(e)}(t=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.value]))}}var kt=n(53848),At=n(35094),Pt=n(63027),It=n(86549),$t=n(76118),Nt=n(1808);function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Et=n(90134),jt=n(95793),Dt=n(68871);function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e){return 0===e?"unlimited":e.toString()}var Mt=(0,N.A)($e,["onChange","value","title","required","accept","inputId"]),Lt=n(93758),Ut=(0,N.A)(Lt.K,["tooltip","checked","label","name","labelClass","fieldClass","dataCy","disabled","onChange","featureId","switchClass"]),Vt=n(24751),Ft=n(88728);function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Ht(e){var t=e.item,n=e.onChange,r=e.error,a=e.isNameReadonly,i="object"===zt(r)?r:{};return(0,R.jsxs)("div",{className:"flex gap-2",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)(Q.I,{value:t.name,name:"name",onChange:s,placeholder:"Name (e.g var_name)",readOnly:a}),(null==i?void 0:i.name)&&(0,R.jsx)(Vt.X,{children:i.name})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)(Q.I,{value:t.label,onChange:s,placeholder:"Label",name:"label"}),(null==i?void 0:i.label)&&(0,R.jsx)(Vt.X,{children:i.label})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)(Q.I,{name:"description",value:t.description,onChange:s,placeholder:"Description"}),(null==i?void 0:i.description)&&(0,R.jsx)(Vt.X,{children:i.description})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)(Q.I,{value:t.defaultValue,onChange:s,placeholder:"Default Value",name:"defaultValue"}),(null==i?void 0:i.defaultValue)&&(0,R.jsx)(Vt.X,{children:i.defaultValue})]})]});function s(e){n(Kt(Kt({},t),{},Bt({},e.target.name,e.target.value)))}}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e){var t,n,r=e.title,a=e.children,i=e.isFoldable,s=void 0!==i&&i,o=(t=(0,K.useState)(!s),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],c=o[1];return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(G.i,{htmlFor:s?"foldingButton".concat(r):"",children:[s&&(0,R.jsx)("button",{id:"foldingButton".concat(r),type:"button",onClick:function(){return c(!l)},className:"border-0 mx-2 !ml-0 bg-transparent inline-flex justify-center items-center w-2",children:(0,R.jsx)(D.J,{icon:l?"chevron-down":"chevron-right",className:"shrink-0",feather:!0})}),r]}),l&&a]})}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(40443);var Xt={template:'<custom-templates-variables-field-react\n    value="$ctrl.value"\n    on-change="$ctrl.handleChange"\n    definitions="$ctrl.definitions"\n  ></custom-templates-variables-field-react>',bindings:{value:"<",definitions:"<",onChange:"<"},require:{formCtrl:"^form"},controller:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleChange=this.handleChange.bind(this),this.$scope=t}var t,n;return e.$inject=["$scope"],t=e,(n=[{key:"handleChange",value:function(e){var t=this;this.$scope.$evalAsync((function(){t.onChange(e)}))}},{key:"$onChanges",value:function(e){var t=e.value;t.currentValue&&this.checkValidity(t.currentValue)}},{key:"checkValidity",value:function(e){var t=this;this.formCtrl.$setValidity("templateVariables",Object.entries(e).every((function(e){var n,r,a=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0];return!!a[1]||t.definitions.some((function(e){return e.name===i&&!!e.defaultValue}))})),this.formCtrl)}}])&&Jt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},en=l().module("portainer.app.react.components.custom-templates",[]).component("customTemplatesVariablesFieldReact",(0,N.A)((function(e){var t=e.value,n=e.definitions,r=e.onChange;return n&&n.length?(0,R.jsx)(Zt,{title:"Template Variables",children:n.map((function(e){var n="".concat(e.name,"-input"),a=t[e.name]||"";return(0,R.jsx)(H.N,{required:!e.defaultValue,label:e.label,inputId:n,tooltip:e.description,size:"small",children:(0,R.jsx)(Q.I,{name:"variables.".concat(e.name),value:a,id:n,onChange:function(n){return r(Wt(Wt({},t),{},Qt({},e.name,n.target.value)))}})},e.name)}))}):null}),["value","onChange","definitions"])).component("customTemplatesVariablesField",Xt).component("customTemplatesVariablesDefinitionField",(0,N.A)((function(e){var t=e.onChange,n=e.value,r=e.errors,a=e.isVariablesNamesFromParent;return(0,R.jsx)(Ft.Q,{label:"Variables definition",onChange:t,value:n,renderItem:function(e,t,n){return(0,R.jsx)(Ht,{item:e,onChange:t,error:n,isNameReadonly:a})},itemBuilder:function(){return{label:"",name:"",defaultValue:"",description:""}},errors:r,textTip:"List should map the mustache variables in the template file, if default value is empty, the variable will be required.",isAddButtonHidden:a})}),["onChange","value","errors","isVariablesNamesFromParent"])).name,tn=l().module("portainer.app.react.components",[en]).component("tagSelector",(0,N.A)((0,F.H)(Ct),["allowCreate","onChange","value"])).component("portainerTooltip",(0,N.A)(E.u,["message","position","className"])).component("badge",(0,N.A)(Pt.C,["type","className"])).component("fileUploadField",Mt).component("porSwitchField",Ut).component("passwordCheckHint",(0,N.A)((0,F.H)((function(e){var t,n=e.passwordValid,r=e.forceChangePassword,a=null===(t=(0,T.Fy)().data)||void 0===t?void 0:t.RequiredPasswordLength;return(0,R.jsx)("div",{children:(0,R.jsxs)("p",{className:"text-warning vertical-center",children:[(0,R.jsx)(D.J,{icon:"alert-triangle",className:"icon-warning",feather:!0}),r&&"An administrator has changed your password requirements, ","The password must be at least ",a," characters long.",n&&(0,R.jsx)("i",{className:"fa fa-check green-icon space-left","aria-hidden":"true"})]})})})),["forceChangePassword","passwordValid"])).component("rdLoading",(0,N.A)(kt.g,[])).component("tableColumnHeader",(0,N.A)(It.z,["colTitle","canSort","isSorted","isSortedDesc"])).component("viewLoading",(0,N.A)(At.d,["message"])).component("pageHeader",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)(st.m))),["title","breadcrumbs","loading","onReload","reload","id"])).component("fallbackImage",(0,N.A)((function(e){var t,n,r,a,i,s=e.src,o=e.fallbackIcon,l=e.alt,c=e.size,d=e.className,u=e.fallbackMode,p=e.fallbackClassName,m=e.feather,g=(a=(0,K.useState)(!1),i=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(a,i)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=g[0],f=g[1],v=(0,M.Z)(d,(t={},r=c,(n="icon-".concat(c))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return(0,K.useEffect)((function(){f(!1)}),[s]),h?(0,R.jsx)(D.J,{icon:o,feather:m,className:p,size:c,mode:u}):(0,R.jsx)("img",{className:v,src:s,alt:l,onError:function(){return f(!0)}})}),["src","fallbackIcon","alt","size","className","fallbackMode","fallbackClassName","feather"])).component("prIcon",(0,N.A)(D.J,["className","feather","icon","mode","size"])).component("reactQueryDevTools",(0,N.A)((function(){var e="true"==="MISSING_ENV_VAR".SHOW_REACT_QUERY_DEV_TOOLS;return(0,R.jsx)(R.Fragment,{children:e&&(0,R.jsx)(L.ReactQueryDevtools,{})})}),[])).component("dashboardItem",(0,N.A)($t.G,["featherIcon","icon","type","value","children"])).component("datatableSearchbar",(0,N.A)(Nt.E,["data-cy","onChange","value","placeholder"])).component("boxSelectorBadgeIcon",(0,N.A)(Et.V,["featherIcon","icon"])).component("accessControlPanel",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)(U.V))),["disableOwnershipChange","onUpdateSuccess","resourceControl","resourceId","resourceType","environmentId"])).component("defaultRegistryName",(0,N.A)((0,F.H)((function(){var e=(0,T.Fy)({select:function(e){var t;return null===(t=e.DefaultRegistry)||void 0===t?void 0:t.Hide}});return(0,R.jsx)("span",{className:(0,M.Z)({"cm-strikethrough":e.isSuccess&&e.data}),children:"Docker Hub (anonymous)"})})),[])).component("defaultRegistryAction",(0,N.A)((0,F.H)((function(){var e=(0,T.Fy)({select:function(e){var t;return null===(t=e.DefaultRegistry)||void 0===t?void 0:t.Hide}}),t=(0,T.U_)();if(!e.isSuccess)return null;var n=e.data,r=(0,p.vx)(u.tE.HIDE_DOCKER_HUB_ANONYMOUS);return(0,R.jsx)(R.Fragment,{children:n?(0,R.jsxs)("div",{className:"vertical-center",children:[(0,R.jsxs)(j.zx,{className:"btn btn-xs btn-success vertical-center",onClick:function(){return a(!1)},children:[(0,R.jsx)(D.J,{icon:"eye",feather:!0}),"Show for all users"]}),(0,R.jsx)(E.u,{message:"This reveals the option in any registry dropdown prompts. (but note that the Docker Hub (anonymous) option only shows if there is no credentialled Docker Hub option available to the user)."})]}):(0,R.jsxs)("div",{className:"vertical-center",children:[(0,R.jsxs)(j.zx,{className:"btn btn-xs btn-light vertical-center",onClick:function(){return a(!0)},disabled:r,children:[(0,R.jsx)(D.J,{icon:"eye-off",feather:!0}),"Hide for all users"]}),(0,R.jsx)(O.d,{featureId:u.tE.HIDE_DOCKER_HUB_ANONYMOUS}),r?null:(0,R.jsx)(E.u,{message:"This hides the option in any registry dropdown prompts but does not prevent a user from deploying anonymously from Docker Hub directly via YAML. Note: Docker Hub (anonymous) will continue to show as the ONLY option if there are NO other registries available to the user."})]})});function a(e){t.mutate({Hide:e},{onSuccess:function(){(0,y.t5)("Success","Default registry Settings updated successfully")}})}})),[])).component("defaultRegistryDomain",(0,N.A)((0,F.H)((function(){var e=(0,T.Fy)({select:function(e){var t;return null===(t=e.DefaultRegistry)||void 0===t?void 0:t.Hide}});return(0,R.jsx)("span",{className:(0,M.Z)({"cm-strikethrough":e.isSuccess&&e.data}),children:"docker.io"})})),[])).component("settingsFdo",(0,N.A)((0,_.Q)((0,F.H)((function(e){var t,n,r=e.settings,a=e.onSubmit,i=r?r.fdoConfiguration:null,s=!!i&&i.enabled,o=(t=(0,K.useState)(s),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],c=o[1];(0,K.useEffect)((function(){var e;c(null==r||null===(e=r.fdoConfiguration)||void 0===e?void 0:e.enabled)}),[r]);var d={enabled:s,ownerURL:i?i.ownerURL:"",ownerUsername:i?i.ownerUsername:"",ownerPassword:i?i.ownerPassword:""},u=!!r&&r.EnableEdgeComputeFeatures;return(0,R.jsx)("div",{className:"row",children:(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.PI,{icon:"svg-laptop",title:"FDO"}),(0,R.jsxs)(Z.kh,{children:[(0,R.jsx)(B.J9,{initialValues:d,onSubmit:a,enableReinitialize:!0,validationSchema:function(){return(0,ke.Ry)().shape({ownerURL:(0,ke.Z_)().when("enabled",{is:!0,then:(0,ke.Z_)().required("Field is required")}),ownerUsername:(0,ke.Z_)().when("enabled",{is:!0,then:(0,ke.Z_)().required("Field is required")}),ownerPassword:(0,ke.Z_)().when("enabled",{is:!0,then:(0,ke.Z_)().required("Field is required")})})},validateOnChange:!0,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,r=e.handleSubmit,a=e.setFieldValue,i=e.isSubmitting,s=e.isValid,o=e.dirty;return(0,R.jsxs)(B.l0,{className:"form-horizontal",onSubmit:r,children:[(0,R.jsx)(H.N,{inputId:"edge_enableFDO",label:"Enable FDO Management Service",size:"small",errors:n.enabled,children:(0,R.jsx)(z.r,{id:"edge_enableFDO",name:"edge_enableFDO",className:"space-right",disabled:!u,checked:u&&t.enabled,onChange:function(e){return function(e,t){return p.apply(this,arguments)}(e,a)}})}),(0,R.jsx)(W.a,{color:"blue",children:"When enabled, this will allow Portainer to interact with FDO Services."}),u&&t.enabled&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("hr",{}),(0,R.jsx)(H.N,{inputId:"owner_url",label:"Owner Service Server",errors:n.ownerURL,children:(0,R.jsx)(B.gN,{as:Q.I,name:"ownerURL",id:"owner_url",placeholder:"http://127.0.0.1:8042",value:t.ownerURL,"data-cy":"fdo-serverInput"})}),(0,R.jsx)(H.N,{inputId:"owner_username",label:"Owner Service Username",errors:n.ownerUsername,children:(0,R.jsx)(B.gN,{as:Q.I,name:"ownerUsername",id:"owner_username",placeholder:"username",value:t.ownerUsername,"data-cy":"fdo-usernameInput"})}),(0,R.jsx)(H.N,{inputId:"owner_password",label:"Owner Service Password",errors:n.ownerPassword,children:(0,R.jsx)(B.gN,{as:Q.I,type:"password",name:"ownerPassword",id:"owner_password",placeholder:"password",value:t.ownerPassword,"data-cy":"fdo-passwordInput"})})]}),(0,R.jsx)("div",{className:"form-group mt-5",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(q.f,{disabled:!s||!o,"data-cy":"settings-fdoButton",isLoading:i,loadingText:"Saving settings...",children:"Save settings"})})})]})}}),u&&l&&(0,R.jsxs)("div",{className:"app-react-portainer-settings-EdgeComputeView-SettingsFDO-SettingsFDO-module__fdo-table",children:[(0,R.jsx)(G.i,{children:"Device Profiles"}),(0,R.jsx)(W.a,{color:"blue",children:"Add, Edit and Manage the list of device profiles available during FDO device setup"}),(0,R.jsx)(Ce,{isFDOEnabled:s})]})]})]})});function p(){return(p=Pe(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t),n("enabled",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}))),["onSubmit","settings"])).component("settingsOpenAmt",(0,N.A)((function(e){var t,n,r=e.settings,a=e.onSubmit,i=(t=(0,K.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],o=i[1];function l(){return(l=Te(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return o(t),e.next=4,c(t);case 4:r=e.sent,n("certFileContent",r),n("certFileName",t.name);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){if(null!=e.target&&null!=e.target.result){var n=e.target.result.toString(),r=n.indexOf("base64,"),a=n.substring(r+7,n.length);t(a)}else t("")},r.onerror=function(){n(new Error("error reading provisioning certificate file"))},r.readAsDataURL(e)}))}var d=r?r.openAMTConfiguration:null,u={enabled:!!d&&d.enabled,mpsServer:d?d.mpsServer:"",mpsUser:d?d.mpsUser:"",mpsPassword:d?d.mpsPassword:"",domainName:d?d.domainName:"",certFileContent:d?d.certFileContent:"",certFileName:d?d.certFileName:"",certFilePassword:d?d.certFilePassword:""};u.certFileContent&&u.certFileName&&!s&&o(new File([],u.certFileName));var p=!!r&&r.EnableEdgeComputeFeatures;return(0,R.jsx)("div",{className:"row",children:(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.PI,{icon:"svg-laptop",title:"Intel OpenAMT"}),(0,R.jsx)(Z.kh,{children:(0,R.jsx)(B.J9,{initialValues:u,onSubmit:a,enableReinitialize:!0,validationSchema:function(){return(0,ke.Ry)().shape({mpsServer:(0,ke.Z_)().when("enabled",{is:!0,then:(0,ke.Z_)().required("Field is required")}),mpsUser:(0,ke.Z_)().when("enabled",{is:!0,then:(0,ke.Z_)().required("Field is required")}),mpsPassword:(0,ke.Z_)().when("enabled",{is:!0,then:(0,ke.Z_)().required("Field is required")}),domainName:(0,ke.Z_)().when("enabled",{is:!0,then:(0,ke.Z_)().required("Field is required")}),certFileContent:(0,ke.Z_)().when("enabled",{is:!0,then:(0,ke.Z_)().required("Field is required")}),certFileName:(0,ke.Z_)().when("enabled",{is:!0,then:(0,ke.Z_)().required("Field is required")}),certFilePassword:(0,ke.Z_)().when("enabled",{is:!0,then:(0,ke.Z_)().required("Field is required")})})},validateOnChange:!0,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,r=e.handleSubmit,a=e.setFieldValue,i=e.isSubmitting,o=e.isValid,c=e.dirty;return(0,R.jsxs)(B.l0,{className:"form-horizontal",onSubmit:r,children:[(0,R.jsx)(H.N,{inputId:"edge_enableOpenAMT",label:"Enable OpenAMT",errors:n.enabled,size:"small",children:(0,R.jsx)(z.r,{id:"edge_enableOpenAMT",name:"edge_enableOpenAMT",className:"space-right",disabled:!p,checked:p&&t.enabled,onChange:function(e){return a("enabled",e)}})}),(0,R.jsx)(W.a,{color:"blue",children:"When enabled, this will allow Portainer to interact with an OpenAMT MPS API."}),p&&t.enabled&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("hr",{}),(0,R.jsx)(H.N,{inputId:"mps_server",label:"MPS Server",size:"medium",errors:n.mpsServer,children:(0,R.jsx)(B.gN,{as:Q.I,name:"mpsServer",id:"mps_server",placeholder:"Enter the MPS Server",value:t.mpsServer,"data-cy":"openAMT-serverInput"})}),(0,R.jsx)(H.N,{inputId:"mps_username",label:"MPS User",size:"medium",errors:n.mpsUser,children:(0,R.jsx)(B.gN,{as:Q.I,name:"mpsUser",id:"mps_username",placeholder:"Enter the MPS User",value:t.mpsUser,"data-cy":"openAMT-usernameInput"})}),(0,R.jsx)(H.N,{inputId:"mps_password",label:"MPS Password",size:"medium",tooltip:"Needs to be 8-32 characters including one uppercase, one lowercase letters, one base-10 digit and one special character.",errors:n.mpsPassword,children:(0,R.jsx)(B.gN,{as:Q.I,type:"password",name:"mpsPassword",id:"mps_password",placeholder:"Enter the MPS Password",value:t.mpsPassword,"data-cy":"openAMT-passwordInput"})}),(0,R.jsx)("hr",{}),(0,R.jsx)(H.N,{inputId:"domain_name",label:"Domain Name",size:"medium",tooltip:"Enter the FQDN that is associated with the provisioning certificate (i.e amtdomain.com)",errors:n.domainName,children:(0,R.jsx)(B.gN,{as:Q.I,name:"domainName",id:"domain_name",placeholder:"Enter the Domain Name",value:t.domainName,"data-cy":"openAMT-domainInput"})}),(0,R.jsx)(H.N,{inputId:"certificate_file",label:"Provisioning Certificate File (.pfx)",size:"medium",tooltip:"Supported CAs are Comodo, DigiCert, Entrust and GoDaddy.<br>The certificate must contain the private key.<br>On AMT 15 based devices you need to use SHA2.",errors:n.certFileContent,children:(0,R.jsx)($e,{inputId:"certificate_file",title:"Upload file",accept:".pfx",value:s,onChange:function(e){return function(e,t){return l.apply(this,arguments)}(e,a)}})}),(0,R.jsx)(H.N,{inputId:"certificate_password",label:"Provisioning Certificate Password",size:"medium",tooltip:"Needs to be 8-32 characters including one uppercase, one lowercase letters, one base-10 digit and one special character.",errors:n.certFilePassword,children:(0,R.jsx)(B.gN,{as:Q.I,type:"password",name:"certFilePassword",id:"certificate_password",placeholder:"**********",value:t.certFilePassword,"data-cy":"openAMT-certPasswordInput"})})]}),(0,R.jsx)("div",{className:"form-group mt-5",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(q.f,{disabled:!o||!c,"data-cy":"settings-fdoButton",isLoading:i,loadingText:"Saving settings...",children:"Save settings"})})})]})}})})]})})}),["onSubmit","settings"])).component("internalAuth",(0,N.A)((function(e){var t=e.onSaveSettings,n=e.isLoading,r=e.value,a=e.onChange;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(G.i,{children:"Information"}),(0,R.jsx)("div",{className:"form-group col-sm-12 text-muted small",children:"When using internal authentication, Portainer will encrypt user passwords and store credentials locally."}),(0,R.jsx)(G.i,{children:"Password rules"}),(0,R.jsx)("div",{className:"form-group col-sm-12 text-muted small",children:"Define minimum length for user-generated passwords."}),(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)(Be,{min:1,max:18,step:1,value:r.RequiredPasswordLength,onChange:a})}),(0,R.jsx)(ze,{onSubmit:function(){r.RequiredPasswordLength<10?(0,k.gv)({title:"Allow weak passwords?",message:"You have set an insecure minimum password length. This could leave your system vulnerable to attack, are you sure?",buttons:{confirm:{label:"Yes",className:"btn-danger"}},callback:function(e){e&&t()}}):t()},isLoading:n})]})}),["onSaveSettings","isLoading","value","onChange"])).component("teamsSelector",(0,N.A)(jt.H,["onChange","value","dataCy","inputId","name","placeholder","teams"])).component("porAccessControlFormTeamSelector",(0,N.A)((function(e){var t=e.value,n=e.onChange,r=e.options,a=e.inputId;return(0,R.jsx)(He.P,{isMulti:!0,getOptionLabel:function(e){return e.Name},getOptionValue:function(e){return String(e.Id)},options:r,value:t,closeMenuOnSelect:!1,onChange:n,"data-cy":"portainer-selectTeamAccess",inputId:a,placeholder:"Select one or more teams"})}),["inputId","onChange","options","value"])).component("porAccessControlFormUserSelector",(0,N.A)((function(e){var t=e.value,n=e.onChange,r=e.options,a=e.inputId;return(0,R.jsx)(He.P,{isMulti:!0,getOptionLabel:function(e){return e.Username},getOptionValue:function(e){return String(e.Id)},options:r,value:t,closeMenuOnSelect:!1,onChange:n,"data-cy":"portainer-selectUserAccess",inputId:a,placeholder:"Select one or more teams"})}),["inputId","onChange","options","value"])).component("porSelect",(0,N.A)(Dt.dU,["name","inputId","placeholder","disabled","data-cy","bindToBody","value","onChange","options","isMulti","isClearable"])).component("porSlider",(0,N.A)((function(e){var t,n=e.min,r=e.max,a=e.step,i=e.value,s=e.onChange,o=e.dataCy,l=e.visibleTooltip,c=je.ZP.createSliderWithTooltip(je.ZP),d=(Ot(t={},n,l&&i/r<.1?"":Rt(n)),Ot(t,r,l&&i/r>.9?"":r.toString()),t);return(0,R.jsx)("div",{className:"app-react-components-form-components-Slider-Slider-module__root",children:(0,R.jsx)(c,{tipFormatter:Rt,min:n,max:r,step:a,marks:d,defaultValue:i,onAfterChange:s,className:"app-react-components-form-components-Slider-Slider-module__slider",tipProps:{visible:l},railStyle:{height:8},trackStyle:{height:8},dotStyle:{visibility:"hidden"},"data-cy":o})})}),["min","max","step","value","onChange","visibleTooltip","dataCy"])).component("porAccessManagementUsersSelector",(0,N.A)((function(e){var t=e.options,n=e.value,r=e.onChange;return(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{className:"col-sm-3 col-lg-2 control-label text-left",htmlFor:"users-selector",children:"Select user(s) and/or team(s)"}),(0,R.jsx)("div",{className:"col-sm-9 col-lg-4",children:0===t.length?(0,R.jsx)("span",{className:"small text-muted",children:"No users or teams available."}):(0,R.jsx)(He.P,{isMulti:!0,getOptionLabel:function(e){return e.Name},getOptionValue:function(e){return"".concat(e.Id,"-").concat(e.Type)},options:t,value:n,closeMenuOnSelect:!1,onChange:r,"data-cy":"component-selectUser",inputId:"users-selector",placeholder:"Select one or more users and/or teams",components:{MultiValueLabel:at,Option:rt}})})]})}),["onChange","options","value"])).name,nn=n(31848),rn=n(57941),an=n(89230),sn=n(63209),on=n.n(sn),ln=(n(5434),n(89999),n(58613),n(89024),n(9090)),cn=n(73817);function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function un(e){var t,n,r=function(e){return"datatable_pagination_".concat(e)}(e),a=(t=(0,cn._)(r,10),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return[a[0],a[1]]}var pn=n(23945);function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e){var t=e.isSelected,n=e.label;return(0,R.jsx)("div",{children:(0,R.jsxs)(qe.c.Option,hn(hn({},e),{},{children:[(0,R.jsx)("input",{type:"checkbox",checked:t,onChange:function(){return null}})," ",(0,R.jsx)("label",{children:n})]}))})}function bn(e){var t=e.filterOptions,n=void 0===t?[]:t,r=e.onChange,a=e.placeHolder,i=e.value;return(0,R.jsx)(He.P,{closeMenuOnSelect:!1,placeholder:a,options:n,value:i,isMulti:!0,components:{Option:vn},onChange:function(e){return r(function(e){if(Array.isArray(e))return mn(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var t}})}function yn(e,t){var n=function(e){return"datatable_home_filter_type_".concat(e)}(e);return(0,cn._)(n,t,sessionStorage)}var wn=n(73903),xn=n(86064),Sn=n(22589),Cn=n(50265),kn="app-react-components-datatables-SortbySelector-module__sort-by-element";function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pn(e){var t,n,r=e.filterOptions,a=e.onChange,i=e.onDescending,s=e.placeHolder,o=e.sortByDescending,l=e.sortByButton,c=e.value,d="fa fa-sort-alpha-down",u=(t=(0,K.useState)(d),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=u[0],m=u[1];return(0,K.useEffect)((function(){m(o?"fa fa-sort-alpha-up":d)}),[o]),(0,R.jsxs)("div",{className:"app-react-components-datatables-SortbySelector-module__sort-by-container",children:[(0,R.jsx)("div",{className:kn,children:(0,R.jsx)(He.P,{placeholder:s,options:r,onChange:function(e){return a(e)},isClearable:!0,value:c})}),(0,R.jsx)("div",{className:kn,children:(0,R.jsx)("button",{className:"app-react-components-datatables-SortbySelector-module__sort-button",type:"button",disabled:!l,onClick:function(e){e.preventDefault(),i()},children:(0,R.jsx)("i",{className:p})})})]})}var In=n(7252);function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nn(e){var t=e.value,n=e.placeholder,r=void 0===n?"Search...":n,a=e.onChange;return(0,R.jsxs)("div",{className:"searchBar items-center flex h-[34px]",children:[(0,R.jsx)(In.Z,{className:"searchIcon feather"}),(0,R.jsx)("input",{type:"text",className:"searchInput",value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e.target.value)})),placeholder:r,"data-cy":"home-environmentSearch"})]})}function Tn(e){var t,n,r=function(e){return"datatable_text_filter_".concat(e)}(e),a=(t=(0,cn._)(r,"",sessionStorage),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return[a[0],a[1]]}n(99230);var En=n(86225),jn=n(51355),Dn=n(3915),On=n(69962),Rn=n(51070),Mn=n(94233),Ln=n(93261),Un=n(84670);function Vn(e){var t=e.type;switch(t){case pn.Qj.AgentOnDocker:case pn.Qj.Docker:return(0,R.jsx)("img",{src:Un,width:"60",alt:"azure endpoint","aria-hidden":"true"});case pn.Qj.Azure:return(0,R.jsx)("img",{src:Ln,width:"60",alt:"azure endpoint","aria-hidden":"true"});case pn.Qj.EdgeAgentOnDocker:return(0,R.jsx)("img",{src:On,alt:"docker edge endpoint","aria-hidden":"true"});case pn.Qj.KubernetesLocal:case pn.Qj.AgentOnKubernetes:return(0,R.jsx)("img",{src:Rn,alt:"kubernetes endpoint","aria-hidden":"true"});case pn.Qj.EdgeAgentOnKubernetes:return(0,R.jsx)("img",{src:Mn,alt:"kubernetes edge endpoint","aria-hidden":"true"});default:return(0,R.jsx)("i",{className:(0,M.Z)("fa-4x","blue-icon",(0,oe.environmentTypeIcon)(t)),"aria-hidden":"true"})}}var Fn=n(63504),_n=n(23514),Kn=n(48837);function Bn(e){var t=e.type,n=e.version;return(0,rn.d_)(t)?(0,R.jsxs)("span",{className:"space-x-1",children:[(0,R.jsxs)("span",{children:["+ ",(0,R.jsx)(Kn.Z,{className:"icon icon-xs vertical-center","aria-hidden":"true"})]}),(0,R.jsx)("span",{children:(0,rn.Mq)(t)?"Edge Agent":"Agent"}),(0,R.jsx)("span",{children:n})]}):null}function zn(e){var t=e.value,n=e.icon,r=e.children,a=e.featherIcon,i=e.iconClass;return(0,R.jsxs)("span",{className:"vertical-center space-right",children:[(0,R.jsx)(D.J,{className:(0,M.Z)("icon icon-sm space-right",i),icon:n,feather:a}),(0,R.jsx)("span",{children:t}),r&&(0,R.jsx)("span",{className:"space-left",children:r})]})}function Hn(e){var t=e.snapshots,n=void 0===t?[]:t,r=e.type,a=e.agentVersion;if(0===n.length)return(0,R.jsx)("div",{className:"blocklist-item-line endpoint-item",children:(0,R.jsx)("span",{className:"blocklist-item-desc",children:"No snapshot available"})});var i=n[0];return(0,R.jsxs)("div",{className:"blocklist-item-line endpoint-item",children:[(0,R.jsxs)("span",{className:"blocklist-item-desc",children:[(0,R.jsx)(zn,{value:(0,_n.u)(i.StackCount,"stack"),icon:"layers",featherIcon:!0}),!!i.Swarm&&(0,R.jsx)(zn,{value:(0,_n.u)(i.ServiceCount,"service"),icon:"shuffle",featherIcon:!0}),(0,R.jsx)(Gn,{running:i.RunningContainerCount,stopped:i.StoppedContainerCount,healthy:i.HealthyContainerCount,unhealthy:i.UnhealthyContainerCount}),(0,R.jsx)(zn,{value:(0,_n.u)(i.VolumeCount,"volume"),icon:"database",featherIcon:!0}),(0,R.jsx)(zn,{value:(0,_n.u)(i.ImageCount,"image"),icon:"list",featherIcon:!0})]}),(0,R.jsxs)("span",{className:"small text-muted space-x-2 vertical-center",children:[(0,R.jsxs)("span",{children:[i.Swarm?"Swarm":"Standalone"," ",i.DockerVersion]}),i.Swarm&&(0,R.jsx)(zn,{value:(0,_n.u)(i.NodeCount,"node"),icon:"hard-drive",featherIcon:!0}),(0,R.jsx)(Bn,{version:a,type:r})]})]})}function Gn(e){var t=e.running,n=e.stopped,r=e.healthy,a=e.unhealthy,i=t+n;return(0,R.jsx)(zn,{value:(0,_n.u)(i,"container"),icon:"box",featherIcon:!0,children:i>0&&(0,R.jsxs)("span",{className:"space-x-2 space-right",children:[(0,R.jsx)(zn,{value:t,icon:"power",featherIcon:!0,iconClass:"icon-success"}),(0,R.jsx)(zn,{value:n,icon:"power",featherIcon:!0,iconClass:"icon-danger"}),(0,R.jsx)(zn,{value:r,icon:"heart",featherIcon:!0,iconClass:"icon-success"}),(0,R.jsx)(zn,{value:a,icon:"heart",featherIcon:!0,iconClass:"icon-warning"})]})})}function Zn(e){var t=e.snapshots,n=void 0===t?[]:t,r=e.type,a=e.agentVersion;if(0===n.length)return(0,R.jsx)("div",{className:"blocklist-item-line endpoint-item",children:(0,R.jsx)("span",{className:"blocklist-item-desc",children:"No snapshot available"})});var i=n[0];return(0,R.jsxs)("div",{className:"blocklist-item-line endpoint-item",children:[(0,R.jsxs)("span",{className:"blocklist-item-desc space-x-1",children:[(0,R.jsx)(zn,{icon:"cpu",featherIcon:!0,value:"".concat(i.TotalCPU," CPU")}),(0,R.jsx)(zn,{icon:"svg-memory",featherIcon:!0,value:"".concat((0,oe.humanize)(i.TotalMemory)," RAM")})]}),(0,R.jsxs)("span",{className:"small text-muted space-x-2 vertical-center",children:[(0,R.jsxs)("span",{children:["Kubernetes ",i.KubernetesVersion]}),(0,R.jsx)(zn,{value:(0,_n.u)(i.NodeCount,"node"),icon:"hard-drive",featherIcon:!0}),(0,R.jsx)(Bn,{type:r,version:a})]})]})}function qn(e){var t=e.environment;switch((0,rn.vJ)(t.Type)){case pn.zh.Kubernetes:return(0,R.jsx)(Zn,{snapshots:t.Kubernetes.Snapshots||[],type:t.Type,agentVersion:t.Agent.Version});case pn.zh.Docker:return(0,R.jsx)(Hn,{snapshots:t.Snapshots,type:t.Type,agentVersion:t.Agent.Version});default:return(0,R.jsx)("div",{className:"blocklist-item-line endpoint-item",children:(0,R.jsx)("span",{className:"blocklist-item-desc",children:"-"})})}}function Wn(e){var t=e.status;return(0,R.jsx)("span",{className:(0,M.Z)("label","label-".concat(Qn(t))),children:t===pn.a2.Up?"up":"down"})}function Qn(e){return e===pn.a2.Down?"danger":"success"}function Yn(e){var t,n=e.environment,r=e.onClick,a=e.groupName,i=(0,Cn.aF)().isAdmin,s=(0,rn.Mq)(n.Type),o=function(e){switch((0,rn.vJ)(e.Type)){case pn.zh.Docker:return e.Snapshots.length>0?(0,oe.isoDateFromTimestamp)(e.Snapshots[0].Time):null;case pn.zh.Kubernetes:return e.Kubernetes.Snapshots&&e.Kubernetes.Snapshots.length>0?(0,oe.isoDateFromTimestamp)(e.Kubernetes.Snapshots[0].Time):null;default:return null}}(n),l=function(e){var t=xt((function(t){return e?lt()(e.map((function(e){return t.find((function(t){return t.ID===e}))})).map((function(e){return null==e?void 0:e.Name}))):[]})),n=t.tags,r=t.isLoading;return n&&n.length>0?n.join(", "):r?"Loading tags...":"No tags"}(n.TagIds),c=function(e){if((0,rn.Mq)(e.Type)&&!e.EdgeID)return"portainer.endpoints.endpoint";switch((0,rn.vJ)(e.Type)){case pn.zh.Azure:return"azure.dashboard";case pn.zh.Docker:return"docker.dashboard";case pn.zh.Kubernetes:return"kubernetes.dashboard";default:return""}}(n);return(0,R.jsxs)("div",{className:"app-portainer-home-EnvironmentList-EnvironmentItem-EnvironmentItem-module__root",children:[(0,R.jsx)("button",{type:"button",onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return r(n)})),className:"app-portainer-home-EnvironmentList-EnvironmentItem-EnvironmentItem-module__wrapperButton",children:(0,R.jsx)(ue.r,{className:(0,M.Z)("blocklist-item no-link","app-portainer-home-EnvironmentList-EnvironmentItem-EnvironmentItem-module__item"),to:c,params:{endpointId:n.Id,id:n.Id},children:(0,R.jsxs)("div",{className:"blocklist-item-box",children:[(0,R.jsx)("span",{className:(0,M.Z)("blocklist-item-logo","endpoint-item"),children:(0,R.jsx)(Vn,{type:n.Type})}),(0,R.jsxs)("span",{className:"col-sm-12",children:[(0,R.jsxs)("div",{className:"blocklist-item-line endpoint-item",children:[(0,R.jsxs)("span",{children:[(0,R.jsx)("span",{className:"blocklist-item-title endpoint-item",children:n.Name}),(0,R.jsx)("span",{className:"space-left blocklist-item-subtitle",children:s?(0,R.jsx)(Fn.x,{environment:n,showLastCheckInDate:!0}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Wn,{status:n.Status}),(0,R.jsx)("span",{className:"space-left small text-muted",children:o})]})})]}),a&&(0,R.jsxs)("span",{className:"small space-right",children:[(0,R.jsx)("span",{children:"Group: "}),(0,R.jsx)("span",{children:a})]})]}),(0,R.jsx)(qn,{environment:n}),(0,R.jsxs)("div",{className:"blocklist-item-line endpoint-item",children:[(0,R.jsxs)("span",{className:"small text-muted space-x-2",children:[(0,rn.gR)(n.Type)&&(0,R.jsx)("span",{children:n.Snapshots.length>0&&(0,R.jsxs)("span",{className:"small text-muted vertical-center",children:[(0,R.jsx)(En.Z,{className:"icon icon-sm space-right","aria-hidden":"true"}),n.Snapshots[0].TotalCPU," CPU",(0,R.jsx)(D.J,{icon:"svg-memory",className:"icon icon-sm space-right"}),(0,oe.humanize)(n.Snapshots[0].TotalMemory)," RAM",(0,R.jsx)(En.Z,{className:"icon icon-sm space-right","aria-hidden":"true"}),null===(t=n.Gpus)||void 0===t?void 0:t.length," GPU"]})}),(0,R.jsxs)("span",{className:"vertical-center",children:[(0,R.jsx)(jn.Z,{className:"icon icon-sm space-right","aria-hidden":"true"}),l]})]}),!s&&(0,R.jsx)("span",{className:"small text-muted",children:(0,oe.stripProtocol)(n.URL)})]})]})]})})}),i&&(0,R.jsx)(ue.r,{to:"portainer.endpoints.endpoint",params:{id:n.Id},className:"app-portainer-home-EnvironmentList-EnvironmentItem-EnvironmentItem-module__edit-button",children:(0,R.jsx)(j.zx,{color:"link",children:(0,R.jsx)(Dn.Z,{className:"icon icon-md","aria-hidden":"true"})})})]})}var Jn=n(63616),Xn=n(45119),er=(n(15363),n(14434)),tr=n(57520),nr=n(72205);function rr(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function ar(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){rr(i,r,a,s,o,"next",e)}function o(e){rr(i,r,a,s,o,"throw",e)}s(void 0)}))}}var ir="kubernetes";function sr(e){return or.apply(this,arguments)}function or(){return(or=ar(regeneratorRuntime.mark((function e(t){var n,r,a,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.get("".concat(ir,"/config"),{params:{ids:JSON.stringify(t)},responseType:"blob",headers:{Accept:"text/yaml"}});case 3:n=e.sent,r=n.headers,a=n.data,i=r["content-disposition"],s=i.replace("attachment;","").trim(),(0,nr.saveAs)(a,s),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),(0,dt.vs)(e.t0,"");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var lr=n(59748);function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pr(){var e,t,n=(e=(0,K.useState)({}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];return{selection:r,toggle:function(e,t){a((function(n){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return t?r[e]=!0:delete r[e],r}))},selectionSize:Object.keys(r).length}}function mr(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function gr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){mr(i,r,a,s,o,"next",e)}function o(e){mr(i,r,a,s,o,"throw",e)}s(void 0)}))}}function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){vr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e){var t=e.envQueryParams,n=e.onClose,r=br((0,K.useState)(1),2),a=r[0],i=r[1],s=br(un("home_endpoints"),2),o=s[0],l=s[1],c=(0,T.Fy)({select:function(e){return function(e){var t="The kubeconfig file will";switch(e){case"24h":return"".concat(t," expire in 1 day.");case"168h":return"".concat(t," expire in 7 days.");case"720h":return"".concat(t," expire in 30 days.");case"8640h":return"".concat(t," expire in 1 year.");default:return"".concat(t," not expire.")}}(e.KubeconfigExpiry)}}),d=pr(),u=d.selection,p=d.toggle,m=d.selectionSize,g=(0,xn.LH)(fr(fr({},t),{},{page:a,pageLimit:o,types:[pn.Qj.KubernetesLocal,pn.Qj.AgentOnKubernetes,pn.Qj.EdgeAgentOnKubernetes]})),h=g.environments,f=g.totalCount,v=h.every((function(e){return u[e.Id]}));return(0,R.jsx)(tr.t9,{className:"app-portainer-home-EnvironmentList-KubeconfigButton-KubeconfigPrompt-module__dialog","aria-label":"Kubeconfig View",role:"dialog",children:(0,R.jsx)("div",{className:"modal-dialog",children:(0,R.jsxs)("div",{className:"modal-content",children:[(0,R.jsxs)("div",{className:"modal-header",children:[(0,R.jsx)("button",{type:"button",className:"close",onClick:n,children:(0,R.jsx)(er.Z,{})}),(0,R.jsx)("h5",{className:"modal-title",children:"Download kubeconfig file"})]}),(0,R.jsxs)("div",{className:"modal-body",children:[(0,R.jsx)("form",{className:"bootbox-form",children:(0,R.jsxs)("div",{className:"bootbox-prompt-message",children:[(0,R.jsx)("span",{children:"Select the kubernetes environments to add to the kubeconfig file. You may select across multiple pages."}),(0,R.jsx)("span",{className:"space-left",children:c.data})]})}),(0,R.jsx)("br",{}),(0,R.jsx)("div",{className:"h-8 flex items-center",children:(0,R.jsx)(lr.X,{id:"settings-container-truncate-name",label:"Select all (in this page)",checked:v,onChange:function(){h.forEach((function(e){return p(e.Id,!v)}))}})}),(0,R.jsxs)("div",{className:"datatable",children:[(0,R.jsx)("div",{className:"bootbox-checkbox-list",children:h.map((function(e){return(0,R.jsx)("div",{className:(0,M.Z)("app-portainer-home-EnvironmentList-KubeconfigButton-KubeconfigPrompt-module__checkbox","h-8 flex items-center pt-1"),children:(0,R.jsx)(lr.X,{id:"".concat(e.Id),label:"".concat(e.Name," (").concat(e.URL,")"),checked:!!u[e.Id],onChange:function(){return p(e.Id,!u[e.Id])}})},e.Id)}))}),(0,R.jsx)("div",{className:"pt-3 flex justify-end w-full",children:(0,R.jsx)(ee.j,{showAll:f<=100,page:a,onPageChange:i,pageLimit:o,onPageLimitChange:l,totalCount:f})})]})]}),(0,R.jsxs)("div",{className:"modal-footer",children:[(0,R.jsx)(j.zx,{onClick:n,color:"default",children:"Cancel"}),(0,R.jsx)(j.zx,{onClick:function(){!function(){b.apply(this,arguments)}()},disabled:m<1,children:"Download File"})]})]})})});function b(){return(b=gr(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==m){e.next=3;break}return y.Kp("No environment was selected",""),e.abrupt("return");case 3:return e.prev=3,e.next=6,sr(Object.keys(u).map(Number));case 6:n(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),y.vU("Failed downloading kubeconfig file",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sr(e){var t,n,r=e.environments,a=e.envQueryParams,i=(t=(0,K.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],o=i[1];return r&&function(e){return"https:"===window.location.protocol&&e.some((function(e){return(0,rn.w5)(e.Type)}))}(r)?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(j.zx,{onClick:function(){r&&((0,Xn.L9)("kubernetes-kubectl-kubeconfig-multi",{category:"kubernetes"}),o(!0))},size:"medium",className:"!ml-3",children:[(0,R.jsx)(Jn.Z,{className:"feather icon-white","aria-hidden":"true"})," ","Kubeconfig"]}),s&&(0,R.jsx)(wr,{envQueryParams:a,onClose:function(){o(!1)}})]}):null}n(13559);var Cr=n(83302);function kr(e){var t=e.isAdmin;return(0,R.jsx)(Cr.$,{title:"Information",children:(0,R.jsx)(W.a,{children:t?(0,R.jsxs)("span",{children:["No environment available for management. Please head over the"," ",(0,R.jsx)(ue.r,{to:"portainer.wizard.endpoints",children:"environment wizard"})," to add an environment."]}):(0,R.jsx)("span",{children:"You do not have access to any environment. Please contact your administrator."})})})}var Ar="app-portainer-home-EnvironmentList-EnvironmentList-module__filter-left";function Pr(e){return function(e){if(Array.isArray(e))return jr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Er(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){Nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||Er(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e,t){if(e){if("string"==typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dr,Or=[{value:pn.a2.Up,label:"Up"},{value:pn.a2.Down,label:"Down"}],Rr=[{value:1,label:"Name"},{value:2,label:"Group"},{value:3,label:"Status"}];!function(e){e[e.API=0]="API",e[e.Agent=1]="Agent",e[e.EdgeAgent=2]="EdgeAgent",e[e.EdgeDevice=3]="EdgeDevice"}(Dr||(Dr={}));var Mr="home_endpoints";function Lr(e){var t,n=e.onClickItem,r=e.onRefresh,a=(0,Cn.aF)().isAdmin,i=Tr(yn("platformType",[]),2),s=i[0],o=i[1],l=Tr(Tn(Mr),2),c=l[0],d=l[1],u=Tr(un(Mr),2),p=u[0],m=u[1],g=Tr((0,K.useState)(1),2),h=g[0],f=g[1],v=(0,wn.N)(c),b=Tr(yn("connectionTypes",[]),2),y=b[0],w=b[1],x=Tr(yn("status",[]),2),S=x[0],C=x[1],k=Tr(yn("tag",[]),2),A=k[0],P=k[1],I=Tr(yn("group",[]),2),$=I[0],N=I[1],T=Tr(Tn("sortBy"),2),E=T[0],D=T[1],O=Tr(yn("sortOrder",!1),2),L=O[0],U=O[1],V=Tr(yn("sortByButton",!1),2),F=V[0],_=V[1],B=Tr(yn("status_state",[]),2),z=B[0],H=B[1],G=Tr(yn("tag_state",[]),2),Z=G[0],q=G[1],W=Tr(yn("group_state",[]),2),Q=W[0],Y=W[1],J=Tr(yn("sort_by_state",void 0),2),X=J[0],te=J[1],re=Tr(yn("agentVersions",[]),2),se=re[0],oe=re[1],le=(0,Sn.X)(),ce={types:function(e,t){var n,r;if(0===e.length&&0===t.length)return[];var a=(Nr(n={},pn.zh.Docker,[pn.Qj.Docker,pn.Qj.AgentOnDocker,pn.Qj.EdgeAgentOnDocker]),Nr(n,pn.zh.Azure,[pn.Qj.Azure]),Nr(n,pn.zh.Kubernetes,[pn.Qj.KubernetesLocal,pn.Qj.AgentOnKubernetes,pn.Qj.EdgeAgentOnKubernetes]),n),i=(Nr(r={},Dr.API,[pn.Qj.Azure,pn.Qj.KubernetesLocal,pn.Qj.Docker]),Nr(r,Dr.Agent,[pn.Qj.AgentOnDocker,pn.Qj.AgentOnKubernetes]),Nr(r,Dr.EdgeAgent,pn.rP),Nr(r,Dr.EdgeDevice,pn.rP),r),s=e.flatMap((function(e){return a[e]})),o=t.flatMap((function(e){return i[e]}));return 0===s.length?o:0===o.length?s:on()(o,s)}(s.map((function(e){return e.value})),y.map((function(e){return e.value}))),search:v,status:S,tagIds:null!=A&&A.length?A:void 0,groupIds:$,edgeDevice:!1,tagsPartialMatch:!0,agentVersions:se.map((function(e){return e.value}))},de=xt(),ue=(0,xn.LH)($r({page:h,pageLimit:p,sort:E,order:L?"desc":"asc"},ce),xn.sb),pe=ue.isLoading,me=ue.environments,ge=ue.totalCount,he=ue.totalAvailable,fe=(0,ie.useQuery)(["environments","agentVersions"],(function(){return(0,nn.uj)()}));(0,K.useEffect)((function(){f(1)}),[c]);var ve=Pr(le.data||[]),be=Pr(new Map(ve.map((function(e){return[e.Id,e]}))).values()).map((function(e){return{value:e.Id,label:e.Name}})),ye=Pr(de.tags||[]),we=Pr(new Map(ye.map((function(e){return[e.ID,e]}))).values()).map((function(e){return{value:e.ID,label:e.Name}})),xe=function(e){var t,n=(Nr(t={},pn.zh.Docker,[Dr.API,Dr.Agent,Dr.EdgeAgent,Dr.EdgeDevice]),Nr(t,pn.zh.Azure,[Dr.API]),Nr(t,pn.zh.Kubernetes,[Dr.Agent,Dr.EdgeAgent,Dr.EdgeDevice]),t),r=[{value:Dr.API,label:"API"},{value:Dr.Agent,label:"Agent"},{value:Dr.EdgeAgent,label:"Edge Agent"}];return 0===e.length?r:lt()(on().apply(void 0,Pr(e.map((function(e){return n[e.value]})))).map((function(e){return r.find((function(t){return t.value===e}))})))}(s),Se=function(e){var t,n=[{value:pn.zh.Docker,label:"Docker"},{value:pn.zh.Azure,label:"Azure"},{value:pn.zh.Kubernetes,label:"Kubernetes"}];if(0===e.length)return n;var r=(Nr(t={},Dr.API,[pn.zh.Docker,pn.zh.Azure]),Nr(t,Dr.Agent,[pn.zh.Docker,pn.zh.Kubernetes]),Nr(t,Dr.EdgeAgent,[pn.zh.Kubernetes,pn.zh.Docker]),Nr(t,Dr.EdgeDevice,[pn.zh.Docker,pn.zh.Kubernetes]),t);return lt()(on().apply(void 0,Pr(e.map((function(e){return r[e.value]})))).map((function(e){return n.find((function(t){return t.value===e}))})))}(y);return(0,R.jsxs)(R.Fragment,{children:[0===he&&(0,R.jsx)(kr,{isAdmin:a}),(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(ae.xJ,{children:[(0,R.jsx)(ae.lw,{icon:"hard-drive",featherIcon:!0,label:"Environments"}),(0,R.jsxs)(ae.p2,{className:"app-portainer-home-EnvironmentList-EnvironmentList-module__actionBar",children:[(0,R.jsx)("div",{className:"app-portainer-home-EnvironmentList-EnvironmentList-module__description",children:"Click on an environment to manage"}),(0,R.jsxs)("div",{className:"app-portainer-home-EnvironmentList-EnvironmentList-module__action-button",children:[(0,R.jsx)("div",{className:"app-portainer-home-EnvironmentList-EnvironmentList-module__refresh-button",children:a&&(0,R.jsxs)(j.zx,{onClick:r,"data-cy":"home-refreshEndpointsButton",size:"medium",color:"secondary",className:(0,M.Z)("vertical-center !ml-0","app-portainer-home-EnvironmentList-EnvironmentList-module__refresh-environments-button"),children:[(0,R.jsx)(ln.Z,{className:"feather icon-sm icon-white","aria-hidden":"true"}),"Refresh"]})}),(0,R.jsx)("div",{className:"app-portainer-home-EnvironmentList-EnvironmentList-module__kubeconfig-button",children:(0,R.jsx)(Sr,{environments:me,envQueryParams:$r($r({},ce),{},{sort:E,order:L?"desc":"asc"})})}),(0,R.jsx)("div",{className:(0,M.Z)("app-portainer-home-EnvironmentList-EnvironmentList-module__filterSearchbar","ml-3"),children:(0,R.jsx)(Nn,{value:c,onChange:d,placeholder:"Search by name, group, tag, status, URL...","data-cy":"home-endpointsSearchInput"})})]})]}),(0,R.jsxs)("div",{className:"app-portainer-home-EnvironmentList-EnvironmentList-module__filter-container",children:[(0,R.jsx)("div",{className:Ar,children:(0,R.jsx)(bn,{filterOptions:Se,onChange:o,placeHolder:"Platform",value:s})}),(0,R.jsx)("div",{className:Ar,children:(0,R.jsx)(bn,{filterOptions:xe,onChange:w,placeHolder:"Connection Type",value:y})}),(0,R.jsx)("div",{className:Ar,children:(0,R.jsx)(bn,{filterOptions:Or,onChange:function(e){if(H(e),0===e.length)C([]);else{var t=Pr(new Set(e.map((function(e){return e.value}))));C(t)}},placeHolder:"Status",value:z})}),(0,R.jsx)("div",{className:Ar,children:(0,R.jsx)(bn,{filterOptions:we,onChange:function(e){if(q(e),0===e.length)P([]);else{var t=Pr(new Set(e.map((function(e){return e.value}))));P(t)}},placeHolder:"Tags",value:Z})}),(0,R.jsx)("div",{className:Ar,children:(0,R.jsx)(bn,{filterOptions:be,onChange:function(e){if(Y(e),0===e.length)N([]);else{var t=Pr(new Set(e.map((function(e){return e.value}))));N(t)}},placeHolder:"Groups",value:Q})}),(0,R.jsx)("div",{className:Ar,children:(0,R.jsx)(bn,{filterOptions:(null===(t=fe.data)||void 0===t?void 0:t.map((function(e){return{label:e,value:e}})))||[],onChange:oe,placeHolder:"Agent Version",value:se})}),(0,R.jsx)("button",{type:"button",className:"app-portainer-home-EnvironmentList-EnvironmentList-module__clear-button",onClick:function(){o([]),H([]),C([]),q([]),P([]),Y([]),N([]),oe([]),w([])},children:"Clear all"}),(0,R.jsx)("div",{className:"app-portainer-home-EnvironmentList-EnvironmentList-module__filter-right",children:(0,R.jsx)(Pn,{filterOptions:Rr,onChange:function(e){null!==e?(D(e.label),_(!0),te(e)):(D(""),_(!0),te(void 0))},onDescending:function(){U(!L)},placeHolder:"Sort By",sortByDescending:L,sortByButton:F,value:X})})]}),(0,R.jsx)("div",{className:"blocklist","data-cy":"home-endpointList",children:Ur(pe,ge,me.map((function(e){var t,r;return(0,R.jsx)(Yn,{environment:e,groupName:null===(t=le.data)||void 0===t||null===(r=t.find((function(t){return t.Id===e.GroupId})))||void 0===r?void 0:r.Name,onClick:n},e.Id)})))}),(0,R.jsx)(ne.y,{children:(0,R.jsx)(ee.j,{showAll:ge<=100,pageLimit:p,page:h,onPageChange:f,totalCount:ge,onPageLimitChange:m})})]})})})]})}function Ur(e,t,n){return e?(0,R.jsx)("div",{className:"text-center text-muted","data-cy":"home-loadingEndpoints",children:"Loading..."}):t?n:(0,R.jsx)("div",{className:"text-center text-muted","data-cy":"home-noEndpoints",children:"No environments available."})}(0,N.F)(Lr,["onClickItem","onRefresh"]);function Vr(){return(0,R.jsxs)("div",{className:(0,M.Z)("row","app-portainer-home-EdgeLoadingSpinner-module__root"),children:["Connecting to the Edge environment...",(0,R.jsx)("i",{className:"fa fa-cog fa-spin space-left"})]})}var Fr=n(81651),_r=n.n(Fr),Kr=(n(25212),n(22037)),Br=n(55087);function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){Gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zr,qr,Wr,Qr=(0,Kr.ZP)()((0,Br.tJ)((function(e){return{dismissedInfoPanels:{},dismissInfoPanel:function(t){e((function(e){return{dismissedInfoPanels:Hr(Hr({},e.dismissedInfoPanels),{},Gr({},t,!0))}}))},dismissedInfoHash:"",dismissMotd:function(t){e({dismissedInfoHash:t})},dismissedUpdateVersion:"",dismissUpdateVersion:function(t){e({dismissedUpdateVersion:t})}}}),{name:(0,cn.gW)("NEW_UI_STATE")}));function Yr(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Jr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Yr(i,r,a,s,o,"next",e)}function o(e){Yr(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Xr(){return(Xr=Jr(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.get("/motd");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Unable to retrieve information message");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ta(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function na(){var e=(0,ie.useQuery)("motd",(function(){return function(){return Xr.apply(this,arguments)}()})).data,t=Qr();return e&&""!==e.Message&&e.Hash!==t.dismissedInfoHash?(0,R.jsxs)(R.Fragment,{children:[!!e.Style&&(0,R.jsx)("style",{children:e.Style}),(0,R.jsx)(Cr.$,{onDismiss:function(){return function(e){t.dismissMotd(e)}(e.Hash)},title:e.Title,wrapperStyle:ra(e.ContentLayout),bodyClassName:"motd-body",children:(0,R.jsx)("span",{className:"text-muted",children:(0,R.jsx)("p",{dangerouslySetInnerHTML:{__html:e.Message}})})})]}):null}function ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.fromEntries(Object.entries(e).map((function(e){var t=ea(e,2),n=t[0],r=t[1];return[_r()(n),r]})))}!function(e){e[e.CE=1]="CE",e[e.BE=2]="BE",e[e.EE=3]="EE"}(Zr||(Zr={})),(Wr=qr||(qr={}))[Wr.Trial=1]="Trial",Wr[Wr.Subscription=2]="Subscription",n(71204);var aa=n(9251);function ia(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function sa(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){ia(i,r,a,s,o,"next",e)}function o(e){ia(i,r,a,s,o,"throw",e)}s(void 0)}))}}function oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function la(){return ca.apply(this,arguments)}function ca(){return(ca=sa(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,k.l9)({title:(0,an.hP)("Are you sure?"),message:"Triggering a manual refresh will poll each environment to retrieve its information, this may take a few moments.",buttons:{confirm:{label:"Continue",className:"btn-primary"}}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var da=n(73281),ua=n(70727),pa=n(42631),ma=n(1831);function ga(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function ha(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){ga(i,r,a,s,o,"next",e)}function o(e){ga(i,r,a,s,o,"throw",e)}s(void 0)}))}}function fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?va(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ba=n(64858);function ya(e){var t=e.settings,n=e.onSubmit;return t?(0,R.jsx)("div",{className:"row",children:(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.PI,{icon:"svg-laptop",title:"Edge Compute settings"}),(0,R.jsx)(Z.kh,{children:(0,R.jsx)(B.J9,{initialValues:t,enableReinitialize:!0,validationSchema:function(){return(0,ke.Ry)().shape({EdgeAgentCheckinInterval:(0,ke.Rx)().required("This field is required."),EnableEdgeComputeFeatures:(0,ke.O7)().required("This field is required."),EnforceEdgeID:(0,ke.O7)().required("This field is required.")})},onSubmit:n,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,r=e.handleSubmit,a=e.setFieldValue,i=e.isSubmitting,s=e.isValid,o=e.dirty;return(0,R.jsxs)(B.l0,{className:"form-horizontal",onSubmit:r,noValidate:!0,children:[(0,R.jsx)(H.N,{inputId:"edge_enable",label:"Enable Edge Compute features",size:"small",errors:n.EnableEdgeComputeFeatures,children:(0,R.jsx)(z.r,{id:"edge_enable",name:"edge_enable",className:"space-right",checked:t.EnableEdgeComputeFeatures,onChange:function(e){return a("EnableEdgeComputeFeatures",e)}})}),(0,R.jsx)(W.a,{color:"blue",children:"When enabled, this will enable Portainer to execute Edge Device features."}),(0,R.jsx)(H.N,{inputId:"edge_enforce_id",label:"Enforce use of Portainer generated Edge ID",size:"small",tooltip:"This setting only applies to manually created environments.",errors:n.EnforceEdgeID,children:(0,R.jsx)(z.r,{id:"edge_enforce_id",name:"edge_enforce_id",className:"space-right",checked:t.EnforceEdgeID,onChange:function(e){return a("EnforceEdgeID",e.valueOf())}})}),(0,R.jsx)(G.i,{children:"Check-in Intervals"}),(0,R.jsx)(ba.If,{value:t.EdgeAgentCheckinInterval,onChange:function(e){return a("EdgeAgentCheckinInterval",e)},isDefaultHidden:!0,label:"Edge agent default poll frequency",tooltip:"Interval used by default by each Edge agent to check in with the Portainer instance. Affects Edge environment management and Edge compute features."}),(0,R.jsx)("div",{className:"form-group mt-5",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(q.f,{disabled:!s||!o,"data-cy":"settings-edgeComputeButton",isLoading:i,loadingText:"Saving settings...",children:"Save settings"})})})]})}})})]})}):null}var wa=n(83810),xa=n(32858),Sa=(n(89954),n(88373),n(50433));function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){Aa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ke.Ry({TrustOnFirstConnect:ke.O7(),EdgePortainerUrl:ke.Z_().test("url","URL should be a valid URI and cannot include localhost",(function(e){if(!e)return!1;try{var t=new URL(e);return!!t.hostname&&"localhost"!==t.hostname}catch(e){return!1}})).required("URL is required")}),(0,Sa.baseHref)(),window.location.origin,xa.dP.k8sLinux,xa.dP.swarmLinux,xa.dP.standaloneLinux,xa.dP.nomadLinux,xa.dP.swarmWindows,xa.dP.standaloneWindow,n(42108);function Pa(e){var t,n,r,a=e.icon,i=e.active,s=e.description,o=e.title,l=e.onClick,c=void 0===l?function(){}:l,d=e.featureId,u="string"!=typeof a?a:null,m=(0,p.vx)(d);return(0,R.jsxs)("button",{className:(0,M.Z)("app-react-portainer-environments-wizard-components-Option-Option-module__root",m?"app-react-portainer-environments-wizard-components-Option-Option-module__teaser":"app-react-portainer-environments-wizard-components-Option-Option-module__feature","border-0",(t={},n="app-react-portainer-environments-wizard-components-Option-Option-module__active",r=i,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),type:"button",disabled:m,onClick:c,children:[(0,R.jsx)("div",{className:"text-center mt-2",children:u?(0,R.jsx)(u,{selected:i,className:"app-react-portainer-environments-wizard-components-Option-Option-module__icon-component"}):(0,R.jsx)("i",{className:(0,M.Z)(a,"block","app-react-portainer-environments-wizard-components-Option-Option-module__icon")})}),(0,R.jsxs)("div",{className:"mt-3 text-center flex flex-col",children:[(0,R.jsx)("h3",{children:o}),(0,R.jsx)("h5",{children:s}),m&&(0,R.jsx)(O.d,{showIcon:!1,featureId:d,className:"!whitespace-normal"})]})]})}var Ia=n(55950);function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){Ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function ja(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Ea(i,r,a,s,o,"next",e)}function o(e){Ea(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Da(e){return Oa.apply(this,arguments)}function Oa(){return(Oa=ja(regeneratorRuntime.mark((function e(t){var n,r,a,i,s,o,l,c,d,u,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=function(e){return""===e?e:e.startsWith("//./pipe/")?"npipe://".concat(e):"unix://".concat(e)},n=t.name,r=t.socketPath,a=void 0===r?"":r,i=t.publicUrl,s=void 0===i?"":i,o=t.meta,l=void 0===o?{tagIds:[]}:o,c=t.gpus,d=void 0===c?[]:c,u=p(a),e.abrupt("return",Ba(n,pn.Sy.LocalDockerEnvironment,{url:u,publicUrl:s,meta:l,gpus:d}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e){return Ma.apply(this,arguments)}function Ma(){return(Ma=ja(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.meta,a=void 0===r?{tagIds:[]}:r,e.abrupt("return",Ba(n,pn.Sy.LocalKubernetesEnvironment,{meta:a,tls:{skipClientVerify:!0,skipVerify:!0}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(e){return Ua.apply(this,arguments)}function Ua(){return Ua=ja(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.azure,a=t.meta,i=void 0===a?{tagIds:[]}:a,e.abrupt("return",Ba(n,pn.Sy.AzureEnvironment,{meta:i,azure:r}));case 2:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}function Va(e){return Fa.apply(this,arguments)}function Fa(){return Fa=ja(regeneratorRuntime.mark((function e(t){var n,r,a,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.creationType,r=t.name,a=t.url,i=t.options,s=void 0===i?{}:i,e.abrupt("return",Ba(r,n,Na(Na({},s),{},{url:"tcp://".concat(a)})));case 2:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function _a(e){var t=e.name,n=e.environmentUrl,r=e.meta,a=void 0===r?{tagIds:[]}:r;return Va({name:t,url:n,creationType:pn.Sy.AgentEnvironment,options:{meta:a,tls:{skipVerify:!0,skipClientVerify:!0}}})}function Ka(e){var t=e.name,n=e.portainerUrl,r=e.meta,a=void 0===r?{tagIds:[]}:r,i=e.gpus,s=void 0===i?[]:i,o=e.isEdgeDevice,l=e.pollFrequency;return Ba(t,pn.Sy.EdgeAgentEnvironment,{url:n,tls:{skipVerify:!0,skipClientVerify:!0},gpus:s,isEdgeDevice:o,pollFrequency:l,meta:a})}function Ba(e,t,n){return za.apply(this,arguments)}function za(){return za=ja(regeneratorRuntime.mark((function e(t,n,r){var a,i,s,o,l,c,d,u,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,EndpointCreationType:n},r&&(i=r.meta||{},s=i.groupId,o=i.tagIds,l=void 0===o?[]:o,a=Na(Na({},a),{},{URL:r.url,PublicURL:r.publicUrl,GroupID:s,TagIds:(0,Ia.VZ)(l),CheckinInterval:r.pollFrequency,IsEdgeDevice:r.isEdgeDevice,Gpus:(0,Ia.VZ)(r.gpus)}),c=r.tls,d=r.azure,c&&(a=Na(Na({},a),{},{TLS:!0,TLSSkipVerify:c.skipVerify,TLSSkipClientVerify:c.skipClientVerify,TLSCACertFile:c.caCertFile,TLSCertFile:c.certFile,TLSKeyFile:c.keyFile})),d&&(a=Na(Na({},a),{},{AzureApplicationID:d.applicationId,AzureTenantID:d.tenantId,AzureAuthenticationKey:d.authenticationKey}))),u=(0,Ia.at)(a),e.prev=3,e.next=6,dt.ZP.post((0,Ia.Q2)(),u);case 6:return p=e.sent,m=p.data,e.abrupt("return",m);case 11:throw e.prev=11,e.t0=e.catch(3),(0,dt.vs)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),za.apply(this,arguments)}function Ha(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Ga(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Ha(i,r,a,s,o,"next",e)}function o(e){Ha(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qa(){var e,t,n=(e=(0,K.useState)(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Za(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1],i=function(){var e=(0,xn.LH)({page:0,pageLimit:1,types:[pn.Qj.Docker,pn.Qj.KubernetesLocal]},!1,1/0),t=e.environments;return{isLoading:e.isLoading,environment:t.length>0?t[0]:void 0}}(),s=i.isLoading,o=i.environment,l=(0,ie.useMutation)(Qa),c=l.mutate;return(0,K.useEffect)((function(){s||r||(o?a(o):c(void 0,{onSuccess:function(e){a(e)}}))}),[o,s,r,c]),{status:Wa(s,l.status),type:null==r?void 0:r.Type}}function Wa(e,t){return e||"loading"===t?"loading":"error"===t?"error":"success"}function Qa(){return Ya.apply(this,arguments)}function Ya(){return(Ya=Ga(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ra({name:"local"});case 3:case 10:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,Da({name:"local"});case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Ja,Xa="app-react-portainer-environments-wizard-HomeView-HomeView-module__link";function ei(e){switch(e){case pn.Qj.Docker:return"Docker";case pn.Qj.KubernetesLocal:return"Kubernetes";default:return""}}function ti(){var e=(0,ce.useCurrentStateAndParams)().params.edgeDevice;return!!e&&"true"===e}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ni.apply(this,arguments)}var ri=[{id:"dockerStandalone",title:"Docker Standalone",icon:"fab fa-docker",description:"Connect to Docker Standalone via URL/IP, API or Socket",featureId:void 0},{id:"dockerSwarm",title:"Docker Swarm",icon:"fab fa-docker",description:"Connect to Docker Swarm via URL/IP, API or Socket",featureId:void 0},{id:"kubernetes",title:"Kubernetes",icon:"fas fa-dharmachakra",description:"Connect to a kubernetes environment via URL/IP",featureId:void 0},{id:"aci",title:"ACI",description:"Connect to ACI environment via API",icon:"fab fa-microsoft",featureId:void 0},{id:"nomad",title:"Nomad",description:"Connect to HashiCorp Nomad environment via API",icon:"nomad-icon",featureId:u.tE.NOMAD},{id:"kaas",title:"KaaS",description:"Provision a Kubernetes environment with a cloud provider",icon:function(e){return K.createElement("svg",ni({width:"1em",height:"1em",viewBox:"0 0 22 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ja||(Ja=K.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 0a8 8 0 0 0-7.978 7.407A5 5 0 0 0 5 17h11.5a5.5 5.5 0 0 0 2.366-10.466A8.002 8.002 0 0 0 11 0Zm.5 4.406a.5.5 0 0 0-1 0V4.7a4.308 4.308 0 0 0-2.187.906l-.208-.208a.5.5 0 0 0-.707.707l.208.209A4.308 4.308 0 0 0 6.7 8.5h-.294a.5.5 0 0 0 0 1H6.7c.094.821.418 1.572.906 2.187l-.208.208a.5.5 0 1 0 .707.707l.208-.208a4.307 4.307 0 0 0 2.187.906v.294a.5.5 0 1 0 1 0V13.3a4.309 4.309 0 0 0 2.187-.906l.208.208a.5.5 0 0 0 .707-.707l-.208-.208A4.308 4.308 0 0 0 15.3 9.5h.294a.5.5 0 0 0 0-1H15.3a4.307 4.307 0 0 0-.906-2.186l.208-.209a.5.5 0 0 0-.707-.707l-.208.209A4.308 4.308 0 0 0 11.5 4.7v-.294Zm-1 1.303a3.311 3.311 0 0 0-1.474.61L10.5 7.794V5.71ZM8.32 7.027A3.311 3.311 0 0 0 7.708 8.5h2.084L8.319 7.027ZM7.708 9.5c.082.546.297 1.049.61 1.474L9.793 9.5H7.709Zm1.317 2.18c.426.314.928.53 1.474.611v-2.084l-1.474 1.474Zm2.474.611a3.311 3.311 0 0 0 1.473-.61L11.5 10.208v2.083Zm2.18-1.317c.314-.425.529-.928.61-1.474h-2.083l1.473 1.474Zm.61-2.474a3.311 3.311 0 0 0-.61-1.473L12.207 8.5h2.084Zm-1.317-2.18L11.5 7.793V5.71a3.311 3.311 0 0 1 1.473.61Z",fill:"currentColor"})))},featureId:u.tE.KAAS_PROVISIONING}];function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ii=["dockerStandalone","dockerSwarm","kubernetes"];function si(e){var t=e.value,n=e.onChange,r=e.createEdgeDevice;return(0,R.jsx)("div",{className:"row",children:(0,R.jsxs)(Zt,{title:"Select your environment(s)",children:[(0,R.jsx)("p",{className:"text-muted small",children:"You can onboard different types of environments, select all that apply."}),(0,R.jsx)("div",{className:"flex gap-4 flex-wrap",children:oi(ri,r).map((function(e){return(0,R.jsx)(Pa,{featureId:e.featureId,title:e.title,description:e.description,icon:e.icon,active:t.includes(e.id),onClick:function(){return function(e){var r;t.includes(e)?n(t.filter((function(t){return t!==e}))):n([].concat(function(e){if(Array.isArray(e))return ai(e)}(r=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ai(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]))}(e.id)}},e.id)}))})]})})}function oi(e,t){return t?e.filter((function(e){return ii.includes(e.id)})):e}function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(36554);function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pi(e){var t=e.currentStep,n=e.steps;return(0,R.jsx)("div",{className:"app-react-components-Stepper-Stepper-module__stepper-wrapper",children:n.map((function(e,n){var r;return(0,R.jsx)("div",{className:(0,M.Z)("app-react-components-Stepper-Stepper-module__step-wrapper",(r={},ui(r,"app-react-components-Stepper-Stepper-module__active",n+1===t),ui(r,"app-react-components-Stepper-Stepper-module__completed",n+1<t),r)),children:(0,R.jsxs)("div",{className:"app-react-components-Stepper-Stepper-module__step",children:[(0,R.jsx)("div",{className:"app-react-components-Stepper-Stepper-module__step-counter",children:n+1}),(0,R.jsx)("div",{className:"app-react-components-Stepper-Stepper-module__step-name",children:e.title})]})},e.title)}))})}var mi=n(55666),gi=n(64001);function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vi(e){var t=(0,ie.useQueryClient)();return(0,ie.useMutation)(e,{onSuccess:function(){return t.invalidateQueries(["environments"])},meta:{error:{title:"Failure",message:"Unable to create environment"}}})}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yi(){var e,t,n=(e=(0,B.U$)("meta.groupId"),t=3,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1],i=n[2],s=(0,Sn.X)();if(!s.data)return null;var o=s.data.map((function(e){return{value:e.Id,label:e.Name}}));return(0,R.jsx)(H.N,{label:"Group",errors:a.error,children:(0,R.jsx)(Q.P,{name:"meta.groupId",options:o,value:r.value,onChange:function(e){return t=e.target.value,void i.setValue(t?parseInt(t,10):1);var t}})})}function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xi(){var e,t,n=(e=(0,B.U$)("meta.tagIds"),t=3,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[2],i=(0,Cn.aF)().isAdmin;return(0,R.jsxs)(Zt,{title:"Metadata",children:[(0,R.jsx)(yi,{}),(0,R.jsx)(Ct,{value:r.value,allowCreate:i,onChange:function(e){return a.setValue(e)}})]})}function Si(e){var t=e.children;return(0,R.jsx)(Zt,{title:"More settings",isFoldable:!0,children:(0,R.jsxs)("div",{className:"ml-8",children:[t,(0,R.jsx)(xi,{})]})})}var Ci=n(16100);function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ai(){var e,t,n=(e=(0,B.U$)("gpus"),t=3,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ki(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[2];return(0,R.jsx)(Zt,{title:"Hardware acceleration",children:(0,R.jsx)(Ci.bQ,{value:r.value,onChange:function(e){a.setValue(e)}})})}var Pi=n(60352),Ii=n.n(Pi);function $i(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Ni(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){$i(i,r,a,s,o,"next",e)}function o(e){$i(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ei(e){var t,n,r=e.readonly,a=(t=(0,B.U$)("name"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ti(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],i="name-input";return(0,R.jsx)(H.N,{label:"Name",required:!0,errors:a.error,inputId:i,children:(0,R.jsx)(B.gN,{id:i,name:"name",as:Q.I,"data-cy":"endpointCreate-nameInput",placeholder:"e.g. docker-prod01 / kubernetes-cluster01",readOnly:r})})}function ji(){return(ji=Ni(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:return e.prev=2,e.next=5,(0,nn.hF)({limit:1,query:{name:t}});case 5:if(!(e.sent.totalCount>0)){e.next=8;break}return e.abrupt("return",!1);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var Di=Ii()((function(e){return ji.apply(this,arguments)}),500);function Oi(){return(0,ke.Z_)().required("Name is required").test("unique-name","Name should be unique",(function(e){return Di(e)||!1}))}function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mi(e){var t,n,r=e.fieldName,a=e.readonly,i=(t=(0,B.U$)(r),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ri(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],s="".concat(r,"-input");return(0,R.jsx)(H.N,{label:"Portainer server URL",tooltip:"URL of the Portainer instance that the agent will use to initiate the communications.",required:!0,errors:i.error,inputId:s,children:(0,R.jsx)(B.gN,{id:s,name:r,as:Q.I,placeholder:"e.g. https://10.0.0.10:9443 or https://portainer.mydomain.com",required:!0,"data-cy":"endpointCreate-portainerServerUrlInput",readOnly:a})})}function Li(e){var t=e.readonly;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Ei,{readonly:t}),(0,R.jsx)(Mi,{fieldName:"portainerUrl",readonly:t})]})}function Ui(){return(0,ke.Ry)({groupId:(0,ke.Rx)(),tagIds:(0,ke.IX)().of((0,ke.Rx)()).default([])})}function Vi(){return(0,ke.Ry)().shape({name:Oi(),portainerUrl:(0,ke.Z_)().test("url","URL should be a valid URI and cannot include localhost",(function(e){if(!e)return!1;try{return"localhost"!==new URL(e).hostname}catch(e){return!1}})).required("URL is required"),pollFrequency:(0,ke.Rx)().required(),meta:Ui(),gpus:(0,Ci.NP)()})}function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){Ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bi={name:"",portainerUrl:function(){var e=(0,Sa.baseHref)();return window.location.origin+("/"!==e?e:"")}(),pollFrequency:0,meta:{groupId:1,tagIds:[]},gpus:[]};function zi(e){var t=e.onCreate,n=e.readonly,r=e.showGpus,a=void 0!==r&&r,i=ti(),s=vi(Ka);return(0,R.jsx)(B.J9,{initialValues:Bi,onSubmit:function(e){s.mutate(_i(_i({},e),{},{isEdgeDevice:i}),{onSuccess:function(e){t(e)}})},validateOnMount:!0,validationSchema:Vi,children:function(e){var t=e.isValid,r=e.setFieldValue,i=e.values;return(0,R.jsxs)(B.l0,{children:[(0,R.jsx)(Li,{readonly:n}),(0,R.jsxs)(Si,{children:[(0,R.jsx)(Zt,{title:"Check-in Intervals",children:(0,R.jsx)(ba.If,{readonly:n,onChange:function(e){return r("pollFrequency",e)},value:i.pollFrequency})}),a&&(0,R.jsx)(Ai,{})]}),!n&&(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(q.f,{className:"vertical-center",isLoading:s.isLoading,loadingText:"Creating environment...",disabled:!t,children:[(0,R.jsx)(D.J,{icon:"svg-plug",className:"icon icon-sm vertical-center"}),"Create"]})})})]})}})}function Hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zi(e){var t=e.onCreate,n=e.commands,r=e.isNomadTokenVisible,a=e.showGpus,i=void 0!==a&&a,s=Hi((0,K.useState)(),2),o=s[0],l=s[1],c=Hi((0,K.useReducer)((function(e){return e+1}),0),2),d=c[0],u=c[1];return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(zi,{onCreate:function(e){l({key:e.EdgeKey,id:e.EdgeID||(0,gi.v4)()}),t(e)},readonly:!!o,showGpus:i},d),o&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(wa.y,{edgeInfo:o,commands:n,isNomadTokenVisible:r}),(0,R.jsx)("hr",{}),(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"flex justify-end",children:(0,R.jsx)(j.zx,{color:"primary",type:"reset",onClick:function(){l(void 0),u()},children:"Add another environment"})})})]})]})}function qi(e,t){return ti()?e.filter((function(e){return e.value===t})):e}function Wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qi(){var e,t,n=(e=(0,B.U$)("environmentUrl"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];return(0,R.jsx)(H.N,{label:"Environment address",errors:n.error,required:!0,inputId:"environment-url-field",tooltip:"<HOST>:<PORT> or <IP>:<PORT>",children:(0,R.jsx)(B.gN,{id:"environment-url-field",name:"environmentUrl",as:Q.I,placeholder:"e.g. 10.0.0.10:9001 or tasks.portainer_agent:9001","data-cy":"endpointCreate-endpointUrlAgentInput"})})}function Yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ji(){return(0,ke.Ry)({name:Oi(),environmentUrl:(0,ke.Z_)().required("This field is required").test("address","Environment address must be of the form <IP>:<PORT> or <HOST>:<PORT>.",(function(e){return function(e){if(void 0===e)return!1;if(e.indexOf("://")>-1)return!1;var t,n,r=(t=e.split(":"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yi(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];return!(0===a.length||Number.isNaN(parseInt(i,10))||null==i.match(/^[0-9]+$/)||parseInt(i,10)<1||parseInt(i,10)>65535)}(e)})),meta:Ui(),gpus:(0,Ci.NP)()})}function Xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(74364),n(49329);var es={environmentUrl:"",name:"",meta:{groupId:1,tagIds:[]},gpus:[]};function ts(e){var t,n,r=e.onCreate,a=e.showGpus,i=void 0!==a&&a,s=(t=(0,K.useReducer)((function(e){return e+1}),0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xi(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=s[0],l=s[1],c=vi(_a);return(0,R.jsx)(B.J9,{initialValues:es,onSubmit:function(e){c.mutate(e,{onSuccess:function(e){(0,y.t5)("Environment created",e.Name),l(),r(e)}})},validationSchema:Ji,validateOnMount:!0,children:function(e){var t=e.isValid,n=e.dirty;return(0,R.jsxs)(B.l0,{children:[(0,R.jsx)(Ei,{}),(0,R.jsx)(Qi,{}),(0,R.jsx)(Si,{children:i&&(0,R.jsx)(Ai,{})}),(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(q.f,{className:"wizard-connect-button vertical-center",loadingText:"Connecting environment...",isLoading:c.isLoading,disabled:!n||!t,children:[(0,R.jsx)(D.J,{icon:"svg-plug",className:"icon icon-sm vertical-center"})," ","Connect"]})})})]})}},o)}var ns=n(61335),rs=n(60304);function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var is=[{id:"linux",label:"Linux & Windows WSL",command:function(e,t){var n=""===t?"":"\\\n  -e AGENT_SECRET=".concat(t," ");return"docker run -d \\\n  -p 9001:9001 ".concat(n,"\\\n  --name portainer_agent \\\n  --restart=always \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  -v /var/lib/docker/volumes:/var/lib/docker/volumes \\\n  portainer/agent:").concat(e,"\n")}},{id:"win",label:"Windows WCS",command:function(e,t){var n=""===t?"":"\\\n  -e AGENT_SECRET=".concat(t," ");return"docker run -d \\\n  -p 9001:9001 ".concat(n,"\\\n  --name portainer_agent \\\n  --restart=always \\\n  -v C:\\:C:\\host \\\n  -v C:\\ProgramData\\docker\\volumes:C:\\ProgramData\\docker\\volumes \\\n  -v \\\\.\\pipe\\docker_engine:\\\\.\\pipe\\docker_engine \\\n  portainer/agent:").concat(e,"\n")}}],ss=[{id:"linux",label:"Linux & Windows WSL",command:function(e,t){var n=""===t?"":"\\\n  -e AGENT_SECRET=".concat(t," ");return"docker network create \\\n--driver overlay \\\n  portainer_agent_network\n\ndocker service create \\\n  --name portainer_agent \\\n  --network portainer_agent_network \\\n  -p 9001:9001/tcp ".concat(n,"\\\n  --mode global \\\n  --constraint 'node.platform.os == linux' \\\n  --mount type=bind,src=//var/run/docker.sock,dst=/var/run/docker.sock \\\n  --mount type=bind,src=//var/lib/docker/volumes,dst=/var/lib/docker/volumes \\\n  portainer/agent:").concat(e,"\n")}},{id:"win",label:"Windows WCS",command:function(e,t){var n=""===t?"":"\\\n  -e AGENT_SECRET=".concat(t," ");return"docker network create \\\n--driver overlay \\\n  portainer_agent_network && \\\ndocker service create \\\n  --name portainer_agent \\\n  --network portainer_agent_network \\\n  -p 9001:9001/tcp ".concat(n,"\\\n  --mode global \\\n  --constraint 'node.platform.os == windows' \\\n  --mount type=npipe,src=\\\\.\\pipe\\docker_engine,dst=\\\\.\\pipe\\docker_engine \\\n  --mount type=bind,src=C:\\ProgramData\\docker\\volumes,dst=C:\\ProgramData\\docker\\volumes \\\n  portainer/agent:").concat(e,"\n")}}];function os(e){var t,n,r=e.isDockerStandalone?is:ss,a=(t=(0,K.useState)(r[0].id),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return as(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?as(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],s=a[1],o=(0,ns.a)();if(!o)return null;var l=o.agentVersion,c=o.agentSecret,d=r.map((function(e){var t=e.command(l,c);return{id:e.id,label:e.label,children:(0,R.jsx)(ls,{code:t})}}));return(0,R.jsx)(rs.o,{options:d,onSelect:function(e){return s(e)},selectedId:i})}function ls(e){var t=e.code;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"code-script",children:(0,R.jsx)(pa.E,{children:t})}),(0,R.jsx)(ma.q,{copyText:t,children:"Copy command"})]})}function cs(e){var t=e.onCreate,n=e.isDockerStandalone;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(os,{isDockerStandalone:n}),(0,R.jsx)("div",{className:"mt-5",children:(0,R.jsx)(ts,{onCreate:t})})]})}function ds(){var e=(0,B.u6)(),t=e.values,n=e.setFieldValue,r=e.errors;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(Lt.K,{label:"TLS",labelClass:"col-sm-3 col-lg-2",checked:t.tls,onChange:function(e){return n("tls",e)}})})}),t.tls&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(Lt.K,{label:"Skip Certification Verification",checked:!!t.skipVerify,onChange:function(e){return n("skipVerify",e)}})})}),!t.skipVerify&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(H.N,{label:"TLS CA certificate",inputId:"ca-cert-field",errors:r.caCertFile,children:(0,R.jsx)($e,{inputId:"ca-cert-field",onChange:function(e){return n("caCertFile",e)},value:t.caCertFile})}),(0,R.jsx)(H.N,{label:"TLS certificate",inputId:"cert-field",errors:r.certFile,children:(0,R.jsx)($e,{inputId:"cert-field",onChange:function(e){return n("certFile",e)},value:t.certFile})}),(0,R.jsx)(H.N,{label:"TLS key",inputId:"tls-key-field",errors:r.keyFile,children:(0,R.jsx)($e,{inputId:"tls-key-field",onChange:function(e){return n("keyFile",e)},value:t.keyFile})})]})]})]})}function us(){return(e=(0,ke.nK)(),5242880,e.test("fileSize","Selected file is too big.",(function(e){return!e||e.size<=5242880}))).when(["tls","skipVerify"],{is:function(e,t){return e&&!t},then:function(e){return e.required("File is required")}});var e}function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach((function(t){gs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hs(){return(0,ke.Ry)(ms(ms({name:Oi(),url:(0,ke.Z_)().required("This field is required."),tls:(0,ke.O7)().default(!1),skipVerify:(0,ke.O7)(),meta:Ui()},{caCertFile:us(),certFile:us(),keyFile:us()}),{},{gpus:(0,Ci.NP)()}))}function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ys(e){var t,n,r,a=e.onCreate,i=(n=(0,K.useReducer)((function(e){return e+1}),0),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bs(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],o=i[1],l=(t=pn.Sy.LocalDockerEnvironment,vi((function(e){return Va(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({creationType:t},e))})));return(0,R.jsx)(B.J9,{initialValues:{url:"",name:"",tls:!1,meta:{groupId:1,tagIds:[]},gpus:[]},onSubmit:function(e){var t=function(){if(e.tls)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach((function(t){vs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({skipVerify:e.skipVerify},e.skipVerify?{}:{caCertFile:e.caCertFile,certFile:e.certFile,keyFile:e.keyFile})}();l.mutate({name:e.name,url:e.url,options:{tls:t,meta:e.meta,gpus:e.gpus}},{onSuccess:function(e){(0,y.t5)("Environment created",e.Name),o(),a(e)}})},validationSchema:hs,validateOnMount:!0,children:function(e){var t=e.isValid,n=e.dirty;return(0,R.jsxs)(B.l0,{children:[(0,R.jsx)(Ei,{}),(0,R.jsx)(H.N,{inputId:"url-field",label:"Docker API URL",required:!0,tooltip:"URL or IP address of a Docker host. The Docker API must be exposed over a TCP port. Please refer to the Docker documentation to configure it.",children:(0,R.jsx)(B.gN,{as:Q.I,id:"url-field",name:"url",placeholder:"e.g. 10.0.0.10:2375 or mydocker.mydomain.com:2375"})}),(0,R.jsx)(ds,{}),(0,R.jsx)(Si,{children:(0,R.jsx)(Ai,{})}),(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(q.f,{className:"wizard-connect-button vertical-center",loadingText:"Connecting environment...",isLoading:l.isLoading,disabled:!n||!t,children:[(0,R.jsx)(D.J,{icon:"svg-plug",className:"icon icon-sm vertical-center"})," ","Connect"]})})})]})}},s)}function ws(e){var t=e.onCreate;return(0,R.jsx)("div",{className:"mt-5",children:(0,R.jsx)(ys,{onCreate:t})})}function xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ss=[{id:"linux",label:"Linux",command:'-v "/var/run/docker.sock:/var/run/docker.sock"'},{id:"win",label:"Windows",command:"-v \\.\\pipe\\docker_engine:\\.\\pipe\\docker_engine"}];function Cs(){var e,t,n=(e=(0,K.useState)(Ss[0].id),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];if(!(0,ns.a)())return null;var i=Ss.map((function(e){return{id:e.id,label:e.label,children:(0,R.jsx)(ks,{code:e.command})}}));return(0,R.jsx)(rs.o,{options:i,onSelect:function(e){return a(e)},selectedId:r})}function ks(e){var t=e.code;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("span",{className:"text-muted small",children:"When using the socket, ensure that you have started the Portainer container with the following Docker flag:"}),(0,R.jsx)(pa.E,{children:t}),(0,R.jsx)(ma.q,{copyText:t,children:"Copy command"})]})}function As(){return(0,ke.Ry)({name:Oi(),meta:Ui(),overridePath:(0,ke.O7)().default(!1),socketPath:(0,ke.Z_)().default("").when("overridePath",(function(e,t){return e?t.required("Socket Path is required when override path is enabled"):t})),gpus:(0,Ci.NP)()})}function Ps(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Is(e){var t,n,r=e.onCreate,a=(t=(0,K.useReducer)((function(e){return e+1}),0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ps(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ps(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],s=a[1],o=vi(Da);return(0,R.jsx)(B.J9,{initialValues:{name:"",socketPath:"",overridePath:!1,meta:{groupId:1,tagIds:[]},gpus:[]},onSubmit:function(e){o.mutate({name:e.name,socketPath:e.overridePath?e.socketPath:"",gpus:e.gpus,meta:e.meta},{onSuccess:function(e){(0,y.t5)("Environment created",e.Name),s(),r(e)}})},validationSchema:As,validateOnMount:!0,children:function(e){var t=e.isValid,n=e.dirty;return(0,R.jsxs)(B.l0,{children:[(0,R.jsx)(Ei,{}),(0,R.jsx)($s,{}),(0,R.jsx)(Si,{children:(0,R.jsx)(Ai,{})}),(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(q.f,{className:"wizard-connect-button vertical-center",loadingText:"Connecting environment...",isLoading:o.isLoading,disabled:!n||!t,children:[(0,R.jsx)(D.J,{icon:"svg-plug",className:"icon icon-sm vertical-center"})," ","Connect"]})})})]})}},i)}function $s(){var e=(0,B.u6)(),t=e.values,n=e.setFieldValue,r=e.errors;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(Lt.K,{checked:t.overridePath,onChange:function(e){return n("overridePath",e)},label:"Override default socket path"})})}),t.overridePath&&(0,R.jsx)(H.N,{label:"Socket Path",tooltip:"Path to the Docker socket. Remember to bind-mount the socket, see the important notice above for more information.",errors:r.socketPath,children:(0,R.jsx)(B.gN,{name:"socketPath",as:Q.I,placeholder:"e.g. /var/run/docker.sock (on Linux) or //./pipe/docker_engine (on Windows)"})})]})}function Ns(e){var t=e.onCreate;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Cs,{}),(0,R.jsx)("div",{className:"mt-5",children:(0,R.jsx)(Is,{onCreate:t})})]})}function Ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Es=[{id:"agent",icon:"svg-agent",label:"Agent",description:"",value:"agent"},{id:"api",icon:"svg-api",label:"API",description:"",value:"api"},{id:"socket",icon:"svg-socket",label:"Socket",description:"",value:"socket"},{id:"edgeAgent",icon:"svg-edgeagent",label:"Edge Agent",description:"",value:"edgeAgent",hide:window.ddExtension}];function js(e){var t,n,r=e.onCreate,a=e.isDockerStandalone,i=qi(Es,"edgeAgent"),s=(t=(0,K.useState)(i[0].value),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ts(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=s[0],l=s[1],c=function(e){switch(e){case"agent":return(0,R.jsx)(cs,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e,"dockerAgent")})),isDockerStandalone:a});case"api":return(0,R.jsx)(ws,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e,"dockerApi")}))});case"socket":return(0,R.jsx)(Ns,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e,"localEndpoint")}))});case"edgeAgent":return(0,R.jsx)(Zi,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e,"dockerEdgeAgent")})),commands:{linux:a?[xa.dP.standaloneLinux]:[xa.dP.swarmLinux],win:a?[xa.dP.standaloneWindow]:[xa.dP.swarmWindows]}});default:return null}}(o);return(0,R.jsxs)("div",{className:"form-horizontal",children:[(0,R.jsx)(mi.S,{onChange:function(e){return l(e)},options:i,value:o,radioName:"creation-type"}),c]})}var Ds=n(20464);function Os(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ms={name:"",applicationId:"",tenantId:"",authenticationKey:"",meta:{groupId:1,tagIds:[]}},Ls=[(0,Ds.e)("api","svg-api","API","","api")];function Us(e){var t=e.onCreate,n=Os((0,K.useReducer)((function(e){return e+1}),0),2),r=n[0],a=n[1],i=Os((0,K.useState)(Ls[0].id),2),s=i[0],o=i[1],l=vi(La);return(0,R.jsxs)("div",{className:"form-horizontal",children:[(0,R.jsx)(mi.S,{options:Ls,radioName:"creation-type",onChange:function(e){return o(e)},value:s}),(0,R.jsx)(B.J9,{initialValues:Ms,onSubmit:function(e){var n=e.applicationId,r=e.authenticationKey,i=e.meta,s=e.name,o=e.tenantId;l.mutate({name:s,azure:{applicationId:n,authenticationKey:r,tenantId:o},meta:i},{onSuccess:function(e){(0,y.t5)("Environment created",e.Name),a(),t(e,"aciApi")}})},validateOnMount:!0,validationSchema:Vs,children:function(e){var t=e.errors,n=e.dirty,r=e.isValid;return(0,R.jsxs)(B.l0,{children:[(0,R.jsx)(Ei,{}),(0,R.jsx)(H.N,{label:"Application ID",errors:t.applicationId,inputId:"applicationId-input",required:!0,children:(0,R.jsx)(B.gN,{name:"applicationId",id:"applicationId-input",as:Q.I,placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"})}),(0,R.jsx)(H.N,{label:"Tenant ID",errors:t.tenantId,inputId:"tenantId-input",required:!0,children:(0,R.jsx)(B.gN,{name:"tenantId",id:"tenantId-input",as:Q.I,placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"})}),(0,R.jsx)(H.N,{label:"Authentication Key",errors:t.authenticationKey,inputId:"authenticationKey-input",required:!0,children:(0,R.jsx)(B.gN,{name:"authenticationKey",id:"authenticationKey-input",as:Q.I,placeholder:"cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk="})}),(0,R.jsx)(Si,{}),(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(q.f,{className:"vertical-center",loadingText:"Connecting environment...",isLoading:l.isLoading,disabled:!n||!r,children:[(0,R.jsx)(D.J,{icon:"svg-plug",className:"icon icon-sm vertical-center"})," ","Connect"]})})})]})}},r)]})}function Vs(){return(0,ke.Ry)({name:Oi(),applicationId:(0,ke.Z_)().required("Application ID is required"),tenantId:(0,ke.Z_)().required("Tenant ID is required"),authenticationKey:(0,ke.Z_)().required("Authentication Key is required"),meta:Ui()})}var Fs=n(13853);function _s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ks=[{id:"k8sLoadBalancer",label:"Kubernetes via load balancer",command:function(e){var t=(0,Fs.getAgentShortVersion)(e);return"kubectl apply -f https://downloads.portainer.io/ce".concat(t,"/portainer-agent-k8s-lb.yaml")},showAgentSecretMessage:!0},{id:"k8sNodePort",label:"Kubernetes via node port",command:function(e){var t=(0,Fs.getAgentShortVersion)(e);return"kubectl apply -f https://downloads.portainer.io/ce".concat(t,"/portainer-agent-k8s-nodeport.yaml")},showAgentSecretMessage:!0}];function Bs(){var e,t,n=(e=(0,K.useState)(Ks[0].id),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1],i=(0,ns.a)();if(!i)return null;var s=i.agentVersion,o=i.agentSecret,l=Ks.map((function(e){var t=e.command(s);return{id:e.id,label:e.label,children:(0,R.jsx)(zs,{agentSecret:o,showAgentSecretMessage:e.showAgentSecretMessage,code:t})}}));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(G.i,{children:"Information"}),(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("span",{className:"col-sm-12 text-muted small",children:"Ensure that you have deployed the Portainer agent in your cluster first. Refer to the platform related command below to deploy it."})}),(0,R.jsx)(rs.o,{options:l,onSelect:function(e){return a(e)},selectedId:r})]})}function zs(e){var t=e.agentSecret,n=e.showAgentSecretMessage,r=e.code;return(0,R.jsxs)(R.Fragment,{children:[n&&t&&(0,R.jsxs)("p",{className:"text-muted small my-6",children:[(0,R.jsx)("i",{className:"fa fa-info-circle blue-icon space-right","aria-hidden":"true"}),"Note that the environment variable AGENT_SECRET will need to be set to",(0,R.jsx)("code",{children:t}),". Please update the manifest that will be downloaded from the following script."]}),(0,R.jsx)(pa.E,{children:r}),(0,R.jsx)(ma.q,{copyText:r,children:"Copy command"})]})}function Hs(e){var t=e.onCreate;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Bs,{}),(0,R.jsx)("div",{className:"mt-5",children:(0,R.jsx)(ts,{onCreate:t})})]})}var Gs={kubeConfig:"",name:"",meta:{groupId:1,tagIds:[]}};function Zs(){return(0,R.jsx)(B.J9,{initialValues:Gs,onSubmit:function(){},validateOnMount:!0,children:function(){return(0,R.jsxs)(B.l0,{className:"mt-5",children:[(0,R.jsx)(G.i,{children:"Environment details"}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(W.a,{color:"blue",children:(0,R.jsxs)("span",{className:"text-muted",children:[(0,R.jsx)("a",{href:"https://docs.portainer.io/start/install/agent/kubernetes/import",target:"_blank",rel:"noreferrer",className:"mx-1",children:"Import the kubeconfig file"}),"of an existing Kubernetes cluster located on-premise or on a cloud platform. This will create a corresponding environment in Portainer and install the agent on the cluster. Please ensure:"]})})}),(0,R.jsxs)("div",{className:"col-sm-12 text-muted small",children:[(0,R.jsxs)("ul",{className:"p-2 pl-4",children:[(0,R.jsx)("li",{children:"You have a load balancer enabled in your cluster"}),(0,R.jsx)("li",{children:"You specify current-context in your kubeconfig"}),(0,R.jsx)("li",{children:"The kubeconfig is self-contained - including any required credentials."})]}),(0,R.jsx)("p",{children:"Note: Officially supported cloud providers are Civo, Linode, DigitalOcean and Microsoft Azure (others are not guaranteed to work at present)"})]})]}),(0,R.jsx)(H.N,{label:"Name",required:!0,children:(0,R.jsx)(B.gN,{name:"name",as:Q.I,"data-cy":"endpointCreate-nameInput",placeholder:"e.g. docker-prod01 / kubernetes-cluster01",readOnly:!0})}),(0,R.jsx)(H.N,{label:"Kubeconfig file",required:!0,inputId:"kubeconfig_file",children:(0,R.jsx)(j.zx,{disabled:!0,children:"Select a file"})}),(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(q.f,{className:"wizard-connect-button",loadingText:"Connecting environment...",isLoading:!1,disabled:!0,children:[(0,R.jsx)("i",{className:"fa fa-plug","aria-hidden":"true"})," Connect"]})})})]})}})}function qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(n),!0).forEach((function(t){Qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Js=[{id:"agent_endpoint",icon:"svg-agent",label:"Agent",value:pn.Sy.AgentEnvironment,description:""},{id:"edgeAgent",icon:"svg-edgeagent",label:"Edge Agent",description:"",value:pn.Sy.EdgeAgentEnvironment,hide:window.ddExtension},{id:"kubeconfig_endpoint",icon:"svg-cloudimport",label:"Import",value:pn.Sy.KubeConfigEnvironment,description:"Import an existing Kubernetes config",feature:u.tE.K8S_CREATE_FROM_KUBECONFIG}];function Xs(e){var t,n,r=e.onCreate,a=qi(Js,pn.Sy.EdgeAgentEnvironment),i=(t=(0,K.useState)(a[0].value),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ys(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],o=i[1],l=function(e){var t;switch(e){case pn.Sy.AgentEnvironment:return(0,R.jsx)(Hs,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e,"kubernetesAgent")}))});case pn.Sy.EdgeAgentEnvironment:return(0,R.jsx)(Zi,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e,"kubernetesEdgeAgent")})),commands:[Ws(Ws({},xa.dP.k8sLinux),{},{label:"Linux"})]});case pn.Sy.KubeConfigEnvironment:return(0,R.jsxs)("div",{className:"px-1 py-5 border border-solid border-orange-1",children:[(0,R.jsx)(O.d,{featureId:null===(t=a.find((function(t){return t.value===e})))||void 0===t?void 0:t.feature}),(0,R.jsx)(Zs,{})]});default:throw new Error("Creation type not supported")}}(s);return(0,R.jsxs)("div",{className:"form-horizontal",children:[(0,R.jsx)(mi.S,{onChange:function(e){return o(e)},options:a,value:s,radioName:"creation-type"}),l]})}var eo={wizardListWrapper:"app-react-portainer-environments-wizard-EnvironmentsCreationView-WizardEndpointsList-WizardEndpointsList-module__wizard-list-wrapper",wizardListImage:"app-react-portainer-environments-wizard-EnvironmentsCreationView-WizardEndpointsList-WizardEndpointsList-module__wizard-list-image",wizardListTitle:"app-react-portainer-environments-wizard-EnvironmentsCreationView-WizardEndpointsList-WizardEndpointsList-module__wizard-list-title",wizardListSubtitle:"app-react-portainer-environments-wizard-EnvironmentsCreationView-WizardEndpointsList-WizardEndpointsList-module__wizard-list-subtitle",wizardListType:"app-react-portainer-environments-wizard-EnvironmentsCreationView-WizardEndpointsList-WizardEndpointsList-module__wizard-list-type"};function to(e){var t=e.environmentIds,n=(0,xn.LH)({endpointIds:t},(function(e){return!!e&&!!e.value.some(rn.f8)&&xn.FQ}),0,t.length>0),r=n.environments;return(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.PI,{icon:"svg-plug",title:"New Environments"}),(0,R.jsx)(Z.kh,{children:r.map((function(e){return(0,R.jsxs)("div",{className:eo.wizardListWrapper,children:[(0,R.jsx)("div",{className:eo.wizardListImage,children:(0,R.jsx)("i",{"aria-hidden":"true",className:(0,M.Z)("space-right",(0,oe.environmentTypeIcon)(e.Type))})}),(0,R.jsx)("div",{className:eo.wizardListTitle,children:e.Name}),(0,R.jsxs)("div",{className:eo.wizardListSubtitle,children:["URL: ",(0,oe.stripProtocol)(e.URL)]}),(0,R.jsxs)("div",{className:eo.wizardListType,children:["Type: ",(0,oe.endpointTypeName)(e.Type)]}),(0,rn.Mq)(e.Type)&&(0,R.jsx)("div",{className:eo.wizardListEdgeStatus,children:(0,R.jsx)(Fn.x,{environment:e})})]},e.Id)}))})]})}function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||so(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(e,t){if(e){if("string"==typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(e,t):void 0}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}co.$inject=["$stateRegistryProvider"];var lo=l().module("portainer.app.react.views.wizard",[]).component("wizardEnvironmentCreationView",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)((function(){var e=(0,ce.useCurrentStateAndParams)().params.localEndpointId,t=io((0,K.useState)((function(){var t=parseInt(e,10);return!t||Number.isNaN(t)?[]:[t]})),2),n=t[0],r=t[1],a=function(){var e=(0,ce.useCurrentStateAndParams)().params.envType,t=(0,ce.useRouter)();return e?Array.isArray(e)?e:[e]:((0,y.cB)("No environment type provided"),t.stateService.go("portainer.wizard.endpoints"),[])}(),i=(0,Xn.z$)().trackEvent,s=(0,ce.useRouter)(),o=lt()(a.map((function(e){return ri.find((function(t){return t.id===e}))}))),l=function(){var e=io((0,K.useState)({dockerAgent:0,dockerApi:0,kubernetesAgent:0,kubernetesEdgeAgent:0,kaasAgent:0,aciApi:0,localEndpoint:0,nomadEdgeAgent:0,dockerEdgeAgent:0}),2),t=e[0],n=e[1];return{analytics:t,setAnalytics:function(e){n((function(t){return ro(ro({},t),{},ao({},e,t[e]+1))}))}}}(),c=l.analytics,u=l.setAnalytics,p=function(e,t){var n=io((0,K.useState)(0),2),r=n[0],a=n[1],o=0===r,l=r===e.length-1,u=e[r];return{currentStep:u,onNextClick:function(){l?function(){if(i("endpoint-wizard-environment-add-finish",{category:"portainer",metadata:Object.fromEntries(Object.entries(c).map((function(e){var t=io(e,2),n=t[0],r=t[1];return[d()(n),r]})))}),"environments"===localStorage.getItem("wizardReferrer"))return localStorage.removeItem("wizardReferrer"),void s.stateService.go("portainer.endpoints");s.stateService.go("portainer.home")}():a(r+1)},onPreviousClick:function(){a(r-1)},isFirstStep:o,isLastStep:l,currentStepIndex:r,Component:function(e){switch(e){case"dockerStandalone":case"dockerSwarm":return js;case"aci":return Us;case"kubernetes":return Xs;default:throw new Error("Unknown environment type ".concat(e))}}(u.id)}}(o),m=p.currentStep,g=p.onNextClick,h=p.onPreviousClick,f=p.currentStepIndex,v=p.Component,b=p.isFirstStep,w=p.isLastStep,x="dockerStandalone"===m.id;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(st.m,{title:"Quick Setup",breadcrumbs:[{label:"Environment Wizard"}]}),(0,R.jsxs)("div",{className:"app-react-portainer-environments-wizard-EnvironmentsCreationView-EnvironmentsCreationView-module__wizard-wrapper",children:[(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.PI,{icon:"svg-magic",title:"Environment Wizard"}),(0,R.jsxs)(Z.kh,{children:[(0,R.jsx)(pi,{steps:o,currentStep:f+1}),(0,R.jsx)("div",{className:"mt-12",children:(0,R.jsxs)(Zt,{title:"Connect to your ".concat(m.title,"\n                    environment"),children:[(0,R.jsx)(v,{onCreate:function(e,t){r((function(t){return[].concat(function(e){if(Array.isArray(e))return oo(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||so(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.Id]);var n})),u(t)},isDockerStandalone:x}),(0,R.jsxs)("div",{className:(0,M.Z)("app-react-portainer-environments-wizard-EnvironmentsCreationView-EnvironmentsCreationView-module__wizard-step-action","flex justify-between"),children:[(0,R.jsxs)(j.zx,{disabled:b,onClick:h,children:[(0,R.jsx)(D.J,{icon:"arrow-left",feather:!0})," Previous"]}),(0,R.jsxs)(j.zx,{onClick:g,children:[w?"Close":"Next",(0,R.jsx)(D.J,{icon:"arrow-right",feather:!0})]})]})]})})]})]}),(0,R.jsx)("div",{children:(0,R.jsx)(to,{environmentIds:n})})]})]})})))),[])).component("wizardEnvironmentTypeSelectView",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)((function(){var e,t,n=ti(),r=(e=(0,K.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1],s=(0,Xn.z$)().trackEvent,o=(0,ce.useRouter)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(st.m,{title:"Quick Setup",breadcrumbs:[{label:"Environment Wizard"}]}),(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.PI,{icon:"svg-magic",title:"Environment Wizard"}),(0,R.jsxs)(Z.kh,{children:[(0,R.jsx)(si,{value:a,onChange:i,createEdgeDevice:n}),(0,R.jsx)(j.zx,{disabled:0===a.length,onClick:function(){return function(){if(0!==a.length){var e=lt()(a.map((function(e){return ri.find((function(t){return t.id===e}))})));s("endpoint-wizard-endpoint-select",{category:"portainer",metadata:{environment:e.map((function(e){return e.title})).join("/")}}),o.stateService.go("portainer.wizard.endpoints.create",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({envType:a},n?{edgeDevice:n}:{}))}}()},children:"Start Wizard"})]})]})})})]})})))),[])).component("wizardMainView",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)((function(){var e=qa(),t=(0,Xn.z$)().trackEvent;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(st.m,{title:"Quick Setup",breadcrumbs:[{label:"Environment Wizard"}]}),(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.PI,{title:"Environment Wizard",icon:"svg-magic"}),(0,R.jsx)(Z.kh,{children:(0,R.jsxs)("div",{className:"row",children:[(0,R.jsx)("div",{className:"col-sm-12 form-section-title",children:"Welcome to Portainer"}),(0,R.jsxs)("div",{className:"text-muted small",children:["success"===e.status&&(0,R.jsxs)("p",{children:["We have connected your local environment of"," ",ei(e.type)," to Portainer."]}),"error"===e.status&&(0,R.jsxs)("p",{children:["We could not connect your local environment to Portainer.",(0,R.jsx)("br",{}),"Please ensure your environment is correctly exposed. For help with installation visit",(0,R.jsx)("a",{href:"https://documentation.portainer.io/quickstart/",children:"https://documentation.portainer.io/quickstart"})]}),(0,R.jsx)("p",{children:"Get started below with your local portainer or connect more container environments."})]}),(0,R.jsxs)("div",{className:"flex flex-wrap gap-4",children:["success"===e.status&&(0,R.jsx)(ue.r,{to:"portainer.home",className:Xa,children:(0,R.jsx)(Pa,{icon:e.type===pn.Qj.Docker?"fab fa-docker":"fas fa-dharmachakra",title:"Get Started",description:"Proceed using the local environment which Portainer is running in",onClick:function(){t("endpoint-wizard-endpoint-select",{category:"portainer",metadata:{environment:"Get-started-local-environment"}})}})}),(0,R.jsx)(ue.r,{to:"portainer.wizard.endpoints",className:Xa,children:(0,R.jsx)(Pa,{title:"Add Environments",icon:"fa fa-plug",description:"Connect to other environments"})})]})]})})]})})})]})})))),[])).config(co).name;function co(e){e.register({name:"portainer.wizard",url:"/wizard",views:{"content@":{component:"wizardMainView"}}}),e.register({name:"portainer.wizard.endpoints",url:"/endpoints?edgeDevice",views:{"content@":{component:"wizardEnvironmentTypeSelectView"}},params:{localEndpointId:0}}),e.register({name:"portainer.wizard.endpoints.create",url:"/create?envType",views:{"content@":{component:"wizardEnvironmentCreationView"}},params:{envType:""}})}var uo=n(45565),po=n(74050),mo=n(4391),go=n(43247),ho=n(67826);function fo(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function vo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){fo(i,r,a,s,o,"next",e)}function o(e){fo(i,r,a,s,o,"throw",e)}s(void 0)}))}}function bo(e){var t,n=e.team,r=e.memberships,a=e.isAdmin,i=(t=(0,ie.useQueryClient)(),(0,ie.useMutation)((function(e){return(0,ho.fC)(e)}),(0,ct.yL)((0,ct.AQ)("Unable to delete team"),(0,ct.ar)(t,[["teams"]])))),s=(0,ce.useRouter)(),o=(0,T.Fy)({select:function(e){return e.TeamSync}}),l=r.filter((function(e){return e.Role===go.q.Leader})).length;return(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-lg-12 col-md-12 col-xs-12",children:(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.$L.Title,{title:"Team details",icon:Ze.Z}),(0,R.jsx)(Z.$L.Body,{className:"no-padding",children:(0,R.jsx)("table",{className:"table",children:(0,R.jsxs)("tbody",{children:[(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:"Name"}),(0,R.jsxs)("td",{children:[!o.data&&n.Name,a&&(0,R.jsx)(j.zx,{color:"danger",size:"xsmall",onClick:function(){return c.apply(this,arguments)},icon:mo.Z,children:"Delete this team"})]})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:"Leaders"}),(0,R.jsx)("td",{children:!o.data&&l})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:"Total users in team"}),(0,R.jsx)("td",{children:r.length})]})]})})})]})})});function c(){return(c=vo(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.Id)("Do you want to delete this team? Users in this team will not be deleted.");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:i.mutate(n.Id,{onSuccess:function(){s.stateService.go("portainer.teams")}});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}n(43119);var yo=n(10799),wo=n(15865),xo=n(20680),So=n(9924),Co=(0,So.w)(),ko=Co.RowProvider,Ao=Co.useRowContext,Po={Header:"Name",accessor:function(e){return e.Username},id:"name",Cell:function(e){var t=e.value,n=e.row.original,r=Ao(),a=r.disabled,i=r.teamId,s=(0,po.xH)(i);return(0,R.jsxs)(R.Fragment,{children:[t,(0,R.jsx)(j.zx,{color:"link",className:"space-left nopadding",disabled:a,icon:xo.Z,onClick:function(){s.mutate([n.Id],{onSuccess:function(){(0,y.t5)("User added to team",t)}})},children:"Add"})]})},disableFilters:!0,Filter:function(){return null},canHide:!1,sortType:"string"};function Io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var No=[Po];function To(e){var t=e.users,n=e.disabled,r=e.teamId,a=Io((0,K.useState)(""),2),i=a[0],s=a[1],o=Io((0,K.useState)(10),2),l=o[0],c=o[1],d=(0,po.xH)(r),u=(0,Cn.aF)().isAdmin,p=(0,J.useTable)({defaultCanFilter:!1,columns:No,data:t,initialState:{pageSize:l,sortBy:[{id:"name",desc:!1}],globalFilter:i}},J.useGlobalFilter,J.useSortBy,J.usePagination),m=p.getTableProps,g=p.getTableBodyProps,h=p.headerGroups,f=p.page,v=p.prepareRow,b=p.gotoPage,w=p.setPageSize,x=p.setGlobalFilter,S=p.state.pageIndex,C=p.setSortBy,k=p.rows,A=m(),P=g(),I=(0,K.useMemo)((function(){return{disabled:n,teamId:r}}),[n,r]);return(0,R.jsxs)(Z.$L,{children:[(0,R.jsxs)(Z.$L.Title,{icon:Ze.Z,title:"Users",children:["Items per page:",(0,R.jsxs)("select",{value:l,onChange:function(e){var t=parseInt(e.target.value,10);c(t),w(t)},className:"space-left",children:[(0,R.jsx)("option",{value:Number.MAX_SAFE_INTEGER,children:"All"}),(0,R.jsx)("option",{value:10,children:"10"}),(0,R.jsx)("option",{value:25,children:"25"}),(0,R.jsx)("option",{value:50,children:"50"}),(0,R.jsx)("option",{value:100,children:"100"})]})]}),(0,R.jsxs)(Z.$L.Taskbar,{className:"col-sm-12 nopadding",children:[(0,R.jsx)("div",{className:"col-sm-12 col-md-6 nopadding",children:u&&(0,R.jsx)(j.zx,{onClick:function(){return e=k.map((function(e){return e.original.Id})),void d.mutate(e,{onSuccess:function(){(0,y.t5)("Success","All users successfully added")}});var e},disabled:n||0===k.length,icon:yo.Z,children:"Add all users"})}),(0,R.jsx)("div",{className:"col-sm-12 col-md-6 nopadding",children:(0,R.jsx)(Q.I,{type:"text",id:"filter-users",value:i,onChange:function(e){var t=e.target.value;s(t),x(t)},placeholder:"Filter...",className:"input-sm"})})]}),(0,R.jsxs)(Z.$L.Body,{className:"nopadding",children:[(0,R.jsxs)(ae.iA,{className:A.className,role:A.role,style:A.style,children:[(0,R.jsx)("thead",{children:h.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,r=t.className,a=t.role,i=t.style;return(0,R.jsx)(ae.iA.HeaderRow,{className:r,role:a,style:i,headers:e.headers,onSortChange:$},n)}))}),(0,R.jsx)("tbody",{className:P.className,role:P.role,style:P.style,children:(0,R.jsx)(ae.iA.Content,{emptyContent:"No users.",prepareRow:v,rows:f,renderRow:function(e,t){var n=t.key,r=t.className,a=t.role,i=t.style;return(0,R.jsx)(ko,{context:I,children:(0,R.jsx)(ae.iA.Row,{cells:e.cells,className:r,role:a,style:i},n)},n)}})})]}),(0,R.jsx)(ne.y,{children:0!==l&&(0,R.jsx)("div",{className:"pagination-controls",children:(0,R.jsx)(wo.W,{maxSize:5,onPageChange:function(e){return b(e-1)},currentPage:S+1,itemsPerPage:l,totalCount:k.length})})})]})]});function $(e,t){C([{id:e,desc:t}])}}var Eo=n(17066),jo=n(22680),Do=(0,So.w)(),Oo=Do.RowProvider,Ro=Do.useRowContext,Mo={Header:"Name",accessor:function(e){return e.Username},id:"name",Cell:function(e){var t=e.value,n=e.row.original,r=Ro(),a=r.disabled,i=r.teamId,s=(0,po.pK)(i),o=(0,po.er)(i,s.data);return(0,R.jsxs)(R.Fragment,{children:[t,(0,R.jsx)(j.zx,{color:"link",className:"space-left nopadding",onClick:function(){return e=n.Id,void o.mutate([e],{onSuccess:function(){(0,y.t5)("User removed from team",t)}});var e},disabled:a,icon:jo.Z,children:"Remove"})]})},disableFilters:!0,Filter:function(){return null},canHide:!1,sortType:"string"},Lo={Header:"Team Role",accessor:"Id",id:"role",Cell:function(e){var t=e.row.original,n=Ro(),r=n.getRole,a=n.disabled,i=n.teamId,s=(0,po.pK)(i),o=(0,po.gK)(i,s.data),l=r(t.Id),c=(0,Cn.aF)().isAdmin,d=l===go.q.Leader?Uo:Vo;return(0,R.jsx)(d,{isAdmin:c,onClick:function(e,n){o.mutate({userId:t.Id,role:e},{onSuccess:function(){(0,y.t5)(n,t.Username)}})},disabled:a})},disableFilters:!0,Filter:function(){return null},canHide:!1,sortType:"string"};function Uo(e){var t=e.isAdmin,n=e.onClick,r=e.disabled;return(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)(D.J,{className:"space-right feather",icon:yo.Z,mode:"secondary-alt"}),t&&(0,R.jsx)(j.zx,{color:"link",className:"nopadding",onClick:function(){return n(go.q.Member,"User is now team member")},disabled:r,icon:Eo.Z,children:"Member"})]})}function Vo(e){var t=e.onClick,n=e.disabled;return(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)(D.J,{className:"space-right feather",icon:Ge.Z,mode:"secondary-alt"}),(0,R.jsx)(j.zx,{color:"link",className:"nopadding",onClick:function(){return t(go.q.Leader,"User is now team leader")},disabled:n,icon:yo.Z,children:"Leader"})]})}function Fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ko=[Mo,Lo];function Bo(e){var t=e.users,n=e.roles,r=e.disabled,a=e.teamId,i=(0,po.pK)(a),s=(0,po.er)(a,i.data),o=Fo((0,K.useState)(""),2),l=o[0],c=o[1],d=Fo((0,K.useState)(10),2),u=d[0],p=d[1],m=(0,Cn.aF)().isAdmin,g=(0,J.useTable)({defaultCanFilter:!1,columns:Ko,data:t,initialState:{pageSize:u,sortBy:[{id:"name",desc:!1}],globalFilter:l}},J.useGlobalFilter,J.useSortBy,J.usePagination),h=g.getTableProps,f=g.getTableBodyProps,v=g.headerGroups,b=g.page,w=g.prepareRow,x=g.gotoPage,S=g.setPageSize,C=g.setGlobalFilter,k=g.state.pageIndex,A=g.setSortBy,P=g.rows,I=h(),$=f(),N=(0,K.useMemo)((function(){return{getRole:function(e){return n[e]},disabled:r,teamId:a}}),[n,r,a]);return(0,R.jsxs)(Z.$L,{children:[(0,R.jsxs)(Z.$L.Title,{icon:Ze.Z,title:"Team members",children:["Items per page:",(0,R.jsxs)("select",{value:u,onChange:function(e){var t=parseInt(e.target.value,10);p(t),S(t)},className:"space-left",children:[(0,R.jsx)("option",{value:Number.MAX_SAFE_INTEGER,children:"All"}),(0,R.jsx)("option",{value:10,children:"10"}),(0,R.jsx)("option",{value:25,children:"25"}),(0,R.jsx)("option",{value:50,children:"50"}),(0,R.jsx)("option",{value:100,children:"100"})]})]}),(0,R.jsxs)(Z.$L.Taskbar,{className:"col-sm-12 nopadding",children:[(0,R.jsx)("div",{className:"col-sm-12 col-md-6 nopadding",children:m&&(0,R.jsx)(j.zx,{onClick:function(){return e=P.map((function(e){return e.original.Id})),void s.mutate(e,{onSuccess:function(){(0,y.t5)("Success","All users successfully removed")}});var e},disabled:r||0===t.length,icon:Eo.Z,children:"Remove all users"})}),(0,R.jsx)("div",{className:"col-sm-12 col-md-6 nopadding",children:(0,R.jsx)(Q.I,{type:"text",id:"filter-users",value:l,onChange:function(e){var t=e.target.value;c(t),C(t)},placeholder:"Filter...",className:"input-sm"})})]}),(0,R.jsxs)(Z.$L.Body,{className:"nopadding",children:[(0,R.jsxs)(ae.iA,{className:I.className,role:I.role,style:I.style,children:[(0,R.jsx)("thead",{children:v.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,r=t.className,a=t.role,i=t.style;return(0,R.jsx)(ae.iA.HeaderRow,{className:r,role:a,style:i,headers:e.headers,onSortChange:T},n)}))}),(0,R.jsx)("tbody",{className:$.className,role:$.role,style:$.style,children:(0,R.jsx)(ae.iA.Content,{emptyContent:"No users.",prepareRow:w,rows:b,renderRow:function(e,t){var n=t.key,r=t.className,a=t.role,i=t.style;return(0,R.jsx)(Oo,{context:N,children:(0,R.jsx)(ae.iA.Row,{cells:e.cells,className:r,role:a,style:i},n)},n)}})})]}),(0,R.jsx)(ae.iA.Footer,{children:0!==u&&(0,R.jsx)("div",{className:"pagination-controls",children:(0,R.jsx)(wo.W,{maxSize:5,onPageChange:function(e){return x(e-1)},currentPage:k+1,itemsPerPage:u,totalCount:P.length})})})]})]});function T(e,t){A([{id:e,desc:t}])}}function zo(e){var t=e.users,n=e.memberships,r=e.disabled,a=e.teamId,i=lt()(n.map((function(e){return t.find((function(t){return t.Id===e.UserID}))}))),s=t.filter((function(e){return!n.some((function(t){return t.UserID===e.Id}))})),o=Object.fromEntries(n.map((function(e){return[e.UserID,e.Role]})));return(0,R.jsxs)("div",{className:"row",children:[(0,R.jsx)("div",{className:"col-sm-6",children:(0,R.jsx)(To,{users:s,disabled:r,teamId:a})}),(0,R.jsx)("div",{className:"col-sm-6",children:(0,R.jsx)(Bo,{teamId:a,disabled:r,users:i,roles:o})})]})}var Ho=n(61645);function Go(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Zo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Go(i,r,a,s,o,"next",e)}function o(e){Go(i,r,a,s,o,"throw",e)}s(void 0)}))}}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wo(e){var t,n,r,a=e.users,i=e.teams,s=(t=(0,ie.useQueryClient)(),(0,ie.useMutation)((function(e){return(0,ho.Cm)(e.name,e.leaders)}),{meta:{error:{title:"Failure",message:"Failed to create team"}},onSuccess:function(){return t.invalidateQueries(["teams"])}})),o=(n=(0,K.useReducer)((function(e){return e+1}),0),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qo(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],c=o[1];return(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-lg-12 col-md-12 col-xs-12",children:(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.$L.Title,{icon:"plus",title:"Add a new team",featherIcon:!0,className:"vertical-center"}),(0,R.jsx)(Z.$L.Body,{children:(0,R.jsx)(B.J9,{initialValues:{name:"",leaders:[]},validationSchema:function(){return function(e){return(0,ke.Ry)().shape({name:(0,ke.Z_)().required("This field is required.").test("is-unique","This team already exists.",(function(t){return!!t&&e.every((function(e){return e.Name!==t}))})),leaders:(0,ke.IX)().of((0,ke.Rx)())})}(i)},onSubmit:function(e){return d.apply(this,arguments)},validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,r=e.handleSubmit,i=e.setFieldValue,o=e.isSubmitting,l=e.isValid;return(0,R.jsxs)(B.l0,{className:"form-horizontal",onSubmit:r,noValidate:!0,children:[(0,R.jsx)(H.N,{inputId:"team_name",label:"Name",errors:n.name,required:!0,children:(0,R.jsx)(B.gN,{as:Q.I,name:"name",id:"team_name",required:!0,placeholder:"e.g. development","data-cy":"team-teamNameInput"})}),a.length>0&&(0,R.jsx)(H.N,{inputId:"users-input",label:"Select team leader(s)",tooltip:"You can assign one or more leaders to this team. Team leaders can manage their teams users and resources.",errors:n.leaders,children:(0,R.jsx)(Ho.f,{value:t.leaders,onChange:function(e){return i("leaders",e)},users:a,dataCy:"team-teamLeaderSelect",inputId:"users-input",placeholder:"Select one or more team leaders"})}),(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(q.f,{disabled:!l,"data-cy":"team-createTeamButton",isLoading:o||s.isLoading,loadingText:"Creating team...",children:[(0,R.jsx)(D.J,{icon:"plus",feather:!0,size:"md"}),"Create team"]})})})]})}},l)})]})})});function d(){return(d=Zo(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.mutate(t,{onSuccess:function(){c(),(0,y.t5)("Team successfully added","")}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var Qo=n(19990),Yo=n(85813);function Jo(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Xo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Jo(i,r,a,s,o,"next",e)}function o(e){Jo(i,r,a,s,o,"throw",e)}s(void 0)}))}}function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){nl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var al="teams",il=[("Name","Id","portainer.teams.team",{Header:"Name",accessor:function(e){return e.Name},id:"name",Cell:function(e){var t=e.value,n=e.row;return(0,R.jsx)(ue.r,{to:"portainer.teams.team",params:{id:n.original.Id},title:t,children:t})},disableFilters:!0,Filter:function(){return null},canHide:!1,sortType:"string"})];function sl(e){var t,n,r=e.teams,a=e.isAdmin,i=function(){var e=(0,ie.useQueryClient)(),t=(0,ie.useMutation)(function(){var e=Xo(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Qo.y)(t.map((function(e){return function(){return(0,ho.fC)(e)}}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{meta:{error:{title:"Failure",message:"Unable to remove team"}},onSuccess:function(){return e.invalidateQueries(["teams"])}});return{handleRemove:function(e){return n.apply(this,arguments)}};function n(){return n=Xo(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.Id)("Are you sure you want to remove the selected teams?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:t.mutate(n,{onSuccess:function(){(0,y.t5)("Teams successfully removed","")}});case 6:case"end":return e.stop()}}),e)}))),n.apply(this,arguments)}}(),s=i.handleRemove,o=(t=(0,Nt.I)(al),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return rl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rl(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],c=o[1],d=(0,Y.h)(),u=d.settings,p=d.setTableSettings,m=(0,J.useTable)({defaultCanFilter:!1,columns:il,data:r,initialState:{pageSize:u.pageSize||10,sortBy:[u.sortBy],globalFilter:l},selectCheckboxComponent:lr.X},J.useGlobalFilter,J.useSortBy,J.usePagination,J.useRowSelect,a?X.M_:cl),g=m.getTableProps,h=m.getTableBodyProps,f=m.headerGroups,v=m.page,b=m.prepareRow,w=m.selectedFlatRows,x=m.gotoPage,S=m.setPageSize,C=m.setGlobalFilter,A=m.state,P=A.pageIndex,I=A.pageSize,$=g(),N=h();return(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(ae.iA.Container,{children:[(0,R.jsxs)(ae.iA.Title,{icon:Ze.Z,label:"Teams",children:[(0,R.jsx)(Nt.E,{value:l,onChange:function(e){c(e),C(e)}}),a&&(0,R.jsx)(ae.iA.Actions,{children:(0,R.jsx)(j.zx,{color:"dangerlight",onClick:function(){var e=w.map((function(e){return e.original.Id}));s(e)},disabled:0===w.length,icon:mo.Z,children:"Remove"})})]}),(0,R.jsxs)(ae.iA,{className:$.className,role:$.role,style:$.style,children:[(0,R.jsx)("thead",{children:f.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,r=t.className,a=t.role,i=t.style;return(0,R.jsx)(ae.iA.HeaderRow,{className:r,role:a,style:i,headers:e.headers,onSortChange:T},n)}))}),(0,R.jsx)("tbody",{className:N.className,role:N.role,style:N.style,children:(0,R.jsx)(Yo.g,{prepareRow:b,renderRow:function(e,t){var n=t.key,r=t.className,a=t.role,i=t.style;return(0,R.jsx)(ae.iA.Row,{cells:e.cells,className:r,role:a,style:i},n)},rows:v,emptyContent:"No teams found"})})]}),(0,R.jsxs)(ne.y,{children:[(0,R.jsx)(te.V,{value:w.length}),(0,R.jsx)(ee.j,{showAll:!0,pageLimit:I,page:P+1,onPageChange:function(e){return x(e-1)},totalCount:r.length,onPageLimitChange:function(e){S(e),p({pageSize:e})}})]})]})})});function T(e,t){p({sortBy:{id:e,desc:t}})}}var ol={pageSize:10,sortBy:{id:"name",desc:!1}};function ll(e){return(0,R.jsx)(Y.U,{defaults:ol,storageKey:al,children:(0,R.jsx)(sl,tl({},e))})}function cl(){}cl.pluginName="emptyPlugin",ul.$inject=["$stateRegistryProvider"];var dl=l().module("portainer.app.teams",[]).config(ul).component("teamView",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)((function(){var e=function(){var e=(0,ce.useCurrentStateAndParams)().params.id,t=parseInt(e,10);if(!e||Number.isNaN(t))throw new Error("Team ID is missing");return t}(),t=(0,Cn.aF)().isAdmin,n=(0,ce.useRouter)(),r=(0,po.t7)(e,(function(){return n.stateService.go("portainer.teams")})),a=(0,uo.UV)(),i=(0,po.pK)(e),s=(0,T.Fy)({select:function(e){return e.TeamSync}});if(!r.data)return null;var o=r.data;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(st.m,{title:"Team details",breadcrumbs:[{label:"Teams"},{label:o.Name}]}),i.data&&(0,R.jsx)(bo,{team:o,memberships:i.data,isAdmin:t}),s.data&&(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(W.a,{color:"orange",children:"The team leader feature is disabled as external authentication is currently enabled with team sync."})})}),a.data&&i.data&&(0,R.jsx)(zo,{teamId:e,memberships:i.data,users:a.data,disabled:s.data})]})})))),[])).component("teamsView",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)((function(){var e=(0,Cn.aF)().isAdmin,t=(0,uo.UV)(!1),n=(0,po.y2)(!e,0,{enabled:!!t.data});return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(st.m,{title:"Teams",breadcrumbs:[{label:"Teams management"}]}),t.data&&n.data&&(0,R.jsx)(Wo,{users:t.data,teams:n.data}),n.data&&(0,R.jsx)(ll,{teams:n.data,isAdmin:e})]})})))),[])).name;function ul(e){e.register({name:"portainer.teams",url:"/teams",views:{"content@":{component:"teamsView"}}}),e.register({name:"portainer.teams.team",url:"/:id",views:{"content@":{component:"teamView"}}})}var pl,ml=n(36456);function gl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onSuccess;return(0,T.Fy)({select:function(t){return t.Features[e]},onSuccess:n})}function hl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"portainer.home",n=(0,ce.useRouter)();gl(e,{onSuccess:function(e){e||n.stateService.go(t)}})}function fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.EdgeRemoteUpdate="edgeRemoteUpdate"}(pl||(pl={}));var vl={list:function(){return["edge","update_schedules"]},item:function(e){return[].concat(function(e){if(Array.isArray(e))return fl(e)}(t=vl.list())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fl(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var t},activeSchedules:function(e){return[vl.list(),"active",{environmentIds:e}]},supportedAgentVersions:function(){return[vl.list(),"agent_versions"]},previousVersions:function(){return[vl.list(),"previous_versions"]}};function bl(e,t){var n="/edge_update_schedules";return e&&(n+="/".concat(e)),t&&(n+="/".concat(t)),n}function yl(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function wl(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){yl(i,r,a,s,o,"next",e)}function o(e){yl(i,r,a,s,o,"throw",e)}s(void 0)}))}}function xl(){return Sl.apply(this,arguments)}function Sl(){return(Sl=wl(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.get(bl());case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Failed to get list of edge update schedules");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Cl(){return(0,ie.useQuery)(vl.list(),xl)}function kl(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Al(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){kl(i,r,a,s,o,"next",e)}function o(e){kl(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Pl(){return(Pl=Al(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.delete(bl(t));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Failed to delete edge update schedule");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Il={Header:"Created",accessor:function(e){return(0,oe.isoDateFromTimestamp)(e.created)},disableFilters:!0,Filter:function(){return null},canHide:!1};function $l(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Nl(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){$l(i,r,a,s,o,"next",e)}function o(e){$l(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Tl(){return El.apply(this,arguments)}function El(){return(El=Nl(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.get("/edge_groups");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Failed fetching edge groups");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function jl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.select;return(0,ie.useQuery)(["edge","groups"],Tl,{select:t})}var Dl,Ol,Rl={Header:"Groups",accessor:"groupIds",Cell:function(e){var t=e.value,n=jl();return lt()(t.map((function(e){var t;return null===(t=n.data)||void 0===t?void 0:t.find((function(t){return t.Id===e}))}))).map((function(e){return e.Name})).join(", ")},disableFilters:!0,Filter:function(){return null},canHide:!1,disableSortBy:!0},Ml={Header:"Name",accessor:"name",id:"name",Cell:function(e){var t=e.value,n=e.row;return(0,R.jsx)(ue.r,{to:".item",params:{id:n.original.id},children:t})},disableFilters:!0,Filter:function(){return null},canHide:!1,sortType:"string"};function Ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(n),!0).forEach((function(t){Vl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e[e.Update=1]="Update",e[e.Rollback=2]="Rollback"}(Dl||(Dl={})),function(e){e[e.Pending=0]="Pending",e[e.Failed=1]="Failed",e[e.Success=2]="Success"}(Ol||(Ol={}));var _l=[Ml,{Header:"Scheduled Time & Date",accessor:function(e){return(0,oe.isoDateFromTimestamp)(e.time)},disableFilters:!0,Filter:function(){return null},canHide:!1},Rl,{Header:"Type",accessor:function(e){return Dl[e.type]},disableFilters:!0,Filter:function(){return null},canHide:!1,sortType:"string"},{Header:"Status",accessor:function(e){return e.status},disableFilters:!0,Filter:function(){return null},canHide:!1,Cell:function(e){var t=e.value;if(e.row.original.time>Date.now()/1e3)return"Scheduled";var n=Object.entries(t).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fl(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0];return Ul(Ul({},r[1]),{},{environmentId:a})}));if(0===n.length)return"No related environments";var r=n.find((function(e){return e.status===Ol.Failed}));return r?"Failed: (ID: ".concat(r.environmentId,") ").concat(r.error):n.find((function(e){return e.status===Ol.Pending}))?"Pending":"Success"},disableSortBy:!0},Il],Kl=n(16579);function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){Hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gl(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Zl(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Gl(i,r,a,s,o,"next",e)}function o(e){Gl(i,r,a,s,o,"throw",e)}s(void 0)}))}}var ql="update-schedules-list",Wl=(0,Kr.ZP)()((0,Br.tJ)((function(e){return zl(zl(zl(zl({},(0,Kl.MX)(e)),(0,Kl.en)(e)),(0,Kl.ZJ)(e)),(0,Kl.AL)(e))}),{name:(0,cn.gW)("update-schedules-list")}));function Ql(e){var t,n=e.selectedRows,r=(t=(0,ie.useQueryClient)(),(0,ie.useMutation)((function(e){return(0,Qo.y)(e.map((function(e){return function(){return function(e){return Pl.apply(this,arguments)}(e.id)}})))}),(0,ct.yL)((0,ct.ar)(t,[vl.list()]),(0,ct.AQ)())));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(j.zx,{icon:mo.Z,color:"dangerlight",onClick:function(){return function(){return a.apply(this,arguments)}()},disabled:0===n.length,children:"Remove"}),(0,R.jsx)(ue.r,{to:".create",children:(0,R.jsx)(j.zx,{children:"Add update & rollback schedule"})})]});function a(){return(a=Zl(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.Id)("Are you sure you want to remove these?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:r.mutate(n,{onSuccess:function(){(0,y.t5)("Success","Schedules successfully removed")}});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var Yl=n(47116);function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach((function(t){ec(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tc(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function nc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){tc(i,r,a,s,o,"next",e)}function o(e){tc(i,r,a,s,o,"throw",e)}s(void 0)}))}}function rc(e){return ac.apply(this,arguments)}function ac(){return(ac=nc(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.post(bl(),t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Failed to create edge update schedule");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sc(){var e,t,n=(e=(0,B.U$)("name"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ic(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ic(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0].name,a=n[1].error;return(0,R.jsx)(H.N,{label:"Name",required:!0,inputId:"name-input",errors:a,children:(0,R.jsx)(B.gN,{as:Q.I,name:r,id:"name-input"})})}function oc(e,t){return(0,ke.Z_)().required("This field is required").test("unique","Name must be unique",(function(n){return e.every((function(e){return e.id===t||e.name!==n}))}))}function lc(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function cc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){lc(i,r,a,s,o,"next",e)}function o(e){lc(i,r,a,s,o,"throw",e)}s(void 0)}))}}function dc(){return(dc=cc(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.post(bl(void 0,"active"),{environmentIds:t});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Failed to get list of edge update schedules");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var uc=n(90808),pc=n(83574);function mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gc(e){var t,n,r=e.disabled,a=(t=(0,B.U$)("time"),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return mc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mc(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],s=i.name,o=i.value,l=a[1].error,c=a[2].setValue,d=(0,K.useMemo)((function(){return new Date(1e3*o)}),[o]);return(0,R.jsx)(H.N,{label:"Schedule date & time",errors:l,children:r?(0,R.jsx)(Q.I,{defaultValue:(0,oe.isoDateFromTimestamp)(o),disabled:!0}):(0,R.jsx)(uc.Z,{format:"y-MM-dd HH:mm:ss",minDate:new Date,className:"form-control [&>div]:border-0",onChange:function(e){return c(Math.floor(e.getTime()/1e3))},name:s,value:d,calendarIcon:(0,R.jsx)(pc.Z,{className:"feather"}),clearIcon:(0,R.jsx)(er.Z,{className:"feather"}),disableClock:!0})})}var hc=n(86103),fc=n.n(hc),vc=n(74381),bc=n.n(vc),yc=n(11600),wc=n.n(yc);function xc(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Sc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){xc(i,r,a,s,o,"next",e)}function o(e){xc(i,r,a,s,o,"throw",e)}s(void 0)}))}}function Cc(){return kc.apply(this,arguments)}function kc(){return(kc=Sc(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.get(bl(void 0,"agent_versions"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Failed to get list of edge update schedules");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Ac=n(31052),Pc=n.n(Ac);function Ic(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!e||!t.includes(".")||(n?Pc()(e,t)>0:Pc()(e,t)<0)}function $c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$c(Object(n),!0).forEach((function(t){Tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dc(e){var t,n=e.environmentIds,r=e.versions,a=e.currentVersion,i=void 0===a?"unknown":a,s=e.disabled,o=Ec((0,B.U$)("environments"),3),l=o[0].value,c=o[2].setValue,d=n.every((function(e){return!!l[e]})),u=r.filter((function(e){var t=e.value;return Ic(i,t)})),p=null===(t=wc()(u))||void 0===t?void 0:t.value,m=Ec((0,K.useState)(l[n[0]]||p||""),2),g=m[0],h=m[1];return(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)(lr.X,{className:"flex items-center",id:"version_checkbox_".concat(i),checked:d,onChange:function(){return f(!d)},disabled:s}),(0,R.jsxs)("span",{className:"font-normal flex items-center whitespace-nowrap gap-1",children:[n.length," edge agents update from v",i," to",(0,R.jsx)(Q.P,{disabled:s,value:g,options:u,onChange:function(e){var t=e.target.value;h(t),d&&f(d,t)}})]})]});function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,r=e?Nc(Nc({},l),Object.fromEntries(n.map((function(e){return[e,t]})))):Object.fromEntries(Object.entries(l).filter((function(e){var t=Ec(e,1)[0];return!n.includes(parseInt(t,10))})));c(r)}}function Oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rc(e){var t,n=e.environments,r=e.activeSchedules,a=e.disabled,i=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).select;return(0,ie.useQuery)(vl.supportedAgentVersions(),Cc,{select:e})}({select:function(e){return e.map((function(e){return{label:e,value:e}}))}});if(!i.data)return null;var s=i.data,o=null===(t=wc()(s))||void 0===t?void 0:t.value,l=n.filter((function(e){return r.every((function(t){return t.environmentId!==e.Id}))&&Ic(e.Agent.Version,o)})),c=Object.entries(bc()(fc()(l,(function(e){return e.Agent.Version})),(function(e){return e.map((function(e){return e.Id}))})));return 0===l.length?(0,R.jsx)(W.a,{children:"The are no update options available for yor selected groups(s)"}):(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:c.map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oc(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];return(0,R.jsx)(Dc,{currentVersion:i,environmentIds:o,versions:s,disabled:a},i)}))})})}function Mc(e){var t=e.selectedEdgeGroupIds,n=e.activeSchedules,r=e.environments,a=jl();if(!a.data)return null;var i=Object.fromEntries(n.map((function(e){var t;return[e.environmentId,{currentVersion:(null===(t=r.find((function(t){return t.Id===e.environmentId})))||void 0===t?void 0:t.Agent.Version)||"",targetVersion:e.targetVersion,type:e.type}]}))),s=a.data.filter((function(e){return t.includes(e.Id)})).map((function(e){return{edgeGroupId:e.Id,edgeGroupName:e.Name,schedules:Object.values(fc()(lt()(e.Endpoints.map((function(e){return i[e]}))),(function(e){return"".concat(e.currentVersion,"_").concat(e.targetVersion,"_").concat(e.type)}))).map((function(e){return{currentVersion:e[0].currentVersion,targetVersion:e[0].targetVersion,scheduleCount:e.length,type:e[0].type}}))}})).filter((function(e){return e.schedules.length>0}));return 0===s.length?null:(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12 space-y-1",children:s.map((function(e){var t=e.edgeGroupId,n=e.edgeGroupName;return e.schedules.map((function(e){var r=e.currentVersion,a=e.scheduleCount,i=e.targetVersion,s=e.type;return(0,R.jsx)(Lc,{currentVersion:r||"unknown version",name:n,scheduleCount:a,version:i,scheduleType:s},"".concat(t,"-").concat(r,"-").concat(i))}))}))})})}function Lc(e){var t=e.name,n=e.scheduleCount,r=e.version,a=e.currentVersion,i=e.scheduleType;return(0,R.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,R.jsx)(ml.Z,{className:"feather"}),n," edge devices in ",t," are scheduled for"," ",i===Dl.Rollback?"rollback":"update"," from"," ",a," to ",r]})}n(93742);var Uc=n(46006),Vc=n.n(Uc);function Fc(e){var t=jl({select:function(e){return Object.fromEntries(e.map((function(e){return[e.Id,e.Endpoints]})))}});return(0,K.useMemo)((function(){return Vc()(lt()(e.flatMap((function(e){return t.data?t.data[e]:[]}))))}),[e,t.data])}function _c(){var e,t,n,r,a,i,s=(0,B.u6)().values,o=Fc(s.groupIds),l=(e=o,(0,xn.LH)({endpointIds:e,types:pn.rP},void 0,void 0,e.length>0).environments),c=(t=o,r=(0,ce.useCurrentStateAndParams)().params,a=r.id?parseInt(r.id,10):0,i=function(e){return(0,ie.useQuery)(vl.activeSchedules(e),(function(){return function(e){return dc.apply(this,arguments)}(e)}),{enabled:e.length>0})}(t),(null===(n=i.data)||void 0===n?void 0:n.filter((function(e){return e.scheduleId!==a})))||[]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Mc,{selectedEdgeGroupIds:s.groupIds,activeSchedules:c,environments:l}),(0,R.jsx)(Rc,{activeSchedules:c,environments:l}),(0,R.jsx)(gc,{})]})}function Kc(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function Bc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){Kc(i,r,a,s,o,"next",e)}function o(e){Kc(i,r,a,s,o,"throw",e)}s(void 0)}))}}function zc(){return Hc.apply(this,arguments)}function Hc(){return(Hc=Bc(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.get(bl(void 0,"previous_versions"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Failed to get list of edge update schedules");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zc(){var e,t,n,r,a,i,s=function(){var e=(0,B.u6)().values.environments;return Object.keys(e).length}(),o=(e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).select;return(0,ie.useQuery)(vl.previousVersions(),zc,{select:e})}(),n=(t=(0,B.u6)()).values.groupIds,r=t.setFieldValue,a=Fc(n),i=(0,K.useMemo)((function(){return e.data?Object.fromEntries(a.map((function(t){return[t,e.data[t]||""]})).filter((function(e){return!!(t=e,n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gc(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];var t,n}))):[]}),[a,e.data]),(0,K.useEffect)((function(){r("environments",i)}),[i,r]),{isLoading:e.isLoading}),l=o.isLoading,c=function(){var e=(0,B.u6)().values.groupIds,t=jl({select:function(e){return Object.fromEntries(e.map((function(e){return[e.Id,e.Name]})))}});return t.data?e.map((function(e){return t.data[e]})).join(", "):null}();return l||!c?null:(0,R.jsxs)("div",{className:"mt-3",children:[s>0?(0,R.jsx)("div",{className:"form-group",children:(0,R.jsxs)("div",{className:"col-sm-12",children:[s," edge device(s) from ",c," will rollback to their previous versions"]})}):(0,R.jsx)(W.a,{children:"The are no rollback options available for yor selected groups(s)"}),(0,R.jsx)(gc,{})]})}function qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wc(){var e,t,n=(e=(0,B.U$)("type"),t=3,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0].value,a=n[2].setValue;return(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(rs.o,{options:[{id:Dl.Update,label:"Update",children:(0,R.jsx)(_c,{})},{id:Dl.Rollback,label:"Rollback",children:(0,R.jsx)(Zc,{})}],selectedId:r,onSelect:function(e){return a(e)}})})})}function Qc(e,t){return(0,ke.Ry)({groupIds:(0,ke.IX)().min(1,"At least one group is required"),name:oc(e,t),type:(0,ke.Rx)().oneOf([Dl.Rollback,Dl.Update]).default(Dl.Update),time:(0,ke.Rx)().min(Date.now()/1e3).required(),environments:(0,ke.Ry)().default({})})}function Yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jc(e){var t,n,r,a=e.disabled,i=jl(),s=(n=(0,B.U$)("groupIds"),r=3,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yc(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=s[0],l=o.name,c=o.onBlur,d=o.value,u=s[1].error,p=s[2].setValue,m=null===(t=i.data)||void 0===t?void 0:t.filter((function(e){return d.includes(e.Id)}));return(0,R.jsx)(H.N,{label:"Groups",required:!0,inputId:"groups-select",errors:u,children:(0,R.jsx)(He.P,{name:l,onBlur:c,value:m,inputId:"groups-select",placeholder:"Select one or multiple group(s)",onChange:function(e){return p(e.map((function(e){return e.Id})))},isMulti:!0,options:i.data||[],getOptionLabel:function(e){return e.Name},getOptionValue:function(e){return e.Id.toString()},closeMenuOnSelect:!1,isDisabled:a})})}var Xc={name:"",groupIds:[],type:Dl.Update,time:Math.floor(Date.now()/1e3)+3600,environments:{}};function ed(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function td(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){ed(i,r,a,s,o,"next",e)}function o(e){ed(i,r,a,s,o,"throw",e)}s(void 0)}))}}function nd(){return(nd=td(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.ZP.get(bl(t));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,dt.vs)(e.t0,"Failed to get list of edge update schedules");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rd(Object(n),!0).forEach((function(t){id(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sd(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function od(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){sd(i,r,a,s,o,"next",e)}function o(e){sd(i,r,a,s,o,"throw",e)}s(void 0)}))}}function ld(e){return cd.apply(this,arguments)}function cd(){return(cd=od(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.values,e.prev=1,e.next=4,dt.ZP.put(bl(n),r);case 4:return a=e.sent,i=a.data,e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(1),(0,dt.vs)(e.t0,"Failed to update edge update schedule");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function dd(e){var t=e.schedule;return(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(rs.o,{options:[{id:Dl.Update,label:"Update",children:(0,R.jsx)(ud,{schedule:t})},{id:Dl.Rollback,label:"Rollback",children:(0,R.jsx)(ud,{schedule:t})}],selectedId:t.type,onSelect:function(){},disabled:!0})})})}function ud(e){var t=e.schedule,n=Object.values(fc()(t.status,(function(e){return"".concat(e.currentVersion,"-").concat(e.targetVersion)}))).map((function(e){return{count:e.length,currentVersion:e[0].currentVersion,targetVersion:e[0].targetVersion}}));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:n.map((function(e){var n=e.count,r=e.currentVersion,a=e.targetVersion;return(0,R.jsxs)("div",{children:[n," edge device(s) selected for"," ",t.type===Dl.Rollback?"rollback":"update"," ","from v",r," to v",a]},"".concat(r,"-").concat(a))}))})}),(0,R.jsx)(gc,{disabled:!0})]})}function pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}gd.$inject=["$stateRegistryProvider"];var md=l().module("portainer.edge.updateSchedules",[]).component("updateSchedulesListView",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)((function(){hl(pl.EdgeRemoteUpdate);var e=Cl(),t=Wl();return e.data?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(st.m,{title:"Update & Rollback",reload:!0,breadcrumbs:"Update and rollback"}),(0,R.jsx)(ae.Gn,{columns:_l,titleOptions:{title:"Update & rollback",icon:ml.Z},dataset:e.data,settingsStore:t,storageKey:ql,emptyContentLabel:"No schedules found",isLoading:e.isLoading,totalCount:e.data.length,renderTableActions:function(e){return(0,R.jsx)(Ql,{selectedRows:e})}})]}):null})))),[])).component("updateSchedulesCreateView",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)((function(){hl(pl.EdgeRemoteUpdate);var e,t=Cl(),n=(e=(0,ie.useQueryClient)(),(0,ie.useMutation)(rc,Xl(Xl({},(0,ct.ar)(e,[vl.list()])),(0,ct.AQ)()))),r=(0,ce.useRouter)();if(!t.data)return null;var a=t.data;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(st.m,{title:"Update & Rollback",breadcrumbs:"Edge agent update and rollback"}),(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.$L.Title,{title:"Update & Rollback Scheduler",icon:Yl.Z}),(0,R.jsx)(Z.$L.Body,{children:(0,R.jsx)(B.J9,{initialValues:Xc,onSubmit:function(e){n.mutate(e,{onSuccess:function(){(0,y.t5)("Success","Created schedule successfully"),r.stateService.go("^")}})},validateOnMount:!0,validationSchema:function(){return Qc(a)},children:function(e){var t=e.isValid;return(0,R.jsxs)(B.l0,{className:"form-horizontal",children:[(0,R.jsx)(sc,{}),(0,R.jsx)(Jc,{}),(0,R.jsx)(Wc,{}),(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(j.fl,{disabled:!t,isLoading:n.isLoading,loadingText:"Creating...",children:"Create Schedule"})})})]})}})})]})})})]})})))),[])).component("updateSchedulesItemView",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)((function(){hl(pl.EdgeRemoteUpdate);var e=(0,ce.useCurrentStateAndParams)().params.id,t=parseInt(e,10);if(!e||Number.isNaN(t))throw new Error("id is a required path param");var n,r=(n=(0,ie.useQueryClient)(),(0,ie.useMutation)(ld,ad(ad({},(0,ct.ar)(n,[vl.list()])),(0,ct.AQ)()))),a=(0,ce.useRouter)(),i=function(e){return(0,ie.useQuery)(vl.item(e),(function(){return function(e){return nd.apply(this,arguments)}(e)}))}(t),s=Cl(),o=(0,K.useMemo)((function(){return!!i.data&&i.data.time<Date.now()/1e3}),[i.data]);if(!i.data||!s.data)return null;var l=i.data,c=s.data,d={name:l.name,groupIds:l.groupIds,type:l.type,time:l.time,environments:Object.fromEntries(Object.entries(l.status).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return pd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pd(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];return[parseInt(a,10),i.targetVersion]})))};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(st.m,{title:"Update & Rollback",breadcrumbs:[{label:"Edge agent update and rollback",link:"^"},l.name]}),(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsxs)(Z.$L,{children:[(0,R.jsx)(Z.$L.Title,{title:"Update & Rollback Scheduler",icon:Yl.Z}),(0,R.jsx)(Z.$L.Body,{children:(0,R.jsx)(B.J9,{initialValues:d,onSubmit:function(e){r.mutate({id:t,values:e},{onSuccess:function(){(0,y.t5)("Success","Updated schedule successfully"),a.stateService.go("^")}})},validateOnMount:!0,validationSchema:function(){return function(e,t,n){return t>Date.now()/1e3?Qc(n,e):(0,ke.Ry)({name:oc(n,e)})}(l.id,l.time,c)},children:function(e){var t=e.isValid;return(0,R.jsxs)(B.l0,{className:"form-horizontal",children:[(0,R.jsx)(sc,{}),(0,R.jsx)(Jc,{disabled:o}),o?(0,R.jsx)(dd,{schedule:l}):(0,R.jsx)(Wc,{}),(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("div",{className:"col-sm-12",children:(0,R.jsx)(j.fl,{disabled:!t,isLoading:r.isLoading,loadingText:"Updating...",children:"Update Schedule"})})})]})}})})]})})})]})})))),[])).config(gd).name;function gd(e){e.register({name:"portainer.endpoints.updateSchedules",url:"/update-schedules",views:{"content@":{component:"updateSchedulesListView"}}}),e.register({name:"portainer.endpoints.updateSchedules.create",url:"/update-schedules/new",views:{"content@":{component:"updateSchedulesCreateView"}}}),e.register({name:"portainer.endpoints.updateSchedules.item",url:"/update-schedules/:id",views:{"content@":{component:"updateSchedulesItemView"}}})}var hd=l().module("portainer.app.react.views",[lo,dl,md]).component("homeView",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)((function(){var e,t,n=(e=(0,K.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1],i=(0,ce.useRouter)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(st.m,{reload:!0,title:"Home",breadcrumbs:[{label:"Environments"}]}),!1,(0,R.jsx)(na,{}),!1,r?(0,R.jsx)(Vr,{}):(0,R.jsx)(Lr,{onClickItem:function(e){(0,rn.Mq)(e.Type)&&a(!0)},onRefresh:function(){return s.apply(this,arguments)}})]});function s(){return(s=sa(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,la();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,(0,nn.Jm)();case 8:y.Vp("Success","Environments updated"),i.stateService.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),y.vU("Failure",e.t0,"An error occurred during environment snapshot");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}})))),[])).component("createAccessToken",(0,N.A)(function(e){var t=e.displayName||e.name||"Component";function n(t){return(0,R.jsx)(K.Suspense,{fallback:"Loading translations...",children:(0,R.jsx)(e,ka({},t))})}return n.displayName=t,n}((0,_.Q)((function(e){var t=e.onSubmit,n=e.onError,r="account.accessTokens.create",a=(0,da.$)(r).t,i=(0,ce.useRouter)(),s=fa((0,K.useState)(""),2),o=s[0],l=s[1],c=fa((0,K.useState)(""),2),d=c[0],u=c[1],p=fa((0,K.useState)(!1),2),m=p[0],g=p[1],h=fa((0,K.useState)(""),2),f=h[0],v=h[1];function b(){return(b=ha(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return");case 2:return g(!0),e.prev=3,e.next=6,t(o);case 6:r=e.sent,v(r.rawAPIKey),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n("Failure",e.t0,"Failed to generate access token");case 13:return e.prev=13,g(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))).apply(this,arguments)}return(0,K.useEffect)((function(){0===o.length?u(a("this field is required")):u("")}),[o,a]),(0,R.jsx)(Z.$L,{children:(0,R.jsxs)(Z.kh,{children:[(0,R.jsxs)("div",{className:"form-horizontal",children:[(0,R.jsx)(H.N,{inputId:"input",label:a("Description"),errors:d,children:(0,R.jsx)(Q.I,{id:"input",onChange:function(e){return l(e.target.value)},value:o})}),(0,R.jsx)("div",{className:"row mt-5",children:(0,R.jsx)(j.zx,{disabled:!!d||!!f,onClick:function(){return function(){return b.apply(this,arguments)}()},children:a("Add access token")})})]}),f&&(0,R.jsxs)("div",{className:"mt-5",children:[(0,R.jsx)(G.i,{children:(0,R.jsx)(ua.c,{ns:r,children:"New access token"})}),(0,R.jsx)(W.a,{children:(0,R.jsx)(ua.c,{ns:r,children:"Please copy the new access token. You won't be able to view the token again."})}),(0,R.jsx)(pa.E,{children:f}),(0,R.jsx)(ma.q,{copyText:f,children:(0,R.jsx)(ua.c,{ns:r,children:"Copy access token"})}),(0,R.jsx)("hr",{}),(0,R.jsx)(j.zx,{type:"button",onClick:function(){return i.stateService.go("portainer.account")},children:(0,R.jsx)(ua.c,{ns:r,children:"Done"})})]})]})})}))),["onSubmit","onError"])).component("settingsEdgeCompute",(0,N.A)((0,F.H)((0,V.s)((function(e){var t=e.settings,n=e.onSubmit;return(0,R.jsxs)("div",{className:"row",children:[(0,R.jsx)(ya,{settings:t,onSubmit:n}),!1]})}))),["onSubmit","settings"])).name,fd=l().module("portainer.app.react",[hd,tn]).name;function vd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Sd.$inject=["$rootScope"];var yd=(0,K.createContext)(null);function wd(){var e=(0,K.useContext)(yd);if(!e)throw new Error("useSidebarContext must be used within a SidebarProvider");return e}function xd(e){var t,n,r,a,i,s,o,c,d=e.children,u=(t=vd(cn._("toolbar_toggle",!0),2),n=t[0],r=t[1],a=vd(function(e){var t=vd((0,K.useState)(e),2),n=t[0],r=t[1],a=(0,K.useRef)(),i=(0,K.useCallback)((function(){a.current&&(r(a.current),a.current=void 0)}),[a]),s=(0,K.useCallback)((function(e){a.current=n,r(e)}),[n]);return[n,s,i]}(!Cd()&&!window.ddExtension&&n),3),i=a[0],s=a[1],o=a[2],c=(0,K.useMemo)((function(){return Ii()((function(){Cd()?i&&s(!1):o()}),50)}),[s,o,i]),function(e){(0,K.useEffect)((function(){l().element(document).injector().invoke(["SidebarService",function(t){t.setIsOpen(e)}])}),[e])}(i),(0,K.useEffect)((function(){if(!window.ddExtension)return window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}}),[c]),{isOpen:i,toggle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!i;r(e),s(e)}});return(0,R.jsxs)(yd.Provider,{value:u,children:[" ",d," "]})}function Sd(e){var t={isOpen:!1};return{isSidebarOpen:function(){return t.isOpen},setIsOpen:function(n){e.$evalAsync((function(){t.isOpen=n}))}}}function Cd(){return window.innerWidth<992}yd.displayName="SidebarContext";var kd=n(90190),Ad=n(15638),Pd=n(17790),Id=n(6262),$d=["className","children","label"];function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(n),!0).forEach((function(t){Ed(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jd(e){var t=e.className,n=e.children,r=e.label,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,$d);return(0,R.jsx)("li",Td(Td({className:(0,M.Z)("flex",t,"text-gray-3 min-h-8 [&>a]:text-inherit [&>a]:hover:text-inherit [&>a]:hover:no-underline"),"aria-label":r},a),{},{children:n}))}var Dd=n(41337),Od=n(92855);function Rd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Md(e){return Md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(e)}function Ld(e,t){return function(e){return!!e&&"object"===Md(e)&&"type"in e&&"props"in e}(e)?void 0===e.props.to?K.Children.map(e.props.children,(function(e){return Ld(e,t)})):[e.props.to].concat(function(e){if(Array.isArray(e))return Rd(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Rd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rd(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t;var n}function Ud(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||Fd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vd(e){return function(e){if(Array.isArray(e))return _d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fd(e,t){if(e){if("string"==typeof e)return _d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_d(e,t):void 0}}function _d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kd(e){var t=e.children,n=e.head,r=e.openOnPaths,a=void 0===r?[]:r,i=wd().isOpen,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,ce.useCurrentStateAndParams)().state.name||"",r=t.some((function(e){return n.startsWith(e)})),a=(0,K.useReducer)((function(e){return!e}),!1),i=Ud(a,2),s=i[0],o=i[1];return{isOpen:c(),toggleOpen:l};function l(){r||o()}function c(){return!!e&&(!!s||r)}}(i,(0,K.useMemo)((function(){return[].concat(Vd(Ld(n,[])),Vd(a))}),[a,n])),o=s.isOpen,l=s.toggleOpen,c=o?Dd.Z:Od.Z;return(0,R.jsxs)("div",{className:"flex-1",children:[(0,R.jsxs)("div",{className:"flex w-full justify-between items-center relative ",children:[n,i&&K.Children.count(t)>0&&(0,R.jsx)("button",{className:"bg-transparent border-0 w-6 h-6 flex items-center justify-center absolute right-2 text-gray-5",onClick:function(e){e.preventDefault(),e.stopPropagation(),l()},type:"button","aria-label":"Collapse button",children:(0,R.jsx)(c,{className:"w-4 h-4"})})]}),o&&(0,R.jsx)("ul",{className:"!pl-8",children:t})]})}n(34920),n(8743);var Bd=n(76204);function zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(n),!0).forEach((function(t){Gd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zd(e){var t=e.to,n=e.options,r=e.params,a=void 0===r?{}:r,i=e.label,s=e.icon,o=e.ignorePaths,l=void 0===o?[]:o,c=e["data-cy"],d=wd().isOpen,u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=(0,ce.useCurrentStateAndParams)().state,s=(i=void 0===i?{}:i).name,o=void 0===s?"":s,l=(0,ce.useSrefActive)(e,n||{},t,r),c=a.some((function(e){return o.includes(e)}))?"":l.className;return Hd(Hd({},l),{},{className:c})}(t,"bg-blue-8 be:bg-gray-8 th-dark:bg-gray-true-8",a,n,l);return(0,R.jsxs)("a",{href:u.href,onClick:u.onClick,className:(0,M.Z)(u.className,"text-inherit no-underline hover:no-underline hover:text-inherit focus:no-underline focus:text-inherit","w-full flex-1 rounded-md flex items-center h-8 space-x-4 text-sm","hover:bg-blue-9 th-dark:hover:bg-gray-true-9 be:hover:bg-gray-9 transition-colors duration-200",{"px-3 justify-start w-full":d,"justify-center w-8":!d}),"data-tip":i,"data-cy":c,children:[!!s&&(0,R.jsx)(D.J,{icon:s,feather:!0,className:(0,M.Z)("flex [&>svg]:w-4")}),d&&(0,R.jsx)("span",{children:i}),(0,R.jsx)(Bd.Z,{type:"info",place:"right",effect:"solid",className:"!opacity-100 bg-blue-9 be:bg-gray-9 !rounded-md !py-1 !px-2",arrowColor:"transparent",disable:d})]})}function qd(e){return function(e){if(Array.isArray(e))return Wd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qd=function(e){var t=e.children,n=e.icon,r=e.to,a=e.params,i=e.label,s=e.openOnPaths,o=void 0===s?[]:s,l=e["data-cy"],c=function(e){var t;return(null===(t=K.Children.map(e,(function(e){return Ld(e,[])})))||void 0===t?void 0:t.flat())||[]}(t),d=(0,R.jsx)(Zd,{icon:n,to:r,params:a,label:i,ignorePaths:c,"data-cy":l});return(0,R.jsx)(jd,{label:i,children:t?(0,R.jsx)(Kd,{head:d,openOnPaths:[].concat(qd(o),qd(c)),children:t}):d})};function Yd(e){var t=e.title,n=e.children,r=e.showTitleWhenOpen,a=e["aria-label"];return(0,R.jsxs)("div",{children:[(0,R.jsx)(Jd,{showWhenOpen:r,children:t}),(0,R.jsx)("nav",{"aria-label":"string"==typeof t?t:a,className:"mt-4",children:(0,R.jsx)("ul",{children:n})})]})}function Jd(e){var t=e.showWhenOpen,n=e.children;return wd().isOpen||t?(0,R.jsx)("li",{className:"ml-3 text-sm text-gray-3 be:text-gray-6 transition-all duration-500 ease-in-out",children:n}):null}function Xd(){return(0,R.jsxs)(Yd,{title:"Edge compute",children:[(0,R.jsx)(Qd,{to:"edge.devices",label:"Edge Devices",icon:Ad.Z,"data-cy":"portainerSidebar-edgeDevices"}),(0,R.jsx)(Qd,{to:"edge.groups",label:"Edge Groups",icon:Pd.Z,"data-cy":"portainerSidebar-edgeGroups"}),(0,R.jsx)(Qd,{to:"edge.stacks",label:"Edge Stacks",icon:Id.Z,"data-cy":"portainerSidebar-edgeStacks"}),(0,R.jsx)(Qd,{to:"edge.jobs",label:"Edge Jobs",icon:ml.Z,"data-cy":"portainerSidebar-edgeJobs"})]})}Qd.Menu=Kd,Qd.Wrapper=jd;var eu,tu,nu=n(19937),ru=n(29765);function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(this,arguments)}var iu,su,ou,lu,cu;function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},du.apply(this,arguments)}var uu,pu,mu;function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gu.apply(this,arguments)}var hu;function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vu=(fu(hu={},pn.zh.Docker,(function(e){return K.createElement("svg",au({width:"1em",height:"1em",viewBox:"0 0 105 95",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),eu||(eu=K.createElement("path",{d:"M102.014 39.337c-.27-.229-2.695-2.11-7.902-2.11-1.347 0-2.74.138-4.085.369-.989-7.02-6.69-10.416-6.914-10.598l-1.393-.826-.898 1.33a19.85 19.85 0 0 0-2.469 5.874c-.942 3.993-.36 7.754 1.617 10.966-2.381 1.376-6.242 1.697-7.05 1.744H9.16c-1.66 0-3.009 1.376-3.009 3.074a47.34 47.34 0 0 0 2.783 16.747c2.2 5.874 5.477 10.232 9.699 12.894 4.76 2.983 12.527 4.68 21.282 4.68 3.951 0 7.902-.369 11.81-1.103a48.094 48.094 0 0 0 15.446-5.734 42.497 42.497 0 0 0 10.507-8.809c5.073-5.826 8.082-12.341 10.283-18.123h.898c5.524 0 8.935-2.248 10.821-4.174 1.257-1.194 2.201-2.662 2.873-4.314l.404-1.193-.942-.69-.002-.004Z",fill:"#0091E2"})),tu||(tu=K.createElement("path",{d:"M15.086 44.2h8.53c.405 0 .765-.32.765-.78v-7.8a.764.764 0 0 0-.764-.778h-8.53a.765.765 0 0 0-.765.779v7.799c.044.458.36.78.764.78ZM26.851 44.2h8.53c.405 0 .763-.32.763-.78v-7.8a.764.764 0 0 0-.763-.778h-8.53a.765.765 0 0 0-.764.779v7.799c.044.458.36.78.764.78ZM38.842 44.2h8.53c.404 0 .765-.32.765-.78v-7.8a.764.764 0 0 0-.765-.778h-8.53a.765.765 0 0 0-.764.779v7.799c0 .458.314.78.764.78ZM50.647 44.2h8.53c.405 0 .765-.32.765-.78v-7.8a.764.764 0 0 0-.764-.778h-8.53a.765.765 0 0 0-.765.779v7.799c0 .458.36.78.764.78ZM26.851 33.05h8.53c.405 0 .763-.367.763-.78v-7.799c0-.413-.314-.781-.763-.781h-8.53a.766.766 0 0 0-.764.781v7.799c.044.413.36.78.764.78ZM38.842 33.05h8.53c.404 0 .765-.367.765-.78v-7.799a.766.766 0 0 0-.765-.781h-8.53a.766.766 0 0 0-.764.781v7.799c0 .413.314.78.764.78ZM50.647 33.05h8.53c.405 0 .765-.367.765-.78v-7.799c0-.413-.36-.781-.764-.781h-8.53a.766.766 0 0 0-.765.781v7.799c0 .413.36.78.764.78ZM50.647 21.856h8.53c.405 0 .765-.32.765-.78v-7.8c0-.413-.36-.78-.764-.78h-8.53a.766.766 0 0 0-.765.78v7.8c0 .412.36.78.764.78ZM62.551 44.2h8.53c.405 0 .765-.32.765-.78v-7.8a.764.764 0 0 0-.764-.778h-8.53a.765.765 0 0 0-.765.779v7.799c.044.458.36.78.764.78Z",fill:"#0091E2"})))})),fu(hu,pn.zh.Kubernetes,(function(e){return K.createElement("svg",gu({width:"1em",height:"1em",viewBox:"0 0 105 95",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),uu||(uu=K.createElement("path",{d:"M52.958 88.267c-5.243 0-10.485-.044-15.724.02-2.383.026-4.221-.819-5.716-2.694-6.63-8.317-13.299-16.6-19.966-24.89-1.337-1.661-1.862-3.43-1.352-5.608 2.448-10.471 4.806-20.967 7.202-31.456.479-2.1 1.694-3.543 3.661-4.476 9.69-4.605 19.357-9.246 29.019-13.907 2.022-.977 3.947-.917 5.954.046 9.602 4.63 19.211 9.251 28.844 13.822 2.037.968 3.276 2.447 3.77 4.616 2.39 10.491 4.765 20.985 7.198 31.463.466 2.01.044 3.707-1.213 5.268-6.734 8.399-13.473 16.796-20.186 25.215-1.449 1.82-3.272 2.614-5.565 2.594-5.305-.04-10.614-.01-15.92-.01l-.008-.005.002.002ZM51.61 21.251c.094 2.704-.234 3.12-2.717 3.607-4.407.867-8.387 2.678-11.614 5.846-1.217 1.198-2.242.944-3.326.17-.835-.592-1.509-1.413-2.263-2.122-.515-.483-.998-1.038-1.589-1.41-.865-.537-1.772-.46-2.406.411-.575.784-.43 1.631.218 2.303.444.457 1.01.797 1.548 1.152.804.538 1.668.995 2.441 1.577 1.574 1.183 1.718 1.986.785 3.677-2.153 3.894-3.117 8.067-2.962 12.521.086 2.428-.625 3.197-3.062 3.473-1.093.125-2.192.191-3.276.376-1.224.206-2.095.886-1.83 2.256.254 1.32 1.325 1.522 2.422 1.254 1.185-.297 2.317-.793 3.486-1.153 2.394-.733 3.202-.346 4.206 1.943 1.757 4.024 4.435 7.284 8.008 9.813 1.535 1.089 1.784 2.022.895 3.732-.416.799-.956 1.54-1.43 2.313-.304.497-.619.988-.885 1.504-.534 1.028-.306 1.928.645 2.538 1.057.678 1.969.151 2.441-.773.638-1.26 1.008-2.654 1.52-3.978.819-2.127 1.671-2.553 3.776-1.962 4.271 1.19 8.547 1.205 12.822.02 2.083-.578 2.853-.23 3.677 1.826.48 1.199.78 2.474 1.318 3.649.48 1.064 1.29 1.927 2.597 1.233 1.213-.643 1.259-1.732.633-2.834-.605-1.069-1.344-2.066-1.951-3.134-1.19-2.104-1.019-2.821.898-4.229 3.587-2.627 6.24-5.986 7.939-10.109.785-1.907 1.532-2.287 3.547-1.69 1.235.367 2.422.909 3.666 1.223 1.115.28 2.262.241 2.693-1.155.35-1.135-.415-2.068-1.952-2.322-1.209-.203-2.448-.231-3.661-.418-1.935-.3-2.643-1.152-2.562-3.07.194-4.587-.78-8.89-3.036-12.889-.864-1.53-.726-2.443.69-3.556.814-.637 1.738-1.118 2.6-1.686.535-.356 1.108-.692 1.55-1.148.653-.668.788-1.5.22-2.303-.584-.823-1.453-.898-2.254-.5-.614.305-1.114.862-1.632 1.345-.709.663-1.34 1.414-2.08 2.037-1.468 1.24-2.358 1.214-3.754-.026-3.421-3.045-7.388-4.95-11.878-5.774-1.803-.331-2.352-.922-2.278-2.783.05-1.293.285-2.575.4-3.864.14-1.506-.703-2.728-1.842-2.724-1.139.004-1.978 1.223-1.828 2.733.105 1.03.28 2.053.429 3.08h-.009.007Z",fill:"#326CE4"})),pu||(pu=K.createElement("path",{d:"M51.608 21.25c-.144-1.026-.323-2.047-.428-3.079-.15-1.51.689-2.729 1.827-2.733 1.14-.005 1.983 1.218 1.843 2.724-.12 1.293-.354 2.573-.4 3.864-.07 1.861.474 2.452 2.278 2.783 4.49.824 8.456 2.725 11.877 5.774 1.395 1.24 2.284 1.269 3.755.026.74-.623 1.373-1.374 2.08-2.037.515-.483 1.018-1.043 1.632-1.346.8-.397 1.672-.325 2.254.5.568.804.43 1.632-.221 2.304-.444.456-1.014.788-1.55 1.148-.859.573-1.788 1.053-2.599 1.686-1.418 1.113-1.554 2.026-.69 3.556 2.253 4 3.23 8.302 3.036 12.888-.081 1.917.63 2.769 2.561 3.071 1.213.187 2.448.216 3.662.418 1.538.256 2.303 1.187 1.951 2.322-.43 1.398-1.578 1.436-2.692 1.155-1.244-.312-2.433-.854-3.666-1.223-2.013-.597-2.758-.22-3.548 1.69-1.698 4.123-4.351 7.482-7.938 10.11-1.917 1.404-2.092 2.122-.899 4.228.606 1.069 1.34 2.065 1.952 3.134.625 1.105.58 2.189-.634 2.834-1.305.694-2.114-.17-2.597-1.233-.533-1.17-.834-2.452-1.318-3.649-.828-2.057-1.593-2.404-3.676-1.826-4.276 1.187-8.551 1.17-12.822-.02-2.11-.586-2.962-.16-3.777 1.962-.51 1.329-.883 2.72-1.52 3.978-.465.924-1.383 1.451-2.44.773-.95-.608-1.175-1.51-.646-2.538.27-.516.58-1.007.886-1.503.474-.773 1.01-1.51 1.43-2.314.889-1.71.64-2.646-.895-3.732-3.572-2.53-6.254-5.789-8.009-9.813-1.003-2.292-1.812-2.674-4.205-1.943-1.17.36-2.302.854-3.486 1.153-1.096.272-2.165.07-2.422-1.254-.265-1.37.605-2.046 1.83-2.256 1.079-.185 2.183-.25 3.276-.376 2.441-.272 3.147-1.043 3.062-3.473-.155-4.454.809-8.625 2.962-12.521.933-1.69.789-2.494-.785-3.677-.774-.582-1.637-1.039-2.442-1.576-.535-.356-1.103-.694-1.547-1.153-.65-.672-.794-1.52-.219-2.303.639-.87 1.544-.948 2.407-.41.59.37 1.073.922 1.589 1.41.754.71 1.43 1.53 2.262 2.122 1.084.773 2.107 1.027 3.327-.171 3.222-3.17 7.202-4.981 11.613-5.846 2.483-.488 2.81-.902 2.717-3.607h.009-.007ZM50.59 31.84h.105c0-.515-.026-1.038.009-1.553.045-.712-.219-.879-.91-.742-3.366.658-6.363 2.065-8.996 4.278-.726.608-.584.953.12 1.434 2.078 1.429 4.107 2.928 6.183 4.355 1.878 1.288 3.032.718 3.178-1.554.132-2.068.21-4.145.31-6.217ZM34.445 47.45c-.017 1.6.678 2.195 2.088 1.787 2.162-.628 4.337-1.223 6.485-1.89 1.968-.613 2.27-1.835.77-3.256-1.828-1.732-3.777-3.337-5.59-5.09-.963-.934-1.313-.468-1.757.432-1.279 2.595-1.884 5.347-1.998 8.012l.003.005Zm18.508 19.015c1.69.046 3.33-.254 4.964-.663.664-.167 1.093-.272.614-1.109-1.38-2.412-2.638-4.895-4.061-7.279-.796-1.335-2.134-1.32-2.918.02-1.408 2.397-2.689 4.862-4.046 7.288-.354.632-.21.863.49 1.038 1.632.41 3.267.734 4.959.703v.004l-.002-.002Zm18.636-18.958c-.15-2.603-.708-5.308-1.952-7.85-.505-1.03-1.073-1.381-2.048-.466-1.744 1.636-3.572 3.186-5.314 4.826-1.563 1.47-1.235 2.698.864 3.332 2.157.656 4.33 1.26 6.494 1.886 1.987.573 1.993.57 1.954-1.73l.002.002Zm-9.515 5.282c-2.798.125-3.143.652-2.197 2.99.9 2.221 1.854 4.42 2.724 6.653.295.758.535 1.129 1.34.523 2.747-2.077 4.855-4.652 6.18-7.846.163-.395.463-.924-.285-1.054-2.669-.456-5.349-.873-7.764-1.268l.002.002ZM55.342 31.61h.065c.11 2.127.21 4.255.33 6.386.132 2.294 1.268 2.9 3.126 1.625 2.018-1.386 3.948-2.9 6.005-4.22 1.1-.706.854-1.1.03-1.771a19.363 19.363 0 0 0-8.448-4.013c-1.113-.23-1.218.15-1.12 1.027.036.32.005.644.005.969h.009l-.002-.003Zm-8.593 22.725c-.303-.658-.264-1.525-1.403-1.484-2.863.106-5.655.73-8.476 1.12-.995.136-1.198.566-.81 1.43 1.365 3.009 3.358 5.503 6.005 7.478.68.507 1.034.516 1.36-.397.586-1.64 1.324-3.225 1.989-4.836.444-1.074.87-2.154 1.333-3.306v-.005h.002Zm6.363-8.965c-1.982-.004-3.152.784-3.198 2.158-.054 1.65 1.55 3.506 3.067 3.537 1.443.03 3.093-1.717 3.102-3.287.009-1.46-1.154-2.408-2.973-2.412l.005.004h-.003Z",fill:"#FDFDFE"})),mu||(mu=K.createElement("path",{d:"M50.594 31.84c-.1 2.073-.18 4.145-.31 6.218-.15 2.276-1.306 2.845-3.179 1.554-2.079-1.43-4.105-2.93-6.184-4.355-.703-.483-.843-.824-.12-1.434 2.634-2.213 5.63-3.618 8.997-4.278.695-.137.955.035.91.742-.036.515-.01 1.038-.01 1.556h-.104v-.004.002ZM34.448 47.45c.116-2.666.72-5.419 1.998-8.014.444-.902.793-1.37 1.757-.432 1.808 1.752 3.762 3.352 5.59 5.09 1.499 1.425 1.197 2.646-.77 3.256-2.149.668-4.322 1.26-6.485 1.89-1.408.409-2.103-.186-2.088-1.787l-.002-.004ZM52.96 66.46c-1.69.03-3.327-.297-4.96-.707-.7-.176-.84-.406-.49-1.038 1.358-2.424 2.639-4.896 4.046-7.289.785-1.339 2.123-1.354 2.918-.02 1.423 2.385 2.687 4.867 4.062 7.28.478.834.045.94-.615 1.108-1.632.411-3.272.712-4.964.663l.003.003ZM71.588 47.504c.04 2.298.03 2.307-1.954 1.73-2.164-.628-4.337-1.234-6.494-1.886-2.098-.637-2.424-1.857-.863-3.332 1.742-1.64 3.567-3.19 5.313-4.826.975-.913 1.543-.566 2.048.466 1.244 2.54 1.8 5.247 1.952 7.85l-.002-.002ZM62.079 52.783c2.413.391 5.09.813 7.764 1.27.743.124.445.656.284 1.053-1.33 3.196-3.432 5.773-6.18 7.846-.804.608-1.044.235-1.34-.523-.87-2.232-1.822-4.434-2.723-6.654-.949-2.337-.599-2.864 2.197-2.99l-.002-.002ZM55.348 31.606c0-.325.03-.648-.004-.968-.096-.878.009-1.254 1.119-1.028 3.16.652 5.95 1.983 8.448 4.013.824.672 1.073 1.063-.03 1.772-2.057 1.324-3.987 2.834-6.005 4.22-1.858 1.274-2.997.67-3.126-1.625-.12-2.128-.22-4.26-.33-6.386h-.074l.002.002ZM46.749 54.329c-.464 1.152-.89 2.232-1.334 3.306-.664 1.611-1.398 3.196-1.989 4.836-.325.913-.68.909-1.36.397-2.646-1.975-4.635-4.47-6.004-7.479-.393-.863-.19-1.293.809-1.429 2.822-.386 5.611-1.014 8.477-1.12 1.138-.044 1.1.828 1.403 1.484v.005h-.002ZM53.115 45.364c1.814.004 2.981.948 2.973 2.412-.011 1.57-1.66 3.317-3.102 3.286-1.515-.035-3.121-1.885-3.067-3.536.046-1.374 1.218-2.167 3.198-2.158l-.004-.005h.002Z",fill:"#326CE4"})))})),fu(hu,pn.zh.Azure,(function(e){return K.createElement("svg",du({width:"1em",height:"1em",viewBox:"0 0 105 95",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),iu||(iu=K.createElement("path",{d:"M40.041 11.192h21.975l-22.81 69.066a3.565 3.565 0 0 1-1.278 1.763 3.455 3.455 0 0 1-2.043.672h-17.1a3.444 3.444 0 0 1-1.599-.394 3.538 3.538 0 0 1-1.245-1.095 3.603 3.603 0 0 1-.618-1.556 3.658 3.658 0 0 1 .144-1.673l21.255-64.346c.235-.71.68-1.326 1.278-1.763a3.455 3.455 0 0 1 2.043-.671l-.002-.003Z",fill:"url(#azure_svg__a)"})),su||(su=K.createElement("path",{d:"M71.975 57.518H37.13c-.325 0-.64.098-.909.284a1.637 1.637 0 0 0-.592.758c-.12.308-.145.646-.074.967.072.323.237.616.474.84L58.42 81.725c.65.622 1.51.967 2.401.967h19.73l-8.576-25.178v.005Z",fill:"#0078D4"})),ou||(ou=K.createElement("path",{d:"M40.042 11.193a3.44 3.44 0 0 0-2.062.682 3.54 3.54 0 0 0-1.265 1.8l-21.22 64.244a3.63 3.63 0 0 0 .434 3.265c.325.469.754.852 1.252 1.115.499.263 1.052.4 1.613.398h17.542a3.705 3.705 0 0 0 1.77-.854 3.816 3.816 0 0 0 1.107-1.647l4.232-12.742L58.56 81.861a3.529 3.529 0 0 0 2.25.838H80.47l-8.623-25.177-25.133.007 15.384-46.337H40.042Z",fill:"url(#azure_svg__b)"})),lu||(lu=K.createElement("path",{d:"M68.109 13.625a3.579 3.579 0 0 0-1.275-1.76 3.448 3.448 0 0 0-2.04-.673h-24.49c.733 0 1.445.236 2.04.672a3.577 3.577 0 0 1 1.275 1.761l21.255 64.352c.178.537.228 1.11.144 1.673a3.602 3.602 0 0 1-.617 1.556c-.325.46-.75.836-1.246 1.095a3.437 3.437 0 0 1-1.598.394h24.49c.555 0 1.104-.135 1.598-.394a3.512 3.512 0 0 0 1.243-1.095c.325-.46.536-.995.618-1.556a3.658 3.658 0 0 0-.144-1.673L68.109 13.625Z",fill:"url(#azure_svg__c)"})),cu||(cu=K.createElement("defs",null,K.createElement("linearGradient",{id:"azure_svg__a",x1:48.052,y1:16.492,x2:24.328,y2:85.073,gradientUnits:"userSpaceOnUse"},K.createElement("stop",{stopColor:"#114A8B"}),K.createElement("stop",{offset:1,stopColor:"#0669BC"})),K.createElement("linearGradient",{id:"azure_svg__b",x1:55.179,y1:48.598,x2:49.877,y2:50.351,gradientUnits:"userSpaceOnUse"},K.createElement("stop",{stopOpacity:.3}),K.createElement("stop",{offset:.07,stopOpacity:.2}),K.createElement("stop",{offset:.32,stopOpacity:.1}),K.createElement("stop",{offset:.62,stopOpacity:.05}),K.createElement("stop",{offset:1,stopOpacity:0})),K.createElement("linearGradient",{id:"azure_svg__c",x1:52.44,y1:14.419,x2:78.457,y2:82.248,gradientUnits:"userSpaceOnUse"},K.createElement("stop",{stopColor:"#3CCBF4"}),K.createElement("stop",{offset:1,stopColor:"#2892DF"})))))})),hu),bu=n(34043);function yu(e){var t=e.environmentId,n=e.platformPath,r=e["data-cy"];return(0,R.jsx)(Qd,{to:"".concat(n,".dashboard"),params:{endpointId:t},icon:bu.Z,label:"Dashboard","data-cy":r})}function wu(e){var t=e.environmentId;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(yu,{environmentId:t,platformPath:"azure","data-cy":"azureSidebar-dashboard"}),(0,R.jsx)(Qd,{to:"azure.containerinstances",params:{endpointId:t},icon:Ad.Z,label:"Container instances","data-cy":"azureSidebar-containerInstances"})]})}var xu=n(74899),Su=n(94410),Cu=n(90166),ku=n(78595),Au=n(13788),Pu=n(19545),Iu=n(30788),$u=n(87147);function Nu(e){var t=e.environmentId,n=e.platformPath,r=e["data-cy"];return(0,R.jsx)(Qd,{to:"".concat(n,".volumes"),params:{endpointId:t},icon:$u.Z,label:"Volumes","data-cy":r})}function Tu(e){var t=e.environmentId,n=e.environment,r=(0,Cn.aF)().user,a=(0,Cn.G_)(r,t),i=a||n.SecuritySettings.allowStackManagementForRegularUsers,s=(0,Iu.w1)(t,(function(e){var t,n;return!(null===(t=e.Swarm)||void 0===t||!t.NodeID||null===(n=e.Swarm)||void 0===n||!n.ControlAvailable)})),o=(0,Iu.aw)(t,(function(e){return parseFloat(e.ApiVersion)})),l=s.data,c=o.data||0,d=n.Status===pn.a2.Down,u=l?{label:"Swarm",icon:xu.Z,to:"docker.swarm",dataCy:"portainerSidebar-swarm"}:{label:"Host",icon:xu.Z,to:"docker.host",dataCy:"portainerSidebar-host"},p=l?"docker.swarm.featuresConfiguration":"docker.host.featuresConfiguration",m=l?"docker.swarm.registries":"docker.host.registries";return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(yu,{environmentId:t,platformPath:"docker","data-cy":"dockerSidebar-dashboard"}),(0,R.jsx)(Qd,{label:"App Templates",icon:Su.Z,to:"docker.templates",params:{endpointId:t},"data-cy":"portainerSidebar-appTemplates",children:(0,R.jsx)(Qd,{label:"Custom Templates",to:"docker.templates.custom",params:{endpointId:t},"data-cy":"dockerSidebar-customTemplates"})}),i&&(0,R.jsx)(Qd,{to:"docker.stacks",params:{endpointId:t},icon:Id.Z,label:"Stacks","data-cy":"dockerSidebar-stacks"}),l&&(0,R.jsx)(Qd,{to:"docker.services",params:{endpointId:t},icon:Cu.Z,label:"Services","data-cy":"dockerSidebar-services"}),(0,R.jsx)(Qd,{to:"docker.containers",params:{endpointId:t},icon:Ad.Z,label:"Containers","data-cy":"dockerSidebar-containers"}),(0,R.jsx)(Qd,{to:"docker.images",params:{endpointId:t},icon:ku.Z,label:"Images","data-cy":"dockerSidebar-images"}),(0,R.jsx)(Qd,{to:"docker.networks",params:{endpointId:t},icon:Au.Z,label:"Networks","data-cy":"dockerSidebar-networks"}),(0,R.jsx)(Nu,{environmentId:t,platformPath:"docker","data-cy":"dockerSidebar-volumes"}),c>=1.3&&l&&(0,R.jsx)(Qd,{to:"docker.configs",params:{endpointId:t},icon:Pu.Z,label:"Configs","data-cy":"dockerSidebar-configs"}),c>=1.25&&l&&(0,R.jsx)(Qd,{to:"docker.secrets",params:{endpointId:t},icon:Re.Z,label:"Secrets","data-cy":"dockerSidebar-secrets"}),!l&&a&&!d&&(0,R.jsx)(Qd,{to:"docker.events",params:{endpointId:t},icon:ml.Z,label:"Events","data-cy":"dockerSidebar-events"}),(0,R.jsxs)(Qd,{label:u.label,icon:u.icon,to:u.to,params:{endpointId:t},"data-cy":u.dataCy,children:[(0,R.jsx)(Cn.FY,{authorizations:"PortainerEndpointUpdateSettings",adminOnlyCE:!0,environmentId:t,children:(0,R.jsx)(Qd,{to:p,params:{endpointId:t},label:"Setup"})}),(0,R.jsx)(Qd,{to:m,params:{endpointId:t},label:"Registries"})]})]})}var Eu=n(43803),ju=n(82732),Du=n(48942),Ou=n(79153),Ru=n(96049),Mu=n(13501);function Lu(){Vu("100%","initial")}function Uu(){var e=window.innerHeight;Vu("".concat(e-495,"px"),"auto")}function Vu(e,t){var n=document.getElementById("pageWrapper-wrapper");n&&(n.style.height=e,n.style.overflowY=t)}function Fu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fu(Object(n),!0).forEach((function(t){Ku(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hu(e){var t=e.environmentId,n=e.onClose,r=Bu((0,K.useState)(new Ru.o),1)[0],a=Bu((0,K.useState)({socket:null,minimized:!1}),2),i=a[0],s=a[1],o=i.socket,l=(0,K.useRef)(null),c=Bu((0,cn._)("JWT",""),1)[0],d=(0,K.useCallback)((function(){Lu(),null==o||o.close(),r.dispose(),n()}),[n,r,o]),u=(0,K.useCallback)((function(){l.current&&(r.open(l.current),r.setOption("cursorBlink",!0),r.focus(),(0,Mu.fit)(r),r.writeln("#Run kubectl commands inside here"),r.writeln("#e.g. kubectl get all"),r.writeln(""))}),[r]);return(0,K.useEffect)((function(){if(!o)return function(){};function e(){u()}function t(e){r.write(e.data)}function n(){d()}function a(e){d(),(null==o?void 0:o.readyState)!==WebSocket.CLOSED&&(0,y.vU)("Failure",e,"Websocket connection error")}return o.addEventListener("open",e),o.addEventListener("message",t),o.addEventListener("close",n),o.addEventListener("error",a),function(){o.removeEventListener("open",e),o.removeEventListener("message",t),o.removeEventListener("close",n),o.removeEventListener("error",a)}}),[d,u,o,r]),(0,K.useEffect)((function(){var e=new WebSocket(function(e,t){var n={token:e,endpointId:t},r="https:"===window.location.protocol?"wss://":"ws://",a="".concat((0,Sa.baseHref)(),"api/websocket/kubernetes-shell"),i=a.startsWith("http")?a.replace(/^https?:\/\//i,""):window.location.host+a,s=Object.entries(n).map((function(e){var t=Bu(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&");return"".concat(r).concat(i,"?").concat(s)}(c,t));function n(){e.close(),r.dispose(),window.removeEventListener("resize",Uu)}return s((function(t){return _u(_u({},t),{},{socket:e})})),r.onData((function(t){return e.send(t)})),r.onKey((function(e){var t=e.domEvent;t.ctrlKey&&"KeyD"===t.code&&n()})),window.addEventListener("resize",(function(){return Uu()})),n}),[t,c,r]),(0,R.jsxs)("div",{className:(0,M.Z)("app-react-sidebar-KubernetesSidebar-KubectlShell-KubectlShell-module__root",Ku({},"app-react-sidebar-KubernetesSidebar-KubectlShell-KubectlShell-module__minimized",i.minimized)),children:[(0,R.jsxs)("div",{className:"app-react-sidebar-KubernetesSidebar-KubectlShell-KubectlShell-module__header",children:[(0,R.jsxs)("div",{className:(0,M.Z)("app-react-sidebar-KubernetesSidebar-KubectlShell-KubectlShell-module__title","vertical-center"),children:[(0,R.jsx)(D.J,{icon:"terminal",feather:!0}),"kubectl shell"]}),(0,R.jsxs)("div",{className:(0,M.Z)("app-react-sidebar-KubernetesSidebar-KubectlShell-KubectlShell-module__actions","space-x-8"),children:[(0,R.jsx)(j.zx,{color:"link",onClick:function(){r.clear()},"data-cy":"k8sShell-refreshButton",children:(0,R.jsx)(D.J,{icon:"rotate-cw",feather:!0,size:"md"})}),(0,R.jsx)(j.zx,{color:"link",onClick:function(){i.minimized?(Uu(),s((function(e){return _u(_u({},e),{},{minimized:!1})}))):(Lu(),s((function(e){return _u(_u({},e),{},{minimized:!0})})))},"data-cy":i.minimized?"k8sShell-restore":"k8sShell-minimise",children:(0,R.jsx)(D.J,{icon:i.minimized?"maximize-2":"minimize-2",feather:!0,size:"md","data-cy":i.minimized?"k8sShell-restore":"k8sShell-minimise"})}),(0,R.jsx)(j.zx,{color:"link",onClick:d,"data-cy":"k8sShell-closeButton",children:(0,R.jsx)(D.J,{icon:"x",feather:!0,size:"md"})})]})]}),(0,R.jsx)("div",{className:"app-react-sidebar-KubernetesSidebar-KubectlShell-KubectlShell-module__terminal-container",ref:l,children:(0,R.jsx)("div",{className:"app-react-sidebar-KubernetesSidebar-KubectlShell-KubectlShell-module__loading-message",children:"Loading Terminal..."})})]})}function Gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zu(e){var t,n,r=e.environmentId,a=(t=(0,K.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Gu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gu(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],s=a[1],o=(0,Xn.z$)().trackEvent;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(j.zx,{color:"primary",size:"small",disabled:i,"data-cy":"k8sSidebar-shellButton",onClick:function(){return s(!0),void o("kubernetes-kubectl-shell",{category:"kubernetes"})},className:(0,M.Z)("app-react-sidebar-KubernetesSidebar-KubectlShell-KubectlShellButton-module__root","!flex"),children:[(0,R.jsx)(D.J,{icon:"terminal",feather:!0,className:"vertical-center",size:"md"})," ","kubectl shell"]}),i&&(0,Ou.createPortal)((0,R.jsx)(Hu,{environmentId:r,onClose:function(){return s(!1)}}),document.body)]})}function qu(e){var t=e.environmentId,n=wd().isOpen;return(0,R.jsxs)(R.Fragment,{children:[n&&(0,R.jsx)("div",{className:"mb-3",children:(0,R.jsx)(Zu,{environmentId:t})}),(0,R.jsx)(yu,{environmentId:t,platformPath:"kubernetes","data-cy":"k8sSidebar-dashboard"}),(0,R.jsx)(Qd,{to:"kubernetes.templates.custom",params:{endpointId:t},icon:Su.Z,label:"Custom Templates","data-cy":"k8sSidebar-customTemplates"}),(0,R.jsx)(Qd,{to:"kubernetes.resourcePools",params:{endpointId:t},icon:Id.Z,label:"Namespaces","data-cy":"k8sSidebar-namespaces"}),(0,R.jsx)(Cn.FY,{authorizations:"HelmInstallChart",environmentId:t,children:(0,R.jsx)(Qd,{to:"kubernetes.templates.helm",params:{endpointId:t},icon:ju.Z,label:"Helm","data-cy":"k8sSidebar-helm"})}),(0,R.jsx)(Qd,{to:"kubernetes.applications",params:{endpointId:t},icon:Ad.Z,label:"Applications","data-cy":"k8sSidebar-applications"}),(0,R.jsx)(Qd,{to:"kubernetes.ingresses",params:{endpointId:t},label:"Ingresses","data-cy":"k8sSidebar-ingresses",icon:Du.Z}),(0,R.jsx)(Qd,{to:"kubernetes.configurations",params:{endpointId:t},icon:Re.Z,label:"ConfigMaps & Secrets","data-cy":"k8sSidebar-configurations"}),(0,R.jsx)(Nu,{environmentId:t,platformPath:"kubernetes","data-cy":"k8sSidebar-volumes"}),(0,R.jsxs)(Qd,{label:"Cluster",to:"kubernetes.cluster",icon:Eu.Z,params:{endpointId:t},"data-cy":"k8sSidebar-cluster",children:[(0,R.jsx)(Cn.FY,{authorizations:"K8sClusterSetupRW",adminOnlyCE:!0,environmentId:t,children:(0,R.jsx)(Qd,{to:"kubernetes.cluster.setup",params:{endpointId:t},label:"Setup","data-cy":"k8sSidebar-setup"})}),(0,R.jsx)(Cn.FY,{authorizations:"K8sClusterSetupRW",adminOnlyCE:!0,environmentId:t,children:(0,R.jsx)(Qd,{to:"kubernetes.cluster.securityConstraint",params:{endpointId:t},label:"Security constraints","data-cy":"k8sSidebar-securityConstraints"})}),(0,R.jsx)(Qd,{to:"kubernetes.registries",params:{endpointId:t},label:"Registries","data-cy":"k8sSidebar-registries"})]})]})}function Wu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yu(){var e,t,n,r,a,i,s,o=(n=(0,ce.useCurrentStateAndParams)().params,r=(0,ce.useRouter)(),e=(0,cn._)("environmentId",void 0,sessionStorage),t=2,a=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=a[0],s=a[1],(0,K.useEffect)((function(){var e=parseInt(n.endpointId,10);n.endpointId&&!Number.isNaN(e)&&s(e)}),[n.endpointId,s]),{query:(0,ru.O)(i),clearEnvironment:function(){l().element(document).injector().invoke(["EndpointProvider",function(e){e.setCurrentEndpoint(void 0),n.endpointId||(document.title="Portainer")}]),n.endpointId&&r.stateService.go("portainer.home"),s(void 0)}}),c=o.clearEnvironment,d=o.query.data;return wd().isOpen||d?(0,R.jsx)("div",{className:(0,M.Z)("app-react-sidebar-EnvironmentSidebar-module__root","rounded border border-dotted py-2"),children:d?(0,R.jsx)(Ju,{environment:d,onClear:c}):(0,R.jsx)(Jd,{children:(0,R.jsxs)("div",{className:"flex items-center gap-1",children:[(0,R.jsx)("span",{children:"Environment:"}),(0,R.jsx)(nu.Z,{size:"1em",className:"text-xl text-gray-6"}),(0,R.jsx)("span",{className:"text-gray-6 text-sm",children:"None selected"})]})})}):null}function Ju(e){var t,n,r=e.environment,a=e.onClear,i=(t=(0,rn.vJ)(r.Type),(Qu(n={},pn.zh.Azure,wu),Qu(n,pn.zh.Docker,Tu),Qu(n,pn.zh.Kubernetes,qu),n)[t]);return(0,R.jsx)(Yd,{title:(0,R.jsx)(Xu,{environment:r,onClear:a}),"aria-label":r.Name,showTitleWhenOpen:!0,children:(0,R.jsx)("div",{className:"mt-2",children:(0,R.jsx)(i,{environmentId:r.Id,environment:r})})})}function Xu(e){var t,n,r=e.environment,a=e.onClear,i=wd().isOpen,s=(t=r.Type,n=(0,rn.vJ)(t),vu[n]);return i?(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)(s,{className:"text-2xl mr-3"}),(0,R.jsx)("span",{className:"text-white text-ellipsis overflow-hidden whitespace-nowrap",children:r.Name}),(0,R.jsx)("button",{title:"Clear environment",type:"button",onClick:a,className:(0,M.Z)("app-react-sidebar-EnvironmentSidebar-module__closeBtn","flex items-center justify-center transition-colors duration-200 rounded border-0 text-sm h-5 w-5 p-1 ml-auto mr-2 text-gray-5 be:text-gray-6 hover:text-white be:hover:text-white"),children:(0,R.jsx)(er.Z,{})})]}):(0,R.jsx)("div",{className:"w-8 flex justify-center -ml-3",title:r.Name,children:(0,R.jsx)(s,{className:"text-2xl"})})}var ep=n(96670),tp=n(44383),np=n(70685),rp=n(24090);function ap(e){var t=e.isAdmin,n=e.isTeamLeader,r=(0,T.Fy)({select:function(e){return e.TeamSync}}),a=gl(pl.EdgeRemoteUpdate),i=!window.ddExtension&&(t||n&&!r.data);return(0,R.jsxs)(Yd,{title:"Settings",children:[i&&(0,R.jsxs)(Qd,{to:"portainer.users",label:"Users",icon:Ze.Z,"data-cy":"portainerSidebar-users",children:[(0,R.jsx)(Qd,{to:"portainer.teams",label:"Teams","data-cy":"portainerSidebar-teams"}),t&&(0,R.jsx)(Qd,{to:"portainer.roles",label:"Roles","data-cy":"portainerSidebar-roles"})]}),t&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(Qd,{label:"Environments",to:"portainer.endpoints",icon:ep.Z,openOnPaths:["portainer.wizard.endpoints"],"data-cy":"portainerSidebar-environments",children:[(0,R.jsx)(Qd,{to:"portainer.groups",label:"Groups","data-cy":"portainerSidebar-environmentGroups"}),(0,R.jsx)(Qd,{to:"portainer.tags",label:"Tags","data-cy":"portainerSidebar-environmentTags"}),a.data&&(0,R.jsx)(Qd,{to:"portainer.endpoints.updateSchedules",label:"Update & Rollback","data-cy":"portainerSidebar-updateSchedules"})]}),(0,R.jsx)(Qd,{label:"Registries",to:"portainer.registries",icon:tp.Z,"data-cy":"portainerSidebar-registries"}),!1,(0,R.jsx)(Qd,{label:"Authentication logs",to:"portainer.authLogs",icon:np.Z,"data-cy":"portainerSidebar-authLogs",children:(0,R.jsx)(Qd,{to:"portainer.activityLogs",label:"Activity Logs","data-cy":"portainerSidebar-activityLogs"})})]}),(0,R.jsx)(Qd,{to:"portainer.notifications",icon:rp.Z,label:"Notifications","data-cy":"portainerSidebar-notifications"}),t&&(0,R.jsxs)(Qd,{to:"portainer.settings",label:"Settings",icon:Yl.Z,"data-cy":"portainerSidebar-settings",children:[!window.ddExtension&&(0,R.jsx)(Qd,{to:"portainer.settings.authentication",label:"Authentication","data-cy":"portainerSidebar-authentication"}),!1,(0,R.jsx)(Qd,{to:"portainer.settings.edgeCompute",label:"Edge Compute","data-cy":"portainerSidebar-edgeCompute"}),(0,R.jsx)(Qd.Wrapper,{label:"Help / About",children:(0,R.jsx)("a",{href:"https://www.portainer.io/community_help",target:"_blank",rel:"noreferrer",className:"px-3 rounded flex h-8 items-center",children:"Help / About"})})]})]})}function ip(){var e=Qr(),t=(0,ie.useQuery)(["status","version"],(function(){return(0,aa.UE)()}));if(!t.data||!t.data.UpdateAvailable)return null;var n=t.data.LatestVersion;return e.dismissedUpdateVersion&&(null==n?void 0:n.length)>0&&e.dismissedUpdateVersion===n?null:(0,R.jsxs)("div",{className:(0,M.Z)("app-react-sidebar-Footer-UpdateNotifications-module__root","rounded border py-2","bg-blue-11 th-dark:bg-gray-warm-11","border-blue-9 th-dark:border-gray-warm-9"),children:[(0,R.jsxs)("div",{className:(0,M.Z)("app-react-sidebar-Footer-UpdateNotifications-module__dismissTitle","vertical-center"),children:[(0,R.jsx)(D.J,{icon:"download-cloud",mode:"primary",feather:!0,size:"md"}),(0,R.jsxs)("span",{className:"space-left",children:["New version available ",n]})]}),(0,R.jsxs)("div",{className:(0,M.Z)("app-react-sidebar-Footer-UpdateNotifications-module__actions"),children:[(0,R.jsx)("button",{type:"button",className:(0,M.Z)("app-react-sidebar-Footer-UpdateNotifications-module__dismissBtn","space-right"),onClick:function(){return t=n,void e.dismissUpdateVersion(t);var t},children:"Dismiss"}),(0,R.jsx)("a",{className:"hyperlink space-left",target:"_blank",href:"https://github.com/portainer/portainer/releases/tag/".concat(n),rel:"noreferrer",children:"See what's new"})]})]})}var sp,op,lp=n(3180),cp=n(80291),dp="app-react-sidebar-Footer-Footer-module__root";function up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pp(){var e,t,n=(e=(0,K.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?up(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1],i=(0,aa.$z)();if(!i.data)return null;var s=i.data.Version;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("button",{type:"button","data-cy":"portainerSidebar-versionNumber",className:"btn-none",onClick:function(){return a(!0)},children:s}),r&&(0,R.jsx)(mp,{closeModal:function(){return a(!1)}})]})}function mp(e){var t=e.closeModal,n=(0,aa.TV)(),r=(0,aa.$z)();if(!r.data||!n.data)return null;var a=r.data.Edition,i=n.data,s=i.ServerVersion,o=i.DatabaseVersion,l=i.Build;return(0,R.jsx)(tr.t9,{className:"app-react-sidebar-Footer-Footer-module__dialog",isOpen:!0,children:(0,R.jsx)("div",{className:"modal-dialog",children:(0,R.jsxs)("div",{className:"modal-content",children:[(0,R.jsxs)("div",{className:"modal-header",children:[(0,R.jsx)("button",{type:"button",className:"close",onClick:t,children:""}),(0,R.jsxs)("h5",{className:"modal-title",children:["Portainer ",a]})]}),(0,R.jsxs)("div",{className:"modal-body",children:[(0,R.jsx)("div",{className:"app-react-sidebar-Footer-Footer-module__versionInfo",children:(0,R.jsx)("table",{children:(0,R.jsxs)("tbody",{children:[(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,R.jsxs)("span",{className:"inline-flex items-center",children:[(0,R.jsx)(Eu.Z,{size:"13",className:"space-right"}),"Server Version: ",s]})}),(0,R.jsx)("td",{children:(0,R.jsxs)("span",{className:"inline-flex items-center",children:[(0,R.jsx)($u.Z,{size:"13",className:"space-right"}),"Database Version: ",o]})})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,R.jsxs)("span",{className:"inline-flex items-center",children:[(0,R.jsx)(lp.Z,{size:"13",className:"space-right"}),"CI Build Number: ",l.BuildNumber]})}),(0,R.jsx)("td",{children:(0,R.jsxs)("span",{children:[(0,R.jsx)(jn.Z,{size:"13",className:"space-right"}),"Image Tag: ",l.ImageTag]})})]})]})})}),(0,R.jsxs)("div",{className:"app-react-sidebar-Footer-Footer-module__toolsList",children:[(0,R.jsxs)("span",{className:"inline-flex items-center",children:[(0,R.jsx)(cp.Z,{size:"13",className:"space-right"}),"Compilation tools:"]}),(0,R.jsxs)("div",{className:"app-react-sidebar-Footer-Footer-module__tools",children:[(0,R.jsxs)("span",{className:"text-muted small",children:["Nodejs v",l.NodejsVersion]}),(0,R.jsxs)("span",{className:"text-muted small",children:["Yarn v",l.YarnVersion]}),(0,R.jsxs)("span",{className:"text-muted small",children:["Webpack v",l.WebpackVersion]}),(0,R.jsxs)("span",{className:"text-muted small",children:["Go v",l.GoVersion]})]})]})]}),(0,R.jsx)("div",{className:"modal-footer",children:(0,R.jsx)(j.zx,{className:"bootbox-accept",onClick:t,children:"Ok"})})]})})})}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gp.apply(this,arguments)}var hp=function(e){return K.createElement("svg",gp({width:"1em",height:"1em",viewBox:"0 0 190 47",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),sp||(sp=K.createElement("g",{clipPath:"url(#portainer_logo_svg__a)"},K.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.893 10.604h-.698v3.658h.698v-3.658ZM13.895 10.604h-.698v3.658h.698v-3.658ZM17.997 3.623 17.28 2.37 5.342 9.349l.716 1.255 11.939-6.98Z",fill:"#13BEF9"}),K.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m17.927 3.623.715-1.254 11.94 6.98-.716 1.255-11.94-6.98Z",fill:"#13BEF9"}),K.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.693 10.622v-1.45H-.017v1.45h32.71Z",fill:"#13BEF9"}),K.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.742 31.087V9.614h1.431V32.13c-.384-.442-.872-.76-1.43-1.043ZM17.299 30.716V.425h1.43v30.468c-.4-.195-1.378-.177-1.43-.177ZM3.737 33.738a7.19 7.19 0 0 1-2.898-5.761c0-1.255.332-2.492.943-3.57H14a7.085 7.085 0 0 1 .942 3.57c0 1.095-.14 2.12-.576 3.04-.925-.902-2.286-1.29-3.665-1.29-2.444 0-4.538 1.537-5.08 3.834-.191-.017-.313-.035-.505-.035a6.054 6.054 0 0 0-1.38.212ZM9.74 15.888h-3.7v3.765h3.7v-3.765ZM5.57 15.888H1.868v3.765h3.7v-3.765ZM5.57 20.077H1.868v3.764h3.7v-3.764ZM9.74 20.077h-3.7v3.764h3.7v-3.764ZM13.895 20.077h-3.7v3.764h3.7v-3.764ZM13.895 13.873h-3.7v3.765h3.7v-3.765Z",fill:"#13BEF9"}),K.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.232 34.303c.507-2.173 2.444-3.8 4.748-3.8 1.484 0 2.81.672 3.718 1.733a4.785 4.785 0 0 1 2.758-.866c2.688 0 4.87 2.209 4.87 4.93 0 .566-.088 1.096-.262 1.609.593.813.96 1.838.96 2.933 0 2.722-2.182 4.931-4.87 4.931a4.795 4.795 0 0 1-3.107-1.131c-.89 1.255-2.339 2.085-3.98 2.085-1.885 0-3.525-1.095-4.346-2.686-.331.07-.663.106-1.012.106-2.688 0-4.887-2.209-4.887-4.93 0-2.722 2.182-4.931 4.887-4.931.175-.018.349-.018.524.017Z",fill:"#13BEF9"}),K.createElement("path",{d:"M43.964 17.884c.503-.659 1.187-1.213 2.054-1.664.867-.45 1.846-.676 2.938-.676 1.248 0 2.383.312 3.406.936 1.04.607 1.855 1.465 2.444 2.574.59 1.11.884 2.383.884 3.822s-.295 2.73-.884 3.874c-.59 1.127-1.404 2.01-2.444 2.652-1.023.624-2.158.936-3.406.936-1.092 0-2.063-.217-2.912-.65-.85-.45-1.543-1.005-2.08-1.664v8.892H41V15.778h2.964v2.106Zm8.71 4.992c0-.988-.208-1.837-.624-2.548-.399-.728-.936-1.274-1.612-1.638a4.184 4.184 0 0 0-2.132-.572c-.745 0-1.456.19-2.132.572-.659.381-1.196.936-1.612 1.664-.399.728-.598 1.586-.598 2.574 0 .988.2 1.855.598 2.6.416.728.953 1.283 1.612 1.664a4.277 4.277 0 0 0 2.132.572c.763 0 1.473-.19 2.132-.572.676-.399 1.213-.97 1.612-1.716.416-.745.624-1.612.624-2.6ZM64.835 30.338c-1.352 0-2.574-.303-3.666-.91a6.746 6.746 0 0 1-2.574-2.6c-.624-1.127-.936-2.427-.936-3.9 0-1.456.32-2.747.962-3.874a6.645 6.645 0 0 1 2.626-2.6c1.11-.607 2.349-.91 3.718-.91 1.37 0 2.609.303 3.718.91a6.645 6.645 0 0 1 2.626 2.6c.641 1.127.962 2.418.962 3.874s-.33 2.747-.988 3.874a6.909 6.909 0 0 1-2.704 2.626c-1.127.607-2.375.91-3.744.91Zm0-2.574c.763 0 1.473-.182 2.132-.546.676-.364 1.222-.91 1.638-1.638.416-.728.624-1.612.624-2.652s-.2-1.915-.598-2.626c-.399-.728-.927-1.274-1.586-1.638a4.337 4.337 0 0 0-2.132-.546c-.763 0-1.473.182-2.132.546-.641.364-1.153.91-1.534 1.638-.381.71-.572 1.586-.572 2.626 0 1.543.39 2.739 1.17 3.588.797.832 1.794 1.248 2.99 1.248ZM78.165 17.858a4.584 4.584 0 0 1 1.716-1.69c.728-.416 1.586-.624 2.574-.624v3.068h-.754c-1.161 0-2.045.295-2.652.884-.59.59-.884 1.612-.884 3.068v7.54h-2.964V15.778h2.964v2.08ZM88.638 18.196v7.93c0 .537.121.927.364 1.17.26.225.693.338 1.3.338h1.82v2.47h-2.34c-1.335 0-2.358-.312-3.068-.936-.711-.624-1.066-1.638-1.066-3.042v-7.93h-1.69v-2.418h1.69v-3.562h2.99v3.562h3.484v2.418h-3.484ZM93.865 22.876c0-1.439.295-2.713.885-3.822.606-1.11 1.421-1.967 2.444-2.574a6.546 6.546 0 0 1 3.432-.936c1.126 0 2.106.225 2.938.676.849.433 1.525.98 2.028 1.638v-2.08h2.99v14.326h-2.99v-2.132c-.503.676-1.188 1.24-2.054 1.69-.867.45-1.855.676-2.964.676a6.362 6.362 0 0 1-3.38-.936c-1.023-.641-1.838-1.525-2.444-2.652-.59-1.144-.885-2.435-.885-3.874Zm11.727.052c0-.988-.208-1.846-.624-2.574-.399-.728-.928-1.283-1.586-1.664a4.186 4.186 0 0 0-2.132-.572c-.763 0-1.474.19-2.132.572-.659.364-1.196.91-1.612 1.638-.399.71-.598 1.56-.598 2.548s.199 1.855.598 2.6c.416.745.953 1.317 1.612 1.716a4.275 4.275 0 0 0 2.132.572c.762 0 1.473-.19 2.132-.572.658-.381 1.187-.936 1.586-1.664.416-.745.624-1.612.624-2.6ZM113.983 13.88c-.538 0-.988-.182-1.352-.546-.364-.364-.546-.815-.546-1.352 0-.537.182-.988.546-1.352.364-.364.814-.546 1.352-.546.52 0 .962.182 1.326.546.364.364.546.815.546 1.352 0 .537-.182.988-.546 1.352a1.805 1.805 0 0 1-1.326.546Zm1.456 1.898v14.326h-2.964V15.778h2.964ZM126.558 15.544c1.127 0 2.132.234 3.016.702a4.977 4.977 0 0 1 2.106 2.08c.503.919.754 2.028.754 3.328v8.45h-2.938v-8.008c0-1.283-.321-2.262-.962-2.938-.641-.693-1.517-1.04-2.626-1.04s-1.993.347-2.652 1.04c-.641.676-.962 1.655-.962 2.938v8.008h-2.964V15.778h2.964v1.638a4.928 4.928 0 0 1 1.846-1.378 6.038 6.038 0 0 1 2.418-.494ZM149.345 22.59c0 .537-.035 1.023-.104 1.456h-10.946c.087 1.144.511 2.063 1.274 2.756.763.693 1.699 1.04 2.808 1.04 1.595 0 2.721-.667 3.38-2.002h3.198c-.433 1.317-1.222 2.4-2.366 3.25-1.127.832-2.531 1.248-4.212 1.248-1.369 0-2.6-.303-3.692-.91a6.799 6.799 0 0 1-2.548-2.6c-.607-1.127-.91-2.427-.91-3.9 0-1.473.295-2.765.884-3.874.607-1.127 1.447-1.993 2.522-2.6 1.092-.607 2.34-.91 3.744-.91 1.352 0 2.557.295 3.614.884a6.224 6.224 0 0 1 2.47 2.496c.589 1.057.884 2.28.884 3.666Zm-3.094-.936c-.017-1.092-.407-1.967-1.17-2.626-.763-.659-1.707-.988-2.834-.988-1.023 0-1.898.33-2.626.988-.728.641-1.161 1.517-1.3 2.626h7.93ZM155.226 17.858a4.58 4.58 0 0 1 1.716-1.69c.728-.416 1.586-.624 2.574-.624v3.068h-.754c-1.162 0-2.046.295-2.652.884-.59.59-.884 1.612-.884 3.068v7.54h-2.964V15.778h2.964v2.08ZM163.436 30.286c-.537 0-.988-.182-1.352-.546-.364-.364-.546-.815-.546-1.352 0-.537.182-.988.546-1.352.364-.364.815-.546 1.352-.546.52 0 .962.182 1.326.546.364.364.546.815.546 1.352 0 .537-.182.988-.546 1.352a1.805 1.805 0 0 1-1.326.546ZM170.02 13.88c-.538 0-.988-.182-1.352-.546-.364-.364-.546-.815-.546-1.352 0-.537.182-.988.546-1.352.364-.364.814-.546 1.352-.546.52 0 .962.182 1.326.546.364.364.546.815.546 1.352 0 .537-.182.988-.546 1.352a1.805 1.805 0 0 1-1.326.546Zm1.456 1.898v14.326h-2.964V15.778h2.964ZM181.581 30.338c-1.352 0-2.574-.303-3.666-.91a6.746 6.746 0 0 1-2.574-2.6c-.624-1.127-.936-2.427-.936-3.9 0-1.456.321-2.747.962-3.874a6.651 6.651 0 0 1 2.626-2.6c1.11-.607 2.349-.91 3.718-.91 1.37 0 2.609.303 3.718.91a6.638 6.638 0 0 1 2.626 2.6c.642 1.127.962 2.418.962 3.874s-.329 2.747-.988 3.874a6.904 6.904 0 0 1-2.704 2.626c-1.126.607-2.374.91-3.744.91Zm0-2.574c.763 0 1.474-.182 2.132-.546.676-.364 1.222-.91 1.638-1.638.416-.728.624-1.612.624-2.652s-.199-1.915-.598-2.626c-.398-.728-.927-1.274-1.586-1.638a4.335 4.335 0 0 0-2.132-.546 4.34 4.34 0 0 0-2.132.546c-.641.364-1.152.91-1.534 1.638-.381.71-.572 1.586-.572 2.626 0 1.543.39 2.739 1.17 3.588.798.832 1.794 1.248 2.99 1.248Z",fill:"#fff"}))),op||(op=K.createElement("defs",null,K.createElement("clipPath",{id:"portainer_logo_svg__a"},K.createElement("path",{fill:"#fff",d:"M0 0h190v47H0z"})))))};function fp(){return p.aW?(0,R.jsx)(bp,{}):(0,R.jsx)(vp,{})}function vp(){return(0,R.jsxs)("div",{className:(0,M.Z)(dp,"text-center"),children:[(0,R.jsx)(ip,{}),(0,R.jsxs)(yp,{children:[(0,R.jsx)(hp,{width:"90px",height:""}),(0,R.jsx)("span",{children:"Community Edition"}),(0,R.jsx)(pp,{}),(0,R.jsx)("a",{href:"https://www.portainer.io/install-BE-now",className:"text-blue-6 font-medium",target:"_blank",rel:"noreferrer",children:"Upgrade"})]})]})}function bp(){return(0,R.jsx)("div",{className:(0,M.Z)(dp,"text-center"),children:(0,R.jsxs)(yp,{children:[(0,R.jsx)("span",{children:""}),(0,R.jsx)("span",{children:"Portainer Business Edition"}),(0,R.jsx)(pp,{})]})})}function yp(e){var t=e.children;return(0,R.jsx)("div",{className:"text-[10px] space-x-1 text-gray-5 be:text-gray-6 flex items-center mx-auto justify-center",children:t})}var wp=n(26083),xp=n(77543),Sp=n(61311),Cp=n(20739),kp=n(66606);function Ap(e){var t=e.logo,n=wd(),r=n.toggle,a=n.isOpen;return(0,R.jsxs)("div",{className:"flex",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)(ue.r,{to:"portainer.home","data-cy":"portainerSidebar-homeImage",className:"text-2xl text-white no-underline hover:no-underline hover:text-white focus:no-underline focus:text-white focus:outline-none",children:(0,R.jsx)(Pp,{customLogo:t,isOpen:a})}),a&&t&&(0,R.jsxs)("div",{className:(0,M.Z)("uppercase text-[9.4px] space-x-1 tracking-[.28em] pt-3","text-gray-3","th-dark:text-gray-warm-6"),children:[(0,R.jsx)("span",{className:"font-medium",children:"Powered by"}),(0,R.jsx)("span",{className:"font-semibold",children:p.aW?"portainer business":(0,R.jsx)("a",{href:"https://www.portainer.io/install-BE-now",className:(0,M.Z)("hover:underline","text-blue-6 hover:text-blue-8","th-dark:text-blue-7 th-dark:hover:text-blue-9"),children:"portainer community"})})]})]}),(0,R.jsx)("button",{type:"button",onClick:function(){return r()},className:(0,M.Z)("app-react-sidebar-Header-module__collapseBtn","w-6 h-6 flex justify-center items-center border-0 rounded","transition-all duration-200","text-sm text-gray-4 be:text-gray-5 hover:text-white be:hover:text-white","bg-blue-11 be:bg-gray-10","th-dark:bg-gray-warm-11","absolute",{"-right-[10px]":!a,"right-6":a}),"aria-label":"Toggle Sidebar",title:"Toggle Sidebar",children:a?(0,R.jsx)(wp.Z,{}):(0,R.jsx)(xp.Z,{})})]})}function Pp(e){var t=e.customLogo,n=function(e,t){return t||(e?p.aW?Cp:kp:Sp)}(e.isOpen,t);return(0,R.jsx)("img",{src:n,className:(0,M.Z)("img-responsive","app-react-sidebar-Header-module__logo"),alt:"Logo"})}var Ip=l().module("portainer.app.sidebar",[]).component("sidebar",(0,N.A)((0,_.Q)((0,F.H)((0,V.s)((function(){var e=(0,Cn.aF)(),t=e.isAdmin,n=e.user,r=(0,uo.fl)(n),a=(0,T.Fy)();if(!a.data)return null;var i=a.data,s=i.EnableEdgeComputeFeatures,o=i.LogoURL;return(0,R.jsx)(xd,{children:(0,R.jsxs)("nav",{className:(0,M.Z)("app-react-sidebar-Sidebar-module__root","p-5 flex flex-col"),"aria-label":"Main",children:[(0,R.jsx)(Ap,{logo:o}),(0,R.jsx)("div",{className:"mt-6 overflow-y-auto flex-1 -mr-4 pr-4",children:(0,R.jsxs)("ul",{className:"space-y-9",children:[(0,R.jsx)(Qd,{to:"portainer.home",icon:kd.Z,label:"Home","data-cy":"portainerSidebar-home"}),(0,R.jsx)(Yu,{}),t&&s&&(0,R.jsx)(Xd,{}),(0,R.jsx)(ap,{isAdmin:t,isTeamLeader:r})]})}),(0,R.jsx)("div",{className:"mt-auto pt-8",children:(0,R.jsx)(fp,{})})]})})})))),[])).factory("SidebarService",Sd).name,$p=n(19376),Np=l().module("portainer.environments",[]).component("azureEndpointConfig",$p.azureEndpointConfig).name;const Tp=n(27452),Ep=n(6167),jp=n(94818),Dp=n(32072),Op=n(62833),Rp=n(11813),Mp=n(54658),Lp=n(9391),Up=n(55150),Vp=n(48508),Fp=n(83178),_p=n(86573),Kp=n(45564),Bp=n(68970),zp=n(12811),Hp=n(61233),Gp=n(57642),Zp=n(3799),qp=n(98864);function Wp(e){if(!e)return!0;const t=e&&e.to(),n=t?t.name:"";return!["portainer.logout","portainer.auth"].some((e=>n.startsWith(e)))}angular.module("portainer.app",["portainer.oauth","portainer.rbac",i.default,s.default,h,f.default,"portainer.shared.datatable",$,fd,Ip,Np]).config(["$stateRegistryProvider",function(e){var t={name:"root",abstract:!0,onEnter:["$async","StateManager","Authentication","Notifications","authManager","$rootScope","$state",function(e,t,n,r,i,s,o){return e((async()=>{if(t.getState().loading)try{const e=await async function(e,t,n,r){return e.checkAuthOnRefresh(),n.$on("unauthenticated",(function(e,t){a()(t.config.url,"/v2/")||a()(t.config.url,"/api/v4/")||!Wp(r.transition)||(r.go("portainer.logout",{error:"Your session has expired"}),window.location.reload())})),await t.init()}(i,n,s,o);if(await t.initialize(),!e&&Wp(o.transition))return o.go("portainer.logout"),Promise.reject("Unauthenticated")}catch(e){throw r.error("Failure",e,"Unable to retrieve application settings"),e}}))}],views:{"sidebar@":{component:"sidebar"}}},n={name:"portainer.account",url:"/account",views:{"content@":{templateUrl:Tp,controller:"AccountController"}}},r={name:"portainer.auth",url:"/auth",params:{reload:!1},views:{"content@":{templateUrl:Ep,controller:"AuthenticationController",controllerAs:"ctrl"},"sidebar@":{}}};const i={name:"portainer.logout",url:"/logout",params:{error:"",performApiLogout:!1},views:{"content@":{templateUrl:jp,controller:"LogoutController",controllerAs:"ctrl"},"sidebar@":{}}};var s={name:"portainer.endpoints.endpoint",url:"/:id",views:{"content@":{templateUrl:Dp,controller:"EndpointController"}}},o={name:"portainer.endpoints.importDevice",url:"/device",views:{"content@":{templateUrl:Op,controller:"ImportDeviceController"}}},l={name:"portainer.endpoints.endpoint.access",url:"/access",views:{"content@":{templateUrl:Rp,controller:"EndpointAccessController",controllerAs:"ctrl"}}},c={name:"portainer.endpoints.endpoint.kvm",url:"/kvm?deviceId&deviceName",views:{"content@":{templateUrl:Mp,controller:"EndpointKVMController"}}},d={name:"portainer.groups",url:"/groups",views:{"content@":{templateUrl:Lp,controller:"GroupsController"}}},u={name:"portainer.groups.group",url:"/:id",views:{"content@":{templateUrl:Up,controller:"GroupController"}}},p={name:"portainer.groups.new",url:"/new",views:{"content@":{templateUrl:Vp,controller:"CreateGroupController"}}},m={name:"portainer.groups.group.access",url:"/access",views:{"content@":{templateUrl:Fp,controller:"GroupAccessController"}}},g={name:"portainer.init.endpoint",url:"/endpoint",views:{"content@":{templateUrl:_p,controller:"InitEndpointController",controllerAs:"ctrl"}}},h={name:"portainer.init.admin",url:"/admin",views:{"content@":{templateUrl:Kp,controller:"InitAdminController"}}},f={name:"portainer.registries",url:"/registries",views:{"content@":{templateUrl:Bp,controller:"RegistriesController"}}},v={name:"portainer.settings",url:"/settings",views:{"content@":{templateUrl:zp,controller:"SettingsController"}}},b={name:"portainer.settings.authentication",url:"/auth",views:{"content@":{templateUrl:Hp,controller:"SettingsAuthenticationController"}}},y={name:"portainer.tags",url:"/tags",views:{"content@":{templateUrl:Gp,controller:"TagsController"}}},w={name:"portainer.users",url:"/users",views:{"content@":{templateUrl:Zp,controller:"UsersController"}}},x={name:"portainer.users.user",url:"/:id",views:{"content@":{templateUrl:qp,controller:"UserController"}}};e.register(t),e.register({name:"endpoint",url:"/:endpointId",parent:"root",abstract:!0,resolve:{endpoint:["$async","$state","$transition$","EndpointProvider","EndpointService","Notifications",function(e,t,n,r,a,i){return e((async()=>{try{const e=+n.params().endpointId,i=await a.endpoint(e);return 4!==i.Type&&7!==i.Type||i.EdgeID?(r.setCurrentEndpoint(i),i):void t.go("portainer.endpoints.endpoint",{id:i.Id})}catch(e){return i.error("Failed loading environment",e),void t.go("portainer.home",{},{reload:!0})}}))}]}}),e.register({name:"portainer",parent:"root",abstract:!0}),e.register(n),e.register({name:"portainer.account.new-access-token",url:"/tokens/new",views:{"content@":{component:"createUserAccessToken"}}}),e.register(r),e.register(i),e.register({name:"portainer.endpoints",url:"/endpoints",views:{"content@":{component:"endpointsView"}}}),e.register(s),e.register(l),e.register(c),e.register(o),e.register({name:"portainer.endpoints.profile",url:"/profile",views:{"content@":{component:"addProfileView"}}}),e.register({name:"portainer.endpoints.profile.edit",url:"/:id",views:{"content@":{component:"editProfileView"}}}),e.register(d),e.register(u),e.register(m),e.register(p),e.register({name:"portainer.home",url:"/home",views:{"content@":{component:"homeView"}}}),e.register({name:"portainer.init",abstract:!0,url:"/init",views:{"sidebar@":{}}}),e.register(g),e.register(h),e.register(f),e.register({name:"portainer.registries.registry",url:"/:id",views:{"content@":{component:"editRegistry"}}}),e.register({name:"portainer.registries.new",url:"/new",views:{"content@":{component:"createRegistry"}}}),e.register(v),e.register(b),e.register({name:"portainer.settings.edgeCompute",url:"/edge",views:{"content@":{component:"settingsEdgeComputeView"}}}),e.register(y),e.register(w),e.register(x)}])},87005:function(e,t,n){"use strict";n.r(t),n.d(t,{InformationPanelAngular:function(){return r}});const r={templateUrl:n(88659),bindings:{titleText:"@",dismissAction:"&?"},transclude:!0}},21366:function(e,t,n){const r=n(54296);angular.module("portainer.app").component("accessDatatable",{templateUrl:r,controller:"AccessDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",roles:"<",tableKey:"@",orderBy:"@",removeAction:"<",updateAction:"<",reverseOrder:"<",inheritFrom:"<"}})},92681:function(){angular.module("portainer.app").controller("AccessDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.disableRemove=function(e){return e.Inherited&&this.inheritFrom},this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},56609:function(e,t,n){const r=n(9420);angular.module("portainer.app").component("accessTable",{templateUrl:r,controller:function(){this.state={orderBy:"Name",reverseOrder:!1,paginatedItemLimit:"10",textFilter:""},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e}},bindings:{dataset:"<",entryClick:"<",emptyDatasetMessage:"@"}})},3735:function(e,t,n){const r=n(62495);angular.module("portainer.app").component("porAccessControlForm",{templateUrl:r,controller:"porAccessControlFormController",bindings:{formData:"=",resourceControl:"<",hideTitle:"<"}})},86656:function(e,t,n){"use strict";n.r(t);var r=n(16222),a=n.n(r),i=n(83471);angular.module("portainer.app").controller("porAccessControlFormController",["$q","$scope","$state","UserService","TeamService","Notifications","Authentication","ResourceControlService",function(e,t,n,r,s,o,l,c){var d=this;function u(e){t.$evalAsync((()=>{d.formData={...d.formData,...e}}))}d.RCO=i.X,this.onAuthorizedTeamsChange=function(e){u({AuthorizedTeams:e})}.bind(this),this.onAuthorizedUsersChange=function(e){u({AuthorizedUsers:e})}.bind(this),d.availableTeams=[],d.availableUsers=[],this.$onInit=function(){var u=l.isAdmin();d.isAdmin=u,u&&(d.formData.Ownership=d.RCO.ADMINISTRATORS);const p=n.params.endpointId;e.all({availableTeams:s.teams(p),availableUsers:u?r.users(!1,p):[]}).then((function(t){return d.availableUsers=a()(t.availableUsers,"Username","asc"),d.availableTeams=a()(t.availableTeams,"Name","asc"),u||1!==d.availableTeams.length||(d.formData.AuthorizedTeams=d.availableTeams),e.when(d.resourceControl&&c.retrieveOwnershipDetails(d.resourceControl))})).then((function(e){if(e){const t=u||1!==d.availableTeams.length?e.authorizedTeams:d.availableTeams,n=u||1!==t.length?e.authorizedUsers:[];!function(e,t){t&&e.Ownership===i.X.PRIVATE?d.formData.Ownership=i.X.RESTRICTED:d.formData.Ownership=e.Ownership,d.formData.Ownership===i.X.PUBLIC&&(d.formData.AccessControlEnabled=!1)}(d.resourceControl,u),function(e,t){d.formData.AuthorizedTeams=t,d.formData.AuthorizedUsers=e}(n,t)}})).catch((function(e){o.error("Failure",e,"Unable to retrieve access control information")})),this.onChangeEnablement=function(e){t.$evalAsync((()=>{d.formData.AccessControlEnabled=e}))}}}])},19898:function(e,t,n){"use strict";n.r(t),n.d(t,{AccessControlFormData:function(){return a}});var r=n(83471);function a(){this.AccessControlEnabled=!0,this.Ownership=r.X.PRIVATE,this.AuthorizedUsers=[],this.AuthorizedTeams=[]}},39372:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(26001);t.default=a().module("portainer.app.component.access-management",[]).component("porAccessManagement",i.porAccessManagement).name},26001:function(e,t,n){"use strict";n.r(t),n.d(t,{porAccessManagement:function(){return r}});const r={templateUrl:n(63185),controller:"porAccessManagementController",controllerAs:"ctrl",bindings:{accessControlledEntity:"<",inheritFrom:"<",entityType:"@",updateAccess:"<",actionInProgress:"<",filterUsers:"<",limitedFeature:"<"}}},22421:function(e,t,n){"use strict";n.r(t);var r=n(16222),a=n.n(r),i=n(41952),s=n.n(i),o=n(83432),l=n.n(o),c=n(29274),d=n.n(c),u=n(61969),p=n(20037);class m{constructor(e,t,n,r){Object.assign(this,{$scope:e,Notifications:t,AccessService:n,RoleService:r}),this.limitedToBE=!1,this.unauthorizeAccess=this.unauthorizeAccess.bind(this),this.updateAction=this.updateAction.bind(this),this.onChangeUsersAndTeams=this.onChangeUsersAndTeams.bind(this)}onChangeUsersAndTeams(e){this.$scope.$evalAsync((()=>{this.formValues.multiselectOutput=e}))}updateAction(){const e=this.accessControlledEntity,t=e.UserAccessPolicies,n=e.TeamAccessPolicies,r=l()(this.authorizedUsersAndTeams,{Updated:!0,Type:"user",Inherited:!1}),a=l()(this.authorizedUsersAndTeams,{Updated:!0,Type:"team",Inherited:!1}),i=this.AccessService.generateAccessPolicies(t,n,r,a);this.accessControlledEntity.UserAccessPolicies=i.userAccessPolicies,this.accessControlledEntity.TeamAccessPolicies=i.teamAccessPolicies,this.updateAccess()}authorizeAccess(){const e=this.accessControlledEntity,t=e.UserAccessPolicies,n=e.TeamAccessPolicies,r=this.formValues.selectedRole.Id,a=l()(this.formValues.multiselectOutput,(e=>"user"===e.Type)),i=l()(this.formValues.multiselectOutput,(e=>"team"===e.Type)),s=this.AccessService.generateAccessPolicies(t,n,a,i,r);this.accessControlledEntity.UserAccessPolicies=s.userAccessPolicies,this.accessControlledEntity.TeamAccessPolicies=s.teamAccessPolicies,this.updateAccess()}unauthorizeAccess(e){const t=this.accessControlledEntity,n=t.UserAccessPolicies,r=t.TeamAccessPolicies,a=l()(e,(e=>"user"===e.Type)),i=l()(e,(e=>"team"===e.Type));s()(a,(e=>delete n[e.Id])),s()(i,(e=>delete r[e.Id])),this.updateAccess()}isRoleLimitedToBE(e){return!!this.limitedToBE&&e.ID!==u.RoleTypes.STANDARD}roleLabel(e){return this.limitedToBE?this.isRoleLimitedToBE(e)?`${e.Name} (Business Edition Feature)`:`${e.Name} (Default)`:e.Name}async $onInit(){try{this.limitedFeature&&(this.limitedToBE=(0,p.vx)(this.limitedFeature));const e=this.accessControlledEntity,t=this.inheritFrom,n=await this.RoleService.roles();this.roles=a()(n,"Priority","asc"),this.formValues={selectedRole:this.roles.find((e=>!this.isRoleLimitedToBE(e)))};const r=await this.AccessService.accesses(e,t,this.roles);this.filterUsers&&(r.availableUsersAndTeams=this.filterUsers(r.availableUsersAndTeams)),this.availableUsersAndTeams=a()(r.availableUsersAndTeams,"Name","asc"),this.authorizedUsersAndTeams=r.authorizedUsersAndTeams}catch(e){this.availableUsersAndTeams=[],this.authorizedUsersAndTeams=[],this.Notifications.error("Failure",e,"Unable to retrieve accesses")}}}m.$inject=["$scope","Notifications","AccessService","RoleService"],t.default=m,d().module("portainer.app").controller("porAccessManagementController",m)},439:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(98293);const s=n(3401);a().module("portainer.app").component("associatedEndpointsSelector",{templateUrl:s,controller:i.default,bindings:{endpointIds:"<",tags:"<",groups:"<",hasBackendPagination:"<",onAssociate:"<",onDissociate:"<"}})},98293:function(e,t,n){"use strict";n.r(t);var r=n(44716),a=n.n(r),i=n(83432),s=n.n(i),o=n(29274),l=n.n(o),c=n(23945),d=n(31848);class u{constructor(e){this.$async=e,this.state={available:{limit:"10",filter:"",pageNumber:1,totalCount:0},associated:{limit:"10",filter:"",pageNumber:1,totalCount:0}},this.endpoints={associated:[],available:null},this.getAvailableEndpoints=this.getAvailableEndpoints.bind(this),this.getAssociatedEndpoints=this.getAssociatedEndpoints.bind(this),this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this),this.loadData=this.loadData.bind(this)}$onInit(){this.loadData()}$onChanges({endpointIds:e}){e&&e.currentValue&&this.loadData()}loadData(){this.getAvailableEndpoints(),this.getAssociatedEndpoints()}getAvailableEndpoints(){return this.$async((async()=>{const{start:e,search:t,limit:n}=this.getPaginationData("available"),r={search:t,types:c.rP},i=await(0,d.hF)({start:e,limit:n,query:r}),o=s()(i.value,(e=>!a()(this.endpointIds,e.Id)));this.setTableData("available",o,i.totalCount),this.noEndpoints=0===this.state.available.totalCount}))}getAssociatedEndpoints(){return this.$async((async()=>{let e={value:[],totalCount:0};if(this.endpointIds.length>0){const{start:t,search:n,limit:r}=this.getPaginationData("associated"),a={search:n,types:c.rP,endpointIds:this.endpointIds};e=await(0,d.hF)({start:t,limit:r,query:a})}this.setTableData("associated",e.value,e.totalCount)}))}associateEndpoint(e){this.onAssociate(e)}dissociateEndpoint(e){this.onDissociate(e)}getPaginationData(e){const{pageNumber:t,limit:n,search:r}=this.state[e];return{start:(t-1)*n+1,search:r,limit:n}}setTableData(e,t,n){this.endpoints[e]=t,this.state[e].totalCount=parseInt(n,10)}}u.$inject=["$async"],l().module("portainer.app").controller("AssoicatedEndpointsSelectorController",u),t.default=u},64054:function(){angular.module("portainer.app").directive("autoFocus",["$timeout",function(e){return{restrict:"A",link:function(t,n){e((function(){n[0].focus()}))}}}])},28428:function(e,t,n){const r=n(78254);angular.module("portainer.app").component("betaPanel",{templateUrl:r})},66864:function(){angular.module("portainer.app").directive("buttonSpinner",(function(){return{restrict:"A",scope:{spinning:"=buttonSpinner"},transclude:!0,template:'<ng-transclude></ng-transclude><span ng-show="spinning"><i class="fa fa-circle-notch fa-spin" style="margin-left: 2px;"></i>&nbsp;</span>'}}))},58945:function(e,t,n){const r=n(98778);angular.module("portainer.app").component("codeEditor",{templateUrl:r,controller:"CodeEditorController",bindings:{identifier:"@",placeholder:"@",yml:"<",readOnly:"<",onChange:"<",value:"<"}})},85150:function(){angular.module("portainer.app").controller("CodeEditorController",["$document","CodeMirrorService","$scope",function(e,t,n){var r=this;this.$onChanges=function({value:e}){e&&e.currentValue&&r.editor&&r.editor.getValue()!==e.currentValue&&r.editor.setValue(e.currentValue)},this.$onInit=function(){e.ready((function(){var a=e[0].getElementById(r.identifier);r.editor=t.applyCodeMirrorOnElement(a,r.yml,r.readOnly),r.onChange&&r.editor.on("change",((...e)=>n.$evalAsync((()=>r.onChange(...e))))),r.value&&r.editor.setValue(r.value)}))}}])},28944:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e){this.clipboard=e,this.state={isFading:!1}}copyValueText(){this.clipboard.copyText(this.value),this.state.isFading=!0,setTimeout((()=>this.state.isFading=!1),1e3)}}r.$inject=["clipboard"]},27816:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(28944);const s=n(18164);a().module("portainer.app").component("copyButton",{templateUrl:s,controller:i.default,bindings:{value:"<"}})},99614:function(e,t,n){"use strict";n.r(t);class r{constructor(){this.platformTypes=[{label:"Linux",value:1},{label:"Windows",value:2}],this.templateTypes=[{label:"Swarm",value:1},{label:"Standalone",value:2}]}}r.$inject=[],t.default=r},26453:function(e,t,n){"use strict";n.r(t);var r=n(99614);const a=n(48794);angular.module("portainer.app").component("customTemplateCommonFields",{templateUrl:a,controller:r.default,bindings:{formValues:"=",showPlatformField:"<",showTypeField:"<",nameRegex:"<"}})},45165:function(e,t,n){"use strict";n.r(t);class r{constructor(e,t,n){Object.assign(this,{$async:e,CustomTemplateService:t,Notifications:n}),this.selectedTemplate=null,this.templates=null}async handleChangeTemplate(e){this.selectedTemplate=this.templates.find((t=>t.Id===e)),this.onChange(e,this.selectedTemplate)}$onChanges({value:e}){e&&e.currentValue&&this.templates&&this.handleChangeTemplate(e.currentValue)}$onInit(){return this.$async((async()=>{try{const e=await this.CustomTemplateService.customTemplates(this.stackType);this.templates=e.map((e=>({...e,label:`${e.Title} - ${e.Description}`}))),this.value&&this.handleChangeTemplate(this.value)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve Custom Templates")}}))}}r.$inject=["$async","CustomTemplateService","Notifications"],t.default=r},16970:function(e,t,n){"use strict";n.r(t),n.d(t,{customTemplateSelector:function(){return s}});var r=n(29274),a=n.n(r),i=n(45165);const s={templateUrl:n(43921),controller:i.default,bindings:{newTemplatePath:"@",stackType:"<",value:"<",onChange:"<"}};a().module("portainer.app").component("customTemplateSelector",s)},85452:function(){angular.module("portainer.docker").controller("CustomTemplatesListController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.typeLabel=function(e){switch(e){case 1:return"swarm";case 3:return"manifest";default:return"standalone"}},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},9578:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(81704);a().module("portainer.app").component("customTemplatesList",{templateUrl:i,controller:"CustomTemplatesListController",bindings:{titleText:"@",titleIcon:"@",templates:"<",tableKey:"@",onSelectClick:"<",showSwarmStacks:"<",onDeleteClick:"<",isEditAllowed:"<",createPath:"@",editPath:"@"}})},43926:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e,t,n,r){angular.extend(this,n("GenericDatatableController",{$scope:e})),this.onClickAdd=()=>{this.uiCanExit()&&t.go("portainer.account.new-access-token")},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset();const e=r.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);const t=r.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());const n=r.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.onSettingsRepeaterChange()}}}r.$inject=["$scope","$state","$controller","DatatableService"]},80127:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(43926);const s=n(24122);a().module("portainer.app").component("accessTokensDatatable",{templateUrl:s,controller:i.default,bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",removeAction:"<",uiCanExit:"<"}})},76752:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(){this.state={isOpen:!1}}}},13877:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(76752);const s=n(58430);a().module("portainer.app").component("datatableColumnsVisibility",{templateUrl:s,controller:i.default,bindings:{columns:"<",onChange:"<"}})},56210:function(e,t,n){const r=n(75970);angular.module("portainer.app").component("endpointsDatatable",{templateUrl:r,controller:"EndpointsDatatableController",bindings:{titleText:"@",titleIcon:"@",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",retrievePage:"<"}})},805:function(e,t,n){"use strict";n.r(t);var r=n(83432),a=n.n(r),i=n(41952),s=n.n(i),o=n(25445),l=n.n(o),c=n(93715),d=n.n(c);angular.module("portainer.app").controller("EndpointsDatatableController",["$scope","$controller","DatatableService","PaginationService",function(e,t,n,r){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.paginationChanged=async function(){try{this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1,{endpoints:t,totalCount:n}=await this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter);this.state.filteredDataSet=t,this.state.totalFilteredDataSet=n,this.refreshSelectedItems()}finally{this.state.loading=!1}},this.onPageChange=function(e){this.state.pageNumber=e,this.paginationChanged()},this.setReferrer=function(){window.localStorage.setItem("wizardReferrer","environments")},this.onTextFilterChange=function(){var e=this.state.textFilter;n.setDataTableTextFilters(this.tableKey,e),this.resetSelectionState(),this.paginationChanged()},this.uniq=function(){return d()(l()(this.state.filteredDataSet,this.state.selectedItems),"Id")},this.changePaginationLimit=function(){r.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()},this.refreshSelectedItems=function(){s()(this.state.filteredDataSet,(e=>{a()(this.state.selectedItems,(t=>t.Id==e.Id)).length>0&&(e.Checked=!0)}))},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset();var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}}])},38058:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{isEnabled(){return 0<this.state.length&&this.state.length<this.labels.length}onChangeItem(e){return this.isChecked(e)?this.onChange(this.filterKey,this.state.filter((t=>t!==e))):this.onChange(this.filterKey,[...this.state,e])}isChecked(e){return this.state.includes(e)}}},59001:function(e,t,n){"use strict";n.r(t),n.d(t,{datatableFilter:function(){return i}});var r=n(38058);const a=n(29656),i={bindings:{labels:"<",state:"<",filterKey:"@",onChange:"<"},controller:r.default,templateUrl:a,transclude:!0}},11471:function(e,t,n){"use strict";n.r(t);var r=n(25445),a=n.n(r),i=n(46006),s=n.n(i),o=n(41952),l=n.n(o),c=n(83432),d=n.n(c),u=n(66539),p=n.n(u),m=n(83471),g=n(52474);angular.module("portainer.app").controller("GenericDatatableController",["$interval","PaginationService","DatatableService","PAGINATION_MAX_ITEMS",function(e,t,n,r){this.RCO=m.X,this.state={selectAll:!1,orderBy:this.orderBy,paginatedItemLimit:r,displayTextFilter:!1,get selectedItemCount(){return this.selectedItems.length||0},selectedItems:[]},this.settings={open:!1,repeater:{autoRefresh:!1,refreshRate:"30"}},this.resetSelectionState=function(){this.state.selectAll=!1,this.state.selectedItems=[],p()(this.state.filteredDataSet,(e=>e.Checked=!1))},this.onTextFilterChangeGeneric=function(){n.setDataTableTextFilters(this.tableKey,this.state.textFilter)},this.onTextFilterChange=function(){return this.onTextFilterChangeGeneric()},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e,n.setDataTableOrder(this.tableKey,e,this.state.reverseOrder)},this.selectItem=function(e,t){if(t&&t.originalEvent.shiftKey&&this.state.firstClickedItem){const t=this.state.filteredDataSet.indexOf(this.state.firstClickedItem),n=this.state.filteredDataSet.indexOf(e),r=d()(this.state.filteredDataSet,((e,r)=>function(e,t,n){return e>=t&&e<=n||e>=n&&e<=t}(r,t,n))),a=this.state.firstClickedItem.Checked;l()(r,(e=>{this.allowSelection(e)&&(e.Checked=a)})),this.state.firstClickedItem=e}else t&&(e.Checked=!e.Checked,this.state.firstClickedItem=e);this.state.selectedItems=this.uniq().filter((e=>e.Checked)),t&&this.state.selectAll&&this.state.selectedItems.length!==this.state.filteredDataSet.length&&(this.state.selectAll=!1),this.onSelectionChanged()},this.selectAll=function(){this.state.firstClickedItem=null;for(var e=0;e<this.state.filteredDataSet.length;e++){var t=this.state.filteredDataSet[e];this.allowSelection(t)&&t.Checked!==this.state.selectAll&&(t.Checked=this.state.selectAll,this.selectItem(t))}this.onSelectionChanged()},this.uniq=function(){return s()(a()(this.state.filteredDataSet,this.state.selectedItems))},this.allowSelection=function(){return!0},this.prepareTableFromDataset=function(){},this.onSelectionChanged=function(){},this.changePaginationLimit=function(){t.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit)},this.setDefaults=function(){this.showTextFilter=!!this.showTextFilter&&this.showTextFilter,this.state.reverseOrder=!!this.reverseOrder&&this.reverseOrder,this.state.paginatedItemLimit=t.getPaginationLimit(this.tableKey)},this.$onInit=function(){this.$onInitGeneric()},this.$onInitGeneric=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange();var i=n.getColumnVisibilitySettings(this.tableKey);null!==i&&(this.columnVisibility=i)},this.repeater=void 0,this.$onDestroy=function(){this.stopRepeater()},this.stopRepeater=function(){angular.isDefined(this.repeater)&&(e.cancel(this.repeater),this.repeater=void 0)},this.startRepeater=function(){this.repeater=e((async()=>{await this.refreshCallback(),this.onDataRefresh()}),1e3*this.settings.repeater.refreshRate)},this.onSettingsRepeaterChange=function(){this.stopRepeater(),angular.isDefined(this.refreshCallback)&&this.settings.repeater.autoRefresh&&(this.startRepeater(),g("#refreshRateChange").show(),g("#refreshRateChange").fadeOut(1500)),n.setDataTableSettings(this.tableKey,this.settings)},this.onDataRefresh=function(){}}])},36864:function(e,t,n){const r=n(34095);angular.module("portainer.app").component("groupsDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<"}})},41101:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=(n(22479),n(58973)),s=n(62040),o=n(21757),l=n(59001);t.default=a().module("portainer.shared.datatable",["angularUtils.directives.dirPagination"]).component("datatableTitlebar",i.datatableTitlebar).component("datatableSortIcon",s.datatableSortIcon).component("datatablePagination",o.datatablePagination).component("datatableFilter",l.datatableFilter).name},21757:function(e,t,n){"use strict";n.r(t),n.d(t,{datatablePagination:function(){return r}});const r={bindings:{onChangeLimit:"<",limit:"<",enableNoLimit:"<",onChangePage:"<"},templateUrl:n(5050)}},44145:function(e,t,n){const r=n(81853);angular.module("portainer.app").component("registriesDatatable",{templateUrl:r,controller:"RegistriesDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",canBrowse:"<",endpointType:"<",canManageAccess:"<"}})},63188:function(e,t,n){"use strict";n.r(t);var r=n(26196),a=n(13494);function i(e,t,n,i,s){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.allowSelection=function(e){return e.Id},this.enableGoToLink=e=>this.isAdmin&&e.Id&&!this.endpointType,this.goToRegistry=function(e){this.endpointType===a.PortainerEndpointTypes.KubernetesLocalEnvironment||this.endpointType===a.PortainerEndpointTypes.AgentOnKubernetesEnvironment||this.endpointType===a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment?n.go("kubernetes.registries.registry",{id:e.Id}):this.endpointType===a.PortainerEndpointTypes.DockerEnvironment||this.endpointType===a.PortainerEndpointTypes.AgentOnDockerEnvironment||this.endpointType===a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment?n.go("docker.host.registries.registry",{id:e.Id}):n.go("portainer.registries.registry",{id:e.Id})},this.redirectToManageAccess=function(e){this.endpointType===a.PortainerEndpointTypes.KubernetesLocalEnvironment||this.endpointType===a.PortainerEndpointTypes.AgentOnKubernetesEnvironment||this.endpointType===a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment?n.go("kubernetes.registries.access",{id:e.Id}):window.location.hash.endsWith("/docker/swarm/registries")?n.go("docker.swarm.registries.access",{id:e.Id}):n.go("docker.host.registries.access",{id:e.Id})},this.$onInit=function(){this.limitedFeature=r.tE.REGISTRY_MANAGEMENT,this.isAdmin=i.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=s.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=s.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=s.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=s.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange();var o=s.getColumnVisibilitySettings(this.tableKey);null!==o&&(this.columnVisibility=o)}}i.$inject=["$scope","$controller","$state","Authentication","DatatableService"],angular.module("portainer.docker").controller("RegistriesDatatableController",i)},81749:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{isCurrentSortOrder(){return this.selectedSortKey===this.key}}},62040:function(e,t,n){"use strict";n.r(t),n.d(t,{datatableSortIcon:function(){return i}});var r=n(81749);const a=n(39477),i={bindings:{key:"@",selectedSortKey:"@",reverseOrder:"<"},controller:r.default,templateUrl:a}},97203:function(e,t,n){const r=n(68861);angular.module("portainer.app").component("stacksDatatable",{templateUrl:r,controller:"StacksDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",offlineMode:"<",refreshCallback:"<",createEnabled:"<"}})},97433:function(){angular.module("portainer.app").controller("StacksDatatableController",["$scope","$controller","DatatableService","Authentication",function(e,t,n,r){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.filters={state:{open:!1,enabled:!1,showActiveStacks:!0,showUnactiveStacks:!0}},this.columnVisibility={state:{open:!1},columns:{updated:{label:"Updated",display:!1}}},this.onColumnVisibilityChange=function(e){this.columnVisibility.columns=e,n.setColumnVisibilitySettings(this.tableKey,this.columnVisibility)}.bind(this),this.allowSelection=function(e){return!(e.External||e.External&&!this.isAdmin)},this.applyFilters=function(e){const{showActiveStacks:t,showUnactiveStacks:n}=this.filters.state;return e.Orphaned?e.OrphanedRunning||this.settings.allOrphanedStacks:1===e.Status&&t||2===e.Status&&n||e.External||!e.Status}.bind(this),this.onFilterChange=function(){const{showActiveStacks:e,showUnactiveStacks:t}=this.filters.state;this.filters.state.enabled=!e||!t,n.setDataTableFilters(this.tableKey,this.filters)}.bind(this),this.onSettingsAllOrphanedStacksChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.$onInit=function(){this.isAdmin=r.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1,this.settings.allOrphanedStacks=this.settings.allOrphanedStacks&&this.isAdmin),this.onSettingsRepeaterChange();var s=n.getColumnVisibilitySettings(this.tableKey);null!==s&&(this.columnVisibility=s)}}])},59198:function(e,t,n){"use strict";n.r(t),n.d(t,{stringsDatatable:function(){return i}});var r=n(29274),a=n.n(r);const i={templateUrl:n(83287),controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",emptyDatasetMessage:"@",columnHeader:"@",tableKey:"@",onRemove:"<"}};a().module("portainer.app").component("stringsDatatable",i)},96447:function(e,t,n){const r=n(30908);angular.module("portainer.app").component("tagsDatatable",{templateUrl:r,controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<"}})},58973:function(e,t,n){"use strict";n.r(t),n.d(t,{datatableTitlebar:function(){return r}});const r={bindings:{icon:"@",title:"@",feature:"@",featherIcon:"<"},templateUrl:n(10049)}},59322:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(92040);const s=n(63978);a().module("portainer.app").component("usersDatatable",{templateUrl:s,controller:i.default,bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",removeAction:"<",authenticationMethod:"<",isAdmin:"<"}})},92040:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e,t){const n=this.allowSelection;angular.extend(this,e("GenericDatatableController",{$scope:t})),this.allowSelection=n.bind(this)}allowSelection(e){return 1!==e.Id}}r.$inject=["$controller","$scope"]},62424:function(e,t,n){"use strict";n.r(t);class r{constructor(e){Object.assign(this,{StateManager:e}),this.isDemo=!1}$onInit(){const e=this.StateManager.getState();this.isDemo=e.application.demoEnvironment.enabled}}r.$inject=["StateManager"],t.default=r},96026:function(e,t,n){"use strict";n.r(t),n.d(t,{demoFeatureIndicator:function(){return s}});var r=n(29274),a=n.n(r),i=n(62424);const s={templateUrl:n(86943),controller:i.default,bindings:{content:"<"}};a().module("portainer.app").component("demoFeatureIndicator",s)},39590:function(e,t,n){const r=n(9062);angular.module("portainer.app").component("porEndpointSecurity",{templateUrl:r,controller:"porEndpointSecurityController",bindings:{formData:"=",endpoint:"<"}})},59810:function(){angular.module("portainer.app").controller("porEndpointSecurityController",["$scope",function(e){var t=this;t.onToggleTLS=function(n){e.$evalAsync((()=>{t.formData.TLS=n}))},this.$onInit=function(){if(t.endpoint){var e=t.endpoint,n=e.TLSConfig.TLS;t.formData.TLS=n;var r=e.TLSConfig.TLSCACert;t.formData.TLSCACert=r;var a=e.TLSConfig.TLSCert;t.formData.TLSCert=a;var i=e.TLSConfig.TLSKey;t.formData.TLSKey=i,n&&(t.formData.TLSMode=r&&a&&i?"tls_client_ca":a&&i?"tls_client_noca":r?"tls_ca":"tls_only")}}}])},25229:function(e,t,n){"use strict";function r(){this.TLS=!1,this.TLSMode="tls_client_ca",this.TLSCACert=null,this.TLSCert=null,this.TLSKey=null}n.r(t),n.d(t,{EndpointSecurityFormData:function(){return r}})},72532:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(93994);class a{constructor(){this.mode="simple",this.editorText="",this.switchEnvMode=this.switchEnvMode.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.handleSimpleChange=this.handleSimpleChange.bind(this)}switchEnvMode(){if("simple"===this.mode){const e=(0,r.convertToArrayOfStrings)(this.ngModel).join("\n");this.editorText=e,this.mode="advanced"}else this.mode="simple"}handleSimpleChange(e){this.onChange(e)}editorUpdate(e){this.editorText=e.getValue(),this.onChange((0,r.parseDotEnvFile)(this.editorText))}}a.$inject=[]},19695:function(e,t,n){"use strict";n.r(t),t.default=class{onChangeName(e){void 0===e||this.onChange(this.index,{...this.variable,name:e})}onChangeValue(e){void 0===e||this.onChange(this.index,{...this.variable,value:e})}$onInit(){this.formName=`variableForm${this.index}`}}},47254:function(e,t,n){"use strict";n.r(t),n.d(t,{environmentVariablesSimpleModeItem:function(){return s}});var r=n(29274),a=n.n(r),i=n(19695);const s={templateUrl:n(52927),controller:i.default,bindings:{variable:"<",index:"<",onChange:"<",onRemove:"<"}};a().module("portainer.app").component("environmentVariablesSimpleModeItem",s)},17272:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(93994);class a{constructor(e){this.$async=e,this.onChangeVariable=this.onChangeVariable.bind(this),this.remove=this.remove.bind(this)}add(){this.onChange([...this.ngModel,{name:"",value:""}])}remove(e){this.onChange(this.ngModel.filter(((t,n)=>n!==e)))}addFromFile(e){return this.$async((async()=>{if(!e)return;const t=await this.getTextFromFile(e),n=(0,r.parseDotEnvFile)(t);this.onChange(this.ngModel.concat(n))}))}getTextFromFile(e){return new Promise(((t,n)=>{const r=new FileReader;r.readAsText(e),r.onload=e=>t(e.target.result),r.onerror=e=>n(e)}))}onChangeVariable(e,t){this.onChange(this.ngModel.map(((n,r)=>r!==e?n:t)))}}a.$inject=["$async"]},55005:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(17272);const s=n(9277);a().module("portainer.app").component("environmentVariablesSimpleMode",{templateUrl:s,controller:i.default,bindings:{ngModel:"<",onSwitchModeClick:"<",onChange:"<",showHelpMessage:"<"}})},5633:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(72532);const s=n(94176);a().module("portainer.app").component("environmentVariablesPanel",{templateUrl:s,controller:i.default,bindings:{ngModel:"<",explanation:"@",onChange:"<",showHelpMessage:"<"}})},87508:function(e,t,n){"use strict";n.r(t);var r=n(29274);n.n(r)().module("portainer.app").directive("focusIf",["$timeout",function(e){return{restrict:"A",link:function(t,n,r){var a=n[0];function i(n){n&&e((function(){a.focus()}),t.$eval(r.focusDelay)||0)}r.focusIf?t.$watch(r.focusIf,i):i(!0)}}}])},74075:function(e,t,n){"use strict";n.r(t),n.d(t,{fileUploadForm:function(){return r}});const r={templateUrl:n(49424),bindings:{file:"<",ngRequired:"<",onChange:"<"},transclude:{description:"?fileUploadDescription"}}},39068:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(67653),s=n(74075);t.default=a().module("portainer.app.components.form",[]).component("webEditorForm",i.webEditorForm).component("fileUploadForm",s.fileUploadForm).name},67653:function(e,t,n){"use strict";n.r(t),n.d(t,{webEditorForm:function(){return a}});var r=n(32340);const a={templateUrl:n(57582),controller:r.default,bindings:{identifier:"@",placeholder:"@",yml:"<",value:"<",readOnly:"<",onChange:"<",hideTitle:"<"},transclude:{description:"?editorDescription"}}},32340:function(e,t,n){"use strict";n.r(t);class r{constructor(e){this.editorUpdate=this.editorUpdate.bind(this),this.BROWSER_OS_PLATFORM=e}editorUpdate(e){this.onChange(e.getValue())}}r.$inject=["BROWSER_OS_PLATFORM"],t.default=r},27190:function(e,t,n){"use strict";n.r(t),t.default=class{onChangePath(e){void 0===e||this.onChange(this.index,{value:e})}removeValue(){this.onChange(this.index)}$onInit(){this.formName=`variableForm${this.index}`}}},83208:function(e,t,n){"use strict";n.r(t),n.d(t,{gitFormAdditionalFileItem:function(){return a}});var r=n(27190);const a={templateUrl:n(10852),controller:r.default,bindings:{variable:"<",index:"<",onChange:"<",onRemove:"<"}}},17968:function(e,t,n){"use strict";n.r(t);class r{constructor(){this.add=this.add.bind(this),this.onChangeVariable=this.onChangeVariable.bind(this)}add(){this.model.AdditionalFiles.push("")}onChangeVariable(e,t){t?this.model.AdditionalFiles[e]=t.value:this.model.AdditionalFiles.splice(e,1),this.onChange({...this.model,AdditionalFiles:this.model.AdditionalFiles})}}r.$inject=[],t.default=r},7274:function(e,t,n){"use strict";n.r(t),n.d(t,{gitFormAdditionalFilesPanel:function(){return a}});var r=n(17968);const a={templateUrl:n(65568),controller:r.default,bindings:{model:"<",onChange:"<"}}},10789:function(e,t,n){"use strict";n.r(t);class r{constructor(e){Object.assign(this,{$scope:e}),this.authValues={username:"",password:""},this.handleChange=this.handleChange.bind(this),this.onChangeField=this.onChangeField.bind(this),this.onChangeAuth=this.onChangeAuth.bind(this),this.onChangeUsername=this.onChangeField("RepositoryUsername"),this.onChangePassword=this.onChangeField("RepositoryPassword")}handleChange(...e){this.$scope.$evalAsync((()=>{this.onChange(...e)}))}onChangeField(e){return t=>{this.handleChange({...this.model,[e]:t})}}onChangeAuth(e){e||(this.authValues.username=this.model.RepositoryUsername,this.authValues.password=this.model.RepositoryPassword),this.handleChange({...this.model,RepositoryAuthentication:e,RepositoryUsername:e?this.authValues.username:"",RepositoryPassword:e?this.authValues.password:""})}$onInit(){this.model.RepositoryAuthentication&&(this.authValues.username=this.model.RepositoryUsername,this.authValues.password=this.model.RepositoryPassword)}}r.$inject=["$scope"],t.default=r},48980:function(e,t,n){"use strict";n.r(t),n.d(t,{gitFormAuthFieldset:function(){return a}});var r=n(10789);const a={templateUrl:n(98173),controller:r.default,bindings:{model:"<",onChange:"<",showAuthExplanation:"<",isEdit:"<"}}},12847:function(e,t,n){"use strict";n.r(t);var r=n(26196),a=n(52474);class i{constructor(e,t){Object.assign(this,{$scope:e,clipboard:t}),this.onChangeAutoUpdate=this.onChangeField("RepositoryAutomaticUpdates"),this.onChangeMechanism=this.onChangeField("RepositoryMechanism"),this.onChangeInterval=this.onChangeField("RepositoryFetchInterval"),this.limitedFeature=r.tE.FORCE_REDEPLOYMENT,this.stackPullImageFeature=r.tE.STACK_PULL_IMAGE}copyWebhook(){this.clipboard.copyText(this.model.RepositoryWebhookURL),a("#copyNotification").show(),a("#copyNotification").fadeOut(2e3)}onChangeField(e){return t=>{this.$scope.$evalAsync((()=>{this.onChange({...this.model,[e]:t})}))}}}i.$inject=["$scope","clipboard"],t.default=i},34385:function(e,t,n){"use strict";n.r(t),n.d(t,{gitFormAutoUpdateFieldset:function(){return a}});var r=n(12847);const a={templateUrl:n(17560),controller:r.default,bindings:{model:"<",onChange:"<",showForcePullImage:"<"}}},39926:function(e,t,n){"use strict";n.r(t),n.d(t,{gitFormComposePathField:function(){return r}});const r={templateUrl:n(6942),bindings:{deployMethod:"@",value:"<",onChange:"<",isDockerStandalone:"<"}}},78356:function(e,t,n){"use strict";n.r(t),n.d(t,{gitFormInfoPanel:function(){return r}});const r={templateUrl:n(48037),bindings:{url:"<",configFilePath:"<",additionalFiles:"<",className:"@",type:"@"}}},65830:function(e,t,n){"use strict";n.r(t),n.d(t,{gitFormRefField:function(){return r}});const r={templateUrl:n(6605),bindings:{value:"<",onChange:"<"}}},4680:function(e,t,n){"use strict";n.r(t),n.d(t,{gitFormUrlField:function(){return r}});const r={templateUrl:n(53754),bindings:{value:"<",onChange:"<"}}},93632:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e){this.StateManager=e,this.onChangeField=this.onChangeField.bind(this),this.onChangeURL=this.onChangeField("RepositoryURL"),this.onChangeRefName=this.onChangeField("RepositoryReferenceName"),this.onChangeComposePath=this.onChangeField("ComposeFilePathInRepository")}onChangeField(e){return t=>{this.onChange({...this.model,[e]:t})}}$onInit(){this.deployMethod=this.deployMethod||"compose",this.isDockerStandalone=!this.hideRebuildInfo&&"DOCKER_STANDALONE"===this.StateManager.getState().endpoint.mode.provider}}r.$inject=["StateManager"]},97525:function(e,t,n){"use strict";n.r(t),n.d(t,{gitForm:function(){return a}});var r=n(93632);const a={templateUrl:n(23283),controller:r.default,bindings:{deployMethod:"@",model:"<",onChange:"<",additionalFile:"<",autoUpdate:"<",showAuthExplanation:"<",showForcePullImage:"<",hideRebuildInfo:"@"}}},8540:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(97525),s=n(48980),o=n(7274),l=n(83208),c=n(34385),d=n(39926),u=n(65830),p=n(4680),m=n(78356);t.default=a().module("portainer.app.components.forms.git",[]).component("gitFormComposePathField",d.gitFormComposePathField).component("gitFormRefField",u.gitFormRefField).component("gitForm",i.gitForm).component("gitFormUrlField",p.gitFormUrlField).component("gitFormInfoPanel",m.gitFormInfoPanel).component("gitFormAdditionalFilesPanel",o.gitFormAdditionalFilesPanel).component("gitFormAdditionalFileItem",l.gitFormAdditionalFileItem).component("gitFormAutoUpdateFieldset",c.gitFormAutoUpdateFieldset).component("gitFormAuthFieldset",s.gitFormAuthFieldset).name},95189:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(37134);const s=n(69688);a().module("portainer.app").component("groupForm",{templateUrl:s,controller:i.default,bindings:{loaded:"<",pageType:"@",model:"=",availableEndpoints:"=",associatedEndpoints:"=",addLabelAction:"<",removeLabelAction:"<",formAction:"<",formActionLabel:"@",actionInProgress:"<"}})},37134:function(e,t,n){"use strict";n.r(t);var r=n(71204),a=n.n(r),i=n(44716),s=n.n(i),o=n(29274),l=n.n(o),c=n(31848),d=n(46021);class u{constructor(e,t,n,r,a){this.$async=e,this.$scope=t,this.GroupService=n,this.Notifications=r,this.Authentication=a,this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this),this.getPaginatedEndpointsByGroup=this.getPaginatedEndpointsByGroup.bind(this),this.onChangeTags=this.onChangeTags.bind(this)}onChangeTags(e){return this.$scope.$evalAsync((()=>{this.model.TagIds=e}))}$onInit(){this.state={available:{limit:"10",filter:"",pageNumber:1,totalCount:0},associated:{limit:"10",filter:"",pageNumber:1,totalCount:0},allowCreateTag:this.Authentication.isAdmin()}}associateEndpoint(e){"create"!==this.pageType||s()(this.associatedEndpoints,e)?"edit"===this.pageType&&this.GroupService.addEndpoint(this.model.Id,e).then((()=>{this.Notifications.success("Success","Environment successfully added to group"),this.reloadTablesContent()})).catch((e=>this.Notifications.error("Error",e,"Unable to add environment to group"))):this.associatedEndpoints.push(e)}dissociateEndpoint(e){"create"===this.pageType?a()(this.associatedEndpoints,(t=>t.Id===e.Id)):"edit"===this.pageType&&this.GroupService.removeEndpoint(this.model.Id,e.Id).then((()=>{this.Notifications.success("Success","Environment successfully removed from group"),this.reloadTablesContent()})).catch((e=>this.Notifications.error("Error",e,"Unable to remove environment from group")))}reloadTablesContent(){this.getPaginatedEndpointsByGroup(this.pageType,"available"),this.getPaginatedEndpointsByGroup(this.pageType,"associated"),this.GroupService.group(this.model.Id).then((e=>{this.model=e}))}getPaginatedEndpointsByGroup(e,t){this.$async((async()=>{try{if("available"===t){const e=this.state.available,t=(e.pageNumber-1)*e.limit+1,n=await(0,c.mp)(1,t,e.limit,{search:e.filter});this.availableEndpoints=n.value,this.state.available.totalCount=n.totalCount}else if("associated"===t&&"edit"===e){const e=this.model.Id?this.model.Id:1,t=this.state.associated,n=(t.pageNumber-1)*t.limit+1,r=await(0,c.mp)(e,n,t.limit,{search:t.filter});this.associatedEndpoints=r.value,this.state.associated.totalCount=r.totalCount}}catch(e){(0,d.cB)("Failure",e,"Failed getting endpoints for group")}}))}}u.$inject=["$async","$scope","GroupService","Notifications","Authentication"],l().module("portainer.app").controller("GroupFormController",u),t.default=u},29037:function(e,t,n){"use strict";n.r(t);class r{constructor(e,t,n,r,a){this.$async=e,this.$state=t,this.StackService=n,this.ModalService=r,this.Notifications=a,this.state={saveGitSettingsInProgress:!1,redeployInProgress:!1,showConfig:!0,isEdit:!1},this.formValues={RefName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:""},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this)}onChangeRef(e){this.onChange({RefName:e})}onChange(e){this.formValues={...this.formValues,...e}}async pullAndRedeployApplication(){return this.$async((async()=>{try{if(!await this.ModalService.confirmAsync({title:"Are you sure?",message:"Any changes to this application will be overridden by the definition in git and may cause a service interruption. Do you wish to continue?",buttons:{confirm:{label:"Update",className:"btn-warning"}}}))return;this.state.redeployInProgress=!0,await this.StackService.updateKubeGit(this.stack.Id,this.stack.EndpointId,this.namespace,this.formValues),this.Notifications.success("Success","Pulled and redeployed stack successfully"),await this.$state.reload(this.$state.current)}catch(e){this.Notifications.error("Failure",e,"Failed redeploying application")}finally{this.state.redeployInProgress=!1}}))}async saveGitSettings(){return this.$async((async()=>{try{this.state.saveGitSettingsInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.stack.EndpointId,Id:this.stack.Id},null,this.formValues),this.Notifications.success("Success","Save stack settings successfully")}catch(e){this.Notifications.error("Failure",e,"Unable to save application settings")}finally{this.state.saveGitSettingsInProgress=!1}}))}isSubmitButtonDisabled(){return this.state.saveGitSettingsInProgress||this.state.redeployInProgress}$onInit(){this.formValues.RefName=this.stack.GitConfig.ReferenceName,this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0)}}r.$inject=["$async","$state","StackService","ModalService","Notifications"],t.default=r},34323:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(29037);const s={templateUrl:n(5032),controller:i.default,bindings:{namespace:"<",stack:"<"}};a().module("portainer.app").component("kubernetesAppGitForm",s)},55658:function(e,t,n){"use strict";n.r(t);var r=n(15964),a=n.n(r),i=n(6253);class s{constructor(e,t,n,r,a,s){this.$async=e,this.$state=t,this.StackService=n,this.ModalService=r,this.Notifications=a,this.WebhookHelper=s,this.state={saveGitSettingsInProgress:!1,redeployInProgress:!1,showConfig:!1,isEdit:!1,hasUnsavedChanges:!1},this.formValues={RefName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",AutoUpdate:{RepositoryAutomaticUpdates:!1,RepositoryMechanism:i.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:"5m",RepositoryWebhookURL:""}},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this),this.onChangeAutoUpdate=this.onChangeAutoUpdate.bind(this)}onChangeRef(e){this.onChange({RefName:e})}onChange(e){this.formValues={...this.formValues,...e},this.state.hasUnsavedChanges=angular.toJson(this.savedFormValues)!==angular.toJson(this.formValues)}onChangeAutoUpdate(e){this.onChange({AutoUpdate:{...this.formValues.AutoUpdate,...e}})}buildAnalyticsProperties(){return{metadata:{"automatic-updates":function(e,t){switch(e&&t){case i.RepositoryMechanismTypes.INTERVAL:return"polling";case i.RepositoryMechanismTypes.WEBHOOK:return"webhook";default:return"off"}}(this.formValues.AutoUpdate.RepositoryAutomaticUpdates,this.formValues.AutoUpdate.RepositoryMechanism)}}}async pullAndRedeployApplication(){return this.$async((async()=>{try{if(!await this.ModalService.confirmAsync({title:"Are you sure?",message:"Any changes to this application will be overridden by the definition in git and may cause a service interruption. Do you wish to continue?",buttons:{confirm:{label:"Update",className:"btn-warning"}}}))return;this.state.redeployInProgress=!0,await this.StackService.updateKubeGit(this.stack.Id,this.stack.EndpointId,this.namespace,this.formValues),this.Notifications.success("Success","Pulled and redeployed stack successfully"),await this.$state.reload()}catch(e){this.Notifications.error("Failure",e,"Failed redeploying application")}finally{this.state.redeployInProgress=!1}}))}async saveGitSettings(){return this.$async((async()=>{try{this.state.saveGitSettingsInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.stack.EndpointId,Id:this.stack.Id},null,this.formValues),this.savedFormValues=angular.copy(this.formValues),this.state.hasUnsavedChanges=!1,this.Notifications.success("Success","Save stack settings successfully")}catch(e){this.Notifications.error("Failure",e,"Unable to save application settings")}finally{this.state.saveGitSettingsInProgress=!1}}))}isSubmitButtonDisabled(){return this.state.saveGitSettingsInProgress||this.state.redeployInProgress}$onInit(){this.formValues.RefName=this.stack.GitConfig.ReferenceName,this.stack.AutoUpdate&&(this.stack.AutoUpdate.Interval||this.stack.AutoUpdate.Webhook)&&(this.formValues.AutoUpdate.RepositoryAutomaticUpdates=!0,this.stack.AutoUpdate.Interval?(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.INTERVAL,this.formValues.AutoUpdate.RepositoryFetchInterval=this.stack.AutoUpdate.Interval):this.stack.AutoUpdate.Webhook&&(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.WEBHOOK,this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(this.stack.AutoUpdate.Webhook))),this.formValues.AutoUpdate.RepositoryWebhookURL||(this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(a()())),this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0),this.savedFormValues=angular.copy(this.formValues)}}s.$inject=["$async","$state","StackService","ModalService","Notifications","WebhookHelper"],t.default=s},9509:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(55658);const s={templateUrl:n(96927),controller:i.default,bindings:{stack:"<",namespace:"<"}};a().module("portainer.app").component("kubernetesRedeployAppGitForm",s)},48637:function(e,t,n){const r=n(6693);class a{constructor(e){this.$scope=e,this.toggleAuthentication=this.toggleAuthentication.bind(this)}$postLink(){this.registryFormEcr.registry_name.$validators.used=e=>!this.nameIsUsed(e)}toggleAuthentication(e){this.$scope.$evalAsync((()=>{this.model.Authentication=e}))}}a.$inject=["$scope"],angular.module("portainer.app").component("registryFormEcr",{templateUrl:r,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<",nameIsUsed:"<"},controller:a})},90018:function(e,t,n){const r=n(56440);angular.module("portainer.app").component("registryFormAzure",{templateUrl:r,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<",nameIsUsed:"<"},controller:class{$postLink(){this.registryFormAzure.registry_name.$validators.used=e=>!this.nameIsUsed(e)}}})},8746:function(e,t,n){const r=n(35778);class a{constructor(e){this.$scope=e,this.toggleAuthentication=this.toggleAuthentication.bind(this)}$postLink(){this.registryFormCustom.registry_name.$validators.used=e=>!this.nameIsUsed(e)}toggleAuthentication(e){this.$scope.$evalAsync((()=>{this.model.Authentication=e}))}}a.$inject=["$scope"],angular.module("portainer.app").component("registryFormCustom",{templateUrl:r,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<",nameIsUsed:"<"},controller:a})},7744:function(e,t,n){const r=n(85683);angular.module("portainer.app").component("registryFormDockerhub",{templateUrl:r,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<",nameIsUsed:"<"},controller:class{$postLink(){this.registryFormDockerhub.registry_name.$validators.used=e=>!this.nameIsUsed(e)}}})},84375:function(e,t,n){const r=n(51338);angular.module("portainer.app").component("gitlabProjectsDatatable",{templateUrl:r,controller:"GitlabProjectsDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<",state:"="}})},56110:function(){angular.module("portainer.app").controller("GitlabProjectsDatatableController",["$scope","$controller","DatatableService",function(e,t,n){angular.extend(this,t("GenericDatatableController",{$scope:e})),this.disableSelection=function(e){return!this.allowSelection(e)},this.allowSelection=function(e){return e.RegistryEnabled},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=n.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},54470:function(e,t,n){const r=n(62796);angular.module("portainer.app").component("registryFormGitlab",{templateUrl:r,bindings:{model:"=",retrieveRegistries:"<",createRegistries:"<",actionInProgress:"<",projects:"=",state:"=",resetDefaults:"<"}})},25318:function(e,t,n){const r=n(64837);angular.module("portainer.app").component("registryFormProget",{templateUrl:r,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<",nameIsUsed:"<"},controller:class{$postLink(){this.registryFormProGet.registry_name.$validators.used=e=>!this.nameIsUsed(e)}}})},18218:function(e,t,n){const r=n(26548);class a{constructor(e){this.$scope=e,this.toggleOrganisation=this.toggleOrganisation.bind(this)}$postLink(){this.registryFormQuay.registry_name.$validators.used=e=>!this.nameIsUsed(e)}toggleOrganisation(e){this.$scope.$evalAsync((()=>{this.model.Quay.useOrganisation=e}))}}a.$inject=["$scope"],angular.module("portainer.app").component("registryFormQuay",{templateUrl:r,bindings:{model:"=",formAction:"<",formActionLabel:"@",actionInProgress:"<",nameIsUsed:"<"},controller:a})},12281:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(11361);a().module("portainer.app").component("stackFromTemplateForm",{templateUrl:i,bindings:{template:"=",formValues:"=",state:"=",createTemplate:"<",unselectTemplate:"<",nameRegex:"<"},transclude:{advanced:"?advancedForm"}})},7008:function(e,t,n){"use strict";n.r(t),n.d(t,{stackRedeployGitForm:function(){return s}});var r=n(29274),a=n.n(r),i=n(20472);const s={templateUrl:n(8849),controller:i.default,bindings:{model:"<",stack:"<",endpoint:"<"}};a().module("portainer.app").component("stackRedeployGitForm",s)},20472:function(e,t,n){"use strict";n.r(t);var r=n(15964),a=n.n(r),i=n(6253),s=n(26196);class o{constructor(e,t,n,r,a,o,l,c,d){this.$async=e,this.$state=t,this.$compile=n,this.$scope=r,this.StackService=a,this.ModalService=o,this.Notifications=l,this.WebhookHelper=c,this.FormHelper=d,r.stackPullImageFeature=s.tE.STACK_PULL_IMAGE,this.state={inProgress:!1,redeployInProgress:!1,showConfig:!1,isEdit:!1,hasUnsavedChanges:!1},this.formValues={RefName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",Env:[],PullImage:!1,Option:{Prune:!1},AutoUpdate:{RepositoryAutomaticUpdates:!1,RepositoryMechanism:i.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:"5m",RepositoryWebhookURL:""}},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this),this.onChangeAutoUpdate=this.onChangeAutoUpdate.bind(this),this.onChangeEnvVar=this.onChangeEnvVar.bind(this),this.onChangeOption=this.onChangeOption.bind(this)}buildAnalyticsProperties(){const e={};return this.formValues.RepositoryAutomaticUpdates&&(e.automaticUpdates=function(e){switch(e){case i.RepositoryMechanismTypes.INTERVAL:return"polling";case i.RepositoryMechanismTypes.WEBHOOK:return"webhook"}return"off"}(this.formValues.RepositoryMechanism)),{metadata:e}}onChange(e){this.formValues={...this.formValues,...e},this.state.hasUnsavedChanges=angular.toJson(this.savedFormValues)!==angular.toJson(this.formValues)}onChangeRef(e){this.onChange({RefName:e})}onChangeAutoUpdate(e){this.onChange({AutoUpdate:{...this.formValues.AutoUpdate,...e}})}onChangeEnvVar(e){this.onChange({Env:e})}onChangeOption(e){this.onChange({Option:{...this.formValues.Option,...e}})}async submit(){const e=1===this.stack.Type,t=this;this.ModalService.confirmStackUpdate("Any changes to this stack or application made locally in Portainer will be overridden, which may cause service interruption. Do you wish to continue?",e,"btn-warning",(async function(e){if(e)try{t.state.redeployInProgress=!0,await t.StackService.updateGit(t.stack.Id,t.stack.EndpointId,t.FormHelper.removeInvalidEnvVars(t.formValues.Env),t.formValues.Option.Prune,t.formValues,!!e[0]),t.Notifications.success("Success","Pulled and redeployed stack successfully"),t.$state.reload()}catch(e){t.Notifications.error("Failure",e,"Failed redeploying stack")}finally{t.state.redeployInProgress=!1}}))}async saveGitSettings(){return this.$async((async()=>{try{this.state.inProgress=!0;const e=await this.StackService.updateGitStackSettings(this.stack.Id,this.stack.EndpointId,this.FormHelper.removeInvalidEnvVars(this.formValues.Env),this.formValues);this.savedFormValues=angular.copy(this.formValues),this.state.hasUnsavedChanges=!1,this.Notifications.success("Success","Save stack settings successfully"),this.stack=e}catch(e){this.Notifications.error("Failure",e,"Unable to save stack settings")}finally{this.state.inProgress=!1}}))}isSubmitButtonDisabled(){return this.state.inProgress||this.state.redeployInProgress}isAutoUpdateChanged(){const e=!(!this.stack.AutoUpdate||!this.stack.AutoUpdate.Interval&&!this.stack.AutoUpdate.Webhook);return this.formValues.AutoUpdate.RepositoryAutomaticUpdates!==e}$onInit(){this.formValues.RefName=this.model.ReferenceName,this.formValues.Env=this.stack.Env,this.stack.Option&&(this.formValues.Option=this.stack.Option),this.stack.AutoUpdate&&(this.stack.AutoUpdate.Interval||this.stack.AutoUpdate.Webhook)&&(this.formValues.AutoUpdate.RepositoryAutomaticUpdates=!0,this.stack.AutoUpdate.Interval?(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.INTERVAL,this.formValues.AutoUpdate.RepositoryFetchInterval=this.stack.AutoUpdate.Interval):this.stack.AutoUpdate.Webhook&&(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.WEBHOOK,this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(this.stack.AutoUpdate.Webhook))),this.formValues.AutoUpdate.RepositoryWebhookURL||(this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(a()())),this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0),this.savedFormValues=angular.copy(this.formValues)}}o.$inject=["$async","$state","$compile","$scope","StackService","ModalService","Notifications","WebhookHelper","FormHelper"],t.default=o},87637:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r),i=n(91619);const s=n(17775);angular.module("portainer.app").component("groupAssociationTable",{templateUrl:s,controller:function(){this.state={orderBy:"Name",reverseOrder:!1,paginatedItemLimit:"10",textFilter:"",loading:!0,pageNumber:1},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e},this.onTextFilterChange=function(){this.paginationChangedAction()},this.onPageChanged=function(e){this.paginationState.pageNumber=e,this.paginationChangedAction()},this.onPaginationLimitChanged=function(){this.paginationChangedAction()},this.paginationChangedAction=function(){this.retrievePage(this.pageType,this.tableType)},this.$onChanges=function(e){e.loaded&&e.loaded.currentValue&&this.paginationChangedAction()},this.tagIdsToTagNames=function(e){return(0,i.idsToTagNames)(this.tags,e).join(", ")||"-"},this.groupIdToGroupName=function(e){const t=a()(this.groups,{Id:e});return t?t.Name:""}},bindings:{paginationState:"=",loaded:"<",pageType:"<",tableType:"@",retrievePage:"<",dataset:"<",entryClick:"<",emptyDatasetMessage:"@",tags:"<",showTags:"<",groups:"<",showGroups:"<",hasBackendPagination:"<",cyValue:"@",title:"@"}})},11033:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(29274),a=n.n(r),i=n(39068),s=n(8540),o=n(39372),l=(n(20493),a().module("portainer.app.components.widget",[]).component("rdWidget",{transclude:!0,template:'<div class="widget" ng-transclude></div>'}).component("rdWidgetBody",{requires:"^rdWidget",bindings:{loading:"@?",classes:"@?"},transclude:!0,template:'\n    <div class="widget-body" ng-class="$ctrl.classes">\n      <rd-loading ng-show="$ctrl.loading"></rd-loading>\n      <div ng-hide="$ctrl.loading" class="widget-content" ng-transclude></div>\n    </div>\n  '}).component("rdWidgetCustomHeader",{requires:"^rdWidget",bindings:{titleText:"=",icon:"="},transclude:!0,template:'\n    <div class="widget-header">\n      <div class="row">\n        <span class="pull-left">\n          <img class="custom-header-ico space-right" ng-src="{{$ctrl.icon}}" ng-if="$ctrl.icon" alt="header-icon"></img>\n          <i class="fa fa-rocket" aria-hidden="true" ng-if="!$ctrl.icon"></i>\n          <span class="text-muted"> {{$ctrl.titleText}} </span>\n        </span>\n        <span class="pull-right col-xs-6 col-sm-4" ng-transclude></span>\n      </div>\n    </div>\n  '}).component("rdWidgetFooter",{requires:"^rdWidget",transclude:!0,template:'\n    <div class="widget-footer" ng-transclude></div>\n  '}).component("rdWidgetHeader",{requires:"^rdWidget",bindings:{titleText:"@",icon:"@",featherIcon:"<",classes:"@?",parentClasses:"@?"},transclude:{title:"?headerTitle"},template:'\n    <div class="widget-header" ng-class="$ctrl.parentClasses">\n      <div class="row">\n        <span ng-class="$ctrl.classes" class="pull-left vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.icon" feather="$ctrl.featherIcon"></pr-icon>\n          </div>\n          <span ng-transclude="title">{{ $ctrl.titleText }}</span>\n        </span>\n        <span ng-class="$ctrl.classes" class="pull-right" ng-transclude></span>\n      </div>\n    </div>\n'}).component("rdWidgetTaskbar",{requires:"^rdWidget",bindings:{classes:"@?"},transclude:!0,template:'\n    <div class="widget-header">\n      <div class="row">\n        <div ng-class="$ctrl.classes" ng-transclude></div>\n      </div>\n    </div>\n  '}).name),c=n(20464),d=n(86751);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.limitedToBE=!1,this.url=""}var t,n;return t=e,(n=[{key:"$onInit",value:function(){var e=(0,d.Y)(this.feature),t=e.url,n=e.limitedToBE;this.limitedToBE=n,this.url=t}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m={templateUrl:n(4483),controller:p,bindings:{feature:"<"},transclude:!0},g=n(87005),h=a().module("portainer.app.components",[c.d,l,s.default,o.default,i.default]).component("informationPanel",g.InformationPanelAngular).component("beFeatureIndicator",m).name},64654:function(e,t,n){const r=n(94081);angular.module("portainer.app").component("informationPanelOffline",{templateUrl:r,controller:"InformationPanelOfflineController"})},2454:function(){angular.module("portainer.app").controller("InformationPanelOfflineController",["$state","EndpointProvider","EndpointService","Authentication","Notifications",function(e,t,n,r,a){var i=this;this.$onInit=function(){var e=t.endpointID();i.showRefreshButton=r.isAdmin(),n.endpoint(e).then((function(e){i.snapshotTime=e.Snapshots[0].Time})).catch((function(e){a.error("Failure",e,"Unable to retrieve environment information")}))},this.triggerSnapshot=function(){var r=t.endpointID();n.snapshotEndpoint(r).then((function(){e.reload()})).catch((function(e){a.error("Failure",e,"An error occured during environment snapshot")}))}}])},44516:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(92816);a().module("portainer.app").directive("intervalFormat",(function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$validators.invalidIntervalFormat=function(e){try{return e&&null!==e.toUpperCase().match(/^P?(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T?(?=\d+[HMS])(\d+H)?(\d+M)?(\d+S)?)?$/gm)}catch(e){return!1}},r.$validators.minimumInterval=function(e){try{return e&&(0,i.Z)(e,"minute")>=1}catch(e){return!1}}}}}))},45679:function(){angular.module("portainer.app").directive("onEnterKey",[function(){return{restrict:"A",link:function(e,t,n){t.bind("keydown keypress",(function(t){13===t.which&&(t.preventDefault(),e.$apply((function(){e.$eval(n.onEnterKey)})))}))}}}])},22730:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(25601);const s=n(50182);a().module("portainer.app").component("optionPanel",{templateUrl:s,controller:i.default,bindings:{ngModel:"<",explanation:"@",onChange:"<"}})},25601:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(){this.switchPruneService=this.switchPruneService.bind(this)}switchPruneService(){this.onChange(this.ngModel)}}r.$inject=[]},46621:function(e,t,n){const r=n(52273);angular.module("portainer.app").component("productItem",{templateUrl:r,bindings:{model:"<",goTo:"<"}})},38222:function(e,t,n){const r=n(2050);angular.module("portainer.app").component("productList",{templateUrl:r,bindings:{titleText:"@",products:"<",goTo:"<"}})},97554:function(e,t,n){"use strict";n.r(t),n.d(t,{registryDetails:function(){return i}});var r=n(29274),a=n.n(r);const i={templateUrl:n(22746),bindings:{registry:"<"}};a().module("portainer.app").component("registryDetails",i)},90434:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(63010);a().module("portainer.app").component("sensitiveDetails",{templateUrl:i,bindings:{key:"@",value:"@"}})},53712:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(39773);a().module("portainer.app").component("showHide",{templateUrl:i,bindings:{value:"<",useAsterisk:"<"}})},77337:function(e,t,n){const r=n(55419);angular.module("portainer.app").component("slider",{templateUrl:r,controller:"SliderController",bindings:{model:"=",onChange:"<",floor:"<",ceil:"<",step:"<",precision:"<"}})},58944:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);class i{constructor(e){this.$scope=e,this.buildOptions=this.buildOptions.bind(this),this.translate=this.translate.bind(this)}$onChanges(){this.buildOptions()}translate(e,t,n){return"floor"===n&&0===this.floor||0===e?"unlimited":e}buildOptions(){this.options={floor:this.floor,ceil:this.ceil,step:this.step,precision:this.precision,showSelectionBar:!0,enforceStep:!1,translate:this.translate,onChange:()=>this.onChange()}}$onInit(){this.buildOptions()}}i.$inject=["$scope"],t.default=i,a().module("portainer.app").controller("SliderController",i)},10018:function(e,t,n){"use strict";n.r(t);var r=n(71541);angular.module("portainer.app").controller("StackDuplicationFormController",["Notifications","$scope",function(e,t){var n=this;function a(){return n.formValues.endpointId}n.environmentSelectorOptions=null,n.state={duplicationInProgress:!1,migrationInProgress:!1},n.formValues={endpointId:null,newName:""},n.STACK_NAME_VALIDATION_REGEX=r.STACK_NAME_VALIDATION_REGEX,n.isFormValidForDuplication=function(){return a()&&n.formValues.newName&&!n.yamlError},n.isFormValidForMigration=a,n.duplicateStack=function(){n.formValues.newName?(n.state.duplicationInProgress=!0,n.onDuplicate({endpointId:n.formValues.endpointId,name:n.formValues.newName?n.formValues.newName:void 0}).finally((function(){n.state.duplicationInProgress=!1}))):e.error("Failure",null,"Stack name is required for duplication")},n.migrateStack=function(){n.state.migrationInProgress=!0,n.onMigrate({endpointId:n.formValues.endpointId,name:n.formValues.newName?n.formValues.newName:void 0}).finally((function(){n.state.migrationInProgress=!1}))},n.isMigrationButtonDisabled=function(){return!n.isFormValidForMigration()||n.state.duplicationInProgress||n.state.migrationInProgress||n.formValues.endpointId===n.currentEndpointId},n.isEndpointSelected=function(){return n.formValues.endpointId},n.onChangeEnvironment=function(e){return t.$evalAsync((()=>{n.formValues.endpointId=e}))},n.$onChanges=function(){n.environmentSelectorOptions=function(e,t){if(!e||!t)return[];const n=t.reduce(((e,t)=>{const n=e[t.GroupId]||[];return{...e,[t.GroupId]:[...n,{label:t.Name,value:t.Id}]}}),{});return Object.entries(n).map((([t,n])=>{const r=e.find((e=>e.Id===parseInt(t,10)));if(!r)throw new Error("missing group");return{label:r.Name,options:n}}))}(n.groups,n.endpoints)}}])},37848:function(e,t,n){const r=n(78196);angular.module("portainer.app").component("stackDuplicationForm",{templateUrl:r,controller:"StackDuplicationFormController",bindings:{onDuplicate:"&",onMigrate:"&",endpoints:"<",groups:"<",currentEndpointId:"<",yamlError:"<"}})},91709:function(e,t,n){"use strict";n.r(t),n.d(t,{statusIndicator:function(){return i}});var r=n(29274),a=n.n(r);const i={templateUrl:n(80240),bindings:{ok:"<"}};a().module("portainer.app").component("statusIndicator",i)},44677:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);const i=n(76339);a().module("portainer.app").component("templateItem",{templateUrl:i,bindings:{model:"<",typeLabel:"@",onSelect:"<"},transclude:{actions:"?templateItemActions"}})},70296:function(e,t,n){"use strict";n.r(t);var r=n(16222),a=n.n(r),i=n(44716),s=n.n(i),o=n(46006),l=n.n(o),c=n(40714),d=n.n(c);function u(e,t,n,r,i,o){var c=this;function u(e){if(e.Categories&&e.Categories.length>0&&e.Categories[0]&&e.Categories[0].length>0)return e.Categories[0].toLowerCase()}function p(e){let t;return t="Categories"===e?u:e,t}this.state={textFilter:"",selectedCategory:null,categories:[],typeFilters:[],filterByType:null,showContainerTemplates:!0,selectedOrderBy:null,orderByFields:[],orderDesc:!1},this.onTextFilterChange=function(){r.setDataTableTextFilters(this.tableKey,this.state.textFilter)},c.filterByTemplateType=function(e){switch(e.Type){case 1:return c.state.showContainerTemplates;case 2:return c.showSwarmStacks&&!c.state.showContainerTemplates;case 3:return!c.state.showContainerTemplates||null===c.state.filterByType;case 4:return!1}return!1},c.updateCategories=function(){for(var e=[],t=0;t<c.templates.length;t++){var n=c.templates[t];c.filterByTemplateType(n)&&(e=e.concat(n.Categories))}c.state.categories=d()(l()(e))},c.filterByCategory=function(e){return!c.state.selectedCategory||s()(e.Categories,c.state.selectedCategory)},this.duplicateTemplate=function(e){return t(this.duplicateTemplateAsync,e)}.bind(this),this.duplicateTemplateAsync=async function(e){try{const{FileContent:t}=await o.templateFile(e.Repository.url,e.Repository.stackfile);let r=0;2===e.Type&&(r=1),3===e.Type&&(r=2),n.go("docker.templates.custom.new",{fileContent:t,type:r})}catch(e){i.error("Failure",e,"Failed to duplicate template")}}.bind(this),c.changeOrderBy=function(t){e.$evalAsync((()=>{null===t&&(c.state.selectedOrderBy=null,c.templates=c.initalTemplates),c.state.selectedOrderBy=t,c.templates=a()(c.templates,[p(c.state.selectedOrderBy)],[c.state.orderDesc?"desc":"asc"])}))},c.applyTypeFilter=function(t){e.$evalAsync((()=>{c.state.filterByType=t,c.state.showContainerTemplates="Container"===t||null===t,c.updateCategories()}))},c.invertOrder=function(){e.$evalAsync((()=>{c.state.orderDesc=!c.state.orderDesc,c.templates=a()(c.templates,[p(c.state.selectedOrderBy)],[c.state.orderDesc?"desc":"asc"])}))},c.applyCategoriesFilter=function(t){e.$evalAsync((()=>{c.state.selectedCategory=t,c.updateCategories()}))},this.$onInit=function(){this.showSwarmStacks&&(this.state.showContainerTemplates=!1),this.updateCategories();var e=r.getDataTableTextFilters(this.tableKey);null!==e&&(this.state.textFilter=e),this.initalTemplates=this.templates,this.state.orderByFields=["Title","Categories","Description"],this.state.typeFilters=["Container","Stack"]}}u.$inject=["$scope","$async","$state","DatatableService","Notifications","TemplateService"],angular.module("portainer.app").controller("TemplateListController",u)},47177:function(e,t,n){const r=n(14309);angular.module("portainer.app").component("templateList",{templateUrl:r,controller:"TemplateListController",bindings:{titleText:"@",titleIcon:"@",templates:"<",tableKey:"@",selectAction:"<",showSwarmStacks:"<"}})},38119:function(){angular.module("portainer.app").directive("rdTemplateWidget",(function(){return{scope:{ngModel:"="},transclude:!0,template:'<div class="widget template-widget" id="template-widget" ng-transclude></div>',restrict:"EA"}}))},55472:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(65313),a=n(96112),i=n(56342),s=n(57471),o=[{id:"light",icon:r.Z,label:"Light Theme",description:"Default color mode",value:"light"},{id:"dark",icon:a.Z,label:"Dark Theme",description:"Dark color mode",value:"dark"},{id:"highcontrast",icon:i.Z,label:"High Contrast",description:"High contrast color mode",value:"highcontrast"},{id:"auto",icon:s.Z,label:"Auto",description:"Sync with system theme",value:"auto"}];class l{constructor(e,t,n,r,a,i){this.$async=e,this.Authentication=t,this.ThemeManager=n,this.StateManager=r,this.UserService=a,this.Notifications=i,this.setTheme=this.setTheme.bind(this)}async setTheme(e){try{"auto"!==e&&e?this.ThemeManager.setTheme(e):this.ThemeManager.autoTheme(),this.state.userTheme=e,this.state.isDemo||await this.UserService.updateUserTheme(this.state.userId,this.state.userTheme),this.Notifications.success("Success","User theme successfully updated")}catch(e){this.Notifications.error("Failure",e,"Unable to update user theme")}}$onInit(){return this.$async((async()=>{const e=this.StateManager.getState();this.state={userId:null,userTheme:"",defaultTheme:"auto",isDemo:e.application.demoEnvironment.enabled},this.state.availableThemes=o;try{this.state.userId=await this.Authentication.getUserDetails().ID;const e=await this.UserService.user(this.state.userId);this.state.userTheme=e.UserTheme||this.state.defaultTheme}catch(e){this.Notifications.error("Failure",e,"Unable to get user details")}}))}}l.$inject=["$async","Authentication","ThemeManager","StateManager","UserService","Notifications"]},30749:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(55472);const s=n(42662);a().module("portainer.app").component("themeSettings",{templateUrl:s,controller:i.default})},19376:function(e,t,n){"use strict";n.r(t),n.d(t,{azureEndpointConfig:function(){return r}});const r={bindings:{applicationId:"=",tenantId:"=",authenticationKey:"="},templateUrl:n(91539)}},24268:function(e,t,n){"use strict";n.r(t),n.d(t,{K8S_RESOURCE_POOL_LB_QUOTA:function(){return r},K8S_RESOURCE_POOL_STORAGE_QUOTA:function(){return a},RBAC_ROLES:function(){return i},REGISTRY_MANAGEMENT:function(){return s},K8S_SETUP_DEFAULT:function(){return o},S3_BACKUP_SETTING:function(){return l},HIDE_INTERNAL_AUTHENTICATION_PROMPT:function(){return c},TEAM_MEMBERSHIP:function(){return d},HIDE_INTERNAL_AUTH:function(){return u},EXTERNAL_AUTH_LDAP:function(){return p},ACTIVITY_AUDIT:function(){return m},HIDE_AUTO_UPDATE_WINDOW:function(){return g},FORCE_REDEPLOYMENT:function(){return h},STACK_PULL_IMAGE:function(){return f},STACK_WEBHOOK:function(){return v},CONTAINER_WEBHOOK:function(){return b}});const r="k8s-resourcepool-Ibquota",a="k8s-resourcepool-storagequota",i="rbac-roles",s="registry-management",o="k8s-setup-default",l="s3-backup-setting",c="hide-internal-authentication-prompt",d="team-membership",u="hide-internal-auth",p="external-auth-ldap",m="activity-audit",g="hide-auto-update-window",h="force-redeployment",f="stack-pull-image",v="stack-webhook",b="container-webhook"},41066:function(e,t,n){"use strict";n.r(t),n.d(t,{truncateLeftRight:function(){return m},stripProtocol:function(){return g},humanize:function(){return h},isoDateFromTimestamp:function(){return f},isoDate:function(){return v},getPairKey:function(){return b},getPairValue:function(){return y},ipAddress:function(){return w},arrayToStr:function(){return x},labelsToStr:function(){return S},endpointTypeName:function(){return C},environmentTypeIcon:function(){return k},ownershipIcon:function(){return A},truncate:function(){return P}});var r=n(89858),a=n.n(r),i=n(4396),s=n.n(i),o=n(7084),l=n.n(o),c=n(10820),d=n(85568),u=n(91821),p=n(83471);function m(e,t,n,r){return t=isNaN(t)?50:t,n=isNaN(n)?25:n,r=isNaN(r)?25:r,e.length<=t?e:e.substring(0,n)+"[...]"+e.substring(e.length-r,e.length)}function g(e){return e.replace(/.*?:\/\//g,"")}function h(e,t,n){if(t||(t=1),n||(n=10),e||0===e)return l()(e,{base:n,round:t})}function f(e){return s().unix(e).format("YYYY-MM-DD HH:mm:ss")}function v(e){return s()(e).format("YYYY-MM-DD HH:mm:ss")}function b(e,t){return e.includes(t)?e.slice(0,e.indexOf(t)):e}function y(e,t){return e.includes(t)?e.slice(e.indexOf(t)+1):""}function w(e){return e.slice(0,e.indexOf("/"))}function x(e,t){return e?a()(e,t):""}function S(e,t){return e?a()(e.map((e=>e.key+":"+e.value)),t):""}function C(e){return 1===e?"Docker":2===e||6===e?"Agent":3===e?"Azure ACI":5===e?"Kubernetes":4===e||7===e?"Edge Agent":""}function k(e){return 3===e?"fab fa-microsoft":4===e?"fa fa-cloud":5===e||6===e||7===e?"fas fa-dharmachakra":"fab fa-docker"}function A(e){switch(e){case p.X.PRIVATE:case p.X.ADMINISTRATORS:return c.Z;case p.X.RESTRICTED:return d.Z;default:return u.Z}}function P(e,t,n){return isNaN(t)&&(t=10),void 0===n&&(n="..."),e.length<=t||e.length-n.length<=t?e:String(e).substring(0,t-n.length)+n}},1740:function(e,t,n){"use strict";n.r(t);var r=n(4622),a=n.n(r),i=n(35057),s=n.n(i),o=n(29274),l=n.n(o),c=n(41066);l().module("portainer.app").filter("truncate",(()=>c.truncate)).filter("truncatelr",(()=>c.truncateLeftRight)).filter("capitalize",(()=>s())).filter("stripprotocol",(()=>c.stripProtocol)).filter("humansize",(()=>c.humanize)).filter("getisodatefromtimestamp",(()=>c.isoDateFromTimestamp)).filter("getisodate",(()=>c.isoDate)).filter("key",(()=>c.getPairKey)).filter("value",(()=>c.getPairValue)).filter("emptyobject",(()=>a())).filter("ipaddress",(()=>c.ipAddress)).filter("arraytostr",(()=>c.arrayToStr)).filter("labelsToStr",(()=>c.labelsToStr)).filter("endpointtypename",(()=>c.endpointTypeName)).filter("endpointtypeicon",(()=>c.environmentTypeIcon)).filter("ownershipicon",(()=>c.ownershipIcon))},70589:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o},isOfflineEndpoint:function(){return l}});var r=n(51235),a=n.n(r),i=n(13494);function s(e,t){return a()(t,(function(t){return t.Id===e.GroupId}))}class o{static isLocalEndpoint(e){return e.URL.includes("unix://")||e.URL.includes("npipe://")||e.Type===i.PortainerEndpointTypes.KubernetesLocalEnvironment}static isDockerEndpoint(e){return[i.PortainerEndpointTypes.DockerEnvironment,i.PortainerEndpointTypes.AgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment].includes(e.Type)}static isAgentEndpoint(e){return[i.PortainerEndpointTypes.AgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment,i.PortainerEndpointTypes.AgentOnKubernetesEnvironment,i.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment].includes(e.Type)}static isEdgeEndpoint(e){return[i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment].includes(e.Type)}static mapGroupNameToEndpoint(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=s(r,t);a&&(r.GroupName=a.Name)}}}function l(e){return 1!==e.Status}},93994:function(e,t,n){"use strict";n.r(t),n.d(t,{KEY_REGEX:function(){return i},VALUE_REGEX:function(){return s},parseDotEnvFile:function(){return c},parseArrayOfStrings:function(){return d},convertToArrayOfStrings:function(){return u}});var r=n(20810),a=n.n(r);const i=/(.+?)/.source,s=/(.*)?/.source,o=new RegExp(`^(${i})\\s*=(${s})$`),l=/\n|\r|\r\n/;function c(e){return d(a()(e.split(l)).map((e=>e.trim())).filter((e=>!e.startsWith("#")&&""!==e)))}function d(e){return e?a()(e.map((e=>{if(!e.includes("="))return{name:e};const t=e.trim().match(o);return null!=t&&t.length>4?{name:t[1].trim(),value:t[3].trim()||""}:void 0}))):[]}function u(e){return e?e.filter((e=>e.name)).map((({name:e,value:t})=>t||""===t?`${e}=${t}`:e)):[]}},30398:function(){angular.module("portainer.app").factory("FormHelper",[function(){"use strict";return{removeInvalidEnvVars:function(e){for(var t=e.length-1;t>=0;t--)e[t].name||e.splice(t,1);return e}}}])},24003:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r);class i{static findDeepAll(e,t,n=[]){return"object"==typeof e&&a()(e,((e,r)=>{r===t&&n.push(e),"object"==typeof e&&i.findDeepAll(e,t,n)})),n}}t.default=i},30556:function(e,t,n){"use strict";n.r(t);var r=n(44716),a=n.n(r),i=n(29274),s=n.n(i);class o{constructor(e){this.PREDEFINED_NETWORKS=e}isSystemNetwork(e){return a()(this.PREDEFINED_NETWORKS,e.Name)}}o.$inject=["PREDEFINED_NETWORKS"],t.default=o,s().module("portainer.app").service("NetworkHelper",o)},50433:function(e,t,n){"use strict";function r(){const e=document.getElementById("base");return e?e.getAttribute("href"):"/"}n.r(t),n.d(t,{baseHref:function(){return r}})},43622:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r),i=n(41952),s=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c),u=n(83471),p=n(1870);class m{RCViewModelToOwnershipParameters(e,t){if(!t)return new p.ResourceControlOwnershipParameters(!0);let n=!1,r=!1,a=[],i=[];switch(t.Ownership){case u.X.PUBLIC:r=!0;break;case u.X.PRIVATE:a=[e];break;case u.X.RESTRICTED:a=l()(t.UserAccesses,(e=>e.UserId)),i=l()(t.TeamAccesses,(e=>e.TeamId));break;default:n=!0}return new p.ResourceControlOwnershipParameters(n,r,a,i)}RCFormDataToOwnershipParameters(e,t,n=[]){t.AccessControlEnabled||(t.Ownership=u.X.PUBLIC);let r=!1,a=!1,i=[],s=[];switch(t.Ownership){case u.X.PUBLIC:a=!0;break;case u.X.PRIVATE:i.push(e);break;case u.X.RESTRICTED:i=l()(t.AuthorizedUsers,(e=>e.Id)),s=l()(t.AuthorizedTeams,(e=>e.Id));break;default:r=!0}return new p.ResourceControlOwnershipParameters(r,a,i,s,n)}retrieveAuthorizedUsers(e,t){const n=[];return s()(e.UserAccesses,(e=>{const r=a()(t,{Id:e.UserId});r&&n.push(r)})),n}retrieveAuthorizedTeams(e,t){const n=[];return s()(e.TeamAccesses,(e=>{const r=a()(t,{Id:e.TeamId});r&&n.push(r)})),n}}t.default=m,d().module("portainer.app").service("ResourceControlHelper",m)},13118:function(e,t,n){"use strict";n.r(t),n.d(t,{extractContainerNames:function(){return b}});var r=n(89858),a=n.n(r),i=n(65491),s=n.n(i),o=n(63209),l=n.n(o),c=n(46006),d=n.n(c),u=n(93715),p=n.n(u),m=n(78879),g=n.n(m),h=n(24003),f=n(49036);function v(e,t,n=[]){let r;try{r=g().parse(e)}catch(e){return"There is an error in the yaml syntax: "+e}const i=d()(h.default.findDeepAll(r,"container_name")),o=l()(s()(t,n),i);return 0===o.length?"":(1===o.length?"This container name is":"These container names are")+" already used by another container running in this environment: "+a()(o,", ")+"."}function b(e=""){let t;try{t=g().parse(e)}catch(e){return[]}return d()(h.default.findDeepAll(t,"container_name"))}angular.module("portainer.app").factory("StackHelper",[function(){var e={};function t(e,t,n){return p()(e.filter((e=>e.Labels&&e.Labels[t])).map((e=>new f.ExternalStackViewModel(e.Labels[t],n,e.Created))),"Name")}return e.getExternalStacksFromContainers=function(e){return t(e,"com.docker.compose.project",2)},e.getExternalStacksFromServices=function(e){return t(e,"com.docker.stack.namespace",1)},e.validateYAML=v,e}])},91619:function(e,t,n){"use strict";n.r(t),n.d(t,{idsToTagNames:function(){return c}});var r=n(66539),a=n.n(r),i=n(44716),s=n.n(i),o=n(83432),l=n.n(o);function c(e,t){const n=l()(e,(e=>s()(t,e.Id)));return a()(n,"Name")}},69424:function(e,t,n){"use strict";n.r(t);var r=n(46006),a=n.n(r);angular.module("portainer.app").factory("TemplateHelper",[function(){return{getDefaultContainerConfiguration:function(){return{Env:[],OpenStdin:!1,Tty:!1,ExposedPorts:{},HostConfig:{RestartPolicy:{Name:"no"},PortBindings:{},Binds:[],Privileged:!1,ExtraHosts:[]},Volumes:{},Labels:{}}},portArrayToPortConfiguration:function(e){var t={bindings:{},exposedPorts:{}};return e.forEach((function(e){if(e.containerPort){var n=e.containerPort+"/"+e.protocol,r={};if(e.hostPort&&(r.HostPort=e.hostPort,e.hostPort.indexOf(":")>-1)){var a=e.hostPort.split(":");r.HostIp=a[0],r.HostPort=a[1]}t.bindings[n]=[r],t.exposedPorts[n]={}}})),t},updateContainerConfigurationWithLabels:function(e){var t={};return e.forEach((function(e){e.name&&(e.value?t[e.name]=e.value:t[e.name]="")})),t},EnvToStringArray:function(e){var t=[];return e.forEach((function(e){if(e.value||e.set){var n=e.set?e.set:e.value;t.push(e.name+"="+n)}})),t},getConsoleConfiguration:function(e){var t={openStdin:!1,tty:!1};return!0===e&&(t.openStdin=!0,t.tty=!0),t},createVolumeBindings:function(e,t){e.forEach((function(e){var n;e.container&&("auto"===e.type?n=t.pop().Id+":"+e.container:"auto"!==e.type&&e.bind&&(n=e.bind+":"+e.container),e.readonly&&(n+=":ro"),e.binding=n)}))},determineRequiredGeneratedVolumeCount:function(e){var t=0;return e.forEach((function(e){"auto"===e.type&&++t})),t},getUniqueCategories:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t=t.concat(r.Categories)}return a()(t)}}}])},79190:function(){angular.module("portainer.app").factory("URLHelper",["$window",function(e){"use strict";var t={getParameter:function(t){return e.location.search.replace(/.*?\?/,"").split("&").reduce((function(e,t){var n=t.split("="),r=n[0],a=n[1];return e[r]=a,e}),{})[t]},cleanParameters:function(){e.location.replace(e.location.origin+e.location.pathname+e.location.hash)}};return t}])},7341:function(e,t,n){"use strict";n.r(t);var r=n(50433);angular.module("portainer.app").factory("WebhookHelper",["$location","API_ENDPOINT_WEBHOOKS","API_ENDPOINT_STACKS",function(e,t,n){var a={};let i;const s=e.protocol().toLowerCase();if("file"!==s){const t=e.host(),n=e.port();i=`${s}://${t}${"http"===s&&80===n||"https"===s&&443===n?"":":"+n}${(0,r.baseHref)()}`}else i=(0,r.baseHref)();return a.returnWebhookUrl=function(e){return`${i}${t}/${e}`},a.returnStackWebhookUrl=function(e){return`${i}${n}/webhooks/${e}`},a}])},89940:function(e,t,n){"use strict";n.r(t);var r=n(44716),a=n.n(r),i=n(13507),s=n.n(i);angular.module("portainer.app").factory("EndpointStatusInterceptor",["$q","EndpointProvider",function(e,t){var n={};function r(e){return s()(e,"api/")&&(a()(e,"/containers")||a()(e,"/images")||a()(e,"/volumes")||a()(e,"/networks")||a()(e,"/info")||a()(e,"/version"))}return n.response=function(n){var a=n.config.url;return 200===n.status&&r(a)&&t.offlineMode()&&t.setOfflineMode(!1),n||e.when(n)},n.responseError=function(n){if(n.config){var a=n.config.url;502!==n.status&&503!==n.status&&-1!==n.status||!r(a)||t.offlineMode()||t.setOfflineMode(!0)}return e.reject(n)},n}])},93133:function(e,t,n){"use strict";function r(e){this.Id=e.Id,this.Name=e.Username,this.Type="user",this.Inherited=!1,this.Override=!1,this.Role={Id:0,Name:"-"},this.icon='<i class="fa fa-user" aria-hidden="true"></i>'}function a(e){this.Id=e.Id,this.Name=e.Name,this.Type="team",this.Inherited=!1,this.Override=!1,this.Role={Id:0,Name:"-"},this.icon='<i class="fa fa-users" aria-hidden="true"></i>'}n.r(t),n.d(t,{UserAccessViewModel:function(){return r},TeamAccessViewModel:function(){return a}})},74962:function(e,t,n){"use strict";n.r(t),n.d(t,{DockerHubViewModel:function(){return a}});var r=n(56414);function a(){this.Id=0,this.Type=r.RegistryTypes.ANONYMOUS,this.Name="Docker Hub (anonymous)",this.URL="docker.io"}},690:function(e,t,n){"use strict";n.r(t),n.d(t,{PortainerEndpointInitFormValues:function(){return a},PortainerEndpointInitFormValueEndpointSections:function(){return s}});var r=n(13494);class a{constructor(){this.ConnectionType=r.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL,this.Name="",this.URL="",this.TLS=!1,this.TLSSkipVerify=!1,this.TLSSKipClientVerify=!1,this.TLSCACert=null,this.TLSCert=null,this.TLSKey=null,this.AzureApplicationId="",this.AzureTenantId="",this.AzureAuthenticationKey=""}}class i{constructor(e,t,n,r){this.Id=e,this.Value=e,this.Title=t,this.Classes=n,this.Description=r}}const s=Object.freeze([new i(r.PortainerEndpointConnectionTypes.DOCKER_LOCAL,"Docker","fab fa-docker","Manage the local Docker environment"),new i(r.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL,"Kubernetes","fas fa-dharmachakra","Manage the local Kubernetes environment"),new i(r.PortainerEndpointConnectionTypes.AGENT,"Agent","fa fa-bolt","Connect to a Portainer agent")])},13494:function(e,t,n){"use strict";n.r(t),n.d(t,{PortainerEndpointTypes:function(){return r},PortainerEndpointCreationTypes:function(){return a},PortainerEndpointConnectionTypes:function(){return i}});const r=Object.freeze({DockerEnvironment:1,AgentOnDockerEnvironment:2,AzureEnvironment:3,EdgeAgentOnDockerEnvironment:4,KubernetesLocalEnvironment:5,AgentOnKubernetesEnvironment:6,EdgeAgentOnKubernetesEnvironment:7}),a=Object.freeze({LocalDockerEnvironment:1,AgentEnvironment:2,AzureEnvironment:3,EdgeAgentEnvironment:4,LocalKubernetesEnvironment:5}),i=Object.freeze({DOCKER_LOCAL:1,KUBERNETES_LOCAL:2,REMOTE:3,AZURE:4,AGENT:5,EDGE:6})},62365:function(e,t,n){"use strict";function r(e){this.Id=e.id,this.Description=e.description,this.Name=e.name,this.Namespace=e.namespace?e.namespace.name:"",this.PathWithNamespace=e.path_with_namespace,this.RegistryEnabled=e.container_registry_enabled}n.r(t),n.d(t,{RegistryGitlabProject:function(){return r}})},79607:function(e,t,n){"use strict";function r(){this.Name="",this.Description="",this.TagIds=[]}function a(e){this.Id=e.Id,this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AuthorizedUsers=e.AuthorizedUsers,this.AuthorizedTeams=e.AuthorizedTeams,this.UserAccessPolicies=e.UserAccessPolicies,this.TeamAccessPolicies=e.TeamAccessPolicies}function i(e,t){this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AssociatedEndpoints=t}function s(e,t){this.id=e.Id,this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AssociatedEndpoints=t,this.UserAccessPolicies=e.UserAccessPolicies,this.TeamAccessPolicies=e.TeamAccessPolicies}n.r(t),n.d(t,{EndpointGroupDefaultModel:function(){return r},EndpointGroupModel:function(){return a},EndpointGroupCreateRequest:function(){return i},EndpointGroupUpdateRequest:function(){return s}})},33180:function(e,t,n){"use strict";n.r(t),n.d(t,{RegistryViewModel:function(){return s},RegistryManagementConfigurationDefaultModel:function(){return o},RegistryCreateFormValues:function(){return l},RegistryCreateRequest:function(){return c}});var r=n(30465),a=n.n(r),i=n(56414);function s(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.URL=e.URL,this.BaseURL=e.BaseURL,this.Authentication=e.Authentication,this.Username=e.Username,this.Password=e.Password,this.RegistryAccesses=e.RegistryAccesses,this.Checked=!1,this.Gitlab=e.Gitlab,this.Quay=e.Quay,this.Ecr=e.Ecr}function o(e){this.Authentication=!1,this.Password="",this.TLS=!1,this.TLSSkipVerify=!1,this.TLSCACertFile=null,this.TLSCertFile=null,this.TLSKeyFile=null,e.Type===i.RegistryTypes.ECR&&(this.Region=e.Ecr.Region,this.TLSSkipVerify=!0),e.Type!==i.RegistryTypes.QUAY&&e.Type!==i.RegistryTypes.AZURE&&e.Type!==i.RegistryTypes.ECR||(this.Authentication=!0,this.Username=e.Username,this.TLS=!0),e.Type!==i.RegistryTypes.CUSTOM&&e.Type!==i.RegistryTypes.PROGET||!e.Authentication||(this.Authentication=!0,this.Username=e.Username)}function l(){this.Type=i.RegistryTypes.CUSTOM,this.URL="",this.Name="",this.Authentication=!1,this.Username="",this.Password=""}function c(e){this.Name=e.Name,this.Type=e.Type,this.URL=a()(e.URL,/^https?\:\/\//i,""),this.URL=a()(this.URL,/\/$/,""),this.Authentication=e.Authentication,e.Authentication&&(this.Username=e.Username,this.Password=e.Password),e.Type===i.RegistryTypes.GITLAB&&(this.Gitlab={ProjectId:e.Gitlab.ProjectId,InstanceURL:e.Gitlab.InstanceURL,ProjectPath:e.Gitlab.ProjectPath}),e.Type===i.RegistryTypes.ECR&&(this.Ecr=e.Ecr),e.Type===i.RegistryTypes.QUAY&&(this.Quay={useOrganisation:e.Quay.useOrganisation,organisationName:e.Quay.organisationName}),e.Type===i.RegistryTypes.PROGET&&(this.BaseURL=a()(e.BaseURL,/^https?\:\/\//i,""),this.BaseURL=a()(this.BaseURL,/\/$/,""))}},64088:function(e,t,n){"use strict";n.r(t),n.d(t,{RegistryRepositoryViewModel:function(){return i},RegistryRepositoryGitlabViewModel:function(){return s}});var r=n(46545),a=n.n(r);function i(e){e.name&&e.tags?(this.Name=e.name,this.TagsCount=a()(e.tags,null).length):(this.Name=e,this.TagsCount=0)}function s(e){this.Name=e.path,this.TagsCount=e.tags.length}},56414:function(e,t,n){"use strict";n.r(t),n.d(t,{RegistryTypes:function(){return r}});const r=Object.freeze({ANONYMOUS:0,QUAY:1,AZURE:2,CUSTOM:3,GITLAB:4,PROGET:5,DOCKERHUB:6,ECR:7})},74392:function(e,t,n){"use strict";function r(e,t,n){this.ResourceID=e,this.Type=t,this.Public=n.Public,this.AdministratorsOnly=n.AdministratorsOnly,this.Users=n.Users,this.Teams=n.Teams,this.SubResourceIDs=n.SubResourceIDs}n.r(t),n.d(t,{ResourceControlCreatePayload:function(){return r}})},1870:function(e,t,n){"use strict";function r(e=!1,t=!1,n=[],r=[],a=[]){this.AdministratorsOnly=e,this.Public=t,this.Users=n,this.Teams=r,this.SubResourceIDs=a}n.r(t),n.d(t,{ResourceControlOwnershipParameters:function(){return r}})},82653:function(e,t,n){"use strict";function r(e){this.Name=e.Name,this.Recurring=e.Recurring,this.CronExpression=e.CronExpression,this.Endpoints=e.Endpoints,this.FileContent=e.FileContent,this.File=e.File}function a(e){this.id=e.Id,this.Name=e.Name,this.Recurring=e.Recurring,this.CronExpression=e.CronExpression,this.Endpoints=e.Endpoints,this.FileContent=e.FileContent}n.r(t),n.d(t,{ScheduleCreateRequest:function(){return r},ScheduleUpdateRequest:function(){return a}})},55287:function(e,t,n){"use strict";function r(e){this.LogoURL=e.LogoURL,this.BlackListedLabels=e.BlackListedLabels,this.AuthenticationMethod=e.AuthenticationMethod,this.InternalAuthSettings=e.InternalAuthSettings,this.LDAPSettings=e.LDAPSettings,this.OAuthSettings=new c(e.OAuthSettings),this.openAMTConfiguration=e.openAMTConfiguration,this.fdoConfiguration=e.fdoConfiguration,this.SnapshotInterval=e.SnapshotInterval,this.TemplatesURL=e.TemplatesURL,this.EdgeAgentCheckinInterval=e.EdgeAgentCheckinInterval,this.EnableEdgeComputeFeatures=e.EnableEdgeComputeFeatures,this.FeatureFlagSettings=e.FeatureFlagSettings,this.UserSessionTimeout=e.UserSessionTimeout,this.EnableTelemetry=e.EnableTelemetry,this.KubeconfigExpiry=e.KubeconfigExpiry,this.HelmRepositoryURL=e.HelmRepositoryURL,this.TrustOnFirstConnect=e.TrustOnFirstConnect,this.EnforceEdgeID=e.EnforceEdgeID,this.AgentSecret=e.AgentSecret,this.EdgePortainerUrl=e.EdgePortainerUrl}function a(e){this.AuthenticationMethod=e.AuthenticationMethod,this.TeamSync=e.TeamSync,this.RequiredPasswordLength=e.RequiredPasswordLength,this.EnableEdgeComputeFeatures=e.EnableEdgeComputeFeatures,this.EnforceEdgeID=e.EnforceEdgeID,this.LogoURL=e.LogoURL,this.OAuthLoginURI=e.OAuthLoginURI,this.EnableTelemetry=e.EnableTelemetry,this.OAuthLogoutURI=e.OAuthLogoutURI,this.KubeconfigExpiry=e.KubeconfigExpiry,this.Features=e.Features,this.Edge=new d(e.Edge),this.DefaultRegistry=e.DefaultRegistry}function i(e){this.RequiredPasswordLength=e.RequiredPasswordLength}function s(e){this.ReaderDN=e.ReaderDN,this.Password=e.Password,this.URL=e.URL,this.SearchSettings=e.SearchSettings,this.GroupSearchSettings=e.GroupSearchSettings,this.AutoCreateUsers=e.AutoCreateUsers}function o(e,t,n){this.BaseDN=e,this.UsernameAttribute=t,this.Filter=n}function l(e,t,n){this.GroupBaseDN=e,this.GroupAttribute=t,this.GroupFilter=n}function c(e){this.ClientID=e.ClientID,this.ClientSecret=e.ClientSecret,this.AccessTokenURI=e.AccessTokenURI,this.AuthorizationURI=e.AuthorizationURI,this.ResourceURI=e.ResourceURI,this.RedirectURI=e.RedirectURI,this.UserIdentifier=e.UserIdentifier,this.Scopes=e.Scopes,this.OAuthAutoCreateUsers=e.OAuthAutoCreateUsers,this.DefaultTeamID=e.DefaultTeamID,this.SSO=e.SSO,this.LogoutURI=e.LogoutURI}function d(e={}){this.CheckinInterval=e.CheckinInterval,this.PingInterval=e.PingInterval,this.SnapshotInterval=e.SnapshotInterval,this.CommandInterval=e.CommandInterval,this.AsyncMode=e.AsyncMode}n.r(t),n.d(t,{SettingsViewModel:function(){return r},PublicSettingsViewModel:function(){return a},InternalAuthSettingsViewModel:function(){return i},LDAPSettingsViewModel:function(){return s},LDAPSearchSettings:function(){return o},LDAPGroupSearchSettings:function(){return l},OAuthSettingsViewModel:function(){return c},EdgeSettingsViewModel:function(){return d}})},49036:function(e,t,n){"use strict";n.r(t),n.d(t,{StackViewModel:function(){return a},ExternalStackViewModel:function(){return i},OrphanedStackViewModel:function(){return s}});var r=n(80178);function a(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.EndpointId=e.EndpointId,this.SwarmId=e.SwarmId,this.Env=e.Env?e.Env:[],this.Option=e.Option,this.IsComposeFormat=e.IsComposeFormat,e.ResourceControl&&0!==e.ResourceControl.Id&&(this.ResourceControl=new r.w(e.ResourceControl)),this.Status=e.Status,this.CreationDate=e.CreationDate,this.CreatedBy=e.CreatedBy,this.UpdateDate=e.UpdateDate,this.UpdatedBy=e.UpdatedBy,this.Regular=!0,this.External=!1,this.Orphaned=!1,this.Checked=!1,this.GitConfig=e.GitConfig,this.FromAppTemplate=e.FromAppTemplate,this.AdditionalFiles=e.AdditionalFiles,this.AutoUpdate=e.AutoUpdate}function i(e,t,n){this.Name=e,this.Type=t,this.CreationDate=n,this.Regular=!1,this.External=!0,this.Orphaned=!1,this.Checked=!1}function s(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.EndpointId=e.EndpointId,this.SwarmId=e.SwarmId,this.Env=e.Env?e.Env:[],this.Option=e.Option,e.ResourceControl&&0!==e.ResourceControl.Id&&(this.ResourceControl=new r.w(e.ResourceControl)),this.Status=e.Status,this.CreationDate=e.CreationDate,this.CreatedBy=e.CreatedBy,this.UpdateDate=e.UpdateDate,this.UpdatedBy=e.UpdatedBy,this.Regular=!1,this.External=!1,this.Orphaned=!0,this.OrphanedRunning=!1,this.Checked=!1}},95154:function(e,t,n){"use strict";function r(e){this.Authentication=e.Authentication,this.Snapshot=e.Snapshot,this.Version=e.Version,this.Edition=e.Edition,this.InstanceID=e.InstanceID,this.DemoEnvironment=e.DemoEnvironment}function a(e){this.UpdateAvailable=e.UpdateAvailable,this.LatestVersion=e.LatestVersion}n.r(t),n.d(t,{StatusViewModel:function(){return r},StatusVersionViewModel:function(){return a}})},26410:function(e,t,n){"use strict";n.r(t),n.d(t,{TagViewModel:function(){return i}});var r=n(3520),a=n.n(r);function i(e){this.Id=e.ID,this.Name=a()(e.Name)}},58552:function(e,t,n){"use strict";n.r(t),n.d(t,{TeamViewModel:function(){return i}});var r=n(3520),a=n.n(r);function i(e){this.Id=e.Id,this.Name=a()(e.Name),this.Checked=!1}},3010:function(e,t,n){"use strict";function r(e){this.Id=e.Id,this.UserId=e.UserID,this.TeamId=e.TeamID,this.Role=e.Role}n.r(t),n.d(t,{TeamMembershipModel:function(){return r}})},76185:function(e,t,n){"use strict";n.r(t),n.d(t,{TemplateViewModel:function(){return s}});var r=n(17465),a=n.n(r),i=n(76939);class s{constructor(e,t){if("2"!==t)throw new Error("Unsupported template version");this.setTemplatesV2(e)}setTemplatesV2(e){this.Id=e.Id,this.Title=e.title,this.Type=e.type,this.Description=e.description,this.AdministratorOnly=e.AdministratorOnly,this.Name=e.name,this.Note=e.note,this.Categories=e.categories?e.categories:[],this.Platform=e.platform?e.platform:"",this.Logo=e.logo,this.Repository=e.repository,this.Hostname=e.hostname,this.RegistryModel=new i.PorImageRegistryModel,this.RegistryModel.Image=e.image,this.RegistryModel.Registry.URL=e.registry||"",this.Command=e.command?e.command:"",this.Network=e.network?e.network:"",this.Privileged=!!e.privileged&&e.privileged,this.Interactive=!!e.interactive&&e.interactive,this.RestartPolicy=e.restart_policy?e.restart_policy:"always",this.Labels=e.labels?e.labels:[],this.Hosts=e.hosts?e.hosts:[],this.Env=function(e){var t=[];return e.env&&(t=e.env.map((function(e){if(e.type=2,e.value=e.default?e.default:"",e.preset&&(e.type=1),e.select){e.type=3;for(var t=0;t<e.select.length;t++){var n=e.select[t];if(n.default){e.value=n.value;break}}}return e}))),t}(e),this.Volumes=function(e){var t=[];return e.volumes&&(t=e.volumes.map((function(e){return{container:e.container,readonly:e.readonly||!1,type:e.bind?"bind":"auto",bind:e.bind?e.bind:null}}))),t}(e),this.Ports=function(e){var t=[];return e.ports&&(t=e.ports.map((function(e){var t=a()(e,"/"),n=a()(t[0],":");return{hostPort:n.length>1?n[0]:void 0,containerPort:n.length>1?n[1]:n[0],protocol:t[1]}}))),t}(e)}}},90327:function(e,t,n){"use strict";function r(e){this.Id=e.Id,this.Username=e.Username,this.Role=e.Role,this.UserTheme=e.UserTheme,1===e.Role?this.RoleName="administrator":this.RoleName="user",this.AuthenticationMethod=e.AuthenticationMethod,this.Checked=!1,this.EndpointAuthorizations=null,this.PortainerAuthorizations=null}function a(e){this.id=e.id,this.userId=e.userId,this.description=e.description,this.prefix=e.prefix,this.dateCreated=e.dateCreated,this.lastUsed=e.lastUsed}n.r(t),n.d(t,{UserViewModel:function(){return r},UserTokenModel:function(){return a}})},74708:function(e,t,n){"use strict";function r(e){this.Id=e.Id,this.Token=e.Token,this.ResourceId=e.ResourceID,this.EndpointId=e.EndpointID,this.WebhookType=e.WebhookType}n.r(t),n.d(t,{WebhookViewModel:function(){return r}})},77274:function(){angular.module("portainer.oauth",["ngResource"]).constant("API_ENDPOINT_OAUTH","api/auth/oauth")},21869:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(6343);const s=n(59154);a().module("portainer.oauth").component("oauthProvidersSelector",{templateUrl:s,bindings:{onChange:"<",value:"<"},controller:i.default})},6343:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(94410),a=n(26196),i=n(80257),s=n(31821),o=n(31352),l=n(90134),c=n(2629),d=[{id:"microsoft",icon:i.Z,featherIcon:!0,label:"Microsoft",description:"Microsoft OAuth provider",value:"microsoft",feature:a.tE.HIDE_INTERNAL_AUTH},{id:"google",icon:s.Z,label:"Google",description:"Google OAuth provider",value:"google",feature:a.tE.HIDE_INTERNAL_AUTH},{id:"github",icon:o.Z,label:"Github",description:"Github OAuth provider",value:"github",feature:a.tE.HIDE_INTERNAL_AUTH},{id:"custom",icon:(0,c.jsx)(l.V,{icon:r.Z}),label:"Custom",description:"Custom OAuth provider",value:"custom"}];class u{constructor(){this.options=d}}},10453:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(30152);const s=n(11318);a().module("portainer.oauth").component("oauthSettings",{templateUrl:s,bindings:{settings:"=",teams:"<",onSaveSettings:"<",saveButtonState:"<"},controller:i.default})},30152:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(50433),a=n(20037),i=n(26196),s=n(67879);const o="TENANT_ID";class l{constructor(e){Object.assign(this,{$scope:e}),this.limitedFeature=i.tE.HIDE_INTERNAL_AUTH,this.limitedFeatureClass="limited-be",this.state={provider:"custom",overrideConfiguration:!1,microsoftTenantID:""},this.$onInit=this.$onInit.bind(this),this.onSelectProvider=this.onSelectProvider.bind(this),this.onMicrosoftTenantIDChange=this.onMicrosoftTenantIDChange.bind(this),this.useDefaultProviderConfiguration=this.useDefaultProviderConfiguration.bind(this),this.updateSSO=this.updateSSO.bind(this),this.addTeamMembershipMapping=this.addTeamMembershipMapping.bind(this),this.removeTeamMembership=this.removeTeamMembership.bind(this),this.onToggleAutoTeamMembership=this.onToggleAutoTeamMembership.bind(this)}onMicrosoftTenantIDChange(){const e=this.state.microsoftTenantID||o;this.settings.AuthorizationURI=`https://login.microsoftonline.com/${e}/oauth2/v2.0/authorize`,this.settings.AccessTokenURI=`https://login.microsoftonline.com/${e}/oauth2/v2.0/token`,this.settings.ResourceURI="https://graph.microsoft.com/v1.0/me",this.settings.LogoutURI=`https://login.microsoftonline.com/${e}/oauth2/v2.0/logout`}useDefaultProviderConfiguration(e){const t=s.default[e];this.state.overrideConfiguration=!1,this.isLimitedToBE&&"custom"!==e?(this.settings.ClientID="",this.settings.ClientSecret=""):(this.settings.AuthorizationURI=t.authUrl,this.settings.AccessTokenURI=t.accessTokenUrl,this.settings.ResourceURI=t.resourceUrl,this.settings.LogoutURI=t.logoutUrl,this.settings.UserIdentifier=t.userIdentifier,this.settings.Scopes=t.scopes,"microsoft"===e&&""!==this.state.microsoftTenantID&&this.onMicrosoftTenantIDChange())}onSelectProvider(e){this.state.provider=e,this.useDefaultProviderConfiguration(e)}updateSSO(e){this.$scope.$evalAsync((()=>{this.settings.SSO=e,this.onChangeHideInternalAuth(e)}))}onChangeHideInternalAuth(e){this.$scope.$evalAsync((()=>{this.isLimitedToBE||(this.settings.HideInternalAuth=e)}))}onToggleAutoTeamMembership(e){this.$scope.$evalAsync((()=>{this.settings.OAuthAutoMapTeamMemberships=e}))}addTeamMembershipMapping(){this.settings.TeamMemberships.OAuthClaimMappings.push({ClaimValRegex:"",Team:this.settings.DefaultTeamID})}removeTeamMembership(e){this.settings.TeamMemberships.OAuthClaimMappings.splice(e,1)}isOAuthTeamMembershipFormValid(){if(this.settings.OAuthAutoMapTeamMemberships&&this.settings.TeamMemberships){if(!this.settings.TeamMemberships.OAuthClaimName)return!1;if(this.settings.TeamMemberships.OAuthClaimMappings.some((e=>!(e.ClaimValRegex&&e.Team))))return!1}return!0}$onInit(){if(this.isLimitedToBE=(0,a.vx)(this.limitedFeature),!this.isLimitedToBE){if(""===this.settings.RedirectURI&&(this.settings.RedirectURI=window.location.origin+(0,r.baseHref)()),this.settings.AuthorizationURI){const e=this.settings.AuthorizationURI;if(this.state.provider=(0,s.getProviderByUrl)(e),"microsoft"===this.state.provider){const t=e.match(/login.microsoftonline.com\/(.*?)\//)[1];t!==o&&(this.state.microsoftTenantID=t,this.onMicrosoftTenantIDChange())}}0===this.settings.DefaultTeamID&&(this.settings.DefaultTeamID=null),null==this.settings.TeamMemberships&&(this.settings.TeamMemberships={}),null===this.settings.TeamMemberships.OAuthClaimMappings&&(this.settings.TeamMemberships.OAuthClaimMappings=[])}}}l.$inject=["$scope"]},67879:function(e,t,n){"use strict";n.r(t),n.d(t,{getProviderByUrl:function(){return a}});var r=n(50433);function a(e=""){return e.includes("login.microsoftonline.com")?"microsoft":e.includes("accounts.google.com")?"google":e.includes("github.com")?"github":"custom"}t.default={microsoft:{authUrl:"https://login.microsoftonline.com/TENANT_ID/oauth2/v2.0/authorize",accessTokenUrl:"https://login.microsoftonline.com/TENANT_ID/oauth2/v2.0/token",resourceUrl:"https://graph.microsoft.com/v1.0/me",logoutUrl:"https://login.microsoftonline.com/TENANT_ID/oauth2/v2.0/logout",userIdentifier:"userPrincipalName",scopes:"profile openid"},google:{authUrl:"https://accounts.google.com/o/oauth2/auth",accessTokenUrl:"https://accounts.google.com/o/oauth2/token",resourceUrl:"https://www.googleapis.com/oauth2/v1/userinfo?alt=json",logoutUrl:`https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=${window.location.origin}${(0,r.baseHref)()}#!/auth`,userIdentifier:"email",scopes:"profile email"},github:{authUrl:"https://github.com/login/oauth/authorize",accessTokenUrl:"https://github.com/login/oauth/access_token",resourceUrl:"https://api.github.com/user",logoutUrl:"https://github.com/logout",userIdentifier:"login",scopes:"id email name"},custom:{authUrl:"",accessTokenUrl:"",resourceUrl:"",logoutUrl:"",userIdentifier:"",scopes:""}}},18152:function(){angular.module("portainer.oauth").factory("OAuth",["$resource","API_ENDPOINT_OAUTH",function(e,t){"use strict";return e(t+"/:action",{},{validate:{method:"POST",ignoreLoadingBar:!0,params:{action:"validate"}}})}])},3589:function(e,t,n){"use strict";n.r(t),n.d(t,{accessViewerDatatable:function(){return r}});const r={templateUrl:n(27707),controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",tableKey:"@",orderBy:"@",dataset:"<",isAdmin:"<"}}},79657:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(41952),a=n.n(r),i=n(22937),s=n.n(i),o=n(51235),l=n.n(o),c=n(16222),d=n.n(c),u=n(6806),p=n.n(u),m=n(68582),g=n.n(m),h=n(82549),f=n.n(h),v=n(83432),b=n.n(v),y=n(20037),w=n(31848),x=n(82853);class S{constructor(e,t,n,r,a,i,s,o){this.$scope=e,this.Notifications=t,this.RoleService=n,this.UserService=r,this.GroupService=a,this.TeamService=i,this.TeamMembershipService=s,this.Authentication=o,this.limitedFeature="rbac-roles",this.users=[],this.selectedUserId=null,this.onUserSelect=this.onUserSelect.bind(this)}onUserSelect(e){this.$scope.$evalAsync((()=>{this.userRoles=[],this.selectedUserId=e;const t={},n=this.allUsers.find((t=>t.Id===e));if(!n)throw new Error("User not found");const r=b()(this.teamMemberships,{UserId:n.Id});for(const[,e]of f()(this.endpoints)){let a=this.getRoleFromUserEndpointPolicy(n,e);a?t[e.Id]=a:(a=this.getRoleFromUserEndpointGroupPolicy(n,e),a?t[e.Id]=a:(a=this.getRoleFromTeamEndpointPolicies(r,e),a?t[e.Id]=a:(a=this.getRoleFromTeamEndpointGroupPolicies(r,e),a&&(t[e.Id]=a))))}this.userRoles=g()(t)}))}findLowestRole(e){return p()(d()(e,"RolePriority","desc"))}getRoleFromUserEndpointPolicy(e,t){const n=[],r=(t.UserAccessPolicies||{})[e.Id];if(r){const e=new x.default(r,t,this.roles,null,null);n.push(e)}return this.findLowestRole(n)}getRoleFromUserEndpointGroupPolicy(e,t){const n=[],r=this.groupUserAccessPolicies[t.GroupId][e.Id];if(r){const e=new x.default(r,t,this.roles,this.groups[t.GroupId],null);n.push(e)}return this.findLowestRole(n)}getRoleFromTeamEndpointPolicies(e,t){const n=[];for(const r of e){const e=(t.TeamAccessPolicies||{})[r.TeamId];if(e){const a=new x.default(e,t,this.roles,null,this.teams[r.TeamId]);n.push(a)}}return this.findLowestRole(n)}getRoleFromTeamEndpointGroupPolicies(e,t){const n=[];for(const r of e){const e=this.groupTeamAccessPolicies[t.GroupId][r.TeamId];if(e){const a=new x.default(e,t,this.roles,this.groups[t.GroupId],this.teams[r.TeamId]);n.push(a)}}return this.findLowestRole(n)}async teamMemberUsers(e,t){if(this.isAdmin)return e;const n=[],r=this.Authentication.getUserDetails().ID,a=await this.UserService.userLeadingTeams(r),i=(e,n)=>!!l()(t,{UserId:e,TeamId:n});for(const t of e)for(const e of a)if(i(t.Id,e.Id)){n.push(t);break}return n}async $onInit(){try{if((0,y.vx)(this.limitedFeature))return;this.isAdmin=this.Authentication.isAdmin(),this.allUsers=await this.UserService.users(),this.endpoints=s()((await(0,w.hF)()).value,"Id");const e=await this.GroupService.groups();this.groupUserAccessPolicies={},this.groupTeamAccessPolicies={},a()(e,(e=>{this.groupUserAccessPolicies[e.Id]=e.UserAccessPolicies,this.groupTeamAccessPolicies[e.Id]=e.TeamAccessPolicies})),this.groups=s()(e,"Id"),this.roles=s()(await this.RoleService.roles(),"Id"),this.teams=s()(await this.TeamService.teams(),"Id"),this.teamMemberships=await this.TeamMembershipService.memberships();const t=await this.teamMemberUsers(this.allUsers,this.teamMemberships);this.users=t.map((e=>({label:e.Username,value:e.Id})))}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve accesses")}}}S.$inject=["$scope","Notifications","RoleService","UserService","GroupService","TeamService","TeamMembershipService","Authentication"]},87208:function(e,t,n){"use strict";n.r(t),n.d(t,{accessViewer:function(){return a}});var r=n(79657);const a={templateUrl:n(98538),controller:r.default}},77181:function(e,t,n){"use strict";n.r(t),n.d(t,{rolesDatatable:function(){return a}});var r=n(15560);const a={templateUrl:n(71450),controller:r.default,bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}}},15560:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(29274),a=n.n(r),i=n(61969);class s{constructor(e,t){this.limitedFeature="rbac-roles",a().extend(this,e("GenericDatatableController",{$scope:t}))}isDefaultItem(e){return e.ID===i.RoleTypes.STANDARD}}s.$inject=["$controller","$scope"]},35552:function(e,t,n){"use strict";n.r(t);var r=n(93239),a=n(87208),i=n(3589),s=n(77181),o=n(70055),l=n(37838);function c(e){e.register({name:"portainer.roles",url:"/roles",views:{"content@":{component:"rolesView"}}})}c.$inject=["$stateRegistryProvider"],angular.module("portainer.rbac",["ngResource"]).constant("API_ENDPOINT_ROLES","api/roles").component("accessViewer",a.accessViewer).component("accessViewerDatatable",i.accessViewerDatatable).component("rolesDatatable",s.rolesDatatable).component("rolesView",r.rolesView).factory("RoleService",o.RoleService).factory("Roles",l.RolesFactory).config(c)},82853:function(e,t,n){"use strict";function r(e,t,n,r,a){this.EndpointId=t.Id,this.EndpointName=t.Name,this.RoleId=e.RoleId,this.RoleName=n[e.RoleId].Name,this.RolePriority=n[e.RoleId].Priority,r&&(this.GroupId=r.Id,this.GroupName=r.Name),a&&(this.TeamId=a.Id,this.TeamName=a.Name),this.AccessLocation=r?"environment group":"environment"}n.r(t),n.d(t,{default:function(){return r}})},61969:function(e,t,n){"use strict";function r(e,t,n,r){this.ID=e,this.Name=t,this.Description=n,this.Authorizations=r}n.r(t),n.d(t,{RoleViewModel:function(){return r},RoleTypes:function(){return a}});const a=Object.freeze({ENDPOINT_ADMIN:1,HELPDESK:2,STANDARD:3,READ_ONLY:4,OPERATOR:5})},37838:function(e,t,n){"use strict";function r(e,t){return e(t+"/:id",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}}})}n.r(t),n.d(t,{RolesFactory:function(){return r}}),r.$inject=["$resource","API_ENDPOINT_ROLES"]},70055:function(e,t,n){"use strict";n.r(t),n.d(t,{RoleService:function(){return a}});var r=n(61969);function a(){const e=[new r.RoleViewModel(r.RoleTypes.ENDPOINT_ADMIN,"Environment administrator","Full control of all resources in an environment",[]),new r.RoleViewModel(r.RoleTypes.OPERATOR,"Operator","Operational Control of all existing resources in an environment",[]),new r.RoleViewModel(r.RoleTypes.HELPDESK,"Helpdesk","Read-only access of all resources in an environment",[]),new r.RoleViewModel(r.RoleTypes.READ_ONLY,"Read-only user","Read-only access of assigned resources in an environment",[]),new r.RoleViewModel(r.RoleTypes.STANDARD,"Standard user","Full control of assigned resources in an environment",[])];return{roles:function(){return e}}}},93239:function(e,t,n){"use strict";n.r(t),n.d(t,{rolesView:function(){return a}});var r=n(60090);const a={templateUrl:n(49458),controller:r.default}},60090:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(16222),a=n.n(r);class i{constructor(e,t){this.Notifications=e,this.RoleService=t}async $onInit(){this.roles=[];try{this.roles=await this.RoleService.roles(),this.roles=a()(this.roles,"Priority","asc")}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve roles")}}}i.$inject=["Notifications","RoleService"]},95599:function(){angular.module("portainer.app").factory("Auth",["$resource","API_ENDPOINT_AUTH",function(e,t){"use strict";return e(t+"/:action",{},{login:{method:"POST",ignoreLoadingBar:!0},logout:{method:"POST",params:{action:"logout"},ignoreLoadingBar:!0}})}])},59987:function(){angular.module("portainer.app").factory("Backup",["$resource","API_ENDPOINT_BACKUP",function(e,t){"use strict";return e(t+"/:subResource/:action",{},{download:{method:"POST",responseType:"arraybuffer",ignoreLoadingBar:!0,transformResponse:(e,t,n)=>{if(200!==n){const t=new TextDecoder("utf-8").decode(e);return JSON.parse(t)}return{file:e,name:t("Content-Disposition").replace("attachment; filename=","")}}},getS3Settings:{method:"GET",params:{subResource:"s3",action:"settings"}},saveS3Settings:{method:"POST",params:{subResource:"s3",action:"settings"}},exportS3Backup:{method:"POST",params:{subResource:"s3",action:"execute"}},restoreS3Backup:{method:"POST",params:{subResource:"s3",action:"restore"}}})}])},92179:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t){return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},file:{method:"GET",params:{id:"@id",action:"file"}}})}i.$inject=["$resource","API_ENDPOINT_CUSTOM_TEMPLATES"],a().module("portainer.app").factory("CustomTemplates",i)},50947:function(e,t,n){"use strict";n.r(t);var r=n(28098);angular.module("portainer.app").factory("Endpoints",["$resource","API_ENDPOINT_ENDPOINTS",function(e,t){return e(t+"/:id/:action",{},{query:{method:"GET",params:{start:"@start",limit:"@limit",search:"@search",groupId:"@groupId"},transformResponse:r.default},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},disassociate:{method:"DELETE",params:{id:"@id",action:"association"}},updateAccess:{method:"PUT",params:{id:"@id",action:"access"}},remove:{method:"DELETE",params:{id:"@id"}},snapshots:{method:"POST",params:{action:"snapshot"}},snapshot:{method:"POST",params:{id:"@id",action:"snapshot"}},status:{method:"GET",params:{id:"@id",action:"status"}},updateSecuritySettings:{method:"PUT",params:{id:"@id",action:"settings"}},dockerhubLimits:{method:"GET",url:`${t}/:id/dockerhub/:registryId`},registries:{method:"GET",url:`${t}/:id/registries`,params:{id:"@id",namespace:"@namespace"},isArray:!0},updateRegistryAccess:{method:"PUT",url:`${t}/:id/registries/:registryId`,params:{id:"@id",registryId:"@registryId"}}})}])},48664:function(e,t,n){"use strict";n.r(t);var r=n(40432);angular.module("portainer.app").factory("Gitlab",["$resource","API_ENDPOINT_REGISTRIES",function(e,t){return function(n){const a={};n&&(a["Private-Token"]=n.token,a["X-Gitlab-Domain"]=n.url);const i=t+"/:id/proxies/gitlab/api/v4/projects";return e(i,{id:"@id"},{projects:{method:"GET",params:{membership:"true"},transformResponse:r.default,headers:a},repositories:{method:"GET",url:i+"/:projectId/registry/repositories",params:{tags:!0},headers:a,transformResponse:r.default}})}}])},41019:function(){angular.module("portainer.app").factory("EndpointGroups",["$resource","API_ENDPOINT_ENDPOINT_GROUPS",function(e,t){"use strict";return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},updateAccess:{method:"PUT",params:{id:"@id",action:"access"}},addEndpoint:{method:"PUT",params:{id:"@id",action:"@action"}},removeEndpoint:{method:"DELETE",params:{id:"@id",action:"@action"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},26911:function(){angular.module("portainer.app").factory("Registries",["$resource","API_ENDPOINT_REGISTRIES",function(e,t){"use strict";return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id",action:"",endpointId:"@endpointId"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},configure:{method:"POST",params:{id:"@id",action:"configure"}}})}])},9095:function(){angular.module("portainer.app").factory("ResourceControl",["$resource","API_ENDPOINT_RESOURCE_CONTROLS",function(e,t){"use strict";return e(t+"/:id",{},{update:{method:"PUT",params:{id:"@id"}}})}])},26862:function(){angular.module("portainer.app").factory("Settings",["$resource","API_ENDPOINT_SETTINGS",function(e,t){"use strict";return e(t+"/:subResource/:action",{},{get:{method:"GET"},update:{method:"PUT",ignoreLoadingBar:!0},publicSettings:{method:"GET",params:{subResource:"public"},ignoreLoadingBar:!0},checkLDAPConnectivity:{method:"PUT",params:{subResource:"authentication",action:"checkLDAP"}}})}])},33729:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e){return e("api/ssl",{},{get:{method:"GET"},upload:{method:"PUT"}})}i.$inject=["$resource"],a().module("portainer.app").factory("SSL",i)},84006:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e,t){return e(t+"/:id/:action/:subaction",{},{get:{method:"GET",params:{id:"@id"}},query:{method:"GET",isArray:!0},create:{method:"POST",ignoreLoadingBar:!0},update:{method:"PUT",params:{id:"@id"},ignoreLoadingBar:!0},associate:{method:"PUT",params:{id:"@id",swarmId:"@swarmId",endpointId:"@endpointId",orphanedRunning:"@orphanedRunning",action:"associate"}},remove:{method:"DELETE",params:{id:"@id",external:"@external",endpointId:"@endpointId"}},getStackFile:{method:"GET",params:{id:"@id",action:"file"}},migrate:{method:"POST",params:{id:"@id",action:"migrate",endpointId:"@endpointId"},ignoreLoadingBar:!0},start:{method:"POST",params:{id:"@id",action:"start"}},stop:{method:"POST",params:{id:"@id",action:"stop"}},updateGit:{method:"PUT",params:{id:"@id",action:"git",subaction:"redeploy"}},updateGitStackSettings:{method:"POST",params:{id:"@id",action:"git"},ignoreLoadingBar:!0}})}i.$inject=["$resource","API_ENDPOINT_STACKS"],a().module("portainer.app").factory("Stack",i)},1962:function(){angular.module("portainer.app").factory("Status",["$resource","API_ENDPOINT_STATUS",function(e,t){"use strict";return e(t+"/:action",{},{get:{method:"GET"},version:{method:"GET",params:{action:"version"}}})}])},3985:function(){angular.module("portainer.app").factory("Support",["$resource","API_ENDPOINT_SUPPORT",function(e,t){"use strict";return e(t,{},{get:{method:"GET",isArray:!0}})}])},69586:function(){angular.module("portainer.app").factory("Tags",["$resource","API_ENDPOINT_TAGS",function(e,t){"use strict";return e(t+"/:id",{},{create:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE",params:{id:"@id"}}})}])},51406:function(){angular.module("portainer.app").factory("Teams",["$resource","API_ENDPOINT_TEAMS",function(e,t){"use strict";return e(t+"/:id/:entity/:entityId",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0,params:{environmentId:"@environmentId"}},get:{method:"GET",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},queryMemberships:{method:"GET",isArray:!0,params:{id:"@id",entity:"memberships"}}})}])},46796:function(){angular.module("portainer.app").factory("TeamMemberships",["$resource","API_ENDPOINT_TEAM_MEMBERSHIPS",function(e,t){"use strict";return e(t+"/:id/:action",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},35627:function(){angular.module("portainer.app").factory("Templates",["$resource","API_ENDPOINT_TEMPLATES",function(e,t){return e(t+"/:action",{},{query:{method:"GET"},file:{method:"POST",params:{action:"file"}}})}])},28098:function(e,t,n){"use strict";function r(e,t){const n={};return n.value=angular.fromJson(e),n.totalCount=t("X-Total-Count"),n}n.r(t),n.d(t,{default:function(){return r}})},40432:function(e,t,n){"use strict";function r(e,t){let n={};try{n.data=angular.fromJson(e),n.next=t("X-Next-Page")}catch(t){n=e}return n}n.r(t),n.d(t,{default:function(){return r}})},88211:function(){angular.module("portainer.app").factory("Users",["$resource","API_ENDPOINT_USERS",function(e,t){"use strict";return e(t+"/:id/:entity/:entityId",{},{create:{method:"POST",ignoreLoadingBar:!0},query:{method:"GET",isArray:!0},get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"},ignoreLoadingBar:!0},updatePassword:{method:"PUT",params:{id:"@id",entity:"passwd"}},updateTheme:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}},queryMemberships:{method:"GET",isArray:!0,params:{id:"@id",entity:"memberships"}},checkAdminUser:{method:"GET",params:{id:"admin",entity:"check"},isArray:!0,ignoreLoadingBar:!0},initAdminUser:{method:"POST",params:{id:"admin",entity:"init"},ignoreLoadingBar:!0},createAccessToken:{url:`${t}/:id/tokens`,method:"POST",params:{id:"@id"},ignoreLoadingBar:!0},getAccessTokens:{method:"GET",params:{id:"@id",entity:"tokens"},isArray:!0},deleteAccessToken:{url:`${t}/:id/tokens/:tokenId`,method:"DELETE",params:{id:"@id",entityId:"@tokenId"}}})}])},1587:function(){angular.module("portainer.app").factory("Webhooks",["$resource","API_ENDPOINT_WEBHOOKS",function(e,t){"use strict";return e(t+"/:id",{},{query:{method:"GET",isArray:!0},create:{method:"POST"},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}}})}])},67808:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(55743),a=n.n(r);async function i(e){const t={fulfilled:[],rejected:[]},n=await Promise.allSettled(e);return t.fulfilled=a()(n,((e,t)=>("fulfilled"===t.status&&e.push(t.value),e)),[]),t.rejected=a()(n,((e,t)=>("rejected"===t.status&&e.push(t.reason),e)),[]),t}},84522:function(e,t,n){"use strict";n.r(t);var r=n(41952),a=n.n(r),i=n(91195),s=n.n(i),o=n(93133);angular.module("portainer.app").factory("AccessService",["$q","$async","UserService","TeamService",function(e,t,n,r){return{accesses:function(e,n){return t(l,e,n)},generateAccessPolicies:function(e,t,n,r,i){const o=s()(e),l=s()(t);return a()(n,(e=>o[e.Id]={RoleId:i||e.Role.Id})),a()(r,(e=>l[e.Id]={RoleId:i||e.Role.Id})),{userAccessPolicies:o,teamAccessPolicies:l}}};function i(e,t,n){for(var r=[],a=[],i=0;i<e.length;i++){const s=e[i],o=t&&t[s.Id],l=n&&n[s.Id];o&&l?(s.Override=!0,a.push(s)):o&&!l?a.push(s):!o&&l?(s.Inherited=!0,a.push(s),r.push(s)):r.push(s)}return{available:r,authorized:a}}async function l(t,a){if(!t)throw new Error("Unable to retrieve accesses");return t.UserAccessPolicies||(t.UserAccessPolicies={}),t.TeamAccessPolicies||(t.TeamAccessPolicies={}),a&&!a.UserAccessPolicies&&(a.UserAccessPolicies={}),a&&!a.TeamAccessPolicies&&(a.TeamAccessPolicies={}),await(s=t.UserAccessPolicies,l=t.TeamAccessPolicies,c=a?a.UserAccessPolicies:{},d=a?a.TeamAccessPolicies:{},u=e.defer(),e.all({users:n.users(!1),teams:r.teams()}).then((function(e){var t=e.users.map((function(e){return new o.UserAccessViewModel(e)})),n=e.teams.map((function(e){return new o.TeamAccessViewModel(e)})),r=i(t,s,c),a=i(n,l,d),p={availableUsersAndTeams:r.available.concat(a.available),authorizedUsersAndTeams:r.authorized.concat(a.authorized)};u.resolve(p)})).catch((function(e){u.reject({msg:"Unable to retrieve users and teams",err:e})})),u.promise);var s,l,c,d,u}}])},10273:function(){angular.module("portainer.app").factory("BackupService",["$q","$async","Backup","FileUploadService",function(e,t,n,r){"use strict";return{downloadBackup:function(e){return n.download({},e).$promise},uploadBackup:function(e,t){return r.uploadBackup(e,t)},getS3Settings:function(){var t=e.defer();return n.getS3Settings().$promise.then((function(e){t.resolve(e)})).catch((function(e){t.reject({msg:"Unable to retrieve backup S3 settings",err:e})})),t.promise},saveS3Settings:function(t){var r=e.defer();return n.saveS3Settings({},t).$promise.then((function(e){r.resolve(e)})).catch((function(e){r.reject({msg:"Unable to save backup S3 settings",err:e})})),r.promise},exportBackup:function(t){var r=e.defer();return n.exportS3Backup({},t).$promise.then((function(e){r.resolve(e)})).catch((function(e){r.reject({msg:"Unable to export backup",err:e})})),r.promise},restoreFromS3:function(t){var r=e.defer();return n.restoreS3Backup({},t).$promise.then((function(e){r.resolve(e)})).catch((function(e){r.reject({msg:"Unable to restore backup from S3",err:e})})),r.promise}}}])},85903:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(52474);function s(e,t,n){return{customTemplate:function(e){return t.get({id:e}).$promise},customTemplates:async function(n){const r=await t.query({type:n}).$promise;return r.forEach((t=>{t.Note&&(t.Note=i("<p>").html(e(t.Note)).find("img").remove().end().html())})),r},remove:function(e){return t.remove({id:e}).$promise},customTemplateFile:async function(e){try{const{FileContent:n}=await t.file({id:e}).$promise;return n}catch(e){throw{msg:"Unable to retrieve customTemplate content",err:e}}},updateCustomTemplate:async function(e,n){return t.update({id:e},n).$promise},createCustomTemplateFromFileContent:async function(e){try{return await t.create({method:"string"},e).$promise}catch(e){throw{msg:"Unable to create the customTemplate",err:e}}},createCustomTemplateFromFileUpload:async function(e){try{const{data:t}=await n.createCustomTemplate(e);return t}catch(e){throw{msg:"Unable to create the customTemplate",err:e}}},createCustomTemplateFromGitRepository:async function(e){try{return await t.create({method:"repository"},e).$promise}catch(e){throw{msg:"Unable to create the customTemplate",err:e}}}}}s.$inject=["$sanitize","CustomTemplates","FileUploadService"],a().module("portainer.app").factory("CustomTemplateService",s)},91520:function(e,t,n){"use strict";n.r(t);var r=n(70589),a=n(13494);function i(e,t){return{checkRateLimits:function(n,i){if(r.default.isLocalEndpoint(n))return e.dockerhubLimits({id:n.Id,registryId:i}).$promise;switch(n.Type){case a.PortainerEndpointTypes.AgentOnDockerEnvironment:case a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment:return t.limits({endpointId:n.Id,endpointType:"docker",registryId:i}).$promise;case a.PortainerEndpointTypes.AgentOnKubernetesEnvironment:case a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment:return t.limits({endpointId:n.Id,endpointType:"kubernetes",registryId:i}).$promise}}}}i.$inject=["Endpoints","AgentDockerhub"],angular.module("portainer.app").factory("DockerHubService",i)},53249:function(e,t,n){"use strict";n.r(t);var r=n(13494);angular.module("portainer.app").factory("EndpointService",["$q","Endpoints","FileUploadService",function(e,t,n){var a={updateSecuritySettings:function(e,n){return t.updateSecuritySettings({id:e},n).$promise},registries:function(e,n){return t.registries({namespace:n,id:e}).$promise},updateRegistryAccess:function(e,n,r){return t.updateRegistryAccess({registryId:n,id:e},r).$promise},endpoint:function(e){return t.get({id:e}).$promise},snapshotEndpoints:function(){return t.snapshots({},{}).$promise},snapshotEndpoint:function(e){return t.snapshot({id:e},{}).$promise},updateAccess:function(e,n,r){return t.updateAccess({id:e},{UserAccessPolicies:n,TeamAccessPolicies:r}).$promise},disassociateEndpoint:function(e){return t.disassociate({id:e}).$promise},updateEndpoint:function(r,a){var i=e.defer();return n.uploadTLSFilesForEndpoint(r,a.TLSCACert,a.TLSCert,a.TLSKey).then((function(){return i.notify({upload:!1}),t.update({id:r},a).$promise})).then((function(e){i.resolve(e)})).catch((function(e){i.notify({upload:!1}),i.reject({msg:"Unable to update environment",err:e})})),i.promise},deleteEndpoint:function(e){return t.remove({id:e}).$promise},createLocalEndpoint:function(t="local",a="",i="",s=1,o=[]){var l=e.defer(),c=a;return""!==c&&(c=0==c.indexOf("//./pipe/")?"npipe://"+a:"unix://"+a),n.createEndpoint(t,r.PortainerEndpointCreationTypes.LocalDockerEnvironment,c,i,s,o,!1).then((function(e){l.resolve(e.data)})).catch((function(e){l.reject({msg:"Unable to create environment",err:e})})),l.promise},createRemoteEndpoint:function(t,a,i,s,o,l,c,d,u,p,m,g,h,f){var v=e.defer(),b=i;return a!==r.PortainerEndpointCreationTypes.EdgeAgentEnvironment&&(b="tcp://"+i),n.createEndpoint(t,a,b,s,o,l,c,d,u,p,m,g,h,f).then((function(e){v.resolve(e.data)})).catch((function(e){v.reject({msg:"Unable to create environment",err:e})})),v.promise},createLocalKubernetesEndpoint:function(t="local",a=[]){var i=e.defer();return n.createEndpoint(t,r.PortainerEndpointCreationTypes.LocalKubernetesEnvironment,"","",1,a,!0,!0,!0).then((function(e){i.resolve(e.data)})).catch((function(e){i.reject({msg:"Unable to create environment",err:e})})),i.promise},createAzureEndpoint:function(t,r,a,i,s,o){var l=e.defer();return n.createAzureEndpoint(t,r,a,i,s,o).then((function(e){l.resolve(e.data)})).catch((function(e){l.reject({msg:"Unable to connect to Azure",err:e})})),l.promise},trust:function(e){t.updateEndpoint({id:e},{UserTrusted:!0}).$promise}};return a}])},50828:function(e,t,n){"use strict";n.r(t);var r=n(79607);angular.module("portainer.app").factory("GroupService",["$q","EndpointGroups",function(e,t){return{group:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new r.EndpointGroupModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve group",err:e})})),a.promise},groups:function(){return t.query({}).$promise},createGroup:function(e,n){var a=new r.EndpointGroupCreateRequest(e,n);return t.create(a).$promise},updateGroup:function(e,n){var a=new r.EndpointGroupUpdateRequest(e,n);return t.update(a).$promise},updateAccess:function(e,n,r){return t.updateAccess({id:e},{UserAccessPolicies:n,TeamAccessPolicies:r}).$promise},addEndpoint:function(e,n){return t.addEndpoint({id:e,action:"endpoints/"+n.Id},n).$promise},removeEndpoint:function(e,n){return t.removeEndpoint({id:e,action:"endpoints/"+n}).$promise},deleteGroup:function(e){return t.remove({id:e}).$promise}}}])},94094:function(e,t,n){"use strict";n.r(t);var r=n(13507),a=n.n(r),i=n(44716),s=n.n(i),o=n(94946),l=n.n(o),c=n(41952),d=n.n(c),u=n(30465),p=n.n(u),m=n(76939),g=n(56414),h=n(33180),f=n(74962);angular.module("portainer.app").factory("RegistryService",["$q","$async","EndpointService","Registries","ImageHelper","FileUploadService",function(e,t,n,r,i,o){return{registries:function(){var t=e.defer();return r.query().$promise.then((function(e){var n=e.map((function(e){return new h.RegistryViewModel(e)}));t.resolve(n)})).catch((function(e){t.reject({msg:"Unable to retrieve registries",err:e})})),t.promise},registry:function(t,n){var a=e.defer();return r.get({id:t,endpointId:n}).$promise.then((function(e){var t=new h.RegistryViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve registry details",err:e})})),a.promise},encodedCredentials:function(e){var t={registryId:e.Id};return btoa(JSON.stringify(t))},deleteRegistry:function(e){return r.remove({id:e}).$promise},updateRegistry:function(e){return e.URL=p()(e.URL,/^https?\:\/\//i,""),e.URL=p()(e.URL,/\/$/,""),r.update({id:e.Id},e).$promise},configureRegistry:function(e,t){return o.configureRegistry(e,t)},createRegistry:function(e){var t=new h.RegistryCreateRequest(e);return r.create(t).$promise},createGitlabRegistries:function(t,n){const a=[];return d()(n,(e=>{const n=t;n.Name=e.PathWithNamespace,n.Gitlab.ProjectPath=l()(e.PathWithNamespace),n.Gitlab.ProjectId=e.Id,n.Password=n.Token;const i=new h.RegistryCreateRequest(n);a.push(r.create(i).$promise)})),e.all(a)},retrievePorRegistryModelFromRepository:function(e,r,a,i){return t((async()=>{try{const t=await n.registries(r,i);return u(e,t,a)}catch(e){throw{msg:"Unable to retrieve the registry associated to the repository",err:e}}}))},retrievePorRegistryModelFromRepositoryWithRegistries:u,loadRegistriesForDropdown:function(e,r){return t((async()=>{try{const t=await n.registries(e,r);return t.some((e=>e.Type===g.RegistryTypes.DOCKERHUB))||t.push(new f.DockerHubViewModel),t}catch(e){throw{msg:"Unable to retrieve the registries",err:e}}}))}};function c(e){let t=e.URL;if(e.Type===g.RegistryTypes.GITLAB)t=e.URL+"/"+e.Gitlab.ProjectPath;else if(e.Type===g.RegistryTypes.QUAY){const n=e.Quay.UseOrganisation?e.Quay.OrganisationName:e.Username;t=e.URL+"/"+n}return t}function u(e,t,n){const r=new m.PorImageRegistryModel,o=function(e,t,n){let r,a,i;for(const o of t){if(o.Id==n)return o;o.Type===g.RegistryTypes.DOCKERHUB&&((e.startsWith(o.Username+"/")||e.startsWith(c(o)+"/"+o.Username+"/"))&&(r=o),i=i||o),s()(e,c(o))&&(a=o)}return r||a||i}(e,t,n);if(o){const t=c(o);let n=e.lastIndexOf(t);n=-1===n?0:n+t.length;let i=e.substring(n);a()(i,"/")&&(i=i.substring(1)),r.Registry=o,r.Image=i}else i.imageContainsURL(e)&&(r.UseRegistry=!1),r.Registry=new f.DockerHubViewModel,r.Image=e;return r}}])},17293:function(){angular.module("portainer.app").factory("ResourceControlService",["$q","ResourceControl","UserService","TeamService","ResourceControlHelper",function(e,t,n,r,a){"use strict";const i={};function s(e,n){const r={AdministratorsOnly:n.AdministratorsOnly,Public:n.Public,Users:n.Users,Teams:n.Teams};return t.update({id:e},r).$promise}return i.duplicateResourceControl=function(e,t,n){const r=a.RCViewModelToOwnershipParameters(e,t);return s(n.Id,r)},i.applyResourceControl=function(e,t,n,r=[]){const i=a.RCFormDataToOwnershipParameters(e,t,r);return s(n.Id,i)},i.retrieveOwnershipDetails=function(t){var i=e.defer();return t?(e.all({users:t.UserAccesses.length>0?n.users(!1):[],teams:t.TeamAccesses.length>0?r.teams():[]}).then((function(e){var n=a.retrieveAuthorizedUsers(t,e.users),r=a.retrieveAuthorizedTeams(t,e.teams);i.resolve({authorizedUsers:n,authorizedTeams:r})})).catch((function(e){i.reject({msg:"Unable to retrieve user and team information",err:e})})),i.promise):(i.resolve({authorizedUsers:[],authorizedTeams:[]}),i.promise)},i}])},91532:function(e,t,n){"use strict";n.r(t);var r=n(55287);angular.module("portainer.app").factory("SettingsService",["$q","Settings",function(e,t){return{settings:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new r.SettingsViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve application settings",err:e})})),n.promise},update:function(e){return t.update({},e).$promise},publicSettings:function(){var n=e.defer();return t.publicSettings().$promise.then((function(e){var t=new r.PublicSettingsViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve application settings",err:e})})),n.promise},checkLDAPConnectivity:function(e){return t.checkLDAPConnectivity({},e).$promise}}}])},39243:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);function i(e){return{upload:function(t,n,r){return e.upload({httpEnabled:t,cert:n,key:r}).$promise},get:function(){return e.get().$promise}}}i.$inject=["SSL"],a().module("portainer.app").service("SSLService",i)},54332:function(e,t,n){"use strict";n.r(t);var r=n(20111),a=n.n(r),i=n(6253),s=n(49036);angular.module("portainer.app").factory("StackService",["$q","$async","Stack","FileUploadService","StackHelper","ServiceService","ContainerService","SwarmService","EndpointProvider",function(e,t,n,r,o,l,c,d,u){var p={updateGit:function(e,t,r,a,i,s){return n.updateGit({endpointId:t,id:e},{env:r,prune:a,RepositoryReferenceName:i.RefName,RepositoryAuthentication:i.RepositoryAuthentication,RepositoryUsername:i.RepositoryUsername,RepositoryPassword:i.RepositoryPassword,PullImage:s}).$promise},updateKubeGit:function(e,t,r,a){return n.updateGit({endpointId:t,id:e},{Namespace:r,RepositoryReferenceName:a.RefName,RepositoryAuthentication:a.RepositoryAuthentication,RepositoryUsername:a.RepositoryUsername,RepositoryPassword:a.RepositoryPassword}).$promise}};async function m(e,t,r){try{await n.create({endpointId:e,method:t,type:3},r).$promise}catch(e){throw{err:e}}}return p.stack=function(t){var r=e.defer();return n.get({id:t}).$promise.then((function(e){var t=new s.StackViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:"Unable to retrieve stack details",err:e})})),r.promise},p.getStackFile=function(t){var r=e.defer();return n.getStackFile({id:t}).$promise.then((function(e){r.resolve(e.StackFileContent)})).catch((function(e){r.reject({msg:"Unable to retrieve stack content",err:e})})),r.promise},p.migrateSwarmStack=function(t,r,a){var i=e.defer();return u.setEndpointID(r),d.swarm().then((function(e){var s=e;if(s.Id!==t.SwarmId)return n.migrate({id:t.Id,endpointId:t.EndpointId},{EndpointID:r,SwarmID:s.Id,Name:a}).$promise;i.reject({msg:"Target environment is located in the same Swarm cluster as the current environment",err:null})})).then((function(){i.resolve()})).catch((function(e){i.reject({msg:"Unable to migrate stack",err:e})})).finally((function(){u.setEndpointID(t.EndpointId)})),i.promise},p.migrateComposeStack=function(t,r,a){var i=e.defer();return u.setEndpointID(r),n.migrate({id:t.Id,endpointId:t.EndpointId},{EndpointID:r,Name:a}).$promise.then((function(){i.resolve()})).catch((function(e){u.setEndpointID(t.EndpointId),i.reject({msg:"Unable to migrate stack",err:e})})),i.promise},p.stacks=function(t,n,r,a=!1){var i=e.defer(),s=[];return t&&s.push(p.composeStacks(r,!0,{EndpointID:r,IncludeOrphanedStacks:a})),n&&s.push(p.swarmStacks(r,!0,{IncludeOrphanedStacks:a})),e.all(s).then((function(e){var t=[];e[0]&&(t=t.concat(e[0])),e[1]&&(t=t.concat(e[1])),i.resolve(t)})).catch((function(e){i.reject({msg:"Unable to retrieve stacks",err:e})})),i.promise},p.externalSwarmStacks=function(){var t=e.defer();return l.services().then((function(e){t.resolve(o.getExternalStacksFromServices(e))})).catch((function(e){t.reject({msg:"Unable to retrieve external stacks",err:e})})),t.promise},p.externalComposeStacks=function(){var t=e.defer();return c.containers(1).then((function(e){t.resolve(o.getExternalStacksFromContainers(e))})).catch((function(e){t.reject({msg:"Unable to retrieve external stacks",err:e})})),t.promise},p.unionStacks=function(e,t){return e.forEach((e=>{t.forEach((t=>{e.Orphaned&&e.Name==t.Name&&(e.OrphanedRunning=!0)}))})),a()(e,t,(function(e,t){return e.Name===t.Name}))},p.composeStacks=function(t,r,a){var i=e.defer();return e.all({stacks:n.query({filters:a}).$promise,externalStacks:r?p.externalComposeStacks():[]}).then((function(e){var n=e.stacks.map((function(e){return e.EndpointId==t?new s.StackViewModel(e):new s.OrphanedStackViewModel(e)})),r=e.externalStacks;const a=p.unionStacks(n,r);i.resolve(a)})).catch((function(e){i.reject({msg:"Unable to retrieve stacks",err:e})})),i.promise},p.swarmStacks=function(t,r,a={}){var i=e.defer();return d.swarm().then((function(t){return a={SwarmID:t.Id,...a},e.all({stacks:n.query({filters:a}).$promise,externalStacks:r?p.externalSwarmStacks():[]})})).then((function(e){var n=e.stacks.map((function(e){return e.EndpointId==t?new s.StackViewModel(e):new s.OrphanedStackViewModel(e)})),r=e.externalStacks;const a=p.unionStacks(n,r);i.resolve(a)})).catch((function(e){i.reject({msg:"Unable to retrieve stacks",err:e})})),i.promise},p.remove=function(t,r,a){var i=e.defer();return n.remove({id:t.Id?t.Id:t.Name,external:r,endpointId:a}).$promise.then((function(){i.resolve()})).catch((function(e){i.reject({msg:"Unable to remove the stack",err:e})})),i.promise},p.associate=function(t,r,a){var i=e.defer();return 1==t.Type?d.swarm().then((function(e){const i=e;return n.associate({id:t.Id,endpointId:r,swarmId:i.Id,orphanedRunning:a}).$promise})).then((function(e){i.resolve(e)})).catch((function(e){i.reject({msg:"Unable to associate the stack",err:e})})):n.associate({id:t.Id,endpointId:r,orphanedRunning:a}).$promise.then((function(e){i.resolve(e)})).catch((function(e){i.reject({msg:"Unable to associate the stack",err:e})})),i.promise},p.updateStack=function(e,t,r,a,i){return n.update({endpointId:e.EndpointId},{id:e.Id,StackFileContent:t,Env:r,Prune:a,PullImage:i}).$promise},p.updateKubeStack=function(e,t,r){let a={};if(t)a={StackFileContent:t};else{const e={};r.AutoUpdate&&r.AutoUpdate.RepositoryAutomaticUpdates&&(r.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.INTERVAL?e.Interval=r.AutoUpdate.RepositoryFetchInterval:r.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.WEBHOOK&&(e.Webhook=r.AutoUpdate.RepositoryWebhookURL.split("/").reverse()[0])),a={AutoUpdate:e,RepositoryReferenceName:r.RefName,RepositoryAuthentication:r.RepositoryAuthentication,RepositoryUsername:r.RepositoryUsername,RepositoryPassword:r.RepositoryPassword}}return n.update({id:e.Id,endpointId:e.EndpointId},a).$promise},p.createComposeStackFromFileUpload=function(e,t,n,a){return r.createComposeStack(e,t,n,a)},p.createSwarmStackFromFileUpload=function(t,n,a,i){var s=e.defer();return d.swarm().then((function(e){var s=e;return r.createSwarmStack(t,s.Id,n,a,i)})).then((function(e){s.resolve(e.data)})).catch((function(e){s.reject({msg:"Unable to create the stack",err:e})})),s.promise},p.createComposeStackFromFileContent=function(e,t,r,a){var i={Name:e,StackFileContent:t,Env:r};return n.create({method:"string",type:2,endpointId:a},i).$promise},p.createSwarmStackFromFileContent=function(t,r,a,i){var s=e.defer();return d.swarm().then((function(e){var s={Name:t,SwarmID:e.Id,StackFileContent:r,Env:a};return n.create({method:"string",type:1,endpointId:i},s).$promise})).then((function(e){s.resolve(e)})).catch((function(e){s.reject({msg:"Unable to create the stack",err:e})})),s.promise},p.createComposeStackFromGitRepository=function(e,t,r,a){var i={Name:e,RepositoryURL:t.RepositoryURL,RepositoryReferenceName:t.RepositoryReferenceName,ComposeFile:t.ComposeFilePathInRepository,AdditionalFiles:t.AdditionalFiles,RepositoryAuthentication:t.RepositoryAuthentication,RepositoryUsername:t.RepositoryUsername,RepositoryPassword:t.RepositoryPassword,Env:r,FromAppTemplate:t.FromAppTemplate};return t.AutoUpdate&&(i.AutoUpdate=t.AutoUpdate),n.create({method:"repository",type:2,endpointId:a},i).$promise},p.createSwarmStackFromGitRepository=function(t,r,a,i){var s=e.defer();return d.swarm().then((function(e){var s={Name:t,SwarmID:e.Id,RepositoryURL:r.RepositoryURL,RepositoryReferenceName:r.RepositoryReferenceName,ComposeFile:r.ComposeFilePathInRepository,AdditionalFiles:r.AdditionalFiles,RepositoryAuthentication:r.RepositoryAuthentication,RepositoryUsername:r.RepositoryUsername,RepositoryPassword:r.RepositoryPassword,Env:a,FromAppTemplate:r.FromAppTemplate};return r.AutoUpdate&&(s.AutoUpdate=r.AutoUpdate),n.create({method:"repository",type:1,endpointId:i},s).$promise})).then((function(e){s.resolve(e)})).catch((function(e){s.reject({msg:"Unable to create the stack",err:e})})),s.promise},p.duplicateStack=function(e,t,n,r,a){return(1===a?p.createSwarmStackFromFileContent:p.createComposeStackFromFileContent)(e,t,n,r)},p.kubernetesDeploy=function(e,n,r){return t(m,e,n,r)},p.start=function(e){return n.start({id:e}).$promise},p.stop=function(e){return n.stop({id:e}).$promise},p.updateGitStackSettings=function(e,t,r,a){const s={};return a.AutoUpdate.RepositoryAutomaticUpdates&&(a.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.INTERVAL?s.Interval=a.AutoUpdate.RepositoryFetchInterval:a.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.WEBHOOK&&(s.Webhook=a.AutoUpdate.RepositoryWebhookURL.split("/").reverse()[0])),n.updateGitStackSettings({endpointId:t,id:e},{AutoUpdate:s,Env:r,RepositoryReferenceName:a.RefName,RepositoryAuthentication:a.RepositoryAuthentication,RepositoryUsername:a.RepositoryUsername,RepositoryPassword:a.RepositoryPassword,Prune:a.Option.Prune}).$promise},p}])},97128:function(e,t,n){"use strict";n.r(t);var r=n(95154);angular.module("portainer.app").factory("StatusService",["$q","Status",function(e,t){return{status:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new r.StatusViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve application status",err:e})})),n.promise},version:function(){var n=e.defer();return t.version().$promise.then((function(e){var t=new r.StatusVersionViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve application version info",err:e})})),n.promise}}}])},10754:function(){angular.module("portainer.app").factory("SupportService",["$q","Support",function(e,t){"use strict";return{supportProducts:function(){var n=e.defer();return t.get().$promise.then((function(e){n.resolve(e)})).catch((function(e){n.reject({msg:"Unable to retrieve support options",err:e})})),n.promise}}}])},44904:function(e,t,n){"use strict";n.r(t);var r=n(26410);angular.module("portainer.app").factory("TagService",["$q","$async","Tags",function(e,t,n){var a={};async function i(e){var t={Name:e};try{const e=await n.create({},t).$promise;return new r.TagViewModel(e)}catch(e){throw{msg:"Unable to create tag",err:e}}}return a.tags=function(){var t=e.defer();return n.query().$promise.then((function(e){var n=e.map((function(e){return new r.TagViewModel(e)}));t.resolve(n)})).catch((function(e){t.reject({msg:"Unable to retrieve tags",err:e})})),t.promise},a.tagNames=function(){var t=e.defer();return n.query().$promise.then((function(e){var n=e.map((function(e){return e.Name}));t.resolve(n)})).catch((function(e){t.reject({msg:"Unable to retrieve tags",err:e})})),t.promise},a.createTag=function(e){return t(i,e)},a.deleteTag=function(e){return n.remove({id:e}).$promise},a}])},87643:function(e,t,n){"use strict";n.r(t);var r=n(3010);angular.module("portainer.app").factory("TeamMembershipService",["$q","TeamMemberships",function(e,t){return{memberships:function(){var n=e.defer();return t.query().$promise.then((function(e){var t=e.map((function(e){return new r.TeamMembershipModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:"Unable to retrieve team memberships",err:e})})),n.promise},createMembership:function(e,n,r){var a={UserID:e,TeamID:n,Role:r};return t.create({},a).$promise},deleteMembership:function(e){return t.remove({id:e}).$promise},updateMembership:function(e,n,r,a){var i={UserID:n,TeamID:r,Role:a};return t.update({id:e},i).$promise}}}])},75495:function(e,t,n){"use strict";n.r(t);var r=n(58552),a=n(3010);angular.module("portainer.app").factory("TeamService",["$q","Teams",function(e,t){return{teams:function(n){var a=e.defer();return t.query({environmentId:n}).$promise.then((function(e){var t=e.map((function(e){return new r.TeamViewModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve teams",err:e})})),a.promise},team:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new r.TeamViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:"Unable to retrieve team details",err:e})})),a.promise},createTeam:function(n,r){var a=e.defer(),i={Name:n,TeamLeaders:r};return t.create({},i).$promise.then((function(){a.resolve()})).catch((function(e){a.reject({msg:"Unable to create team",err:e})})),a.promise},deleteTeam:function(e){return t.remove({id:e}).$promise},userMemberships:function(n){var r=e.defer();return t.queryMemberships({id:n}).$promise.then((function(e){var t=e.map((function(e){return new a.TeamMembershipModel(e)}));r.resolve(t)})).catch((function(e){r.reject({msg:"Unable to retrieve user memberships for the team",err:e})})),r.promise}}}])},66656:function(e,t,n){"use strict";n.r(t);var r=n(74962),a=n(76185);function i(e,t,n,i,s,o){var l={templates:function(n){const i=e.defer();return e.all({templates:t.query().$promise,registries:o.registries(n)}).then((function({templates:e,registries:t}){const n=e.version;i.resolve(e.templates.map((e=>{try{const i=new a.TemplateViewModel(e,n),s=i.RegistryModel.Registry.URL,o=s?t.find((e=>e.URL===s)):new r.DockerHubViewModel;return i.RegistryModel.Registry=o,i}catch(e){i.reject({msg:"Unable to retrieve templates",err:e})}})))})).catch((function(e){i.reject({msg:"Unable to retrieve templates",err:e})})),i.promise},templateFile:function(e,n){return t.file({repositoryUrl:e,composeFilePathInRepository:n}).$promise},createTemplateConfiguration:function(e,t,r){var a=i.createImageConfigForContainer(e.RegistryModel),o=function(e,t,r){var a=n.getDefaultContainerConfiguration();a.HostConfig.NetworkMode=r.Name,a.HostConfig.Privileged=e.Privileged,a.HostConfig.RestartPolicy={Name:e.RestartPolicy},a.HostConfig.ExtraHosts=e.Hosts?e.Hosts:[],a.name=t,a.Hostname=e.Hostname,a.Env=n.EnvToStringArray(e.Env),a.Cmd=s.commandStringToArray(e.Command);var i=n.portArrayToPortConfiguration(e.Ports);a.HostConfig.PortBindings=i.bindings,a.ExposedPorts=i.exposedPorts;var o=n.getConsoleConfiguration(e.Interactive);return a.OpenStdin=o.openStdin,a.Tty=o.tty,a.Labels=n.updateContainerConfigurationWithLabels(e.Labels),a}(e,t,r);return o.Image=a.fromImage,o},updateContainerConfigurationWithVolumes:function(e,t,r){var a=t.Volumes;n.createVolumeBindings(a,r),a.forEach((function(t){t.binding&&(e.Volumes[t.container]={},e.HostConfig.Binds.push(t.binding))}))}};return l}i.$inject=["$q","Templates","TemplateHelper","ImageHelper","ContainerHelper","EndpointService"],angular.module("portainer.app").factory("TemplateService",i)},96664:function(e,t,n){"use strict";n.r(t),n.d(t,{UserService:function(){return l}});var r=n(51235),a=n.n(r),i=n(90327),s=n(96263),o=n(3010);function l(e,t,n,r){var l={users:async function(e,t){return(await(0,s.Rf)(e,t)).map((e=>new i.UserViewModel(e)))},user:async function(e){const t=await(0,s.PR)(e);return new i.UserViewModel(t)},createUser:function(n,a,i,s){var o=e.defer(),l={username:n,password:a,role:i};return t.create({},l).$promise.then((function(t){var n=t.Id,a=[];angular.forEach(s,(function(e){a.push(r.createMembership(n,e,2))})),e.all(a).then((function(){o.resolve()}))})).catch((function(e){o.reject({msg:"Unable to create user",err:e})})),o.promise},deleteUser:function(e){return t.remove({id:e}).$promise},updateUser:function(e,{password:n,role:r,username:a}){return t.update({id:e},{password:n,role:r,username:a}).$promise},updateUserPassword:function(e,n,r){var a={Password:n,NewPassword:r};return t.updatePassword({id:e},a).$promise},updateUserTheme:function(e,n){return t.updateTheme({id:e},{userTheme:n}).$promise},userMemberships:function(n){var r=e.defer();return t.queryMemberships({id:n}).$promise.then((function(e){var t=e.map((function(e){return new o.TeamMembershipModel(e)}));r.resolve(t)})).catch((function(e){r.reject({msg:"Unable to retrieve user memberships",err:e})})),r.promise},userLeadingTeams:function(t){var r=e.defer();return e.all({teams:n.teams(),memberships:l.userMemberships(t)}).then((function(e){var t=e.memberships,n=e.teams.filter((function(e){var n=a()(t,{TeamId:e.Id});if(n&&1===n.Role)return e}));r.resolve(n)})).catch((function(e){r.reject({msg:"Unable to retrieve user teams",err:e})})),r.promise},createAccessToken:function(n,r){const a=e.defer(),i={description:r};return t.createAccessToken({id:n},i).$promise.then((e=>{a.resolve(e)})).catch((function(e){a.reject({msg:"Unable to create user",err:e})})),a.promise},getAccessTokens:function(n){var r=e.defer();return t.getAccessTokens({id:n}).$promise.then((function(e){var t=e.map((function(e){return new i.UserTokenModel(e)}));r.resolve(t)})).catch((function(e){r.reject({msg:"Unable to retrieve user tokens",err:e})})),r.promise},deleteAccessToken:function(e,n){return t.deleteAccessToken({id:e,tokenId:n}).$promise},initAdministrator:function(e,n){return t.initAdminUser({Username:e,Password:n}).$promise},administratorExists:function(){var n=e.defer();return t.checkAdminUser({}).$promise.then((function(){n.resolve(!0)})).catch((function(e){404===e.status&&n.resolve(!1),n.reject({msg:"Unable to verify administrator account existence",err:e})})),n.promise}};return l}l.$inject=["$q","Users","TeamService","TeamMembershipService"]},16856:function(e,t,n){"use strict";n.r(t);var r=n(74708);angular.module("portainer.app").factory("WebhookService",["$q","Webhooks",function(e,t){return{webhooks:function(n,a){var i=e.defer(),s={ResourceID:n,EndpointID:a};return t.query({filters:s}).$promise.then((function(e){var t=e.map((function(e){return new r.WebhookViewModel(e)}));i.resolve(t)})).catch((function(e){i.reject({msg:"Unable to retrieve webhooks",err:e})})),i.promise},createServiceWebhook:function(e,n,r){return t.create({ResourceID:e,EndpointID:n,WebhookType:1,registryID:r}).$promise},updateServiceWebhook:function(e,n){return t.update({id:e,registryID:n}).$promise},deleteWebhook:function(e){return t.remove({id:e}).$promise}}}])},52726:function(){angular.module("portainer").factory("$async",["$q",function(e){return function(t,...n){const r=e.defer();return function(n){const r=e.defer();return t(...n).then(r.resolve).catch(r.reject),r.promise}(n).then(r.resolve).catch(r.reject),r.promise}}])},38890:function(e,t,n){"use strict";n.r(t);var r=n(85280);angular.module("portainer.app").factory("Authentication",["$async","$state","Auth","OAuth","jwtHelper","LocalStorage","StateManager","EndpointProvider","UserService","ThemeManager",function(e,t,n,a,i,s,o,l,c,d){var u={},p={};async function m(){try{const e=s.getJWT();return!e||i.isTokenExpired(e)?w():(await y(e),!0)}catch(e){return console.log("Unable to initialize authentication service",e),w()}}async function g(e){e&&await n.logout().$promise,(0,r.clear)(),o.clean(),l.clean(),l.setCurrentEndpoint(null),s.cleanAuthData(),s.storeLoginStateUUID(""),w()}async function h(e){const t=f(await a.validate({code:e}).$promise);await y(t)}function f(e){const t=e.jwt;return s.storeJWT(t),e.jwt}async function v(e,t){const r=f(await n.login({username:e,password:t}).$promise);await y(r)}function b(t,n){return e(v,t,n)}async function y(e){var t=i.decodeToken(e);p.username=t.username,p.ID=t.id,p.role=t.role,p.forceChangePassword=t.forceChangePassword,await async function(){const e=(await c.user(p.ID)).UserTheme;"auto"!==e&&e?d.setTheme(e):d.autoTheme()}()}function w(){return!!window.ddExtension&&b("admin","K7yJPP5qNK4hf1QsRnfV")}return u.init=function(){return e(m)},u.OAuthLogin=function(t){return e(h,t)},u.login=b,u.logout=function(t){return e(g,t)},u.isAuthenticated=function(){var e=s.getJWT();return!!e&&!i.isTokenExpired(e)},u.getUserDetails=function(){return p},u.isAdmin=function(){return!!p&&1===p.role},u}])},49519:function(e,t,n){"use strict";n.r(t);var r=n(36301),a=n.n(r),i=n(7084),s=n.n(i);angular.module("portainer.app").factory("ChartService",[function(){var e={};function t(e,t,n,r){return{animation:{duration:0},responsiveAnimationDuration:0,responsive:!0,tooltips:{mode:"index",intersect:!1,position:e,callbacks:{label:function(e,n){var r=n.datasets[e.datasetIndex].label;return t(r,e.yLabel)}}},layout:{padding:{left:15}},hover:{animationDuration:0},scales:{yAxes:[{stacked:r,ticks:{beginAtZero:!0,callback:n,precision:0}}]}}}function n(e,t){e.data.datasets[0].data.length>t&&(e.data.labels.pop(),e.data.datasets[0].data.pop(),e.data.datasets[1].data.pop())}function r(e,t){return e+": "+(t>5?s()(t,{base:10,round:1}):t.toFixed(1)+"B")}function i(e){return e>5?s()(e,{base:10,round:1}):e.toFixed(1)+"B"}function o(e){return e>1?Math.round(e)+"%":e.toFixed(1)+"%"}function l(e,t){return e+": "+(t>1?Math.round(t):t.toFixed(1))+"%"}return e.CreateCPUChart=function(e){return function(e,n,r,i){return new(a())(e,{type:"line",data:{labels:[],datasets:[{label:"CPU",data:[],fill:!0,backgroundColor:"rgba(151,187,205,0.4)",borderColor:"rgba(151,187,205,0.6)",pointBackgroundColor:"rgba(151,187,205,1)",pointBorderColor:"rgba(151,187,205,1)",pointRadius:2,borderWidth:2}]},options:t("nearest",r,i)})}(e,0,l,o)},e.CreateIOChart=function(e){return function(e,n,r){return new(a())(e,{type:"line",data:{labels:[],datasets:[{label:"Read (Aggregate)",data:[],fill:!0,backgroundColor:"rgba(151,187,205,0.4)",borderColor:"rgba(151,187,205,0.6)",pointBackgroundColor:"rgba(151,187,205,1)",pointBorderColor:"rgba(151,187,205,1)",pointRadius:2,borderWidth:2},{label:"Write (Aggregate)",data:[],fill:!0,backgroundColor:"rgba(255,180,174,0.4)",borderColor:"rgba(255,180,174,0.6)",pointBackgroundColor:"rgba(255,180,174,1)",pointBorderColor:"rgba(255,180,174,1)",pointRadius:2,borderWidth:2}]},options:t("nearest",n,r,!0)})}(e,r,i)},e.CreateMemoryChart=function(e){return function(e,n,r){return new(a())(e,{type:"line",data:{labels:[],datasets:[{label:"Memory",data:[],fill:!0,backgroundColor:"rgba(151,187,205,0.4)",borderColor:"rgba(151,187,205,0.6)",pointBackgroundColor:"rgba(151,187,205,1)",pointBorderColor:"rgba(151,187,205,1)",pointRadius:2,borderWidth:2},{label:"Cache",data:[],fill:!0,backgroundColor:"rgba(255,180,174,0.4)",borderColor:"rgba(255,180,174,0.6)",pointBackgroundColor:"rgba(255,180,174,1)",pointBorderColor:"rgba(255,180,174,1)",pointRadius:2,borderWidth:2}]},options:t("nearest",n,r,!0)})}(e,r,i)},e.CreateNetworkChart=function(e){return new(a())(e,{type:"line",data:{labels:[],datasets:[{label:"RX on eth0",data:[],fill:!1,backgroundColor:"rgba(151,187,205,0.4)",borderColor:"rgba(151,187,205,0.6)",pointBackgroundColor:"rgba(151,187,205,1)",pointBorderColor:"rgba(151,187,205,1)",pointRadius:2,borderWidth:2},{label:"TX on eth0",data:[],fill:!1,backgroundColor:"rgba(255,180,174,0.4)",borderColor:"rgba(255,180,174,0.6)",pointBackgroundColor:"rgba(255,180,174,1)",pointBorderColor:"rgba(255,180,174,1)",pointRadius:2,borderWidth:2}]},options:t("average",r,i)})},e.UpdateMemoryChart=function(e,t,r,a){a.data.labels.push(e),a.data.datasets[0].data.push(t),r?a.data.datasets[1].data.push(r):a.data.datasets.splice(1,1),n(a),a.update(0)},e.UpdateCPUChart=function(e,t,n){n.data.labels.push(e),n.data.datasets[0].data.push(t),n.data.datasets[0].data.length>600&&(n.data.labels.pop(),n.data.datasets[0].data.pop()),n.update(0)},e.UpdateIOChart=function(e,t,r,a){a.data.labels.push(e),a.data.datasets[0].data.push(t),a.data.datasets[1].data.push(r),n(a),a.update(0)},e.UpdateNetworkChart=function(e,t,r,a){a.data.labels.push(e),a.data.datasets[0].data.push(t),a.data.datasets[1].data.push(r),n(a),a.update(0)},e}])},91112:function(e,t,n){"use strict";n.r(t);var r=n(3602),a=n.n(r),i=n(29084),s=n.n(i);n(65790),n(76194),n(82187),n(75434),n(94536),n(34977),n(35667),n(4942),angular.module("portainer.app").factory("CodeMirrorService",(function(){var e={},t={lineNumbers:!0,extraKeys:{"Alt-F":"findPersistent"}},n={mode:"text/x-yaml",gutters:["CodeMirror-lint-markers"],lint:!0,extraKeys:{"Alt-F":"findPersistent",Tab:function(e){var t=Array(e.getOption("indentUnit")+1).join(" ");e.replaceSelection(t)}}};return e.applyCodeMirrorOnElement=function(e,r,i){var o=angular.copy(t);r&&a()(o,n),i&&(o.readOnly=!0);var l=s().fromTextArea(e,o);return l.setSize("100%",500),l},e}))},52943:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(85280);o.$inject=["LocalStorage"],a().module("portainer.app").factory("DatatableService",o);const s="datatable_text_filter_";function o(e){return{setDataTableSettings:function(t,n){e.storeDataTableSettings(t,n)},getDataTableSettings:function(t){return e.getDataTableSettings(t)},setDataTableTextFilters:function(e,t){i.save(s+e,t)},getDataTableTextFilters:function(e){return i.get(s+e)},setDataTableFilters:function(t,n){e.storeDataTableFilters(t,n)},getDataTableFilters:function(t){return e.getDataTableFilters(t)},getDataTableOrder:function(t){return e.getDataTableOrder(t)},setDataTableOrder:function(t,n,r){var a={orderBy:n,reverse:r};e.storeDataTableOrder(t,a)},setDataTableExpandedItems:function(t,n){e.storeDataTableExpandedItems(t,n)},setColumnVisibilitySettings:function(t,n){e.storeColumnVisibilitySettings(t,n)},getDataTableExpandedItems:function(t){return e.getDataTableExpandedItems(t)},setDataTableSelectedItems:function(t,n){e.storeDataTableSelectedItems(t,n)},getDataTableSelectedItems:function(t){return e.getDataTableSelectedItems(t)},getColumnVisibilitySettings:function(t){return e.getColumnVisibilitySettings(t)}}}},65187:function(){angular.module("portainer.app").factory("EndpointProvider",["LocalStorage","$uiRouterGlobals",function(e,t){const n={currentEndpoint:null};var r={},a={};return r.initialize=function(){var t=e.getEndpointID(),n=e.getEndpointPublicURL(),r=e.getOfflineMode();t&&(a.ID=t),n&&(a.PublicURL=n),r&&(a.OfflineMode=r)},r.clean=function(){e.cleanEndpointData(),a={}},r.endpoint=function(){return a},r.endpointID=function(){return void 0===a.ID&&(a.ID=e.getEndpointID()),null===a.ID||void 0===a.ID?r.getUrlEndpointID():a.ID},r.getUrlEndpointID=()=>t.params.id,r.setEndpointID=function(t){a.ID=t,e.storeEndpointID(t)},r.endpointPublicURL=function(){return void 0===a.PublicURL&&(a.PublicURL=e.getEndpointPublicURL()),a.PublicURL},r.setEndpointPublicURL=function(t){a.PublicURL=t,e.storeEndpointPublicURL(t)},r.endpoints=function(){return e.getEndpoints()},r.setEndpoints=function(t){e.storeEndpoints(t)},r.offlineMode=function(){return a.OfflineMode},r.setOfflineMode=function(t){a.OfflineMode=t,e.storeOfflineMode(t)},r.setOfflineModeFromStatus=function(t){var n=1!==t;a.OfflineMode=n,e.storeOfflineMode(n)},r.currentEndpoint=function(){return n.currentEndpoint},r.setCurrentEndpoint=function(e){n.currentEndpoint=e},r}])},21262:function(e,t,n){"use strict";n.r(t);var r=n(13494),a=n(12944);angular.module("portainer.app").factory("FileUploadService",["$q","Upload","EndpointProvider",function(e,t,n){var i={};function s(e,n){return t.upload({url:e,data:{file:n}})}return i.buildImage=function(e,r,i){var s=n.endpointID();return t.http({url:"api/endpoints/"+s+"/docker/build",headers:{"Content-Type":r.type},data:r,params:{t:e,dockerfile:i},ignoreLoadingBar:!0,transformResponse:function(e){return(0,a.jsonObjectsToArrayHandler)(e)}})},i.buildImageFromFiles=function(e,r){var i=n.endpointID();return t.upload({url:"api/endpoints/"+i+"/docker/build",headers:{"Content-Type":"multipart/form-data"},data:{file:r},params:{t:e},transformResponse:function(e){return(0,a.jsonObjectsToArrayHandler)(e)}})},i.loadImages=function(e){var r=n.endpointID();return t.http({url:"api/endpoints/"+r+"/docker/images/load",headers:{"Content-Type":e.type},data:e,ignoreLoadingBar:!0,transformResponse:a.genericHandler})},i.createSchedule=function(e){return t.upload({url:"api/edge_jobs?method=file",data:{file:e.File,Name:e.Name,CronExpression:e.CronExpression,Image:e.Image,Endpoints:t.json(e.Endpoints),RetryCount:e.RetryCount,RetryInterval:e.RetryInterval}})},i.uploadBackup=function(e,n){return t.upload({url:"api/restore",data:{file:e,password:n}})},i.createSwarmStack=function(e,n,r,a,i){return t.upload({url:"api/stacks?method=file&type=1&endpointId="+i,data:{file:r,Name:e,SwarmID:n,Env:t.json(a)},ignoreLoadingBar:!0})},i.createComposeStack=function(e,n,r,a){return t.upload({url:"api/stacks?method=file&type=2&endpointId="+a,data:{file:n,Name:e,Env:t.json(r)},ignoreLoadingBar:!0})},i.createEdgeStack=function({EdgeGroups:e,...n},r){return t.upload({url:"api/edge_stacks?method=file",data:{file:r,EdgeGroups:t.json(e),...n},ignoreLoadingBar:!0})},i.createCustomTemplate=function(e){return t.upload({url:"api/custom_templates?method=file",data:e,ignoreLoadingBar:!0})},i.configureRegistry=function(e,n){return t.upload({url:"api/registries/"+e+"/configure",data:n})},i.createEndpoint=function(e,n,r,a,i,s,o,l,c,d,u,p,m,g){return t.upload({url:"api/endpoints",data:{Name:e,EndpointCreationType:n,URL:r,PublicURL:a,GroupID:i,TagIds:t.json(s),TLS:o,TLSSkipVerify:l,TLSSkipClientVerify:c,TLSCACertFile:d,TLSCertFile:u,TLSKeyFile:p,CheckinInterval:m,IsEdgeDevice:g},ignoreLoadingBar:!0})},i.createAzureEndpoint=function(e,n,a,i,s,o){return t.upload({url:"api/endpoints",data:{Name:e,EndpointCreationType:r.PortainerEndpointCreationTypes.AzureEnvironment,GroupID:s,TagIds:t.json(o),AzureApplicationID:n,AzureTenantID:a,AzureAuthenticationKey:i},ignoreLoadingBar:!0})},i.uploadLDAPTLSFiles=function(t,n,r){var a=[];return t&&a.push(s("api/upload/tls/ca?folder=ldap",t)),n&&a.push(s("api/upload/tls/cert?folder=ldap",n)),r&&a.push(s("api/upload/tls/key?folder=ldap",r)),e.all(a)},i.uploadTLSFilesForEndpoint=function(t,n,r,a){var i=[];return n&&i.push(s("api/upload/tls/ca?folder="+t,n)),r&&i.push(s("api/upload/tls/cert?folder="+t,r)),a&&i.push(s("api/upload/tls/key?folder="+t,a)),e.all(i)},i.uploadOwnershipVoucher=function(e){return t.upload({url:"api/fdo/register",data:{voucher:e},ignoreLoadingBar:!0})},i}])},59197:function(e,t,n){"use strict";n.r(t);var r=n(83471);angular.module("portainer.app").factory("FormValidator",[function(){return{validateAccessControl:function(e,t){return e.AccessControlEnabled?t&&e.Ownership===r.X.RESTRICTED&&0===e.AuthorizedUsers.length&&0===e.AuthorizedTeams.length?"You must specify at least one team or user.":t||e.Ownership!==r.X.RESTRICTED||0!==e.AuthorizedTeams.length?"":"You must specify at least a team.":""}}}])},11189:function(){angular.module("portainer.app").factory("LocalStorage",["localStorageService",function(e){return{storeEndpointID:function(t){e.set("ENDPOINT_ID",t)},getEndpointID:function(){return e.get("ENDPOINT_ID")},storeEndpointPublicURL:function(t){e.set("ENDPOINT_PUBLIC_URL",t)},getEndpointPublicURL:function(){return e.get("ENDPOINT_PUBLIC_URL")},storeLoginStateUUID:function(t){e.set("LOGIN_STATE_UUID",t)},getLoginStateUUID:function(){return e.get("LOGIN_STATE_UUID")},storeOfflineMode:function(t){e.set("ENDPOINT_OFFLINE_MODE",t)},getOfflineMode:function(){return e.get("ENDPOINT_OFFLINE_MODE")},storeEndpoints:function(t){e.set("ENDPOINTS_DATA",t)},getEndpoints:function(){return e.get("ENDPOINTS_DATA")},storeEndpointState:function(t){e.set("ENDPOINT_STATE",t)},getEndpointState:function(){return e.get("ENDPOINT_STATE")},storeApplicationState:function(t){e.set("APPLICATION_STATE",t)},getApplicationState:function(){return e.get("APPLICATION_STATE")},storeUIState:function(t){e.set("UI_STATE",t)},getUIState:function(){return e.get("UI_STATE")},storeJWT:function(t){e.set("JWT",t)},getJWT:function(){return e.get("JWT")},deleteJWT:function(){e.remove("JWT")},storePaginationLimit:function(t,n){e.set("datatable_pagination_"+t,n)},getPaginationLimit:function(t){return e.get("datatable_pagination_"+t)},getDataTableOrder:function(t){return e.get("datatable_order_"+t)},storeDataTableOrder:function(t,n){e.set("datatable_order_"+t,n)},getDataTableTextFilters:function(t){return e.get("datatable_text_filter_"+t)},storeDataTableTextFilters:function(t,n){e.set("datatable_text_filter_"+t,n)},getDataTableFilters:function(t){return e.get("datatable_filters_"+t)},storeDataTableFilters:function(t,n){e.set("datatable_filters_"+t,n)},getDataTableSettings:function(t){return e.get("datatable_settings_"+t)},storeDataTableSettings:function(t,n){e.set("datatable_settings_"+t,n)},getDataTableExpandedItems:function(t){return e.get("datatable_expandeditems_"+t)},storeDataTableExpandedItems:function(t,n){e.set("datatable_expandeditems_"+t,n)},getDataTableSelectedItems:function(t){return e.get("datatable_selecteditems_"+t)},storeDataTableSelectedItems:function(t,n){e.set("datatable_selecteditems_"+t,n)},storeSwarmVisualizerSettings:function(t,n){e.set("swarmvisualizer_"+t,n)},getSwarmVisualizerSettings:function(t){return e.get("swarmvisualizer_"+t)},storeColumnVisibilitySettings:function(t,n){e.set("col_visibility_"+t,n)},getColumnVisibilitySettings:function(t){return e.get("col_visibility_"+t)},storeJobImage:function(t){e.set("job_image",t)},getJobImage:function(){return e.get("job_image")},storeActiveTab:function(t,n){return e.set("active_tab_"+t,n)},getActiveTab:function(t){const n=e.get("active_tab_"+t);return null===n?0:n},storeLogoutReason:t=>e.set("logout_reason",t),getLogoutReason:()=>e.get("logout_reason"),cleanLogoutReason:()=>e.remove("logout_reason"),clean:function(){e.clearAll()},cleanAuthData(){e.remove("JWT","APPLICATION_STATE","LOGIN_STATE_UUID")},cleanEndpointData(){e.remove("ENDPOINT_ID","ENDPOINT_PUBLIC_URL","ENDPOINT_OFFLINE_MODE","ENDPOINTS_DATA","ENDPOINT_STATE")},storeKubernetesSummaryToggle(t){e.set("kubernetes_summary_expanded",t)},getKubernetesSummaryToggle:()=>e.get("kubernetes_summary_expanded")}}])},16624:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(31848);function s(e){return{validateEnvironmentName:async function(t){try{return(await(0,i.hF)({limit:1,name:t})).value.length>0}catch(t){e.error("Failure",t,"Unable to retrieve environment details")}}}}s.$inject=["Notifications"],a().module("portainer.app").factory("NameValidator",s)},40073:function(){angular.module("portainer.app").factory("PaginationService",["LocalStorage","PAGINATION_MAX_ITEMS",function(e,t){"use strict";return{getPaginationLimit:function(n){var r=t,a=e.getPaginationLimit(n);return null!==a&&(r=a),""+r},setPaginationLimit:function(t,n){e.storePaginationLimit(t,n)}}}])},76211:function(e,t,n){"use strict";n.r(t);var r=n(66539),a=n.n(r),i=n(25445),s=n.n(i),o=n(62365),l=n(64088);angular.module("portainer.app").factory("RegistryGitlabService",["$async","Gitlab",function(e,t){var n={};async function r(e,n,a){const i=await t(e).projects(n).$promise;return a=s()(a,i.data),i.next&&(n.page=i.next,a=await r(e,n,a)),a}async function i(e,t){try{const n=await r({url:e,token:t},{page:1},[]);return a()(n,(e=>new o.RegistryGitlabProject(e)))}catch(e){throw{msg:"Unable to retrieve projects",err:e}}}async function c(e,n){const r=await t().repositories(e).$promise;return n=s()(n,r.data),r.next&&(e.page=r.next,n=await c(e,n)),n}async function d(e,t){try{const n={id:e.Id,endpointId:t,projectId:e.Gitlab.ProjectId,page:1},r=await c(n,[]);return a()(r,(e=>new l.RegistryRepositoryGitlabViewModel(e)))}catch(e){throw{msg:"Unable to retrieve repositories",err:e}}}return n.projects=function(t,n){return e(i,t,n)},n.repositories=function(t,n){return e(d,t,n)},n}])},56858:function(e,t,n){"use strict";n.r(t);var r=n(6632),a=n.n(r);function i(e,t,n){const r={registryModal:async function(r,i){const s=e.defer(),o=function(e){return e.map((e=>({text:e.Name,value:String(e.Id)})))}(i),l=n.retrievePorRegistryModelFromRepositoryWithRegistries(r,i),c=String(a()(l,"Registry.Id","0"));return t.selectRegistry({title:"Which registry do you want to use?",inputType:"select",inputOptions:o,value:c,callback:e=>{if(e){const t=n.retrievePorRegistryModelFromRepositoryWithRegistries(r,i,e);s.resolve(t)}else s.resolve(null)}}),s.promise}};return r}i.$inject=["$q","ModalService","RegistryService"],angular.module("portainer.app").factory("RegistryModalService",i)},85280:function(e,t,n){"use strict";function r(){sessionStorage.clear()}function a(e,t){sessionStorage.setItem(e,JSON.stringify(t))}function i(e){try{const t=sessionStorage.getItem(e);return JSON.parse(t)}catch(e){return}}n.r(t),n.d(t,{clear:function(){return r},save:function(){return a},get:function(){return i}})},37431:function(e,t,n){"use strict";n.r(t);var r=n(4396),a=n.n(r);function i(e,t,n,r,i,s,o,l,c,d,u){var p={},m={loading:!0,application:{},endpoint:{},UI:{dismissedInfoPanels:{},dismissedInfoHash:"",timesPasswordChangeSkipped:{},dismissedUpdateVersion:""}};return p.dismissInformationPanel=function(e){m.UI.dismissedInfoPanels[e]=!0,i.storeUIState(m.UI)},p.dismissImportantInformation=function(e){m.UI.dismissedInfoHash=e,i.storeUIState(m.UI)},p.setRequiredPasswordLength=function(e){m.UI.requiredPasswordLength=e,i.storeUIState(m.UI)},p.setPasswordChangeSkipped=function(e){m.UI.instanceId=m.UI.instanceId||m.application.instanceId,m.UI.timesPasswordChangeSkipped[e]=m.UI.timesPasswordChangeSkipped[e]+1||1,i.storeUIState(m.UI)},p.resetPasswordChangeSkips=function(e){m.UI.timesPasswordChangeSkipped[e]&&(m.UI.timesPasswordChangeSkipped[e]=0),i.storeUIState(m.UI)},p.clearPasswordChangeSkips=function(){m.UI.timesPasswordChangeSkipped={},i.storeUIState(m.UI)},p.getState=function(){return m},p.clean=function(){m.endpoint={},m.application={}},p.cleanEndpoint=function(){m.endpoint={},u.clean()},p.updateLogo=function(e){m.application.logo=e,i.storeApplicationState(m.application)},p.updateTheme=function(e){m.application.theme=e,i.storeApplicationState(m.application)},p.updateSnapshotInterval=function(e){m.application.snapshotInterval=e,i.storeApplicationState(m.application)},p.updateEnableEdgeComputeFeatures=function(e){m.application.enableEdgeComputeFeatures=e,i.storeApplicationState(m.application)},p.updateEnableTelemetry=function(e){m.application.enableTelemetry=e,d.setOptOut(!e),i.storeApplicationState(m.application)},p.initialize=async function(){return e((async()=>{const e=i.getEndpointState();e&&(m.endpoint=e);const n=i.getApplicationState();var r;!function(e){if(!e||!e.validity)return!1;return a()().unix()-e.validity<l}(n)?await(r=t.defer(),t.all({settings:s.publicSettings(),status:o.status()}).then((function(e){var t,n;t=e.status,n=e.settings,m.application.version=t.Version,m.application.edition=t.Edition,m.application.instanceId=t.InstanceID,m.application.demoEnvironment=t.DemoEnvironment,m.application.enableTelemetry=n.EnableTelemetry,m.application.logo=n.LogoURL,m.application.snapshotInterval=n.SnapshotInterval,m.application.enableEdgeComputeFeatures=n.EnableEdgeComputeFeatures,m.application.validity=a()().unix(),i.storeApplicationState(m.application),r.resolve(m)})).catch((function(e){r.reject({msg:"Unable to retrieve server settings and status",err:e})})),r.promise):m.application=n;const c=i.getUIState();return c&&(m.UI=c,m.UI.instanceId&&m.UI.instanceId!==m.application.instanceId&&(m.UI.instanceId=m.application.instanceId,m.UI.timesPasswordChangeSkipped={},i.storeUIState(m.UI))),m.loading=!1,d.setPortainerStatus(m.application.instanceId,m.application.version),d.setOptOut(!m.application.enableTelemetry),m}))},p.updateEndpointState=function(e){var a=t.defer();if(3===e.Type)return m.endpoint.name=e.Name,m.endpoint.mode={provider:"AZURE"},i.storeEndpointState(m.endpoint),a.resolve(),a.promise;if(5===e.Type||6===e.Type||7===e.Type)return m.endpoint.name=e.Name,m.endpoint.mode={provider:"KUBERNETES"},i.storeEndpointState(m.endpoint),a.resolve(),a.promise;const s=1===e.Status||!e.Snaphosts||!e.Snaphosts.length||!e.Snapshots[0].SnapshotRaw;return t.all({version:s?n.version():t.when(e.Snapshots[0].SnapshotRaw.Version),info:s?n.info():t.when(e.Snapshots[0].SnapshotRaw.Info)}).then((function(t){var n=r.determineEndpointMode(t.info,e.Type),a=parseFloat(t.version.ApiVersion);if(m.endpoint.mode=n,m.endpoint.name=e.Name,m.endpoint.type=e.Type,m.endpoint.apiVersion=a,n.agentProxy&&1===e.Status)return c.ping().then((function(e){m.endpoint.agentApiVersion=e.version}))})).then((function(){i.storeEndpointState(m.endpoint),a.resolve()})).catch((function(e){a.reject({msg:"Unable to connect to the Docker environment",err:e})})).finally((function(){m.loading=!1})),a.promise},p.getAgentApiVersion=function(){return m.endpoint.agentApiVersion},p}i.$inject=["$async","$q","SystemService","InfoHelper","LocalStorage","SettingsService","StatusService","APPLICATION_CACHE_VALIDITY","AgentPingService","$analytics","EndpointProvider"],angular.module("portainer.app").factory("StateManager",i)},98869:function(e,t,n){"use strict";function r(e){return{setTheme:function(t){t?(document.documentElement.setAttribute("theme",t),e.updateTheme(t)):document.documentElement.removeAttribute("theme")},autoTheme:function(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"";this.setTheme(e)},defaultTheme:function(){document.documentElement.removeAttribute("theme")}}}n.r(t),n.d(t,{ThemeManager:function(){return r}}),r.$inject=["StateManager"],angular.module("portainer.app").service("ThemeManager",r)},52855:function(e,t,n){"use strict";n.r(t),n.d(t,{authenticationMethodTypesMap:function(){return r},authenticationMethodTypesLabels:function(){return a}});const r={INTERNAL:1,LDAP:2,OAUTH:3},a={[r.INTERNAL]:"Internal",[r.LDAP]:"LDAP",[r.OAUTH]:"OAuth"}},98376:function(e,t,n){"use strict";n.r(t),n.d(t,{authenticationActivityTypesMap:function(){return r},authenticationActivityTypesLabels:function(){return a}});const r={AuthSuccess:1,AuthFailure:2,Logout:3},a={[r.AuthSuccess]:"Authentication success",[r.AuthFailure]:"Authentication failure",[r.Logout]:"Logout"}},50552:function(e,t,n){"use strict";n.r(t),n.d(t,{autoUserProvisionToggle:function(){return r}});const r={templateUrl:n(50551),transclude:{description:"fieldDescription"},bindings:{ngModel:"="}}},85847:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(36320),s=n(50552),o=n(93467);t.default=a().module("portainer.settings.authentication",[i.default]).component("saveAuthSettingsButton",o.saveAuthSettingsButton).component("autoUserProvisionToggle",s.autoUserProvisionToggle).name},80612:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(20810),a=n.n(r),i=n(26196),s=n(20037);class o{constructor(e){this.LDAPService=e,this.domainSuffix="",this.limitedFeatureId=i.tE.HIDE_INTERNAL_AUTH,this.onTlscaCertChange=this.onTlscaCertChange.bind(this),this.searchUsers=this.searchUsers.bind(this),this.searchGroups=this.searchGroups.bind(this),this.parseDomainName=this.parseDomainName.bind(this),this.onAccountChange=this.onAccountChange.bind(this)}parseDomainName(e){if(this.domainName="",!e||!e.includes("@"))return;const[,t]=e.split("@");if(!t)return;const n=a()(t.split("."));this.domainSuffix=n.map((e=>`dc=${e}`)).join(",")}onAccountChange(e){this.parseDomainName(e)}searchUsers(){return this.LDAPService.users(this.settings)}searchGroups(){return this.LDAPService.groups(this.settings)}onTlscaCertChange(e){this.tlscaCert=e}addLDAPUrl(){this.settings.URLs.push("")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}isSaveSettingButtonDisabled(){return(0,s.vx)(this.limitedFeatureId)||!this.isLdapFormValid()}$onInit(){this.tlscaCert=this.settings.TLSCACert,this.parseDomainName(this.settings.ReaderDN)}}o.$inject=["LDAPService"]},66509:function(e,t,n){"use strict";n.r(t),n.d(t,{adSettings:function(){return a}});var r=n(80612);const a={templateUrl:n(22555),controller:r.default,bindings:{settings:"=",tlscaCert:"=",state:"=",connectivityCheck:"<",onSaveSettings:"<",saveButtonState:"<",isLdapFormValid:"&?"}}},36320:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(66509),s=n(39947),o=n(72928),l=n(25702),c=n(18436),d=n(59086),u=n(24791),p=n(82592),m=n(97299),g=n(16811),h=n(6e4),f=n(36235),v=n(8282),b=n(88996),y=n(31939),w=n(75714),x=n(1093),S=n(84259),C=n(46951),k=n(39314);t.default=a().module("portainer.settings.authentication.ldap",[]).service("LDAPService",C.LDAPService).service("LDAP",k.LDAP).component("ldapConnectivityCheck",c.ldapConnectivityCheck).component("ldapGroupsDatatable",d.ldapGroupsDatatable).component("ldapSettings",s.ldapSettings).component("adSettings",i.adSettings).component("ldapGroupSearch",u.ldapGroupSearch).component("ldapGroupSearchItem",p.ldapGroupSearchItem).component("ldapUserSearch",m.ldapUserSearch).component("ldapUserSearchItem",g.ldapUserSearchItem).component("ldapSettingsCustom",o.ldapSettingsCustom).component("ldapSettingsDnBuilder",h.ldapSettingsDnBuilder).component("ldapSettingsGroupDnBuilder",f.ldapSettingsGroupDnBuilder).component("ldapCustomGroupSearch",v.ldapCustomGroupSearch).component("ldapCustomAdminGroup",b.ldapCustomAdminGroup).component("ldapSettingsOpenLdap",l.ldapSettingsOpenLdap).component("ldapSettingsSecurity",y.ldapSettingsSecurity).component("ldapSettingsTestLogin",w.ldapSettingsTestLogin).component("ldapCustomUserSearch",x.ldapCustomUserSearch).component("ldapUsersDatatable",S.ldapUsersDatatable).name},18436:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapConnectivityCheck:function(){return r}});const r={templateUrl:n(10386),bindings:{settings:"<",state:"<",connectivityCheck:"<",limitedFeatureId:"<"}}},88996:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapCustomAdminGroup:function(){return a}});var r=n(53864);const a={templateUrl:n(57498),controller:r.default,bindings:{settings:"=",selectedAdminGroups:"=",defaultAdminGroupSearchFilter:"<",onSearchClick:"<",limitedFeatureId:"<",isLimitedFeatureSelfContained:"<"}}},53864:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e,t,n,r){Object.assign(this,{$async:e,$scope:t,Notifications:n,LDAPService:r}),this.groups=null,this.groupstest=null,this.enableAssignAdminGroup=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this),this.onAdminGroupChange=this.onAdminGroupChange.bind(this)}onAddClick(){this.settings.AdminGroupSearchSettings.push({GroupBaseDN:"",GroupAttribute:"",GroupFilter:""})}onRemoveClick(e){this.settings.AdminGroupSearchSettings.splice(e,1)}search(){return this.$async((async()=>{try{this.groups=null;const e=await this.onSearchClick();this.groups=e.map((e=>({label:e.name,value:e.name}))),this.enableAssignAdminGroup=this.groups&&this.groups.length>0}catch(e){this.Notifications.error("Failure",e,"Failed to search groups")}}))}onAdminGroupChange(e){return this.$scope.$evalAsync((()=>{this.selectedAdminGroups=e}))}async $onInit(){this.settings.AdminAutoPopulate&&this.settings.AdminGroups&&this.settings.AdminGroups.length>0&&await this.search(),this.groups&&this.groups.length>0&&(this.enableAssignAdminGroup=!0)}}r.$inject=["$async","$scope","Notifications","LDAPService"]},8282:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapCustomGroupSearch:function(){return a}});var r=n(30950);const a={templateUrl:n(64042),controller:r.default,bindings:{settings:"=",onSearchClick:"<",limitedFeatureId:"<"}}},30950:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.groups=null,this.showTable=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.push({GroupBaseDN:"",GroupAttribute:"",GroupFilter:""})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.groups=null,this.showTable=!0,this.groups=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error("Failure",e,"Failed to search users")}}))}}r.$inject=["$async","Notifications"]},1093:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapCustomUserSearch:function(){return a}});var r=n(39525);const a={templateUrl:n(65048),controller:r.default,bindings:{settings:"=",onSearchClick:"<",limitedFeatureId:"<"}}},39525:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.users=null,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.push({BaseDN:"",UserNameAttribute:"",Filter:""})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.users=null,this.showTable=!0,this.users=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error("Failure",e,"Failed to search users")}}))}}r.$inject=["$async","Notifications"]},82592:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapGroupSearchItem:function(){return a}});var r=n(55028);const a={templateUrl:n(79557),controller:r.default,bindings:{config:"=",index:"<",domainSuffix:"@",baseFilter:"@",onRemoveClick:"<",limitedFeatureId:"<"}}},55028:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e){Object.assign(this,{Notifications:e}),this.groups=[],this.onChangeBaseDN=this.onChangeBaseDN.bind(this)}onChangeBaseDN(e){this.config.GroupBaseDN=e}addGroup(){this.groups.push({type:"ou",value:""})}removeGroup(e){this.groups.splice(e,1),this.onGroupsChange()}onGroupsChange(){const e=this.groups.map((({type:e,value:t})=>`(${e}=${t})`)).join("");this.onFilterChange(e?`(&${this.baseFilter}(|${e}))`:`${this.baseFilter}`)}onFilterChange(e){this.config.GroupFilter=e}parseGroupFilter(){const e=this.config.GroupFilter.match(/^\(&\(objectClass=(\w+)\)\(\|((\(\w+=.+\))+)\)\)$/);if(!e)return;const[,,t=""]=e;this.groups=t.slice(1,-1).split(")(").map((e=>e.split("="))).map((([e,t])=>({type:e,value:t})))}$onInit(){this.parseGroupFilter()}}r.$inject=["Notifications"]},24791:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapGroupSearch:function(){return a}});var r=n(92459);const a={templateUrl:n(3057),controller:r.default,bindings:{settings:"=",domainSuffix:"@",baseFilter:"@",onSearchClick:"<",limitedFeatureId:"<"}}},92459:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(11600),a=n.n(r);class i{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.groups=null,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){const e=a()(this.settings);this.settings.push({GroupBaseDN:this.domainSuffix,GroupAttribute:e.GroupAttribute,GroupFilter:this.baseFilter})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.groups=null,this.showTable=!0,this.groups=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error("Failure",e,"Failed to search users")}}))}}i.$inject=["$async","Notifications"]},59086:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapGroupsDatatable:function(){return r}});const r={templateUrl:n(30629),controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}}},72928:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapSettingsCustom:function(){return a}});var r=n(96551);const a={templateUrl:n(15933),controller:r.default,bindings:{settings:"=",tlscaCert:"=",state:"=",onTlscaCertChange:"<",connectivityCheck:"<",onSearchUsersClick:"<",onSearchGroupsClick:"<",onSaveSettings:"<",saveButtonState:"<",saveButtonDisabled:"<"}}},96551:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(26196);class a{constructor(){this.limitedFeatureId=r.tE.EXTERNAL_AUTH_LDAP}addLDAPUrl(){this.settings.URLs.push("")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}}},6e4:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapSettingsDnBuilder:function(){return a}});var r=n(62680);const a={templateUrl:n(34778),controller:r.default,bindings:{ngModel:"<",onChange:"<",suffix:"@",label:"@",limitedFeatureId:"<"}}},62680:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(){this.entries=[]}addEntry(){this.entries.push({type:"ou",value:""})}removeEntry(e){this.entries.splice(e,1),this.onEntriesChange()}moveUp(e){e<=0||(a(this.entries,e,e-1),this.onEntriesChange())}moveDown(e){e>=this.entries.length-1||(a(this.entries,e,e+1),this.onEntriesChange())}onEntriesChange(){const e=this.entries.filter((({value:e})=>e)).map((({type:e,value:t})=>`${e}=${t}`)).concat(this.suffix).filter((e=>e)).join(",");this.onChange(e)}getOUValues(e,t=""){const n=/(\w+)=(\w*),?/;let r=[],a=e,i=a.match(n);for(;i&&a!==t;){const[,e,t]=i;r.push({type:e,value:t}),a=a.replace(n,""),i=a.match(/(\w+)=(\w+),?/)}return r}parseBaseDN(){this.entries=this.getOUValues(this.ngModel,this.suffix)}$onChanges({suffix:e,ngModel:t}){!e&&!t||e&&e.isFirstChange()||this.onEntriesChange()}$onInit(){this.parseBaseDN()}}function a(e,t,n){if(!a(e,t)||!a(e,n))throw new Error("index is out of bounds");const[r]=e.splice(t,1);function a(e,t){return t>=0&&t<=e.length}e.splice(n,0,r)}r.$inject=[]},36235:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapSettingsGroupDnBuilder:function(){return a}});var r=n(91117);const a={templateUrl:n(88006),controller:r.default,bindings:{ngModel:"<",onChange:"<",suffix:"@",index:"<",onRemoveClick:"<",limitedFeatureId:"<"}}},91117:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(){this.groupName="",this.entries="",this.onEntriesChange=this.onEntriesChange.bind(this),this.onGroupNameChange=this.onGroupNameChange.bind(this),this.onGroupChange=this.onGroupChange.bind(this),this.removeGroup=this.removeGroup.bind(this)}onEntriesChange(e){this.onGroupChange(this.groupName,e)}onGroupNameChange(){this.onGroupChange(this.groupName,this.entries)}onGroupChange(e,t){if(!e)return;const n=`cn=${e}`;this.onChange(this.index,t||this.suffix?`${n},${t||this.suffix}`:n)}removeGroup(){this.onRemoveClick(this.index)}parseEntries(e,t){if(e===t)return this.groupName="",void(this.entries=t);const[n,r]=this.ngModel.split(/,(.+)/);this.groupName=n.replace("cn=",""),this.entries=r||""}$onChange({ngModel:e,suffix:t}){(t&&!t.isFirstChange()||e)&&this.parseEntries(e.value,t.value)}$onInit(){this.parseEntries(this.ngModel,this.suffix)}}r.$inject=[]},25702:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapSettingsOpenLdap:function(){return a}});var r=n(58962);const a={templateUrl:n(69939),controller:r.default,bindings:{settings:"=",tlscaCert:"=",state:"=",connectivityCheck:"<",onTlscaCertChange:"<",onSearchUsersClick:"<",onSearchGroupsClick:"<",onSaveSettings:"<",saveButtonState:"<",saveButtonDisabled:"<"}}},58962:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(26196);class a{constructor(){this.domainSuffix="",this.limitedFeatureId=r.tE.EXTERNAL_AUTH_LDAP,this.findDomainSuffix=this.findDomainSuffix.bind(this),this.parseDomainSuffix=this.parseDomainSuffix.bind(this),this.onAccountChange=this.onAccountChange.bind(this)}findDomainSuffix(){const e=this.settings.ReaderDN;let t=this.parseDomainSuffix(e);if(!t&&this.settings.SearchSettings.length>0){const e=this.settings.SearchSettings[0];t=this.parseDomainSuffix(e.BaseDN)}this.domainSuffix=t}parseDomainSuffix(e=""){const t=e.toLowerCase().indexOf("dc=");return-1!==t?e.substring(t):""}onAccountChange(e){this.domainSuffix=this.parseDomainSuffix(e)}addLDAPUrl(){this.settings.URLs.push("")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}$onInit(){this.findDomainSuffix()}}a.$inject=[]},31939:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapSettingsSecurity:function(){return r}});const r={templateUrl:n(39720),bindings:{settings:"=",tlscaCert:"<",onTlscaCertChange:"<",uploadInProgress:"<",title:"@",limitedFeatureId:"<"}}},75714:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapSettingsTestLogin:function(){return a}});var r=n(90829);const a={templateUrl:n(25649),controller:r.default,bindings:{settings:"=",limitedFeatureId:"<",showBeIndicatorIfNeeded:"<",isLimitedFeatureSelfContained:"<"}}},90829:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});const r={LOADING:"LOADING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};class a{constructor(e,t,n){Object.assign(this,{$async:e,LDAPService:t,Notifications:n}),this.TEST_STATUS=r,this.state={testStatus:""}}async testLogin(e,t){return this.$async((async()=>{this.state.testStatus=r.LOADING;try{const n=await this.LDAPService.testLogin(this.settings,e,t);this.state.testStatus=n.valid?r.SUCCESS:r.FAILURE}catch(e){this.Notifications.error("Failure",e,"Unable to test login"),this.state.testStatus=r.FAILURE}}))}}a.$inject=["$async","LDAPService","Notifications"]},54512:function(e,t,n){"use strict";function r(){return{AnonymousMode:!0,ReaderDN:"",URLs:[""],ServerType:0,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:"",Filter:"",UserNameAttribute:""}],GroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AdminGroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AutoCreateUsers:!0}}function a(){const e={AnonymousMode:!0,ReaderDN:"",URLs:[""],ServerType:0,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:"",Filter:"",UserNameAttribute:""}],GroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AdminGroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AutoCreateUsers:!0};return e.ServerType=2,e.AnonymousMode=!1,e.SearchSettings[0].UserNameAttribute="sAMAccountName",e.SearchSettings[0].Filter="(objectClass=user)",e.GroupSearchSettings[0].GroupAttribute="member",e.GroupSearchSettings[0].GroupFilter="(objectClass=group)",e}function i(){const e={AnonymousMode:!0,ReaderDN:"",URLs:[""],ServerType:0,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:"",Filter:"",UserNameAttribute:""}],GroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AdminGroupSearchSettings:[{GroupBaseDN:"",GroupFilter:"",GroupAttribute:""}],AutoCreateUsers:!0};return e.ServerType=1,e.AnonymousMode=!1,e.SearchSettings[0].UserNameAttribute="uid",e.SearchSettings[0].Filter="(objectClass=inetOrgPerson)",e.GroupSearchSettings[0].GroupAttribute="member",e.GroupSearchSettings[0].GroupFilter="(objectClass=groupOfNames)",e}n.r(t),n.d(t,{buildLdapSettingsModel:function(){return r},buildAdSettingsModel:function(){return a},buildOpenLDAPSettingsModel:function(){return i}})},39947:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapSettings:function(){return a}});var r=n(28283);const a={templateUrl:n(75634),controller:r.default,bindings:{settings:"=",tlscaCert:"=",state:"<",connectivityCheck:"<",onSaveSettings:"<",saveButtonState:"<",isLdapFormValid:"<"}}},28283:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(54512),a=n(94410),i=n(26196),s=n(70003),o=n(90134),l=[{id:"ldap_custom",icon:(0,n(2629).jsx)(o.V,{icon:a.Z}),label:"Custom",value:0},{id:"ldap_openldap",icon:s.Z,label:"OpenLDAP",value:1,feature:i.tE.EXTERNAL_AUTH_LDAP}];const c={CUSTOM:0,OPEN_LDAP:1,AD:2};class d{constructor(e){Object.assign(this,{LDAPService:e,SERVER_TYPES:c}),this.tlscaCert=null,this.settingsDrafts={},this.boxSelectorOptions=l,this.onTlscaCertChange=this.onTlscaCertChange.bind(this),this.searchUsers=this.searchUsers.bind(this),this.searchGroups=this.searchGroups.bind(this),this.onChangeServerType=this.onChangeServerType.bind(this)}onTlscaCertChange(e){this.tlscaCert=e}$onInit(){this.tlscaCert=this.settings.TLSConfig.TLSCACert}onChangeServerType(e){if(this.settingsDrafts[this.settings.ServerType]=this.settings,this.settingsDrafts[e])this.settings=this.settingsDrafts[e];else switch(e){case c.OPEN_LDAP:this.settings=(0,r.buildOpenLDAPSettingsModel)();break;case c.CUSTOM:this.settings=(0,r.buildLdapSettingsModel)()}}searchUsers(){const e={...this.settings,SearchSettings:this.settings.SearchSettings.map((e=>({...e,Filter:e.Filter||"(objectClass=inetOrgPerson)"})))};return this.LDAPService.users(e)}searchGroups(){const e={...this.settings,GroupSearchSettings:this.settings.GroupSearchSettings.map((e=>({...e,GroupFilter:e.GroupFilter||"(objectClass=groupOfNames)"})))};return this.LDAPService.groups(e)}}d.$inject=["LDAPService"]},16811:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapUserSearchItem:function(){return a}});var r=n(93669);const a={templateUrl:n(25972),controller:r.default,bindings:{config:"=",index:"<",showUsernameFormat:"<",domainSuffix:"@",baseFilter:"@",onRemoveClick:"<",limitedFeatureId:"<"}}},93669:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(){this.groups=[],this.onBaseDNChange=this.onBaseDNChange.bind(this),this.onGroupChange=this.onGroupChange.bind(this),this.onGroupsChange=this.onGroupsChange.bind(this),this.removeGroup=this.removeGroup.bind(this)}onBaseDNChange(e){this.config.BaseDN=e}onGroupChange(e,t){this.groups[e]=t,this.onGroupsChange(this.groups)}onGroupsChange(e){this.config.Filter=this.generateUserFilter(e)}removeGroup(e){this.groups.splice(e,1),this.onGroupsChange(this.groups)}addGroup(){this.groups.push(this.domainSuffix?`cn=,${this.domainSuffix}`:"cn=")}generateUserFilter(e){const t=e.filter((e=>e!==this.domainSuffix));if(!t.length)return this.baseFilter;const n=t.map((e=>`(memberOf=${e})`));return`(&${this.baseFilter}${n.length>1?`(|${n.join("")})`:n[0]})`}parseFilter(){const e=this.config.Filter;if(e===this.baseFilter)return;if(!e.includes("|")){const t=e.indexOf("memberOf=");return void(t>-1&&(this.groups=[e.slice(t+9,-2)]))}const t=e.slice(e.indexOf("|")+2,-3);this.groups=t.split(")(").map((e=>e.replace("memberOf=","")))}$onInit(){this.parseFilter()}}r.$inject=[]},97299:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapUserSearch:function(){return a}});var r=n(34188);const a={templateUrl:n(36452),controller:r.default,bindings:{settings:"=",domainSuffix:"@",showUsernameFormat:"<",baseFilter:"@",limitedFeatureId:"<",onSearchClick:"<"}}},34188:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(20810),a=n.n(r),i=n(11600),s=n.n(i);class o{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.users=null,this.showTable=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){const e=s()(this.settings);this.settings.push({BaseDN:this.domainSuffix,UserNameAttribute:e.UserNameAttribute,Filter:this.baseFilter})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.users=null,this.showTable=!0;const e=await this.onSearchClick();this.users=a()(e)}catch(e){this.Notifications.error("Failure",e,"Failed to search users"),this.showTable=!1}}))}}o.$inject=["$async","Notifications"]},84259:function(e,t,n){"use strict";n.r(t),n.d(t,{ldapUsersDatatable:function(){return r}});const r={templateUrl:n(30235),controller:"GenericDatatableController",bindings:{titleText:"@",titleIcon:"@",dataset:"<",tableKey:"@",orderBy:"@",reverseOrder:"<"}}},39314:function(e,t,n){"use strict";function r(e){return e("api/ldap/:action",{},{check:{method:"POST",params:{action:"check"}},users:{method:"POST",isArray:!0,params:{action:"users"}},groups:{method:"POST",isArray:!0,params:{action:"groups"}},testLogin:{method:"POST",params:{action:"test"}}})}n.r(t),n.d(t,{LDAP:function(){return r}}),r.$inject=["$resource"]},46951:function(e,t,n){"use strict";function r(e){return{users:function(t){return e.users({ldapSettings:t}).$promise},groups:async function(t){return(await e.groups({ldapSettings:t}).$promise).map((({Name:e,Groups:t})=>{let n=e;if(e.includes(",")&&e.includes("=")){const[t]=e.split(",");n=t.split("=")[1]}return{Groups:t,Name:n}}))},check:function(t){return e.check({ldapSettings:t}).$promise},testLogin:function(t,n,r){return e.testLogin({ldapSettings:t,username:n,password:r}).$promise}}}n.r(t),n.d(t,{LDAPService:function(){return r}}),r.$inject=["LDAP"]},93467:function(e,t,n){"use strict";n.r(t),n.d(t,{saveAuthSettingsButton:function(){return r}});const r={templateUrl:n(83133),bindings:{onSaveSettings:"<",saveButtonDisabled:"<",saveButtonState:"<",limitedFeatureId:"<",limitedFeatureClass:"<",className:"<"}}},6972:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(13655);t.default=a().module("portainer.settings.general",[]).component("sslCertificateSettings",i.sslCertificate).name},13655:function(e,t,n){"use strict";n.r(t),n.d(t,{sslCertificate:function(){return a}});var r=n(12617);const a={templateUrl:n(83791),controller:r.default}},12617:function(e,t,n){"use strict";n.r(t);class r{constructor(e,t,n,r,a){Object.assign(this,{$async:e,$scope:t,$state:n,SSLService:r,Notifications:a}),this.cert=null,this.originalValues={forceHTTPS:!1,certFile:null,keyFile:null},this.formValues={certFile:null,keyFile:null,forceHTTPS:!1},this.state={actionInProgress:!1,reloadingPage:!1},this.certFilePattern=".pem,.crt,.cer,.cert",this.keyFilePattern=".pem,.key",this.save=this.save.bind(this),this.onChangeForceHTTPS=this.onChangeForceHTTPS.bind(this)}isFormChanged(){return Object.entries(this.originalValues).some((([e,t])=>t!=this.formValues[e]))}onChangeForceHTTPS(e){return this.$scope.$evalAsync((()=>{this.formValues.forceHTTPS=e}))}async save(){return this.$async((async()=>{this.state.actionInProgress=!0;try{const e=this.formValues.certFile?await this.formValues.certFile.text():null,t=this.formValues.keyFile?await this.formValues.keyFile.text():null,n=!this.formValues.forceHTTPS;await this.SSLService.upload(n,e,t),await new Promise((e=>setTimeout(e,2e3))),location.reload(),this.state.reloadingPage=!0}catch(e){this.Notifications.error("Failure",e,"Failed applying changes")}this.state.actionInProgress=!1}))}wasHTTPsChanged(){return this.originalValues.forceHTTPS!==this.formValues.forceHTTPS}async $onInit(){return this.$async((async()=>{try{const e=await this.SSLService.get();this.formValues.forceHTTPS=!e.httpEnabled,this.originalValues.forceHTTPS=this.formValues.forceHTTPS}catch(e){this.Notifications.error("Failure",e,"Failed loading certificate info")}}))}}r.$inject=["$async","$scope","$state","SSLService","Notifications"],t.default=r},52744:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(85847),s=n(6972);t.default=a().module("portainer.settings",[i.default,s.default]).name},48557:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e,t,n){this.PaginationService=n,this.tableKey="authLogs";const r=this.$onInit;angular.extend(this,e("GenericDatatableController",{$scope:t})),this.changeSort=this.changeSort.bind(this),this.handleChangeLimit=this.handleChangeLimit.bind(this),this.$onInit=r.bind(this)}changeSort(e){let t=!1;e===this.sort.key&&(t=!this.sort.desc),this.onChangeSort({key:e,desc:t})}handleChangeLimit(e){this.PaginationService.setPaginationLimit(this.tableKey,e),this.onChangeLimit(e)}$onInit(){this.$onInitGeneric();const e=this.PaginationService.getPaginationLimit(this.tableKey);e&&this.onChangeLimit(+e)}}r.$inject=["$controller","$scope","PaginationService"]},32654:function(e,t,n){"use strict";n.r(t),n.d(t,{activityLogsDatatable:function(){return a}});var r=n(48557);const a={templateUrl:n(79765),controller:r.default,bindings:{logs:"<",keyword:"<",sort:"<",limit:"<",totalItems:"<",currentPage:"<",feature:"@",onChangeContextFilter:"<",onChangeKeyword:"<",onChangeSort:"<",onChangeLimit:"<",onChangePage:"<"}}},38427:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(4396),a=n.n(r),i=n(26196);class s{constructor(e,t,n){this.$async=e,this.$scope=t,this.Notifications=n,this.limitedFeature=i.tE.ACTIVITY_AUDIT,this.state={keyword:"",date:{from:0,to:0},sort:{key:"Timestamp",desc:!0},page:1,limit:10,totalItems:0,logs:null},this.today=a()().endOf("day"),this.minValidDate=a()().subtract(7,"d").startOf("day"),this.onChangeDate=this.onChangeDate.bind(this),this.onChangeKeyword=this.onChangeKeyword.bind(this),this.onChangeSort=this.onChangeSort.bind(this),this.loadLogs=this.loadLogs.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeLimit=this.onChangeLimit.bind(this)}onChangePage(e){this.state.page=e,this.loadLogs()}onChangeLimit(e){this.state.page=1,this.state.limit=e,this.loadLogs()}onChangeSort(e){this.state.page=1,this.state.sort=e,this.loadLogs()}onChangeKeyword(e){return this.$scope.$evalAsync((()=>{this.state.page=1,this.state.keyword=e,this.loadLogs()}))}onChangeDate({startDate:e,endDate:t}){this.state.page=1,this.state.date={to:t,from:e},this.loadLogs()}async loadLogs(){return this.$async((async()=>{this.state.logs=null;try{const{logs:e,totalCount:t}={logs:[{},{},{},{},{}],totalCount:5};this.state.logs=e,this.state.totalItems=t}catch(e){this.Notifications.error("Failure",e,"Failed loading user activity logs")}}))}$onInit(){return this.$async((async()=>{this.loadLogs()}))}}s.$inject=["$async","$scope","Notifications"]},85331:function(e,t,n){"use strict";n.r(t),n.d(t,{activityLogsView:function(){return a}});var r=n(38427);const a={templateUrl:n(28459),controller:r.default}},9800:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(85331),s=n(32654);t.default=a().module("portainer.app.user-activity.activity-logs-view",[]).component("activityLogsDatatable",s.activityLogsDatatable).component("activityLogsView",i.activityLogsView).name},91651:function(e,t,n){"use strict";n.r(t);var r=n(52855),a=n(98376);class i{constructor(e,t,n){this.PaginationService=n,this.tableKey="authLogs",this.contextFilterLabels=Object.values(r.authenticationMethodTypesMap).map((e=>({value:e,label:r.authenticationMethodTypesLabels[e]}))),this.typeFilterLabels=Object.values(a.authenticationActivityTypesMap).map((e=>({value:e,label:a.authenticationActivityTypesLabels[e]})));const i=this.$onInit;angular.extend(this,e("GenericDatatableController",{$scope:t})),this.$onInit=i.bind(this),this.changeSort=this.changeSort.bind(this),this.handleChangeLimit=this.handleChangeLimit.bind(this)}changeSort(e){let t=!1;e===this.sort.key&&(t=!this.sort.desc),this.onChangeSort({key:e,desc:t})}contextType(e){return e in r.authenticationMethodTypesLabels?r.authenticationMethodTypesLabels[e]:""}activityType(e){return e in a.authenticationActivityTypesLabels?a.authenticationActivityTypesLabels[e]:""}isAuthSuccess(e){return e===a.authenticationActivityTypesMap.AuthSuccess}isAuthFailure(e){return e===a.authenticationActivityTypesMap.AuthFailure}handleChangeLimit(e){this.PaginationService.setPaginationLimit(this.tableKey,e),this.onChangeLimit(e)}$onInit(){this.$onInitGeneric();const e=this.PaginationService.getPaginationLimit(this.tableKey);e&&this.handleChangeLimit(+e)}}i.$inject=["$controller","$scope","PaginationService"],t.default=i},66823:function(e,t,n){"use strict";n.r(t),n.d(t,{authLogsDatatable:function(){return a}});var r=n(91651);const a={templateUrl:n(28572),controller:r.default,bindings:{logs:"<",keyword:"<",sort:"<",limit:"<",totalItems:"<",currentPage:"<",contextFilter:"<",typeFilter:"<",feature:"@",onChangeContextFilter:"<",onChangeTypeFilter:"<",onChangeKeyword:"<",onChangeSort:"<",onChangeLimit:"<",onChangePage:"<"}}},93873:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(4396),a=n.n(r),i=n(26196);class s{constructor(e,t){this.$async=e,this.Notifications=t,this.limitedFeature=i.tE.ACTIVITY_AUDIT,this.state={keyword:"f",date:{from:0,to:0},sort:{key:"Timestamp",desc:!0},contextFilter:[1,2,3],typeFilter:[1,2,3],page:1,limit:10,totalItems:0,logs:null},this.today=a()().endOf("day"),this.minValidDate=a()().subtract(7,"d").startOf("day"),this.onChangeDate=this.onChangeDate.bind(this),this.onChangeKeyword=this.onChangeKeyword.bind(this),this.onChangeSort=this.onChangeSort.bind(this),this.onChangeContextFilter=this.onChangeContextFilter.bind(this),this.onChangeTypeFilter=this.onChangeTypeFilter.bind(this),this.loadLogs=this.loadLogs.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeLimit=this.onChangeLimit.bind(this)}onChangePage(e){this.state.page=e,this.loadLogs()}onChangeLimit(e){this.state.page=1,this.state.limit=e,this.loadLogs()}onChangeSort(e){this.state.page=1,this.state.sort=e,this.loadLogs()}onChangeContextFilter(e,t){this.state.contextFilter=t,this.loadLogs()}onChangeTypeFilter(e,t){this.state.typeFilter=t,this.loadLogs()}onChangeKeyword(e){return this.$scope.$evalAsync((()=>{this.state.page=1,this.state.keyword=e,this.loadLogs()}))}onChangeDate({startDate:e,endDate:t}){this.state.page=1,this.state.date={to:t,from:e},this.loadLogs()}async loadLogs(){return this.$async((async()=>{this.state.logs=null;try{const{logs:e,totalCount:t}={logs:[{},{},{},{},{}],totalCount:5};this.state.logs=e,this.state.totalItems=t}catch(e){this.Notifications.error("Failure",e,"Failed loading auth activity logs")}}))}$onInit(){return this.$async((async()=>{this.loadLogs()}))}}s.$inject=["$async","Notifications"]},8364:function(e,t,n){"use strict";n.r(t),n.d(t,{authLogsView:function(){return a}});var r=n(93873);const a={templateUrl:n(22261),controller:r.default}},45303:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(8364),s=n(66823);t.default=a().module("portainer.app.user-activity.auth-logs-view",[]).component("authLogsView",i.authLogsView).component("authLogsDatatable",s.authLogsDatatable).name},91573:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(29274),a=n.n(r),i=(n(92429),n(24090)),s=n(4391),o=n(22037),l=n(89023),c=n(54269),d=n(3731),u=n(50265),p=n(81800),m=n(65280),g=n(71535),h=n(29722),f=n(12584),v=n(76598),b=(n(33262),n(41066)),y=[{Header:"Type",accessor:function(e){return e.type.charAt(0).toUpperCase()+e.type.slice(1)},id:"type",disableFilters:!0,canHide:!0},{Header:"Title",accessor:"title",id:"title",disableFilters:!0,canHide:!0},{Header:"Details",accessor:"details",id:"details",disableFilters:!0,canHide:!0},{Header:"Time",accessor:function(e){return e.timeStamp?(0,b.isoDate)(e.timeStamp):"-"},id:"time",disableFilters:!0,canHide:!0}],w=(n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176),n(55087)),x=n(73817),S=n(16579);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=n(2629),I=(0,o.ZP)()((0,w.tJ)((function(e){return k(k(k(k({},(0,S.MX)(e,"time",!0)),(0,S.en)(e)),(0,S.ZJ)(e)),(0,S.AL)(e))}),{name:(0,x.gW)("notifications-list")}));function $(e){var t=e.selectedRows,n=(0,u.aF)().user,r=(0,o.oR)(v.P);return(0,P.jsx)(f.zx,{icon:s.Z,color:"dangerlight",onClick:function(){return e=r.removeNotifications,a=t.map((function(e){return e.id})),void e(n.Id,a);var e,a},disabled:0===t.length,children:"Remove"})}var N=(0,d.F)((0,p.Q)((0,m.H)((0,c.s)((function(){var e=I(),t=(0,u.aF)().user,n=(0,o.oR)(v.P,(function(e){return e.userNotifications[t.Id]}))||[],r=(0,l.useCurrentStateAndParams)().params.id;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(g.m,{title:"Notifications",breadcrumbs:"Notifications",reload:!0}),(0,P.jsx)(h.Gn,{columns:y,titleOptions:{title:"Notifications",icon:i.Z},dataset:n,settingsStore:e,storageKey:"notifications",emptyContentLabel:"No notifications found",totalCount:n.length,renderTableActions:function(e){return(0,P.jsx)($,{selectedRows:e})},initialActiveItem:r})]})})))),[]),T=n(45303),E=n(9800);D.$inject=["$stateRegistryProvider"];var j=a().module("portainer.app.user-activity",[T.default,E.default]).component("notifications",N).config(D).name;function D(e){e.register({name:"portainer.authLogs",url:"/auth-logs",views:{"content@":{component:"authLogsView"}}}),e.register({name:"portainer.activityLogs",url:"/activity-logs",views:{"content@":{component:"activityLogsView"}}}),e.register({name:"portainer.notifications",url:"/notifications",views:{"content@":{component:"notifications"}},params:{id:""}})}},68325:function(){angular.module("portainer.app").controller("AccountController",["$scope","$state","Authentication","UserService","Notifications","SettingsService","StateManager","ThemeManager","ModalService",function(e,t,n,r,a,i,s,o,l){e.formValues={currentPassword:"",newPassword:"",confirmPassword:"",userTheme:""},e.updatePassword=async function(){if(await l.confirmChangePassword())try{await r.updateUserPassword(e.userID,e.formValues.currentPassword,e.formValues.newPassword),a.success("Success","Password successfully updated"),s.resetPasswordChangeSkips(e.userID.toString()),e.forceChangePassword=!1,t.go("portainer.logout")}catch(e){a.error("Failure",e,e.msg)}},e.skipPasswordChange=async function(){try{e.userCanSkip()&&(s.setPasswordChangeSkipped(e.userID.toString()),e.forceChangePassword=!1,t.go("portainer.home"))}catch(e){a.error("Failure",e,e.msg)}},e.userCanSkip=function(){return e.timesPasswordChangeSkipped<2},this.uiCanExit=t=>{if(t){if(1===e.userRole&&"portainer.settings.authentication"===t.to().name)return!0;if("portainer.logout"===t.to().name)return!0}return e.forceChangePassword&&l.confirmForceChangePassword(),!e.forceChangePassword},e.uiCanExit=()=>this.uiCanExit(),e.removeAction=n=>{l.confirmDeletion("Do you want to remove the selected access token(s)? Any script or application using these tokens will no longer be able to invoke the Portainer API.",(function(i){if(!i)return;let s=n.length;n.forEach((n=>{r.deleteAccessToken(e.userID,n.id).then((()=>{a.success("Success","Token successfully removed");var t=e.tokens.indexOf(n);e.tokens.splice(t,1)})).catch((e=>{a.error("Failure",e,"Unable to remove token")})).finally((()=>{--s,0===s&&t.reload()}))}))}))},e.setTheme=function(e){o.setTheme(e),s.updateTheme(e)},e.updateTheme=function(){r.updateUserTheme(e.userID,e.formValues.userTheme).then((function(){a.success("Success","User theme successfully updated"),t.reload()})).catch((function(e){a.error("Failure",e,e.msg)}))},async function(){const t=s.getState(),o=n.getUserDetails();e.userID=o.ID,e.userRole=n.getUserDetails().role,e.forceChangePassword=o.forceChangePassword,e.isInitialAdmin=1===o.ID,t.application.demoEnvironment.enabled&&(e.isDemoUser=t.application.demoEnvironment.users.includes(e.userID));const l=await r.user(e.userID);e.formValues.userTheme=l.UserTheme,i.publicSettings().then((function(n){e.AuthenticationMethod=n.AuthenticationMethod,t.UI.requiredPasswordLength&&t.UI.requiredPasswordLength!==n.RequiredPasswordLength&&s.clearPasswordChangeSkips(),e.timesPasswordChangeSkipped=t.UI.timesPasswordChangeSkipped&&t.UI.timesPasswordChangeSkipped[e.userID.toString()]?t.UI.timesPasswordChangeSkipped[e.userID.toString()]:0,e.requiredPasswordLength=n.RequiredPasswordLength,s.setRequiredPasswordLength(n.RequiredPasswordLength)})).catch((function(e){a.error("Failure",e,"Unable to retrieve application settings")})),r.getAccessTokens(e.userID).then((function(t){e.tokens=t})).catch((function(e){a.error("Failure",e,"Unable to retrieve user tokens")}))}()}])},5012:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});class r{constructor(e,t,n,r,a){this.$async=e,this.$analytics=t,this.Authentication=n,this.UserService=r,this.Notifications=a,this.onSubmit=this.onSubmit.bind(this),this.onError=this.onError.bind(this)}async onSubmit(e){const t=await this.UserService.createAccessToken(this.state.userId,e);return this.$analytics.eventTrack("portainer-account-access-token-create",{category:"portainer"}),t}onError(e,t,n){this.Notifications.error(e,t,n)}$onInit(){return this.$async((async()=>{const e=this.Authentication.getUserDetails().ID;this.state={userId:e}}))}}r.$inject=["$async","$analytics","Authentication","UserService","Notifications"]},33219:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(5012);const s=n(48675);a().module("portainer.app").component("createUserAccessToken",{templateUrl:s,controller:i.default})},87374:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(15964),s=n.n(i),o=n(31848);class l{constructor(e,t,n,r,a,i,s,o,l,c,d,u,p,m){this.$async=e,this.$analytics=t,this.$scope=n,this.$state=r,this.$stateParams=a,this.$window=i,this.Authentication=s,this.UserService=o,this.StateManager=l,this.Notifications=c,this.SettingsService=d,this.URLHelper=u,this.LocalStorage=p,this.StatusService=m,this.logo=this.StateManager.getState().application.logo,this.formValues={Username:"",Password:""},this.state={passwordInputType:"password",showOAuthLogin:!1,showStandardLogin:!1,AuthenticationError:"",loginInProgress:!0,OAuthProvider:""},this.checkForEndpointsAsync=this.checkForEndpointsAsync.bind(this),this.postLoginSteps=this.postLoginSteps.bind(this),this.oAuthLoginAsync=this.oAuthLoginAsync.bind(this),this.internalLoginAsync=this.internalLoginAsync.bind(this),this.authenticateUserAsync=this.authenticateUserAsync.bind(this),this.manageOauthCodeReturn=this.manageOauthCodeReturn.bind(this),this.authEnabledFlowAsync=this.authEnabledFlowAsync.bind(this),this.onInit=this.onInit.bind(this)}toggleShowPassword(){this.state.passwordInputType="text"===this.state.passwordInputType?"password":"text"}setPasswordInputType(e){this.state.passwordInputType=e,document.getElementById("password").setAttribute("type",e)}logout(e){this.Authentication.logout(),this.state.loginInProgress=!1,this.generateOAuthLoginURI(),this.LocalStorage.storeLogoutReason(e),this.$window.location.reload()}error(e,t){this.state.AuthenticationError=t,e||(e={}),this.Notifications.error("Failure",e,t),this.state.loginInProgress=!1}determineOauthProvider(e){return-1!==e.indexOf("login.microsoftonline.com")?"Microsoft":-1!==e.indexOf("accounts.google.com")?"Google":-1!==e.indexOf("github.com")?"Github":"OAuth"}generateState(){const e=s()();return this.LocalStorage.storeLoginStateUUID(e),"&state="+e}generateOAuthLoginURI(){this.OAuthLoginURI=this.state.OAuthLoginURI+this.generateState()}hasValidState(e){const t=this.LocalStorage.getLoginStateUUID();return t&&e&&t===e}async checkForEndpointsAsync(){try{const e=this.Authentication.isAdmin(),t=await(0,o.hF)({limit:1});return this.Authentication.getUserDetails().forceChangePassword?this.$state.go("portainer.account"):0===t.value.length&&e?this.$state.go("portainer.wizard"):this.$state.go("portainer.home")}catch(e){this.error(e,"Unable to retrieve environments")}}async postLoginSteps(){await this.StateManager.initialize();const e=this.Authentication.isAdmin();this.$analytics.setUserRole(e?"admin":"standard-user"),await this.checkForEndpointsAsync()}async oAuthLoginAsync(e){try{await this.Authentication.OAuthLogin(e),this.URLHelper.cleanParameters()}catch(e){this.error(e,"Unable to login via OAuth")}}async internalLoginAsync(e,t){await this.Authentication.login(e,t),await this.postLoginSteps()}async authenticateUserAsync(){try{var e=this.formValues.Username,t=this.formValues.Password;this.state.loginInProgress=!0,await this.internalLoginAsync(e,t)}catch(e){this.error(e,"Unable to login")}}authenticateUser(){return this.setPasswordInputType("password"),this.$async(this.authenticateUserAsync)}async manageOauthCodeReturn(e,t){this.hasValidState(t)?await this.oAuthLoginAsync(e):this.error(null,"Invalid OAuth state, try again.")}async authEnabledFlowAsync(){try{await this.UserService.administratorExists()||this.$state.go("portainer.init.admin")}catch(e){this.error(e,"Unable to verify administrator account existence")}}toggleStandardLogin(){this.state.showStandardLogin=!this.state.showStandardLogin}async onInit(){try{const e=await this.SettingsService.publicSettings();this.state.showOAuthLogin=3===e.AuthenticationMethod,this.state.showStandardLogin=!this.state.showOAuthLogin,this.state.OAuthLoginURI=e.OAuthLoginURI,this.state.OAuthProvider=this.determineOauthProvider(e.OAuthLoginURI);const t=this.URLHelper.getParameter("code"),n=this.URLHelper.getParameter("state");if(t&&n)return await this.manageOauthCodeReturn(t,n),void this.generateOAuthLoginURI();if(this.logo||(await this.StateManager.initialize(),this.logo=this.StateManager.getState().application.logo),this.generateOAuthLoginURI(),this.$stateParams.logout||this.$stateParams.error)return void this.logout(this.$stateParams.error);const r=this.LocalStorage.getLogoutReason();r&&(this.state.AuthenticationError=r,this.LocalStorage.cleanLogoutReason()),this.Authentication.isAuthenticated()&&await this.postLoginSteps(),this.state.loginInProgress=!1,await this.authEnabledFlowAsync()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve public settings")}}$onInit(){return this.$async(this.onInit)}}l.$inject=["$async","$analytics","$scope","$state","$stateParams","$window","Authentication","UserService","StateManager","Notifications","SettingsService","URLHelper","LocalStorage","StatusService"],t.default=l,a().module("portainer.app").controller("AuthenticationController",l)},46581:function(e,t,n){"use strict";n.r(t);var r=n(99432),a=n.n(r),i=n(19898),s=n(71541),o=n(26951),l=n(20037);class c{constructor(e,t,n,r,a,o,c,d,u,p,m){Object.assign(this,{$async:e,$state:t,$window:n,Authentication:r,ModalService:a,CustomTemplateService:o,FormValidator:c,Notifications:d,ResourceControlService:u,StackService:p,StateManager:m}),this.isTemplateVariablesEnabled=l.aW,this.formValues={Title:"",FileContent:"",File:null,RepositoryURL:"",RepositoryReferenceName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",ComposeFilePathInRepository:"docker-compose.yml",Description:"",Note:"",Logo:"",Platform:1,Type:1,AccessControlData:new i.AccessControlFormData,Variables:[]},this.state={Method:"editor",formValidationError:"",actionInProgress:!1,fromStack:!1,loading:!0,isEditorDirty:!1,templateNameRegex:s.TEMPLATE_NAME_VALIDATION_REGEX,isTemplateValid:!0},this.templates=[],this.createCustomTemplate=this.createCustomTemplate.bind(this),this.createCustomTemplateAsync=this.createCustomTemplateAsync.bind(this),this.validateForm=this.validateForm.bind(this),this.createCustomTemplateByMethod=this.createCustomTemplateByMethod.bind(this),this.createCustomTemplateFromFileContent=this.createCustomTemplateFromFileContent.bind(this),this.createCustomTemplateFromFileUpload=this.createCustomTemplateFromFileUpload.bind(this),this.createCustomTemplateFromGitRepository=this.createCustomTemplateFromGitRepository.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onVariablesChange=this.onVariablesChange.bind(this),this.handleChange=this.handleChange.bind(this)}onVariablesChange(e){this.handleChange({Variables:e})}handleChange(e){return this.$async((async()=>{this.formValues={...this.formValues,...e}}))}createCustomTemplate(){return this.$async(this.createCustomTemplateAsync)}onChangeMethod(){this.formValues.FileContent="",this.formValues.Variables=[],this.selectedTemplate=null}async createCustomTemplateAsync(){let e=this.state.Method;if("template"===e&&(e="editor"),this.validateForm(e)){this.state.actionInProgress=!0;try{const t=await this.createCustomTemplateByMethod(e),n=this.formValues.AccessControlData,r=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(r,n,t.ResourceControl),this.Notifications.success("Success","Custom template successfully created"),this.state.isEditorDirty=!1,this.$state.go("docker.templates.custom")}catch(e){this.Notifications.error("Failure",e,"A template with the same name already exists")}finally{this.state.actionInProgress=!1}}}validateForm(e){if(this.state.formValidationError="","editor"===e&&""===this.formValues.FileContent)return this.state.formValidationError="Template file content must not be empty",!1;const t=this.formValues.Title;if(a()(this.templates,(e=>e.Title===t)))return this.state.formValidationError="A template with the same name already exists",!1;const n=this.Authentication.isAdmin(),r=this.formValues.AccessControlData,i=this.FormValidator.validateAccessControl(r,n);return!i||(this.state.formValidationError=i,!1)}createCustomTemplateByMethod(e){switch(e){case"editor":return this.createCustomTemplateFromFileContent();case"upload":return this.createCustomTemplateFromFileUpload();case"repository":return this.createCustomTemplateFromGitRepository()}}createCustomTemplateFromFileContent(){return this.CustomTemplateService.createCustomTemplateFromFileContent(this.formValues)}createCustomTemplateFromFileUpload(){return this.CustomTemplateService.createCustomTemplateFromFileUpload(this.formValues)}createCustomTemplateFromGitRepository(){return this.CustomTemplateService.createCustomTemplateFromGitRepository(this.formValues)}editorUpdate(e){this.formValues.FileContent=e,this.state.isEditorDirty=!0,this.parseTemplate(e)}parseTemplate(e){if(!this.isTemplateVariablesEnabled)return;const t=(0,o.NT)(e),n=!!t;this.state.isTemplateValid=n,n&&this.onVariablesChange((0,o.fD)(this.formValues.Variables,t))}async $onInit(){const e=this.StateManager.getState();this.state.endpointMode=e.endpoint.mode;let t=0;"DOCKER_STANDALONE"===this.state.endpointMode.provider?t=2:"DOCKER_SWARM_MODE"===this.state.endpointMode.provider&&(t=1),this.formValues.Type=t;const{fileContent:n,type:r}=this.$state.params;this.formValues.FileContent=n,r&&(this.formValues.Type=+r);try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error("Failure loading",e,"Failed loading custom templates")}this.state.loading=!1,this.$window.onbeforeunload=()=>{if("editor"===this.state.Method&&this.formValues.FileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if("editor"===this.state.Method&&this.formValues.FileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}}c.$inject=["$async","$state","$window","Authentication","ModalService","CustomTemplateService","FormValidator","Notifications","ResourceControlService","StackService","StateManager"],t.default=c},31268:function(e,t,n){"use strict";n.r(t);var r=n(46581);const a=n(53068);angular.module("portainer.app").component("createCustomTemplateView",{templateUrl:a,controller:r.default})},77999:function(e,t,n){"use strict";n.r(t);var r=n(51235),a=n.n(r),i=n(71204),s=n.n(i),o=n(19898),l=n(71541),c=n(26951),d=n(20037);class u{constructor(e,t,n,r,a,i,s,c,u,p,m,g,h){this.$anchorScroll=e,this.$async=t,this.$rootScope=n,this.$state=r,this.Authentication=a,this.CustomTemplateService=i,this.FormValidator=s,this.ModalService=c,this.NetworkService=u,this.Notifications=p,this.ResourceControlService=m,this.StateManager=h,this.StackService=g,this.isTemplateVariablesEnabled=d.aW,this.DOCKER_STANDALONE="DOCKER_STANDALONE",this.DOCKER_SWARM_MODE="DOCKER_SWARM_MODE",this.state={selectedTemplate:null,showAdvancedOptions:!1,formValidationError:"",actionInProgress:!1,isEditorVisible:!1,deployable:!1,templateNameRegex:l.TEMPLATE_NAME_VALIDATION_REGEX,templateContent:""},this.currentUser={isAdmin:!1,id:null},this.formValues={network:"",name:"",fileContent:"",AccessControlData:new o.AccessControlFormData,variables:[]},this.getTemplates=this.getTemplates.bind(this),this.getTemplatesAsync=this.getTemplatesAsync.bind(this),this.removeTemplates=this.removeTemplates.bind(this),this.removeTemplatesAsync=this.removeTemplatesAsync.bind(this),this.validateForm=this.validateForm.bind(this),this.createStack=this.createStack.bind(this),this.createStackAsync=this.createStackAsync.bind(this),this.selectTemplate=this.selectTemplate.bind(this),this.selectTemplateAsync=this.selectTemplateAsync.bind(this),this.unselectTemplate=this.unselectTemplate.bind(this),this.unselectTemplateAsync=this.unselectTemplateAsync.bind(this),this.getNetworks=this.getNetworks.bind(this),this.getNetworksAsync=this.getNetworksAsync.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.confirmDeleteAsync=this.confirmDeleteAsync.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.isEditAllowed=this.isEditAllowed.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this),this.onChangeTemplateVariables=this.onChangeTemplateVariables.bind(this)}isEditAllowed(e){return this.currentUser.isAdmin||this.currentUser.id===e.CreatedByUserId}getTemplates(){return this.$async(this.getTemplatesAsync)}async getTemplatesAsync(){try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error("Failed loading templates",e,"Unable to load custom templates")}}removeTemplates(e){return this.$async(this.removeTemplatesAsync,e)}async removeTemplatesAsync(e){for(let t of e)try{await this.CustomTemplateService.remove(t.id),this.Notifications.success("Success","Removed template successfully"),s()(this.templates,t)}catch(e){this.Notifications.error("Failed removing template",e,"Unable to remove custom template")}}onChangeTemplateVariables(e){this.onChangeFormValues({variables:e}),this.renderTemplate()}renderTemplate(){if(!this.isTemplateVariablesEnabled)return;const e=(0,c.SM)(this.state.templateContent,this.formValues.variables,this.state.selectedTemplate.Variables);this.onChangeFormValues({fileContent:e})}onChangeFormValues(e){this.formValues={...this.formValues,...e}}validateForm(e,t){this.state.formValidationError="";const n=this.FormValidator.validateAccessControl(e,t);return!n||(this.state.formValidationError=n,!1)}createStack(){return this.$async(this.createStackAsync)}async createStackAsync(){const e=this.currentUser.id,t=this.formValues.AccessControlData;if(!this.validateForm(t,this.currentUser.isAdmin))return;const n=this.formValues.name,r=this.endpoint.Id;this.state.actionInProgress=!0;try{const a=this.formValues.fileContent,i=1===this.state.selectedTemplate.Type?this.StackService.createSwarmStackFromFileContent:this.StackService.createComposeStackFromFileContent,{ResourceControl:s}=await i(n,a,[],r);await this.ResourceControlService.applyResourceControl(e,t,s),this.Notifications.success("Success","Stack successfully deployed"),this.$state.go("docker.stacks")}catch(e){this.Notifications.error("Deployment error",e,"Failed to deploy stack")}finally{this.state.actionInProgress=!1}}unselectTemplate(e){return this.$async(this.unselectTemplateAsync,e)}async unselectTemplateAsync(e){e.Selected=!1,this.state.selectedTemplate=null,this.formValues={network:"",name:"",fileContent:"",AccessControlData:new o.AccessControlFormData,variables:[]}}selectTemplate(e){return this.$async(this.selectTemplateAsync,e)}async selectTemplateAsync(e){this.state.selectedTemplate&&await this.unselectTemplate(this.state.selectedTemplate),e.Selected=!0,this.formValues.network=a()(this.availableNetworks,(function(e){return"bridge"===e.Name})),this.formValues.name=e.Title?e.Title:"",this.state.selectedTemplate=e,this.$anchorScroll("view-top");const t=this.StateManager.getState();this.state.deployable=this.isDeployable(t.endpoint,e.Type);const n=await this.CustomTemplateService.customTemplateFile(e.Id);if(this.state.templateContent=n,this.formValues.fileContent=n,e.Variables&&e.Variables.length>0){const t=Object.fromEntries(e.Variables.map((e=>[e.name,""])));this.onChangeTemplateVariables(t)}}getNetworks(e,t){return this.$async(this.getNetworksAsync,e,t)}async getNetworksAsync(e,t){try{const n=await this.NetworkService.networks("DOCKER_STANDALONE"===e||"DOCKER_SWARM_MODE"===e,!1,"DOCKER_SWARM_MODE"===e&&t>=1.25);this.availableNetworks=n}catch(e){this.Notifications.error("Failure",e,"Failed to load networks.")}}confirmDelete(e){return this.$async(this.confirmDeleteAsync,e)}async confirmDeleteAsync(e){if(await this.ModalService.confirmDeletionAsync("Are you sure that you want to delete this template?"))try{var t=a()(this.templates,{Id:e});await this.CustomTemplateService.remove(e),this.Notifications.success("Template successfully deleted",t&&t.Title),s()(this.templates,{Id:e})}catch(e){this.Notifications.error("Failure",e,"Failed to delete template")}}editorUpdate(e){this.formValues.fileContent=e}isDeployable(e,t){let n=!1;switch(t){case 1:n=e.mode.provider===this.DOCKER_SWARM_MODE;break;case 2:n=e.mode.provider===this.DOCKER_STANDALONE}return n}$onInit(){const e=this.StateManager.getState(),{endpoint:{mode:t},apiVersion:n}=e;this.getTemplates(),this.getNetworks(t.provider,n),this.currentUser.isAdmin=this.Authentication.isAdmin();const r=this.Authentication.getUserDetails();this.currentUser.id=r.ID}}u.$inject=["$anchorScroll","$async","$rootScope","$state","Authentication","CustomTemplateService","FormValidator","ModalService","NetworkService","Notifications","ResourceControlService","StackService","StateManager"],t.default=u},17598:function(e,t,n){"use strict";n.r(t);var r=n(77999);const a=n(4662);angular.module("portainer.app").component("customTemplatesView",{templateUrl:a,controller:r.default,bindings:{endpoint:"<"}})},31097:function(e,t,n){"use strict";n.r(t);var r=n(99432),a=n.n(r),i=n(80178),s=n(19898),o=n(26951),l=n(20037);class c{constructor(e,t,n,r,a,i,s,o,c){Object.assign(this,{$async:e,$state:t,$window:n,ModalService:r,Authentication:a,CustomTemplateService:i,FormValidator:s,Notifications:o,ResourceControlService:c}),this.isTemplateVariablesEnabled=l.aW,this.formValues=null,this.state={formValidationError:"",isEditorDirty:!1,isTemplateValid:!0},this.templates=[],this.getTemplate=this.getTemplate.bind(this),this.getTemplateAsync=this.getTemplateAsync.bind(this),this.submitAction=this.submitAction.bind(this),this.submitActionAsync=this.submitActionAsync.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.onVariablesChange=this.onVariablesChange.bind(this),this.handleChange=this.handleChange.bind(this)}getTemplate(){return this.$async(this.getTemplateAsync)}async getTemplateAsync(){try{const[e,t]=await Promise.all([this.CustomTemplateService.customTemplate(this.$state.params.id),this.CustomTemplateService.customTemplateFile(this.$state.params.id)]);e.FileContent=t,e.Variables=e.Variables||[],this.formValues=e,this.parseTemplate(e.FileContent),this.oldFileContent=this.formValues.FileContent,e.ResourceControl&&(this.formValues.ResourceControl=new i.w(e.ResourceControl)),this.formValues.AccessControlData=new s.AccessControlFormData}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve custom template data")}}onVariablesChange(e){this.handleChange({Variables:e})}handleChange(e){return this.$async((async()=>{this.formValues={...this.formValues,...e}}))}validateForm(){if(this.state.formValidationError="",!this.formValues.FileContent)return this.state.formValidationError="Template file content must not be empty",!1;const e=this.formValues.Title,t=this.$state.params.id;if(a()(this.templates,(n=>n.Title===e&&n.Id!=t)))return this.state.formValidationError=`A template with the name ${e} already exists`,!1;const n=this.Authentication.isAdmin(),r=this.formValues.AccessControlData,i=this.FormValidator.validateAccessControl(r,n);return!i||(this.state.formValidationError=i,!1)}submitAction(){return this.$async(this.submitActionAsync)}async submitActionAsync(){if(this.validateForm()){this.actionInProgress=!0;try{await this.CustomTemplateService.updateCustomTemplate(this.formValues.Id,this.formValues);const e=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(e,this.formValues.AccessControlData,this.formValues.ResourceControl),this.Notifications.success("Success","Custom template successfully updated"),this.state.isEditorDirty=!1,this.$state.go("docker.templates.custom")}catch(e){this.Notifications.error("Failure",e,"Unable to update custom template")}finally{this.actionInProgress=!1}}}editorUpdate(e){this.formValues.FileContent.replace(/(\r\n|\n|\r)/gm,"")!==e.replace(/(\r\n|\n|\r)/gm,"")&&(this.formValues.FileContent=e,this.parseTemplate(e),this.state.isEditorDirty=!0)}parseTemplate(e){if(!this.isTemplateVariablesEnabled)return;const t=(0,o.NT)(e),n=!!t;this.state.isTemplateValid=n,n&&this.onVariablesChange((0,o.fD)(this.formValues.Variables,t))}async uiCanExit(){if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){this.getTemplate();try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error("Failure loading",e,"Failed loading custom templates")}this.$window.onbeforeunload=()=>{if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return""}}$onDestroy(){this.state.isEditorDirty=!1}}c.$inject=["$async","$state","$window","ModalService","Authentication","CustomTemplateService","FormValidator","Notifications","ResourceControlService"],t.default=c},69659:function(e,t,n){"use strict";n.r(t);var r=n(31097);const a=n(63928);angular.module("portainer.app").component("editCustomTemplateView",{templateUrl:a,controller:r.default})},11937:function(e,t,n){"use strict";n.r(t);var r=n(15964),a=n.n(r),i=n(13494),s=n(60122);angular.module("portainer.app").controller("ImportDeviceController",["$async","$q","$scope","$state","EndpointService","GroupService","TagService","Notifications","Authentication","FileUploadService",function(e,t,n,r,o,l,c,d,u,p){n.state={actionInProgress:!1,vouchersUploading:!1,vouchersUploaded:!1,deviceIDs:[],allowCreateTag:u.isAdmin()},n.formValues={DeviceName:"",DeviceProfile:"",GroupId:1,TagIds:[],VoucherFiles:[],PortainerURL:"",Suffix:1},n.profiles=[],n.onChangeTags=function(e){return n.$evalAsync((()=>{n.formValues.TagIds=e}))},n.onVoucherFilesChange=function(){if(n.formValues.VoucherFiles.length<1)return;n.state.vouchersUploading=!0;let e=n.formValues.VoucherFiles.map((e=>p.uploadOwnershipVoucher(e)));t.all(e).then((function(e){n.state.vouchersUploading=!1,n.state.vouchersUploaded=!0,n.state.deviceIDs=e.map((e=>e.data.guid))})).catch((function(e){n.state.vouchersUploading=!1,1===n.formValues.VoucherFiles.length?d.error("Failure",e,"Unable to upload the Ownership Voucher"):d.error("Failure",null,"Unable to upload the Ownership Vouchers, please check the logs")}))},n.createEndpointAndConfigureDevice=function(){return e((async()=>{n.state.actionInProgress=!0;let e=n.formValues.Suffix;for(const r of n.state.deviceIDs){let l=n.formValues.DeviceName+e;try{var t=await o.createRemoteEndpoint(l,i.PortainerEndpointCreationTypes.EdgeAgentEnvironment,n.formValues.PortainerURL,"",n.formValues.GroupId,n.formValues.TagIds,!1,!1,!1,null,null,null,null,!0)}catch(e){return d.error("Failure",e,"Unable to create the environment"),void(n.state.actionInProgress=!1)}e++;const c={edgeID:t.EdgeID||a()(),edgeKey:t.EdgeKey,name:l,profile:n.formValues.DeviceProfile};try{await(0,s.e6)(r,c)}catch(e){return void d.error("Failure",e,"Unable to import device")}finally{n.state.actionInProgress=!1}}d.success("Success","Device(s) successfully imported"),r.go("edge.devices")}))},async function(){try{n.profiles=await(0,s.cp)()}catch(e){return void d.error("Failure",e,"Unable to load profiles")}t.all({groups:l.groups()}).then((function(e){n.groups=e.groups})).catch((function(e){d.error("Failure",e,"Unable to load groups")}))}()}])},35696:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(29274),a=n.n(r),i=n(60122);function s(e,t,n,r,a,s,o){e.formValues={name:"",profileFileContent:""},e.state={method:"editor",actionInProgress:!1,isEditorDirty:!1},r.onbeforeunload=()=>{if("editor"===e.state.method&&e.formValues.profileFileContent&&e.state.isEditorDirty)return""},e.$on("$destroy",(function(){e.state.isEditorDirty=!1})),e.onChangeFormValues=function(t){e.formValues=t},e.createProfileAsync=function(){return t((async()=>{const t=e.state.method,r=e.formValues.name,a=e.formValues.profileFileContent;if("editor"===t||""!==a){e.state.actionInProgress=!0;try{await(0,i.ED)(r,t,a),o.success("Success","Profile successfully created"),e.state.isEditorDirty=!1,n.go("portainer.settings.edgeCompute")}catch(e){o.error("Failure",e,"Unable to create Profile")}finally{e.state.actionInProgress=!1}}else e.state.formValidationError="Profile file content must not be empty"}))},e.onChangeFileContent=function(t){e.formValues.profileFileContent=t,e.state.isEditorDirty=!0}}s.$inject=["$scope","$async","$state","$window","ModalService","Authentication","Notifications"],a().module("portainer.app").controller("AddProfileController",s)},91067:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(35696);const s=n(64306);a().module("portainer.app").component("addProfileView",{templateUrl:s,controller:i.default})},21199:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(29274),a=n.n(r),i=n(60122);function s(e,t,n,r,a,s,o){e.formValues={name:"",profileFileContent:""},e.state={profileID:n.params.id,method:"editor",actionInProgress:!1,isEditorDirty:!1},r.onbeforeunload=()=>{if("editor"===e.state.method&&e.formValues.profileFileContent&&e.state.isEditorDirty)return""},e.$on("$destroy",(function(){e.state.isEditorDirty=!1})),e.onChangeFormValues=function(t){e.formValues=t},e.updateProfileAsync=function(){return t((async()=>{const t=e.state.method,r=e.formValues.name,a=e.formValues.profileFileContent;if("editor"===t||""!==a){e.state.actionInProgress=!0;try{await(0,i.ck)(e.state.profileID,r,a),o.success("Success","Profile successfully updated"),e.state.isEditorDirty=!1,n.go("portainer.settings.edgeCompute")}catch(e){o.error("Failure",e,"Unable to update Profile")}finally{e.state.actionInProgress=!1}}else e.state.formValidationError="Profile file content must not be empty"}))},e.onChangeFileContent=function(t){e.formValues.profileFileContent=t,e.state.isEditorDirty=!0},async function(){t((async()=>{try{const t=await(0,i.Ai)(e.state.profileID);e.formValues={name:t.name,profileFileContent:t.fileContent},e.state.isEditorDirty=!1}catch(e){o.error("Failure",e,"Unable to retrieve profile details")}}))}()}s.$inject=["$scope","$async","$state","$window","ModalService","Authentication","Notifications"],a().module("portainer.app").controller("EditProfileController",s)},42041:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(21199);const s=n(71149);a().module("portainer.app").component("editProfileView",{templateUrl:s,controller:i.default})},36582:function(e,t,n){const r=n(56058);angular.module("portainer.app").component("endpointRegistriesView",{templateUrl:r,controller:"EndpointRegistriesController",bindings:{endpoint:"<"}})},54886:function(e,t,n){"use strict";n.r(t);var r=n(44716),a=n.n(r),i=n(56414);class s{constructor(e,t,n,r){this.$async=e,this.Notifications=t,this.EndpointService=n,this.Authentication=r,this.canManageAccess=this.canManageAccess.bind(this),this.canBrowse=this.canBrowse.bind(this)}canManageAccess(e){return e.Type!==i.RegistryTypes.ANONYMOUS&&this.Authentication.isAdmin()}canBrowse(e){return!a()([i.RegistryTypes.ANONYMOUS,i.RegistryTypes.DOCKERHUB,i.RegistryTypes.QUAY],e.Type)}getRegistries(){return this.$async((async()=>{try{this.registries=await this.EndpointService.registries(this.endpointId)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registries")}}))}$onInit(){return this.$async((async()=>{this.state={viewReady:!1};try{this.endpointType=this.endpoint.Type,this.endpointId=this.endpoint.Id,await this.getRegistries()}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registries")}finally{this.state.viewReady=!0}}))}}s.$inject=["$async","Notifications","EndpointService","Authentication"],t.default=s,angular.module("portainer.app").controller("EndpointRegistriesController",s)},16962:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(26196);class s{constructor(e,t,n,r,a,s){this.$state=e,this.$transition$=t,this.Notifications=n,this.EndpointService=r,this.GroupService=a,this.$async=s,this.limitedFeature=i.tE.RBAC_ROLES,this.updateAccess=this.updateAccess.bind(this),this.updateAccessAsync=this.updateAccessAsync.bind(this)}async $onInit(){this.state={actionInProgress:!1};try{this.endpoint=await this.EndpointService.endpoint(this.$transition$.params().id),this.group=await this.GroupService.group(this.endpoint.GroupId)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment information")}}updateAccess(){return this.$async(this.updateAccessAsync)}async updateAccessAsync(){try{this.state.actionInProgress=!0,await this.EndpointService.updateEndpoint(this.$transition$.params().id,this.endpoint),this.Notifications.success("Success","Access successfully updated"),this.$state.reload(this.$state.current)}catch(e){this.state.actionInProgress=!1,this.Notifications.error("Failure",e,"Unable to update accesses")}}}s.$inject=["$state","$transition$","Notifications","EndpointService","GroupService","$async"],t.default=s,a().module("portainer.app").controller("EndpointAccessController",s)},80418:function(e,t,n){"use strict";n.r(t);var r=n(17465),a=n.n(r),i=n(65491),s=n.n(i),o=n(25445),l=n.n(o),c=n(46006),d=n.n(c),u=n(41952),p=n.n(u),m=n(83432),g=n.n(m),h=n(20810),f=n.n(h),v=n(15964),b=n.n(v),y=n(13494),w=n(25229),x=n(70589),S=n(76827),C=n(46980),k=n(57941),A=n(32858),P=n(16100),I=n(52474);function $(e,t,n,r,i,o,c,u,m,h,v,P){function $(e,n){return t.$evalAsync((()=>{t.endpoint={...t.endpoint,[e]:n}}))}function N(e){t.endpoint.ManagementInfo.AMT=e,t.endpoint.ManagementInfo.UUID="-",t.endpoint.ManagementInfo["Control Mode"]="-",t.endpoint.ManagementInfo["Build Number"]="-",t.endpoint.ManagementInfo["DNS Suffix"]="-"}t.onChangeCheckInInterval=function(e){$("EdgeCheckinInterval",e)},t.setFieldValue=$,t.onChangeTags=function(e){$("TagIds",e)},t.state={selectAll:!1,get selectedItemCount(){return t.state.selectedItems.length||0},selectedItems:[],uploadInProgress:!1,actionInProgress:!1,azureEndpoint:!1,kubernetesEndpoint:!1,agentEndpoint:!1,edgeEndpoint:!1,edgeAssociated:!1,allowCreate:h.isAdmin(),allowSelfSignedCerts:!0,showAMTInfo:!1,showNomad:!1,edgeScriptCommands:{linux:f()([A.dP.k8sLinux,A.dP.swarmLinux,A.dP.standaloneLinux,!1]),win:[A.dP.swarmWindows,A.dP.standaloneWindow]}},t.selectAll=function(){t.state.firstClickedItem=null;for(var e=0;e<t.state.filteredDataSet.length;e++){var n=t.state.filteredDataSet[e];n.Checked!==t.state.selectAll&&(n.Checked=t.state.selectAll,t.selectItem(n))}},t.selectItem=function(e,n){if(n&&n.originalEvent.shiftKey&&t.state.firstClickedItem){const n=t.state.filteredDataSet.indexOf(t.state.firstClickedItem),r=t.state.filteredDataSet.indexOf(e),a=g()(t.state.filteredDataSet,((e,t)=>function(e,t,n){return e>=t&&e<=n||e>=n&&e<=t}(t,n,r))),i=t.state.firstClickedItem.Checked;p()(a,(e=>{e.Checked=i})),t.state.firstClickedItem=e}else n&&(e.Checked=!e.Checked,t.state.firstClickedItem=e);t.state.selectedItems=d()(l()(t.state.selectedItems,t.state.filteredDataSet)).filter((e=>e.Checked)),n&&t.state.selectAll&&t.state.selectedItems.length!==t.state.filteredDataSet.length&&(t.state.selectAll=!1)},t.formValues={SecurityFormData:new w.EndpointSecurityFormData},t.copyEdgeAgentKey=function(){o.copyText(t.endpoint.EdgeKey),I("#copyNotificationEdgeKey").show().fadeOut(2500)},t.onToggleAllowSelfSignedCerts=function(e){return t.$evalAsync((()=>{t.state.allowSelfSignedCerts=e}))},t.onDisassociateEndpoint=async function(){P.confirmDisassociate((e=>{e&&async function(){var e=t.endpoint;try{t.state.actionInProgress=!0,await c.disassociateEndpoint(e.Id),m.success("Environment disassociated",t.endpoint.Name),n.reload()}catch(e){m.error("Failure",e,"Unable to disassociate environment")}finally{t.state.actionInProgress=!1}}()}))},t.onGpusChange=function(n){return e((async()=>{t.endpoint.Gpus=n}))},Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},t.updateEndpoint=async function(){var e=t.endpoint,r=t.formValues.SecurityFormData,a=r.TLS,i=r.TLSMode,o=a&&("tls_client_noca"===i||"tls_only"===i),l=a&&("tls_ca"===i||"tls_only"===i);if(!((0,k.Mq)(e.Type)&&s()(t.initialTagIds,e.TagIds).length>0)||await(0,C.j6)({title:"Confirm action",message:"Removing tags from this environment will remove the corresponding edge stacks when dynamic grouping is being used",buttons:{cancel:{label:"Cancel",className:"btn-default"},confirm:{label:"Confirm",className:"btn-primary"}}})){!function(){for(var e=(t.endpoint.Gpus||[]).length;e--;)""!==t.endpoint.Gpus[e].name&&null!==t.endpoint.Gpus[e].name||t.endpoint.Gpus.splice(e,1)}();var d={Name:e.Name,PublicURL:e.PublicURL,Gpus:e.Gpus,GroupID:e.GroupId,TagIds:e.TagIds,TLS:a,TLSSkipVerify:o,TLSSkipClientVerify:l,TLSCACert:o||r.TLSCACert===e.TLSConfig.TLSCACert?null:r.TLSCACert,TLSCert:l||r.TLSCert===e.TLSConfig.TLSCert?null:r.TLSCert,TLSKey:l||r.TLSKey===e.TLSConfig.TLSKey?null:r.TLSKey,AzureApplicationID:e.AzureCredentials.ApplicationID,AzureTenantID:e.AzureCredentials.TenantID,AzureAuthenticationKey:e.AzureCredentials.AuthenticationKey,EdgeCheckinInterval:e.EdgeCheckinInterval};"local"!==t.endpointType&&e.Type!==y.PortainerEndpointTypes.AzureEnvironment&&e.Type!==y.PortainerEndpointTypes.KubernetesLocalEnvironment&&e.Type!==y.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&(d.URL="tcp://"+e.URL),e.Type===y.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&(d.URL=e.URL),e.Type===y.PortainerEndpointTypes.KubernetesLocalEnvironment&&(d.URL="https://"+e.URL),t.state.actionInProgress=!0,c.updateEndpoint(e.Id,d).then((function(){m.success("Environment updated",t.endpoint.Name),n.go("portainer.endpoints",{},{reload:!0})}),(function(e){m.error("Failure",e,"Unable to update environment"),t.state.actionInProgress=!1}),(function(e){e.upload&&(t.state.uploadInProgress=e.upload)}))}},async function(){e((async()=>{try{const[e,n,s]=await Promise.all([c.endpoint(r.params().id),u.groups(),v.settings()]);0===e.URL.indexOf("unix://")||0===e.URL.indexOf("npipe://")?t.endpointType="local":t.endpointType="remote",e.URL=i("stripprotocol")(e.URL),e.Type!==y.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&e.Type!==y.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.edgeKeyDetails=function(e){let t={};if(""===e)return t;let n=a()(atob(e),"|");return t.instanceURL=n[0],t.tunnelServerAddr=n[1],t}(e.EdgeKey),t.state.edgeAssociated=!!e.EdgeID,e.EdgeID=e.EdgeID||b()()),t.endpoint=e,t.initialTagIds=e.TagIds.slice(),t.groups=n,t.endpoint.Type!==y.PortainerEndpointTypes.KubernetesLocalEnvironment&&t.endpoint.Type!==y.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&t.endpoint.Type!==y.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.state.kubernetesEndpoint=!0),t.endpoint.Type!==y.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&t.endpoint.Type!==y.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.state.edgeEndpoint=!0),t.endpoint.Type===y.PortainerEndpointTypes.AzureEnvironment&&(t.state.azureEndpoint=!0),t.endpoint.Type!==y.PortainerEndpointTypes.AgentOnDockerEnvironment&&t.endpoint.Type!==y.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&t.endpoint.Type!==y.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&t.endpoint.Type!==y.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.state.agentEndpoint=!0),x.default.isDockerEndpoint(e)&&t.state.edgeAssociated&&(t.state.showAMTInfo=s&&s.openAMTConfiguration&&s.openAMTConfiguration.enabled)}catch(e){m.error("Failure",e,"Unable to retrieve environment details")}if(t.state.showAMTInfo)try{t.endpoint.ManagementInfo={};const e=await(0,S.eX)(n.params.id);try{t.endpoint.ManagementInfo=JSON.parse(e.RawOutput)}catch(t){N(e.RawOutput)}}catch(e){N("Unable to retrieve AMT environment details")}}))}()}$.$inject=["$async","$scope","$state","$transition$","$filter","clipboard","EndpointService","GroupService","Notifications","Authentication","SettingsService","ModalService"],angular.module("portainer.app").component("gpusList",P.WO).controller("EndpointController",$)},19538:function(e,t,n){"use strict";n.r(t);var r=n(81881);const a=n(77697);angular.module("portainer.app").component("endpointsView",{templateUrl:a,controller:r.EndpointsController})},81881:function(e,t,n){"use strict";n.r(t),n.d(t,{EndpointsController:function(){return o}});var r=n(66539),a=n.n(r),i=n(70589),s=n(31848);class o{constructor(e,t,n,r,a,i,s,o){Object.assign(this,{$state:e,$async:t,EndpointService:n,GroupService:r,ModalService:a,Notifications:i,EndpointProvider:s,StateManager:o}),this.state={loadingMessage:""},this.setLoadingMessage=this.setLoadingMessage.bind(this),this.getPaginatedEndpoints=this.getPaginatedEndpoints.bind(this),this.removeAction=this.removeAction.bind(this)}setLoadingMessage(e){this.state.loadingMessage=e}removeAction(e){this.ModalService.confirmDeletion("This action will remove all configurations associated to your environment(s). Continue?",(t=>{if(t)return this.$async((async()=>{try{await Promise.all(e.map((({Id:e})=>this.EndpointService.deleteEndpoint(e)))),this.Notifications.success("Environments successfully removed",a()(e,"Name").join(", "))}catch(e){this.Notifications.error("Failure",e,"Unable to remove environment")}const t=this.EndpointProvider.endpointID();e.some((e=>e.Id===t))&&(this.StateManager.cleanEndpoint(),this.applicationState.endpoint={}),this.$state.reload()}))}))}getPaginatedEndpoints(e,t,n){return this.$async((async()=>{try{const[{value:r,totalCount:a},o]=await Promise.all([(0,s.hF)({start:e,limit:t,query:{search:n,excludeSnapshots:!0}}),this.GroupService.groups()]);return i.default.mapGroupNameToEndpoint(r,o),{endpoints:r,totalCount:a}}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment information")}}))}}o.$inject=["$state","$async","EndpointService","GroupService","ModalService","Notifications","EndpointProvider","StateManager"]},13853:function(e,t,n){"use strict";function r(e){const t=e.split(".");return t[0]+"-"+t[1]}n.r(t),n.d(t,{getAgentShortVersion:function(){return r}})},58118:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(76827);class s{constructor(e,t,n,r,a,i){this.$state=e,this.$scope=t,this.$async=n,this.$transition$=r,this.Notifications=i,this.EndpointService=a,this.$state.maximized=!1,this.$state.endpointId=r.params().id,this.$state.deviceId=r.params().deviceId,this.$state.deviceName=r.params().deviceName,t.maximize=function(){this.$state.maximized=!0},t.minimize=function(){this.$state.maximized=!1}}async $onInit(){this.$async((async()=>{try{this.$state.endpoint=await this.EndpointService.endpoint(this.$state.endpointId)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve environment information")}try{const e={ider:!0,kvm:!0,sol:!0,redirection:!0,userConsent:"none"},t=await(0,i.xv)(this.$state.endpointId,this.$state.deviceId,e);this.$state.mpsServer=t.Server,this.$state.mpsToken=t.Token}catch(e){this.Notifications.error("Failure",e,"Failed to load kvm for device")}}))}}s.$inject=["$state","$scope","$async","$transition$","EndpointService","Notifications"],t.default=s,a().module("portainer.app").controller("EndpointKVMController",s)},63824:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(91602),s=n(3731),o=n(2629),l=(0,s.F)((function(e){var t=e.deviceId,n=e.server,r=e.token;return t&&n&&r?(0,o.jsx)(i.KVM,{deviceId:t,mpsServer:"https://".concat(n,"/mps/ws/relay"),authToken:r,mouseDebounceTime:"200",canvasHeight:"100%",canvasWidth:"100%"}):(0,o.jsx)("div",{children:"Loading..."})}),["deviceId","server","token"]);a().module("portainer.app").component("kvmControl",l).name},79405:function(e,t,n){"use strict";n.r(t);var r=n(26196);angular.module("portainer.app").controller("GroupAccessController",["$scope","$state","$transition$","GroupService","Notifications",function(e,t,n,a,i){var s;e.limitedFeature=r.tE.RBAC_ROLES,e.updateAccess=function(){e.state.actionInProgress=!0,a.updateGroup(e.group,e.group.AssociatedEndpoints).then((()=>{i.success("Success","Access successfully updated"),t.reload()})).catch((t=>{e.state.actionInProgress=!1,i.error("Failure",t,"Unable to update accesses")}))},s=n.params().id,e.state={actionInProgress:!1},a.group(s).then((function(t){e.group=t})).catch((function(e){i.error("Failure",e,"Unable to load view")}))}])},7249:function(e,t,n){"use strict";n.r(t);var r=n(79607);angular.module("portainer.app").controller("CreateGroupController",["$async","$scope","$state","GroupService","Notifications",function(e,t,n,a,i){t.state={actionInProgress:!1},t.create=function(){for(var e=t.model,r=[],s=0;s<t.associatedEndpoints.length;s++){var o=t.associatedEndpoints[s];r.push(o.Id)}t.state.actionInProgress=!0,a.createGroup(e,r).then((function(){i.success("Success","Group successfully created"),n.go("portainer.groups",{},{reload:!0})})).catch((function(e){i.error("Failure",e,"Unable to create group")})).finally((function(){t.state.actionInProgress=!1}))},t.associatedEndpoints=[],t.model=new r.EndpointGroupDefaultModel,t.loaded=!0}])},9149:function(){angular.module("portainer.app").controller("GroupController",["$q","$scope","$state","$transition$","GroupService","Notifications",function(e,t,n,r,a,i){var s;t.state={actionInProgress:!1},t.update=function(){var e=t.group;t.state.actionInProgress=!0,a.updateGroup(e).then((function(){i.success("Success","Group successfully updated"),n.go("portainer.groups",{},{reload:!0})})).catch((function(e){i.error("Failure",e,"Unable to update group")})).finally((function(){t.state.actionInProgress=!1}))},s=r.params().id,e.all({group:a.group(s)}).then((function(e){t.group=e.group,t.loaded=!0})).catch((function(e){i.error("Failure",e,"Unable to load group details")}))}])},60160:function(e,t,n){"use strict";n.r(t);var r=n(71204),a=n.n(r),i=n(29274),s=n.n(i);function o(e,t,n,r,i){async function s(n){for(let t of n)try{await r.deleteGroup(t.Id),i.success("Environment group successfully removed",t.Name),a()(e.groups,t)}catch(e){i.error("Failure",e,"Unable to remove group")}t.reload()}e.removeAction=function(e){return n(s,e)},r.groups().then((function(t){e.groups=t})).catch((function(t){i.error("Failure",t,"Unable to retrieve environment groups"),e.groups=[]}))}o.$inject=["$scope","$state","$async","GroupService","Notifications"],s().module("portainer.app").controller("GroupsController",o)},66246:function(e,t,n){"use strict";n.r(t);var r=n(31848);function a(e=0){return new Promise((t=>setTimeout(t,1e3*e)))}angular.module("portainer.app").controller("InitAdminController",["$scope","$state","Notifications","Authentication","StateManager","SettingsService","UserService","BackupService","StatusService",function(e,t,n,i,s,o,l,c,d){function u(e){if(303===e.status){const t=e.headers(),n="AdminInitTimeout";t&&t["redirect-reason"]===n&&(window.location.href="/timeout.html")}}e.uploadBackup=async function(){e.state.backupInProgress=!0;const r=e.formValues.BackupFile,i=e.formValues.Password;!async function(s){e.state.backupInProgress=!0;try{await c.uploadBackup(r,i)}catch(t){return u(t),n.error("Failure",t,"Unable to restore the backup"),void(e.state.backupInProgress=!1)}try{await async function(){for(let e=0;e<10;e++){await a(5);try{const e=await d.status();if(e&&e.Version)return}catch(e){}}throw new Error("Timeout to wait for Portainer restarting")}(),n.success("Success","The backup has successfully been restored"),t.go("portainer.auth")}catch(e){u(e),n.error("Failure",e,"Unable to check for status"),await a(2),location.reload()}e.state.backupInProgress=!1}()},e.logo=s.getState().application.logo,e.formValues={Username:"admin",Password:"",ConfirmPassword:"",enableTelemetry:!0},e.state={actionInProgress:!1,showInitPassword:!0,showRestorePortainer:!1},o.publicSettings().then((function(t){e.requiredPasswordLength=t.RequiredPasswordLength})).catch((function(e){n.error("Failure",e,"Unable to retrieve application settings")})),l.administratorExists().then((function(e){e&&t.go("portainer.wizard")})).catch((function(e){n.error("Failure",e,"Unable to verify administrator account existence")})),e.togglePanel=function(){e.state.showInitPassword=!e.state.showInitPassword,e.state.showRestorePortainer=!e.state.showRestorePortainer},e.createAdminUser=function(){var a=e.formValues.Username,c=e.formValues.Password;e.state.actionInProgress=!0,l.initAdministrator(a,c).then((function(){return i.login(a,c)})).then((function(){return o.update({enableTelemetry:e.formValues.enableTelemetry})})).then((()=>s.initialize())).then((function(){return(0,r.hF)({limit:100})})).then((function(e){0===e.value.length?t.go("portainer.wizard"):t.go("portainer.home")})).catch((function(e){u(e),n.error("Failure",e,"Unable to create administrator user")})).finally((function(){e.state.actionInProgress=!1}))}}])},88611:function(e,t,n){"use strict";n.r(t);var r=n(4622),a=n.n(r),i=n(29274),s=n.n(i),o=n(690),l=n(13494);n(31714),n(6367),n(65535);class c{constructor(e,t,n,r,a,i){this.$async=e,this.$scope=t,this.$state=n,this.EndpointService=r,this.StateManager=a,this.Notifications=i,this.createLocalEndpointAsync=this.createLocalEndpointAsync.bind(this),this.createLocalKubernetesEndpointAsync=this.createLocalKubernetesEndpointAsync.bind(this),this.createAgentEndpointAsync=this.createAgentEndpointAsync.bind(this)}$onInit(){a()(this.$scope.applicationState.endpoint)||this.$state.go("portainer.home"),this.logo=this.StateManager.getState().application.logo,this.state={uploadInProgress:!1,actionInProgress:!1},this.formValues=new o.PortainerEndpointInitFormValues,this.endpointSections=o.PortainerEndpointInitFormValueEndpointSections,this.PortainerEndpointConnectionTypes=l.PortainerEndpointConnectionTypes}isConnectButtonDisabled(){switch(this.formValues.ConnectionType){case l.PortainerEndpointConnectionTypes.DOCKER_LOCAL:case l.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL:return this.state.actionInProgress;case l.PortainerEndpointConnectionTypes.AGENT:return this.state.actionInProgress||!this.formValues.Name||!this.formValues.URL}}createEndpoint(){switch(this.formValues.ConnectionType){case l.PortainerEndpointConnectionTypes.DOCKER_LOCAL:return this.createLocalEndpoint();case l.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL:return this.createLocalKubernetesEndpoint();case l.PortainerEndpointConnectionTypes.AGENT:return this.createAgentEndpoint();default:this.Notifications.error("Failure",null,"Unable to determine which action to do to create environment")}}skipEndpointCreation(){this.$state.go("portainer.home")}async createLocalEndpointAsync(){try{this.state.actionInProgress=!0,await this.EndpointService.createLocalEndpoint(),this.$state.go("portainer.home")}catch(e){this.Notifications.error("Failure",e,"Unable to connect to the Docker environment")}finally{this.state.actionInProgress=!1}}createLocalEndpoint(){return this.$async(this.createLocalEndpointAsync)}async createLocalKubernetesEndpointAsync(){try{this.state.actionInProgress=!0;const e=await this.EndpointService.createLocalKubernetesEndpoint();this.$state.go("kubernetes.cluster.setup",{endpointId:e.Id})}catch(e){this.Notifications.error("Failure",e,"Unable to connect to the Kubernetes environment")}finally{this.state.actionInProgress=!1}}createLocalKubernetesEndpoint(){return this.$async(this.createLocalKubernetesEndpointAsync)}async createAgentEndpointAsync(){try{this.state.actionInProgress=!0;const e=this.formValues.Name,t=this.formValues.URL,n=t.split(":")[0],r=await this.EndpointService.createRemoteEndpoint(e,l.PortainerEndpointCreationTypes.AgentEnvironment,t,n,1,[],!0,!0,!0,null,null,null),a=r.Type===l.PortainerEndpointTypes.AgentOnKubernetesEnvironment?"kubernetes.cluster.setup":"portainer.home";this.$state.go(a,{endpointId:r.Id})}catch(e){this.Notifications.error("Failure",e,"Unable to connect to the Docker environment")}finally{this.state.actionInProgress=!1}}createAgentEndpoint(){return this.$async(this.createAgentEndpointAsync)}}c.$inject=["$async","$scope","$state","EndpointService","StateManager","Notifications"],t.default=c,s().module("portainer.app").controller("InitEndpointController",c)},95580:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);class i{constructor(e,t,n,r,a,i,s,o,l){this.$async=e,this.$state=t,this.$transition$=n,this.$window=r,this.Authentication=a,this.StateManager=i,this.Notifications=s,this.LocalStorage=o,this.SettingsService=l,this.logo=this.StateManager.getState().application.logo,this.logoutAsync=this.logoutAsync.bind(this),this.onInit=this.onInit.bind(this)}async logoutAsync(){const e=this.$transition$.params().error,t=this.$transition$.params().performApiLogout,n=await this.SettingsService.publicSettings();try{await this.Authentication.logout(t)}finally{this.LocalStorage.storeLogoutReason(e),n.OAuthLogoutURI&&1!==this.Authentication.getUserDetails().ID?this.$window.location.href=n.OAuthLogoutURI:this.$state.go("portainer.auth",{reload:!0})}}logout(){return this.$async(this.logoutAsync)}async onInit(){try{await this.logout()}catch(e){this.Notifications.error("Failure",e,"An error occured during logout")}}$onInit(){return this.$async(this.onInit)}}i.$inject=["$async","$state","$transition$","$window","Authentication","StateManager","Notifications","LocalStorage","SettingsService"],t.default=i,a().module("portainer.app").controller("LogoutController",i)},85274:function(){function e(e,t,n,r){e.applicationState=t.getState(),e.isSidebarOpen=r.isSidebarOpen,n.autoTheme()}e.$inject=["$scope","StateManager","ThemeManager","SidebarService"],angular.module("portainer.app").controller("MainController",e)},38910:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(15366);const s=n(83827);a().module("portainer.app").component("createRegistry",{templateUrl:s,controller:i.default,bindings:{$transition$:"<"}})},15366:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(66539),a=n.n(r),i=n(44716),s=n.n(i),o=n(56414),l=n(33180),c=n(94410),d=n(94822),u=n(60218),p=n(25830),m=n(36470),g=n(23669),h=n(79309),f=n(90134),v=n(2629),b=[{id:"registry_dockerhub",icon:d.Z,label:"DockerHub",description:"DockerHub authenticated account",value:"6"},{id:"registry_aws_ecr",icon:u.Z,label:"AWS ECR",description:"Amazon elastic container registry",value:"7"},{id:"registry_quay",icon:p.Z,label:"Quay.io",description:"Quay container registry",value:"1"},{id:"registry_proget",icon:m.Z,label:"ProGet",description:"ProGet container registry",value:"5"},{id:"registry_azure",icon:g.Z,label:"Azure",description:"Azure container registry",value:"2"},{id:"registry_gitlab",icon:h.Z,label:"Gitlab",description:"Gitlab container registry",value:"4"},{id:"registry_custom",icon:(0,v.jsx)(f.V,{icon:c.Z}),label:"Custom registry",description:"Define your own registry",value:"3"}];class y{constructor(e,t,n,r,a){Object.assign(this,{$async:e,$state:t,Notifications:n,RegistryService:r,RegistryGitlabService:a}),this.RegistryTypes=o.RegistryTypes,this.state={actionInProgress:!1,overrideConfiguration:!1,gitlab:{get selectedItemCount(){return this.selectedItems.length||0},selectedItems:[]},originViewReference:"portainer.registries",originalEndpointId:null},this.createRegistry=this.createRegistry.bind(this),this.getRegistries=this.getRegistries.bind(this),this.nameIsUsed=this.nameIsUsed.bind(this),this.retrieveGitlabRegistries=this.retrieveGitlabRegistries.bind(this),this.createGitlabRegistries=this.createGitlabRegistries.bind(this),this.selectDockerHub=this.selectDockerHub.bind(this),this.selectEcr=this.selectEcr.bind(this),this.selectQuayRegistry=this.selectQuayRegistry.bind(this),this.selectProGetRegistry=this.selectProGetRegistry.bind(this),this.selectAzureRegistry=this.selectAzureRegistry.bind(this),this.selectGitlabRegistry=this.selectGitlabRegistry.bind(this),this.selectCustomRegistry=this.selectCustomRegistry.bind(this),this.setRegistry=this.setRegistry.bind(this)}useDefaultQuayConfiguration(){this.model.Quay.useOrganisation=!1,this.model.Quay.organisationName=""}selectQuayRegistry(){this.model.Name="Quay",this.model.URL="quay.io",this.model.Authentication=!0,this.model.Quay={},this.useDefaultQuayConfiguration(),this.model.Type=o.RegistryTypes.QUAY}useDefaultGitlabConfiguration(){this.model.URL="https://registry.gitlab.com",this.model.Gitlab.InstanceURL="https://gitlab.com"}selectGitlabRegistry(){this.model.Name="",this.model.Authentication=!0,this.model.Gitlab={},this.useDefaultGitlabConfiguration(),this.model.Type=o.RegistryTypes.GITLAB}selectAzureRegistry(){this.model.Name="",this.model.URL="",this.model.Authentication=!0,this.model.Type=o.RegistryTypes.AZURE}selectProGetRegistry(){this.model.Name="",this.model.URL="",this.model.BaseURL="",this.model.Authentication=!0,this.model.Type=o.RegistryTypes.PROGET}selectCustomRegistry(){this.model.Name="",this.model.URL="",this.model.Authentication=!1,this.model.Type=o.RegistryTypes.CUSTOM}selectDockerHub(){this.model.Name="",this.model.URL="docker.io",this.model.Authentication=!0,this.model.Type=o.RegistryTypes.DOCKERHUB}useDefaultEcrConfiguration(){this.model.Ecr.Region=""}selectEcr(){this.model.Name="",this.model.URL="",this.model.Authentication=!1,this.model.Ecr={},this.useDefaultEcrConfiguration(),this.model.Type=o.RegistryTypes.ECR}retrieveGitlabRegistries(){return this.$async((async()=>{this.state.actionInProgress=!0;try{this.gitlabProjects=await this.RegistryGitlabService.projects(this.model.Gitlab.InstanceURL,this.model.Token)}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve projects")}finally{this.state.actionInProgress=!1}}))}createGitlabRegistries(){return this.$async((async()=>{try{this.state.actionInProgress=!0,await this.RegistryService.createGitlabRegistries(this.model,this.state.gitlab.selectedItems),this.Notifications.success("Success","Registries successfully created"),this.$state.go(this.state.originViewReference,{endpointId:this.state.originalEndpointId})}catch(e){this.Notifications.error("Failure",e,"Unable to create registries"),this.state.actionInProgress=!1}}))}createRegistry(){return this.$async((async()=>{try{this.state.actionInProgress=!0,await this.RegistryService.createRegistry(this.model),this.Notifications.success("Success","Registry successfully created"),this.$state.go(this.state.originViewReference,{endpointId:this.state.originalEndpointId})}catch(e){this.Notifications.error("Failure",e,"Unable to create registry"),this.state.actionInProgress=!1}}))}nameIsUsed(e){return s()(this.registriesNames,e)}getRegistries(){return this.$async((async()=>{try{const e=await this.RegistryService.registries();this.registriesNames=a()(e,"Name")}catch(e){this.Notifications.error("Failure",e,"Unable to fetch existing registries")}}))}setRegistry(e){switch(this.state.registryValue=e,e){case"6":this.selectDockerHub();break;case"7":this.selectEcr();break;case"1":this.selectQuayRegistry();break;case"5":this.selectProGetRegistry();break;case"2":this.selectAzureRegistry();break;case"4":this.selectGitlabRegistry();break;case"3":this.selectCustomRegistry()}}$onInit(){return this.$async((async()=>{this.model=new l.RegistryCreateFormValues,this.model.Type=o.RegistryTypes.DOCKERHUB,this.selectDockerHub(),this.state.availableRegistry=b,this.state.registryValue="6";const e=this.$transition$.from(),t=this.$transition$.params("from");e.name&&/^[a-z]+\.registries$/.test(e.name)&&(this.state.originViewReference=e,this.state.originalEndpointId=t.endpointId||null),await this.getRegistries()}))}}y.$inject=["$async","$state","Notifications","RegistryService","RegistryGitlabService"];var w=y},74927:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(66146);const s=n(2800);a().module("portainer.app").component("editRegistry",{templateUrl:s,controller:i.default,bindings:{$transition$:"<"}})},66146:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(66539),a=n.n(r),i=n(75569),s=n.n(i),o=n(44716),l=n.n(o),c=n(56414);class d{constructor(e,t,n,r,a){this.$scope=e,Object.assign(this,{$async:t,$state:n,RegistryService:r,Notifications:a}),this.RegistryTypes=c.RegistryTypes,this.state={actionInProgress:!1,loading:!1},this.Password="",this.toggleAuthentication=this.toggleAuthentication.bind(this),this.toggleQuayUseOrganisation=this.toggleQuayUseOrganisation.bind(this)}toggleAuthentication(e){this.$scope.$evalAsync((()=>{this.registry.Authentication=e}))}toggleQuayUseOrganisation(e){this.$scope.$evalAsync((()=>{this.registry.Quay.UseOrganisation=e}))}passwordLabel(){switch(this.registry.Type){case c.RegistryTypes.ECR:return"AWS Secret Access Key";case c.RegistryTypes.DOCKERHUB:return"Access token";case c.RegistryTypes.GITLAB:return"Personal Access Token";default:return"Password"}}updateRegistry(){return this.$async((async()=>{try{this.state.actionInProgress=!0;const e=this.registry;e.Password=this.Password,await this.RegistryService.updateRegistry(e),this.Notifications.success("Success","Registry successfully updated"),this.$state.go("portainer.registries")}catch(e){this.Notifications.error("Failure",e,"Unable to update registry")}finally{this.state.actionInProgress=!1}}))}onChangeName(){this.state.nameAlreadyExists=l()(this.registriesNames,this.registry.Name)}isUpdateButtonDisabled(){return this.state.actionInProgress||this.state.nameAlreadyExists||!this.registry.Name||!this.registry.URL||this.registry.Type==this.RegistryTypes.QUAY&&this.registry.Quay.UseOrganisation&&!this.registry.Quay.OrganisationName}getRegistryProvider(e){switch(e){case c.RegistryTypes.QUAY:return"Quay.io";case c.RegistryTypes.AZURE:return"Azure";case c.RegistryTypes.CUSTOM:return"Custom";case c.RegistryTypes.GITLAB:return"Gitlab";case c.RegistryTypes.PROGET:return"ProGet";case c.RegistryTypes.DOCKERHUB:return"Docker Hub";case c.RegistryTypes.ECR:return"AWS ECR";default:return""}}async $onInit(){try{this.state.loading=!0;const e=this.$state.params.id,t=await this.RegistryService.registry(e);this.registry=t,this.provider=this.getRegistryProvider(t.Type);const n=await this.RegistryService.registries();s()(n,[t],"Id"),this.registriesNames=a()(n,"Name")}catch(e){this.Notifications.error("Failure",e,"Unable to retrieve registry details")}finally{this.state.loading=!1}}}d.$inject=["$scope","$async","$state","RegistryService","Notifications"]},6009:function(e,t,n){"use strict";n.r(t);var r=n(44716),a=n.n(r),i=n(56414);angular.module("portainer.app").controller("RegistriesController",["$q","$scope","$state","RegistryService","ModalService","Notifications",function(e,t,n,r,s,o){t.state={actionInProgress:!1};const l=[i.RegistryTypes.ANONYMOUS,i.RegistryTypes.DOCKERHUB,i.RegistryTypes.QUAY];t.canBrowse=function(e){return!a()(l,e.Type)},t.removeAction=function(e){const a=e.length>1?"hese":"his",i=e.length>1?"registries":"registry",l=`T${a} ${i} might be used by applications inside one or more environments. Removing the ${i} could lead to a service interruption for the applications using t${a} ${i}. Do you want to remove the selected ${i}?`;s.confirmDeletion(l,(function(a){a&&function(e){var a=e.length;angular.forEach(e,(function(e){r.deleteRegistry(e.Id).then((function(){o.success("Registry successfully removed",e.Name);var n=t.registries.indexOf(e);t.registries.splice(n,1)})).catch((function(e){o.error("Failure",e,"Unable to remove registry")})).finally((function(){0==--a&&n.reload()}))}))}(e)}))},e.all({registries:r.registries()}).then((function(e){t.registries=e.registries})).catch((function(e){t.registries=[],o.error("Failure",e,"Unable to retrieve registries")}))}])},80287:function(e,t,n){"use strict";n.r(t);var r,a,i=n(20810),s=n.n(i),o=n(29274),l=n.n(o),c=n(54512),d=n(47282),u=n(26196),p=n(80257),m=n(82942),g=n(95004);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var f=n(90134),v=[{id:"auth_internal",icon:(0,n(2629).jsx)(f.V,{icon:d.Z}),label:"Internal",description:"Internal authentication mechanism",value:1},{id:"auth_ldap",icon:m.Z,label:"LDAP",description:"LDAP authentication",value:2},{id:"auth_ad",icon:p.Z,label:"Microsoft Active Directory",description:"AD authentication",value:4,feature:u.tE.HIDE_INTERNAL_AUTH},{id:"auth_oauth",icon:function(e){return g.createElement("svg",h({width:"1em",height:"1em",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=g.createElement("path",{d:"m22.975 15.318-2.522-7.789H3.773l-2.522 7.789s-2.98 7.886 3.98 12.735c6.34 4.42 6.882 4.956 6.882 4.956s.542-.538 6.882-4.956c6.96-4.849 3.98-12.735 3.98-12.735Z",fill:"#F4552A"})),a||(a=g.createElement("path",{d:"m12.115 7.605 2.688 7.678 8.185.166-6.524 4.91 2.371 7.78-6.72-4.642-6.72 4.642 2.371-7.78-6.524-4.91 8.185-.166 2.688-7.678Z",fill:"#fff"})))},label:"OAuth",description:"OAuth authentication",value:3}];function b(e,t,n,r,a,i,o,d){function u(){const e=t.formValues.TLSCACert,n=e!==t.settings.LDAPSettings.TLSConfig.TLSCACert?e:null,r=2===t.formValues.ldap.serverType,a=r?t.formValues.ldap.adSettings:t.formValues.ldap.ldapSettings;a.AnonymousMode&&!r&&(a.ReaderDN="",a.Password=""),r&&(a.AnonymousMode=!1),a.URLs=a.URLs.map((e=>e.includes(":")?e:e+(a.TLSConfig.TLS?":636":":389")));const i=(a.TLSConfig.TLS||a.StartTLS)&&!a.TLSConfig.TLSSkipVerify;return a.URL=a.URLs[0],{settings:a,uploadRequired:i,tlscaFile:n}}t.authMethod=1,t.state={uploadInProgress:!1,actionInProgress:!1,availableUserSessionTimeoutOptions:[{key:"1 hour",value:"1h"},{key:"4 hours",value:"4h"},{key:"8 hours",value:"8h"},{key:"24 hours",value:"24h"},{key:"1 week",value:"168h"},{key:"1 month",value:"720h"},{key:"6 months",value:"4320h"},{key:"1 year",value:"8640h"}]},t.formValues={UserSessionTimeout:t.state.availableUserSessionTimeoutOptions[0],TLSCACert:"",ldap:{serverType:0,adSettings:(0,c.buildAdSettingsModel)(),ldapSettings:(0,c.buildLdapSettingsModel)()}},t.authOptions=v,t.onChangeAuthMethod=function(e){return t.authMethod=e,4===e?(t.settings.AuthenticationMethod=2,void(t.formValues.ldap.serverType=2)):2===e?(t.settings.AuthenticationMethod=2,void(t.formValues.ldap.serverType=t.formValues.ldap.ldapSettings.ServerType)):void(t.settings.AuthenticationMethod=e)},t.onChangePasswordLength=function(e){t.$evalAsync((()=>{t.settings.InternalAuthSettings={RequiredPasswordLength:e}}))},t.authenticationMethodSelected=function(e){return!!t.settings&&(4===e?2===t.settings.AuthenticationMethod&&2===t.formValues.ldap.serverType:2===e?2===t.settings.AuthenticationMethod&&2!==t.formValues.ldap.serverType:t.settings.AuthenticationMethod===e)},t.isOauthEnabled=function(){return t.settings&&3===t.settings.AuthenticationMethod},t.LDAPConnectivityCheck=function(){const n=l().copy(t.settings),{settings:a,uploadRequired:s,tlscaFile:o}=u();n.LDAPSettings=a,t.state.uploadInProgress=s,t.state.connectivityCheckInProgress=!0,e.when(!s||i.uploadLDAPTLSFiles(o,null,null)).then((function(){return d.check(n.LDAPSettings)})).then((function(){t.state.failedConnectivityCheck=!1,t.state.successfulConnectivityCheck=!0,r.success("Success","Connection to LDAP successful")})).catch((function(e){t.state.failedConnectivityCheck=!0,t.state.successfulConnectivityCheck=!1,r.error("Failure",e,"Connection to LDAP failed")})).finally((function(){t.state.uploadInProgress=!1,t.state.connectivityCheckInProgress=!1}))},t.saveSettings=function(){const n=l().copy(t.settings),{settings:s,uploadRequired:o,tlscaFile:c}=u();n.LDAPSettings=s,t.state.uploadInProgress=o,t.state.actionInProgress=!0,e.when(!o||i.uploadLDAPTLSFiles(c,null,null)).then((function(){return a.update(n)})).then((function(){r.success("Success","Authentication settings updated")})).catch((function(e){r.error("Failure",e,"Unable to update authentication settings")})).finally((function(){t.state.uploadInProgress=!1,t.state.actionInProgress=!1}))},t.isLDAPFormValid=function(){const e=2===t.formValues.ldap.serverType?t.formValues.ldap.adSettings:t.formValues.ldap.ldapSettings,n=e.TLSConfig.TLS||e.StartTLS;return s()(e.URLs).length&&(e.AnonymousMode||e.ReaderDN&&e.Password)&&(!n||n&&t.formValues.TLSCACert||e.TLSConfig.TLSSkipVerify)&&(!t.settings.LDAPSettings.AdminAutoPopulate||t.settings.LDAPSettings.AdminAutoPopulate&&t.formValues.selectedAdminGroups.length>0)},t.isOAuthTeamMembershipFormValid=function(){if(t.settings&&t.settings.OAuthSettings.OAuthAutoMapTeamMemberships&&t.settings.OAuthSettings.TeamMemberships){if(!t.settings.OAuthSettings.TeamMemberships.OAuthClaimName)return!1;if(t.settings.OAuthSettings.TeamMemberships.OAuthClaimMappings.some((e=>!(e.ClaimValRegex&&e.Team))))return!1}return!0},e.all({settings:a.settings(),teams:o.teams()}).then((function(e){var n=e.settings;t.teams=e.teams,t.settings=n,t.OAuthSettings=n.OAuthSettings,t.authMethod=n.AuthenticationMethod,2===n.AuthenticationMethod&&2===n.LDAPSettings.ServerType&&(t.authMethod=4),n.LDAPSettings.URL&&(n.LDAPSettings.URLs=[n.LDAPSettings.URL]),n.LDAPSettings.URLs||(n.LDAPSettings.URLs=[]),n.LDAPSettings.URLs.length||n.LDAPSettings.URLs.push(""),n.LDAPSettings.ServerType||(n.LDAPSettings.ServerType=0),t.formValues.ldap.serverType=n.LDAPSettings.ServerType,2===n.LDAPSettings.ServerType?t.formValues.ldap.adSettings=n.LDAPSettings:t.formValues.ldap.ldapSettings=Object.assign(t.formValues.ldap.ldapSettings,n.LDAPSettings)})).catch((function(e){r.error("Failure",e,"Unable to retrieve application settings")}))}b.$inject=["$q","$scope","$state","Notifications","SettingsService","FileUploadService","TeamService","LDAPService"],l().module("portainer.app").controller("SettingsAuthenticationController",b)},43404:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(51861);const s=n(93149);a().module("portainer.app").component("settingsEdgeComputeView",{templateUrl:s,controller:i.default})},51861:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(29274),a=n.n(r),i=n(60122),s=n(76827);function o(e,t,n,r,a,o){var l=this;this.onSubmitEdgeCompute=async function(e){try{await a.update(e),r.success("Success","Settings updated"),o.updateEnableEdgeComputeFeatures(e.EnableEdgeComputeFeatures),n.reload()}catch(e){r.error("Failure",e,"Unable to update settings")}},this.onSubmitOpenAMT=async function(e){try{await(0,s.He)(e),r.success("Success","OpenAMT successfully "+(e.enabled?"enabled":"disabled")),n.reload()}catch(e){r.error("Failure",e,"Failed applying changes")}},this.onSubmitFDO=async function(e){try{await(0,i.lX)(e),r.success("Success","FDO successfully "+(e.enabled?"enabled":"disabled")),n.reload()}catch(e){r.error("Failure",e,"Failed applying changes")}},t((async()=>{try{l.settings=await a.settings()}catch(e){r.error("Failure",e,"Unable to retrieve application settings")}}))}o.$inject=["$q","$async","$state","Notifications","SettingsService","StateManager"],a().module("portainer.app").controller("SettingsEdgeComputeController",o)},30236:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(26196),s=n(19912),o=n(91687),l=n(90134),c=n(2629),d=[{id:"backup_file",icon:(0,c.jsx)(l.V,{icon:s.Z}),featherIcon:!0,label:"Download backup file",value:"file"},{id:"backup_s3",icon:(0,c.jsx)(l.V,{icon:o.Z}),featherIcon:!0,label:"Store in S3",description:"Define a cron schedule",value:"s3",feature:i.tE.S3_BACKUP_SETTING}];a().module("portainer.app").controller("SettingsController",["$scope","$state","Notifications","SettingsService","StateManager","BackupService","FileSaver","Blob",function(e,t,n,r,a,s,o){function l(i){r.update(i).then((function(){n.success("Success","Settings updated"),a.updateLogo(i.LogoURL),a.updateSnapshotInterval(i.SnapshotInterval),a.updateEnableTelemetry(i.EnableTelemetry),t.reload()})).catch((function(e){n.error("Failure",e,"Unable to update settings")})).finally((function(){e.state.actionInProgress=!1}))}e.customBannerFeatureId=i.tE.CUSTOM_LOGIN_BANNER,e.s3BackupFeatureId=i.tE.S3_BACKUP_SETTING,e.backupOptions=d,e.state={isDemo:!1,actionInProgress:!1,availableKubeconfigExpiryOptions:[{key:"1 day",value:"24h"},{key:"7 days",value:"168h"},{key:"30 days",value:"720h"},{key:"1 year",value:"8640h"},{key:"No expiry",value:"0"}],backupInProgress:!1,featureLimited:!1,showHTTPS:!window.ddExtension},e.BACKUP_FORM_TYPES={S3:"s3",FILE:"file"},e.formValues={customLogo:!1,labelName:"",labelValue:"",enableTelemetry:!1,passwordProtect:!1,password:"",backupFormType:e.BACKUP_FORM_TYPES.FILE},e.onToggleEnableTelemetry=function(t){e.$evalAsync((()=>{e.formValues.enableTelemetry=t}))},e.onToggleCustomLogo=function(t){e.$evalAsync((()=>{e.formValues.customLogo=t}))},e.onToggleAutoBackups=function(t){e.$evalAsync((()=>{e.formValues.scheduleAutomaticBackups=t}))},e.onBackupOptionsChange=function(t,n){e.formValues.backupFormType=t,e.state.featureLimited=n},e.removeFilteredContainerLabel=function(t){var n=e.settings;n.BlackListedLabels.splice(t,1),l(n)},e.addFilteredContainerLabel=function(){var t=e.settings,n={name:e.formValues.labelName,value:e.formValues.labelValue};t.BlackListedLabels.push(n),l(t)},e.downloadBackup=function(){const t={};e.formValues.passwordProtect&&(t.password=e.formValues.password),e.state.backupInProgress=!0,s.downloadBackup(t).then((function(e){const t=new Blob([e.file],{type:"application/gzip"});o.saveAs(t,e.name),n.success("Success","Backup successfully downloaded")})).catch((function(e){n.error("Failure",e,"Unable to download backup")})).finally((function(){e.state.backupInProgress=!1}))},e.saveApplicationSettings=function(){var t=e.settings;e.formValues.customLogo||(t.LogoURL=""),t.EnableTelemetry=e.formValues.enableTelemetry,e.state.actionInProgress=!0,l(t)},function(){const t=a.getState();e.state.isDemo=t.application.demoEnvironment.enabled,r.settings().then((function(t){var n=t;e.settings=n,""!==n.LogoURL&&(e.formValues.customLogo=!0),e.formValues.enableTelemetry=n.EnableTelemetry})).catch((function(e){n.error("Failure",e,"Unable to retrieve application settings")}))}()}])},58e3:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r),i=n(15964),s=n.n(i),o=n(19898),l=n(71541),c=n(6253),d=n(26196),u=n(20037),p=n(26951),m=n(52474);a().module("portainer.app").controller("CreateStackController",["$scope","$state","$async","$window","ModalService","StackService","Authentication","Notifications","FormValidator","ResourceControlService","FormHelper","StackHelper","ContainerHelper","CustomTemplateService","ContainerService","WebhookHelper","clipboard","endpoint",function(e,t,n,r,a,i,g,h,f,v,b,y,w,x,S,C,k,A){function P(n,r){var a=b.removeInvalidEnvVars(e.formValues.Env);const s=+t.params.endpointId;if("template"===r||"editor"===r){var o=e.formValues.StackFileContent;return i.createSwarmStackFromFileContent(n,o,a,s)}if("upload"===r){var l=e.formValues.StackFile;return i.createSwarmStackFromFileUpload(n,l,a,s)}if("repository"===r){var c={AdditionalFiles:e.formValues.AdditionalFiles,RepositoryURL:e.formValues.RepositoryURL,RepositoryReferenceName:e.formValues.RepositoryReferenceName,ComposeFilePathInRepository:e.formValues.ComposeFilePathInRepository,RepositoryAuthentication:e.formValues.RepositoryAuthentication,RepositoryUsername:e.formValues.RepositoryUsername,RepositoryPassword:e.formValues.RepositoryPassword};return I(c),i.createSwarmStackFromGitRepository(n,c,a,s)}}function I(t){e.formValues.RepositoryAutomaticUpdates&&(t.AutoUpdate={},e.formValues.RepositoryMechanism===c.RepositoryMechanismTypes.INTERVAL?t.AutoUpdate.Interval=e.formValues.RepositoryFetchInterval:e.formValues.RepositoryMechanism===c.RepositoryMechanismTypes.WEBHOOK&&(t.AutoUpdate.Webhook=e.formValues.RepositoryWebhookURL.split("/").reverse()[0]))}function $(n,r){var a=b.removeInvalidEnvVars(e.formValues.Env);const s=+t.params.endpointId;if("editor"===r||"template"===r){var o=e.formValues.StackFileContent;return i.createComposeStackFromFileContent(n,o,a,s)}if("upload"===r){var l=e.formValues.StackFile;return i.createComposeStackFromFileUpload(n,l,a,s)}if("repository"===r){var c={AdditionalFiles:e.formValues.AdditionalFiles,RepositoryURL:e.formValues.RepositoryURL,RepositoryReferenceName:e.formValues.RepositoryReferenceName,ComposeFilePathInRepository:e.formValues.ComposeFilePathInRepository,RepositoryAuthentication:e.formValues.RepositoryAuthentication,RepositoryUsername:e.formValues.RepositoryUsername,RepositoryPassword:e.formValues.RepositoryPassword};return I(c),i.createComposeStackFromGitRepository(n,c,a,s)}}function N(t){e.formValues.StackFileContent=t,e.state.editorYamlValidationError=y.validateYAML(e.formValues.StackFileContent,e.containerNames),e.state.isEditorDirty=!0}async function T(t){e.state.uploadYamlValidationError=y.validateYAML(t.target.result,e.containerNames)}function E(e){return n(T,e)}function j(t){D({Variables:t}),e.isTemplateVariablesEnabled&&D({StackFileContent:(0,p.SM)(e.state.templateContent,e.formValues.Variables,e.state.selectedTemplate.Variables)})}function D(t){e.formValues={...e.formValues,...t}}e.onChangeTemplateId=function(t,r){return n((async()=>{if(r&&(e.state.selectedTemplateId!==t||e.state.selectedTemplate!==r))try{e.state.selectedTemplateId=t,e.state.selectedTemplate=r;const n=await x.customTemplateFile(t);e.state.templateContent=n,N(n),r.Variables&&r.Variables.length>0&&j(Object.fromEntries(r.Variables.map((e=>[e.name,""]))))}catch(e){h.error("Failure",e,"Unable to retrieve Custom Template file")}}))},e.onChangeTemplateVariables=j,e.isTemplateVariablesEnabled=u.aW,e.buildAnalyticsProperties=function(){const t={type:function(e){switch(e){case"editor":return"web-editor";case"repository":return"git";case"upload":return"file-upload";case"template":return"custom-template"}}(e.state.Method)};return"repository"===e.state.Method&&(t.automaticUpdates="off",e.formValues.RepositoryAutomaticUpdates&&(t.automaticUpdates=function(e){switch(e){case c.RepositoryMechanismTypes.INTERVAL:return"polling";case c.RepositoryMechanismTypes.WEBHOOK:return"webhook"}return"off"}(e.formValues.RepositoryMechanism)),t.auth=e.formValues.RepositoryAuthentication),"template"===e.state.Method&&(t.templateName=e.state.selectedTemplate.Title),{metadata:t}},e.stackWebhookFeature=d.tE.STACK_WEBHOOK,e.STACK_NAME_VALIDATION_REGEX=l.STACK_NAME_VALIDATION_REGEX,e.isAdmin=g.isAdmin(),e.formValues={Name:"",StackFileContent:"",StackFile:null,RepositoryURL:"",RepositoryReferenceName:"",RepositoryAuthentication:!1,RepositoryUsername:"",RepositoryPassword:"",Env:[],AdditionalFiles:[],ComposeFilePathInRepository:"docker-compose.yml",AccessControlData:new o.AccessControlFormData,RepositoryAutomaticUpdates:!1,RepositoryMechanism:c.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:"5m",RepositoryWebhookURL:C.returnStackWebhookUrl(s()()),Variables:{}},e.state={Method:"editor",formValidationError:"",actionInProgress:!1,StackType:null,editorYamlValidationError:"",uploadYamlValidationError:"",isEditorDirty:!1,selectedTemplate:null,selectedTemplateId:null},r.onbeforeunload=()=>{if("editor"===e.state.Method&&e.formValues.StackFileContent&&e.state.isEditorDirty)return""},e.$on("$destroy",(function(){e.state.isEditorDirty=!1})),e.onChangeFormValues=D,e.onEnableWebhookChange=function(t){e.$evalAsync((()=>{e.formValues.EnableWebhook=t}))},e.addAdditionalFiles=function(){e.formValues.AdditionalFiles.push("")},e.removeAdditionalFiles=function(t){e.formValues.AdditionalFiles.splice(t,1)},e.copyWebhook=function(){k.copyText(e.formValues.RepositoryWebhookURL),m("#copyNotification").show(),m("#copyNotification").fadeOut(2e3)},e.handleEnvVarChange=function(t){e.formValues.Env=t},e.deployStack=function(){var n=e.formValues.Name,r=e.state.Method,a=e.formValues.AccessControlData,i=g.getUserDetails(),s=g.isAdmin();if("editor"!==r||""!==e.formValues.StackFileContent){if(function(t,n){var r;return e.state.formValidationError="",!(r=f.validateAccessControl(t,n))||(e.state.formValidationError=r,!1)}(a,s)){var o=P;2===e.state.StackType&&(o=$),e.state.actionInProgress=!0,o(n,r).then((function(e){e.data&&(e=e.data);const t=i.ID,n=e.ResourceControl;return v.applyResourceControl(t,a,n)})).then((function(){h.success("Success","Stack successfully deployed"),e.state.isEditorDirty=!1,t.go("docker.stacks")})).catch((function(e){h.error("Deployment error",e,"Unable to deploy stack")})).finally((function(){e.state.actionInProgress=!1}))}}else e.state.formValidationError="Stack file content must not be empty"},e.onChangeFileContent=N,e.uploadFile=function(t){if(e.formValues.StackFile=t,t){const e=new FileReader;e.fileName=t.name,e.onload=E,e.readAsText(t)}},this.uiCanExit=async function(){if("editor"===e.state.Method&&e.formValues.StackFileContent&&e.state.isEditorDirty)return a.confirmWebEditorDiscard()},async function(){var t=e.applicationState.endpoint.mode;e.state.StackType=2,"DOCKER_SWARM_MODE"===t.provider&&"MANAGER"===t.role&&(e.state.StackType=1),e.composeSyntaxMaxVersion=A.ComposeSyntaxMaxVersion;try{const t=await S.containers(!0);e.containerNames=w.getContainerNames(t)}catch(e){h.error("Failure",e,"Unable to retrieve Containers")}}()}])},22940:function(e,t,n){"use strict";n.r(t);var r,a,i=n(83471),s=n(19898),o=n(26196),l=n(31848);!function(e){e[e.DockerSwarm=1]="DockerSwarm",e[e.DockerCompose=2]="DockerCompose",e[e.Kubernetes=3]="Kubernetes",e[e.Nomad=4]="Nomad"}(r||(r={})),function(e){e[e.Active=1]="Active",e[e.Inactive=2]="Inactive"}(a||(a={}));var c=n(13118);angular.module("portainer.app").controller("StackController",["$async","$compile","$q","$scope","$state","$window","$transition$","StackService","NodeService","ServiceService","TaskService","ContainerService","ServiceHelper","TaskHelper","Notifications","FormHelper","EndpointProvider","GroupService","ModalService","StackHelper","ResourceControlService","Authentication","ContainerHelper","endpoint",function(e,t,n,d,u,p,m,g,h,f,v,b,y,w,x,S,C,k,A,P,I,$,N,T){async function E(){if(await A.confirmAsync({title:"Are you sure?",message:"Are you sure you want to stop this stack?",buttons:{confirm:{label:"Stop",className:"btn-danger"}}})){d.state.actionInProgress=!0;try{await g.stop(d.stack.Id),u.reload()}catch(e){x.error("Failure",e,"Unable to stop stack")}d.state.actionInProgress=!1}}async function j(){d.state.actionInProgress=!0;const e=d.stack.Id;try{await g.start(e),u.reload()}catch(e){x.error("Failure",e,"Unable to start stack")}d.state.actionInProgress=!1}function D(e,t){var r={label:["com.docker.stack.namespace="+e]};return n.all({services:f.services(r),tasks:v.tasks(r),containers:t?b.containers(1):[],nodes:h.nodes()})}function O(e,t){var n=e.services,r=e.tasks;if(t)for(var a=e.containers,i=0;i<r.length;i++){var s=r[i];w.associateContainerToTask(s,a)}for(var o=0;o<n.length;o++){var l=n[o];y.associateTasksToService(l,r)}d.nodes=e.nodes,d.tasks=r,d.services=n}d.STACK_TYPES=r,d.resourceType=i.O.Stack,d.onUpdateResourceControlSuccess=function(){u.reload()},d.endpoint=T,d.isAdmin=$.isAdmin(),d.stackWebhookFeature=o.tE.STACK_WEBHOOK,d.stackPullImageFeature=o.tE.STACK_PULL_IMAGE,d.state={actionInProgress:!1,migrationInProgress:!1,showEditorTab:!1,yamlError:!1,isEditorDirty:!1},d.formValues={Prune:!1,Endpoint:null,AccessControlData:new s.AccessControlFormData,Env:[]},p.onbeforeunload=()=>{if(d.stackFileContent&&d.state.isEditorDirty)return""},d.$on("$destroy",(function(){d.state.isEditorDirty=!1})),d.handleEnvVarChange=function(e){d.formValues.Env=e},d.onEnableWebhookChange=function(e){d.$evalAsync((()=>{d.formValues.EnableWebhook=e}))},d.onPruneChange=function(e){d.$evalAsync((()=>{d.formValues.Prune=e}))},d.duplicateStack=function(e,t){var n=d.stack,r=S.removeInvalidEnvVars(d.formValues.Env);return C.setEndpointID(t),g.duplicateStack(e,d.stackFileContent,r,t,n.Type).then((function(){x.success("Success","Stack successfully duplicated"),u.go("docker.stacks",{},{reload:!0}),C.setEndpointID(n.EndpointId)})).catch((function(e){x.error("Failure",e,"Unable to duplicate stack")}))},d.showEditor=function(){d.state.showEditorTab=!0},d.migrateStack=function(e,t){return n((function(n){A.confirmWarn({title:"Are you sure?",message:"This action will deploy a new instance of this stack on the target environment, please note that this does NOT relocate the content of any persistent volumes that may be attached to this stack.",buttons:{confirm:{label:"Migrate",className:"btn-danger"}},callback:function(r){return r?n(function(e,t){const n=d.stack;let r=g.migrateSwarmStack;return 2===n.Type&&(r=g.migrateComposeStack),0===n.EndpointId&&(n.EndpointId=T.Id),d.state.migrationInProgress=!0,r(n,t,e).then((function(){x.success("Stack successfully migrated",n.Name),u.go("docker.stacks",{},{reload:!0})})).catch((function(e){x.error("Failure",e,"Unable to migrate stack")})).finally((function(){d.state.migrationInProgress=!1}))}(e,t)):n()}})}))},d.removeStack=function(){A.confirmDeletion("Do you want to remove the stack? Associated services will be removed as well.",(function(e){var t,n;e&&(t=+u.params.endpointId,n=d.stack,g.remove(n,m.params().external,t).then((function(){x.success("Stack successfully removed",n.Name),u.go("docker.stacks")})).catch((function(e){x.error("Failure",e,"Unable to remove stack "+n.Name)})))}))},d.detachStackFromGit=function(){A.confirmDetachment("Do you want to detach the stack from Git?",(function(e){e&&d.deployStack()}))},d.associateStack=function(){var e=+u.params.endpointId,t=d.stack,n=d.formValues.AccessControlData;d.state.actionInProgress=!0,g.associate(t,e,d.orphanedRunning).then((function(e){const t=e.ResourceControl,r=$.getUserDetails().ID;return I.applyResourceControl(r,n,t)})).then((function(){x.success("Stack successfully associated",t.Name),u.go("docker.stacks")})).catch((function(e){x.error("Failure",e,"Unable to associate stack "+t.Name)})).finally((function(){d.state.actionInProgress=!1}))},d.deployStack=function(){const e=d.stack,t=1===e.Type;A.confirmStackUpdate("Do you want to force an update of the stack?",t,null,(function(t){if(t){var n=d.stackFileContent,r=S.removeInvalidEnvVars(d.formValues.Env),a=d.formValues.Prune;0===e.EndpointId&&(e.EndpointId=T.Id),d.state.actionInProgress=!0,g.updateStack(e,n,r,a,!!t[0]).then((function(){x.success("Success","Stack successfully deployed"),d.state.isEditorDirty=!1,u.reload()})).catch((function(e){x.error("Failure",e,"Unable to create stack")})).finally((function(){d.state.actionInProgress=!1}))}}))},d.editorUpdate=function(e){d.stackFileContent.replace(/(\r\n|\n|\r)/gm,"")!==e.getValue().replace(/(\r\n|\n|\r)/gm,"")&&(d.state.isEditorDirty=!0,d.stackFileContent=e.getValue(),d.state.yamlError=P.validateYAML(d.stackFileContent,d.containerNames,d.state.originalContainerNames))},d.stopStack=function(){return e(E)},d.startStack=function(){return e(j)},this.uiCanExit=async function(){if(d.stackFileContent&&d.state.isEditorDirty)return A.confirmWebEditorDiscard()},async function(){d.createEnabled=await async function(){return T.SecuritySettings.allowStackManagementForRegularUsers||$.isAdmin()}(),d.createEnabled||u.go("docker.dashboard");var t=m.params().name;d.stackName=t;const i="true"==m.params().regular;d.regular=i;var s="true"==m.params().external;d.external=s;const o="true"==m.params().orphaned;d.orphaned=o;const p="true"==m.params().orphanedRunning;var h;d.orphanedRunning=p,d.stackType=parseInt(m.params().type,10),(s||o&&p)&&function(e){const t=d.stackType;!t||t!==r.DockerSwarm&&t!==r.DockerCompose?x.error("Failure",null,"Invalid type URL parameter."):t===r.DockerSwarm&&function(e){var t=d.applicationState.endpoint.mode.agentProxy;D(e,t).then((function(e){O(e,t)})).catch((function(e){x.error("Failure",e,"Unable to retrieve stack details")}))}(e)}(t),(i||o)&&(h=m.params().id,e((async()=>{var e=d.applicationState.endpoint.mode.agentProxy;(0,l.hF)().then((function(e){d.endpoints=e.value})).catch((function(e){x.error("Failure",e,"Unable to retrieve environments")})),n.all({stack:g.stack(h),groups:k.groups(),containers:b.containers(!0)}).then((function(t){var r=t.stack;d.groups=t.groups,d.stack=r,d.containerNames=N.getContainerNames(t.containers),d.formValues.Env=d.stack.Env;let a=Promise.resolve({});var i;return r.Status&&1!==r.Status||(a=1===r.Type?D(r.Name,e):(i={label:["com.docker.compose.project="+r.Name]},n.all({containers:b.containers(1,i)}))),n.all({stackFile:g.getStackFile(h),resources:a})})).then((function(t){const n=d.stack.Type===r.DockerSwarm;d.stackFileContent=t.stackFile,d.stack.Status||(d.stack.Status=t.resources&&(n&&t.resources.services.length||t.resources.containers.length)?1:2),n&&d.stack.Status===a.Active&&O(t.resources,e),d.state.originalContainerNames=(0,c.extractContainerNames)(d.stackFileContent),d.state.yamlError=P.validateYAML(d.stackFileContent,d.containerNames,d.state.originalContainerNames)})).catch((function(e){x.error("Failure",e,"Unable to retrieve stack details")}))}))),d.composeSyntaxMaxVersion=T.ComposeSyntaxMaxVersion}()}])},78566:function(e,t,n){"use strict";n.r(t);var r=n(70589);function a(e,t,n,a,i,s,o){function l(){const t=e.applicationState.endpoint.mode,i=o.Id,l=s.isAdmin();a.stacks(!0,"DOCKER_SWARM_MODE"===t.provider&&"MANAGER"===t.role,i,l).then((function(t){e.stacks=t,e.offlineMode=(0,r.isOfflineEndpoint)(o)})).catch((function(t){e.stacks=[],n.error("Failure",t,"Unable to retrieve stacks")}))}e.removeAction=function(r){i.confirmDeletion("Do you want to remove the selected stack(s)? Associated services will be removed as well.",(function(i){i&&function(r){const i=o.Id;let s=r.length;angular.forEach(r,(function(r){a.remove(r,r.External,i).then((function(){n.success("Stack successfully removed",r.Name);var t=e.stacks.indexOf(r);e.stacks.splice(t,1)})).catch((function(e){n.error("Failure",e,"Unable to remove stack "+r.Name)})).finally((function(){--s,0===s&&t.reload()}))}))}(r)}))},e.offlineMode=!1,e.createEnabled=!1,e.getStacks=l,async function(){e.createEnabled=await async function(){return o.SecuritySettings.allowStackManagementForRegularUsers||s.isAdmin()}(),e.createEnabled||t.go("docker.dashboard"),l()}()}a.$inject=["$scope","$state","Notifications","StackService","ModalService","Authentication","endpoint"],angular.module("portainer.app").controller("StacksController",a)},20125:function(e,t,n){"use strict";n.r(t);var r=n(71204),a=n.n(r),i=n(29274),s=n.n(i);function o(e,t,n,r,i){async function s(n){for(let t of n)try{await r.deleteTag(t.Id),i.success("Tag successfully removed",t.Name),a()(e.tags,t)}catch(e){i.error("Failure",e,"Unable to remove tag")}t.reload()}e.state={actionInProgress:!1},e.formValues={Name:""},e.checkNameValidity=function(t){for(var n=!0,r=0;r<e.tags.length;r++)if(e.formValues.Name===e.tags[r].Name){n=!1;break}t.name.$setValidity("validName",n)},e.removeAction=function(e){return n(s,e)},e.createTag=function(){var n=e.formValues.Name;r.createTag(n).then((function(){i.success("Tag successfully created",n),t.reload()})).catch((function(e){i.error("Failure",e,"Unable to create tag")}))},r.tags().then((function(t){e.tags=t})).catch((function(t){i.error("Failure",t,"Unable to retrieve tags"),e.tags=[]}))}o.$inject=["$scope","$state","$async","TagService","Notifications"],s().module("portainer.app").controller("TagsController",o)},76058:function(e,t,n){"use strict";n.r(t);var r=n(16222),a=n.n(r),i=n(51235),s=n.n(i),o=n(66539),l=n.n(o),c=n(83432),d=n.n(c),u=n(19898);angular.module("portainer.app").controller("TemplatesController",["$scope","$q","$state","$anchorScroll","ContainerService","ImageService","NetworkService","TemplateService","TemplateHelper","VolumeService","Notifications","ResourceControlService","Authentication","FormValidator","StackService","endpoint",function(e,t,n,r,i,o,c,p,m,g,h,f,v,b,y,w){const x="DOCKER_SWARM_MODE";e.state={selectedTemplate:null,showAdvancedOptions:!1,formValidationError:"",actionInProgress:!1},e.formValues={network:"",name:"",AccessControlData:new u.AccessControlFormData},e.addVolume=function(){e.state.selectedTemplate.Volumes.push({containerPath:"",bind:"",readonly:!1,type:"auto"})},e.removeVolume=function(t){e.state.selectedTemplate.Volumes.splice(t,1)},e.addPortBinding=function(){e.state.selectedTemplate.Ports.push({hostPort:"",containerPort:"",protocol:"tcp"})},e.removePortBinding=function(t){e.state.selectedTemplate.Ports.splice(t,1)},e.addExtraHost=function(){e.state.selectedTemplate.Hosts.push("")},e.removeExtraHost=function(t){e.state.selectedTemplate.Hosts.splice(t,1)},e.addLabel=function(){e.state.selectedTemplate.Labels.push({name:"",value:""})},e.removeLabel=function(t){e.state.selectedTemplate.Labels.splice(t,1)},e.createTemplate=function(){var t=v.getUserDetails().ID,r=e.formValues.AccessControlData;if(function(t,n){var r;return e.state.formValidationError="",!(r=b.validateAccessControl(t,n))||(e.state.formValidationError=r,!1)}(r,e.isAdmin)){var a=e.state.selectedTemplate;e.state.actionInProgress=!0,2===a.Type?function(t,r,a){var i=e.formValues.name,s=d()(l()(t.Env,(function(e){return{name:e.name,value:e.preset||!e.value?e.default:e.value}})),(function(e){return e.value&&e.name})),o={RepositoryURL:t.Repository.url,ComposeFilePathInRepository:t.Repository.stackfile,FromAppTemplate:!0};const c=+n.params.endpointId;y.createSwarmStackFromGitRepository(i,o,s,c).then((function(e){const t=e.ResourceControl;return f.applyResourceControl(r,a,t)})).then((function(){h.success("Success","Stack successfully deployed"),n.go("docker.stacks")})).catch((function(e){h.error("Deployment error",e)})).finally((function(){e.state.actionInProgress=!1}))}(a,t,r):3===a.Type?function(t,r,a){for(var i=e.formValues.name,s=0;s<t.Env.length;s++){var o=t.Env[s];o.preset&&(o.value=o.default)}var l={RepositoryURL:t.Repository.url,ComposeFilePathInRepository:t.Repository.stackfile,FromAppTemplate:!0};const c=+n.params.endpointId;y.createComposeStackFromGitRepository(i,l,t.Env,c).then((function(e){const t=e.ResourceControl;return f.applyResourceControl(r,a,t)})).then((function(){h.success("Success","Stack successfully deployed"),n.go("docker.stacks")})).catch((function(e){h.error("Deployment error",e)})).finally((function(){e.state.actionInProgress=!1}))}(a,t,r):function(t,r,a){var s=function(t){var n=e.formValues.network,r=e.formValues.name;return p.createTemplateConfiguration(t,r,n)}(t),l=m.determineRequiredGeneratedVolumeCount(t.Volumes),c=[];g.createXAutoGeneratedLocalVolumes(l).then((function(e){return angular.forEach(e,(function(e){var t=e.Id;c.push(t)})),p.updateContainerConfigurationWithVolumes(s,t,e),o.pullImage(t.RegistryModel,!0)})).then((function(){return i.createAndStartContainer(s)})).then((function(e){const t=e.Portainer.ResourceControl;return f.applyResourceControl(r,a,t,c)})).then((function(){h.success("Success","Container successfully created"),n.go("docker.containers",{},{reload:!0})})).catch((function(e){h.error("Failure",e,e.msg)})).finally((function(){e.state.actionInProgress=!1}))}(a,t,r)}},e.unselectTemplate=function(t){t.Selected=!1,e.state.selectedTemplate=null},e.selectTemplate=function(t){e.state.selectedTemplate&&e.unselectTemplate(e.state.selectedTemplate),t.Selected=!0,t.Network?e.formValues.network=s()(e.availableNetworks,(function(e){return e.Name===t.Network})):e.formValues.network=s()(e.availableNetworks,(function(e){return"bridge"===e.Name})),e.formValues.name=t.Name?t.Name:"",e.state.selectedTemplate=t,e.state.deployable=function(e,t){let n=!1;switch(t){case 1:case 3:n=e.mode.provider===x||"DOCKER_STANDALONE"===e.mode.provider;break;case 2:n=e.mode.provider===x}return n}(e.applicationState.endpoint,t.Type),r("view-top")},function(){e.isAdmin=v.isAdmin();var r=e.applicationState.endpoint.mode,i=e.applicationState.endpoint.apiVersion;const s=+n.params.endpointId;t.all({templates:p.templates(s),volumes:g.getVolumes(),networks:c.networks("DOCKER_STANDALONE"===r.provider||"DOCKER_SWARM_MODE"===r.provider,!1,"DOCKER_SWARM_MODE"===r.provider&&i>=1.25)}).then((function(t){var n=t.templates;e.templates=n,e.availableVolumes=a()(t.volumes.Volumes,[e=>e.Name.toLowerCase()],["asc"]);var r=t.networks;e.availableNetworks=r,e.allowBindMounts=w.SecuritySettings.allowBindMountsForRegularUsers})).catch((function(t){e.templates=[],h.error("Failure",t,"An error occurred during apps initialization.")}))}()}])},21436:function(){angular.module("portainer.app").controller("UserController",["$q","$scope","$state","$transition$","UserService","ModalService","Notifications","SettingsService","Authentication",function(e,t,n,r,a,i,s,o,l){t.state={updatePasswordError:""},t.formValues={username:"",newPassword:"",confirmPassword:"",Administrator:!1},t.handleAdministratorChange=function(e){return t.$evalAsync((()=>{t.formValues.Administrator=e}))},t.deleteUser=function(){i.confirmDeletion("Do you want to remove this user? This user will not be able to login into Portainer anymore.",(function(e){e&&a.deleteUser(t.user.Id).then((function(){s.success("User successfully deleted",t.user.Username),n.go("portainer.users")})).catch((function(e){s.error("Failure",e,"Unable to remove user")}))}))},t.updateUser=async function(){const e=t.formValues.Administrator?1:2,r=t.user.Username,o=t.formValues.username;let l=Promise.resolve(!0);o!=r&&(l=new Promise((e=>i.confirmWarn({title:"Are you sure?",message:`Are you sure you want to rename the user ${r} to ${o}?`,buttons:{confirm:{label:"Update",className:"btn-primary"}},callback:e})))),await l&&a.updateUser(t.user.Id,{role:e,username:o}).then((function(){s.success("Success","User successfully updated"),n.reload()})).catch((function(e){s.error("Failure",e,"Unable to update user permissions")}))},t.updatePassword=async function(){const e=l.getUserDetails().ID===t.user.Id;(!e||await i.confirmChangePassword())&&a.updateUser(t.user.Id,{password:t.formValues.newPassword}).then((function(){s.success("Success","Password successfully updated"),e?n.go("portainer.logout"):n.reload()})).catch((function(e){s.error("Failure",e,"Unable to update user password")}))},t.isSubmitEnabled=function(){const{user:e,formValues:n}=t;return e&&(e.Username!==n.username||n.Administrator&&1!==e.Role||!n.Administrator&&1===e.Role)},t.isDeleteDisabled=function(){const{user:e}=t;return e&&1===e.Id},t.isAdmin=l.isAdmin(),e.all({user:a.user(r.params().id),settings:o.publicSettings()}).then((function(e){var n=e.user;t.user=n,t.formValues.Administrator=1===n.Role,t.formValues.username=n.Username,t.AuthenticationMethod=e.settings.AuthenticationMethod,t.requiredPasswordLength=e.settings.RequiredPasswordLength})).catch((function(e){s.error("Failure",e,"Unable to retrieve user information")}))}])},79614:function(e,t,n){"use strict";n.r(t);var r=n(16222),a=n.n(r);angular.module("portainer.app").controller("UsersController",["$q","$scope","$state","UserService","TeamService","TeamMembershipService","ModalService","Notifications","Authentication","SettingsService",function(e,t,n,r,i,s,o,l,c,d){var u,p;t.state={userCreationError:"",validUsername:!1,actionInProgress:!1},t.formValues={Username:"",Password:"",ConfirmPassword:"",Administrator:!1,TeamIds:[]},t.handleAdministratorChange=function(e){return t.$evalAsync((()=>{t.formValues.Administrator=e}))},t.onChangeTeamIds=function(e){return t.$evalAsync((()=>{t.formValues.TeamIds=e}))},t.checkUsernameValidity=function(){for(var e=!0,n=0;n<t.users.length;n++)if(t.formValues.Username.toLocaleLowerCase()===t.users[n].Username.toLocaleLowerCase()){e=!1;break}t.state.validUsername=e,t.state.userCreationError=e?"":"Username already taken"},t.addUser=function(){t.state.actionInProgress=!0,t.state.userCreationError="";var e=t.formValues.Username,a=t.formValues.Password,i=t.formValues.Administrator?1:2;r.createUser(e,a,i,t.formValues.TeamIds).then((function(){l.success("User successfully created",e),n.reload()})).catch((function(e){l.error("Failure",e,"Unable to create user")})).finally((function(){t.state.actionInProgress=!1}))},t.removeAction=function(e){o.confirmDeletion("Do you want to remove the selected users? They will not be able to login into Portainer anymore.",(function(a){a&&function(e){var a=e.length;angular.forEach(e,(function(e){r.deleteUser(e.Id).then((function(){l.success("User successfully removed",e.Username);var n=t.users.indexOf(e);t.users.splice(n,1)})).catch((function(e){l.error("Failure",e,"Unable to remove user")})).finally((function(){0==--a&&n.reload()}))}))}(e)}))},u=c.getUserDetails(),p=c.isAdmin(),t.isAdmin=p,e.all({users:r.users(!0),teams:p?i.teams():r.userLeadingTeams(u.ID),memberships:s.memberships(),settings:d.publicSettings()}).then((function(e){var n=e.users;!function(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.isTeamLeader=!1;for(var a=0;a<t.length;a++){var i=t[a];if(r.Id===i.UserId&&1===i.Role){r.isTeamLeader=!0,r.RoleName="team leader";break}}}}(n,e.memberships),t.users=n,t.teams=a()(e.teams,"Name","asc"),t.AuthenticationMethod=e.settings.AuthenticationMethod,t.requiredPasswordLength=e.settings.RequiredPasswordLength})).catch((function(e){l.error("Failure",e,"Unable to retrieve users and teams"),t.users=[],t.teams=[]}))}])},48780:function(e,t,n){"use strict";n.r(t),n.d(t,{getDocURL:function(){return a}});const r=[{desc:"Home",docURL:"https://docs.portainer.io/user/home",locationRegex:/#!\/home/,exmaples:["#!/home"]},{desc:"Docker or Swarm / Dashboard",docURL:"https://docs.portainer.io/user/docker/dashboard",locationRegex:/#!\/\d+\/docker\/dashboard/,exmaples:["#!/10/docker/dashboard"]},{desc:"Docker or Swarm / Custom Templates",docURL:"https://docs.portainer.io/user/docker/templates/custom",locationRegex:/#!\/\d+\/docker\/templates\/custom/,examples:["#!/10/docker/templates/custom","#!/10/docker/templates/custom/new?fileContent=&type=","#!/10/docker/templates/custom/1"]},{desc:"Docker or Swarm / App Templates",docURL:"https://docs.portainer.io/user/docker/templates",locationRegex:/#!\/\d+\/docker\/templates/,examples:["#!/10/docker/templates"]},{desc:"Docker or Swarm / Stacks",docURL:"https://docs.portainer.io/user/docker/stacks",locationRegex:/#!\/\d+\/docker\/stacks/,examples:["#!/10/docker/stacks","#!/10/docker/stacks/newstack","#!/10/docker/stacks/s4?id=3&type=1&regular=true&external=false&orphaned=false"]},{desc:"Swarm / Services",docURL:"https://docs.portainer.io/user/docker/services",locationRegex:/#!\/\d+\/docker\/(services|tasks)/,examples:["#!/10/docker/services","#!/10/docker/services/zqp46vzoz5nnf39m6c518nlt8","#!/10/docker/services/zqp46vzoz5nnf39m6c518nlt8/logs","#!/10/docker/tasks/yyll0peo7ack4uaw2wom3nxso","#!/10/docker/tasks/yyll0peo7ack4uaw2wom3nxso/logs"]},{desc:"Docker or Swarm / Containers",docURL:"https://docs.portainer.io/user/docker/containers",locationRegex:/#!\/\d+\/docker\/containers/,examples:["#!/10/docker/containers","#!/10/docker/containers/new","#!/10/docker/containers/new?from=49ff4ae03d10c57fe375f6968c48a6169a9852a6bfbb5137cd30c615d58188c1","#!/10/docker/containers/49ff4ae03d10c57fe375f6968c48a6169a9852a6bfbb5137cd30c615d58188c1","#!/10/docker/containers/49ff4ae03d10c57fe375f6968c48a6169a9852a6bfbb5137cd30c615d58188c1/logs","#!/10/docker/containers/49ff4ae03d10c57fe375f6968c48a6169a9852a6bfbb5137cd30c615d58188c1/inspect","#!/10/docker/containers/49ff4ae03d10c57fe375f6968c48a6169a9852a6bfbb5137cd30c615d58188c1/stats"]},{desc:"Docker or Swarm / Images",docURL:"https://docs.portainer.io/user/docker/images",locationRegex:/#!\/\d+\/docker\/images/,examples:["#!/10/docker/images","#!/10/docker/images/build","#!/10/docker/images/sha256:feb5d9fea6a5e9606aa995e879d862b825965ba48de054caab5ef356dc6b3412"]},{desc:"Docker or Swarm / Networks",docURL:"https://docs.portainer.io/user/docker/networks",locationRegex:/#!\/\d+\/docker\/networks/,examples:["#!/10/docker/networks","#!/10/docker/networks/new","#!/10/docker/networks/db5732ff4a2c6df70a18530dba6abd8625f8e94c5fc5daabbcbab07377ee1044"]},{desc:"Docker or Swarm / Volumes",docURL:"https://docs.portainer.io/user/docker/volumes",locationRegex:/#!\/\d+\/docker\/volumes/,examples:["#!/10/docker/volumes","#!/10/docker/volumes/new","#!/10/docker/volumes/153b46162f5bab9a7c9d2c8e1675115fcedd4c0ccdf5834159400750fa6b794c"]},{desc:"Swarm / Configs",docURL:"https://docs.portainer.io/user/docker/configs",locationRegex:/#!\/\d+\/docker\/configs/,examples:["#!/10/docker/configs","#!/10/docker/configs/new","#!/10/docker/configs/azd0xc805l298jrgnadbnnzyv"]},{desc:"Swarm / Secrets",docURL:"https://docs.portainer.io/user/docker/secrets",locationRegex:/#!\/\d+\/docker\/secrets/,examples:["#!/10/docker/secrets","#!/10/docker/secrets/new","#!/10/docker/secrets/tsoeeh7ln7g54g5qkk67eg4xe"]},{desc:"Docker or Swarm / Swarm / Cluster visualizer",docURL:"https://docs.portainer.io/user/docker/swarm/cluster-visualizer",locationRegex:/#!\/\d+\/docker\/swarm\/visualizer/,examples:["#!/10/docker/swarm/visualizer"]},{desc:"Docker or Swarm / Swarm / Set up",docURL:"https://docs.portainer.io/user/docker/swarm/setup",locationRegex:/#!\/\d+\/docker\/swarm\/feat-config/,examples:["#!/10/docker/feat-config"]},{desc:"Swarm / Swarm / Registries",docURL:"https://docs.portainer.io/user/docker/swarm/registries",locationRegex:/#!\/\d+\/docker\/swarm\/registries/,examples:["#!/10/docker/registries"]},{desc:"Swarm / Swarm",docURL:"https://docs.portainer.io/user/docker/swarm",locationRegex:/#!\/\d+\/docker\/(swarm|nodes)/,examples:["#!/10/docker/swarm","#!/10/docker/nodes/nd694yepzgms1j8y7kv3lpcc3"]},{desc:"Docker / Events",docURL:"https://docs.portainer.io/user/docker/events",locationRegex:/#!\/\d+\/docker\/events/,examples:["#!/10/docker/events"]},{desc:"Docker / Host / Registries",docURL:"https://docs.portainer.io/user/docker/host/registries",locationRegex:/#!\/\d+\/docker\/host\/registries/,examples:["#!/10/docker/registries"]},{desc:"Docker / Host / Setup",docURL:"https://docs.portainer.io/user/docker/host/setup",locationRegex:/#!\/\d+\/docker\/host\/feat-config/,examples:["#!/10/docker/feat-config"]},{desc:"Docker / Host",docURL:"https://docs.portainer.io/user/docker/host",locationRegex:/#!\/\d+\/docker\/host/,examples:["#!/10/docker/host"]},{desc:"Kubernetes / Dashboard",docURL:"https://docs.portainer.io/user/kubernetes/dashboard",locationRegex:/#!\/\d+\/kubernetes\/dashboard/,examples:["#!/1/kubernetes/dashboard"]},{desc:"Kubernetes / Custom Templates",docURL:"https://docs.portainer.io/user/kubernetes/templates",locationRegex:/#!\/\d+\/kubernetes\/templates\/custom/,examples:["#!/1/kubernetes/templates/custom","#!/1/kubernetes/templates/custom/new?fileContent="]},{desc:"Kubernetes / Namespaces",docURL:"https://docs.portainer.io/user/kubernetes/namespaces",locationRegex:/#!\/\d+\/kubernetes\/pools/,examples:["#!/1/kubernetes/pools","#!/1/kubernetes/pools/new","#!/1/kubernetes/deploy?templateId=","#!/1/kubernetes/pools/default"]},{desc:"Kubernetes / Helm",docURL:"https://docs.portainer.io/user/kubernetes/helm",locationRegex:/#!\/\d+\/kubernetes\/templates\/helm/,examples:["#!/1/kubernetes/templates/helm"]},{desc:"Kubernetes / Applications",docURL:"https://docs.portainer.io/user/kubernetes/applications",locationRegex:/#!\/\d+\/kubernetes\/applications/,examples:["#!/1/kubernetes/applications","#!/1/kubernetes/applications/new","#!/1/kubernetes/deploy?templateId=","#!/1/kubernetes/applications/metallb-system/controller"]},{desc:"Kubernetes / Ingresses",docURL:"https://docs.portainer.io/user/kubernetes/ingresses",locationRegex:/#!\/\d+\/kubernetes\/ingresses/,examples:["#!/1/kubernetes/ingresses"]},{desc:"Kubernetes / ConfigMaps & Secrets",docURL:"https://docs.portainer.io/user/kubernetes/configurations",locationRegex:/#!\/\d+\/kubernetes\/configurations/,examples:["#!/1/kubernetes/configurations","#!/1/kubernetes/configurations/new","#!/1/kubernetes/configurations/metallb-system/config"]},{desc:"Kubernetes / Volumes",docURL:"https://docs.portainer.io/user/kubernetes/volumes",locationRegex:/#!\/\d+\/kubernetes\/volumes/,examples:["#!/1/kubernetes/volumes"]},{desc:"Kubernetes / Cluster / Set up",docURL:"https://docs.portainer.io/user/kubernetes/cluster/setup",locationRegex:/#!\/\d+\/kubernetes\/cluster\/configure/,examples:["#!/1/kubernetes/cluster/configure"]},{desc:"Kubernetes / Cluster / Security constraints",docURL:"https://docs.portainer.io/user/kubernetes/cluster/security",locationRegex:/#!\/\d+\/kubernetes\/cluster\/securityConstraint/,examples:["#!/1/kubernetes/cluster/securityConstraint"]},{desc:"Kubernetes / Cluster",docURL:"https://docs.portainer.io/user/kubernetes/cluster",locationRegex:/#!\/\d+\/kubernetes\/cluster/,examples:["#!/1/kubernetes/cluster","#!/1/kubernetes/cluster/ip-10-138-11-102","#!/1/kubernetes/cluster/ip-10-138-11-102/stats"]},{desc:"Kubernetes / Cluster / Registries",docURL:"https://docs.portainer.io/user/kubernetes/cluster/registries",locationRegex:/#!\/\d+\/kubernetes\/registries/,examples:["#!/1/kubernetes/registries"]},{desc:"Azure ACI / Dashboard",docURL:"https://docs.portainer.io/user/aci/dashboard",locationRegex:/#!\/\d+\/azure\/dashboard/,examples:["#!/26/azure/dashboard"]},{desc:"Azure ACI / Container instances",docURL:"https://docs.portainer.io/user/aci/containers",locationRegex:/#!\/\d+\/azure\/containerinstances/,examples:["#!/26/azure/containerinstances"]},{desc:"Edge Compute / Edge Devices",docURL:"https://docs.portainer.io/user/edge/devices",locationRegex:/#!\/edge\/devices/,examples:["#!/edge/devices","#!/edge/devices/waiting-room"]},{desc:"Edge Compute / Edge Groups",docURL:"https://docs.portainer.io/user/edge/groups",locationRegex:/#!\/edge\/groups/,examples:["#!/edge/groups","#!/edge/groups/new"]},{desc:"Edge Compute / Edge Stacks ",docURL:"https://docs.portainer.io/user/edge/stacks",locationRegex:/#!\/edge\/stacks/,examples:["#!/edge/stacks","#!/edge/stacks/new"]},{desc:"Edge Compute / Edge Jobs",docURL:"https://docs.portainer.io/user/edge/jobs",locationRegex:/#!\/edge\/jobs/,examples:["#!/edge/jobs","#!/edge/jobs/new"]},{desc:"Nomad / Dashboard",docURL:"https://docs.portainer.io/user/nomad/dashboard",locationRegex:/#!\/\d+\/nomad\/dashboard/,examples:["#!/2/nomad/dashboard"]},{desc:"Nomad / Nomad Jobs",docURL:"https://docs.portainer.io/user/nomad/jobs",locationRegex:/#!\/\d+\/nomad\/jobs/,examples:["#!/2/nomad/jobs","#!/2/nomad/jobs/portainer-agent/tasks/portainer-agent/allocations/acdbf08e-34af-9b8a-cc84-7dc202bf1fcf/events?namespace=default","#!/2/nomad/jobs/portainer-agent/tasks/portainer-agent/allocations/acdbf08e-34af-9b8a-cc84-7dc202bf1fcf/logs?namespace=default"]},{desc:"Account Settings",docURL:"https://docs.portainer.io/user/account-settings",locationRegex:/#!\/account/,examples:["#!/account","#!/account/tokens/new"]},{desc:"Settings / Users",docURL:"https://docs.portainer.io/admin/users",locationRegex:/#!\/users/,examples:["#!/users","#!/users/1"]},{desc:"Settings / Users / Teams",docURL:"https://docs.portainer.io/admin/users/teams",locationRegex:/#!\/teams/,examples:["#!/teams","#!/teams/1"]},{desc:"Settings / Users / Roles",docURL:"https://docs.portainer.io/admin/users/roles",locationRegex:/#!\/roles/,examples:["#!/roles"]},{desc:"Settings / Environments",docURL:"https://docs.portainer.io/admin/environments",locationRegex:/#!\/endpoints/,examples:["#!/endpoints","#!/endpoints/10","#!/endpoints/10/access"]},{desc:"Settings / Environments / Groups",docURL:"https://docs.portainer.io/admin/environments/groups",locationRegex:/#!\/groups/,examples:["#!/groups","#!/groups/new","#!/groups/3","#!/groups/3/access"]},{desc:"Settings / Environments / Tags",docURL:"https://docs.portainer.io/admin/environments/tags",locationRegex:/#!\/tags/,examples:["#!/tags"]},{desc:"Settings / Registries",docURL:"https://docs.portainer.io/admin/registries",locationRegex:/#!\/registries/,examples:["#!/registries","#!/registries/new","#!/registries/1","#!/registries/1/repositories","#!/registries/1/configure","#!/registries/5/portainer.demo~2Fportainerregistrytesting~2Falpine","#!/registries/5/portainer.demo~2Fportainerregistrytesting~2Falpine/jfadelhaye"]},{desc:"Settings / Licenses",docURL:"https://docs.portainer.io/admin/licenses",locationRegex:/#!\/licenses/,examples:["#!/licenses","#!/licenses/licenses/new"]},{desc:"Settings / Authentication logs",docURL:"https://docs.portainer.io/admin/logs",locationRegex:/#!\/auth-logs/,examples:["#!/auth-logs"]},{desc:"Settings / Authentication logs / Activity logs",docURL:"https://docs.portainer.io/admin/logs/activity",locationRegex:/#!\/activity-logs/,examples:["#!/activity-logs"]},{desc:"Settings / Settings / Authentication",docURL:"https://docs.portainer.io/admin/settings/authentication",locationRegex:/#!\/settings\/auth/,examples:["#!/settings/auth"]},{desc:"Settings / Settings / Notifications",docURL:"https://docs.portainer.io/admin/notifications",locationRegex:/#!\/notifications/,examples:["#!/notifications"]},{desc:"Settings / Settings / Cloud settings",docURL:"https://docs.portainer.io/admin/settings/cloud",locationRegex:/#!\/settings\/cloud/,examples:["#!/settings/cloud","#!/settings/cloud/credentials/new","#!/settings/cloud/credentials/1"]},{desc:"Settings / Settings / Edge Compute",docURL:"https://docs.portainer.io/admin/settings/edge",locationRegex:/#!\/settings\/edge/,examples:["#!/settings/edge"]},{desc:"Settings / Settings",docURL:"https://docs.portainer.io/admin/settings",locationRegex:/#!\/settings/,examples:["#!/settings"]}];function a(){const e=window.location.hash;for(let t=0;t<r.length;t+=1){const n=r[t];if(e.match(n.locationRegex))return n.docURL}return"https://docs.portainer.io"}},68724:function(e,t,n){"use strict";function r(){}n.r(t),n.d(t,{default:function(){return r}}),n(40958)},25518:function(e,t,n){"use strict";n.r(t);var r=n(29274),a=n.n(r);n(4396),n(77906),n(65400),n(59250),n(65927),n(22479),n(60685),n(99639),n(16249),n(40635),n(42536),n(66520),n(54879),n(85639),n(78421),n(88678),n(85774),n(8149),n(80134),window.angular=a()},10388:function(e){var t="app/agent/components/file-uploader/fileUploader.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<button ng-if="!$ctrl.state.uploadInProgress" type="button" ngf-select="$ctrl.onFileSelected($file)" class="btn btn-light ng-scope">\n  <pr-icon icon="\'upload\'" feather="true"></pr-icon>\n</button>\n<button ng-if="$ctrl.state.uploadInProgress" type="button" class="btn btn-sm btn-light" button-spinner="$ctrl.state.uploadInProgress"></button>\n')}]),e.exports=t},53719:function(e){var t="app/agent/components/files-datatable/filesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-model-options="{ debounce: 300 }"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search..."\n            auto-focus\n          />\n        </div>\n        <file-uploader authorization="DockerAgentBrowsePut" ng-if="$ctrl.isUploadAllowed" on-file-selected="($ctrl.onFileSelectedForUpload)"> </file-uploader>\n      </div>\n      <div class="table-responsive">\n        <table class="table">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Size\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Size\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Size\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Size\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Last modification\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'ModTime\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'ModTime\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'ModTime\')"\n                ></table-column-header>\n              </th>\n              <th> Actions </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-if="!$ctrl.isRoot">\n              <td colspan="4">\n                <button type="button" class="btn btn-link hover:no-underline !ml-0 p-0" ng-click="$ctrl.goToParent()"\n                  ><pr-icon icon="\'corner-left-up\'" feather="true"></pr-icon>Go to parent</button\n                >\n              </td>\n            </tr>\n            <tr ng-repeat="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder))">\n              <td>\n                <span ng-if="item.edit" class="vertical-center">\n                  <input\n                    class="input-sm"\n                    type="text"\n                    ng-model="item.newName"\n                    on-enter-key="$ctrl.rename({ name: item.Name, newName: item.newName }); item.edit = false"\n                    auto-focus\n                  />\n                  <a class="interactive" ng-click="item.edit = false;"><pr-icon icon="\'x\'" feather="true"></pr-icon></a>\n                  <a class="interactive" ng-click="$ctrl.rename({name: item.Name, newName: item.newName}); item.edit = false;"><pr-icon icon="\'check\'" feather="true"></pr-icon></a>\n                </span>\n                <span ng-if="!item.edit && item.Dir">\n                  <button type="button" class="btn btn-link hover:no-underline !ml-0 p-0" ng-click="$ctrl.browse({name: item.Name})" class="vertical-center"\n                    ><pr-icon icon="\'folder\'" feather="true"></pr-icon>{{ item.Name }}</button\n                  >\n                </span>\n                <span ng-if="!item.edit && !item.Dir" class="vertical-center"><pr-icon icon="\'file\'" feather="true"></pr-icon>{{ item.Name }}</span>\n              </td>\n              <td>{{ item.Size | humansize }}</td>\n              <td>\n                {{ item.ModTime | getisodatefromtimestamp }}\n              </td>\n              <td>\n                <btn authorization="DockerAgentBrowseGet" class="btn btn-xs btn-secondary space-right" ng-click="$ctrl.download({ name: item.Name })" ng-if="!item.Dir">\n                  <pr-icon icon="\'download\'" feather="true"></pr-icon> Download\n                </btn>\n                <btn authorization="DockerAgentBrowseRename" class="btn btn-xs btn-secondary space-right" ng-click="item.newName = item.Name; item.edit = true">\n                  <pr-icon icon="\'edit\'" feather="true"></pr-icon> Rename\n                </btn>\n                <btn authorization="DockerAgentBrowseDelete" class="btn btn-xs btn-dangerlight" ng-click="$ctrl.delete({ name: item.Name })">\n                  <pr-icon icon="\'trash-2\'" feather="true"></pr-icon> Delete\n                </btn>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No files found.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},10884:function(e){var t="app/agent/components/host-browser/hostBrowser.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<files-datatable\n  title-text="Host browser - {{ $ctrl.getRelativePath() }}"\n  title-icon="file"\n  dataset="$ctrl.files"\n  table-key="host_browser"\n  order-by="Dir"\n  is-root="$ctrl.isRoot()"\n  go-to-parent="$ctrl.goToParent()"\n  browse="$ctrl.browse(name)"\n  rename="$ctrl.renameFile(name, newName)"\n  download="$ctrl.downloadFile(name)"\n  delete="$ctrl.confirmDeleteFile(name)"\n  is-upload-allowed="true"\n  on-file-selected-for-upload="($ctrl.onFileSelectedForUpload)"\n>\n</files-datatable>\n')}]),e.exports=t},56566:function(e){var t="app/agent/components/node-selector/nodeSelector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <label for="target_node" class="col-sm-1 control-label text-left">Node</label>\n  <div class="col-sm-11">\n    <select class="form-control" ng-model="$ctrl.model" ng-options="agent.NodeName as agent.NodeName for agent in $ctrl.agents"></select>\n  </div>\n</div>\n')}]),e.exports=t},23709:function(e){var t="app/agent/components/volume-browser/volumeBrowser.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<files-datatable\n  title-text="Volume browser"\n  title-icon="file"\n  dataset="$ctrl.files"\n  table-key="volume_browser"\n  order-by="Dir"\n  is-root="$ctrl.state.path === \'/\'"\n  go-to-parent="$ctrl.up()"\n  browse="$ctrl.browse(name)"\n  rename="$ctrl.rename(name, newName)"\n  download="$ctrl.download(name)"\n  delete="$ctrl.confirmDelete(name)"\n  is-upload-allowed="$ctrl.isUploadEnabled"\n  on-file-selected-for-upload="($ctrl.onFileSelectedForUpload)"\n></files-datatable>\n')}]),e.exports=t},81521:function(e){var t="app/docker/components/container-capabilities/containerCapabilities.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" style="margin-top: 15px">\n  <div class="col-sm-12 form-section-title"> Container capabilities </div>\n  <div class="form-group flex flex-wrap gap-y-2 px-5">\n    <div ng-repeat="cap in $ctrl.capabilities" class="w-1/3 text-center">\n      <por-switch-field\n        label-class="\'col-sm-6\'"\n        tooltip="cap.description"\n        checked="cap.allowed"\n        label="cap.capability"\n        name="\'capability\'"\n        on-change="($ctrl.capabilitiesOnChange[cap.capability])"\n      ></por-switch-field>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},80239:function(e){var t="app/docker/components/container-restart-policy/container-restart-policy.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <table class="table table-bordered table-condensed">\n    <tr>\n      <td class="col-md-3">\n        <span>Name</span>\n      </td>\n      <td>\n        <select class="form-control" ng-model="$ctrl.state.editModel.name" disable-authorization="DockerContainerUpdate">\n          <option value="no">None</option>\n          <option value="on-failure">On Failure</option>\n          <option value="always">Always</option>\n          <option value="unless-stopped">Unless Stopped</option>\n        </select>\n      </td>\n      <td class="col-md-2" authorization="DockerContainerUpdate">\n        <button class="btn btn-sm btn-primary" ng-click="$ctrl.save()">Update</button>\n      </td>\n    </tr>\n    <tr ng-if="$ctrl.state.editModel.name === \'on-failure\'">\n      <td class="col-md-3">Maximum Retry Count</td>\n      <td colspan="2">\n        <input type="number" class="form-control" ng-model="$ctrl.state.editModel.maximumRetryCount" />\n      </td>\n    </tr>\n  </table>\n</div>\n')}]),e.exports=t},171:function(e){var t="app/docker/components/dashboard-cluster-agent-info/dashboardClusterAgentInfo.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <rd-widget-header icon="svg-tachometer" title-text="Cluster information"></rd-widget-header>\n  <rd-widget-body classes="!px-5 !py-0">\n    <table class="table">\n      <tbody>\n        <tr>\n          <td>Nodes in the cluster</td>\n          <td>{{ $ctrl.agentCount }}</td>\n        </tr>\n        <tr>\n          <td colspan="2">\n            <div class="btn-group" role="group" aria-label="...">\n              <a ui-sref="docker.swarm.visualizer" class="vertical-center"><pr-icon icon="\'trello\'" feather="true" class-name="\'icon\'"></pr-icon>Go to cluster visualizer</a>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},80602:function(e){var t="app/docker/components/datatables/configs-datatable/configsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a config..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="config-searchInput"\n          />\n        </div>\n        <div class="actionBar !gap-3" authorization="DockerConfigDelete, DockerConfigCreate">\n          <button\n            type="button"\n            class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n            authorization="DockerConfigDelete"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="config-removeConfigButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n          </button>\n          <button\n            type="button"\n            class="btn btn-sm btn-primary h-fit vertical-center !ml-0"\n            ui-sref="docker.configs.new"\n            authorization="DockerConfigCreate"\n            data-cy="config-addConfigButton"\n          >\n            <pr-icon icon="\'plus\'" feather="true"></pr-icon>Add config\n          </button>\n        </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle aria-label="Settings">\n              <pr-icon icon="\'more-vertical\'" feather="true"></pr-icon>\n            </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <div class="flex flex-nowrap items-center">\n                  <span class="md-checkbox vertical-center" authorization="DockerConfigDelete, DockerConfigCreate">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Name\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Name\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Creation Date\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CreatedAt\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CreatedAt\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CreatedAt\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Ownership\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'ResourceControl.Ownership\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" authorization="DockerConfigDelete, DockerConfigCreate">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="docker.configs.config({id: item.Id})">{{ item.Name }}</a>\n              </td>\n              <td>{{ item.CreatedAt | getisodate }}</td>\n              <td>\n                <span>\n                  <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No config available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},49229:function(e){var t="app/docker/components/datatables/container-networks-datatable/containerNetworksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-header icon="{{ $ctrl.titleIcon }}" feather-icon="true" title-text="{{ $ctrl.titleText }}"></rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="actionBar">\n        <form class="form-horizontal">\n          <div class="row" authorization="DockerNetworkConnect">\n            <label for="container_network" class="col-sm-3 col-lg-2 control-label text-left">Join a network</label>\n            <div class="col-sm-5 col-lg-4">\n              <select class="form-control" ng-model="$ctrl.selectedNetwork" id="container_network">\n                <option selected disabled hidden value="">Select a network</option>\n                <option ng-repeat="net in $ctrl.availableNetworks | orderBy: \'Name\'" ng-value="net.Id">{{ net.Name }}</option>\n              </select>\n            </div>\n            <div class="col-sm-1">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.joinNetworkActionInProgress || !$ctrl.selectedNetwork"\n                ng-click="$ctrl.joinNetworkAction($ctrl.container, $ctrl.selectedNetwork)"\n                button-spinner="$ctrl.joinNetworkActionInProgress"\n              >\n                <span ng-hide="$ctrl.joinNetworkActionInProgress">Join network</span>\n                <span ng-show="$ctrl.joinNetworkActionInProgress">Joining network...</span>\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>Network</th>\n              <th>\n                IP Address\n                <a ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n              </th>\n              <th>Gateway</th>\n              <th>MAC Address</th>\n              <th authorization="DockerNetworkDisconnect">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate-start="(key, value) in $ctrl.dataset | itemsPerPage: $ctrl.state.paginatedItemLimit"\n              ng-class="{ active: item.Checked }"\n              ng-click="$ctrl.expandItem(value, !value.Expanded)"\n            >\n              <td>\n                <button class="btn btn-none" ng-if="$ctrl.itemCanExpand(value)" type="button">\n                  <i ng-class="{ \'fas fa-angle-down\': value.Expanded, \'fas fa-angle-right\': !value.Expanded }" class="space-right" aria-hidden="true"></i>\n                </button>\n                <a ui-sref="docker.networks.network({ id: key, nodeName: $ctrl.nodeName })">{{ key }}</a>\n              </td>\n              <td>{{ value.IPAddress || \'-\' }}</td>\n              <td>{{ value.Gateway || \'-\' }}</td>\n              <td>{{ value.MacAddress || \'-\' }}</td>\n              <td authorization="DockerNetworkDisconnect">\n                <button\n                  type="button"\n                  class="btn btn-xs btn-dangerlight h-fit vertical-center !ml-0"\n                  ng-disabled="$ctrl.leaveNetworkActionInProgress || $ctrl.container.IsPortainer"\n                  button-spinner="$ctrl.leaveNetworkActionInProgress"\n                  ng-click="$ctrl.leaveNetworkAction($ctrl.container, key)"\n                >\n                  <span ng-if="!$ctrl.leaveNetworkActionInProgress" class="vertical-center !ml-0"> <pr-icon icon="\'trash-2\'" feather="true"></pr-icon> Leave network</span>\n                  <span ng-if="$ctrl.leaveNetworkActionInProgress">Leaving network...</span>\n                </button>\n              </td>\n            </tr>\n            <tr\n              dir-paginate-end\n              ng-show="$ctrl.itemCanExpand(value) && value.Expanded"\n              ng-class="{ \'datatable-highlighted\': value.Highlighted, \'datatable-unhighlighted\': !value.Highlighted }"\n            >\n              <td colspan="1"></td>\n              <td colspan="1">\n                {{ value.GlobalIPv6Address }}\n              </td>\n              <td colspan="3">\n                {{ value.IPv6Gateway || \'-\' }}\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.dataset.length === 0">\n              <td colspan="5" class="text-center text-muted">No network available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector vertical-center">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},85566:function(e){var t="app/docker/components/datatables/container-processes-datatable/containerProcessesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a process..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="process-searchInput"\n          />\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th ng-repeat="header in $ctrl.headerset">\n                {{ header }}\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr dir-paginate="item in ($ctrl.state.filteredProcesses = ($ctrl.dataset | filter:$ctrl.state.textFilter | itemsPerPage: $ctrl.state.paginatedItemLimit))">\n              <td ng-repeat="info in item track by $index">{{ info }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="{{ $ctrl.headerset.length }}" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredProcesses.length === 0">\n              <td colspan="{{ $ctrl.headerset.length }}" class="text-center text-muted">No process available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},2576:function(e){var t="app/docker/components/datatables/events-datatable/eventsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for an event..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="event-searchInput"\n          />\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Date\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Time\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Time\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Time\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Category\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Type\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Type\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Details\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Details\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Details\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Details\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>{{ item.Time | getisodatefromtimestamp }}</td>\n              <td>{{ item.Type }}</td>\n              <td>{{ item.Details }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No event available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},33261:function(e){var t="app/docker/components/datatables/images-datatable/imagesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar show-dropdown">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for an image..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="image-searchInput"\n          />\n        </div>\n        <div class="actionBar !gap-3" ng-if="!$ctrl.offlineMode" authorization="DockerImageDelete, DockerImageBuild, DockerImageLoad, DockerImageGet">\n          <div class="btn-group" authorization="DockerImageDelete">\n            <button\n              type="button"\n              class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n              authorization="DockerImageDelete"\n              ng-disabled="$ctrl.state.selectedItemCount === 0"\n              ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n              data-cy="image-removeImageButton"\n            >\n              <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n            </button>\n            <button\n              type="button"\n              class="btn btn-sm btn-dangerlight dropdown-toggle"\n              data-toggle="dropdown"\n              aria-haspopup="true"\n              aria-expanded="false"\n              ng-disabled="$ctrl.state.selectedItemCount === 0"\n            >\n              <span class="caret"></span>\n              <span class="sr-only">Toggle Dropdown</span>\n            </button>\n            <ul class="dropdown-menu">\n              <li><a ng-click="$ctrl.forceRemoveAction($ctrl.state.selectedItems, true)" ng-disabled="$ctrl.state.selectedItemCount === 0">Force Remove</a></li>\n            </ul>\n          </div>\n\n          <div class="btn-group">\n            <button\n              type="button"\n              class="btn btn-sm btn-light h-fit"\n              ui-sref="docker.images.import"\n              authorization="DockerImageLoad"\n              ng-disabled="$ctrl.exportInProgress"\n              data-cy="image-importImageButton"\n            >\n              <pr-icon icon="\'upload\'" feather="true"></pr-icon>Import\n            </button>\n            <button\n              type="button"\n              class="btn btn-sm btn-light h-fit"\n              ng-disabled="$ctrl.state.selectedItemCount === 0 || $ctrl.exportInProgress"\n              ng-click="$ctrl.downloadAction($ctrl.state.selectedItems)"\n              button-spinner="$ctrl.exportInProgress"\n              authorization="DockerImageGet"\n              data-cy="image-exportImageButton"\n            >\n              <pr-icon icon="\'download\'" feather="true"></pr-icon>\n              <span ng-hide="$ctrl.exportInProgress">Export</span>\n              <span ng-show="$ctrl.exportInProgress">Export in progress...</span>\n            </button>\n          </div>\n\n          <button\n            type="button"\n            class="btn btn-sm btn-primary h-fit vertical-center !ml-0"\n            ui-sref="docker.images.build"\n            authorization="DockerImageBuild"\n            data-cy="image-buildImageButton"\n          >\n            <pr-icon icon="\'plus\'" feather="true"></pr-icon>Build a new image\n          </button>\n        </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle aria-label="Settings">\n              <pr-icon icon="\'more-vertical\'" feather="true"></pr-icon>\n            </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover table-filters nowrap-cells">\n          <thead>\n            <tr>\n              <th uib-dropdown dropdown-append-to-body auto-close="disabled" popover-placement="bottom-left" is-open="$ctrl.filters.state.open">\n                <div class="flex gap-1 items-center">\n                  <span class="md-checkbox" ng-if="!$ctrl.offlineMode">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Id\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Id\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Id\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Id\')"\n                  ></table-column-header>\n                </div>\n\n                <div>\n                  <span uib-dropdown-toggle class="table-filter" ng-if="!$ctrl.filters.state.enabled">Filter <i class="fa fa-filter" aria-hidden="true"></i></span>\n                  <span uib-dropdown-toggle class="table-filter filter-active" ng-if="$ctrl.filters.state.enabled">Filter <i class="fa fa-check" aria-hidden="true"></i></span>\n                </div>\n                <div class="dropdown-menu" uib-dropdown-menu>\n                  <div class="tableMenu">\n                    <div class="menuHeader"> Filter by usage </div>\n                    <div class="menuContent">\n                      <div class="md-checkbox">\n                        <input id="filter_usage_usedImages" type="checkbox" ng-model="$ctrl.filters.state.showUsedImages" ng-change="$ctrl.onstateFilterChange()" />\n                        <label for="filter_usage_usedImages">Used images</label>\n                      </div>\n                      <div class="md-checkbox">\n                        <input id="filter_usage_unusedImages" type="checkbox" ng-model="$ctrl.filters.state.showUnusedImages" ng-change="$ctrl.onstateFilterChange()" />\n                        <label for="filter_usage_unusedImages">Unused images</label>\n                      </div>\n                    </div>\n                    <div>\n                      <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;">Close</a>\n                    </div>\n                  </div>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Tags\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'RepoTags\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'RepoTags\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'RepoTags\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Size\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'VirtualSize\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'VirtualSize\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'VirtualSize\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Created\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Created\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Created\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Created\')"\n                ></table-column-header>\n              </th>\n              <th ng-if="$ctrl.showHostColumn">\n                <table-column-header\n                  col-title="\'Host\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'NodeName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'NodeName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'NodeName\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ng-if="!$ctrl.offlineMode" ui-sref="docker.images.image({ id: item.Id, nodeName: item.NodeName })" class="monospaced" title="{{ item.Id }}">{{\n                  item.Id | truncate: 40\n                }}</a>\n                <span ng-if="$ctrl.offlineMode">{{ item.Id | truncate: 40 }}</span>\n                <span style="margin-left: 10px" class="label label-warning image-tag" ng-if="::item.ContainerCount === 0">Unused</span>\n              </td>\n              <td>\n                <span class="label label-primary image-tag" ng-repeat="tag in (item | repotags) track by $index">{{ tag }}</span>\n              </td>\n              <td>{{ item.VirtualSize | humansize }}</td>\n              <td>{{ item.Created | getisodatefromtimestamp }}</td>\n              <td ng-if="$ctrl.showHostColumn">{{ item.NodeName ? item.NodeName : \'-\' }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No image available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},19618:function(e){var t="app/docker/components/datatables/macvlan-nodes-datatable/macvlanNodesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar vertical-center">\n        <pr-icon icon="\'search\'" feather="true"></pr-icon>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="Search for a macvlan..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Hostname\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Hostname\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Hostname\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Role\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Role\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Role\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Role\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Engine\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'EngineVersion\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'EngineVersion\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'EngineVersion\')"\n                ></table-column-header>\n              </th>\n              <th ng-if="$ctrl.showIpAddressColumn">\n                <table-column-header\n                  col-title="\'IP Address\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Addr\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Addr\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Addr\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Status\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Status\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Status\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="docker.nodes.node({id: item.Id})" ng-if="$ctrl.accessToNodeDetails">{{ item.Hostname }}</a>\n                <span ng-if="!$ctrl.accessToNodeDetails">{{ item.Hostname }}</span>\n              </td>\n              <td>{{ item.Role }}</td>\n              <td>{{ item.EngineVersion }}</td>\n              <td ng-if="$ctrl.showIpAddressColumn">{{ item.Addr }}</td>\n              <td>\n                <span class="label label-{{ item.Status | nodestatusbadge }}">{{ item.Status }}</span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="7" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="7" class="text-center text-muted">No node available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},47967:function(e){var t="app/docker/components/datatables/networks-datatable/network-row-content/networkRowContent.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<td ng-if="allowCheckbox">\n  <span class="md-checkbox" ng-if="!parentCtrl.offlineMode" authorization="DockerNetworkDelete, DockerNetworkCreate">\n    <input\n      id="select_{{ $index }}"\n      type="checkbox"\n      ng-model="item.Checked"\n      ng-click="parentCtrl.selectItem(item, $event); $event.stopPropagation()"\n      ng-disabled="parentCtrl.disableRemove(item)"\n    />\n    <label for="select_{{ $index }}"></label>\n  </span>\n  <a ng-if="parentCtrl.itemCanExpand(item)"\n    ><i ng-class="{ \'fas fa-angle-down\': item.Expanded, \'fas fa-angle-right\': !item.Expanded }" class="space-right" aria-hidden="true"></i\n  ></a>\n</td>\n<td ng-if="!allowCheckbox"></td>\n<td>\n  <a ng-if="!parentCtrl.offlineMode" ui-sref="docker.networks.network({ id: item.Id, nodeName: item.NodeName })" title="{{ item.Name }}">{{ item.Name | truncate: 40 }}</a>\n  <span ng-if="parentCtrl.offlineMode">{{ item.Name | truncate: 40 }}</span>\n  <span style="margin-left: 10px" class="label label-info image-tag space-left" ng-if="item.ResourceControl.System">System</span>\n</td>\n<td>{{ item.StackName ? item.StackName : \'-\' }}</td>\n<td>{{ item.Driver }}</td>\n<td>{{ item.Attachable }}</td>\n<td>{{ item.IPAM.Driver }}</td>\n<td>{{ item.IPAM.IPV4Configs[0].Subnet ? item.IPAM.IPV4Configs[0].Subnet : \'-\' }}</td>\n<td>{{ item.IPAM.IPV4Configs[0].Gateway ? item.IPAM.IPV4Configs[0].Gateway : \'-\' }}</td>\n<td>{{ item.IPAM.IPV6Configs[0].Subnet ? item.IPAM.IPV6Configs[0].Subnet : \'-\' }}</td>\n<td>{{ item.IPAM.IPV6Configs[0].Gateway ? item.IPAM.IPV6Configs[0].Gateway : \'-\' }}</td>\n<td ng-if="parentCtrl.showHostColumn">{{ item.NodeName ? item.NodeName : \'-\' }}</td>\n<td>\n  <span>\n    <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n    {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = RCO.ADMINISTRATORS }}\n  </span>\n</td>\n')}]),e.exports=t},8755:function(e){var t="app/docker/components/datatables/networks-datatable/networksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a network..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="network-searchInput"\n          />\n        </div>\n        <div class="actionBar !gap-3" ng-if="!$ctrl.offlineMode" authorization="DockerNetworkDelete, DockerNetworkCreate">\n          <button\n            type="button"\n            class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n            authorization="DockerNetworkDelete"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="network-removeNetworkButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n          </button>\n          <button\n            type="button"\n            class="btn btn-sm btn-primary h-fit vertical-center !ml-0"\n            ui-sref="docker.networks.new"\n            authorization="DockerNetworkCreate"\n            data-cy="network-addNetworkButton"\n          >\n            <pr-icon icon="\'plus\'" feather="true"></pr-icon>Add network\n          </button>\n        </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle aria-label="Settings">\n              <pr-icon icon="\'more-vertical\'" feather="true"></pr-icon>\n            </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th style="width: 55px">\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode" authorization="DockerNetworkDelete, DockerNetworkCreate">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Stack\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'StackName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'StackName\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Driver\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Driver\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Driver\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Driver\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Attachable\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Attachable\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Attachable\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Attachable\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'IPAM Driver\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'IPAM.Driver\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'IPAM.Driver\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'IPAM.Driver\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'IPV4 IPAM Subnet\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'IPAM.IPV4Configs[0].Subnet\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'IPAM.IPV4Configs[0].Subnet\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'IPAM.IPV4Configs[0].Subnet\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'IPV4 IPAM Gateway\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'IPAM.IPV4Configs[0].Gateway\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'IPAM.IPV4Configs[0].Gateway\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'IPAM.IPV4Configs[0].Gateway\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'IPV6 IPAM Subnet\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'IPAM.IPV6Configs[0].Subnet\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'IPAM.IPV6Configs[0].Subnet\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'IPAM.IPV6Configs[0].Subnet\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'IPV6 IPAM Gateway\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'IPAM.IPV6Configs[0].Gateway\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'IPAM.IPV6Configs[0].Gateway\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'IPAM.IPV6Configs[0].Gateway\')"\n                ></table-column-header>\n              </th>\n              <th ng-if="$ctrl.showHostColumn">\n                <table-column-header\n                  col-title="\'Host\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'NodeName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'NodeName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'NodeName\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Ownership\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'ResourceControl.Ownership\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n              network-row-content\n              item="item"\n              parent-ctrl="$ctrl"\n              ng-click="$ctrl.expandItem(item, !item.Expanded)"\n              allow-checkbox="true"\n            >\n            </tr>\n            <tr dir-paginate-end ng-show="item.Expanded" ng-repeat="it in item.Subs" class="datatable-highlighted" network-row-content item="it" parent-ctrl="$ctrl"> </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="9" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="9" class="text-center text-muted">No network available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},64255:function(e){var t="app/docker/components/datatables/node-tasks-datatable/nodeTasksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar vertical-center">\n        <pr-icon icon="\'search\'" feather="true"></pr-icon>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="Search..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Id\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Id\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Id\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Id\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Status\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Status\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Status\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Slot\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Slot\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Slot\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Slot\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Image\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Spec.ContainerSpec.Image\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Spec.ContainerSpec.Image\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Spec.ContainerSpec.Image\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Last Update\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Updated\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Updated\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Updated\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td\n                ><a ui-sref="docker.tasks.task({id: item.Id})" class="monospaced">{{ item.Id }}</a></td\n              >\n              <td\n                ><span class="label label-{{ item.Status.State | taskstatusbadge }}">{{ item.Status.State }}</span></td\n              >\n              <td>{{ item.Slot ? item.Slot : \'-\' }}</td>\n              <td>{{ item.Spec.ContainerSpec.Image | hideshasum }}</td>\n              <td>{{ item.Updated | getisodate }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No task available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},53379:function(e){var t="app/docker/components/datatables/nodes-datatable/nodesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a node..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="node-searchInput"\n          />\n        </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle aria-label="Settings">\n              <pr-icon icon="\'more-vertical\'" feather="true"></pr-icon>\n            </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Hostname\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Hostname\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Hostname\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Role\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Role\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Role\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Role\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'CPU\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CPUs\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CPUs\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CPUs\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Memory\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Memory\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Memory\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Memory\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Engine\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'EngineVersion\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'EngineVersion\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'EngineVersion\')"\n                ></table-column-header>\n              </th>\n              <th ng-if="$ctrl.showIpAddressColumn">\n                <table-column-header\n                  col-title="\'IP Address\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Addr\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Addr\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Addr\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Status\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Status\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Status\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Availability\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Availability\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Availability\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Availability\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <a ui-sref="docker.nodes.node({id: item.Id})" ng-if="$ctrl.accessToNodeDetails">{{ item.Name || item.Hostname }}</a>\n                <span ng-if="!$ctrl.accessToNodeDetails">{{ item.Name || item.Hostname }}</span>\n              </td>\n              <td>{{ item.Role }}</td>\n              <td>{{ item.CPUs / 1000000000 }}</td>\n              <td>{{ item.Memory | humansize }}</td>\n              <td>{{ item.EngineVersion }}</td>\n              <td ng-if="$ctrl.showIpAddressColumn">{{ item.Addr }}</td>\n              <td\n                ><span class="label label-{{ item.Status | nodestatusbadge }}">{{ item.Status }}</span></td\n              >\n              <td\n                ><span class="label label-{{ item.Availability | dockerNodeAvailabilityBadge }}">{{ item.Availability }}</span></td\n              >\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="7" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="7" class="text-center text-muted">No node available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},7091:function(e){var t="app/docker/components/datatables/secrets-datatable/secretsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a secret..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="secret-searchInput"\n          />\n        </div>\n        <div class="actionBar !gap-3" authorization="DockerSecretDelete, DockerSecretCreate">\n          <button\n            type="button"\n            class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n            authorization="DockerSecretDelete"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="secret-removeSecretButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n          </button>\n          <button\n            type="button"\n            class="btn btn-sm btn-primary h-fit vertical-center !ml-0"\n            ui-sref="docker.secrets.new"\n            authorization="DockerSecretCreate"\n            data-cy="secret-addSecretButton"\n          >\n            <pr-icon icon="\'plus\'" feather="true"></pr-icon>Add secret\n          </button>\n        </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle aria-label="Settings">\n              <pr-icon icon="\'more-vertical\'" feather="true"></pr-icon>\n            </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <div class="flex flex-nowrap items-center">\n                  <span class="md-checkbox vertical-center" authorization="DockerSecretDelete, DockerSecretCreate">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Name\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Name\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Creation Date\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CreatedAt\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CreatedAt\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CreatedAt\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Ownership\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'ResourceControl.Ownership\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" authorization="DockerSecretDelete, DockerSecretCreate">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="docker.secrets.secret({id: item.Id})">{{ item.Name }}</a>\n              </td>\n              <td>{{ item.CreatedAt | getisodate }}</td>\n              <td>\n                <span>\n                  <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No secret available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},71483:function(e){var t="app/docker/components/datatables/service-tasks-datatable/serviceTasksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="inner-datatable">\n  <table class="table table-condensed table-hover nowrap-cells">\n    <thead>\n      <tr>\n        <th uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.filters.state.open" class="w-[10%]">\n          <div class="flex">\n            <table-column-header\n              col-title="\'Status\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Status.State\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Status.State\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Status.State\')"\n            ></table-column-header>\n            <span class="space-left">\n              <span uib-dropdown-toggle class="table-filter" ng-if="!$ctrl.filters.state.enabled">Filter <i class="fa fa-filter" aria-hidden="true"></i></span>\n              <span uib-dropdown-toggle class="table-filter filter-active" ng-if="$ctrl.filters.state.enabled">Filter <i class="fa fa-check" aria-hidden="true"></i></span>\n            </span>\n            <div class="dropdown-menu" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Filter by state </div>\n                <div class="menuContent">\n                  <div class="md-checkbox" ng-repeat="filter in $ctrl.filters.state.values track by $index">\n                    <input id="filter_state_{{ $ctrl.serviceId }}_{{ $index }}" type="checkbox" ng-model="filter.display" ng-change="$ctrl.onStateFilterChange()" />\n                    <label for="filter_state_{{ $ctrl.serviceId }}_{{ $index }}">{{ filter.label }}</label>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </th>\n        <th style="width: 22%">Task</th>\n        <th>Actions</th>\n        <th>\n          <table-column-header\n            col-title="\'Slot\'"\n            can-sort="true"\n            is-sorted="$ctrl.state.orderBy === \'Slot\'"\n            is-sorted-desc="$ctrl.state.orderBy === \'Slot\' && $ctrl.state.reverseOrder"\n            ng-click="$ctrl.changeOrderBy(\'Slot\')"\n          ></table-column-header>\n        </th>\n        <th>\n          <table-column-header\n            col-title="\'Node\'"\n            can-sort="true"\n            is-sorted="$ctrl.state.orderBy === \'NodeId\'"\n            is-sorted-desc="$ctrl.state.orderBy === \'NodeId\' && $ctrl.state.reverseOrder"\n            ng-click="$ctrl.changeOrderBy(\'NodeId\')"\n          ></table-column-header>\n        </th>\n        <th>\n          <table-column-header\n            col-title="\'Last Update\'"\n            can-sort="true"\n            is-sorted="$ctrl.state.orderBy === \'Updated\'"\n            is-sorted-desc="$ctrl.state.orderBy === \'Updated\' && $ctrl.state.reverseOrder"\n            ng-click="$ctrl.changeOrderBy(\'Updated\')"\n          ></table-column-header>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        ng-repeat="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder))"\n      >\n        <td class="text-center">\n          <span class="label label-{{ item.Status.State | taskstatusbadge }} space-right">{{ item.Status.State }}</span>\n        </td>\n        <td>\n          <a ng-if="!$ctrl.agentProxy || !item.Container" ui-sref="docker.tasks.task({id: item.Id})" class="monospaced">{{ item.Id }}</a>\n          <a ng-if="$ctrl.agentProxy && item.Container" ui-sref="docker.containers.container({ id: item.Container.Id, nodeName: item.Container.NodeName })" class="monospaced">{{\n            item.Id\n          }}</a>\n        </td>\n        <td>\n          <container-quick-actions\n            ng-if="!$ctrl.agentProxy || !item.Container"\n            container-id="item.ContainerId"\n            task-id="item.Id"\n            status="item.Status.State"\n            state="$ctrl.state"\n          ></container-quick-actions>\n          <container-quick-actions\n            ng-if="$ctrl.agentProxy && item.Container"\n            container-id="item.Container.Id"\n            node-name="item.Container.NodeName"\n            status="item.Status.State"\n            state="$ctrl.state"\n          ></container-quick-actions>\n        </td>\n        <td>{{ item.Slot ? item.Slot : \'-\' }}</td>\n        <td>{{ item.NodeId | tasknodename: $ctrl.nodes }}</td>\n        <td>{{ item.Updated | getisodate }}</td>\n      </tr>\n      <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n        <td colspan="5" class="text-center text-muted">No task matching filter.</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),e.exports=t},62318:function(e){var t="app/docker/components/datatables/services-datatable/actions/servicesDatatableActions.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="actionBar !gap-3" authorization="DockerServiceUpdate, DockerServiceDelete, DockerServiceCreate">\n  <div class="btn-group" role="group" aria-label="...">\n    <button\n      ng-if="$ctrl.showUpdateAction"\n      type="button"\n      class="btn btn-sm btn-light h-fit"\n      authorization="DockerServiceUpdate"\n      ng-disabled="$ctrl.selectedItemCount === 0"\n      ng-click="$ctrl.updateAction($ctrl.selectedItems)"\n      data-cy="service-updateServiceButton"\n    >\n      <pr-icon icon="\'refresh-cw\'" feather="true"></pr-icon>Update\n    </button>\n    <button\n      type="button"\n      class="btn btn-sm btn-dangerlight h-fit"\n      authorization="DockerServiceDelete"\n      ng-disabled="$ctrl.selectedItemCount === 0"\n      ng-click="$ctrl.removeAction($ctrl.selectedItems)"\n      data-cy="service-removeServiceButton"\n    >\n      <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n    </button>\n  </div>\n  <button type="button" class="btn btn-sm btn-primary" ui-sref="docker.services.new" ng-if="$ctrl.showAddAction" authorization="DockerServiceCreate">\n    <i class="fa fa-plus space-right" aria-hidden="true"></i>Add service\n  </button>\n</div>\n')}]),e.exports=t},19610:function(e){var t="app/docker/components/datatables/services-datatable/servicesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a service..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="service-searchInput"\n          />\n        </div>\n        <services-datatable-actions\n          selected-items="$ctrl.state.selectedItems"\n          selected-item-count="$ctrl.state.selectedItemCount"\n          show-add-action="$ctrl.showAddAction"\n          show-update-action="$ctrl.showUpdateAction"\n          endpoint-id="$ctrl.endpointId"\n        ></services-datatable-actions>\n        <div class="settings">\n          <datatable-columns-visibility columns="$ctrl.columnVisibility.columns" on-change="($ctrl.onColumnVisibilityChange)"></datatable-columns-visibility>\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle aria-label="Settings">\n              <pr-icon icon="\'more-vertical\'" feather="true"></pr-icon>\n            </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th style="width: 55px">\n                <span class="md-checkbox" authorization="DockerServiceUpdate, DockerServiceDelete, DockerServiceCreate">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <a ng-click="$ctrl.expandAll()">\n                  <i ng-class="{ \'fas fa-angle-down\': $ctrl.state.expandAll, \'fas fa-angle-right\': !$ctrl.state.expandAll }" aria-hidden="true"></i>\n                </a>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th ng-if="$ctrl.showStackColumn">\n                <table-column-header\n                  col-title="\'Stack\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'StackName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'StackName\')"\n                ></table-column-header>\n              </th>\n              <th ng-show="$ctrl.columnVisibility.columns.image.display">\n                <table-column-header\n                  col-title="\'Image\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Image\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Image\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Scheduling Mode\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Mode\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Mode\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Mode\')"\n                ></table-column-header>\n              </th>\n              <th ng-show="$ctrl.columnVisibility.columns.ports.display">\n                <table-column-header\n                  col-title="\'Published Ports\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Ports\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Ports\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Ports\')"\n                ></table-column-header>\n              </th>\n              <th ng-show="$ctrl.columnVisibility.columns.updated.display">\n                <table-column-header\n                  col-title="\'Last Update\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'UpdatedAt\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'UpdatedAt\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'UpdatedAt\')"\n                ></table-column-header>\n              </th>\n              <th ng-show="$ctrl.columnVisibility.columns.ownership.display">\n                <table-column-header\n                  col-title="\'Ownership\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'ResourceControl.Ownership\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              ng-click="$ctrl.expandItem(item, !item.Expanded)"\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n              class="interactive"\n            >\n              <td>\n                <span class="md-checkbox" authorization="DockerServiceUpdate, DockerServiceDelete, DockerServiceCreate">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event); $event.stopPropagation()" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <i ng-class="{ \'fas fa-angle-down\': item.Expanded, \'fas fa-angle-right\': !item.Expanded }" class="space-right" aria-hidden="true"></i>\n              </td>\n              <td>\n                <button type="button" class="btn btn-link hover:no-underline !ml-0 p-0" ui-sref="docker.services.service({id: item.Id})" ng-click="$event.stopPropagation()">{{\n                  item.Name\n                }}</button>\n              </td>\n              <td ng-if="$ctrl.showStackColumn">{{ item.StackName ? item.StackName : \'-\' }}</td>\n              <td ng-show="$ctrl.columnVisibility.columns.image.display">{{ item.Image | hideshasum }}</td>\n              <td ng-controller="ServicesDatatableActionsController as actionCtrl">\n                {{ item.Mode }}\n                <code>{{ item.Tasks | runningtaskscount }}</code> / <code>{{ item.Mode === \'replicated\' ? item.Replicas : ($ctrl.nodes | availablenodecount: item) }}</code>\n                <span ng-if="item.Mode === \'replicated\' && !item.Scale" authorization="DockerServiceUpdate">\n                  <a class="interactive" ng-click="item.Scale = true; item.ReplicaCount = item.Replicas; $event.stopPropagation();">\n                    <i class="fa fa-arrows-alt-v" aria-hidden="true"></i> Scale\n                  </a>\n                </span>\n                <span ng-if="item.Mode === \'replicated\' && item.Scale">\n                  <input\n                    class="input-sm"\n                    type="number"\n                    min="0"\n                    step="1"\n                    ng-model="item.Replicas"\n                    on-enter-key="actionCtrl.scaleAction(item)"\n                    auto-focus\n                    ng-click="$event.stopPropagation();"\n                  />\n                  <a class="interactive" ng-click="item.Scale = false; $event.stopPropagation();"><i class="fa fa-times"></i></a>\n                  <a class="interactive" ng-click="actionCtrl.scaleAction(item); $event.stopPropagation();"><i class="fa fa-check-square"></i></a>\n                </span>\n              </td>\n              <td ng-show="$ctrl.columnVisibility.columns.ports.display">\n                <a\n                  ng-if="item.Ports && item.Ports.length > 0 && p.PublishedPort"\n                  ng-repeat="p in item.Ports"\n                  class="image-tag"\n                  ng-href="http://{{ $ctrl.endpointPublicUrl }}:{{ p.PublishedPort }}"\n                  target="_blank"\n                  ng-click="$event.stopPropagation();"\n                >\n                  <i class="fa fa-external-link-alt" aria-hidden="true"></i> {{ p.PublishedPort }}:{{ p.TargetPort }}\n                </a>\n                <span ng-if="!item.Ports || item.Ports.length === 0">-</span>\n              </td>\n              <td ng-show="$ctrl.columnVisibility.columns.updated.display">{{ item.UpdatedAt | getisodate }}</td>\n              <td ng-show="$ctrl.columnVisibility.columns.ownership.display">\n                <span>\n                  <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr dir-paginate-end ng-show="item.Expanded">\n              <td></td>\n              <td colspan="8">\n                <service-tasks-datatable\n                  dataset="item.Tasks"\n                  service-id="item.Id"\n                  table-key="service-tasks"\n                  order-by="Status.State"\n                  nodes="$ctrl.nodes"\n                  agent-proxy="$ctrl.agentProxy"\n                  show-task-logs-button="$ctrl.showTaskLogsButton"\n                  text-filter="$ctrl.state.textFilter"\n                ></service-tasks-datatable>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="8" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="8" class="text-center text-muted">No service available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},40381:function(e){var t="app/docker/components/datatables/tasks-datatable/tasksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a task..."\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Status\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Status\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Status\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Id\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Id\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Id\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Id\')"\n                ></table-column-header>\n              </th>\n              <th>Actions</th>\n              <th ng-if="$ctrl.showSlotColumn">\n                <table-column-header\n                  col-title="\'Slot\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Slot\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Slot\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Slot\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Node\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'NodeId\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'NodeId\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'NodeId\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Last Update\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Updated\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Updated\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Updated\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td\n                ><span class="label label-{{ item.Status.State | taskstatusbadge }}">{{ item.Status.State }}</span></td\n              >\n              <td>\n                <a ng-if="!$ctrl.agentProxy || !item.Container" ui-sref="docker.tasks.task({id: item.Id})" class="monospaced"\n                  >{{ item.ServiceName }}{{ item.Slot ? \'.\' + item.Slot : \'\' }}{{ \'.\' + item.Id }}</a\n                >\n                <a ng-if="$ctrl.agentProxy && item.Container" ui-sref="docker.containers.container({ id: item.Container.Id, nodeName: item.Container.NodeName })" class="monospaced"\n                  >{{ item.ServiceName }}{{ item.Slot ? \'.\' + item.Slot : \'\' }}{{ \'.\' + item.Id }}</a\n                >\n              </td>\n              <td>\n                <container-quick-actions\n                  ng-if="!$ctrl.agentProxy || !item.Container"\n                  container-id="item.ContainerId"\n                  task-id="item.Id"\n                  status="item.Status.State"\n                  state="$ctrl.state"\n                ></container-quick-actions>\n                <container-quick-actions\n                  ng-if="$ctrl.agentProxy && item.Container"\n                  container-id="item.Container.Id"\n                  node-name="item.Container.NodeName"\n                  status="item.Status.State"\n                  state="$ctrl.state"\n                ></container-quick-actions>\n              </td>\n              <td ng-if="$ctrl.showSlotColumn">{{ item.Slot ? item.Slot : \'-\' }}</td>\n              <td>{{ item.NodeId | tasknodename: $ctrl.nodes }}</td>\n              <td>{{ item.Updated | getisodate }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="6" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="6" class="text-center text-muted">No task available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},43761:function(e){var t="app/docker/components/datatables/volumes-datatable/volumesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a volume..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="volume-searchInput"\n          />\n        </div>\n        <div class="actionBar !gap-3" ng-if="!$ctrl.offlineMode" authorization="DockerVolumeDelete, DockerVolumeCreate">\n          <button\n            type="button"\n            class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n            authorization="DockerVolumeDelete"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="volume-removeVolumeButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true" class="leading-none"></pr-icon>Remove\n          </button>\n          <button\n            type="button"\n            class="btn btn-sm btn-primary h-fit vertical-center !ml-0"\n            ui-sref="docker.volumes.new"\n            authorization="DockerVolumeCreate"\n            data-cy="volume-addVolumeButton"\n          >\n            <pr-icon icon="\'plus\'" feather="true" class="leading-none"></pr-icon>Add volume\n          </button>\n        </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle aria-label="Settings">\n              <pr-icon icon="\'more-vertical\'" feather="true"></pr-icon>\n            </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span class="inline-block w-3">\n                        <pr-icon id="refreshRateChange" icon="\'check\'" style="display: none" mode="\'success\'" feather="true"></pr-icon>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover table-filters nowrap-cells">\n          <thead>\n            <tr>\n              <th uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.filters.state.open" class="flex gap-1">\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode" authorization="DockerVolumeDelete, DockerVolumeCreate">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Id\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Id\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Id\')"\n                ></table-column-header>\n                <span uib-dropdown-toggle class="table-filter flex gap-1 self-end" ng-if="!$ctrl.filters.state.enabled"\n                  >Filter <pr-icon icon="\'filter\'" feather="true"></pr-icon\n                ></span>\n                <span uib-dropdown-toggle class="table-filter filter-active flex gap-1 self-end" ng-if="$ctrl.filters.state.enabled"\n                  >Filter <pr-icon icon="\'check\'" feather="true"></pr-icon\n                ></span>\n                <div class="dropdown-menu" uib-dropdown-menu>\n                  <div class="tableMenu">\n                    <div class="menuHeader"> Filter by usage </div>\n                    <div class="menuContent">\n                      <div class="md-checkbox">\n                        <input id="filter_usage_usedImages" type="checkbox" ng-model="$ctrl.filters.state.showUsedVolumes" ng-change="$ctrl.onstateFilterChange()" />\n                        <label for="filter_usage_usedImages">Used volumes</label>\n                      </div>\n                      <div class="md-checkbox">\n                        <input id="filter_usage_unusedImages" type="checkbox" ng-model="$ctrl.filters.state.showUnusedVolumes" ng-change="$ctrl.onstateFilterChange()" />\n                        <label for="filter_usage_unusedImages">Unused volumes</label>\n                      </div>\n                    </div>\n                    <div>\n                      <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;">Close</a>\n                    </div>\n                  </div>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Stack\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'StackName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'StackName\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Driver\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Driver\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Driver\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Driver\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Mount point\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Mountpoint\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Mountpoint\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Mountpoint\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Created\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CreatedAt\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CreatedAt\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CreatedAt\')"\n                ></table-column-header>\n              </th>\n              <th ng-if="$ctrl.showHostColumn">\n                <table-column-header\n                  col-title="\'Host\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'NodeName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'NodeName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'NodeName\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Ownership\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'ResourceControl.Ownership\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode" authorization="DockerVolumeDelete, DockerVolumeCreate">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ng-if="!$ctrl.offlineMode" ui-sref="docker.volumes.volume({ id: item.Id, nodeName: item.NodeName })" class="monospaced" title="{{ item.Id }}">{{\n                  item.Id | truncate: 40\n                }}</a>\n                <span ng-if="$ctrl.offlineMode">{{ item.Id | truncate: 40 }}</span>\n\n                <button\n                  ng-if="$ctrl.showBrowseAction && !$ctrl.offlineMode"\n                  type="button"\n                  ui-sref="docker.volumes.volume.browse({ id: item.Id, nodeName: item.NodeName })"\n                  class="btn btn-xs btn-primary space-left"\n                  authorization="DockerAgentBrowseList"\n                >\n                  <pr-icon icon="\'search\'" feather="true"></pr-icon> browse\n                </button>\n\n                <span style="margin-left: 10px" class="label label-warning image-tag space-left" ng-if="item.dangling">Unused</span>\n              </td>\n              <td>{{ item.StackName ? item.StackName : \'-\' }}</td>\n              <td>{{ item.Driver }}</td>\n              <td>{{ item.Mountpoint | truncatelr }}</td>\n              <td>{{ item.CreatedAt | getisodate }}</td>\n              <td ng-if="$ctrl.showHostColumn">{{ item.NodeName ? item.NodeName : \'-\' }}</td>\n              <td>\n                <span>\n                  <i ng-class="item.ResourceControl.Ownership | ownershipicon" aria-hidden="true"></i>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="6" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="6" class="text-center text-muted">No volume available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},9831:function(e){var t="app/docker/components/host-overview/host-overview.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Host overview\'" breadcrumbs="[\'Docker\']" reload="true"> </page-header>\n\n<information-panel-offline ng-if="$ctrl.offlineMode"></information-panel-offline>\n\n<host-details-panel\n  host="$ctrl.hostDetails"\n  is-browse-enabled="$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled"\n  browse-url="{{ $ctrl.browseUrl }}"\n></host-details-panel>\n\n<engine-details-panel engine="$ctrl.engineDetails"></engine-details-panel>\n\n<devices-panel ng-if="$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled" devices="$ctrl.devices"></devices-panel>\n<disks-panel ng-if="$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled" disks="$ctrl.disks"></disks-panel>\n\n<ng-transclude></ng-transclude>\n')}]),e.exports=t},56797:function(e){var t="app/docker/components/host-view-panels/devices-panel/devices-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="code" feather-icon="true" title-text="PCI Devices"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Vendor</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-if="$ctrl.devices && $ctrl.devices.length" ng-repeat="device in $ctrl.devices">\n              <td>{{ device.Name }}</td>\n              <td>{{ device.Vendor }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.devices">\n              <td colspan="2" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.devices.length === 0">\n              <td colspan="2" class="text-center text-muted"> No device available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},37287:function(e){var t="app/docker/components/host-view-panels/disks-panel/disks-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="code" feather-icon="true" title-text="Physical Disks"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <thead>\n            <tr>\n              <th>Vendor</th>\n              <th>Size</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-if="$ctrl.disks" ng-repeat="disk in $ctrl.disks">\n              <td>{{ disk.Vendor }}</td>\n              <td>{{ disk.Size | humansize }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.disks">\n              <td colspan="2" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.disks.length === 0">\n              <td colspan="2" class="text-center text-muted"> No disks available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},63509:function(e){var t="app/docker/components/host-view-panels/engine-details-panel/engine-details-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="code" feather-icon="true" title-text="Engine Details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Version</td>\n              <td\n                >{{ $ctrl.engine.releaseVersion }} <span ng-if="$ctrl.engine.apiVersion">(API: {{ $ctrl.engine.apiVersion }})</span></td\n              >\n            </tr>\n            <tr ng-if="$ctrl.engine.rootDirectory">\n              <td>Root directory</td>\n              <td>{{ $ctrl.engine.rootDirectory }}</td>\n            </tr>\n            <tr ng-if="$ctrl.engine.storageDriver">\n              <td>Storage Driver</td>\n              <td>{{ $ctrl.engine.storageDriver }}</td>\n            </tr>\n            <tr ng-if="$ctrl.engine.loggingDriver">\n              <td>Logging Driver</td>\n              <td>{{ $ctrl.engine.loggingDriver }}</td>\n            </tr>\n            <tr>\n              <td>Volume Plugins</td>\n              <td>{{ $ctrl.engine.volumePlugins | arraytostr: \', \' }}</td>\n            </tr>\n            <tr>\n              <td>Network Plugins</td>\n              <td>{{ $ctrl.engine.networkPlugins | arraytostr: \', \' }}</td>\n            </tr>\n            <tr ng-if="$ctrl.engine.engineLabels.length">\n              <td>Engine Labels</td>\n              <td>{{ $ctrl.engine.engineLabels | labelsToStr: \', \' }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},97106:function(e){var t="app/docker/components/host-view-panels/host-details-panel/host-details-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="code" feather-icon="true" title-text="Host Details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Hostname</td>\n              <td>{{ $ctrl.host.name }}</td>\n            </tr>\n            <tr ng-if="$ctrl.host.os">\n              <td>OS Information</td>\n              <td>{{ $ctrl.host.os.type }} {{ $ctrl.host.os.arch }} {{ $ctrl.host.os.name }}</td>\n            </tr>\n            <tr ng-if="$ctrl.host.kernelVersion">\n              <td>Kernel Version</td>\n              <td>{{ $ctrl.host.kernelVersion }}</td>\n            </tr>\n            <tr>\n              <td>Total CPU</td>\n              <td>{{ $ctrl.host.totalCPU }}</td>\n            </tr>\n            <tr>\n              <td>Total memory</td>\n              <td>{{ $ctrl.host.totalMemory | humansize }}</td>\n            </tr>\n            <tr ng-if="$ctrl.isBrowseEnabled">\n              <td colspan="2">\n                <button class="btn btn-primary btn-sm" title="Browse" ui-sref="{{ $ctrl.browseUrl }}"> Browse </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},7762:function(e){var t="app/docker/components/host-view-panels/node-availability-select/node-availability-select.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="input-group input-group-sm">\n  <select name="nodeAvailability" class="selectpicker form-control" ng-model="$ctrl.availability" ng-change="$ctrl.onChange()">\n    <option value="active">Active</option>\n    <option value="pause">Pause</option>\n    <option value="drain">Drain</option>\n  </select>\n</div>\n')}]),e.exports=t},642:function(e){var t="app/docker/components/host-view-panels/node-labels-table/node-labels-table.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="!$ctrl.labels.length"> There are no labels for this node. </div>\n\n<div class="col-sm-12 form-inline !p-0" ng-if="$ctrl.labels.length">\n  <div ng-repeat="label in $ctrl.labels" class="mt-1">\n    <div class="input-group col-sm-5 input-group-sm">\n      <span class="input-group-addon">name</span>\n      <input type="text" class="form-control" ng-model="label.key" placeholder="e.g. com.example.foo" ng-change="$ctrl.updateLabel(label)" />\n    </div>\n    <div class="input-group col-sm-5 input-group-sm">\n      <span class="input-group-addon">value</span>\n      <input type="text" class="form-control" ng-model="label.value" placeholder="e.g. bar" ng-change="$ctrl.updateLabel(label)" />\n    </div>\n    <button class="btn btn-light" type="button" ng-click="$ctrl.removeLabel($index)">\n      <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n    </button>\n  </div>\n</div>\n')}]),e.exports=t},92156:function(e){var t="app/docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="code" feather-icon="true" title-text="Node Details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr ng-if="$ctrl.details.name">\n              <td>Node name</td>\n              <td>{{ $ctrl.details.name }}</td>\n            </tr>\n            <tr>\n              <td>Role</td>\n              <td>{{ $ctrl.details.role }} {{ $ctrl.state.managerAddress }}</td>\n            </tr>\n            <tr>\n              <td>Availability</td>\n              <td>\n                <node-availability-select\n                  on-save="$ctrl.updateNodeAvailability(availability)"\n                  availability="$ctrl.details.availability"\n                  original-value="$ctrl.details.availability"\n                >\n                </node-availability-select>\n              </td>\n            </tr>\n            <tr>\n              <td>Status</td>\n              <td\n                ><span class="label label-{{ $ctrl.details.status | nodestatusbadge }}">{{ $ctrl.details.status }}</span></td\n              >\n            </tr>\n            <tr>\n              <td>\n                <div class="nopadding">\n                  <a class="btn btn-secondary btn-sm pull-right" ng-click="$ctrl.addLabel(node)"> <pr-icon icon="\'plus\'" feather="true"></pr-icon> label </a>\n                </div>\n                Node Labels\n              </td>\n              <td></td>\n            </tr>\n            <tr>\n              <td colspan="2">\n                <node-labels-table labels="$ctrl.details.nodeLabels" on-changed-labels="$ctrl.updateNodeLabels(labels)"></node-labels-table>\n              </td>\n            </tr>\n            <tr>\n              <td colspan="2">\n                <div class="btn-toolbar" role="toolbar">\n                  <div class="btn-group" role="group">\n                    <button type="button" class="btn btn-primary btn-sm" ng-disabled="!$ctrl.state.hasChanges" ng-click="$ctrl.saveChanges()"> Apply changes </button>\n                    <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                      <span class="caret"></span>\n                    </button>\n                    <ul class="dropdown-menu">\n                      <li><a ng-click="$ctrl.cancelChanges()">Reset changes</a></li>\n                    </ul>\n                  </div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},52388:function(e){var t="app/docker/components/imageRegistry/por-image-registry-rate-limits.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group" ng-if="$ctrl.pullRateLimits">\n  <div class="col-sm-12 small">\n    <div ng-if="$ctrl.pullRateLimits.remaining > 0" class="text-muted vertical-center">\n      <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n      <span ng-if="$ctrl.isAuthenticated">\n        You are currently using a free account to pull images from DockerHub and will be limited to 200 pulls every 6 hours. Remaining pulls:\n        <span style="font-weight: bold">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\n      </span>\n      <span ng-if="!$ctrl.isAuthenticated">\n        <span ng-if="$ctrl.isAdmin">\n          You are currently using an anonymous account to pull images from DockerHub and will be limited to 100 pulls every 6 hours. You can configure DockerHub authentication in\n          the\n          <a ui-sref="portainer.registries">Registries View</a>. Remaining pulls:\n          <span style="font-weight: bold">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\n        </span>\n        <span ng-if="!$ctrl.isAdmin">\n          You are currently using an anonymous account to pull images from DockerHub and will be limited to 100 pulls every 6 hours. Contact your administrator to configure\n          DockerHub authentication. Remaining pulls: <span style="font-weight: bold">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\n        </span>\n      </span>\n    </div>\n    <div ng-if="$ctrl.pullRateLimits.remaining <= 0" class="text-warning vertical-center">\n      <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n      <span ng-if="$ctrl.isAuthenticated">\n        Your authorized pull count quota as a free user is now exceeded.\n        <span ng-transclude="rateLimitExceeded">You will not be able to pull any image from the DockerHub registry.</span>\n      </span>\n      <span ng-if="!$ctrl.isAuthenticated">\n        Your authorized pull count quota as an anonymous user is now exceeded.\n        <span ng-transclude="rateLimitExceeded">You will not be able to pull any image from the DockerHub registry.</span>\n      </span>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},50331:function(e){var t="app/docker/components/imageRegistry/por-image-registry.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- use registry --\x3e\n<div class="row">\n  <div class="form-group" ng-if="$ctrl.model.UseRegistry">\n    <label for="image_registry" class="control-label text-left col-sm-3 col-lg-2" ng-class="$ctrl.labelClass"> Registry </label>\n    <div ng-class="$ctrl.inputClass" class="col-sm-8">\n      <select\n        ng-options="registry as registry.Name for registry in $ctrl.registries track by registry.Id"\n        ng-model="$ctrl.model.Registry"\n        id="image_registry"\n        class="form-control"\n        data-cy="component-registrySelect"\n      ></select>\n    </div>\n  </div>\n  <div class="form-group" ng-if="$ctrl.model.UseRegistry">\n    <label for="image_name" ng-class="$ctrl.labelClass" class="control-label text-left col-sm-3 col-lg-2 required">Image</label>\n    <div ng-class="$ctrl.inputClass" class="col-sm-8">\n      <div class="input-group">\n        <span class="input-group-addon" id="registry-name">{{ $ctrl.displayedRegistryURL() }}</span>\n        <input\n          type="text"\n          class="form-control"\n          aria-describedby="registry-name"\n          uib-typeahead="image for image in $ctrl.availableImages | filter:$viewValue | limitTo:5"\n          ng-model="$ctrl.model.Image"\n          name="image_name"\n          placeholder="e.g. my-image:my-tag"\n          ng-change="$ctrl.onImageChange()"\n          required\n          data-cy="component-imageInput"\n        />\n        <span ng-if="$ctrl.isDockerHubRegistry()" class="input-group-btn">\n          <a\n            href="https://hub.docker.com/search?type=image&q={{ $ctrl.model.Image | trimshasum | trimversiontag }}"\n            class="btn btn-default vertical-center"\n            title="Search image on Docker Hub"\n            target="_blank"\n          >\n            <pr-icon icon="\'svg-docker\'" size="\'lg\'"></pr-icon> Search\n          </a>\n        </span>\n      </div>\n    </div>\n  </div>\n  \x3c!-- ! use registry --\x3e\n  \x3c!-- don\'t use registry --\x3e\n  <div ng-if="!$ctrl.model.UseRegistry">\n    <div class="form-group">\n      <span class="small">\n        <p class="text-muted ml-4"> When using advanced mode, image and repository <b>must be</b> publicly available. </p>\n      </span>\n      <label for="image_name" ng-class="$ctrl.labelClass" class="control-label text-left col-sm-3 col-lg-2 required">Image </label>\n      <div ng-class="$ctrl.inputClass" class="col-sm-8">\n        <input type="text" class="form-control" ng-model="$ctrl.model.Image" name="image_name" placeholder="e.g. registry:port/my-image:my-tag" required />\n      </div>\n    </div>\n  </div>\n  \x3c!-- ! don\'t use registry --\x3e\n  \x3c!-- info message --\x3e\n  <div class="form-group" ng-show="$ctrl.form.image_name.$invalid">\n    <div class="small">\n      <div class="col-sm-3 col-lg-2"></div>\n      <div class="col-sm-8" ng-messages="$ctrl.form.image_name.$error">\n        <p class="text-warning vertical-center" ng-message="required">\n          <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true" class="vertical-center"></pr-icon> Image name is required.\n          <span ng-if="$ctrl.canPull">Tag must be specified otherwise Portainer will pull all tags associated to the image.</span>\n        </p>\n      </div>\n    </div>\n  </div>\n  \x3c!-- ! info message --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button type="button" class="btn btn-link btn-sm hover:no-underline !ml-0 p-0 vertical-center" ng-if="!$ctrl.model.UseRegistry" ng-click="$ctrl.model.UseRegistry = true;">\n        <pr-icon icon="\'database\'" feather="true"> </pr-icon> Simple mode\n      </button>\n      <button type="button" class="btn btn-link btn-sm hover:no-underline !ml-0 p-0 vertical-center" ng-if="$ctrl.model.UseRegistry" ng-click="$ctrl.model.UseRegistry = false;">\n        <pr-icon icon="\'globe\'" feather="true"> </pr-icon> Advanced mode\n      </button>\n    </div>\n  </div>\n\n  <div ng-transclude></div>\n\n  <por-image-registry-rate-limits\n    ng-if="$ctrl.checkRateLimits && $ctrl.isDockerHubRegistry()"\n    endpoint="$ctrl.endpoint"\n    registry="$ctrl.model.Registry"\n    set-validity="$ctrl.setValidity"\n    is-authenticated="$ctrl.model.Registry.Authentication"\n    is-admin="$ctrl.isAdmin"\n    registry-id="$ctrl.model.Registry.Id"\n  >\n  </por-image-registry-rate-limits>\n</div>\n')}]),e.exports=t},85759:function(e){var t="app/docker/components/log-viewer/logViewer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="file" feather-icon="true" title-text="Log viewer settings"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-2\'"\n                checked="$ctrl.state.logCollection"\n                label="\'Auto-refresh logs\'"\n                tooltip="\'Disabling this option allows you to pause the log collection process and the auto-scrolling.\'"\n                on-change="($ctrl.handleLogsCollectionChange)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field label-class="\'col-sm-2\'" checked="$ctrl.state.wrapLines" label="\'Wrap lines\'" on-change="($ctrl.handleLogsWrapLinesChange)"></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-2\'"\n                checked="$ctrl.displayTimestamps"\n                label="\'Display timestamps\'"\n                on-change="($ctrl.handleDisplayTimestampsChange)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="logs_since" class="col-sm-2 control-label text-left"> Fetch </label>\n            <div class="col-sm-2">\n              <select class="form-control" ng-model="$ctrl.sinceTimestamp" id="logs_since">\n                <option selected value="">All logs</option>\n                <option ng-repeat="dt in $ctrl.state.availableSinceDatetime" ng-value="dt.value" title="{{ dt.value }}">{{ dt.desc }}</option>\n              </select>\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="logs_search" class="col-sm-2 control-label text-left"> Search </label>\n            <div class="col-sm-8">\n              <input class="form-control" type="text" name="logs_search" ng-model="$ctrl.state.search" ng-change="$ctrl.state.selectedLines.length = 0;" placeholder="Filter..." />\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="lines_count" class="col-sm-2 control-label text-left"> Lines </label>\n            <div class="col-sm-8">\n              <input class="form-control" type="number" name="lines_count" ng-model="$ctrl.lineCount" placeholder="Enter no of lines..." />\n            </div>\n          </div>\n          <div class="form-group" ng-if="$ctrl.state.copySupported">\n            <label class="col-sm-2 control-label text-left"> Actions </label>\n            <div class="col-sm-10">\n              <button class="btn btn-primary btn-sm" type="button" ng-click="$ctrl.downloadLogs()" style="margin-left: 0"\n                ><pr-icon icon="\'download\'" feather="true"></pr-icon> Download logs</button\n              >\n              <button\n                class="btn btn-primary btn-sm"\n                ng-click="$ctrl.copy()"\n                ng-disabled="($ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line) || !$ctrl.state.filteredLogs.length"\n                ><pr-icon icon="\'copy\'" feather="true" class-name="space-right"></pr-icon>Copy</button\n              >\n              <button\n                class="btn btn-primary btn-sm"\n                ng-click="$ctrl.copySelection()"\n                ng-disabled="($ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line) || !$ctrl.state.filteredLogs.length || !$ctrl.state.selectedLines.length"\n                ><pr-icon icon="\'copy\'" feather="true" class-name="space-right"></pr-icon>Copy selected lines</button\n              >\n              <button class="btn btn-primary btn-sm" ng-click="$ctrl.clearSelection()" ng-disabled="$ctrl.state.selectedLines.length === 0"\n                ><pr-icon icon="\'x\'" feather="true" class-name="space-right"></pr-icon>Unselect</button\n              >\n              <span>\n                <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i>\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" style="height: 54%">\n  <div class="col-sm-12" style="height: 100%">\n    <pre ng-class="{ wrap_lines: $ctrl.state.wrapLines }" class="log_viewer" scroll-glue="$ctrl.state.autoScroll" force-glue>\n      <div ng-repeat="log in $ctrl.state.filteredLogs = ($ctrl.data | filter:{ \'line\': $ctrl.state.search }) track by $index" class="line" ng-if="log.line"><p class="inner_line" ng-click="$ctrl.selectLine(log.line)" ng-class="{ \'line_selected\': $ctrl.state.selectedLines.indexOf(log.line) > -1 }"><span ng-repeat="span in log.spans track by $index" ng-style="{ \'color\': span.fgColor, \'background-color\': span.bgColor, \'font-weight\': span.fontWeight }">{{ span.text }}</span></p></div>\n      <div ng-if="!$ctrl.state.filteredLogs.length" class="line"><p class="inner_line">No log line matching the \'{{ $ctrl.state.search }}\' filter</p></div>\n      <div ng-if="$ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line" class="line"><p class="inner_line">No logs available</p></div>\n    </pre>\n  </div>\n</div>\n')}]),e.exports=t},23614:function(e){var t="app/docker/components/network-macvlan-form/networkMacvlanForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div class="col-sm-12 form-section-title"> Macvlan configuration </div>\n  \x3c!-- selector --\x3e\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small vertical-center">\n      <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n      To create a MACVLAN network you need to create a configuration, then create the network from this configuration.\n    </span>\n  </div>\n  <div class="col-sm-12">\n    <div class="form-group">\n      <div class="boxselector_wrapper">\n        <div>\n          <input type="radio" id="network_config" ng-model="$ctrl.data.Scope" value="local" />\n          <label for="network_config">\n            <div class="boxselector_header">\n              <pr-icon icon="\'sliders\'" feather="true"></pr-icon>\n              Configuration\n            </div>\n            <p>I want to configure a network before deploying it</p>\n          </label>\n        </div>\n        <div>\n          <input type="radio" id="network_deploy" ng-model="$ctrl.data.Scope" value="swarm" ng-disabled="$ctrl.availableNetworks.length === 0" />\n          <label for="network_deploy" ng-class="$ctrl.availableNetworks.length === 0 ? \'boxselector_disabled\' : \'\'">\n            <div class="boxselector_header">\n              <pr-icon icon="\'share-2\'" feather="true"></pr-icon>\n              Creation\n            </div>\n            <p>I want to create a network from a configuration</p>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !selector --\x3e\n\n  <ng-form name="macvlanConfigurationForm">\n    \x3c!-- configuration-inputs --\x3e\n    <div ng-show="$ctrl.data.Scope === \'local\'">\n      \x3c!-- network-card-input --\x3e\n      <div class="form-group">\n        <label for="network_card" class="col-sm-3 col-lg-2 control-label text-left">Parent network card</label>\n        <div class="col-sm-9 col-lg-10">\n          <input\n            type="text"\n            class="form-control"\n            name="network_card"\n            ng-model="$ctrl.data.ParentNetworkCard"\n            placeholder="e.g. eth0 or ens160 ..."\n            ng-required="$ctrl.data.Scope === \'local\' && !$ctrl.data.ParentNetworkCard"\n          />\n        </div>\n      </div>\n      <div class="form-group" ng-show="macvlanConfigurationForm.network_card.$invalid">\n        <div class="col-sm-12 small text-warning">\n          <div ng-messages="macvlanConfigurationForm.network_card.$error">\n            <p ng-message="required" class="vertical-center"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Parent network card must be specified.</p>\n          </div>\n        </div>\n      </div>\n      \x3c!-- network-card-input --\x3e\n      \x3c!-- nodes-selector --\x3e\n      <div ng-if="$ctrl.applicationState.endpoint.mode.agentProxy && $ctrl.applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n        <div class="form-group">\n          <div class="col-sm-12">\n            <macvlan-nodes-datatable\n              title-text="Select the nodes where you want to deploy the local configuration"\n              title-icon="fa-hdd"\n              dataset="$ctrl.nodes"\n              table-key="nodes"\n              state="$ctrl.data.DatatableState"\n              order-by="Hostname"\n              show-ip-address-column="$ctrl.applicationState.endpoint.apiVersion >= 1.25"\n              access-to-node-details="$ctrl.isAdmin"\n              name="node_selector"\n              ng-model="tmp"\n              ng-required="$ctrl.requiredNodeSelection()"\n            ></macvlan-nodes-datatable>\n          </div>\n        </div>\n        <div class="form-group" ng-show="macvlanConfigurationForm.node_selector.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="macvlanConfigurationForm.node_selector.$error">\n              <p ng-message="required" class="vertical-center"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> At least one node must be selected.</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      \x3c!-- !nodes-selector --\x3e\n    </div>\n    \x3c!-- configuration-inputs --\x3e\n    \x3c!-- deploy-inputs --\x3e\n    <div ng-show="$ctrl.data.Scope === \'swarm\'">\n      \x3c!-- configuration-selector --\x3e\n      \x3c!-- network-input --\x3e\n      <div class="form-group">\n        <label for="config_network" class="col-sm-3 col-lg-2 control-label text-left">Configuration</label>\n        <div class="col-sm-9 col-lg-10">\n          <select\n            class="form-control"\n            ng-options="net.Name for net in $ctrl.availableNetworks"\n            ng-model="$ctrl.data.SelectedNetworkConfig"\n            name="config_network"\n            ng-required="$ctrl.requiredConfigSelection()"\n          >\n            <option selected disabled hidden value="">Select a network</option>\n          </select>\n        </div>\n      </div>\n      \x3c!-- !network-input --\x3e\n      <div class="form-group" ng-show="macvlanConfigurationForm.config_network.$invalid">\n        <div class="col-sm-12 small text-warning">\n          <div ng-messages="macvlanConfigurationForm.config_network.$error">\n            <p ng-message="required" class="vertical-center"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Select a configuration network.</p>\n          </div>\n        </div>\n      </div>\n      \x3c!-- !configuration-selector --\x3e\n    </div>\n    \x3c!-- deploy-inputs --\x3e\n  </ng-form>\n</div>\n')}]),e.exports=t},79420:function(e){var t="app/docker/components/volumesCIFSForm/volumesCifsForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- CIFS-settings --\x3e\n<div ng-show="$ctrl.data.useCIFS">\n  <ng-form class="form-horizontal" name="cifsInformationForm">\n    <div class="col-sm-12 form-section-title"> CIFS Settings </div>\n    \x3c!-- address-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="cifs_address" class="col-sm-2 col-md-1 control-label text-left required">Address</label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.serverAddress" name="cifs_address" placeholder="e.g. my.cifs-server.com OR xxx.xxx.xxx.xxx" required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="cifsInformationForm.cifs_address.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="cifsInformationForm.cifs_address.$error">\n          <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !address-input --\x3e\n    \x3c!-- mount-point-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="cifs_share" class="col-sm-2 col-md-1 control-label text-left required">Share</label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.share" name="cifs_share" placeholder="e.g. /myshare" required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="cifsInformationForm.cifs_share.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="cifsInformationForm.cifs_share.$error">\n          <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !mount-point-input --\x3e\n    \x3c!-- version-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="cifs_version" class="col-sm-2 col-md-1 control-label text-left">CIFS Version</label>\n      <div class="col-sm-10 col-md-11">\n        <select class="form-control" ng-model="$ctrl.data.version" name="cifs_version" ng-options="version for version in $ctrl.data.versions" required></select>\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="cifsInformationForm.cifs_version.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="cifsInformationForm.cifs_version.$error">\n          <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !version-input --\x3e\n    \x3c!-- username --\x3e\n    <div class="form-group col-md-12">\n      <label for="cifs_username" class="col-sm-2 col-md-1 control-label text-left required">Username</label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.username" name="cifs_username" required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="cifsInformationForm.cifs_username.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="cifsInformationForm.cifs_username.$error">\n          <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !username --\x3e\n    \x3c!-- password --\x3e\n    <div class="form-group col-md-12">\n      <label for="cifs_password" class="col-sm-2 col-md-1 control-label text-left">Password</label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.password" name="cifs_password" required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="cifsInformationForm.password.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="cifsInformationForm.cifs_password.$error">\n          <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !password --\x3e\n  </ng-form>\n</div>\n\x3c!-- !CIFS-settings --\x3e\n')}]),e.exports=t},93886:function(e){var t="app/docker/components/volumesNFSForm/volumesnfsForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- NFS-settings --\x3e\n<div ng-show="$ctrl.data.useNFS">\n  <ng-form class="form-horizontal" name="nfsInformationForm">\n    <div class="col-sm-12 form-section-title"> NFS Settings </div>\n    \x3c!-- address-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="nfs_address" class="col-sm-2 col-md-1 control-label text-left required">Address</label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.serverAddress" name="nfs_address" placeholder="e.g. my.nfs-server.com OR xxx.xxx.xxx.xxx" required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="nfsInformationForm.nfs_address.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="nfsInformationForm.nfs_address.$error">\n          <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !address-input --\x3e\n    \x3c!-- version-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="nfs_version" class="col-sm-2 col-md-1 control-label text-left">NFS Version</label>\n      <div class="col-sm-10 col-md-11">\n        <select class="form-control" ng-model="$ctrl.data.version" name="nfs_version" ng-options="version for version in $ctrl.data.versions" required></select>\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="nfsInformationForm.nfs_version.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="nfsInformationForm.nfs_version.$error">\n          <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !version-input --\x3e\n    \x3c!-- mount-point-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="nfs_mountpoint" class="col-sm-2 col-md-1 control-label text-left required">Mount point</label>\n      <div class="col-sm-10 col-md-11">\n        <input\n          type="text"\n          class="form-control"\n          ng-model="$ctrl.data.mountPoint"\n          name="nfs_mountpoint"\n          placeholder="e.g. /export/share, :/export/share, /share or :/share"\n          required\n        />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="nfsInformationForm.nfs_mountpoint.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="nfsInformationForm.nfs_mountpoint.$error">\n          <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !mount-point-input --\x3e\n    \x3c!-- options-input --\x3e\n    <div class="form-group col-md-12">\n      <label for="nfs_options" class="col-sm-2 col-md-1 control-label text-left"\n        >Options\n        <portainer-tooltip message="\'Comma separated list of options\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-10 col-md-11">\n        <input type="text" class="form-control" ng-model="$ctrl.data.options" name="nfs_options" placeholder="e.g. rw,noatime,tcp ..." required />\n      </div>\n    </div>\n    <div class="form-group col-md-12" ng-show="nfsInformationForm.nfs_options.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="nfsInformationForm.nfs_options.$error">\n          <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !options-input --\x3e\n  </ng-form>\n</div>\n\x3c!-- !NFS-settings --\x3e\n')}]),e.exports=t},66188:function(e){var t="app/docker/views/configs/configs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Configs list\'" breadcrumbs="[\'Configs\']" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <configs-datatable\n      title-text="Configs"\n      title-icon="clipboard"\n      dataset="ctrl.configs"\n      table-key="configs"\n      order-by="Name"\n      remove-action="ctrl.removeAction"\n      refresh-callback="ctrl.getConfigs"\n    ></configs-datatable>\n  </div>\n</div>\n')}]),e.exports=t},20641:function(e){var t="app/docker/views/configs/create/createconfig.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create config\'" breadcrumbs="[{label:\'Configs\', link:\'docker.configs\'}, \'Add config\']"> </page-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="config_name" class="col-sm-1 control-label text-left">Name</label>\n            <div class="col-sm-11">\n              <input type="text" class="form-control" ng-model="ctrl.formValues.Name" id="config_name" placeholder="e.g. myConfig" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- config-data --\x3e\n          <div class="form-group">\n            <div class="col-sm-12" ng-if="ctrl.formValues.displayCodeEditor">\n              <web-editor-form\n                identifier="config-creation-editor"\n                placeholder="Define or paste the content of your config here"\n                yml="false"\n                on-change="(ctrl.editorUpdate)"\n                value="ctrl.formValues.Data"\n              ></web-editor-form>\n            </div>\n          </div>\n          \x3c!-- !config-data --\x3e\n          \x3c!-- labels --\x3e\n          <div class="form-group">\n            <div class="col-sm-12 mt-1">\n              <label class="control-label text-left space-right">Labels</label>\n              <span class="label label-default interactive vertical-center space-left" ng-click="ctrl.addLabel()">\n                <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add label\n              </span>\n            </div>\n            \x3c!-- labels-input-list --\x3e\n            <div class="col-sm-12 form-inline mt-2">\n              <div ng-repeat="label in ctrl.formValues.Labels" class="mt-1">\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">name</span>\n                  <input type="text" class="form-control" ng-model="label.name" placeholder="e.g. com.example.foo" />\n                </div>\n                <div class="input-group col-sm-6 input-group-sm">\n                  <span class="input-group-addon">value</span>\n                  <input type="text" class="form-control" ng-model="label.value" placeholder="e.g. bar" />\n                  <span class="input-group-btn">\n                    <button class="btn btn-dangerlight" type="button" ng-click="ctrl.removeLabel($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                    </button>\n                  </span>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !labels-input-list --\x3e\n          </div>\n          \x3c!-- !labels--\x3e\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="ctrl.formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button type="button" class="btn btn-primary btn-sm" ng-disabled="!ctrl.formValues.Name" ng-click="ctrl.create()">Create config</button>\n              <span class="text-danger" ng-if="ctrl.state.formValidationError" style="margin-left: 5px">{{ ctrl.state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},67539:function(e){var t="app/docker/views/configs/edit/config.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Config details\'" breadcrumbs="[{label:\'Configs\', link:\'docker.configs\'}, config.Name]" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="clipboard" feather-icon="true" title-text="Config details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Name</td>\n              <td>{{ config.Name }}</td>\n            </tr>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ config.Id }}\n                <button authorization="DockerConfigDelete" class="btn btn-xs btn-dangerlight" ng-click="removeConfig(config.Id)"\n                  ><pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Delete this config</button\n                >\n                <button authorization="DockerConfigCreate" class="btn btn-xs btn-secondary" ui-sref="docker.configs.new({id: config.Id})"\n                  ><pr-icon icon="\'copy\'" feather="true"></pr-icon>Clone config</button\n                >\n              </td>\n            </tr>\n            <tr>\n              <td>Created</td>\n              <td>{{ config.CreatedAt | getisodate }}</td>\n            </tr>\n            <tr>\n              <td>Last updated</td>\n              <td>{{ config.UpdatedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="!(config.Labels | emptyobject)">\n              <td>Labels</td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in config.Labels">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<access-control-panel\n  ng-if="config"\n  resource-id="config.Id"\n  resource-control="config.ResourceControl"\n  resource-type="resourceType"\n  on-update-success="(onUpdateResourceControlSuccess)"\n>\n</access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n\n<div class="row" ng-if="config">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="code" feather-icon="true" title-text="Config content"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <div class="col-sm-12">\n              <code-editor identifier="config-editor" yml="false" read-only="true" value="config.Data"></code-editor>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},8423:function(e){var t="app/docker/views/containers/console/attach.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Container console\'"\n  breadcrumbs="[\n    { label:\'Containers\', link:\'docker.containers\' },\n    { \n      label:(container.Name | trimcontainername),\n      link: \'docker.containers.container\', \n      linkParams:container.Id\n    }, \'Console\']"\n>\n</page-header>\n\n<div class="row" ng-init="autoconnectAttachView()" ng-show="loaded">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="terminal" feather-icon="true" title-text="Attach"></rd-widget-header>\n      <rd-widget-body>\n        <div class="small text-warning" ng-if="!container.Config.OpenStdin">\n          <p>\n            <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n            The interactive-flag is not set. You might not be able to use the console properly.\n          </p>\n        </div>\n\n        <div class="small text-warning" ng-if="!container.Config.Tty">\n          <p>\n            <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n            The TTY-flag is not set. You might not be able to use the console properly.\n          </p>\n        </div>\n\n        <div class="small text-warning" ng-hide="container.State.Running">\n          <p>\n            <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n            The container is not running.\n          </p>\n        </div>\n\n        <button\n          type="button"\n          class="btn btn-primary"\n          ng-disabled="state === states.connecting || !container.State.Running"\n          ng-click="state == states.disconnected ? connectAttach() : disconnect()"\n        >\n          <span ng-show="state === states.disconnected">Attach to Container</span>\n          <span ng-show="state === states.connected">Detach</span>\n          <span ng-show="state === states.connecting">Attaching...</span>\n        </button>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <div id="terminal-container" class="terminal-container"></div>\n  </div>\n</div>\n')}]),e.exports=t},98757:function(e){var t="app/docker/views/containers/console/exec.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Container console\'"\n  breadcrumbs="[\n    { label:\'Containers\', link:\'docker.containers\' },\n    { \n      label:(container.Name | trimcontainername),\n      link: \'docker.containers.container\', \n      linkParams:container.Id\n    }, \'Console\']"\n>\n</page-header>\n\n<div class="row" ng-init="initView()" ng-show="loaded">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="terminal" feather-icon="true" title-text="Execute"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div ng-if="state === states.disconnected">\n            \x3c!-- command-list --\x3e\n            <div class="form-group">\n              <label for="command" class="col-lg-1 text-left col-sm-2 control-label">Command</label>\n              <div class="col-lg-11 col-sm-10">\n                <div class="input-group" ng-if="!formValues.isCustomCommand">\n                  <span class="input-group-addon">\n                    <i class="fab fa-linux" aria-hidden="true" ng-if="imageOS == \'linux\'"></i>\n                    <i class="fab fa-windows" aria-hidden="true" ng-if="imageOS == \'windows\'"></i>\n                  </span>\n                  <select class="form-control" ng-model="formValues.command" id="command">\n                    <option value="ash" ng-if="imageOS == \'linux\'">/bin/ash</option>\n                    <option value="bash" ng-if="imageOS == \'linux\'">/bin/bash</option>\n                    <option value="sh" ng-if="imageOS == \'linux\'">/bin/sh</option>\n                    <option value="powershell" ng-if="imageOS == \'windows\'">powershell</option>\n                    <option value="cmd.exe" ng-if="imageOS == \'windows\'">cmd.exe</option>\n                    <option ng-repeat="command in containerCommands" value="{{ command.command }}">{{ command.title }}: {{ command.command }}</option>\n                  </select>\n                </div>\n                <input class="form-control" ng-if="formValues.isCustomCommand" type="text" name="custom-command" ng-model="formValues.customCommand" placeholder="e.g. ps aux" />\n              </div>\n            </div>\n            \x3c!-- !command-list --\x3e\n            <div class="form-group col-lg-12">\n              <por-switch-field\n                label-class="\'col-sm-1\'"\n                checked="formValues.isCustomCommand"\n                label="\'Use custom command\'"\n                on-change="(handleIsCustomCommandChange)"\n              ></por-switch-field>\n            </div>\n            <div class="form-group">\n              <label class="col-lg-1 text-left col-sm-2 control-label">\n                User\n                <portainer-tooltip message="\'Format is one of: user, user:group, uid or uid:gid\'"></portainer-tooltip>\n              </label>\n              <div class="col-lg-11 col-sm-10">\n                <input class="form-control" type="text" ng-model="formValues.user" placeholder="root" />\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button type="button" class="btn btn-primary" ng-disabled="!container.State.Running" ng-click="connectExec()">\n                  <span>Connect</span>\n                </button>\n                <span class="small text-danger" ng-hide="container.State.Running">\n                  <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                  The container is not running.\n                </span>\n              </div>\n            </div>\n          </div>\n          <div ng-if="state !== states.disconnected">\n            <label\n              >Exec into container as <code>{{ ::formValues.user || \'default user\' }}</code> using command\n              <code>{{ formValues.isCustomCommand ? formValues.customCommand : formValues.command }}</code></label\n            >\n            <button type="button" class="btn btn-primary" ng-click="disconnect()">\n              <span ng-show="state === states.connected">Disconnect</span>\n              <span ng-show="state === states.connecting">Connecting...</span>\n            </button>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <div id="terminal-container" class="terminal-container"></div>\n  </div>\n</div>\n')}]),e.exports=t},92091:function(e){var t="app/docker/views/containers/create/createcontainer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create container\'" breadcrumbs="[{label:\'Containers\', link:\'docker.containers\'}, \'Add container\']"> </page-header>\n\n<information-panel title-text="Caution" ng-if="state.mode == \'duplicate\'">\n  <span class="small">\n    <p class="text-muted">\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      The new container may fail to start if the image is changed, and settings from the previous container aren\'t compatible. Common causes include entrypoint, cmd or\n      <a href="http://portainer.readthedocs.io/en/stable/agent.html" target="_blank">other settings</a> set by an image.\n    </p>\n  </span>\n</information-panel>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" autocomplete="off">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="container_name" class="col-sm-2 control-label text-left">Name</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="config.name" id="container_name" placeholder="e.g. myContainer" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="col-sm-12 form-section-title"> Image configuration </div>\n          <div ng-if="!formValues.RegistryModel.Registry && fromContainer">\n            <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n            <span class="small text-danger" style="margin-left: 5px">\n              The Docker registry for the <code>{{ config.Image }}</code> image is not registered inside Portainer, you will not be able to create a container. Please register that\n              registry first.\n            </span>\n          </div>\n          <div ng-if="formValues.RegistryModel.Registry || !fromContainer">\n            \x3c!-- image-and-registry --\x3e\n            <por-image-registry\n              model="formValues.RegistryModel"\n              ng-if="formValues.RegistryModel.Registry"\n              auto-complete="true"\n              label-class="col-sm-1"\n              input-class="col-sm-11"\n              endpoint="endpoint"\n              is-admin="isAdmin"\n              check-rate-limits="formValues.alwaysPull"\n              on-image-change="onImageNameChange()"\n              set-validity="setPullImageValidity"\n            >\n              \x3c!-- always-pull --\x3e\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <por-switch-field\n                    name="\'alwaysPull\'"\n                    label-class="\'col-sm-2\'"\n                    checked="formValues.alwaysPull"\n                    disabled="!state.pullImageValidity"\n                    label="\'Always pull the image\'"\n                    on-change="(onAlwaysPullChange)"\n                    tooltip="\'When enabled, Portainer will automatically try to pull the specified image before creating the container.\'"\n                  ></por-switch-field>\n                </div>\n              </div>\n              \x3c!-- !always-pull --\x3e\n            </por-image-registry>\n            \x3c!-- !image-and-registry --\x3e\n          </div>\n\n          \x3c!-- create-webhook --\x3e\n          <div ng-if="isAdmin && applicationState.endpoint.type !== 4">\n            <div class="col-sm-12 form-section-title"> Webhooks </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <por-switch-field\n                  feature-id="\'container-webhook\'"\n                  label-class="\'col-sm-2\'"\n                  label="\'Create a container webhook\'"\n                  tooltip="\'Create a webhook (or callback URI) to automate the recreate this container. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and recreate this container.\'"\n                ></por-switch-field>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !create-webhook  --\x3e\n\n          <div class="col-sm-12 form-section-title"> Network ports configuration </div>\n          \x3c!-- publish-exposed-ports --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-2\'"\n                checked="config.HostConfig.PublishAllPorts"\n                label="\'Publish all exposed network ports to random host ports\'"\n                on-change="(handlePublishAllPortsChange)"\n                tooltip="\'When enabled, Portainer will let Docker automatically map a random port on the host to each one defined in the image Dockerfile.\'"\n              ></por-switch-field>\n            </div>\n          </div>\n          \x3c!-- !publish-exposed-ports --\x3e\n          \x3c!-- port-mapping --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label class="control-label text-left">\n                Manual network port publishing\n                <portainer-tooltip\n                  message="\'When a range of ports on the host and a single port on the container is specified, Docker will randomly choose a single available port in the defined range and forward that to the container port.\'"\n                ></portainer-tooltip>\n              </label>\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="addPortBinding()">\n                <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> publish a new network port\n              </span>\n            </div>\n            \x3c!-- port-mapping-input-list --\x3e\n            <div class="col-sm-12 form-inline" style="margin-top: 10px">\n              <div ng-repeat="portBinding in config.HostConfig.PortBindings" style="margin-top: 2px">\n                \x3c!-- host-port --\x3e\n                <div class="input-group col-sm-4 input-group-sm">\n                  <span class="input-group-addon">host</span>\n                  <input type="text" class="form-control" ng-model="portBinding.hostPort" placeholder="e.g. 80, 80-88, ip:80 or ip:80-88 (optional)" />\n                </div>\n                \x3c!-- !host-port --\x3e\n                <span style="margin: 0 10px 0 10px">\n                  <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                </span>\n                \x3c!-- container-port --\x3e\n                <div class="input-group col-sm-4 input-group-sm">\n                  <span class="input-group-addon">container</span>\n                  <input type="text" class="form-control" ng-model="portBinding.containerPort" placeholder="e.g. 80 or 80-88" />\n                </div>\n                \x3c!-- !container-port --\x3e\n                \x3c!-- protocol-actions --\x3e\n                <div class="input-group col-sm-3 input-group-sm">\n                  <div class="btn-group btn-group-sm">\n                    <label class="btn btn-light" ng-model="portBinding.protocol" uib-btn-radio="\'tcp\'">TCP</label>\n                    <label class="btn btn-light" ng-model="portBinding.protocol" uib-btn-radio="\'udp\'">UDP</label>\n                  </div>\n                  <button class="btn btn-light" type="button" ng-click="removePortBinding($index)">\n                    <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                  </button>\n                </div>\n                \x3c!-- !protocol-actions --\x3e\n              </div>\n            </div>\n            \x3c!-- !port-mapping-input-list --\x3e\n          </div>\n          \x3c!-- !port-mapping --\x3e\n          <div ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n            <div class="col-sm-12 form-section-title"> Deployment </div>\n            \x3c!-- node-selection --\x3e\n            <node-selector model="formValues.NodeName"> </node-selector>\n            \x3c!-- !node-selection --\x3e\n          </div>\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData" resource-control="fromContainer.ResourceControl" ng-if="fromContainer"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          \x3c!-- autoremove --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-2\'"\n                checked="config.HostConfig.AutoRemove"\n                label="\'Auto remove\'"\n                on-change="(handleAutoRemoveChange)"\n                tooltip="\'When enabled, Portainer will automatically remove the container when it exits. This is useful when you want to use the container only once.\'"\n              ></por-switch-field>\n            </div>\n          </div>\n          \x3c!-- !autoremove --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !formValues.RegistryModel.Image || (!formValues.RegistryModel.Registry && fromContainer)\n                   || (fromContainer.IsPortainer && fromContainer.Name === \'/\' + config.name)"\n                ng-click="create()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Deploy the container</span>\n                <span ng-show="state.actionInProgress">Deployment in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-cog" title-text="Advanced container settings"></rd-widget-header>\n      <rd-widget-body>\n        <ul class="nav nav-pills nav-justified">\n          <li class="active interactive"><a data-target="#command" data-toggle="tab">Command & logging</a></li>\n          <li class="interactive"><a data-target="#volumes" data-toggle="tab">Volumes</a></li>\n          <li class="interactive"><a data-target="#network" data-toggle="tab">Network</a></li>\n          <li class="interactive"><a data-target="#env" data-toggle="tab">Env</a></li>\n          <li class="interactive"><a data-target="#labels" data-toggle="tab">Labels</a></li>\n          <li class="interactive"><a data-target="#restart-policy" data-toggle="tab">Restart policy</a></li>\n          <li class="interactive"><a data-target="#runtime-resources" ng-mouseup="refreshSlider()" data-toggle="tab">Runtime & Resources</a></li>\n          <li ng-if="areContainerCapabilitiesEnabled" class="interactive"><a data-target="#container-capabilities" data-toggle="tab">Capabilities</a></li>\n        </ul>\n        \x3c!-- tab-content --\x3e\n        <div class="tab-content">\n          \x3c!-- tab-command --\x3e\n          <div class="tab-pane active" id="command">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- command-input --\x3e\n              <div class="form-group">\n                <label for="container_command" class="col-sm-2 col-lg-1 control-label text-left">Command</label>\n                <div class="col-sm-9">\n                  <div class="input-group">\n                    <div class="input-group-btn">\n                      <label class="btn btn-light" ng-model="formValues.CmdMode" uib-btn-radio="\'default\'" style="margin-left: 0px"> Default</label>\n                      <label class="btn btn-light" ng-model="formValues.CmdMode" uib-btn-radio="\'override\'">Override</label>\n                    </div>\n                    <input\n                      type="text"\n                      class="form-control"\n                      ng-model="config.Cmd"\n                      ng-disabled="formValues.CmdMode === \'default\'"\n                      id="container_command"\n                      placeholder="e.g. \'-logtostderr\' \'--housekeeping_interval=5s\' or /usr/bin/nginx -t -c /mynginx.conf"\n                    />\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !command-input --\x3e\n              \x3c!-- entrypoint-input --\x3e\n              <div class="form-group">\n                <label for="container_entrypoint" class="col-sm-2 col-lg-1 control-label text-left">\n                  Entrypoint\n                  <portainer-tooltip\n                    message="\'When container entrypoint is entered as part of the Command field, set Entrypoint to Override mode and leave blank, else it will revert to default.\'"\n                  ></portainer-tooltip>\n                </label>\n                <div class="col-sm-9">\n                  <div class="input-group">\n                    <div class="input-group-btn">\n                      <label class="btn btn-light" ng-model="formValues.EntrypointMode" uib-btn-radio="\'default\'" style="margin-left: 0px"> Default</label>\n                      <label class="btn btn-light" ng-model="formValues.EntrypointMode" uib-btn-radio="\'override\'">Override</label>\n                    </div>\n                    <input\n                      type="text"\n                      class="form-control"\n                      ng-model="config.Entrypoint"\n                      ng-disabled="formValues.EntrypointMode === \'default\'"\n                      id="container_entrypoint"\n                      placeholder="e.g. /bin/sh -c"\n                    />\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !entrypoint-input --\x3e\n              \x3c!-- workdir-user-input --\x3e\n              <div class="form-group">\n                <label for="container_workingdir" class="col-sm-2 col-lg-1 control-label text-left">Working Dir</label>\n                <div class="col-sm-4">\n                  <input type="text" class="form-control" ng-model="config.WorkingDir" id="container_workingdir" placeholder="e.g. /myapp" />\n                </div>\n                <label for="container_user" class="col-sm-1 control-label text-left">User</label>\n                <div class="col-sm-4">\n                  <input type="text" class="form-control" ng-model="config.User" id="container_user" placeholder="e.g. nginx" />\n                </div>\n              </div>\n              \x3c!-- !workdir-user-input --\x3e\n              \x3c!-- console --\x3e\n              <div class="form-group">\n                <label for="container_console" class="col-sm-2 col-lg-1 control-label text-left">Console</label>\n                <div class="col-sm-10 col-lg-11">\n                  <div class="col-sm-4">\n                    <label class="radio-inline">\n                      <input type="radio" name="container_console" ng-model="formValues.Console" value="both" />\n                      Interactive & TTY <span class="small text-muted">(-i -t)</span>\n                    </label>\n                  </div>\n                  <div class="col-sm-4">\n                    <label class="radio-inline">\n                      <input type="radio" name="container_console" ng-model="formValues.Console" value="interactive" />\n                      Interactive <span class="small text-muted">(-i)</span>\n                    </label>\n                  </div>\n                </div>\n                <div class="col-sm-offset-2 col-sm-10 col-lg-offset-1 col-lg-11">\n                  <div class="col-sm-4">\n                    <label class="radio-inline">\n                      <input type="radio" name="container_console" ng-model="formValues.Console" value="tty" />\n                      TTY <span class="small text-muted">(-t)</span>\n                    </label>\n                  </div>\n                  <div class="col-sm-4">\n                    <label class="radio-inline">\n                      <input type="radio" name="container_console" ng-model="formValues.Console" value="none" />\n                      None\n                    </label>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !console --\x3e\n\n              <div class="col-sm-12 form-section-title"> Logging </div>\n              \x3c!-- logging-driver --\x3e\n              <div class="form-group">\n                <label for="log-driver" class="col-sm-2 col-lg-1 control-label text-left">Driver</label>\n                <div class="col-sm-4">\n                  <select class="form-control" ng-model="formValues.LogDriverName" id="log-driver">\n                    <option selected value="">Default logging driver</option>\n                    <option ng-repeat="driver in availableLoggingDrivers" ng-value="driver">{{ driver }}</option>\n                    <option value="none">none</option>\n                  </select>\n                </div>\n                <div class="col-sm-5">\n                  <p class="small text-muted">\n                    Logging driver that will override the default docker daemon driver. Select Default logging driver if you don\'t want to override it. Supported logging drivers\n                    can be found <a href="https://docs.docker.com/engine/admin/logging/overview/#supported-logging-drivers" target="_blank">in the Docker documentation</a>.\n                  </p>\n                </div>\n              </div>\n              \x3c!-- !logging-driver --\x3e\n              \x3c!-- logging-opts --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">\n                    Options\n                    <portainer-tooltip\n                      position="\'top\'"\n                      message="\'Add button is disabled unless a driver other than none or default is selected. Options are specific to the selected driver, refer to the driver documentation.\'"\n                    ></portainer-tooltip>\n                  </label>\n                  <span\n                    class="label label-default interactive"\n                    style="margin-left: 10px"\n                    ng-click="!formValues.LogDriverName || formValues.LogDriverName === \'none\' || addLogDriverOpt(formValues.LogDriverName)"\n                  >\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add logging driver option\n                  </span>\n                </div>\n                \x3c!-- logging-opts-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="opt in formValues.LogDriverOpts" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">option</span>\n                      <input type="text" class="form-control" ng-model="opt.name" placeholder="e.g. FOO" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="opt.value" placeholder="e.g. bar" />\n                    </div>\n                    <button class="btn btn-light" type="button" ng-click="removeLogDriverOpt($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- logging-opts-input-list --\x3e\n              </div>\n              \x3c!-- !logging-opts --\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-command --\x3e\n          \x3c!-- tab-volume --\x3e\n          <div class="tab-pane" id="volumes">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- volumes --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Volume mapping</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addVolume()">\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> map additional volume\n                  </span>\n                </div>\n                \x3c!-- volumes-input-list --\x3e\n                <div class="form-inline" style="margin-top: 10px">\n                  <div ng-repeat="volume in formValues.Volumes">\n                    \x3c!-- volume-line1 --\x3e\n                    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                      \x3c!-- container-path --\x3e\n                      <div class="input-group input-group-sm col-sm-6">\n                        <span class="input-group-addon">container</span>\n                        <input type="text" class="form-control" ng-model="volume.containerPath" placeholder="e.g. /path/in/container" />\n                      </div>\n                      \x3c!-- !container-path --\x3e\n                      \x3c!-- volume-type --\x3e\n                      <div class="input-group col-sm-5" style="margin-left: 5px">\n                        <div class="btn-group btn-group-sm" ng-if="allowBindMounts">\n                          <label class="btn btn-light" ng-model="volume.type" uib-btn-radio="\'volume\'" ng-click="volume.name = \'\'">Volume</label>\n                          <label class="btn btn-light" ng-model="volume.type" uib-btn-radio="\'bind\'" ng-click="volume.name = \'\'">Bind</label>\n                        </div>\n                        <button class="btn btn-light" type="button" ng-click="removeVolume($index)">\n                          <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                        </button>\n                      </div>\n                      \x3c!-- !volume-type --\x3e\n                    </div>\n                    \x3c!-- !volume-line1 --\x3e\n                    \x3c!-- volume-line2 --\x3e\n                    <div class="col-sm-12 form-inline" style="margin-top: 5px">\n                      <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                      \x3c!-- volume --\x3e\n                      <div class="input-group input-group-sm col-sm-6" ng-if="volume.type === \'volume\'">\n                        <span class="input-group-addon">volume</span>\n                        <select class="form-control" ng-model="volume.name">\n                          <option selected disabled hidden value="">Select a volume</option>\n                          <option ng-repeat="vol in availableVolumes" ng-value="vol.Name">{{ vol.Name | truncate: 30 }} - {{ vol.Driver | truncate: 30 }}</option>\n                        </select>\n                      </div>\n                      \x3c!-- !volume --\x3e\n                      \x3c!-- bind --\x3e\n                      <div class="input-group input-group-sm col-sm-6" ng-if="volume.type === \'bind\'">\n                        <span class="input-group-addon">host</span>\n                        <input type="text" class="form-control" ng-model="volume.name" placeholder="e.g. /path/on/host" />\n                      </div>\n                      \x3c!-- !bind --\x3e\n                      \x3c!-- read-only --\x3e\n                      <div class="input-group input-group-sm col-sm-5" style="margin-left: 5px">\n                        <div class="btn-group btn-group-sm">\n                          <label class="btn btn-light" ng-model="volume.readOnly" uib-btn-radio="false">Writable</label>\n                          <label class="btn btn-light" ng-model="volume.readOnly" uib-btn-radio="true">Read-only</label>\n                        </div>\n                      </div>\n                      \x3c!-- !read-only --\x3e\n                    </div>\n                    \x3c!-- !volume-line2 --\x3e\n                  </div>\n                </div>\n                \x3c!-- !volumes-input-list --\x3e\n              </div>\n            </form>\n            \x3c!-- !volumes --\x3e\n          </div>\n          \x3c!-- !tab-volume --\x3e\n          \x3c!-- tab-network --\x3e\n          <div class="tab-pane" id="network">\n            <form class="form-horizontal" style="margin-top: 15px">\n              <div class="form-group" ng-if="globalNetworkCount === 0 && applicationState.endpoint.mode.provider !== \'DOCKER_SWARM_MODE\'">\n                <div class="col-sm-12">\n                  <span class="small text-muted">You don\'t have any shared networks. Head over to the <a ui-sref="docker.networks">networks view</a> to create one.</span>\n                </div>\n              </div>\n              \x3c!-- network-input --\x3e\n              <div class="form-group">\n                <label for="container_network" class="col-sm-2 col-lg-1 control-label text-left">Network</label>\n                <div class="col-sm-9">\n                  <select\n                    class="form-control"\n                    ng-options="net.Name as net.Name for net in availableNetworks"\n                    ng-model="config.HostConfig.NetworkMode"\n                    id="container_network"\n                    ng-change="resetNetworkConfig()"\n                  >\n                    <option selected disabled hidden value="">Select a network</option>\n                  </select>\n                </div>\n              </div>\n              \x3c!-- !network-input --\x3e\n              \x3c!-- container-name-input --\x3e\n              <div class="form-group" ng-if="config.HostConfig.NetworkMode == \'container\'">\n                <label for="container_network_container" class="col-sm-2 col-lg-1 control-label text-left">Container</label>\n                <div class="col-sm-9">\n                  <select ng-options="container|containername for container in runningContainers" class="form-control" ng-model="formValues.NetworkContainer">\n                    <option selected disabled hidden value="">Select a container</option>\n                  </select>\n                </div>\n              </div>\n              \x3c!-- !container-name-input --\x3e\n              \x3c!-- hostname-input --\x3e\n              <div class="form-group">\n                <label for="container_hostname" class="col-sm-2 col-lg-1 control-label text-left">Hostname</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="config.Hostname" id="container_hostname" placeholder="e.g. web01" />\n                </div>\n              </div>\n              \x3c!-- !hostname-input --\x3e\n              \x3c!-- domainname-input --\x3e\n              <div class="form-group">\n                <label for="container_domainname" class="col-sm-2 col-lg-1 control-label text-left">Domain Name</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="config.Domainname" id="container_domainname" placeholder="e.g. example.com" />\n                </div>\n              </div>\n              \x3c!-- !domainname --\x3e\n              \x3c!-- mac-address-input --\x3e\n              <div class="form-group">\n                <label for="container_macaddress" class="col-sm-2 col-lg-1 control-label text-left">Mac Address</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.MacAddress" id="container_macaddress" placeholder="e.g. 12-34-56-78-9a-bc" />\n                </div>\n              </div>\n              \x3c!-- !mac-address-input --\x3e\n              \x3c!-- ipv4-input --\x3e\n              <div class="form-group">\n                <label for="container_ipv4" class="col-sm-2 col-lg-1 control-label text-left">IPv4 Address</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.IPv4" id="container_ipv4" placeholder="e.g. 172.20.0.7" />\n                </div>\n              </div>\n              \x3c!-- !ipv4-input --\x3e\n              \x3c!-- ipv6-input --\x3e\n              <div class="form-group">\n                <label for="container_ipv6" class="col-sm-2 col-lg-1 control-label text-left">IPv6 Address</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.IPv6" id="container_ipv6" placeholder="e.g. a:b:c:d::1234" />\n                </div>\n              </div>\n              \x3c!-- !ipv6-input --\x3e\n              \x3c!-- dns-primary-input --\x3e\n              <div class="form-group">\n                <label for="container_dns_primary" class="col-sm-2 col-lg-1 control-label text-left">Primary DNS Server</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.DnsPrimary" id="container_dns_primary" placeholder="e.g. 1.1.1.1, 2606:4700:4700::1111" />\n                </div>\n              </div>\n              \x3c!-- !dns-primary-input --\x3e\n              \x3c!-- dns-secondary-input --\x3e\n              <div class="form-group">\n                <label for="container_dns_secondary" class="col-sm-2 col-lg-1 control-label text-left">Secondary DNS Server</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.DnsSecondary" id="container_dns_secondary" placeholder="e.g. 1.0.0.1, 2606:4700:4700::1001" />\n                </div>\n              </div>\n              \x3c!-- !dns-secondary-input --\x3e\n              \x3c!-- extra-hosts-variables --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Hosts file entries</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addExtraHost()">\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add additional entry\n                  </span>\n                </div>\n                \x3c!-- extra-hosts-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="variable in formValues.ExtraHosts" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="variable.value" placeholder="e.g. host:IP" />\n                    </div>\n                    <button class="btn btn-light" type="button" ng-click="removeExtraHost($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !extra-hosts-input-list --\x3e\n              </div>\n              \x3c!-- !extra-hosts-variables --\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-network --\x3e\n          \x3c!-- tab-labels --\x3e\n          <div class="tab-pane" id="labels">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- labels --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Labels</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addLabel()">\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add label\n                  </span>\n                </div>\n                \x3c!-- labels-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="label in formValues.Labels" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">name</span>\n                      <input type="text" class="form-control" ng-model="label.name" placeholder="e.g. com.example.foo" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="label.value" placeholder="e.g. bar" />\n                    </div>\n                    <button class="btn btn-sm btn-light" type="button" ng-click="removeLabel($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !labels-input-list --\x3e\n              </div>\n              \x3c!-- !labels--\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-labels --\x3e\n          \x3c!-- tab-env --\x3e\n          <div class="tab-pane" id="env">\n            <environment-variables-panel\n              ng-model="formValues.Env"\n              explanation="These values will be applied to the container when deployed"\n              on-change="(handleEnvVarChange)"\n            ></environment-variables-panel>\n          </div>\n          \x3c!-- !tab-env --\x3e\n          \x3c!-- tab-restart-policy --\x3e\n          <div class="tab-pane" id="restart-policy">\n            <form class="form-horizontal" style="margin-top: 15px">\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <label class="control-label text-left"> Restart policy </label>\n                  <div class="btn-group btn-group-sm" style="margin-left: 20px">\n                    <label class="btn btn-light" ng-model="config.HostConfig.RestartPolicy.Name" uib-btn-radio="\'no\'"> Never </label>\n                    <label class="btn btn-light" ng-model="config.HostConfig.RestartPolicy.Name" uib-btn-radio="\'always\'"> Always </label>\n                    <label class="btn btn-light" ng-model="config.HostConfig.RestartPolicy.Name" uib-btn-radio="\'on-failure\'"> On failure </label>\n                    <label class="btn btn-light" ng-model="config.HostConfig.RestartPolicy.Name" uib-btn-radio="\'unless-stopped\'"> Unless stopped </label>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n          \x3c!-- !tab-restart-policy --\x3e\n          \x3c!-- tab-runtime-resources --\x3e\n          <div class="tab-pane" id="runtime-resources">\n            <form class="form-horizontal" style="margin-top: 15px">\n              <div class="col-sm-12 form-section-title"> Runtime </div>\n              \x3c!-- privileged-mode --\x3e\n              <div class="form-group" ng-if="isAdmin || allowPrivilegedMode">\n                <div class="col-sm-12">\n                  <por-switch-field\n                    label-class="\'col-sm-2\'"\n                    checked="config.HostConfig.Privileged"\n                    label="\'Privileged mode\'"\n                    on-change="(handlePrivilegedChange)"\n                  ></por-switch-field>\n                </div>\n              </div>\n              \x3c!-- !privileged-mode --\x3e\n              \x3c!-- init --\x3e\n              <div class="form-group" ng-if="applicationState.endpoint.apiVersion >= 1.37">\n                <div class="col-sm-12">\n                  <por-switch-field label-class="\'col-sm-2\'" checked="config.HostConfig.Init" label="\'Init\'" on-change="(handleInitChange)"></por-switch-field>\n                </div>\n              </div>\n              \x3c!-- !init --\x3e\n              \x3c!-- runtimes --\x3e\n              <div class="form-group">\n                <label for="container_runtime" class="col-sm-1 control-label text-left">Runtime</label>\n                <div class="col-sm-11">\n                  <select class="form-control" ng-model="config.HostConfig.Runtime" id="container_runtime" ng-options="runtime for runtime in availableRuntimes">\n                    <option selected value="">Default</option>\n                  </select>\n                </div>\n              </div>\n              \x3c!-- !runtimes --\x3e\n            </form>\n            <form class="form-horizontal" style="margin-top: 15px" name="resourceForm">\n              \x3c!-- devices --\x3e\n              <div ng-if="showDeviceMapping" class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Devices</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addDevice()">\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add device\n                  </span>\n                </div>\n                \x3c!-- devices-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="device in config.HostConfig.Devices" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">host</span>\n                      <input type="text" class="form-control" ng-model="device.pathOnHost" placeholder="e.g. /dev/tty0" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">container</span>\n                      <input type="text" class="form-control" ng-model="device.pathInContainer" placeholder="e.g. /dev/tty0" />\n                    </div>\n                    <button class="btn btn-sm btn-light" type="button" ng-click="removeDevice($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !devices-input-list --\x3e\n              </div>\n              \x3c!-- !devices--\x3e\n              \x3c!-- sysctls --\x3e\n              <div ng-if="showSysctls" class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Sysctls</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addSysctl()">\n                    <pr-icon icon="\'plus\'" feather="true"></pr-icon> add sysctl\n                  </span>\n                </div>\n                \x3c!-- sysctls-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="sysctl in formValues.Sysctls" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">name</span>\n                      <input type="text" class="form-control" ng-model="sysctl.name" placeholder="e.g. FOO" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="sysctl.value" placeholder="e.g. bar" />\n                    </div>\n                    <button class="btn btn-sm btn-light" type="button" ng-click="removeSysctl($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !sysctls-input-list --\x3e\n              </div>\n              \x3c!-- !sysctls --\x3e\n              \x3c!-- shm-size-input --\x3e\n              <div class="form-group">\n                <label for="shm-size" class="col-sm-2 control-label text-left"> Shared memory size </label>\n                <div class="col-sm-2">\n                  <input type="number" min="1" class="form-control" ng-model="formValues.ShmSize" id="shm-size" />\n                </div>\n                <div class="col-sm-2">\n                  <p class="small text-muted mt-2"> Size of /dev/shm (<b>MB</b>) </p>\n                </div>\n              </div>\n              \x3c!-- !shm-size-input --\x3e\n              \x3c!-- #region GPU --\x3e\n              <div class="col-sm-12 form-section-title"> GPU </div>\n\n              <gpu\n                ng-if="applicationState.endpoint.apiVersion >= 1.4"\n                values="formValues.GPU"\n                on-change="(onGpuChange)"\n                gpus="endpoint.Gpus"\n                used-gpus="gpuUseList"\n                used-all-gpus="gpuUseAll"\n              >\n              </gpu>\n\n              \x3c!-- #endregion GPU --\x3e\n              <div ng-class="{ \'edit-resources\': state.mode == \'duplicate\' }">\n                <div class="col-sm-12 form-section-title"> Resources </div>\n                \x3c!-- memory-reservation-input --\x3e\n                <div class="form-group flex">\n                  <label for="memory-reservation" class="col-sm-3 col-lg-2 control-label text-left vertical-center"> Memory reservation (MB) </label>\n                  <div class="col-sm-6">\n                    <slider\n                      on-change="(handleResourceChange)"\n                      model="formValues.MemoryReservation"\n                      floor="0"\n                      ceil="state.sliderMaxMemory"\n                      step="256"\n                      ng-if="state.sliderMaxMemory"\n                    ></slider>\n                  </div>\n                  <div class="col-sm-2 vertical-center">\n                    <input\n                      name="memory_reservation"\n                      type="number"\n                      min="0"\n                      max="{{ state.sliderMaxMemory }}"\n                      class="form-control"\n                      ng-model="formValues.MemoryReservation"\n                      id="memory-reservation"\n                      required\n                    />\n                  </div>\n                </div>\n                <div class="form-group" ng-show="resourceForm.memory_reservation.$invalid">\n                  <div class="col-sm-3 col-lg-2"></div>\n                  <div class="col-sm-8 small text-muted">\n                    <div ng-messages="resourceForm.memory-reservation.$error">\n                      <p class="vertical-center text-warning">\n                        <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> Value must be between 0 and {{ state.sliderMaxMemory }}.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- !memory-reservation-input --\x3e\n                \x3c!-- memory-limit-input --\x3e\n                <div class="form-group flex">\n                  <label for="memory-limit" class="col-sm-3 col-lg-2 control-label text-left vertical-center"> Memory limit (MB) </label>\n                  <div class="col-sm-6">\n                    <slider\n                      on-change="(handleResourceChange)"\n                      model="formValues.MemoryLimit"\n                      floor="0"\n                      ceil="state.sliderMaxMemory"\n                      step="256"\n                      ng-if="state.sliderMaxMemory"\n                    ></slider>\n                  </div>\n                  <div class="col-sm-2 vertical-center">\n                    <input\n                      name="memory_Limit"\n                      type="number"\n                      min="0"\n                      max="{{ state.sliderMaxMemory }}"\n                      class="form-control"\n                      ng-model="formValues.MemoryLimit"\n                      id="memory-limit"\n                      required\n                    />\n                  </div>\n                </div>\n                <div class="form-group" ng-show="resourceForm.memory_Limit.$invalid">\n                  <div class="col-sm-3 col-lg-2"></div>\n                  <div class="col-sm-8 small text-muted">\n                    <div ng-messages="resourceForm.memory-limit.$error">\n                      <p class="vertical-center text-warning">\n                        <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> Value must be between 0 and {{ state.sliderMaxMemory }}.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- !memory-limit-input --\x3e\n                \x3c!-- cpu-limit-input --\x3e\n                <div class="form-group flex">\n                  <label for="cpu-limit" class="col-sm-3 col-lg-2 control-label text-left vertical-center"> Maximum CPU usage </label>\n                  <div class="col-sm-8">\n                    <slider\n                      on-change="(handleResourceChange)"\n                      model="formValues.CpuLimit"\n                      floor="0"\n                      ceil="state.sliderMaxCpu"\n                      step="0.1"\n                      precision="2"\n                      ng-if="state.sliderMaxCpu"\n                    ></slider>\n                  </div>\n                </div>\n                \x3c!-- !cpu-limit-input --\x3e\n\n                \x3c!-- update-limit-btn --\x3e\n                <div class="form-group" ng-if="state.mode == \'duplicate\'">\n                  <div class="col-sm-12">\n                    <button\n                      type="button"\n                      class="btn btn-primary btn-sm"\n                      ng-disabled="state.actionInProgress || !formValues.RegistryModel.Image || (!formValues.RegistryModel.Registry && fromContainer)"\n                      ng-click="update()"\n                      button-spinner="state.actionInProgress"\n                    >\n                      <span ng-hide="state.actionInProgress">Update Limits</span>\n                      <span ng-show="state.actionInProgress">Update in progress...</span>\n                    </button>\n                  </div>\n                  <div class="col-sm-12" ng-if="state.settingUnlimitedResources">\n                    <p class="text-muted mr-4">\n                      <i class="fa fa-exclamation-circle text-warning mt-10" aria-hidden="true"></i> Updating any resource value to unlimited\' will redeploy this container.\n                    </p>\n                  </div>\n                </div>\n                \x3c!-- !update-limit-btn --\x3e\n              </div>\n            </form>\n          </div>\n          \x3c!-- !tab-runtime-resources --\x3e\n          \x3c!-- tab-container-capabilities --\x3e\n          <div class="tab-pane" id="container-capabilities">\n            <container-capabilities capabilities="formValues.capabilities"></container-capabilities>\n          </div>\n          \x3c!-- !tab-container-capabilities --\x3e\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},5744:function(e){var t="app/docker/views/containers/edit/container.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Container details\'" breadcrumbs="[{label:\'Containers\', link:\'docker.containers\'}, (container.Name | trimcontainername)]"> </page-header>\n\n<div\n  class="row"\n  authorization="DockerContainerStart, DockerContainerStop, DockerContainerKill, DockerContainerRestart, DockerContainerPause, DockerContainerUnpause, DockerContainerDelete, DockerContainerCreate"\n>\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="settings" feather-icon="true" title-text="Actions"></rd-widget-header>\n      <rd-widget-body classes="padding">\n        <div class="btn-group" role="group" aria-label="...">\n          <button authorization="DockerContainerStart" class="btn btn-light btn-sm" ng-click="start()" ng-disabled="container.State.Running || container.IsPortainer">\n            <pr-icon icon="\'play\'" feather="true" class-name="\'feather\'"></pr-icon>\n            Start\n          </button>\n          <button authorization="DockerContainerStop" class="btn btn-light btn-sm" ng-click="stop()" ng-disabled="!container.State.Running || container.IsPortainer">\n            <pr-icon icon="\'square\'" feather="true"></pr-icon>\n            Stop\n          </button>\n          <button authorization="DockerContainerKill" class="btn btn-light btn-sm" ng-click="kill()" ng-disabled="!container.State.Running || container.IsPortainer">\n            <i class="fa fa-bomb space-right" aria-hidden="true"></i>Kill\n          </button>\n          <button authorization="DockerContainerRestart" class="btn btn-light btn-sm" ng-click="restart()" ng-disabled="!container.State.Running || container.IsPortainer"\n            ><i class="fa fa-sync space-right" aria-hidden="true"></i>Restart</button\n          >\n          <button\n            authorization="DockerContainerPause"\n            class="btn btn-light btn-sm"\n            ng-click="pause()"\n            ng-disabled="!container.State.Running || container.State.Paused || container.IsPortainer"\n            ><i class="fa fa-pause space-right" aria-hidden="true"></i>Pause</button\n          >\n          <button authorization="DockerContainerUnpause" class="btn btn-light btn-sm" ng-click="unpause()" ng-disabled="!container.State.Paused || container.IsPortainer"\n            ><i class="fa fa-play space-right" aria-hidden="true"></i>Resume</button\n          >\n          <button authorization="DockerContainerDelete" class="btn btn-dangerlight btn-sm" ng-click="confirmRemove()" ng-disabled="container.IsPortainer"\n            ><i class="fa fa-trash-alt space-right" aria-hidden="true"></i>Remove</button\n          >\n        </div>\n        <div class="btn-group" role="group" aria-label="..." ng-if="displayRecreateButton" authorization="DockerContainerCreate">\n          <button\n            type="button"\n            class="btn btn-light btn-sm"\n            ng-disabled="state.recreateContainerInProgress || container.IsPortainer"\n            ng-click="recreate()"\n            button-spinner="state.recreateContainerInProgress"\n          >\n            <span ng-hide="state.recreateContainerInProgress"><i class="fa fa-sync space-right" aria-hidden="true"></i>Recreate</span>\n            <span ng-show="state.recreateContainerInProgress">Recreation in progress...</span>\n          </button>\n          <a class="btn btn-light btn-sm" type="button" ui-sref="docker.containers.new({ from: container.Id, nodeName: nodeName })" ng-disabled="container.IsPortainer"\n            ><i class="fa fa-copy space-right" aria-hidden="true"></i>Duplicate/Edit</a\n          >\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="box" feather-icon="true" title-text="Container status"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td class="col-xs-6 col-sm-4 col-md-3 col-lg-3">ID</td>\n              <td>{{ container.Id }}</td>\n            </tr>\n            <tr>\n              <td>Name</td>\n              <td ng-if="!container.edit">\n                {{ container.Name | trimcontainername }}\n                <a authorization="DockerContainerRename" href="" data-toggle="tooltip" title="Edit container name" ng-click="container.edit = true;"\n                  ><pr-icon icon="\'edit\'" feather="true" className="\'space-right\'"></pr-icon\n                ></a>\n              </td>\n              <td ng-if="container.edit">\n                <form ng-submit="renameContainer()">\n                  <input type="text" class="containerNameInput" ng-model="container.newContainerName" />\n                  <a href="" ng-click="container.edit = false;"><i class="fa fa-times"></i></a>\n                  <a href="" ng-click="renameContainer()"><i class="fa fa-check"></i></a>\n                </form>\n              </td>\n            </tr>\n            <tr ng-if="container.NetworkSettings.IPAddress">\n              <td>IP address</td>\n              <td>{{ container.NetworkSettings.IPAddress }}</td>\n            </tr>\n            <tr>\n              <td>Status</td>\n              <td>\n                <i class="fa fa-heartbeat space-right green-icon" ng-if="container.State.Running"></i>\n                <i class="fa fa-heartbeat space-right red-icon" ng-if="!container.State.Running && container.State.Status !== \'created\'"></i>\n                {{ container.State | getstatetext }} for {{ activityTime\n                }}<span ng-if="!container.State.Running && container.State.Status !== \'created\'"> with exit code {{ container.State.ExitCode }}</span>\n              </td>\n            </tr>\n            <tr>\n              <td>Created</td>\n              <td>{{ container.Created | getisodate }}</td>\n            </tr>\n            <tr ng-if="container.State.Running">\n              <td>Start time</td>\n              <td>{{ container.State.StartedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="!container.State.Running && container.State.Status !== \'created\'">\n              <td>Finished</td>\n              <td>{{ container.State.FinishedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="isAdmin && displayCreateWebhookButton && applicationState.endpoint.type !== 4">\n              <td colspan="6">\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <por-switch-field\n                      tooltip="\'Webhook (or callback URI) used to automate the recreation of this container. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and recreate this container.\'"\n                      label-class="\'col-sm-2\'"\n                      label="\'Container webhook\'"\n                      feature-id="\'container-webhook\'"\n                    ></por-switch-field>\n                  </div>\n                </div>\n              </td>\n            </tr>\n            <tr authorization="DockerContainerLogs, DockerContainerInspect, DockerContainerStats, DockerExecStart">\n              <td colspan="2">\n                <div class="btn-group" role="group" aria-label="...">\n                  <a authorization="DockerContainerLogs" class="btn" type="button" ui-sref="docker.containers.container.logs({ id: container.Id })"\n                    ><pr-icon icon="\'file-text\'" feather="true" className="\'space-right\'"></pr-icon>Logs</a\n                  >\n                  <a authorization="DockerContainerInspect" class="btn" type="button" ui-sref="docker.containers.container.inspect({ id: container.Id })"\n                    ><pr-icon icon="\'info\'" feather="true" className="\'space-right\'"></pr-icon>Inspect</a\n                  >\n                  <a authorization="DockerContainerStats" class="btn" type="button" ui-sref="docker.containers.container.stats({ id: container.Id })"\n                    ><pr-icon icon="\'bar-chart\'" feather="true" className="\'space-right\'"></pr-icon>Stats</a\n                  >\n                  <a authorization="DockerExecStart" class="btn" type="button" ui-sref="docker.containers.container.exec({ id: container.Id })"\n                    ><pr-icon icon="\'terminal\'" feather="true" className="\'space-right\'"></pr-icon>Console</a\n                  >\n                  <a authorization="DockerContainerAttach" class="btn" type="button" ui-sref="docker.containers.container.attach({ id: container.Id })"\n                    ><pr-icon icon="\'paperclip\'" feather="true" className="\'space-right\'"></pr-icon>Attach</a\n                  >\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<access-control-panel\n  ng-if="container"\n  resource-id="container.Id"\n  resource-control="container.ResourceControl"\n  resource-type="resourceType"\n  on-update-success="(onUpdateResourceControlSuccess)"\n>\n</access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n\n<div ng-if="container.State.Health" class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-server" title-text="Container health"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Status</td>\n              <td>\n                <i\n                  ng-class="\n                    { healthy: \'fa fa-heartbeat space-right green-icon\', unhealthy: \'fa fa-heartbeat space-right red-icon\', starting: \'fa fa-heartbeat space-right orange-icon\' }[\n                      container.State.Health.Status\n                    ]\n                  "\n                ></i>\n                {{ container.State.Health.Status }}\n              </td>\n            </tr>\n            <tr>\n              <td>Failure count</td>\n              <td>{{ container.State.Health.FailingStreak }}</td>\n            </tr>\n            <tr>\n              <td>Last output</td>\n              <td>{{ container.State.Health.Log[container.State.Health.Log.length - 1].Output }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" authorization="DockerImageCreate">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="list" feather-icon="true" title-text="Create image"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- tag-description --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <span class="small text-muted">\n                You can create an image from this container, this allows you to backup important data or save helpful configurations. You\'ll be able to spin up another container\n                based on this image afterward.\n              </span>\n            </div>\n          </div>\n          \x3c!-- !tag-description --\x3e\n          \x3c!-- image-and-registry --\x3e\n          <por-image-registry\n            model="config.RegistryModel"\n            auto-complete="true"\n            label-class="col-sm-1"\n            input-class="col-sm-11"\n            endpoint="endpoint"\n            is-admin="isAdmin"\n            set-validity="setPullImageValidity"\n            check-rate-limits="true"\n          ></por-image-registry>\n          \x3c!-- !image-and-registry --\x3e\n          \x3c!-- tag-note --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <span class="small text-muted">Note: if you don\'t specify the tag in the image name, <span class="label label-default">latest</span> will be used.</span>\n            </div>\n          </div>\n          \x3c!-- !tag-note --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="!state.pullImageValidity || !config.RegistryModel.Image || config.commitInProgress"\n                ng-click="commit()"\n              >\n                Create\n              </button>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="list" feather-icon="true" title-text="Container details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table container-details-table">\n          <tbody>\n            <tr>\n              <td>Image</td>\n              <td\n                ><a ui-sref="docker.images.image({ id: container.Image, nodeName: nodeName })">{{ container.Config.Image }}@{{ container.Image }}</a></td\n              >\n            </tr>\n            <tr ng-if="portBindings.length > 0">\n              <td>Port configuration</td>\n              <td>\n                <div ng-repeat="portMapping in portBindings"> {{ portMapping.host }} <i class="fa fa-long-arrow-alt-right"></i> {{ portMapping.container }} </div>\n              </td>\n            </tr>\n            <tr>\n              <td>CMD</td>\n              <td\n                ><code>{{ container.Config.Cmd | command }}</code></td\n              >\n            </tr>\n            <tr>\n              <td>ENTRYPOINT</td>\n              <td\n                ><code>{{ container.Config.Entrypoint ? (container.Config.Entrypoint | command) : \'null\' }}</code></td\n              >\n            </tr>\n            <tr>\n              <td>ENV</td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="var in container.Config.Env track by $index">\n                    <td>{{ var|key: \'=\' }}</td>\n                    <td>{{ var|value: \'=\' }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr ng-if="!(container.Config.Labels | emptyobject)">\n              <td>Labels</td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in container.Config.Labels">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td>Restart policies</td>\n              <td>\n                <container-restart-policy\n                  ng-if="container"\n                  name="container.HostConfig.RestartPolicy.Name"\n                  maximum-retry-count="container.HostConfig.RestartPolicy.MaximumRetryCount"\n                  update-restart-policy="updateRestartPolicy(name, maximumRetryCount)"\n                >\n                </container-restart-policy>\n              </td>\n            </tr>\n            <tr ng-if="!(container.HostConfig.Sysctls | emptyobject)">\n              <td>Sysctls</td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in container.HostConfig.Sysctls">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr ng-if="container.HostConfig.DeviceRequests.length">\n              <td>GPUS</td>\n              <td>{{ computeDockerGPUCommand() }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="container.Mounts.length > 0">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="database" feather-icon="true" title-text="Volumes"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <thead>\n            <tr>\n              <th>Host/volume</th>\n              <th>Path in container</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-repeat="vol in container.Mounts">\n              <td ng-if="vol.Type === \'bind\'">{{ vol.Source }}</td>\n              <td ng-if="vol.Type === \'volume\'"\n                ><a ui-sref="docker.volumes.volume({ id: vol.Name, nodeName: nodeName })">{{ vol.Name }}</a></td\n              >\n              <td>{{ vol.Destination }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <container-networks-datatable\n      ng-if="container.NetworkSettings.Networks"\n      title-text="Connected networks"\n      title-icon="share-2"\n      dataset="container.NetworkSettings.Networks"\n      table-key="container-networks"\n      container="container"\n      available-networks="availableNetworks"\n      join-network-action="containerJoinNetwork"\n      join-network-action-in-progress="state.joinNetworkInProgress"\n      leave-network-action="containerLeaveNetwork"\n      leave-network-action-in-progress="state.leaveNetworkInProgress"\n      node-name="nodeName"\n    ></container-networks-datatable>\n  </div>\n</div>\n')}]),e.exports=t},96215:function(e){var t="app/docker/views/containers/inspect/containerinspect.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Container inspect\'"\n  breadcrumbs="[\n    { label:\'Containers\', link:\'docker.containers\' },\n    { \n      label:(containerInfo.Name | trimcontainername),\n      link: \'docker.containers.container\', \n      linkParams:containerInfo.Id\n    }, \'Inspect\']"\n>\n</page-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="circle" feather-icon="true" title-text="Inspect">\n        <span class="btn-group btn-group-sm">\n          <label class="btn btn-light" ng-model="state.DisplayTextView" uib-btn-radio="false"><pr-icon icon="\'code\'" feather="true"></pr-icon>Tree</label>\n          <label class="btn btn-light" ng-model="state.DisplayTextView" uib-btn-radio="true"><pr-icon icon="\'file\'" feather="true"></pr-icon>Text</label>\n        </span>\n      </rd-widget-header>\n      <rd-widget-body>\n        <pre ng-show="state.DisplayTextView">{{ containerInfo | json: 4 }}</pre>\n        <json-tree ng-hide="state.DisplayTextView" object="containerInfo" root-name="containerInfo.Id" start-expanded="true"></json-tree>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},7942:function(e){var t="app/docker/views/containers/logs/containerlogs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Container logs\'"\n  breadcrumbs="[\n    { label:\'Containers\', link:\'docker.containers\' },\n    { \n      label:(container.Name | trimcontainername),\n      link: \'docker.containers.container\', \n      linkParams:container.Id\n    }, \'Logs\']"\n>\n</page-header>\n\n<log-viewer\n  data="logs"\n  ng-if="logs"\n  log-collection-change="changeLogCollection"\n  display-timestamps="state.displayTimestamps"\n  line-count="state.lineCount"\n  since-timestamp="state.sinceTimestamp"\n  resource-name="container.Name"\n></log-viewer>\n')}]),e.exports=t},67431:function(e){var t="app/docker/views/containers/stats/containerstats.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Container statistics\'"\n  breadcrumbs="[\n    { label:\'Containers\', link:\'docker.containers\' },\n    { \n      label:(container.Name | trimcontainername),\n      link: \'docker.containers.container\', \n      linkParams:container.Id\n    }, \'Stats\']"\n>\n</page-header>\n\n<div class="row">\n  <div class="col-md-12">\n    <rd-widget>\n      <rd-widget-header icon="info" feather-icon="true" title-text="About statistics"> </rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <div class="col-sm-12">\n              <span class="small text-muted">\n                This view displays real-time statistics about the container <b>{{ container.Name | trimcontainername }}</b> as well as a list of the running processes inside this\n                container.\n              </span>\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="refreshRate" class="col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left"> Refresh rate </label>\n            <div class="col-sm-3 col-md-2">\n              <select id="refreshRate" ng-model="state.refreshRate" ng-change="changeUpdateRepeater()" class="form-control">\n                <option value="1">1s</option>\n                <option value="3">3s</option>\n                <option value="5">5s</option>\n                <option value="10">10s</option>\n                <option value="30">30s</option>\n                <option value="60">60s</option>\n              </select>\n            </div>\n            <span>\n              <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="margin-top: 7px; display: none"></i>\n            </span>\n          </div>\n          <div class="form-group" ng-if="state.networkStatsUnavailable">\n            <div class="col-sm-12">\n              <span class="small text-muted"> <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i> Network stats are unavailable for this container. </span>\n            </div>\n          </div>\n          <div class="form-group" ng-if="state.ioStatsUnavailable">\n            <div class="col-sm-12">\n              <span class="small text-muted"> <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i> I/O stats are unavailable for this container. </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-6 col-md-6 col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="bar-chart" feather-icon="true" title-text="Memory usage"></rd-widget-header>\n      <rd-widget-body>\n        <div class="chart-container" style="position: relative">\n          <canvas id="memoryChart" width="770" height="300"></canvas>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n\n  <div class="col-lg-6 col-md-6 col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="bar-chart" feather-icon="true" title-text="CPU usage"></rd-widget-header>\n      <rd-widget-body>\n        <div class="chart-container" style="position: relative">\n          <canvas id="cpuChart" width="770" height="300"></canvas>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n\n  <div class="col-lg-6 col-md-6 col-sm-12" ng-if="!state.networkStatsUnavailable">\n    <rd-widget>\n      <rd-widget-header icon="bar-chart" feather-icon="true" title-text="Network usage (aggregate)"></rd-widget-header>\n      <rd-widget-body>\n        <div class="chart-container" style="position: relative">\n          <canvas id="networkChart" width="770" height="300"></canvas>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n\n  <div class="col-lg-6 col-md-6 col-sm-12" ng-if="!state.ioStatsUnavailable">\n    <rd-widget>\n      <rd-widget-header icon="bar-chart" feather-icon="true" title-text="I/O usage (aggregate)"></rd-widget-header>\n      <rd-widget-body>\n        <div class="chart-container" style="position: relative">\n          <canvas id="ioChart" width="770" height="300"></canvas>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <container-processes-datatable\n      title-text="Processes"\n      title-icon="list"\n      dataset="processInfo.Processes"\n      headerset="processInfo.Titles"\n      table-key="container-processes"\n    ></container-processes-datatable>\n  </div>\n</div>\n')}]),e.exports=t},30357:function(e){var t="app/docker/views/dashboard/dashboard.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Dashboard\'" breadcrumbs="[\'Environment summary\']"> </page-header>\n\n<div class="row" ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n  <div class="col-sm-12">\n    <dashboard-cluster-agent-info></dashboard-cluster-agent-info>\n  </div>\n</div>\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n<information-panel\n  ng-if="\n    !applicationState.UI.dismissedInfoPanels[\'docker-dashboard-info-01\'] &&\n    !applicationState.endpoint.mode.agentProxy &&\n    applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'\n  "\n  title-text="Information"\n  dismiss-action="dismissInformationPanel(\'docker-dashboard-info-01\')"\n>\n  <span class="small">\n    <p class="text-muted" ng-if="applicationState.endpoint.mode.role === \'MANAGER\'">\n      <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n      Portainer is connected to a node that is part of a Swarm cluster. Some resources located on other nodes in the cluster might not be available for management, have a look at\n      <a href="http://portainer.readthedocs.io/en/stable/agent.html" target="_blank">our agent setup</a> for more details.\n    </p>\n    <p class="text-muted" ng-if="applicationState.endpoint.mode.role === \'WORKER\'">\n      <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n      Portainer is connected to a worker node. Swarm management features will not be available.\n    </p>\n  </span>\n</information-panel>\n\n<div ng-if="info">\n  <div class="row" ng-if="(!applicationState.endpoint.mode.agentProxy || applicationState.endpoint.mode.provider !== \'DOCKER_SWARM_MODE\') && info && endpoint">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-header icon="svg-tachometer" title-text="Environment info"></rd-widget-header>\n        <rd-widget-body classes="!px-5 !py-0">\n          <table class="table">\n            <tbody>\n              <tr>\n                <td>Environment</td>\n                <td>\n                  {{ endpoint.Name }}\n                  <span class="small text-muted space-left">\n                    <pr-icon icon="\'cpu\'" feather="true"></pr-icon> {{ endpoint.Snapshots[0].TotalCPU }} <pr-icon icon="\'svg-memory\'"></pr-icon>\n                    {{ endpoint.Snapshots[0].TotalMemory | humansize }}\n                  </span>\n                  <span class="small text-muted">\n                    - {{ info.Swarm && info.Swarm.NodeID !== \'\' ? \'Swarm\' : \'Standalone\' }} {{ info.ServerVersion }}\n                    <span ng-if="endpoint.Type === 2">+ <i class="fa fa-bolt" aria-hidden="true"></i> Agent</span></span\n                  >\n                </td>\n              </tr>\n              <tr ng-if="showEnvUrl">\n                <td>URL</td>\n                <td>{{ endpoint.URL | stripprotocol }}</td>\n              </tr>\n              <tr>\n                <td>{{ endpoint.Gpus.length <= 1 ? \'GPU\' : \'GPUs\' }}</td>\n                <td>{{ gpuInfoStr }}</td>\n              </tr>\n              <tr>\n                <td>Tags</td>\n                <td>{{ endpointTags }}</td>\n              </tr>\n              <tr ng-if="applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' && applicationState.endpoint.mode.role === \'MANAGER\'">\n                <td colspan="2">\n                  <div class="btn-group" role="group" aria-label="...">\n                    <a ui-sref="docker.swarm.visualizer" class="vertical-center"><pr-icon icon="\'trello\'" feather="true" class-name="\'icon\'"></pr-icon>Go to cluster visualizer</a>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="dashboard-grid mx-4">\n    <a class="no-link" ui-sref="docker.stacks" ng-if="showStacks">\n      <dashboard-item feather-icon="true" icon="\'layers\'" type="\'Stack\'" value="stackCount"></dashboard-item>\n    </a>\n\n    <div ng-if="applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' && applicationState.endpoint.mode.role === \'MANAGER\'">\n      <a class="no-link" ui-sref="docker.services">\n        <dashboard-item feather-icon="true" icon="\'shuffle\'" type="\'Service\'" value="serviceCount"></dashboard-item>\n      </a>\n    </div>\n\n    <a class="no-link" ng-if="containers" ui-sref="docker.containers">\n      <dashboard-item feather-icon="true" icon="\'box\'" type="\'Container\'" value="containers.length" children="containerStatusComponent"></dashboard-item>\n    </a>\n\n    <a class="no-link" ng-if="images" ui-sref="docker.images">\n      <dashboard-item feather-icon="true" icon="\'list\'" type="\'Image\'" value="images.length" children="imagesTotalSizeComponent"></dashboard-item>\n    </a>\n\n    <a class="no-link" ui-sref="docker.volumes">\n      <dashboard-item feather-icon="true" icon="\'database\'" type="\'Volume\'" value="volumeCount"></dashboard-item>\n    </a>\n\n    <a class="no-link" ui-sref="docker.networks">\n      <dashboard-item feather-icon="true" icon="\'share2\'" type="\'Network\'" value="networkCount"></dashboard-item>\n    </a>\n\n    <div>\n      <dashboard-item feather-icon="true" icon="\'cpu\'" type="\'GPU\'" value="endpoint.Gpus.length"></dashboard-item>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},97582:function(e){var t="app/docker/views/docker-features-configuration/docker-features-configuration.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Docker features configuration\'" breadcrumbs="[\'Docker configuration\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="$ctrl.form">\n          <div class="col-sm-12 form-section-title"> Host and Filesystem </div>\n          <div ng-if="!$ctrl.isAgent" class="form-group">\n            <span class="col-sm-12 text-muted small vertical-center">\n              <pr-icon icon="\'info\'" feather="true" mode="\'primary\'" class-name="space-right"></pr-icon>\n              These features are only available for an Agent enabled environments.\n            </span>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.enableHostManagementFeatures"\n                name="\'enableHostManagementFeatures\'"\n                label="\'Enable host management features\'"\n                tooltip="\'Enable host management features: host system browsing and advanced host details.\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                disabled="!$ctrl.isAgent"\n                on-change="($ctrl.onChangeEnableHostManagementFeatures)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.allowVolumeBrowserForRegularUsers"\n                name="\'allowVolumeBrowserForRegularUsers\'"\n                label="\'Enable volume management for non-administrators\'"\n                tooltip="\'When enabled, regular users will be able to use Portainer volume management features.\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeAllowVolumeBrowserForRegularUsers)"\n                disabled="!$ctrl.isAgent"\n              ></por-switch-field>\n            </div>\n          </div>\n          \x3c!-- auto update window --\x3e\n          <div class="col-sm-12 form-section-title"> Change Window Setting </div>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.state.autoUpdateSettings.Enabled"\n                name="\'disableSysctlSettingForRegularUsers\'"\n                label="\'Enable Change Window\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                feature-id="$ctrl.limitedFeature"\n                tooltip="\'Specify a time-frame during which automatic updates can occur in this environment.\'"\n                on-change="($ctrl.onToggleAutoUpdate)"\n              >\n              </por-switch-field>\n            </div>\n          </div>\n\n          \x3c!-- security --\x3e\n          <div class="col-sm-12 form-section-title"> Docker Security Settings </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableBindMountsForRegularUsers"\n                name="\'disableBindMountsForRegularUsers\'"\n                label="\'Disable bind mounts for non-administrators\'"\n                tooltip="\'When enabled, regular users will not be able to use bind mounts when creating containers.\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableBindMountsForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disablePrivilegedModeForRegularUsers"\n                name="\'disablePrivilegedModeForRegularUsers\'"\n                label="\'Disable privileged mode for non-administrators\'"\n                tooltip="\'When enabled, regular users will not be able to use privileged mode when creating containers.\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisablePrivilegedModeForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableHostNamespaceForRegularUsers"\n                name="\'disableHostNamespaceForRegularUsers\'"\n                label="\'Disable the use of host PID 1 for non-administrators\'"\n                tooltip="\'Prevent users from accessing the host filesystem through the host PID namespace.\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableHostNamespaceForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableStackManagementForRegularUsers"\n                name="\'disableStackManagementForRegularUsers\'"\n                label="\'Disable the use of Stacks for non-administrators\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableStackManagementForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableDeviceMappingForRegularUsers"\n                name="\'disableDeviceMappingForRegularUsers\'"\n                label="\'Disable device mappings for non-administrators\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableDeviceMappingForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableContainerCapabilitiesForRegularUsers"\n                name="\'disableContainerCapabilitiesForRegularUsers\'"\n                label="\'Disable container capabilities for non-administrators\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableContainerCapabilitiesForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                checked="$ctrl.formValues.disableSysctlSettingForRegularUsers"\n                name="\'disableSysctlSettingForRegularUsers\'"\n                label="\'Disable sysctl settings for non-administrators\'"\n                label-class="\'col-sm-7 col-lg-4\'"\n                on-change="($ctrl.onChangeDisableSysctlSettingForRegularUsers)"\n              ></por-switch-field>\n            </div>\n          </div>\n\n          <div class="form-group" ng-if="$ctrl.isContainerEditDisabled()">\n            <span class="col-sm-12 text-muted small">\n              <i class="fa fa-info-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n              Note: The recreate/duplicate/edit feature is currently disabled (for non-admin users) by one or more security settings.\n            </span>\n          </div>\n          \x3c!-- !security --\x3e\n\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button type="button" class="btn btn-primary btn-sm" ng-click="$ctrl.save()" ng-disabled="$ctrl.state.actionInProgress" button-spinner="$ctrl.state.actionInProgress">\n                <span ng-hide="$ctrl.state.actionInProgress">Save configuration</span>\n                <span ng-show="$ctrl.state.actionInProgress">Saving...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},9208:function(e){var t="app/docker/views/events/events.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Event list\'" breadcrumbs="[\'Events\']" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <events-datatable title-text="Events" title-icon="clock" dataset="events" table-key="events" order-by="Time" reverse-order="true"></events-datatable>\n  </div>\n</div>\n')}]),e.exports=t},18659:function(e){var t="app/docker/views/host/host-browser-view/host-browser-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Host Browser\'" breadcrumbs="[\'Host\', {label:$ctrl.host.Name, link:\'docker.host\'},  \'browse\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <host-browser ng-if="$ctrl.host" endpoint-id="$ctrl.endpoint.Id"></host-browser>\n  </div>\n</div>\n')}]),e.exports=t},20927:function(e){var t="app/docker/views/host/host-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<host-overview\n  engine-details="$ctrl.engineDetails"\n  host-details="$ctrl.hostDetails"\n  is-agent="$ctrl.state.isAgent"\n  agent-api-version="$ctrl.state.agentApiVersion"\n  disks="$ctrl.disks"\n  devices="$ctrl.devices"\n  refresh-url="docker.host"\n  browse-url="docker.host.browser"\n  offline-mode="$ctrl.state.offlineMode"\n  host-features-enabled="$ctrl.state.enableHostManagementFeatures"\n></host-overview>\n')}]),e.exports=t},14147:function(e){var t="app/docker/views/images/build/buildimage.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Build image\'" breadcrumbs="[{label:\'Images\', link:\'docker.images\'}, \'Build image\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <uib-tabset active="state.activeTab">\n          <uib-tab index="0">\n            <uib-tab-heading class="vertical-center"> <pr-icon icon="\'tool\'" feather="true" class="leading-none"></pr-icon> Builder </uib-tab-heading>\n            <form class="form-horizontal">\n              <div class="col-sm-12 form-section-title"> Naming </div>\n              \x3c!-- names --\x3e\n              <div class="form-group">\n                <span class="col-sm-12 text-muted small"> You can specify multiple names to your image. </span>\n              </div>\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <label class="control-label text-left">Names</label>\n                  <span class="label label-default interactive" class="ml-2.5" ng-click="addImageName()">\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add additional name\n                  </span>\n                </div>\n              </div>\n              \x3c!-- !names --\x3e\n              <div class="form-group" ng-if="formValues.ImageNames.length === 0">\n                <span class="col-sm-12 text-danger small">\n                  <p class="vertical-center">\n                    <pr-icon icon="\'alert-triangle\'" mode="\'danger\'" size="\'sm\'" feather="true"></pr-icon> You must specify at least one name for the image.\n                  </p>\n                </span>\n              </div>\n              \x3c!-- name-input-list --\x3e\n              <div ng-if="formValues.ImageNames.length > 0">\n                <div class="form-group">\n                  <span class="col-sm-12 text-muted small">\n                    A name must be specified in one of the following formats: <code>name:tag</code>, <code>repository/name:tag</code> or\n                    <code>registryfqdn:port/repository/name:tag</code> format. If you omit the tag the default <b>latest</b> value is assumed.\n                  </span>\n                </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <div class="col-sm-12 form-inline" class="mt-2.5">\n                      <div ng-repeat="item in formValues.ImageNames track by $index" class="mt-1">\n                        \x3c!-- name-input --\x3e\n                        <div class="input-group col-sm-5 input-group-sm">\n                          <span class="input-group-addon">name</span>\n                          <input type="text" class="form-control" ng-model="item.Name" ng-change="checkName($index)" placeholder="e.g. my-image:my-tag" auto-focus />\n                          <span class="input-group-addon" ng-if="!item.Valid">\n                            <pr-icon icon="\'x\'" mode="\'danger\'" feather="true"></pr-icon>\n                          </span>\n                          <span class="input-group-addon" ng-if="item.Valid">\n                            <pr-icon icon="\'check\'" mode="\'success\'" feather="true"></pr-icon>\n                          </span>\n                        </div>\n                        \x3c!-- !name-input --\x3e\n                        \x3c!-- actions --\x3e\n                        <div class="input-group col-sm-2 input-group-sm">\n                          <button class="btn btn-dangerlight btn-only-icon" type="button" ng-click="removeImageName($index)">\n                            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n                          </button>\n                        </div>\n                        \x3c!-- !actions --\x3e\n                        <div class="small text-warning" ng-if="!item.Valid">\n                          <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                          <span ng-if="!item.Unique">The image name must be unique</span>\n                          <span ng-if="item.Unique"\n                            >The image name must consist of between 2 and 255 lowercase alphanumeric characters, \'_\' or \'-\' (e.g. \'my-name\', or \'abc-123\').</span\n                          >\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !name-input-list --\x3e\n              \x3c!-- build-method --\x3e\n              <div class="col-sm-12 form-section-title"> Build method </div>\n              <div class="form-group"></div>\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <div class="boxselector_wrapper">\n                    <div>\n                      <input type="radio" id="method_editor" ng-model="state.BuildType" value="editor" ng-click="toggleEditor()" />\n                      <label for="method_editor">\n                        <div class="boxselector_header vertical-center">\n                          <pr-icon icon="\'edit\'" feather="true"></pr-icon>\n                          Web editor\n                        </div>\n                        <p>Use our Web editor</p>\n                      </label>\n                    </div>\n                    <div>\n                      <input type="radio" id="method_upload" ng-model="state.BuildType" value="upload" ng-click="saveEditorContent()" />\n                      <label for="method_upload">\n                        <div class="boxselector_header vertical-center">\n                          <pr-icon icon="\'upload\'" feather="true"></pr-icon>\n                          Upload\n                        </div>\n                        <p>Upload a tarball or a Dockerfile from your computer</p>\n                      </label>\n                    </div>\n                    <div>\n                      <input type="radio" id="method_url" ng-model="state.BuildType" value="url" ng-click="saveEditorContent()" />\n                      <label for="method_url">\n                        <div class="boxselector_header vertical-center">\n                          <pr-icon icon="\'globe\'" feather="true"></pr-icon>\n                          URL\n                        </div>\n                        <p>Specify a URL to a file</p>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !build-method --\x3e\n              \x3c!-- web-editor --\x3e\n              <div ng-show="state.BuildType === \'editor\'">\n                <div class="col-sm-12 form-section-title"> Web editor </div>\n                <div class="form-group">\n                  <span class="col-sm-12 text-muted small">\n                    You can get more information about Dockerfile format in the\n                    <a href="https://docs.docker.com/engine/reference/builder/" target="_blank">official documentation</a>.\n                  </span>\n                </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <code-editor\n                      identifier="image-build-editor"\n                      placeholder="Define or paste the content of your Dockerfile here"\n                      yml="false"\n                      on-change="(editorUpdate)"\n                    ></code-editor>\n                  </div>\n                </div>\n                <div class="col-sm-12 form-section-title"> Upload </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <div class="form-group">\n                      <span class="col-sm-12 text-muted small">\n                        You can upload files from your local computer for referencing in your Dockerfile (using ADD filename) so they are included in your built image.\n                      </span>\n                    </div>\n                    <button class="btn btn-sm btn-primary" ngf-select="selectAdditionalFiles($files)" ngf-multiple="true">Select files</button>\n                    <span ng-repeat="item in formValues.AdditionalFiles track by $index" class="mx-2">\n                      {{ item.name }}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !web-editor --\x3e\n              \x3c!-- upload --\x3e\n              <div ng-show="state.BuildType === \'upload\'">\n                <div class="col-sm-12 form-section-title"> Upload </div>\n                <div class="form-group">\n                  <span class="col-sm-12 text-muted small">\n                    You can upload a Dockerfile or a tar archive containing a Dockerfile from your computer. When using a tarball, the root folder will be used as the build\n                    context.\n                  </span>\n                </div>\n                <div class="form-group">\n                  <div class="col-sm-12 vertical-center">\n                    <button class="btn btn-sm btn-primary" ngf-select ngf-min-size="10" ng-model="formValues.UploadFile">Select file</button>\n                    <span class="space-left">\n                      {{ formValues.UploadFile.name }}\n                      <span ng-if="!formValues.UploadFile"><pr-icon icon="\'x\'" mode="\'danger\'" feather="true" size="\'md\'"></pr-icon></span>\n                    </span>\n                  </div>\n                </div>\n                <div ng-if="formValues.UploadFile.type === \'application/gzip\' || formValues.UploadFile.type === \'application/x-tar\'">\n                  <div class="form-group">\n                    <span class="col-sm-12 text-muted small"> Indicate the path to the Dockerfile within the tarball. </span>\n                  </div>\n                  <div class="form-group">\n                    <label for="image_path" class="col-sm-2 control-label text-left">Dockerfile path</label>\n                    <div class="col-sm-10">\n                      <input type="text" class="form-control" ng-model="formValues.Path" id="image_path" placeholder="Dockerfile" />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !upload --\x3e\n              \x3c!-- url --\x3e\n              <div ng-show="state.BuildType === \'url\'">\n                <div class="col-sm-12 form-section-title"> URL </div>\n                <div class="form-group">\n                  <span class="col-sm-12 small vertical-center">\n                    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                    <span class="text-muted"\n                      >Specify the URL to a Dockerfile, a tarball or a public Git repository (suffixed by <b>.git</b>). When using a Git repository URL, build contexts can be\n                      specified as in the <a href="https://docs.docker.com/engine/reference/commandline/build/#git-repositories">Docker documentation.</a></span\n                    >\n                  </span>\n                </div>\n                <div class="form-group">\n                  <label for="image_url" class="col-sm-2 control-label text-left">URL</label>\n                  <div class="col-sm-10">\n                    <input\n                      type="text"\n                      class="form-control"\n                      ng-model="formValues.URL"\n                      id="image_url"\n                      placeholder="https://myhost.mydomain/myimage.tar.gz or https://github.com/myname/myrepo.git#mybranch"\n                    />\n                  </div>\n                </div>\n                <div class="form-group">\n                  <span class="col-sm-12 text-muted small vertical-center">\n                    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                    Indicate the path to the Dockerfile within the tarball/repository (ignored when using a Dockerfile).\n                  </span>\n                </div>\n                <div class="form-group">\n                  <label for="image_path" class="col-sm-2 control-label text-left">Dockerfile path</label>\n                  <div class="col-sm-10">\n                    <input type="text" class="form-control" ng-model="formValues.Path" id="image_path" placeholder="Dockerfile" />\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !url --\x3e\n              <div ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n                <div class="col-sm-12 form-section-title"> Deployment </div>\n                \x3c!-- node-selection --\x3e\n                <node-selector model="formValues.NodeName"> </node-selector>\n                \x3c!-- !node-selection --\x3e\n              </div>\n              \x3c!-- actions --\x3e\n              <div class="col-sm-12 form-section-title"> Actions </div>\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <button\n                    type="button"\n                    class="btn btn-primary btn-sm"\n                    ng-disabled="state.actionInProgress\n                    || (state.BuildType === \'editor\' && formValues.DockerFileContent === \'\')\n                    || (state.BuildType === \'upload\' && (!formValues.UploadFile || !formValues.Path))\n                    || (state.BuildType === \'url\' && (!formValues.URL || !formValues.Path))\n                    || (formValues.ImageNames.length === 0 || !validImageNames())"\n                    ng-click="buildImage()"\n                    button-spinner="state.actionInProgress"\n                  >\n                    <span ng-hide="state.actionInProgress">Build the image</span>\n                    <span ng-show="state.actionInProgress">Image building in progress...</span>\n                  </button>\n                  <span class="text-danger" ng-if="state.formValidationError" class="space-left">{{ state.formValidationError }}</span>\n                </div>\n              </div>\n              \x3c!-- !actions --\x3e\n            </form>\n          </uib-tab>\n          <uib-tab index="1" disable="!buildLogs">\n            <uib-tab-heading class="vertical-center"> <pr-icon icon="\'file-text\'" feather="true" class="leading-none"></pr-icon> Output </uib-tab-heading>\n            <pre class="log_viewer">\n              <div ng-repeat="line in buildLogs track by $index" class="line"><p class="inner_line" ng-click="active=!active" ng-class="{\'line_selected\': active}">{{ line }}</p></div>\n              <div ng-if="!buildLogs.length" class="line"><p class="inner_line">No build output available.</p></div>\n            </pre>\n          </uib-tab>\n        </uib-tabset>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},35003:function(e){var t="app/docker/views/images/edit/image.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Image details\'" breadcrumbs="[{label:\'Images\', link:\'docker.images\'}, image.Id]"> </page-header>\n\n<div class="row" ng-if="image.RepoTags.length > 0">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="tag" feather-icon="true" title-text="Image tags"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <div class="row">\n              <div class="pull-left" ng-repeat="tag in image.RepoTags" style="display: table">\n                <div class="input-group col-md-1 !pr-3.5 !pl-3.5">\n                  <span class="input-group-addon" style="border-right: 1px solid var(--border-input-group-addon-color); border-radius: 4px" data-cy="image-tag-{{ tag }}">{{\n                    tag\n                  }}</span>\n                  <span class="input-group-btn" style="padding: 0px 5px">\n                    <span style="margin: 0px 5px" authorization="DockerImagePush">\n                      <a data-toggle="tooltip" class="btn btn-primary interactive" title="Push to registry" ng-click="pushTag(tag)">\n                        <pr-icon icon="\'upload\'" feather="true" class="text-white"></pr-icon>\n                      </a>\n                    </span>\n\n                    <span class="my-0 mx-1" authorization="DockerImageCreate">\n                      <a data-toggle="tooltip" class="btn btn-primary interactive" title="Pull from registry" ng-click="pullTag(tag)">\n                        <pr-icon icon="\'download\'" feather="true" class="text-white"></pr-icon>\n                      </a>\n                    </span>\n\n                    <span class="my-0 mx-1" authorization="DockerImageDelete">\n                      <a data-toggle="tooltip" class="btn btn-primary interactive" title="Remove tag" ng-click="removeTag(tag)">\n                        <pr-icon icon="\'trash-2\'" feather="true" class="text-white"></pr-icon>\n                      </a>\n                    </span>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <span class="small text-muted" authorization="DockerImageDelete">\n                Note: you can click on the upload icon <pr-icon icon="\'upload\'" feather="true"></pr-icon> to push an image or on the download icon\n                <pr-icon icon="\'download\'" feather="true"></pr-icon> to pull an image or on the trash icon <pr-icon icon="\'trash-2\'" feather="true"></pr-icon> to delete a tag.\n              </span>\n            </div>\n            <div class="col-sm-12">\n              <span id="downloadResourceHint" class="createResource ml-0" style="display: none">\n                Download in progress...\n                <i class="fa fa-circle-notch fa-spin ml-0.5" aria-hidden="true"></i>\n              </span>\n              <span id="uploadResourceHint" class="createResource ml-0.5" style="display: none">\n                Upload in progress...\n                <i class="fa fa-circle-notch fa-spin ml-0.5" aria-hidden="true"></i>\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" authorization="DockerImageCreate">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="tag" feather-icon="true" title-text="Tag the image"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- image-and-registry --\x3e\n          <por-image-registry\n            model="formValues.RegistryModel"\n            label-class="col-sm-1"\n            input-class="col-sm-11"\n            endpoint="endpoint"\n            is-admin="isAdmin"\n            set-validity="setPullImageValidity"\n            check-rate-limits="true"\n          ></por-image-registry>\n          \x3c!-- !image-and-registry --\x3e\n          \x3c!-- tag-note --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <span class="small text-muted">Note: if you don\'t specify the tag in the image name, <span class="label label-default">latest</span> will be used.</span>\n            </div>\n          </div>\n          \x3c!-- !tag-note --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button type="button" class="btn btn-primary btn-sm" ng-disabled="!formValues.RegistryModel.Image" ng-click="tagImage()">Tag</button>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="list" feather-icon="true" title-text="Image details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ image.Id }}\n                <button authorization="DockerImageDelete" class="btn btn-xs btn-danger" ng-click="removeImage(image.Id)">\n                  <pr-icon icon="\'trash-2\'" feather="true"></pr-icon> Delete this image\n                </button>\n                <button\n                  authorization="DockerImageGet"\n                  class="btn btn-xs btn-primary"\n                  ng-click="exportImage(image)"\n                  button-spinner="$ctrl.exportInProgress"\n                  ng-disabled="state.exportInProgress"\n                >\n                  <pr-icon icon="\'download\'" feather="true"></pr-icon>\n                  <span ng-hide="state.exportInProgress">Export this image</span>\n                  <span ng-show="state.exportInProgress">Export in progress...</span>\n                </button>\n              </td>\n            </tr>\n            <tr ng-if="image.Parent">\n              <td>Parent</td>\n              <td\n                ><a ui-sref="docker.images.image({id: image.Parent})">{{ image.Parent }}</a></td\n              >\n            </tr>\n            <tr>\n              <td>Size</td>\n              <td>{{ image.VirtualSize | humansize }}</td>\n            </tr>\n            <tr>\n              <td>Created</td>\n              <td>{{ image.Created | getisodate }}</td>\n            </tr>\n            <tr>\n              <td>Build</td>\n              <td>Docker {{ image.DockerVersion }} on {{ image.Os }}, {{ image.Architecture }}</td>\n            </tr>\n            <tr ng-if="!(image.Labels | emptyobject)">\n              <td>Labels</td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in image.Labels">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr ng-if="image.Author">\n              <td>Author</td>\n              <td>{{ image.Author }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="list" feather-icon="true" title-text="Dockerfile details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>CMD</td>\n              <td\n                ><code>{{ image.Command | command }}</code></td\n              >\n            </tr>\n            <tr ng-if="image.Entrypoint">\n              <td>ENTRYPOINT</td>\n              <td\n                ><code>{{ image.Entrypoint | command }}</code></td\n              >\n            </tr>\n            <tr ng-if="image.ExposedPorts.length > 0">\n              <td>EXPOSE</td>\n              <td>\n                <span class="label label-default space-right" ng-repeat="port in image.ExposedPorts">\n                  {{ port }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="image.Volumes.length > 0">\n              <td>VOLUME</td>\n              <td>\n                <span class="label label-default space-right" ng-repeat="volume in image.Volumes">\n                  {{ volume }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="image.Env.length > 0">\n              <td>ENV</td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="var in image.Env">\n                    <td>{{ var|key: \'=\' }}</td>\n                    <td>{{ var|value: \'=\' }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<div class="row" ng-if="history.length > 0">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="list" feather-icon="true" title-text="Image layers"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table id="image-layers" class="table">\n          <thead>\n            <th class="whitespace-nowrap">\n              <table-column-header\n                col-title="\'Order\'"\n                can-sort="true"\n                is-sorted="$ctrl.state.orderBy === \'Order\'"\n                is-sorted-desc="$ctrl.state.orderBy === \'Order\' && $ctrl.state.reverseOrder"\n                ng-click="$ctrl.changeOrderBy(\'Order\')"\n              ></table-column-header>\n            </th>\n            <th>\n              <table-column-header\n                col-title="\'Size\'"\n                can-sort="true"\n                is-sorted="$ctrl.state.orderBy === \'Size\'"\n                is-sorted-desc="$ctrl.state.orderBy === \'Size\' && $ctrl.state.reverseOrder"\n                ng-click="$ctrl.changeOrderBy(\'Size\')"\n              ></table-column-header>\n            </th>\n            <th>\n              <table-column-header\n                col-title="\'Layer\'"\n                can-sort="true"\n                is-sorted="$ctrl.state.orderBy === \'Layer\'"\n                is-sorted-desc="$ctrl.state.orderBy === \'Layer\' && $ctrl.state.reverseOrder"\n                ng-click="$ctrl.changeOrderBy(\'Layer\')"\n              ></table-column-header>\n            </th>\n          </thead>\n          <tbody>\n            <tr ng-repeat="layer in history | orderBy:sortType:sortReverse">\n              <td class="whitespace-nowrap">\n                {{ layer.Order }}\n              </td>\n              <td class="whitespace-nowrap">\n                {{ layer.Size | humansize }}\n              </td>\n              <td class="expand">\n                <div ng-if="layer.CreatedBy.length > 130">\n                  <span id="layer-command-{{ $index }}-full" style="display: none">\n                    {{ layer.CreatedBy | imagelayercommand }}\n                  </span>\n                  <span id="layer-command-{{ $index }}-short">\n                    {{ layer.CreatedBy | imagelayercommand | truncate: 130 }}\n                    <span ng-if="layer.CreatedBy.length > 130" class="ml-1">\n                      <a id="layer-command-expander{{ $index }}" class="btn" ng-click="toggleLayerCommand($index)">\n                        <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon>\n                      </a>\n                    </span>\n                  </span>\n                </div>\n                <div ng-if="layer.CreatedBy.length <= 130">\n                  <span id="layer-command-{{ $index }}-full">\n                    {{ layer.CreatedBy | imagelayercommand }}\n                  </span>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},30503:function(e){var t="app/docker/views/images/images.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Image list\'" breadcrumbs="[\'Images\']" reload="true"> </page-header>\n\n<div class="row" ng-if="!offlineMode" authorization="DockerImageCreate">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="download" feather-icon="true" title-text="Pull image "> </rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- image-and-registry --\x3e\n          <por-image-registry\n            model="formValues.RegistryModel"\n            auto-complete="true"\n            label-class="col-sm-1"\n            input-class="col-sm-11"\n            endpoint="endpoint"\n            is-admin="isAdmin"\n            set-validity="setPullImageValidity"\n            check-rate-limits="true"\n          >\n            <div ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n              <div class="col-sm-12 form-section-title"> Deployment </div>\n              \x3c!-- node-selection --\x3e\n              <node-selector model="formValues.NodeName"> </node-selector>\n              \x3c!-- !node-selection --\x3e\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="state.actionInProgress || !formValues.RegistryModel.Image || !state.pullRateValid"\n                  ng-click="pullImage()"\n                  button-spinner="state.actionInProgress"\n                >\n                  <span ng-hide="state.actionInProgress">Pull the image</span>\n                  <span ng-show="state.actionInProgress">Download in progress...</span>\n                </button>\n              </div>\n            </div>\n          </por-image-registry>\n          \x3c!-- !image-and-registry --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n<div class="row">\n  <div class="col-sm-12">\n    <images-datatable\n      title-text="Images"\n      title-icon="list"\n      dataset="images"\n      table-key="images"\n      order-by="RepoTags"\n      show-host-column="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'"\n      download-action="downloadAction"\n      remove-action="removeAction"\n      force-remove-action="confirmRemovalAction"\n      export-in-progress="state.exportInProgress"\n      offline-mode="offlineMode"\n      refresh-callback="getImages"\n    ></images-datatable>\n  </div>\n</div>\n')}]),e.exports=t},26447:function(e){var t="app/docker/views/images/import/importimage.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Import image\'" breadcrumbs="[{label:\'Images\', link:\'docker.images\'}, \'Import image\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- upload --\x3e\n          <div class="col-sm-12 form-section-title"> Upload </div>\n          <div class="form-group">\n            <span class="col-sm-12 text-muted small"> You can upload a tar archive containing your images. </span>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12 vertical-center">\n              <button type="button" class="btn btn-sm btn-primary" ngf-select ngf-min-size="10" ng-model="formValues.UploadFile">Select file</button>\n              <span class="ml-1">\n                {{ formValues.UploadFile.name }}\n                <pr-icon icon="\'x\'" mode="\'danger\'" feather="true" ng-if="!formValues.UploadFile"></pr-icon>\n              </span>\n            </div>\n          </div>\n          \x3c!-- !upload --\x3e\n          <div ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'">\n            <div class="col-sm-12 form-section-title"> Deployment </div>\n            \x3c!-- node-selection --\x3e\n            <node-selector model="formValues.NodeName"> </node-selector>\n            \x3c!-- !node-selection --\x3e\n          </div>\n          <div class="row" authorization="DockerImageCreate">\n            <div class="col-lg-12 col-md-12 col-xs-12">\n              <rd-widget>\n                <rd-widget-header icon="tag" feather-icon="\'true\'" title-text="Tag the image"></rd-widget-header>\n                <rd-widget-body>\n                  \x3c!-- image-and-registry --\x3e\n                  <por-image-registry\n                    model="formValues.RegistryModel"\n                    label-class="col-sm-1"\n                    input-class="col-sm-11"\n                    endpoint="endpoint"\n                    is-admin="isAdmin"\n                    set-validity="setPullImageValidity"\n                    check-rate-limits="true"\n                  ></por-image-registry>\n                </rd-widget-body>\n              </rd-widget>\n            </div>\n          </div>\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !formValues.UploadFile"\n                ng-click="uploadImage()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Upload</span>\n                <span ng-show="state.actionInProgress">Images uploading in progress...</span>\n              </button>\n              <span class="text-danger ml-1" ng-if="state.formValidationError">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},8285:function(e){var t="app/docker/views/networks/create/createnetwork.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create network\'" breadcrumbs="[{label:\'Networks\', link:\'docker.networks\'}, \'Add network\']"> </page-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="networkCreationForm">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="network_name" class="col-sm-2 col-lg-1 control-label text-left">Name</label>\n            <div class="col-sm-10 col-lg-11">\n              <input type="text" class="form-control" ng-model="config.Name" id="network_name" placeholder="e.g. myNetwork" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="col-sm-12 form-section-title"> Driver configuration </div>\n          \x3c!-- driver-input --\x3e\n          <div class="form-group">\n            <label for="network_driver" class="col-sm-2 col-lg-1 control-label text-left">Driver</label>\n            <div class="col-sm-10 col-lg-11">\n              <select class="form-control" ng-options="driver for driver in availableNetworkDrivers" ng-model="config.Driver" ng-if="availableNetworkDrivers.length > 0">\n                <option disabled hidden value="">Select a driver</option>\n              </select>\n              <input type="text" class="form-control" ng-model="config.Driver" id="network_driver" placeholder="e.g. driverName" ng-if="availableNetworkDrivers.length === 0" />\n            </div>\n          </div>\n          \x3c!-- !driver-input --\x3e\n          \x3c!-- driver-options --\x3e\n          <div class="form-group">\n            <div class="col-sm-12 mt-1">\n              <label class="control-label text-left">\n                Driver options\n                <portainer-tooltip message="\'Driver options are specific to the selected driver. Please refer to the selected driver documentation.\'"></portainer-tooltip>\n              </label>\n            </div>\n            \x3c!-- driver-options-input-list --\x3e\n            <div class="col-sm-12 form-inline mt-2">\n              <div ng-repeat="option in formValues.DriverOptions" class="mt-1">\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">name</span>\n                  <input type="text" class="form-control" ng-model="option.name" placeholder="e.g. com.docker.network.bridge.enable_icc" />\n                </div>\n                <div class="input-group col-sm-6 input-group-sm">\n                  <span class="input-group-addon">value</span>\n                  <input type="text" class="form-control" ng-model="option.value" placeholder="e.g. true" />\n                  <span class="input-group-btn">\n                    <button class="btn btn-dangerlight" type="button" ng-click="removeDriverOption($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                    </button>\n                  </span>\n                </div>\n              </div>\n              <div class="small interactive text-muted vertical-center mt-1" ng-click="addDriverOption()">\n                <pr-icon icon="\'plus\'" size="\'md\'" feather="true"></pr-icon> Add driver option\n              </div>\n            </div>\n            \x3c!-- !driver-options-input-list --\x3e\n          </div>\n          \x3c!-- !driver-options --\x3e\n          \x3c!-- macvlan-management --\x3e\n          <network-macvlan-form ng-show="config.Driver === \'macvlan\'" data="formValues.Macvlan" application-state="applicationState"></network-macvlan-form>\n          \x3c!-- !macvlan-management --\x3e\n          <div ng-hide="config.Driver === \'macvlan\' && formValues.Macvlan.Scope === \'swarm\'">\n            <div class="col-sm-12 form-section-title"> IPV4 Network configuration </div>\n            \x3c!-- subnet-gateway-inputs --\x3e\n            <div class="form-group">\n              <label for="ipv4_network_subnet" class="col-sm-2 col-lg-1 control-label text-left">Subnet</label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV4.Subnet" id="ipv4_network_subnet" placeholder="e.g. 172.20.0.0/16" />\n              </div>\n              <label for="ipv4_network_gateway" class="col-sm-2 col-lg-1 control-label text-left">Gateway</label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV4.Gateway" id="ipv4_network_gateway" placeholder="e.g. 172.20.10.11" />\n              </div>\n            </div>\n            \x3c!-- !subnet-gateway-inputs --\x3e\n            \x3c!-- iprange-auxaddr-inputs --\x3e\n            <div class="form-group">\n              <label for="ipv4_network_iprange" class="col-sm-2 col-lg-1 control-label text-left">IP range</label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV4.IPRange" id="ipv4_network_iprange" placeholder="e.g. 172.20.10.128/25" />\n              </div>\n            </div>\n            <div ng-repeat="auxAddress in formValues.IPV4.AuxiliaryAddresses track by $index" class="form-group">\n              <label for="ipv4_network_auxaddr_{{ $index }}" class="col-sm-2 col-lg-1 control-label text-left">Exclude IP</label>\n              <div class="col-sm-4 col-lg-5">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="formValues.IPV4.AuxiliaryAddresses[$index]"\n                  ng-change="checkIPV4AuxiliaryAddress($index)"\n                  id="ipv4_network_auxaddr_{{ $index }}"\n                  placeholder="e.g. my-router=172.20.10.129"\n                />\n              </div>\n              <button class="btn btn-dangerlight" type="button" ng-click="removeIPV4AuxAddress($index)">\n                <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n              </button>\n              <div class="col-sm-12 small text-warning" ng-if="state.IPV4AuxiliaryAddressesError[$index]">\n                <p class="vertical-center"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Exclude ip cannot be the same as gateway.</p>\n              </div>\n            </div>\n            \x3c!-- !iprange-auxaddr-inputs --\x3e\n            <div class="form-group">\n              <div class="col-sm-12 small interactive text-muted vertical-center" ng-click="addIPV4AuxAddress()">\n                <pr-icon icon="\'plus\'" size="\'md\'" feather="true"></pr-icon> Add excluded IP\n              </div>\n            </div>\n          </div>\n          <div ng-show="config.Driver === \'bridge\' || (config.Driver === \'macvlan\' && formValues.Macvlan.Scope !== \'swarm\')">\n            <div class="col-sm-12 form-section-title"> IPV6 Network configuration </div>\n            \x3c!-- subnet-gateway-inputs --\x3e\n            <div class="form-group">\n              <label for="ipv6_network_subnet" class="col-sm-2 col-lg-1 control-label text-left">Subnet</label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV6.Subnet" id="ipv6_network_subnet" placeholder="e.g. 2001:db8::/48" />\n              </div>\n              <label for="ipv6_network_gateway" class="col-sm-2 col-lg-1 control-label text-left">Gateway</label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV6.Gateway" id="ipv6_network_gateway" placeholder="e.g. 2001:db8::1" />\n              </div>\n            </div>\n            \x3c!-- !subnet-gateway-inputs --\x3e\n            \x3c!-- iprange-auxaddr-inputs --\x3e\n            <div class="form-group">\n              <label for="ipv6_network_iprange" class="col-sm-2 col-lg-1 control-label text-left">IP range</label>\n              <div class="col-sm-4 col-lg-5">\n                <input type="text" class="form-control" ng-model="formValues.IPV6.IPRange" id="ipv6_network_iprange" placeholder="e.g. 2001:db8::/64" />\n              </div>\n            </div>\n            <div ng-repeat="auxAddress in formValues.IPV6.AuxiliaryAddresses track by $index" class="form-group">\n              <label for="ipv6_network_auxaddr_{{ $index }}" class="col-sm-2 col-lg-1 control-label text-left">Exclude IP</label>\n              <div class="col-sm-4 col-lg-5">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="formValues.IPV6.AuxiliaryAddresses[$index]"\n                  ng-change="checkIPV6AuxiliaryAddress($index)"\n                  id="ipv6_network_auxaddr_{{ $index }}"\n                  placeholder="e.g. my-router=2001:db8::1"\n                />\n              </div>\n              <button class="btn btn-dangerlight" type="button" ng-click="removeIPV6AuxAddress($index)">\n                <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n              </button>\n              <div class="col-sm-12 small text-warning" ng-show="state.IPV6AuxiliaryAddressesError[$index]">\n                <p class="vertical-center"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Exclude ip cannot be the same as gateway.</p>\n              </div>\n            </div>\n            \x3c!-- !iprange-auxaddr-inputs --\x3e\n            <div class="form-group">\n              <div class="col-sm-12 small interactive text-muted vertical-center" ng-click="addIPV6AuxAddress()">\n                <pr-icon icon="\'plus\'" size="\'md\'" feather="true"></pr-icon> Add excluded IP\n              </div>\n            </div>\n          </div>\n          <div class="col-sm-12 form-section-title"> Advanced configuration </div>\n          \x3c!-- labels --\x3e\n          <div class="form-group">\n            \x3c!-- labels-input-list --\x3e\n            <div class="col-sm-12 form-inline">\n              <div ng-repeat="label in formValues.Labels" class="mt-1">\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">name</span>\n                  <input type="text" class="form-control" ng-model="label.key" placeholder="e.g. com.example.foo" />\n                </div>\n                <div class="input-group col-sm-6 input-group-sm">\n                  <span class="input-group-addon">value</span>\n                  <input type="text" class="form-control" ng-model="label.value" placeholder="e.g. bar" />\n                  <span class="input-group-btn">\n                    <button class="btn btn-dangerlight" type="button" ng-click="removeLabel($index)"> <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon> </button\n                  ></span>\n                </div>\n              </div>\n              <div class="form-group">\n                <div class="col-sm-12 small interactive text-muted vertical-center mt-1" ng-click="addLabel()">\n                  <pr-icon icon="\'plus\'" size="\'md\'" feather="true"></pr-icon> Add label\n                </div>\n              </div>\n            </div>\n            \x3c!-- !labels-input-list --\x3e\n          </div>\n          \x3c!-- !labels--\x3e\n          \x3c!-- internal --\x3e\n          <div class="form-group" ng-hide="config.Driver === \'macvlan\' && formValues.Macvlan.Scope === \'local\'">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-2\'"\n                checked="config.Internal"\n                label="\'Isolated network\'"\n                tooltip="\'An isolated network has no inbound or outbound communications.\'"\n                on-change="(onChangeInternal)"\n              ></por-switch-field>\n            </div>\n          </div>\n          \x3c!-- !internal --\x3e\n          \x3c!-- attachable --\x3e\n          <div class="form-group" ng-hide="config.Driver === \'macvlan\' && formValues.Macvlan.Scope === \'local\'">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-2\'"\n                checked="config.Attachable"\n                label="\'Enable manual container attachment\'"\n                on-change="(onChangeAttachable)"\n              ></por-switch-field>\n            </div>\n          </div>\n          \x3c!-- !attachable --\x3e\n          <div\n            ng-if="\n              applicationState.endpoint.mode.agentProxy &&\n              applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' &&\n              config.Driver !== \'overlay\' &&\n              config.Driver !== \'macvlan\'\n            "\n          >\n            <div class="col-sm-12 form-section-title"> Deployment </div>\n            \x3c!-- node-selection --\x3e\n            <node-selector model="formValues.NodeName"> </node-selector>\n            \x3c!-- !node-selection --\x3e\n          </div>\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !config.Name || (config.Driver === \'macvlan\' && networkCreationForm.$invalid) || !isValid()"\n                ng-click="create()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Create the network</span>\n                <span ng-show="state.actionInProgress">Creating network...</span>\n              </button>\n              <span class="text-danger space-left" ng-if="state.formValidationError">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},5147:function(e){var t="app/docker/views/networks/networks.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Network list\'" breadcrumbs="[\'Networks\']" reload="true"> </page-header>\n\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n<div class="row">\n  <div class="col-sm-12">\n    <networks-datatable\n      title-text="Networks"\n      title-icon="share-2"\n      dataset="networks"\n      table-key="networks"\n      order-by="Name"\n      remove-action="removeAction"\n      show-host-column="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'"\n      offline-mode="offlineMode"\n      refresh-callback="getNetworks"\n    ></networks-datatable>\n  </div>\n</div>\n')}]),e.exports=t},52707:function(e){var t="app/docker/views/nodes/node-browser/node-browser.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Node Browser\'"\n  breadcrumbs="[\n    {\n      label:\'swarm\',\n      link:\'docker.swarm\'\n    },\n    {\n      label: $ctrl.node.Hostname,\n      link: \'docker.nodes.node\',\n      linkParams: { id: $ctrl.nodeId }\n    },\n    \'browse\'\n  ]"\n>\n</page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <host-browser ng-if="$ctrl.node" endpoint-id="$ctrl.endpoint.Id"></host-browser>\n  </div>\n</div>\n')}]),e.exports=t},89455:function(e){var t="app/docker/views/nodes/node-details/node-details-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<host-overview\n  agent-api-version="$ctrl.state.agentApiVersion"\n  is-agent="$ctrl.state.isAgent"\n  host-details="$ctrl.hostDetails"\n  engine-details="$ctrl.engineDetails"\n  disks="$ctrl.disks"\n  devices="$ctrl.devices"\n  refresh-url="docker.nodes.node"\n  browse-url="docker.nodes.node.browse"\n  is-job-enabled="$ctrl.state.isAdmin && $ctrl.state.isAgent"\n  host-features-enabled="$ctrl.state.enableHostManagementFeatures"\n  job-url="docker.nodes.node.job"\n  jobs="$ctrl.jobs"\n>\n  <swarm-node-details-panel details="$ctrl.nodeDetails" original-node="$ctrl.originalNode"></swarm-node-details-panel>\n</host-overview>\n')}]),e.exports=t},73675:function(e){var t="app/docker/views/registries/access/registryAccess.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="$ctrl.registry">\n  <page-header title="\'Registry access\'" breadcrumbs="[{label:\'Registries\', link:$ctrl.registryTo,}, $ctrl.registry.Name, \'Access management\']"> </page-header>\n\n  <registry-details registry="$ctrl.registry"></registry-details>\n\n  <por-access-management\n    ng-if="$ctrl.endpointGroup"\n    access-controlled-entity="$ctrl.registryEndpointAccesses"\n    entity-type="registry"\n    action-in-progress="$ctrl.state.actionInProgress"\n    update-access="$ctrl.updateAccess"\n    filter-users="$ctrl.filterUsers"\n  >\n  </por-access-management>\n</div>\n')}]),e.exports=t},13702:function(e){var t="app/docker/views/secrets/create/createsecret.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create secret\'" breadcrumbs="[{label:\'Secrets\', link:\'docker.secrets\'}, \'Add secret\']"> </page-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="secret_name" class="col-sm-2 control-label text-left">Name</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="formValues.Name" id="secret_name" placeholder="e.g. mySecret" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- secret-data --\x3e\n          <div class="form-group">\n            <label for="secret_data" class="col-sm-2 control-label text-left">Secret</label>\n            <div class="col-sm-10">\n              <textarea class="form-control" rows="5" ng-model="formValues.Data" ng-trim="false"></textarea>\n            </div>\n          </div>\n          \x3c!-- !secret-data --\x3e\n          \x3c!-- encode-secret --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-2\'"\n                checked="formValues.encodeSecret"\n                label="\'Encode secret\'"\n                on-change="(handleEncodeSecretChange)"\n                tooltip="\'Secrets need to be base64 encoded. Disable this if your secret is already base64 encoded.\'"\n              ></por-switch-field>\n            </div>\n          </div>\n          \x3c!-- !encode-secret --\x3e\n          \x3c!-- labels --\x3e\n          <div class="form-group">\n            <div class="col-sm-12 mt-1">\n              <label class="control-label text-left space-right">Labels</label>\n              <span class="label label-default interactive vertical-center space-left" ng-click="addLabel()">\n                <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add label\n              </span>\n            </div>\n            \x3c!-- labels-input-list --\x3e\n            <div class="col-sm-12 form-inline mt-2">\n              <div ng-repeat="label in formValues.Labels" class="mt-1">\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">name</span>\n                  <input type="text" class="form-control" ng-model="label.key" placeholder="e.g. com.example.foo" />\n                </div>\n                <div class="input-group col-sm-6 input-group-sm">\n                  <span class="input-group-addon">value</span>\n                  <input type="text" class="form-control" ng-model="label.value" placeholder="e.g. bar" />\n                  <span class="input-group-btn">\n                    <button class="btn btn-dangerlight" type="button" ng-click="removeLabel($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                    </button>\n                  </span>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !labels-input-list --\x3e\n          </div>\n          \x3c!-- !labels--\x3e\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !formValues.Name || !formValues.Data"\n                ng-click="create()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Create the secret</span>\n                <span ng-show="state.actionInProgress">Creating secret...</span>\n              </button>\n              <span class="text-danger space-left" ng-if="state.formValidationError">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},12685:function(e){var t="app/docker/views/secrets/edit/secret.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Secret details\'" breadcrumbs="[{label:\'Secrets\', link:\'docker.secrets\', linkParams:{ id: secret.Id }}, secret.Name]" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="lock" feather-icon="true" title-text="Secret details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Name</td>\n              <td>{{ secret.Name }}</td>\n            </tr>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ secret.Id }}\n                <button authorization="DockerSecretDelete" class="btn btn-xs btn-dangerlight" ng-click="removeSecret(secret.Id)"\n                  ><pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Delete this secret</button\n                >\n              </td>\n            </tr>\n            <tr>\n              <td>Created</td>\n              <td>{{ secret.CreatedAt | getisodate }}</td>\n            </tr>\n            <tr>\n              <td>Last updated</td>\n              <td>{{ secret.UpdatedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="!(secret.Labels | emptyobject)">\n              <td>Labels</td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in secret.Labels">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<access-control-panel\n  ng-if="secret"\n  resource-id="secret.Id"\n  resource-control="secret.ResourceControl"\n  resource-type="resourceType"\n  on-update-success="(onUpdateResourceControlSuccess)"\n>\n</access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n')}]),e.exports=t},8809:function(e){var t="app/docker/views/secrets/secrets.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Secrets list\'" breadcrumbs="[\'Secrets\']" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <secrets-datatable\n      title-text="Secrets"\n      title-icon="lock"\n      dataset="secrets"\n      table-key="secrets"\n      order-by="Name"\n      remove-action="removeAction"\n      refresh-callback="getSecrets"\n    ></secrets-datatable>\n  </div>\n</div>\n')}]),e.exports=t},53566:function(e){var t="app/docker/views/services/create/createservice.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create service\'" breadcrumbs="[{label:\'Services\', link:\'docker.services\'}, \'Add service\']"> </page-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" autocomplete="off">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="service_name" class="col-sm-2 control-label text-left">Name</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" ng-model="formValues.Name" id="service_name" placeholder="e.g. myService" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="col-sm-12 form-section-title"> Image configuration </div>\n          \x3c!-- image-and-registry --\x3e\n          <por-image-registry\n            model="formValues.RegistryModel"\n            auto-complete="true"\n            label-class="col-sm-1"\n            input-class="col-sm-11"\n            endpoint="endpoint"\n            is-admin="isAdmin"\n            check-rate-limits="true"\n            set-validity="setPullImageValidity"\n          >\n          </por-image-registry>\n          \x3c!-- !image-and-registry --\x3e\n          <div class="col-sm-12 form-section-title"> Scheduling </div>\n          \x3c!-- scheduling-mode --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <label class="control-label text-left"> Scheduling mode </label>\n              <div class="btn-group btn-group-sm" style="margin-left: 20px">\n                <label class="btn btn-light" ng-model="formValues.Mode" uib-btn-radio="\'global\'">Global</label>\n                <label class="btn btn-light" ng-model="formValues.Mode" uib-btn-radio="\'replicated\'">Replicated</label>\n              </div>\n            </div>\n          </div>\n          <div class="form-group form-inline" ng-if="formValues.Mode === \'replicated\'">\n            <div class="col-sm-12">\n              <label class="control-label text-left"> Replicas </label>\n              <input type="number" class="form-control" ng-model="formValues.Replicas" id="replicas" placeholder="e.g. 3" style="margin-left: 20px" />\n            </div>\n          </div>\n          \x3c!-- !scheduling-mode --\x3e\n          <div class="col-sm-12 form-section-title"> Ports configuration </div>\n          \x3c!-- port-mapping --\x3e\n          <div class="form-group">\n            <div class="col-sm-12" style="margin-top: 5px">\n              <label class="control-label text-left">Port mapping</label>\n              <span class="label label-default interactive vertical-center" style="margin-left: 10px" ng-click="addPortBinding()">\n                <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> map additional port\n              </span>\n            </div>\n            <div class="col-sm-12 form-inline mt-2">\n              <div ng-repeat="portBinding in formValues.Ports" class="mt-1">\n                \x3c!-- host-port --\x3e\n                <div class="input-group col-sm-3 input-group-sm">\n                  <span class="input-group-addon">host</span>\n                  <input type="text" class="form-control" ng-model="portBinding.PublishedPort" placeholder="e.g. 80 or 1.2.3.4:80 (optional)" />\n                </div>\n                \x3c!-- !host-port --\x3e\n                <span style="margin: 0 10px 0 10px">\n                  <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                </span>\n                \x3c!-- container-port --\x3e\n                <div class="input-group col-sm-3 input-group-sm">\n                  <span class="input-group-addon">container</span>\n                  <input type="text" class="form-control" ng-model="portBinding.TargetPort" placeholder="e.g. 80" />\n                </div>\n                \x3c!-- !container-port --\x3e\n                \x3c!-- protocol-actions --\x3e\n                <div class="input-group col-sm-5 input-group-sm">\n                  <div class="btn-group btn-group-sm">\n                    <label class="btn btn-light" ng-model="portBinding.Protocol" uib-btn-radio="\'tcp\'">TCP</label>\n                    <label class="btn btn-light" ng-model="portBinding.Protocol" uib-btn-radio="\'udp\'">UDP</label>\n                  </div>\n                  <div class="btn-group btn-group-sm">\n                    <label class="btn btn-light" ng-model="portBinding.PublishMode" uib-btn-radio="\'ingress\'">Ingress</label>\n                    <label class="btn btn-light" ng-model="portBinding.PublishMode" uib-btn-radio="\'host\'">Host</label>\n                  </div>\n                  <button class="btn btn-dangerlight" type="button" ng-click="removePortBinding($index)">\n                    <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                  </button>\n                </div>\n                \x3c!-- !protocol-actions --\x3e\n              </div>\n            </div>\n            \x3c!-- !port-mapping-input-list --\x3e\n          </div>\n          \x3c!-- !port-mapping --\x3e\n          \x3c!-- create-webhook --\x3e\n          <div ng-if="endpoint.Type !== 4 && isAdmin">\n            <div class="col-sm-12 form-section-title"> Webhooks </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <por-switch-field\n                  label-class="\'col-sm-2\'"\n                  checked="$ctrl.formValues.Webhook"\n                  label="\'Create a service webhook\'"\n                  on-change="(handleWebHookChange)"\n                  tooltip="\'Create a webhook (or callback URI) to automate the update of this service. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this service.\'"\n                ></por-switch-field>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !create-webhook  --\x3e\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !formValues.RegistryModel.Image || !volumesAreValid()"\n                ng-click="create()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Create the service</span>\n                <span ng-show="state.actionInProgress">Creating service...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <ul class="nav nav-pills nav-justified">\n          <li class="active interactive"><a data-target="#command" data-toggle="tab">Command & Logging</a></li>\n          <li class="interactive"><a data-target="#volumes" data-toggle="tab">Volumes</a></li>\n          <li class="interactive"><a data-target="#network" data-toggle="tab">Network</a></li>\n          <li class="interactive"><a data-target="#env" data-toggle="tab">Env</a></li>\n          <li class="interactive"><a data-target="#labels" data-toggle="tab">Labels</a></li>\n          <li class="interactive"><a data-target="#update-config" data-toggle="tab">Update config & Restart</a></li>\n          <li class="interactive" ng-if="applicationState.endpoint.apiVersion >= 1.25"><a data-target="#secrets" data-toggle="tab">Secrets</a></li>\n          <li class="interactive"><a data-target="#configs" data-toggle="tab" ng-if="applicationState.endpoint.apiVersion >= 1.3">Configs</a></li>\n          <li class="interactive"><a data-target="#resources-placement" data-toggle="tab" ng-click="refreshSlider()">Resources & Placement</a></li>\n        </ul>\n        \x3c!-- tab-content --\x3e\n        <div class="tab-content">\n          \x3c!-- tab-command --\x3e\n          <div class="tab-pane active" id="command">\n            <form class="form-horizontal" style="margin-top: 15px">\n              <div class="col-sm-12 form-section-title"> Command </div>\n              \x3c!-- command-input --\x3e\n              <div class="form-group">\n                <label for="service_command" class="col-sm-2 col-lg-1 control-label text-left">Command</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.Command" id="service_command" placeholder="e.g. /usr/bin/nginx -t -c /mynginx.conf" />\n                </div>\n              </div>\n              \x3c!-- !command-input --\x3e\n              \x3c!-- entrypoint-input --\x3e\n              <div class="form-group">\n                <label for="service_entrypoint" class="col-sm-2 col-lg-1 control-label text-left">Entrypoint</label>\n                <div class="col-sm-9">\n                  <input type="text" class="form-control" ng-model="formValues.EntryPoint" id="service_entrypoint" placeholder="e.g. /bin/sh -c" />\n                </div>\n              </div>\n              \x3c!-- !entrypoint-input --\x3e\n              \x3c!-- workdir-user-input --\x3e\n              <div class="form-group">\n                <label for="service_workingdir" class="col-sm-2 col-lg-1 control-label text-left">Working Dir</label>\n                <div class="col-sm-4">\n                  <input type="text" class="form-control" ng-model="formValues.WorkingDir" id="service_workingdir" placeholder="e.g. /myapp" />\n                </div>\n                <label for="service_user" class="col-sm-1 control-label text-left">User</label>\n                <div class="col-sm-4">\n                  <input type="text" class="form-control" ng-model="formValues.User" id="service_user" placeholder="e.g. nginx" />\n                </div>\n              </div>\n              \x3c!-- !workdir-user-input --\x3e\n              <div class="col-sm-12 form-section-title"> Logging </div>\n              \x3c!-- logging-driver --\x3e\n              <div class="form-group">\n                <label for="log-driver" class="col-sm-2 col-lg-1 control-label text-left">Driver</label>\n                <div class="col-sm-4">\n                  <select class="form-control" ng-model="formValues.LogDriverName" id="log-driver">\n                    <option selected value="">Default logging driver</option>\n                    <option ng-repeat="driver in availableLoggingDrivers" ng-value="driver">{{ driver }}</option>\n                    <option value="none">none</option>\n                  </select>\n                </div>\n                <div class="col-sm-5">\n                  <p class="small text-muted">\n                    Logging driver for service that will override the default docker daemon driver. Select Default logging driver if you don\'t want to override it. Supported\n                    logging drivers can be found\n                    <a href="https://docs.docker.com/engine/admin/logging/overview/#supported-logging-drivers" target="_blank">in the Docker documentation</a>.\n                  </p>\n                </div>\n              </div>\n              \x3c!-- !logging-driver --\x3e\n              \x3c!-- logging-opts --\x3e\n              <div class="form-group">\n                <div class="col-sm-12 mt-1">\n                  <label class="control-label text-left">\n                    Options\n                    <portainer-tooltip\n                      position="\'top\'"\n                      message="\'Add button is disabled unless a driver other than none or default is selected. Options are specific to the selected driver, refer to the driver documentation.\'"\n                    ></portainer-tooltip>\n                  </label>\n                  <span\n                    class="label label-default interactive vertical-center"\n                    style="margin-left: 10px"\n                    ng-click="!formValues.LogDriverName || formValues.LogDriverName === \'none\' || addLogDriverOpt(formValues.LogDriverName)"\n                  >\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add logging driver option\n                  </span>\n                </div>\n                \x3c!-- logging-opts-input-list --\x3e\n                <div class="col-sm-12 form-inline mt-2">\n                  <div ng-repeat="opt in formValues.LogDriverOpts" class="mt-1">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">option</span>\n                      <input type="text" class="form-control" ng-model="opt.name" placeholder="e.g. FOO" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="opt.value" placeholder="e.g. bar" />\n                    </div>\n                    <button class="btn btn-dangerlight" type="button" ng-click="removeLogDriverOpt($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- logging-opts-input-list --\x3e\n              </div>\n              \x3c!-- !logging-opts --\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-command --\x3e\n          \x3c!-- tab-volume --\x3e\n          <div class="tab-pane" id="volumes">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- volumes --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Volume mapping</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addVolume()">\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> map additional volume\n                  </span>\n                </div>\n                \x3c!-- volumes-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="volume in formValues.Volumes">\n                    <div class="col-sm-12" style="margin-top: 10px">\n                      \x3c!-- volume-line1 --\x3e\n                      <div class="col-sm-12 form-inline">\n                        \x3c!-- container-path --\x3e\n                        <div class="input-group col-sm-6">\n                          <div class="input-group input-group-sm w-full">\n                            <span class="input-group-addon">container</span>\n                            <input type="text" class="form-control" ng-model="volume.Target" placeholder="e.g. /path/in/container" />\n                          </div>\n                          <div class="small text-warning" ng-show="!volume.Target">\n                            <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Target is required.\n                          </div>\n                        </div>\n                        \x3c!-- !container-path --\x3e\n                        \x3c!-- volume-type --\x3e\n                        <div class="input-group col-sm-5" style="margin-left: 5px; vertical-align: top">\n                          <div class="btn-group btn-group-sm" ng-if="allowBindMounts">\n                            <label class="btn btn-light" ng-model="volume.Type" uib-btn-radio="\'volume\'" ng-click="volume.Source = null">Volume</label>\n                            <label class="btn btn-light" ng-model="volume.Type" uib-btn-radio="\'bind\'" ng-click="volume.Source = null">Bind</label>\n                          </div>\n                          <button class="btn btn-dangerlight" type="button" ng-click="removeVolume($index)">\n                            <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                          </button>\n                        </div>\n                        \x3c!-- !volume-type --\x3e\n                      </div>\n                      \x3c!-- !volume-line1 --\x3e\n                      \x3c!-- volume-line2 --\x3e\n                      <div class="col-sm-12 form-inline" style="margin-top: 5px">\n                        <div style="height: 30px; display: inline-block; vertical-align: top; display: inline-flex; align-items: center">\n                          <i class="fa fa-long-arrow-alt-right" aria-hidden="true"></i>\n                        </div>\n                        \x3c!-- volume --\x3e\n                        <div class="col-sm-6 input-group" ng-if="volume.Type === \'volume\'" style="float: none; padding: 0">\n                          <div class="input-group input-group-sm w-full">\n                            <span class="input-group-addon">volume</span>\n                            <select\n                              class="form-control"\n                              ng-model="volume.Source"\n                              ng-options="vol as ((vol.Id|truncate:30) + \' - \' + (vol.Driver|truncate:30)) for vol in availableVolumes"\n                            >\n                              <option selected disabled value="">Select a volume</option>\n                            </select>\n                          </div>\n                          <div class="small text-warning" ng-show="!volume.Source">\n                            <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Source is required.\n                          </div>\n                        </div>\n                        \x3c!-- !volume --\x3e\n                        \x3c!-- bind --\x3e\n                        <div class="input-group input-group-sm col-sm-6" ng-if="volume.Type === \'bind\'">\n                          <div class="input-group input-group-sm w-full">\n                            <span class="input-group-addon">host</span>\n                            <input type="text" class="form-control" ng-model="volume.Source" placeholder="e.g. /path/on/host" />\n                          </div>\n                          <div class="small text-warning" ng-show="!volume.Source">\n                            <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Source is required.\n                          </div>\n                        </div>\n                        \x3c!-- !bind --\x3e\n                        \x3c!-- read-only --\x3e\n                        <div class="input-group input-group-sm col-sm-5" style="margin-left: 5px; vertical-align: top">\n                          <div class="btn-group btn-group-sm">\n                            <label class="btn btn-light" ng-model="volume.ReadOnly" uib-btn-radio="false">Writable</label>\n                            <label class="btn btn-light" ng-model="volume.ReadOnly" uib-btn-radio="true">Read-only</label>\n                          </div>\n                        </div>\n                        \x3c!-- !read-only --\x3e\n                      </div>\n                      \x3c!-- !volume-line2 --\x3e\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- !volumes-input-list --\x3e\n              </div>\n              \x3c!-- !volumes --\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-volume --\x3e\n          \x3c!-- tab-network --\x3e\n          <div class="tab-pane" id="network">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- network-input --\x3e\n              <div class="form-group">\n                <label for="container_network" class="col-sm-2 col-lg-1 control-label text-left">Network</label>\n                <div class="col-sm-9">\n                  <select class="form-control" ng-model="formValues.Network">\n                    <option selected disabled hidden value="">Select a network</option>\n                    <option ng-repeat="net in availableNetworks | orderBy: \'Name\'" ng-value="net.Name">{{ net.Name }}</option>\n                  </select>\n                </div>\n                <div class="col-sm-2"></div>\n              </div>\n              \x3c!-- !network-input --\x3e\n              \x3c!-- extra-networks --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Extra networks</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addExtraNetwork()">\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add extra network\n                  </span>\n                </div>\n                \x3c!-- network-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="network in formValues.ExtraNetworks" style="margin-top: 2px">\n                    <select class="form-control" ng-model="network.Name">\n                      <option selected disabled hidden value="">Select a network</option>\n                      <option ng-repeat="net in availableNetworks" ng-value="net.Name">{{ net.Name }}</option>\n                    </select>\n                    <button class="btn btn-dangerlight" type="button" ng-click="removeExtraNetwork($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !network-input-list --\x3e\n              </div>\n              \x3c!-- !extra-networks --\x3e\n              \x3c!-- extra-hosts-variables --\x3e\n              <div class="form-group" ng-if="applicationState.endpoint.apiVersion >= 1.25">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Hosts file entries</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addHostsEntry()">\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add additional entry\n                  </span>\n                </div>\n                \x3c!-- hosts-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="variable in formValues.HostsEntries" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="variable.value" placeholder="e.g. host:IP" />\n                    </div>\n                    <button class="btn btn-dangerlight" type="button" ng-click="removeHostsEntry($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !hosts-input-list --\x3e\n              </div>\n              \x3c!-- !extra-hosts-variables --\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-network --\x3e\n          \x3c!-- tab-env --\x3e\n          <div class="tab-pane" id="env">\n            <environment-variables-panel\n              ng-model="formValues.Env"\n              explanation="These values will be applied to the service when created"\n              on-change="(handleEnvVarChange)"\n            ></environment-variables-panel>\n          </div>\n          \x3c!-- !tab-env --\x3e\n          \x3c!-- tab-labels --\x3e\n          <div class="tab-pane" id="labels">\n            <form class="form-horizontal" style="margin-top: 15px">\n              \x3c!-- labels --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Service labels</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addLabel()">\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add service label\n                  </span>\n                </div>\n                \x3c!-- labels-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="label in formValues.Labels" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">name</span>\n                      <input type="text" class="form-control" ng-model="label.key" placeholder="e.g. com.example.foo" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="label.value" placeholder="e.g. bar" />\n                    </div>\n                    <button class="btn btn-dangerlight" type="button" ng-click="removeLabel($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !labels-input-list --\x3e\n              </div>\n              \x3c!-- !labels--\x3e\n              \x3c!-- container-labels --\x3e\n              <div class="form-group">\n                <div class="col-sm-12" style="margin-top: 5px">\n                  <label class="control-label text-left">Container labels</label>\n                  <span class="label label-default interactive" style="margin-left: 10px" ng-click="addContainerLabel()">\n                    <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add container label\n                  </span>\n                </div>\n                \x3c!-- container-labels-input-list --\x3e\n                <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                  <div ng-repeat="label in formValues.ContainerLabels" style="margin-top: 2px">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">name</span>\n                      <input type="text" class="form-control" ng-model="label.key" placeholder="e.g. com.example.foo" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="label.value" placeholder="e.g. bar" />\n                    </div>\n                    <button class="btn btn-dangerlight" type="button" ng-click="removeContainerLabel($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !container-labels-input-list --\x3e\n              </div>\n              \x3c!-- !container-labels--\x3e\n            </form>\n          </div>\n          \x3c!-- !tab-labels --\x3e\n          \x3c!-- tab-update-config --\x3e\n          <div class="tab-pane" id="update-config" ng-include="\'app/docker/views/services/create/includes/update-restart.html\'"></div>\n          \x3c!-- !tab-update-config --\x3e\n          \x3c!-- tab-secrets --\x3e\n          <div class="tab-pane" id="secrets" ng-if="applicationState.endpoint.apiVersion >= 1.25" ng-include="\'app/docker/views/services/create/includes/secret.html\'"></div>\n          \x3c!-- !tab-secrets --\x3e\n          \x3c!-- tab-configs --\x3e\n          <div class="tab-pane" id="configs" ng-if="applicationState.endpoint.apiVersion >= 1.3" ng-include="\'app/docker/views/services/create/includes/config.html\'"></div>\n          \x3c!-- !tab-configs --\x3e\n          \x3c!-- tab-resources-placement --\x3e\n          <div class="tab-pane" id="resources-placement" ng-include="\'app/docker/views/services/create/includes/resources-placement.html\'"></div>\n          \x3c!-- !tab-resources-placement --\x3e\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},98876:function(e){var t="app/docker/views/services/create/includes/config.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" style="margin-top: 15px">\n  <div class="form-group">\n    <div class="col-sm-12" style="margin-top: 5px">\n      <label class="control-label text-left">Configs</label>\n      <span class="label label-default interactive" style="margin-left: 10px" ng-click="addConfig()">\n        <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add a config\n      </span>\n    </div>\n    \x3c!-- info message --\x3e\n    <div class="form-group" ng-show="formValues.Configs.$invalid" style="margin-bottom: 0px">\n      <div class="col-sm-12 small text-warning" style="padding-left: 35px; padding-top: 20px">\n        <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> {{ formValues.Configs.$error }}\n      </div>\n    </div>\n    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n      <div ng-repeat="config in formValues.Configs" style="margin-top: 2px">\n        <div class="input-group col-sm-4 input-group-sm">\n          <span class="input-group-addon">config</span>\n          <select class="form-control" ng-change="checkIfConfigDuplicated()" ng-model="config.model" ng-options="config.Name for config in availableConfigs | orderBy: \'Name\'">\n            <option value="" selected="selected">Select a config</option>\n          </select>\n        </div>\n        <div class="input-group col-sm-4 input-group-sm">\n          <span class="input-group-addon">Path in container</span>\n          <input class="form-control" ng-model="config.FileName" placeholder="e.g. /path/in/container" />\n        </div>\n        <button class="btn btn-dangerlight" type="button" ng-click="removeConfig($index)">\n          <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},14714:function(e){var t="app/docker/views/services/create/includes/resources-placement.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" style="margin-top: 15px">\n  <div class="col-sm-12 form-section-title"> Resources </div>\n  \x3c!-- memory-reservation-input --\x3e\n  <div class="form-group">\n    <label for="memory-reservation" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px"> Memory reservation </label>\n    <div class="col-sm-3">\n      <slider model="formValues.MemoryReservation" floor="0" ceil="state.sliderMaxMemory" step="256" ng-if="state.sliderMaxMemory"></slider>\n    </div>\n    <div class="col-sm-2">\n      <input type="number" min="0" class="form-control" ng-model="formValues.MemoryReservation" />\n    </div>\n    <div class="col-sm-4">\n      <p class="small text-muted" style="margin-top: 7px"> Minimum memory available on a node to run a task (<b>MB</b>) </p>\n    </div>\n  </div>\n  \x3c!-- !memory-reservation-input --\x3e\n  \x3c!-- memory-limit-input --\x3e\n  <div class="form-group">\n    <label for="memory-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px"> Memory limit </label>\n    <div class="col-sm-3">\n      <slider model="formValues.MemoryLimit" floor="0" ceil="state.sliderMaxMemory" step="256" ng-if="state.sliderMaxMemory"></slider>\n    </div>\n    <div class="col-sm-2">\n      <input type="number" min="0" class="form-control" ng-model="formValues.MemoryLimit" />\n    </div>\n    <div class="col-sm-4" style="margin-top: 7px">\n      <p class="small text-muted"> Maximum memory usage per task (<b>MB</b>) </p>\n    </div>\n  </div>\n  \x3c!-- !memory-limit-input --\x3e\n  \x3c!-- cpu-reservation-input --\x3e\n  <div class="form-group">\n    <label for="cpu-reservation" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px"> CPU reservation </label>\n    <div class="col-sm-5">\n      <slider model="formValues.CpuReservation" floor="0" ceil="state.sliderMaxCpu" step="0.25" precision="2" ng-if="state.sliderMaxCpu"></slider>\n    </div>\n    <div class="col-sm-4" style="margin-top: 20px">\n      <p class="small text-muted"> Minimum CPU available on a node to run a task </p>\n    </div>\n  </div>\n  \x3c!-- !cpu-reservation-input --\x3e\n  \x3c!-- cpu-limit-input --\x3e\n  <div class="form-group">\n    <label for="cpu-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px"> CPU limit </label>\n    <div class="col-sm-5">\n      <slider model="formValues.CpuLimit" floor="0" ceil="state.sliderMaxCpu" step="0.25" precision="2" ng-if="state.sliderMaxCpu"></slider>\n    </div>\n    <div class="col-sm-4" style="margin-top: 20px">\n      <p class="small text-muted"> Maximum CPU usage per task </p>\n    </div>\n  </div>\n  \x3c!-- !cpu-limit-input --\x3e\n  <div class="col-sm-12 form-section-title"> Placement </div>\n  \x3c!-- placement-constraints --\x3e\n  <div class="form-group">\n    <div class="col-sm-12" style="margin-top: 5px">\n      <label class="control-label text-left">Placement constraints</label>\n      <span class="label label-default interactive" style="margin-left: 10px" ng-click="addPlacementConstraint()">\n        <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> placement constraint\n      </span>\n    </div>\n    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n      <div ng-repeat="constraint in formValues.PlacementConstraints" style="margin-top: 2px">\n        <div class="input-group col-sm-4 input-group-sm">\n          <span class="input-group-addon">name</span>\n          <input type="text" class="form-control" ng-model="constraint.key" placeholder="e.g. node.role" />\n        </div>\n        <div class="input-group col-sm-1 input-group-sm">\n          <select name="constraintOperator" class="form-control" ng-model="constraint.operator">\n            <option value="==">==</option>\n            <option value="!=">!=</option>\n          </select>\n        </div>\n        <div class="input-group col-sm-5 input-group-sm">\n          <span class="input-group-addon">value</span>\n          <input type="text" class="form-control" ng-model="constraint.value" placeholder="e.g. manager" />\n        </div>\n        <button class="btn btn-dangerlight" type="button" ng-click="removePlacementConstraint($index)">\n          <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !placement-constraints --\x3e\n  \x3c!-- placement-preferences --\x3e\n  <div class="form-group" ng-if="applicationState.endpoint.apiVersion >= 1.3">\n    <div class="col-sm-12" style="margin-top: 5px">\n      <label class="control-label text-left">Placement preferences</label>\n      <span class="label label-default interactive" style="margin-left: 10px" ng-click="addPlacementPreference()">\n        <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> placement preference\n      </span>\n    </div>\n    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n      <div ng-repeat="preference in formValues.PlacementPreferences" style="margin-top: 2px">\n        <div class="input-group col-sm-4 input-group-sm">\n          <span class="input-group-addon">strategy</span>\n          <input type="text" class="form-control" ng-model="preference.strategy" placeholder="e.g. spread" />\n        </div>\n        <div class="input-group col-sm-5 input-group-sm">\n          <span class="input-group-addon">value</span>\n          <input type="text" class="form-control" ng-model="preference.value" placeholder="e.g. node.labels.datacenter" />\n        </div>\n        <button class="btn btn-dangerlight" type="button" ng-click="removePlacementPreference($index)">\n          <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !placement-preferences --\x3e\n</form>\n')}]),e.exports=t},61573:function(e){var t="app/docker/views/services/create/includes/secret.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" style="margin-top: 15px">\n  <div class="form-group">\n    <div class="col-sm-12 small text-muted">\n      By default, secrets will be available under <code>/run/secrets/$SECRET_NAME</code> in containers (Linux) or\n      <code>C:\\ProgramData\\Docker\\secrets\\$SECRET_NAME</code> (Windows).</div\n    >\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12" style="margin-top: 5px">\n      <label class="control-label text-left">Secrets</label>\n      <span class="label label-default interactive" style="margin-left: 10px" ng-click="addSecret()">\n        <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add a secret\n      </span>\n    </div>\n    \x3c!-- info message --\x3e\n    <div class="form-group" ng-show="formValues.Secrets.$invalid" style="margin-bottom: 0px">\n      <div class="col-sm-12 small text-warning" style="padding-left: 35px; padding-top: 20px">\n        <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> {{ formValues.Secrets.$error }}\n      </div>\n    </div>\n    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n      <div ng-repeat="secret in formValues.Secrets track by $index" style="margin-top: 4px">\n        <div class="input-group col-sm-4 input-group-sm">\n          <span class="input-group-addon">secret</span>\n          <select class="form-control" ng-model="secret.model" ng-change="checkIfSecretDuplicated()" ng-options="secret.Name for secret in availableSecrets | orderBy: \'Name\'">\n            <option value="" selected="selected">Select a secret</option>\n          </select>\n        </div>\n        <div class="input-group col-sm-4 input-group-sm" ng-if="applicationState.endpoint.apiVersion >= 1.3 && secret.overrideTarget">\n          <span class="input-group-addon">target</span>\n          <input class="form-control" ng-model="secret.target" placeholder="/path/in/container" />\n        </div>\n        <div class="input-group col-sm-3 input-group-sm">\n          <div class="btn-group btn-group-sm" ng-if="applicationState.endpoint.apiVersion >= 1.3">\n            <label class="btn btn-light" ng-model="secret.overrideTarget" uib-btn-radio="false">Default location</label>\n            <label class="btn btn-light" ng-model="secret.overrideTarget" uib-btn-radio="true">Override</label>\n          </div>\n          <button class="btn btn-dangerlight" type="button" ng-click="removeSecret($index)">\n            <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},74827:function(e){var t="app/docker/views/services/create/includes/update-restart.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" style="margin-top: 15px">\n  <div class="col-sm-12 form-section-title"> Update config </div>\n  \x3c!-- parallelism-input --\x3e\n  <div class="form-group">\n    <label for="parallelism" class="col-sm-3 col-lg-2 control-label text-left">Update parallelism</label>\n    <div class="col-sm-4 col-lg-3">\n      <input type="number" class="form-control" ng-model="formValues.Parallelism" id="parallelism" placeholder="e.g. 1" />\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Maximum number of tasks to be updated simultaneously (0 to update all at once). </p>\n    </div>\n  </div>\n  \x3c!-- !parallelism-input --\x3e\n  \x3c!-- delay-input --\x3e\n  <div class="form-group">\n    <label for="update-delay" class="col-sm-3 col-lg-2 control-label text-left">\n      Update delay\n      <portainer-tooltip message="\'Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns.\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-4 col-lg-3">\n      <input type="text" class="form-control" ng-model="formValues.UpdateDelay" id="update-delay" placeholder="e.g. 1m" ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i" />\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Amount of time between updates expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0s, 0 seconds. </p>\n    </div>\n  </div>\n  \x3c!-- !delay-input --\x3e\n  \x3c!-- failureAction-input --\x3e\n  <div class="form-group">\n    <label for="failure-action" class="col-sm-3 col-lg-2 control-label text-left">Update failure action</label>\n    <div class="col-sm-4 col-lg-3">\n      <div class="btn-group btn-group-sm">\n        <label class="btn btn-light" ng-model="formValues.FailureAction" uib-btn-radio="\'continue\'">Continue</label>\n        <label class="btn btn-light" ng-model="formValues.FailureAction" uib-btn-radio="\'pause\'">Pause</label>\n      </div>\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Action taken on failure to start after update. </p>\n    </div>\n  </div>\n  \x3c!-- !failureAction-input --\x3e\n  \x3c!-- order-input --\x3e\n  <div class="form-group" ng-if="applicationState.endpoint.apiVersion >= 1.29">\n    <label for="update-order" class="col-sm-3 col-lg-2 control-label text-left">Update order</label>\n    <div class="col-sm-4 col-lg-3">\n      <div class="btn-group btn-group-sm">\n        <label class="btn btn-light" ng-model="formValues.UpdateOrder" uib-btn-radio="\'start-first\'">start-first</label>\n        <label class="btn btn-light" ng-model="formValues.UpdateOrder" uib-btn-radio="\'stop-first\'">stop-first</label>\n      </div>\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Operation order on failure. </p>\n    </div>\n  </div>\n  \x3c!-- !order-input --\x3e\n\n  <div class="col-sm-12 form-section-title"> Restart policy </div>\n  \x3c!-- restartCondition-input --\x3e\n  <div class="form-group">\n    <label for="restart-condition" class="col-sm-3 col-lg-2 control-label text-left">Restart condition</label>\n    <div class="col-sm-4 col-lg-3">\n      <div class="btn-group btn-group-sm">\n        <label class="btn btn-light" ng-model="formValues.RestartCondition" uib-btn-radio="\'none\'">None</label>\n        <label class="btn btn-light" ng-model="formValues.RestartCondition" uib-btn-radio="\'on-failure\'">On-failure</label>\n        <label class="btn btn-light" ng-model="formValues.RestartCondition" uib-btn-radio="\'any\'">Any</label>\n      </div>\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Restart when condition is met (default condition "any"). </p>\n    </div>\n  </div>\n  \x3c!-- !restartCondition-input --\x3e\n  \x3c!-- restartDelay-input --\x3e\n  <div class="form-group">\n    <label for="restart-delay" class="col-sm-3 col-lg-2 control-label text-left">\n      Restart delay\n      <portainer-tooltip message="\'Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns.\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-4 col-lg-3">\n      <input type="text" class="form-control" ng-model="formValues.RestartDelay" id="restart-delay" placeholder="e.g. 1m" ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i" />\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Delay between restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 5s, 5 seconds. </p>\n    </div>\n  </div>\n  \x3c!-- !restartDelay-input --\x3e\n  \x3c!-- restartMaxAttempts-input --\x3e\n  <div class="form-group">\n    <label for="restart-max-attempts" class="col-sm-3 col-lg-2 control-label text-left">Restart max attempts</label>\n    <div class="col-sm-4 col-lg-3">\n      <input type="number" class="form-control" ng-model="formValues.RestartMaxAttempts" id="restart-max-attempts" placeholder="e.g. 0" />\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted"> Maximum attempts to restart a given task before giving up (default value is 0, which means unlimited). </p>\n    </div>\n  </div>\n  \x3c!-- !restartMaxAttempts-input --\x3e\n  \x3c!-- restartWindow-input --\x3e\n  <div class="form-group">\n    <label for="restart-window" class="col-sm-3 col-lg-2 control-label text-left">\n      Restart window\n      <portainer-tooltip message="\'Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns.\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-4 col-lg-3">\n      <input type="text" class="form-control" ng-model="formValues.RestartWindow" id="restart-window" placeholder="e.g. 1m" ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i" />\n    </div>\n    <div class="col-sm-5">\n      <p class="small text-muted">\n        Time window to evaluate restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0 seconds, which is unbounded.\n      </p>\n    </div>\n  </div>\n  \x3c!-- !restartWindow-input --\x3e\n</form>\n')}]),e.exports=t},74612:function(e){var t="app/docker/views/services/edit/includes/configs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form ng-if="applicationState.endpoint.apiVersion >= 1.3" id="service-configs" ng-submit="updateService(service)">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Configs"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="form-inline" style="padding: 10px" authorization="DockerServiceUpdate">\n        Add a config:\n        <select class="form-control" ng-options="config.Name for config in configs | orderBy: \'Name\'" ng-model="newConfig">\n          <option selected disabled hidden value="">Select a config</option>\n        </select>\n        <a class="btn btn-default btn-sm" ng-click="addConfig(service, newConfig)"> <pr-icon icon="\'plus\'" feather="true"></pr-icon> add config </a>\n      </div>\n      <table class="table" style="margin-top: 5px">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Path in container</th>\n            <th>UID</th>\n            <th>GID</th>\n            <th>Mode</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="config in service.ServiceConfigs">\n            <td\n              ><a ui-sref="docker.configs.config({id: config.Id})">{{ config.Name }}</a></td\n            >\n            <td>\n              <input\n                class="form-control"\n                ng-model="config.FileName"\n                ng-change="updateConfig(service)"\n                placeholder="e.g. /path/in/container"\n                required\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>{{ config.Uid }}</td>\n            <td>{{ config.Gid }}</td>\n            <td>{{ config.Mode }}</td>\n            <td authorization="DockerServiceUpdate">\n              <button class="btn btn-dangerlight pull-right" type="button" ng-click="removeConfig(service, $index)" ng-disabled="isUpdating">\n                <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n              </button>\n            </td>\n          </tr>\n          <tr ng-if="service.ServiceConfigs.length === 0">\n            <td colspan="6" class="text-center text-muted">No configs associated to this service.</td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="submit" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServiceConfigs\'])">Apply changes</button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceConfigs\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</form>\n')}]),e.exports=t},17590:function(e){var t="app/docker/views/services/edit/includes/constraints.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="service.ServiceConstraints" id="service-placement-constraints">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Placement constraints">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-secondary btn-sm pull-right" ng-click="isUpdating || addPlacementConstraint(service)" ng-disabled="isUpdating">\n          <pr-icon icon="\'plus\'" feather="true"></pr-icon> placement constraint\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.ServiceConstraints.length === 0">\n      <p>There are no placement constraints for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.ServiceConstraints.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Operator</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="constraint in service.ServiceConstraints">\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="constraint.key"\n                  placeholder="e.g. node.role"\n                  ng-change="updatePlacementConstraint(service, constraint)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <select\n                  name="constraintOperator"\n                  class="form-control"\n                  ng-model="constraint.operator"\n                  ng-change="updatePlacementConstraint(service, constraint)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                >\n                  <option value="==">==</option>\n                  <option value="!=">!=</option>\n                </select>\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="constraint.value"\n                  placeholder="e.g. manager"\n                  ng-change="updatePlacementConstraint(service, constraint)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-dangerlight" type="button" ng-click="removePlacementConstraint(service, $index)" ng-disabled="isUpdating">\n                    <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServiceConstraints\'])" ng-click="updateService(service)">Apply changes</button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceConstraints\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},83431:function(e){var t="app/docker/views/services/edit/includes/container-specs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Container spec"></rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <table class="table">\n        <tbody>\n          <tr>\n            <td>CMD</td>\n            <td\n              ><code ng-if="service.Command">{{ service.Command | command }}</code></td\n            >\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Command to execute. </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Args</td>\n            <td\n              ><code ng-if="service.Arguments">{{ service.Arguments }}</code></td\n            >\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Arguments passed to command in container. </p>\n            </td>\n          </tr>\n          <tr>\n            <td>User</td>\n            <td>{{ service.User }}</td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Username or UID. </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Working directory</td>\n            <td>{{ service.Dir }}</td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Working directory inside the container. </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Stop grace period</td>\n            <td>{{ service.StopGracePeriod }}</td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Time to wait before force killing a container (default none). </p>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},33964:function(e){var t="app/docker/views/services/edit/includes/containerlabels.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-container-labels">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Container labels">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-secondary btn-sm pull-right" ng-click="isUpdating ||addContainerLabel(service)" ng-disabled="isUpdating">\n          <pr-icon icon="\'plus\'" feather="true"></pr-icon> container label\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.ServiceContainerLabels.length === 0">\n      <p>There are no container labels for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.ServiceContainerLabels.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Label</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="label in service.ServiceContainerLabels">\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size">name</span>\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="label.key"\n                  placeholder="e.g. com.example.foo"\n                  ng-change="updateContainerLabel(service, label)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size">value</span>\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="label.value"\n                  placeholder="e.g. bar"\n                  ng-change="updateContainerLabel(service, label)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-dangerlight" type="button" ng-click="removeContainerLabel(service, $index)" ng-disabled="isUpdating">\n                    <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServiceContainerLabels\'])" ng-click="updateService(service)"\n            >Apply changes</button\n          >\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceContainerLabels\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},73631:function(e){var t="app/docker/views/services/edit/includes/environmentvariables.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form ng-if="service.EnvironmentVariables" id="service-env-variables" name="serviceEnvForm">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Environment variables">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-secondary btn-sm pull-right" ng-click="isUpdating || addEnvironmentVariable(service)" ng-disabled="isUpdating">\n          <pr-icon icon="\'plus\'" feather="true"></pr-icon> environment variable\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.EnvironmentVariables.length === 0">\n      <p>There are no environment variables for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.EnvironmentVariables.length > 0">\n      <environment-variables-panel is-name-disabled="true" ng-model="service.EnvironmentVariables" on-change="(onChangeEnvVars)"></environment-variables-panel>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button\n            type="button"\n            class="btn btn-primary btn-sm"\n            ng-disabled="!hasChanges(service, [\'EnvironmentVariables\']) || serviceEnvForm.$invalid"\n            ng-click="updateService(service)"\n          >\n            Apply changes\n          </button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'EnvironmentVariables\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</ng-form>\n')}]),e.exports=t},49394:function(e){var t="app/docker/views/services/edit/includes/hosts.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Hosts file entries">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-secondary btn-sm pull-right" ng-click="isUpdating ||addHostsEntry(service)" ng-disabled="isUpdating">\n          <pr-icon icon="\'plus\'" feather="true"></pr-icon> add host entry\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="!service.Hosts || service.Hosts.length === 0">\n      <p>The Hosts file has no extra entries.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.Hosts.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Hostname</th>\n            <th>IP</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="entry in service.Hosts">\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="entry.hostname"\n                  placeholder="e.g. example.com"\n                  ng-change="updateHostsEntry(service, entry)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="entry.ip"\n                  placeholder="e.g. 10.0.1.1"\n                  ng-change="updateHostsEntry(service, entry)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-dangerlight" type="button" ng-click="removeHostsEntry(service, $index)" ng-disabled="isUpdating">\n                    <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'Hosts\'])" ng-click="updateService(service)">Apply changes</button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'Hosts\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},69480:function(e){var t="app/docker/views/services/edit/includes/image.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-container-image" authorization="DockerServiceUpdate">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Change container image"> </rd-widget-header>\n    <rd-widget-body ng-if="!isUpdating">\n      <form class="form-horizontal">\n        <por-image-registry\n          model="formValues.RegistryModel"\n          auto-complete="true"\n          label-class="col-sm-1"\n          input-class="col-sm-11"\n          endpoint="endpoint"\n          is-admin="isAdmin"\n          check-rate-limits="true"\n          set-validity="setPullImageValidity"\n        >\n        </por-image-registry>\n      </form>\n    </rd-widget-body>\n    <rd-widget-body ng-if="isUpdating">\n      <p>Image modification is disabled while service is updating.</p>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'Image\'])" ng-click="updateService(service)">Apply changes</button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'Image\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},47300:function(e){var t="app/docker/views/services/edit/includes/logging.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-logging-driver">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Logging driver"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="form-inline" style="padding: 10px" authorization="DockerServiceUpdate">\n        Driver:\n        <select class="form-control" ng-model="service.LogDriverName" ng-change="updateLogDriverName(service)" ng-disabled="isUpdating">\n          <option selected value="">Default logging driver</option>\n          <option ng-repeat="driver in availableLoggingDrivers" ng-value="driver">{{ driver }}</option>\n          <option value="none">none</option>\n        </select>\n        <a class="btn btn-default btn-sm" ng-click="!service.LogDriverName || service.LogDriverName === \'none\' || addLogDriverOpt(service)">\n          <pr-icon icon="\'plus\'" feather="true"></pr-icon> add logging driver option\n        </a>\n      </div>\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Option</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="option in service.LogDriverOpts">\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size">name</span>\n                <input type="text" class="form-control" ng-model="option.key" ng-disabled="option.added || isUpdating" placeholder="e.g. FOO" />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size">value</span>\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="option.value"\n                  ng-change="updateLogDriverOpt(service, option)"\n                  placeholder="e.g. bar"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-dangerlight" type="button" ng-click="removeLogDriverOpt(service, $index)" ng-disabled="isUpdating">\n                    <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n          <tr ng-if="service.LogDriverOpts.length === 0">\n            <td colspan="6" class="text-center text-muted">No options associated to this logging driver.</td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'LogDriverName\', \'LogDriverOpts\'])" ng-click="updateService(service)"\n            >Apply changes</button\n          >\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'LogDriverName\', \'LogDriverOpts\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},95765:function(e){var t="app/docker/views/services/edit/includes/mounts.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="service.ServiceMounts" id="service-mounts">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Mounts">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-secondary btn-sm pull-right" ng-click="isUpdating ||addMount(service)" ng-disabled="isUpdating">\n          <pr-icon icon="\'plus\'" feather="true"></pr-icon> mount\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.ServiceMounts.length === 0">\n      <p>There are no mounts for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.ServiceMounts.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th ng-if="isAdmin || allowBindMounts">Type</th>\n            <th>Source</th>\n            <th>Target</th>\n            <th authorization="DockerServiceUpdate">Read only</th>\n            <th authorization="DockerServiceUpdate">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="mount in service.ServiceMounts">\n            <td ng-if="isAdmin || allowBindMounts">\n              <select\n                name="mountType"\n                class="form-control"\n                ng-model="mount.Type"\n                ng-change="onChangeMountType(service, mount)"\n                ng-disabled="isUpdating"\n                disable-authorization="DockerServiceUpdate"\n              >\n                <option value="volume">Volume</option>\n                <option value="bind">Bind</option>\n              </select>\n            </td>\n            <td>\n              <select\n                class="form-control"\n                ng-model="mount.Source"\n                ng-change="updateMount(service, mount)"\n                ng-options="vol.Id as ((vol.Id|truncate:30) + \' - \' + (vol.Driver|truncate:30))  for vol in availableVolumes"\n                ng-if="mount.Type === \'volume\'"\n                disable-authorization="DockerServiceUpdate"\n              >\n                <option selected disabled hidden value="">Select a volume</option>\n              </select>\n              <input\n                type="text"\n                class="form-control"\n                name=""\n                ng-model="mount.Source"\n                placeholder="e.g. /tmp/portainer/data"\n                ng-change="updateMount(service, mount)"\n                ng-disabled="isUpdating || (!isAdmin && !allowBindMounts && mount.Type === \'bind\')"\n                ng-if="mount.Type === \'bind\'"\n              />\n              <div class="col-sm-12 small text-warning" ng-show="!mount.Source">\n                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Source is required.\n              </div>\n            </td>\n            <td>\n              <input\n                type="text"\n                class="form-control"\n                ng-model="mount.Target"\n                placeholder="e.g. /tmp/portainer/data"\n                ng-change="updateMount(service, mount)"\n                ng-disabled="isUpdating"\n                disable-authorization="DockerServiceUpdate"\n              />\n              <div class="col-sm-12 small text-warning" ng-show="!mount.Target">\n                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Target is required.\n              </div>\n            </td>\n            <td authorization="DockerServiceUpdate">\n              <input type="checkbox" class="form-control" ng-model="mount.ReadOnly" ng-change="updateMount(service, mount)" ng-disabled="isUpdating" />\n            </td>\n            <td authorization="DockerServiceUpdate">\n              <span class="input-group-btn">\n                <button class="btn btn-dangerlight" type="button" ng-click="removeMount(service, $index)" ng-disabled="isUpdating">\n                  <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                </button>\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!mountsAreValid() || !hasChanges(service, [\'ServiceMounts\'])" ng-click="updateService(service)">\n            Apply changes\n          </button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceMounts\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},2224:function(e){var t="app/docker/views/services/edit/includes/networks.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-network-specs">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Networks">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-secondary btn-sm pull-right" ng-click="isUpdating || addNetwork(service)" ng-disabled="isUpdating">\n          <pr-icon icon="\'plus\'" feather="true"></pr-icon> network\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="!service.Networks || service.Networks.length === 0">\n      <p>This service is not connected to any networks.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.Networks && service.Networks.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>ID</th>\n            <th>IP address</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="network in service.Networks">\n            <td>\n              <select\n                ng-if="network.Editable"\n                class="form-control"\n                ng-model="network.Id"\n                ng-change="updateNetwork(service)"\n                ng-options="net.Id as net.Name for net in filterNetworks(swarmNetworks, network)"\n                disable-authorization="DockerServiceUpdate"\n                style="width: initial; min-width: 50%"\n              >\n                <option disabled value="" selected>Select a network</option>\n              </select>\n              <span ng-if="!network.Editable">{{ network.Name }}</span>\n            </td>\n            <td>\n              <a ui-sref="docker.networks.network({id: network.Id})">{{ network.Id }}</a>\n            </td>\n            <td>\n              {{ network.Addr }}\n            </td>\n            <td ng-if="network.Editable" authorization="DockerServiceUpdate">\n              <span class="input-group-btn">\n                <button class="btn btn-dangerlight" type="button" ng-click="removeNetwork(service, $index)" ng-disabled="isUpdating">\n                  <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                </button>\n              </span>\n            </td>\n            <td ng-if="!network.Editable"></td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="isUpdating || !hasChanges(service, [\'Networks\'])" ng-click="updateService(service)">\n            Apply changes\n          </button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'Networks\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},82292:function(e){var t="app/docker/views/services/edit/includes/placementPreferences.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="service.ServicePreferences" id="service-placement-preferences">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Placement preferences">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-secondary btn-sm pull-right" ng-click="isUpdating || addPlacementPreference(service)" ng-disabled="isUpdating">\n          <pr-icon icon="\'plus\'" feather="true"></pr-icon> placement preference\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.ServicePreferences.length === 0">\n      <p>There are no placement preferences for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.ServicePreferences.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Strategy</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="preference in service.ServicePreferences">\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="preference.strategy"\n                  placeholder="e.g. node.role"\n                  ng-change="updatePlacementPreference(service, preference)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="preference.value"\n                  placeholder="e.g. manager"\n                  ng-change="updatePlacementPreference(service, preference)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-dangerlight" type="button" ng-click="removePlacementPreference(service, $index)" ng-disabled="isUpdating">\n                    <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServicePreferences\'])" ng-click="updateService(service)">Apply changes</button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServicePreferences\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},31402:function(e){var t="app/docker/views/services/edit/includes/ports.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Published ports">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-secondary btn-sm pull-right" ng-click="isUpdating ||addPublishedPort(service)" ng-disabled="isUpdating">\n          <pr-icon icon="\'plus\'" feather="true"></pr-icon> port mapping\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="!service.Ports || service.Ports.length === 0">\n      <p>This service has no ports published.</p>\n    </rd-widget-body>\n    <rd-widget-body ng-if="service.Ports && service.Ports.length > 0" classes="no-padding">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>Host port</th>\n            <th>Container port</th>\n            <th>Protocol</th>\n            <th>Publish mode</th>\n            <th authorization="DockerServiceUpdate">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="portBinding in service.Ports">\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon">host</span>\n                <input\n                  type="number"\n                  class="form-control"\n                  ng-model="portBinding.PublishedPort"\n                  placeholder="e.g. 8080"\n                  ng-change="updatePublishedPort(service, mapping)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon">container</span>\n                <input\n                  type="number"\n                  class="form-control"\n                  ng-model="portBinding.TargetPort"\n                  placeholder="e.g. 80"\n                  ng-change="updatePublishedPort(service, mapping)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <select\n                  class="selectpicker form-control"\n                  ng-model="portBinding.Protocol"\n                  ng-change="updatePublishedPort(service, mapping)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                >\n                  <option value="tcp">tcp</option>\n                  <option value="udp">udp</option>\n                </select>\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <select\n                  class="selectpicker form-control"\n                  ng-model="portBinding.PublishMode"\n                  ng-change="updatePublishedPort(service, mapping)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                >\n                  <option value="ingress">ingress</option>\n                  <option value="host">host</option>\n                </select>\n              </div>\n            </td>\n            <td authorization="DockerServiceUpdate">\n              <span class="input-group-btn">\n                <button class="btn btn-dangerlight" type="button" ng-click="removePortPublishedBinding(service, $index)" ng-disabled="isUpdating">\n                  <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                </button>\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'Ports\'])" ng-click="updateService(service)">Apply changes</button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'Ports\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},95266:function(e){var t="app/docker/views/services/edit/includes/resources.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-resources">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Resource limits and reservations"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <table class="table">\n        <tbody>\n          <tr>\n            <td style="vertical-align: middle"> Memory reservation (MB) </td>\n            <td>\n              <input\n                class="input-sm"\n                type="number"\n                step="0.125"\n                min="0"\n                ng-model="service.ReservationMemoryBytes"\n                ng-change="updateServiceAttribute(service, \'ReservationMemoryBytes\')"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td style="vertical-align: middle">\n              <p class="small text-muted"> Minimum memory available on a node to run a task (set to 0 for unlimited) </p>\n            </td>\n          </tr>\n          <tr>\n            <td style="vertical-align: middle"> Memory limit (MB) </td>\n            <td>\n              <input\n                class="input-sm"\n                type="number"\n                step="0.125"\n                min="0"\n                ng-model="service.LimitMemoryBytes"\n                ng-change="updateServiceAttribute(service, \'LimitMemoryBytes\')"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td style="vertical-align: middle">\n              <p class="small text-muted"> Maximum memory usage per task (set to 0 for unlimited) </p>\n            </td>\n          </tr>\n          <tr>\n            <td style="vertical-align: middle">\n              <div> CPU reservation </div>\n            </td>\n            <td>\n              <slider\n                model="service.ReservationNanoCPUs"\n                floor="0"\n                ceil="state.sliderMaxCpu"\n                step="0.25"\n                precision="2"\n                ng-if="service && state.sliderMaxCpu"\n                on-change="updateServiceAttribute(service, \'ReservationNanoCPUs\')"\n                disable-authorization="DockerServiceUpdate"\n              ></slider>\n            </td>\n            <td style="vertical-align: middle">\n              <p class="small text-muted"> Minimum CPU available on a node to run a task </p>\n            </td>\n          </tr>\n          <tr>\n            <td style="vertical-align: middle">\n              <div> CPU limit </div>\n            </td>\n            <td>\n              <slider\n                model="service.LimitNanoCPUs"\n                floor="0"\n                ceil="state.sliderMaxCpu"\n                step="0.25"\n                precision="2"\n                ng-if="service && state.sliderMaxCpu"\n                on-change="updateServiceAttribute(service, \'LimitNanoCPUs\')"\n                disable-authorization="DockerServiceUpdate"\n              ></slider>\n            </td>\n            <td style="vertical-align: middle">\n              <p class="small text-muted"> Maximum CPU usage per task </p>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button\n            type="button"\n            class="btn btn-primary btn-sm"\n            ng-disabled="!hasChanges(service, [\'LimitNanoCPUs\', \'LimitMemoryBytes\', \'ReservationNanoCPUs\', \'ReservationMemoryBytes\'])"\n            ng-click="updateService(service)"\n            >Apply changes</button\n          >\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'LimitNanoCPUs\', \'LimitMemoryBytes\', \'ReservationNanoCPUs\', \'ReservationMemoryBytes\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},418:function(e){var t="app/docker/views/services/edit/includes/restart.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-restart-policy">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Restart policy"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <table class="table">\n        <tbody>\n          <tr>\n            <td>Restart condition</td>\n            <td>\n              <div class="input-group input-group-sm">\n                <select\n                  class="selectpicker form-control"\n                  ng-model="service.RestartCondition"\n                  ng-change="updateServiceAttribute(service, \'RestartCondition\')"\n                  disable-authorization="DockerServiceUpdate"\n                >\n                  <option value="none">None</option>\n                  <option value="on-failure">On failure</option>\n                  <option value="any">Any</option>\n                </select>\n              </div>\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Condition for restart. </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Restart delay</td>\n            <td>\n              <input\n                class="input-sm"\n                type="text"\n                ng-model="service.RestartDelay"\n                ng-change="updateServiceAttribute(service, \'RestartDelay\')"\n                ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px">\n                Delay between restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 5s, 5 seconds.\n              </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Restart max attempts</td>\n            <td>\n              <input\n                class="input-sm"\n                type="number"\n                ng-model="service.RestartMaxAttempts"\n                ng-change="updateServiceAttribute(service, \'RestartMaxAttempts\')"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Maximum attempts to restart a given task before giving up (default value is 0, which means unlimited). </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Restart window</td>\n            <td>\n              <input\n                class="input-sm"\n                type="text"\n                ng-model="service.RestartWindow"\n                ng-change="updateServiceAttribute(service, \'RestartWindow\')"\n                ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px">\n                Time window to evaluate restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0 seconds, which is unbounded.\n              </p>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button\n            type="button"\n            class="btn btn-primary btn-sm"\n            ng-disabled="!hasChanges(service, [\'RestartCondition\', \'RestartDelay\', \'RestartMaxAttempts\', \'RestartWindow\'])"\n            ng-click="updateService(service)"\n            >Apply changes</button\n          >\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'RestartCondition\', \'RestartDelay\', \'RestartMaxAttempts\', \'RestartWindow\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},13269:function(e){var t="app/docker/views/services/edit/includes/secrets.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="applicationState.endpoint.apiVersion >= 1.25" id="service-secrets">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Secrets"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="form-inline" style="padding: 10px" authorization="DockerServiceUpdate">\n        Add a secret:\n        <select class="form-control" ng-options="secret.Name for secret in secrets | orderBy: \'Name\'" ng-model="state.addSecret.secret">\n          <option selected disabled hidden value="">Select a secret</option>\n        </select>\n        <div class="form-group" ng-if="applicationState.endpoint.apiVersion >= 1.3 && state.addSecret.override">\n          Target:\n          <input class="form-control" ng-model="state.addSecret.target" placeholder="/path/in/container" />\n        </div>\n        <div class="btn-group btn-group-sm" ng-if="applicationState.endpoint.apiVersion >= 1.3">\n          <label class="btn btn-light" ng-model="state.addSecret.override" uib-btn-radio="false">Default location</label>\n          <label class="btn btn-light" ng-model="state.addSecret.override" uib-btn-radio="true">Override</label>\n        </div>\n        <a class="btn btn-default btn-sm" ng-click="addSecret(service, state.addSecret)"> <pr-icon icon="\'plus\'" feather="true"></pr-icon> add secret </a>\n      </div>\n      <table class="table" style="margin-top: 5px">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>File name</th>\n            <th>UID</th>\n            <th>GID</th>\n            <th>Mode</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="secret in service.ServiceSecrets">\n            <td\n              ><a ui-sref="docker.secrets.secret({id: secret.Id})">{{ secret.Name }}</a></td\n            >\n            <td>{{ secret.FileName }}</td>\n            <td>{{ secret.Uid }}</td>\n            <td>{{ secret.Gid }}</td>\n            <td>{{ secret.Mode }}</td>\n            <td authorization="DockerServiceUpdate">\n              <button class="btn btn-dangerlight pull-right" type="button" ng-click="removeSecret(service, $index)" ng-disabled="isUpdating">\n                <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n              </button>\n            </td>\n          </tr>\n          <tr ng-if="service.ServiceSecrets.length === 0">\n            <td colspan="6" class="text-center text-muted">No secrets associated to this service.</td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServiceSecrets\'])" ng-click="updateService(service)">Apply changes</button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceSecrets\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},91082:function(e){var t="app/docker/views/services/edit/includes/servicelabels.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-labels">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Service labels">\n      <div class="nopadding" authorization="DockerServiceUpdate">\n        <a class="btn btn-secondary btn-sm pull-right" ng-click="isUpdating || addLabel(service)" ng-disabled="isUpdating">\n          <pr-icon icon="\'plus\'" feather="true"></pr-icon> label\n        </a>\n      </div>\n    </rd-widget-header>\n    <rd-widget-body ng-if="service.ServiceLabels.length === 0">\n      <p>There are no labels for this service.</p>\n    </rd-widget-body>\n    <rd-widget-body classes="no-padding" ng-if="service.ServiceLabels.length > 0">\n      <table class="table">\n        <thead>\n          <tr>\n            <th> Label </th>\n            <th> Value </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="label in service.ServiceLabels">\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size">name</span>\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="label.key"\n                  placeholder="e.g. com.example.foo"\n                  ng-change="updateLabel(service, label)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n              </div>\n            </td>\n            <td>\n              <div class="input-group input-group-sm">\n                <span class="input-group-addon fit-text-size">value</span>\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="label.value"\n                  placeholder="e.g. bar"\n                  ng-change="updateLabel(service, label)"\n                  ng-disabled="isUpdating"\n                  disable-authorization="DockerServiceUpdate"\n                />\n                <span class="input-group-btn" authorization="DockerServiceUpdate">\n                  <button class="btn btn-dangerlight" type="button" ng-click="removeLabel(service, $index)" ng-disabled="isUpdating">\n                    <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                  </button>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-primary btn-sm" ng-disabled="!hasChanges(service, [\'ServiceLabels\'])" ng-click="updateService(service)">Apply changes</button>\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'ServiceLabels\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},72493:function(e){var t="app/docker/views/services/edit/includes/tasks.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-if="tasks.length > 0 && nodes" id="service-tasks">\n  <tasks-datatable\n    title-text="Tasks"\n    title-icon="list"\n    dataset="tasks"\n    table-key="service-tasks"\n    order-by="Updated"\n    reverse-order="true"\n    nodes="nodes"\n    show-slot-column="service.Mode !== \'global\'"\n    show-logs-button="applicationState.endpoint.apiVersion >= 1.30"\n    agent-proxy="applicationState.endpoint.mode.agentProxy"\n  ></tasks-datatable>\n</div>\n')}]),e.exports=t},87512:function(e){var t="app/docker/views/services/edit/includes/updateconfig.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div id="service-update-config">\n  <rd-widget>\n    <rd-widget-header icon="list" feather-icon="true" title-text="Update configuration"> </rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <table class="table">\n        <tbody>\n          <tr>\n            <td>Update Parallelism</td>\n            <td>\n              <input\n                class="input-sm"\n                type="number"\n                ng-model="service.UpdateParallelism"\n                ng-change="updateServiceAttribute(service, \'UpdateParallelism\')"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Maximum number of tasks to be updated simultaneously (0 to update all at once). </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Update Delay</td>\n            <td>\n              <input\n                class="input-sm"\n                type="text"\n                ng-model="service.UpdateDelay"\n                ng-change="updateServiceAttribute(service, \'UpdateDelay\')"\n                ng-pattern="/^([0-9]+)(h|m|s|ms|us|ns)$/i"\n                disable-authorization="DockerServiceUpdate"\n              />\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Amount of time between updates expressed by a number followed by unit (ns|us|ms|s|m|h). Example: 1m. </p>\n            </td>\n          </tr>\n          <tr>\n            <td>Update Failure Action</td>\n            <td>\n              <div class="form-group">\n                <label class="radio-inline">\n                  <input\n                    type="radio"\n                    name="failure_action"\n                    ng-model="service.UpdateFailureAction"\n                    value="continue"\n                    ng-change="updateServiceAttribute(service, \'UpdateFailureAction\')"\n                    disable-authorization="DockerServiceUpdate"\n                  />\n                  Continue\n                </label>\n                <label class="radio-inline">\n                  <input\n                    type="radio"\n                    name="failure_action"\n                    ng-model="service.UpdateFailureAction"\n                    value="pause"\n                    ng-change="updateServiceAttribute(service, \'UpdateFailureAction\')"\n                    disable-authorization="DockerServiceUpdate"\n                  />\n                  Pause\n                </label>\n              </div>\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Action taken on failure to start after update. </p>\n            </td>\n          </tr>\n          <tr ng-if="applicationState.endpoint.apiVersion >= 1.29">\n            <td>Order</td>\n            <td>\n              <div class="form-group">\n                <label class="radio-inline">\n                  <input\n                    type="radio"\n                    name="updateconfig_order"\n                    ng-model="service.UpdateOrder"\n                    value="start-first"\n                    ng-change="updateServiceAttribute(service, \'UpdateOrder\')"\n                    disable-authorization="DockerServiceUpdate"\n                  />\n                  start-first\n                </label>\n                <label class="radio-inline">\n                  <input\n                    type="radio"\n                    name="updateconfig_order"\n                    ng-model="service.UpdateOrder"\n                    value="stop-first"\n                    ng-change="updateServiceAttribute(service, \'UpdateOrder\')"\n                    disable-authorization="DockerServiceUpdate"\n                  />\n                  stop-first\n                </label>\n              </div>\n            </td>\n            <td>\n              <p class="small text-muted" style="margin-top: 10px"> Operation order on failure. </p>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </rd-widget-body>\n    <rd-widget-footer authorization="DockerServiceUpdate">\n      <div class="btn-toolbar" role="toolbar">\n        <div class="btn-group" role="group">\n          <button\n            type="button"\n            class="btn btn-primary btn-sm"\n            ng-disabled="!hasChanges(service, [\'UpdateFailureAction\', \'UpdateDelay\', \'UpdateParallelism\', \'UpdateOrder\'])"\n            ng-click="updateService(service)"\n            >Apply changes</button\n          >\n          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu">\n            <li><a ng-click="cancelChanges(service, [\'UpdateFailureAction\', \'UpdateDelay\', \'UpdateParallelism\', \'UpdateOrder\'])">Reset changes</a></li>\n            <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n          </ul>\n        </div>\n      </div>\n    </rd-widget-footer>\n  </rd-widget>\n</div>\n')}]),e.exports=t},66973:function(e){var t="app/docker/views/services/edit/service.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Service details\'" breadcrumbs="[{label:\'Services\', link:\'docker.services\'}, service.Name]" reload="true"> </page-header>\n\n<div class="row">\n  <div ng-if="isUpdating" class="col-lg-12 col-md-12 col-xs-12">\n    <div class="alert alert-info" role="alert" id="service-update-alert">\n      <p>This service is being updated. Editing this service is currently disabled.</p>\n      <a ui-sref="docker.services.service({id: service.Id}, {reload: true})">Refresh to see if this service has finished updated.</a>\n    </div>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-9 col-md-9 col-xs-9">\n    <rd-widget>\n      <rd-widget-header icon="shuffle" feather-icon="true" title-text="Service details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Name</td>\n              <td ng-if="applicationState.endpoint.apiVersion <= 1.24">\n                <input type="text" class="form-control" ng-model="service.Name" ng-change="updateServiceAttribute(service, \'Name\')" ng-disabled="isUpdating" />\n              </td>\n              <td ng-if="applicationState.endpoint.apiVersion >= 1.25">\n                {{ service.Name }}\n              </td>\n            </tr>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ service.Id }}\n              </td>\n            </tr>\n            <tr ng-if="service.CreatedAt">\n              <td>Created at</td>\n              <td>{{ service.CreatedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="service.UpdatedAt">\n              <td>Last updated at</td>\n              <td>{{ service.UpdatedAt | getisodate }}</td>\n            </tr>\n            <tr ng-if="service.Version">\n              <td>Version</td>\n              <td>{{ service.Version }}</td>\n            </tr>\n            <tr>\n              <td>Scheduling mode</td>\n              <td>{{ service.Mode }}</td>\n            </tr>\n            <tr ng-if="service.Mode === \'replicated\'">\n              <td>Replicas</td>\n              <td>\n                <span ng-if="service.Mode === \'replicated\'">\n                  <input\n                    class="input-sm"\n                    type="number"\n                    ng-model="service.Replicas"\n                    ng-change="updateServiceAttribute(service, \'Replicas\')"\n                    disable-authorization="DockerServiceUpdate"\n                  />\n                </span>\n              </td>\n            </tr>\n            <tr>\n              <td>Image</td>\n              <td>{{ service.Image }}</td>\n            </tr>\n            <tr ng-if="isAdmin && applicationState.endpoint.type !== 4">\n              <td colspan="{{ webhookURL ? \'1\' : \'2\' }}">\n                <por-switch-field\n                  tooltip="\'Webhook (or callback URI) used to automate the update of this service. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this service.\'"\n                  checked="WebhookExists"\n                  disabled="!isAdmin"\n                  on-change="(onWebhookChange)"\n                  label="\'Service webhook\'"\n                ></por-switch-field>\n              </td>\n              <td ng-if="webhookURL">\n                <span class="text-muted">{{ webhookURL | truncatelr }}</span>\n                <button type="button" class="btn btn-sm btn-primary btn-sm space-left" ng-if="webhookURL" ng-click="copyWebhook()">\n                  <span><i class="fa fa-copy space-right" aria-hidden="true"></i>Copy link</span>\n                </button>\n                <span>\n                  <i id="copyNotification" class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 7px; display: none"></i>\n                </span>\n              </td>\n            </tr>\n            <tr authorization="DockerServiceLogs, DockerServiceUpdate, DockerServiceDelete">\n              <td colspan="2">\n                <p class="small text-muted" authorization="DockerServiceUpdate">\n                  Note: you can only rollback one level of changes. Clicking the rollback button without making a new change will undo your previous rollback </p\n                ><p>\n                  <a\n                    authorization="DockerServiceLogs"\n                    ng-if="applicationState.endpoint.apiVersion >= 1.3"\n                    class="btn btn-primary btn-sm"\n                    type="button"\n                    ui-sref="docker.services.service.logs({id: service.Id})"\n                    ><i class="fa fa-file-alt space-right" aria-hidden="true"></i>Service logs</a\n                  >\n                  <button\n                    authorization="DockerServiceUpdate"\n                    type="button"\n                    class="btn btn-primary btn-sm"\n                    ng-disabled="state.updateInProgress || isUpdating"\n                    ng-click="forceUpdateService(service)"\n                    button-spinner="state.updateInProgress"\n                    ng-if="applicationState.endpoint.apiVersion >= 1.25"\n                  >\n                    <span ng-hide="state.updateInProgress"><i class="fa fa-sync space-right" aria-hidden="true"></i>Update the service</span>\n                    <span ng-show="state.updateInProgress">Update in progress...</span>\n                  </button>\n                  <button\n                    authorization="DockerServiceUpdate"\n                    type="button"\n                    class="btn btn-primary btn-sm"\n                    ng-disabled="state.rollbackInProgress || isUpdating"\n                    ng-click="rollbackService(service)"\n                    button-spinner="state.rollbackInProgress"\n                    ng-if="applicationState.endpoint.apiVersion >= 1.25"\n                  >\n                    <span ng-hide="state.rollbackInProgress"><i class="fa fa-undo space-right" aria-hidden="true"></i>Rollback the service</span>\n                    <span ng-show="state.rollbackInProgress">Rollback in progress...</span>\n                  </button>\n                  <button\n                    authorization="DockerServiceDelete"\n                    type="button"\n                    class="btn btn-danger btn-sm"\n                    ng-disabled="state.deletionInProgress || isUpdating"\n                    ng-click="removeService()"\n                    button-spinner="state.deletionInProgress"\n                  >\n                    <span ng-hide="state.deletionInProgress"><i class="fa fa-trash-alt space-right" aria-hidden="true"></i>Delete the service</span>\n                    <span ng-show="state.deletionInProgress">Deletion in progress...</span>\n                  </button>\n                </p></td\n              >\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n      <rd-widget-footer authorization="DockerServiceUpdate">\n        <p class="small text-muted">\n          Do you need help? View the Docker Service documentation <a href="https://docs.docker.com/engine/reference/commandline/service_update/" target="self">here</a>.\n        </p>\n        <div class="btn-toolbar" role="toolbar">\n          <div class="btn-group" role="group">\n            <button type="button" class="btn btn-primary" ng-disabled="!hasChanges(service, [\'Mode\', \'Replicas\', \'Name\', \'Webhooks\'])" ng-click="updateService(service)"\n              >Apply changes</button\n            >\n            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              <span class="caret"></span>\n            </button>\n            <ul class="dropdown-menu">\n              <li><a ng-click="cancelChanges(service, [\'Mode\', \'Replicas\', \'Name\'])">Reset changes</a></li>\n              <li><a ng-click="cancelChanges(service)">Reset all changes</a></li>\n            </ul>\n          </div>\n        </div>\n      </rd-widget-footer>\n    </rd-widget>\n  </div>\n\n  <div class="col-lg-3 col-md-3 col-xs-3">\n    <rd-widget>\n      <rd-widget-header icon="fa-bars" title-text="Quick navigation"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <ul class="nav nav-pills nav-stacked">\n          <li><a href ng-click="goToItem(\'service-env-variables\')">Environment variables</a></li>\n          <li><a href ng-click="goToItem(\'service-container-image\')">Container image</a></li>\n          <li><a href ng-click="goToItem(\'service-container-labels\')">Container labels</a></li>\n          <li><a href ng-click="goToItem(\'service-mounts\')">Mounts</a></li>\n          <li><a href ng-click="goToItem(\'service-network-specs\')">Network &amp; published ports</a></li>\n          <li><a href ng-click="goToItem(\'service-resources\')">Resource limits &amp; reservations</a></li>\n          <li><a href ng-click="goToItem(\'service-placement-constraints\')">Placement constraints</a></li>\n          <li ng-if="applicationState.endpoint.apiVersion >= 1.3"><a href ng-click="goToItem(\'service-placement-preferences\')">Placement preferences</a></li>\n          <li><a href ng-click="goToItem(\'service-restart-policy\')">Restart policy</a></li>\n          <li><a href ng-click="goToItem(\'service-update-config\')">Update configuration</a></li>\n          <li><a href ng-click="goToItem(\'service-logging\')">Logging</a></li>\n          <li><a href ng-click="goToItem(\'service-labels\')">Service labels</a></li>\n          <li><a href ng-click="goToItem(\'service-configs\')">Configs</a></li>\n          <li ng-if="applicationState.endpoint.apiVersion >= 1.25"><a href ng-click="goToItem(\'service-secrets\')">Secrets</a></li>\n          <li><a href ng-click="goToItem(\'service-tasks\')">Tasks</a></li>\n        </ul>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<access-control-panel\n  ng-if="service"\n  resource-id="service.Id"\n  resource-control="service.ResourceControl"\n  resource-type="resourceType"\n  on-update-success="(onUpdateResourceControlSuccess)"\n>\n</access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n\n<div class="row">\n  <hr />\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <h3 id="container-specs">Container specification</h3>\n    <div id="service-container-spec" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/container-specs.html\'"></div>\n    <div id="service-container-image" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/image.html\'"></div>\n    <div id="service-env-variables" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/environmentvariables.html\'"></div>\n    <div id="service-container-labels" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/containerlabels.html\'"></div>\n    <div id="service-mounts" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/mounts.html\'"></div>\n  </div>\n</div>\n\n<div class="row">\n  <hr />\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <h3 id="service-network-specs">Networks &amp; ports</h3>\n    <div id="service-networks" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/networks.html\'"></div>\n    <div id="service-published-ports" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/ports.html\'"></div>\n    <div id="service-hosts-entries" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/hosts.html\'"></div>\n  </div>\n</div>\n\n<div class="row">\n  <hr />\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <h3 id="service-specs">Service specification</h3>\n    <div id="service-resources" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/resources.html\'"></div>\n    <div id="service-placement-constraints" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/constraints.html\'"></div>\n    <div\n      id="service-placement-preferences"\n      ng-if="applicationState.endpoint.apiVersion >= 1.3"\n      class="padding-top"\n      ng-include="\'app/docker/views/services/edit/includes/placementPreferences.html\'"\n    ></div>\n    <div id="service-restart-policy" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/restart.html\'"></div>\n    <div id="service-update-config" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/updateconfig.html\'"></div>\n    <div id="service-logging" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/logging.html\'"></div>\n    <div id="service-labels" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/servicelabels.html\'"></div>\n    <div id="service-configs" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/configs.html\'"></div>\n    <div id="service-secrets" ng-if="applicationState.endpoint.apiVersion >= 1.25" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/secrets.html\'"></div>\n    <div id="service-tasks" class="padding-top" ng-include="\'app/docker/views/services/edit/includes/tasks.html\'"></div>\n  </div>\n</div>\n')}]),e.exports=t},42382:function(e){var t="app/docker/views/services/logs/servicelogs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Service logs\'"\n  breadcrumbs="[\n    {\n      label: \'Services\',\n      link: \'docker.services\'\n    },\n    {\n      label: service.Name,\n      link: \'docker.services.service\',\n      linkParams: { id: service.Id }\n    },\n    \'Logs\'\n  ]"\n>\n</page-header>\n\n<log-viewer\n  data="logs"\n  ng-if="logs"\n  log-collection-change="changeLogCollection"\n  display-timestamps="state.displayTimestamps"\n  line-count="state.lineCount"\n  since-timestamp="state.sinceTimestamp"\n  resource-name="service.Name"\n></log-viewer>\n')}]),e.exports=t},3903:function(e){var t="app/docker/views/services/services.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Service list\'" breadcrumbs="[\'Services\']" reload="true"> </page-header>\n\n<div class="row" ng-if="services">\n  <div class="col-sm-12">\n    <services-datatable\n      title-text="Services"\n      title-icon="shuffle"\n      dataset="services"\n      table-key="services"\n      order-by="Name"\n      nodes="nodes"\n      agent-proxy="applicationState.endpoint.mode.agentProxy"\n      show-update-action="applicationState.endpoint.apiVersion >= 1.25"\n      show-task-logs-button="applicationState.endpoint.apiVersion >= 1.30"\n      show-add-action="true"\n      show-stack-column="true"\n      refresh-callback="getServices"\n      endpoint-public-url="endpoint.PublicURL"\n      endpoint-id="endpoint.Id"\n    ></services-datatable>\n  </div>\n</div>\n')}]),e.exports=t},12367:function(e){var t="app/docker/views/swarm/swarm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Cluster overview\'" breadcrumbs="[\'Swarm\']" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="trello" feather-icon="true" title-text="Cluster status"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Nodes</td>\n              <td>{{ info.Swarm.Nodes }}</td>\n            </tr>\n            <tr>\n              <td>Docker API version</td>\n              <td>{{ docker.ApiVersion }}</td>\n            </tr>\n            <tr>\n              <td>Total CPU</td>\n              <td>{{ totalCPU }}</td>\n            </tr>\n            <tr>\n              <td>Total memory</td>\n              <td>{{ totalMemory | humansize: 2 }}</td>\n            </tr>\n            <tr>\n              <td colspan="2">\n                <div class="btn-group" role="group" aria-label="...">\n                  <a ui-sref="docker.swarm.visualizer" class="vertical-center"><pr-icon icon="\'trello\'" feather="true" class-name="\'icon\'"></pr-icon>Go to cluster visualizer</a>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <nodes-datatable\n      title-text="Nodes"\n      title-icon="trello"\n      dataset="nodes"\n      table-key="nodes"\n      order-by="Hostname"\n      show-ip-address-column="applicationState.endpoint.apiVersion >= 1.25"\n      access-to-node-details="isAdmin"\n      refresh-callback="getNodes"\n    ></nodes-datatable>\n  </div>\n</div>\n')}]),e.exports=t},40640:function(e){var t="app/docker/views/swarm/visualizer/swarmvisualizer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Swarm visualizer\'" breadcrumbs="[{label:\'Swarm\', link:\'docker.swarm\'}, {label:\'Cluster visualizer\', link:\'docker.swarm.visualizer\'}]" reload="true">\n</page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="trello" feather-icon="true" title-text="Cluster information">\n        <div class="pull-right">\n          <button type="button" class="btn btn-sm btn-primary" ng-click="changeShowInformationPanel(true)" ng-if="!state.ShowInformationPanel">Show</button>\n          <button type="button" class="btn btn-sm btn-primary" ng-click="changeShowInformationPanel(false)" ng-if="state.ShowInformationPanel">Hide</button>\n        </div>\n      </rd-widget-header>\n      <rd-widget-body ng-if="state.ShowInformationPanel">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Nodes</td>\n              <td>{{ nodes.length }}</td>\n            </tr>\n            <tr>\n              <td>Services</td>\n              <td>{{ services.length }}</td>\n            </tr>\n            <tr>\n              <td>Tasks</td>\n              <td>{{ tasks.length }}</td>\n            </tr>\n          </tbody>\n        </table>\n        <form class="form-horizontal">\n          <div class="col-sm-12 form-section-title"> Options </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-2\'"\n                checked="state.DisplayOnlyRunningTasks"\n                label="\'Only display running tasks\'"\n                on-change="(handleChangeDisplayOnlyRunningTasks)"\n              ></por-switch-field>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-2\'"\n                checked="state.DisplayNodeLabels"\n                label="\'Display node labels\'"\n                on-change="(handleChangeDisplayNodeLabels)"\n              ></por-switch-field>\n            </div>\n          </div>\n        </form>\n        <form class="form-horizontal">\n          <div class="col-sm-12 form-section-title"> Refresh </div>\n          <div class="form-group">\n            <label for="refreshRate" class="col-sm-2 margin-sm-top control-label text-left">\n              Rate\n              <i id="refreshRateChange" class="fa fa-check green-icon" aria-hidden="true" style="display: none"></i>\n            </label>\n            <div class="col-sm-2">\n              <select id="refreshRate" ng-model="state.refreshRate" ng-change="changeUpdateRepeater()" class="form-control">\n                <option value="5">5s</option>\n                <option value="10">10s</option>\n                <option value="30">30s</option>\n                <option value="60">60s</option>\n              </select>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="visualizerData">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="trello" feather-icon="true" title-text="Cluster visualizer"></rd-widget-header>\n      <rd-widget-body>\n        <div class="visualizer_container">\n          <div class="node" ng-repeat="node in visualizerData.nodes | orderBy : [\'Role\', \'Hostname\'] track by $index">\n            <div class="node_info">\n              <div>\n                <div>\n                  <b>{{ node.Name || node.Hostname }}</b>\n                  <span class="node_platform">\n                    <i class="fab fa-linux" aria-hidden="true" ng-if="node.PlatformOS === \'linux\'"></i>\n                    <i class="fab fa-windows" aria-hidden="true" ng-if="node.PlatformOS === \'windows\'"></i>\n                  </span>\n                </div>\n              </div>\n              <div>{{ node.Role }}</div>\n              <div>CPU: {{ node.CPUs / 1000000000 }}</div>\n              <div>Memory: {{ node.Memory | humansize: 2 }}</div>\n              <div\n                ><span class="label label-{{ node.Status | nodestatusbadge }}">{{ node.Status }}</span></div\n              >\n              <div class="node_labels" ng-if="node.Labels.length > 0 && state.DisplayNodeLabels">\n                <div>Labels</div>\n                <div class="node_label" ng-repeat="label in node.Labels">\n                  <span class="label_key">\n                    {{ label.key }}\n                  </span>\n                  <span class="label_value" ng-if="label.value"> = {{ label.value }} </span>\n                </div>\n              </div>\n            </div>\n            <div class="tasks">\n              <div\n                class="task task_{{ task.Status.State | visualizerTask }}"\n                style="border: 2px solid {{ task.ServiceId | visualizerTaskBorderColor }}"\n                ng-repeat="task in node.Tasks | orderBy: \'ServiceName\' | filter: (state.DisplayOnlyRunningTasks || \'\') && { Status: { State: \'running\' } }"\n              >\n                <div class="service_name">{{ task.ServiceName }}</div>\n                <div>Image: {{ task.Spec.ContainerSpec.Image | hideshasum }}</div>\n                <div>Status: {{ task.Status.State }}</div>\n                <div>Update: {{ task.Updated | getisodate }}</div>\n                <div ng-if="task.Spec.Resources.Limits.MemoryBytes">Memory limit: {{ task.Spec.Resources.Limits.MemoryBytes | humansize: 2:2 }}</div>\n                <div ng-if="task.Spec.Resources.Limits.NanoCPUs">CPU limit: {{ task.Spec.Resources.Limits.NanoCPUs / 1000000000 }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},32240:function(e){var t="app/docker/views/tasks/edit/task.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Task details\'"\n  breadcrumbs="[\n    { label:\'Services\', link:\'docker.services\' },\n    { \n      label: service.Name,\n      link: \'docker.services.service\', \n      linkParams:{ id: service.Id }\n    }, task.Id]"\n>\n</page-header>\n\n<div class="row" ng-if="task && service">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-tasks" title-text="Task status"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>ID</td>\n              <td>{{ task.Id }}</td>\n            </tr>\n            <tr>\n              <td>State</td>\n              <td\n                ><span class="label label-{{ task.Status.State | taskstatusbadge }}">{{ task.Status.State }}</span></td\n              >\n            </tr>\n            <tr>\n              <td>State Message</td>\n              <td>{{ task.Status.Message }}</td>\n            </tr>\n            <tr ng-if="task.Status.Err">\n              <td>Error message</td>\n              <td\n                ><code>{{ task.Status.Err }}</code></td\n              >\n            </tr>\n            <tr>\n              <td>Image</td>\n              <td>{{ task.Spec.ContainerSpec.Image | hideshasum }}</td>\n            </tr>\n            <tr ng-if="service.Mode !== \'global\'">\n              <td>Slot</td>\n              <td>{{ task.Slot }}</td>\n            </tr>\n            <tr>\n              <td>Created</td>\n              <td>{{ task.Created | getisodate }}</td>\n            </tr>\n            <tr ng-if="task.Status.ContainerStatus.ContainerID">\n              <td>Container ID</td>\n              <td>{{ task.Status.ContainerStatus.ContainerID }}</td>\n            </tr>\n            <tr ng-if="applicationState.endpoint.apiVersion >= 1.3 && task.Status.State | taskhaslogs">\n              <td colspan="2"\n                ><a class="btn btn-primary btn-sm" type="button" ui-sref="docker.tasks.task.logs({id: task.Id})"\n                  ><i class="fa fa-file-alt space-right" aria-hidden="true"></i>Task logs</a\n                ></td\n              >\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},62770:function(e){var t="app/docker/views/tasks/logs/tasklogs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Task details\'"\n  breadcrumbs="[\n    { label:\'Services\', link:\'docker.services\' },\n    { \n      label:service.Name,\n      link:\'docker.services.service\', \n      linkParams:{ id: service.Id }\n    }, \n    { \n      label:task.Id,\n      link:\'docker.tasks.task\', \n      linkParams:{ id: task.Id }\n    },\n    \'Logs\']"\n>\n</page-header>\n\n<log-viewer\n  data="logs"\n  ng-if="logs"\n  log-collection-change="changeLogCollection"\n  display-timestamps="state.displayTimestamps"\n  line-count="state.lineCount"\n  since-timestamp="state.sinceTimestamp"\n  resource-name="task.Id"\n></log-viewer>\n')}]),e.exports=t},90347:function(e){var t="app/docker/views/volumes/browse/browsevolume.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Volume browser\'"\n  breadcrumbs="[\n    { label:\'Volumes\', link:\'docker.volumes\' },\n    { \n      label:volumeId,\n      link: \'docker.volumes.volume\', \n      linkParams:{ id: volumeId }\n    }, \'browse\']"\n>\n</page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <volume-browser volume-id="volumeId" node-name="nodeName" is-upload-enabled="agentApiVersion > 1" endpoint-id="endpointId"></volume-browser>\n  </div>\n</div>\n')}]),e.exports=t},9713:function(e){var t="app/docker/views/volumes/create/createvolume.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create volume\'" breadcrumbs="[{label:\'Volumes\', link:\'docker.volumes\'}, \'Add volume\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="volumeCreationForm">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="volume_name" class="col-sm-2 col-md-1 control-label text-left">Name</label>\n            <div class="col-sm-10 col-md-11">\n              <input type="text" class="form-control" ng-model="formValues.Name" id="volume_name" placeholder="e.g. myVolume" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="col-sm-12 form-section-title"> Driver configuration </div>\n          \x3c!-- driver-input --\x3e\n          <div class="form-group">\n            <label for="volume_driver" class="col-sm-2 col-md-1 control-label text-left">Driver</label>\n            <div class="col-sm-10 col-md-11">\n              <select class="form-control" ng-options="driver for driver in availableVolumeDrivers" ng-model="formValues.Driver" ng-if="availableVolumeDrivers.length > 0">\n                <option disabled hidden value="">Select a driver</option>\n              </select>\n              <input type="text" class="form-control" ng-model="formValues.Driver" id="volume_driver" placeholder="e.g. driverName" ng-if="availableVolumeDrivers.length === 0" />\n            </div>\n          </div>\n          \x3c!-- !driver-input --\x3e\n          \x3c!-- driver-options --\x3e\n          <div class="form-group" ng-hide="formValues.CIFSData.useCIFS || formValues.NFSData.useNFS">\n            <div class="col-sm-12" style="margin-top: 5px">\n              <label class="control-label text-left">\n                Driver options\n                <portainer-tooltip message="\'Driver options are specific to the selected driver. Please refer to the selected driver documentation.\'"></portainer-tooltip>\n              </label>\n              <span class="label label-default interactive" style="margin-left: 10px" ng-click="addDriverOption()">\n                <pr-icon icon="\'plus\'" mode="\'alt\'" feather="true"></pr-icon> add driver option\n              </span>\n            </div>\n            \x3c!-- driver-options-input-list --\x3e\n            <div class="col-sm-12 form-inline" style="margin-top: 10px">\n              <div ng-repeat="option in formValues.DriverOptions" style="margin-top: 2px">\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">name</span>\n                  <input type="text" class="form-control" ng-model="option.name" placeholder="e.g. mountpoint" />\n                </div>\n                <div class="input-group col-sm-5 input-group-sm">\n                  <span class="input-group-addon">value</span>\n                  <input type="text" class="form-control" ng-model="option.value" placeholder="e.g. /path/on/host" />\n                </div>\n                <button class="btn btn-sm btn-light" type="button" ng-click="removeDriverOption($index)">\n                  <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !driver-options-input-list --\x3e\n          </div>\n          \x3c!-- !driver-options --\x3e\n          \x3c!-- nfs-management --\x3e\n          <div class="form-group col-md-12">\n            <por-switch-field checked="formValues.NFSData.useNFS" label="\'Use NFS volume\'" on-change="(onUseNFSChange)"></por-switch-field>\n            <div ng-if="formValues.NFSData.useNFS" class="small text-muted" style="margin-top: 10px"> Ensure <code>nfs-utils</code> are installed on your hosts. </div>\n          </div>\n          <volumes-nfs-form data="formValues.NFSData" ng-show="formValues.Driver === \'local\'"></volumes-nfs-form>\n          \x3c!-- !nfs-management --\x3e\n          \x3c!-- cifs-management --\x3e\n          <div class="form-group col-md-12">\n            <por-switch-field checked="formValues.CIFSData.useCIFS" label="\'Use CIFS volume\'" on-change="(onUseCIFSChange)"></por-switch-field>\n            <div ng-if="formValues.CIFSData.useCIFS" class="small text-muted" style="margin-top: 10px"> Ensure <code>cifs-utils</code> are installed on your hosts. </div>\n          </div>\n          <volumes-cifs-form data="formValues.CIFSData" ng-show="formValues.Driver === \'local\'"></volumes-cifs-form>\n          \x3c!-- !cifs-management --\x3e\n          <div ng-if="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' && formValues.Driver === \'local\'">\n            <div class="col-sm-12 form-section-title"> Deployment </div>\n            \x3c!-- node-selection --\x3e\n            <node-selector model="formValues.NodeName"> </node-selector>\n            \x3c!-- !node-selection --\x3e\n          </div>\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-click="create()"\n                ng-disabled="state.actionInProgress || (formValues.NFSData.useNFS && !volumeCreationForm.nfsInformationForm.$valid) || (formValues.CIFSData.useCIFS && !volumeCreationForm.cifsInformationForm.$valid)"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Create the volume</span>\n                <span ng-show="state.actionInProgress">Creating volume...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},10577:function(e){var t="app/docker/views/volumes/edit/volume.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Volume details\'" breadcrumbs="[{label:\'Volumes\', link:\'docker.volumes\'}, volume.Id]"> </page-header>\n\n<div class="row" ng-if="volume">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="database" feather-icon="true" title-text="Volume details"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>ID</td>\n              <td>\n                {{ volume.Id }}\n                <button authorization="DockerVolumeDelete" class="btn btn-xs btn-danger" ng-click="removeVolume()"\n                  ><pr-icon icon="\'trash-2\'" feather="true" class="leading-none"></pr-icon> Remove this volume</button\n                >\n              </td>\n            </tr>\n            <tr>\n              <td>Created</td>\n              <td>{{ volume.CreatedAt | getisodate }}</td>\n            </tr>\n            <tr>\n              <td>Mount path</td>\n              <td>{{ volume.Mountpoint }}</td>\n            </tr>\n            <tr>\n              <td>Driver</td>\n              <td>{{ volume.Driver }}</td>\n            </tr>\n            <tr ng-if="!(volume.Labels | emptyobject)">\n              <td>Labels</td>\n              <td>\n                <table class="table table-bordered table-condensed">\n                  <tr ng-repeat="(k, v) in volume.Labels">\n                    <td>{{ k }}</td>\n                    <td>{{ v }}</td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<access-control-panel\n  ng-if="volume"\n  resource-id="volume.ResourceId"\n  resource-control="volume.ResourceControl"\n  resource-type="resourceType"\n  on-update-success="(onUpdateResourceControlSuccess)"\n>\n</access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n\n<div class="row" ng-if="!(volume.Options | emptyobject)">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="settings" feather-icon="true" title-text="Volume options"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr ng-repeat="(key, value) in volume.Options">\n              <td>{{ key }}</td>\n              <td>{{ value }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<div class="row" ng-if="containersUsingVolume.length > 0">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="box" feather-icon="true" title-text="Containers using volume"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <thead>\n            <th>Container Name</th>\n            <th>Mounted At</th>\n            <th>Read-only</th>\n          </thead>\n          <tbody>\n            <tr ng-repeat="container in containersUsingVolume">\n              <td\n                ><a ui-sref="docker.containers.container({ id: container.Id, nodeName: container.NodeName })">{{ container | containername }}</a></td\n              >\n              <td>{{ container.volumeData.Destination }}</td>\n              <td>{{ !container.volumeData.RW }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},95290:function(e){var t="app/docker/views/volumes/volumes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Volume list\'" breadcrumbs="[\'Volumes\']" reload="true"> </page-header>\n\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n<div class="row">\n  <div class="col-sm-12">\n    <volumes-datatable\n      title-text="Volumes"\n      title-icon="database"\n      dataset="volumes"\n      table-key="volumes"\n      order-by="Id"\n      remove-action="removeAction"\n      show-host-column="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'"\n      show-browse-action="showBrowseAction"\n      offline-mode="offlineMode"\n      refresh-callback="getVolumes"\n    ></volumes-datatable>\n  </div>\n</div>\n')}]),e.exports=t},31140:function(e){var t="app/edge/components/associated-endpoints-datatable/associatedEndpointsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n      <div class="searchBar">\n        <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n        <input\n          type="text"\n          class="searchInput"\n          auto-focus\n          placeholder="Search..."\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n                  Name\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'GroupName\')">\n                  Group\n                  <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'GroupName\' && !$ctrl.state.reverseOrder"></i>\n                  <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === \'GroupName\' && $ctrl.state.reverseOrder"></i>\n                </a>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in $ctrl.state.filteredDataSet | itemsPerPage: $ctrl.state.paginatedItemLimit"\n              total-items="$ctrl.state.totalFilteredDataSet"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span>{{ item.Name }}</span>\n              </td>\n\n              <td>{{ item.GroupName }}</td>\n            </tr>\n            <tr ng-if="$ctrl.state.loading">\n              <td colspan="5" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No environment available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="!$ctrl.state.loading">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" on-page-change="$ctrl.onPageChange(newPageNumber, oldPageNumber)"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},7422:function(e){var t="app/edge/components/edge-job-form/edgeJobForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal -mt-4" name="edgeJobForm">\n  <div class="col-sm-12 form-section-title"> Edge job configuration </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group mt-4">\n    <label for="edgejob_name" class="col-sm-2 control-label text-left required">Name </label>\n    <div class="col-sm-10">\n      <input\n        type="text"\n        class="form-control"\n        ng-model="$ctrl.model.Name"\n        ng-pattern="/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/"\n        id="edgejob_name"\n        name="edgejob_name"\n        placeholder="e.g. backup-app-prod"\n        required\n        auto-focus\n      />\n      <div class="help-block" ng-show="edgeJobForm.edgejob_name.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="edgeJobForm.edgejob_name.$error">\n            <p ng-message="required" class="vertical-center">\n              <span><pr-icon icon="\'alert-triangle\'" class-name="\'icon-sm icon-warning\'" feather="true"></pr-icon></span> This field is required.\n            </p>\n            <p ng-message="pattern" class="vertical-center">\n              <span><pr-icon icon="\'alert-triangle\'" class-name="\'icon-sm icon-warning\'" feather="true"></pr-icon></span> Allowed characters are: [a-zA-Z0-9_.-]\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- !name-input --\x3e\n  \x3c!-- cron-input --\x3e\n  \x3c!-- edge-job-method-select --\x3e\n  <div class="col-sm-12 form-section-title"> Edge job configuration </div>\n  <div class="form-group"></div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <div class="boxselector_wrapper !mt-0">\n        <div>\n          <input type="radio" id="config_basic" ng-model="$ctrl.formValues.cronMethod" value="basic" />\n          <label for="config_basic">\n            <div class="boxselector_header vertical-center">\n              <pr-icon icon="\'calendar\'" feather="true"></pr-icon>\n              Basic configuration\n            </div>\n            <p>Select date from calendar</p>\n          </label>\n        </div>\n        <div>\n          <input type="radio" id="config_advanced" ng-model="$ctrl.formValues.cronMethod" value="advanced" />\n          <label for="config_advanced">\n            <div class="boxselector_header vertical-center">\n              <pr-icon icon="\'edit\'" feather="true"></pr-icon>\n              Advanced configuration\n            </div>\n            <p>Write your own cron rule</p>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !edge-job-method-select --\x3e\n  \x3c!-- basic-edge-job --\x3e\n  <div ng-if="$ctrl.formValues.cronMethod === \'basic\'">\n    <div class="form-group">\n      <label for="recurring" class="col-sm-2 control-label text-left">Recurring Edge job</label>\n      <div class="col-sm-10">\n        <label class="switch"><input type="checkbox" name="recurring" ng-model="$ctrl.model.Recurring" /><span class="slider round"></span></label>\n      </div>\n    </div>\n    \x3c!-- not-recurring --\x3e\n    <div ng-if="!$ctrl.model.Recurring">\n      <div class="form-group">\n        <label for="edgejob_cron" class="col-sm-2 control-label text-left">Schedule date</label>\n        <div class="col-sm-10">\n          <input class="form-control" moment-picker ng-model="$ctrl.formValues.datetime" format="YYYY-MM-DD HH:mm" />\n        </div>\n        <div class="col-sm-12 small text-muted mt-2.5"> Time should be set according to the chosen environments\' timezone. </div>\n        <div ng-show="edgeJobForm.datepicker.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="edgeJobForm.datepicker.$error">\n              <p ng-message="required" class="vertical-center">\n                <span><pr-icon icon="\'alert-triangle\'" class-name="\'icon-sm icon-warning\'" feather="true"></pr-icon></span> This field is required.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !not-recurring --\x3e\n    \x3c!-- recurring --\x3e\n    <div ng-if="$ctrl.model.Recurring">\n      <div class="form-group">\n        <label for="edgejob_value" class="col-sm-2 control-label text-left">Edge job time</label>\n        <div class="col-sm-10">\n          <select\n            id="edgejob_value"\n            name="edgejob_value"\n            class="form-control"\n            ng-model="$ctrl.formValues.scheduleValue"\n            ng-options="value.displayed for value in $ctrl.scheduleValues"\n            required\n          ></select>\n        </div>\n        <div ng-show="edgeJobForm.edgejob_value.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="edgeJobForm.edgejob_value.$error">\n              <p ng-message="required" class="vertical-center">\n                <span><pr-icon icon="\'alert-triangle\'" class-name="\'icon-sm icon-warning\'" feather="true"></pr-icon></span> This field is required.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !recurring --\x3e\n  </div>\n  \x3c!-- !basic-edge-job --\x3e\n  \x3c!-- advanced-schedule --\x3e\n  <div ng-if="$ctrl.formValues.cronMethod === \'advanced\'">\n    <div class="form-group">\n      <label for="edgejob_cron" class="col-sm-2 control-label text-left">Cron rule</label>\n      <div class="col-sm-10">\n        <input\n          type="text"\n          class="form-control"\n          ng-model="$ctrl.model.CronExpression"\n          id="edgejob_cron"\n          name="edgejob_cron"\n          placeholder="e.g. 0 2 * * *"\n          required\n          ng-pattern="$ctrl.cronRegex"\n        />\n        <div class="help-block" ng-show="edgeJobForm.edgejob_cron.$invalid && edgeJobForm.edgejob_cron.$dirty">\n          <div class="small text-warning">\n            <div ng-messages="edgeJobForm.edgejob_cron.$error">\n              <p ng-message="required" class="vertical-center">\n                <span><pr-icon icon="\'alert-triangle\'" class-name="\'icon-sm icon-warning\'" feather="true"></pr-icon></span> This field is required.\n              </p>\n              <p ng-message="pattern" class="vertical-center">\n                <span><pr-icon icon="\'alert-triangle\'" class-name="\'icon-sm icon-warning\'" feather="true"></pr-icon></span> This field format is invalid.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-sm-12 small text-muted mt-2.5"> Time should be set according to the chosen environments\' timezone. </div>\n    </div>\n  </div>\n  \x3c!-- !advanced-schedule --\x3e\n\n  \x3c!-- execution-method --\x3e\n  <div ng-if="!$ctrl.model.Id">\n    <div class="col-sm-12 form-section-title"> Job content </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <div class="boxselector_wrapper">\n          <div>\n            <input type="radio" id="method_editor" ng-model="$ctrl.formValues.method" value="editor" />\n            <label for="method_editor">\n              <div class="boxselector_header vertical-center">\n                <pr-icon icon="\'edit\'" feather="true"></pr-icon>\n                Web editor\n              </div>\n              <p>Use our Web editor</p>\n            </label>\n          </div>\n          <div>\n            <input type="radio" id="method_upload" ng-model="$ctrl.formValues.method" value="upload" />\n            <label for="method_upload">\n              <div class="boxselector_header vertical-center">\n                <pr-icon icon="\'upload\'" feather="true"></pr-icon>\n                Upload\n              </div>\n              <p>Upload from your computer</p>\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !execution-method --\x3e\n  \x3c!-- web-editor --\x3e\n  <div ng-show="$ctrl.formValues.method === \'editor\'">\n    <div class="col-sm-12 form-section-title"> Web editor </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <code-editor\n          identifier="execute-edge-job-editor"\n          placeholder="# Define or paste the content of your script file here"\n          on-change="($ctrl.editorUpdate)"\n          value="$ctrl.model.FileContent"\n        ></code-editor>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !web-editor --\x3e\n  \x3c!-- upload --\x3e\n  <div ng-show="$ctrl.formValues.method === \'upload\'">\n    <div class="col-sm-12 form-section-title"> Upload </div>\n    <div class="form-group">\n      <span class="col-sm-12 text-muted small"> You can upload a script file from your computer. </span>\n    </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.model.File">Select file</button>\n        <span class="space-left">\n          {{ $ctrl.model.File.name }}\n          <span ng-if="!$ctrl.model.File"><pr-icon icon="\'x\'" class-name="\'icon icon-danger\'" feather="true"></pr-icon></span>\n        </span>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !upload --\x3e\n  <div class="col-sm-12 form-section-title"> Target environments </div>\n  \x3c!-- node-selection --\x3e\n  <associated-endpoints-selector\n    endpoint-ids="$ctrl.model.Endpoints"\n    tags="$ctrl.tags"\n    groups="$ctrl.groups"\n    has-backend-pagination="true"\n    on-associate="($ctrl.associateEndpoint)"\n    on-dissociate="($ctrl.dissociateEndpoint)"\n  ></associated-endpoints-selector>\n  \x3c!-- !node-selection --\x3e\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="button"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !edgeJobForm.$valid\n        || $ctrl.model.Endpoints.length === 0\n        || ($ctrl.formValues.method === \'upload\' && !$ctrl.model.File)\n        || ($ctrl.formValues.method === \'editor\' && !$ctrl.model.FileContent)\n        "\n        ng-click="$ctrl.action()"\n        button-spinner="$ctrl.actionInProgress"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n      <span class="text-danger space-left" ng-if="$ctrl.state.formValidationError">\n        {{ $ctrl.state.formValidationError }}\n      </span>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},88832:function(e){var t="app/edge/components/edge-job-results-datatable/edgeJobResultsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable edge-job-results-datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <span><pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon></span>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar">\n          <span><pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon></span>\n          <input type="text" class="searchInput" ng-model="$ctrl.state.textFilter" placeholder="Search..." auto-focus ng-model-options="{ debounce: 300 }" />\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover table-filters nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <a ng-click="$ctrl.changeOrderBy(\'Endpoint\')">\n                  Environment\n                  <span><pr-icon icon="\'arrow-down\'" feather="true" ng-if="$ctrl.state.orderBy === \'Endpoint\' && !$ctrl.state.reverseOrder"></pr-icon></span>\n                  <span><pr-icon icon="\'arrow-up\'" feather="true" ng-if="$ctrl.state.orderBy === \'Endpoint\' && $ctrl.state.reverseOrder"></pr-icon></span>\n                </a>\n              </th>\n              <th> Actions </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td>\n                {{ item.Endpoint.Name }}\n              </td>\n              <td>\n                <button ng-if="item.LogsStatus === 0 || item.LogsStatus === 1" class="btn btn-sm btn-primary" ng-click="$ctrl.collectLogs(item.EndpointId)"> Retrieve logs </button>\n                <button ng-if="item.LogsStatus === 3" class="btn btn-sm btn-primary" ng-click="$ctrl.onDownloadLogsClick(item.EndpointId)"> Download logs </button>\n                <button ng-if="item.LogsStatus === 3" class="btn btn-sm btn-primary" ng-click="$ctrl.onClearLogsClick(item.EndpointId)"> Clear logs </button>\n                <span ng-if="item.LogsStatus === 2"> Logs marked for collection, please wait until the logs are available. </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="9" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="9" class="text-center text-muted">No result available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span class="mr-1"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},14186:function(e){var t="app/edge/components/edge-jobs-datatable/edgeJobsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center"> <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon> {{ $ctrl.titleText }} </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'icon\'"></pr-icon>\n          <input type="text" class="searchInput" ng-model="$ctrl.state.textFilter" placeholder="Search..." auto-focus ng-model-options="{ debounce: 300 }" />\n        </div>\n        <div class="actionBar">\n          <button type="button" class="btn btn-sm btn-danger" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems)">\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n          </button>\n          <button type="button" class="btn btn-sm btn-primary" ui-sref="edge.jobs.new"> <pr-icon icon="\'plus\'" feather="true"></pr-icon>Add Edge job </button>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'CronExpression\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CronExpression\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CronExpression\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CronExpression\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Created\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Created\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Created\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Created\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="edge.jobs.job({id: item.Id})">{{ item.Name }}</a>\n              </td>\n              <td>\n                {{ item.CronExpression }}\n              </td>\n              <td>{{ item.Created | getisodatefromtimestamp }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No Edge job available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span class="mr-1"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},23423:function(e){var t="app/edge/components/edge-stack-deployment-type-selector/edge-stack-deployment-type-selector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Deployment type </div>\n<box-selector radio-name="\'deploymentType\'" value="$ctrl.value" options="$ctrl.deploymentOptions" on-change="($ctrl.onChange)"></box-selector>\n')}]),e.exports=t},77656:function(e){var t="app/edge/components/edge-stack-endpoints-datatable/edgeStackEndpointsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center"> <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon> {{ $ctrl.titleText }} </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            auto-focus\n            placeholder="Search..."\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Status\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Status\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Status\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Error\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Error\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Error\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Error\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in $ctrl.state.filteredDataSet | itemsPerPage: $ctrl.state.paginatedItemLimit"\n              total-items="$ctrl.state.totalFilteredDataSet"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>{{ item.Name }}</td>\n              <td>{{ $ctrl.endpointStatusLabel(item.Id) }}</td>\n              <td>{{ $ctrl.endpointStatusError(item.Id) }}</td>\n            </tr>\n            <tr ng-if="$ctrl.state.loading">\n              <td colspan="5" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No environment available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="!$ctrl.state.loading">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" on-page-change="$ctrl.onPageChange(newPageNumber, oldPageNumber)"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},53501:function(e){var t="app/edge/components/edge-stack-status/edgeStackStatus.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span class="status" title="Acknowledged environments"><i class="acknowledged icon"></i>{{ $ctrl.status.acknowledged || 0 }}</span>\n<span class="status" title="Successful environments"><i class="ok icon"></i>{{ $ctrl.status.ok || 0 }}</span>\n<span class="status" title="Failed environments"><i class="error icon"></i>{{ $ctrl.status.error || 0 }}</span>\n')}]),e.exports=t},3942:function(e){var t="app/edge/components/edge-stacks-datatable/edgeStacksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center"> <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon> Edge Stacks </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'icon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div class="actionBar">\n          <button\n            type="button"\n            class="btn btn-sm btn-danger"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="edgeStack-removeStackButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon> Remove\n          </button>\n          <button type="button" class="btn btn-sm btn-primary" ui-sref="edge.stacks.new" data-cy="edgeStack-addStackButton">\n            <pr-icon icon="\'plus\'" feather="true"></pr-icon> Add stack\n          </button>\n        </div>\n        <div class="settings !w-2.5" data-cy="edgeStack-stackTableSettings">\n          <span class="setting mr-0" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><pr-icon icon="\'more-vertical\'" feather="true"></pr-icon></span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> <pr-icon icon="\'settings\'" feather="true"></pr-icon> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input\n                        id="setting_auto_refresh"\n                        type="checkbox"\n                        ng-model="$ctrl.settings.repeater.autoRefresh"\n                        ng-change="$ctrl.onSettingsRepeaterChange()"\n                        data-cy="edgeStack-autoRefreshCheckbox"\n                      />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span class="inline-block w-3">\n                        <pr-icon id="refreshRateChange" icon="\'check\'" style="display: none" mode="\'success\'" feather="true"></pr-icon>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;"> Close </a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="edgeStack-stackTable">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th> Status </th>\n              <th>\n                <table-column-header\n                  col-title="\'Creation Date\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CreationDate\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CreationDate\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CreationDate\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="!$ctrl.allowSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="edge.stacks.edit({ stackId: item.Id })">\n                  {{ item.Name }}\n                </a>\n              </td>\n              <td><edge-stack-status stack-status="item.Status"></edge-stack-status></td>\n              <td>{{ item.CreationDate | getisodatefromtimestamp }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset" data-cy="edgeStack-loadingRow">\n              <td colspan="4" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0" data-cy="edgeStack-noStackRow">\n              <td colspan="4" class="text-center text-muted"> No stack available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span class="mr-1"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},51367:function(e){var t="app/edge/components/edit-edge-stack-form/editEdgeStackForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal">\n  <div class="col-sm-12 form-section-title"> Edge Groups </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <edge-groups-selector value="$ctrl.model.EdgeGroups" items="$ctrl.edgeGroups" on-change="($ctrl.onChangeGroups)"></edge-groups-selector>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="!$ctrl.validateEndpointsForDeployment()">\n    <div class="col-sm-12">\n      <div class="small text-muted space-right text-warning">\n        <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i>\n        One or more of the selected Edge group contains Edge Docker endpoints that cannot be used with a Kubernetes Edge stack.\n      </div>\n    </div>\n  </div>\n\n  <edge-stack-deployment-type-selector\n    value="$ctrl.model.DeploymentType"\n    has-docker-endpoint="$ctrl.hasDockerEndpoint"\n    on-change="($ctrl.onChangeDeploymentType)"\n  ></edge-stack-deployment-type-selector>\n\n  <div class="form-group" ng-if="$ctrl.model.DeploymentType === 0 && $ctrl.hasKubeEndpoint()">\n    <div class="col-sm-12">\n      <div class="small text-muted space-right">\n        <i class="fa fa-exclamation-triangle orange-icon" aria-hidden="true"></i>\n        Portainer uses <a href="https://kompose.io/" target="_blank">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not all the\n        Compose format options are supported by Kompose at the moment.\n      </div>\n    </div>\n  </div>\n\n  <web-editor-form\n    ng-if="$ctrl.model.DeploymentType === 0"\n    value="$ctrl.model.StackFileContent"\n    yml="true"\n    identifier="compose-editor"\n    placeholder="# Define or paste the content of your docker compose file here"\n    on-change="($ctrl.onChangeComposeConfig)"\n  >\n    <editor-description>\n      <div>\n        You can get more information about Compose file format in the\n        <a href="https://docs.docker.com/compose/compose-file/" target="_blank"> official documentation </a>\n        .\n      </div>\n    </editor-description>\n  </web-editor-form>\n\n  <web-editor-form\n    ng-if="$ctrl.model.DeploymentType === 1"\n    value="$ctrl.model.StackFileContent"\n    yml="true"\n    identifier="kube-manifest-editor"\n    placeholder="# Define or paste the content of your manifest here"\n    on-change="($ctrl.onChangeKubeManifest)"\n  >\n    <editor-description>\n      <p>\n        You can get more information about Kubernetes file format in the\n        <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank">official documentation</a>.\n      </p>\n    </editor-description>\n  </web-editor-form>\n\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="button"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !$ctrl.isFormValid()"\n        ng-click="$ctrl.submitAction()"\n        button-spinner="$ctrl.actionInProgress"\n      >\n        <span ng-hide="$ctrl.actionInProgress">Update the stack</span>\n        <span ng-show="$ctrl.actionInProgress">Update in progress...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},68393:function(e){var t="app/edge/components/group-form/groupForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="EdgeGroupForm" ng-submit="$ctrl.formAction()">\n  <div class="form-group">\n    <label for="group_name" class="col-sm-3 col-lg-2 control-label text-left required"> Name </label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        class="form-control"\n        id="group_name"\n        name="group_name"\n        ng-model="$ctrl.model.Name"\n        required\n        auto-focus\n        data-cy="edgeGroupCreate-groupNameInput"\n        placeholder="e.g. mygroup"\n      />\n      <div class="help-block" ng-show="EdgeGroupForm.group_name.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="EdgeGroupForm.group_name.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" class-name="\'icon-sm icon-warning\'" feather="true"></pr-icon> This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="col-sm-12 form-section-title"> Group type </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <div class="boxselector_wrapper">\n        <div class="boxselector">\n          <input type="radio" id="static-group" ng-model="$ctrl.model.Dynamic" ng-value="false" ng-checked="!$ctrl.model.Dynamic" />\n          <label for="static-group">\n            <div class="boxselector_header vertical-center">\n              <pr-icon icon="\'list\'" feather="true"></pr-icon>\n              Static\n            </div>\n            <p>Manually select Edge environments</p>\n          </label>\n        </div>\n        <div class="boxselector">\n          <input type="radio" id="dynamic-group" ng-model="$ctrl.model.Dynamic" ng-value="true" ng-checked="$ctrl.model.Dynamic" />\n          <label for="dynamic-group">\n            <div class="boxselector_header vertical-center">\n              <pr-icon icon="\'tag\'" feather="true"></pr-icon>\n              Dynamic\n            </div>\n            <p>Automatically associate environments via tags</p>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- StaticGroup --\x3e\n  <div ng-if="!$ctrl.model.Dynamic">\n    <div ng-if="!$ctrl.noEndpoints">\n      \x3c!-- environments --\x3e\n      <div class="col-sm-12 form-section-title"> Associated environments </div>\n      <div class="form-group">\n        <associated-endpoints-selector\n          endpoint-ids="$ctrl.model.Endpoints"\n          tags="$ctrl.tags"\n          groups="$ctrl.groups"\n          has-backend-pagination="true"\n          on-associate="($ctrl.associateEndpoint)"\n          on-dissociate="($ctrl.dissociateEndpoint)"\n        ></associated-endpoints-selector>\n      </div>\n    </div>\n    <div class="form-group" ng-if="$ctrl.noEndpoints">\n      <div class="col-sm-12 small text-muted">\n        No Edge environments are available. Head over to the <a ui-sref="portainer.endpoints">Environments view</a> to add environments.\n      </div>\n    </div>\n  </div>\n  \x3c!-- !StaticGroup --\x3e\n\n  \x3c!-- DynamicGroup --\x3e\n  <div ng-if="$ctrl.model.Dynamic">\n    <div class="col-sm-12 form-section-title"> Tags </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <div class="boxselector_wrapper">\n          <div class="boxselector">\n            <input type="radio" id="or-selector" ng-model="$ctrl.model.PartialMatch" ng-value="true" ng-checked="$ctrl.model.PartialMatch" />\n            <label for="or-selector">\n              <div class="boxselector_header vertical-center">\n                <pr-icon icon="\'tag\'" feather="true"></pr-icon>\n                Partial match\n              </div>\n              <p>Associate any environment matching at least one of the selected tags</p>\n            </label>\n          </div>\n          <div class="boxselector">\n            <input type="radio" id="and-selector" ng-model="$ctrl.model.PartialMatch" ng-value="false" ng-checked="!$ctrl.model.PartialMatch" />\n            <label for="and-selector">\n              <div class="boxselector_header vertical-center">\n                <pr-icon icon="\'tag\'" feather="true"></pr-icon>\n                Full match\n              </div>\n              <p>Associate any environment matching all of the selected tags</p>\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <tag-selector ng-if="$ctrl.model.TagIds" value="$ctrl.model.TagIds" on-change="($ctrl.onChangeTags)"> </tag-selector>\n\n    <div class="table-in-row">\n      <group-association-table\n        loaded="$ctrl.loaded"\n        page-type="$ctrl.pageType"\n        table-type="associated"\n        retrieve-page="$ctrl.getDynamicEndpoints"\n        dataset="$ctrl.endpoints.value"\n        pagination-state="$ctrl.endpoints.state"\n        empty-dataset-message="No associated endpoint"\n        tags="$ctrl.tags"\n        show-tags="true"\n        groups="$ctrl.groups"\n        show-groups="true"\n        has-backend-pagination="true"\n        title="Associated environments by tags"\n      ></group-association-table>\n    </div>\n  </div>\n  \x3c!-- !DynamicGroup --\x3e\n\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !EdgeGroupForm.$valid || (!$ctrl.model.Dynamic && !$ctrl.model.Endpoints.length) || ($ctrl.model.Dynamic && !$ctrl.model.TagIds.length)"\n        button-spinner="$ctrl.actionInProgress"\n        data-cy="edgeGroupCreate-addGroupButton"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n    </div>\n  </div>\n</form>\n')}]),e.exports=t},48384:function(e){var t="app/edge/components/groups-datatable/groupsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center"> <pr-icon icon="\'grid\'" feather="true"></pr-icon> Edge Groups </div>\n        <div class="searchBar vertical-center leading-none">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search..."\n            ng-model-options="{ debounce: 300 }"\n            data-cy="edgeGroup-searchInput"\n          />\n        </div>\n        <div class="actionBar">\n          <button\n            type="button"\n            class="btn btn-sm btn-danger"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="edgeGroup-removeEdgeGroupButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon> Remove\n          </button>\n          <button type="button" class="btn btn-sm btn-primary" ui-sref="edge.groups.new" data-cy="edgeGroup-addEdgeGroupButton">\n            <pr-icon icon="\'plus\'" feather="true"></pr-icon> Add Edge group\n          </button>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="edgeGroup-edgeGroupTable">\n          <thead>\n            <tr>\n              <th class="flex">\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" data-cy="edgeGroup-selectAllCheckbox" />\n                  <label for="select_all"></label>\n                </span>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Environments Count\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Endpoints.length\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Endpoints.length\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Endpoints.length\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Group Type\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Dynamic\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Dynamic\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Dynamic\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-disabled="item.HasEdgeStack" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="edge.groups.edit({groupId: item.Id})">{{ item.Name }}</a>\n                <span ng-if="item.HasEdgeStack" class="label label-info image-tag space-left">in use</span>\n              </td>\n              <td>{{ item.Endpoints.length }}</td>\n              <td>{{ item.Dynamic ? \'Dynamic\' : \'Static\' }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted"> No Edge group available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span class="mr-1"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},4690:function(e){var t="app/edge/views/edge-groups/createEdgeGroupView/createEdgeGroupView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create edge group\'" breadcrumbs="[{label:\'Edge groups\', link:\'edge.groups\'}, \'Add edge group\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <edge-group-form\n          loaded="$ctrl.state.loaded"\n          page-type="create"\n          form-action-label="Add edge group"\n          form-action="$ctrl.createGroup"\n          groups="$ctrl.endpointGroups"\n          model="$ctrl.model"\n        ></edge-group-form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},52934:function(e){var t="app/edge/views/edge-groups/edgeGroupsView/edgeGroupsView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Edge Groups\'" breadcrumbs="[\'Edge Groups\']" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <edge-groups-datatable title-icon="fa-object-group" table-key="EdgeGroups" order-by="Name" dataset="$ctrl.items" remove-action="$ctrl.removeAction"></edge-groups-datatable>\n  </div>\n</div>\n')}]),e.exports=t},25575:function(e){var t="app/edge/views/edge-groups/editEdgeGroupView/editEdgeGroupView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Edit edge group\'" breadcrumbs="[{label:\'Edge Groups\', link:\'edge.groups\'}, $ctrl.model.Name]"> </page-header>\n\n<div class="row" ng-if="$ctrl.model">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <edge-group-form\n          loaded="$ctrl.state.loaded"\n          page-type="edit"\n          form-action-label="Save edge group"\n          form-action="$ctrl.updateGroup"\n          endpoints="$ctrl.endpoints"\n          groups="$ctrl.endpointGroups"\n          model="$ctrl.model"\n        ></edge-group-form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},4913:function(e){var t="app/edge/views/edge-jobs/createEdgeJobView/createEdgeJobView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create Edge job\'" breadcrumbs="[{label:\'Edge Jobs\', link:\'edge.jobs\'}, \'Create Edge job\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <edge-job-form\n          model="$ctrl.model"\n          groups="$ctrl.groups"\n          tags="$ctrl.tags"\n          form-action="$ctrl.create"\n          form-action-label="Create edge job"\n          action-in-progress="$ctrl.state.actionInProgress"\n          is-editor-dirty="$ctrl.state.isEditorDirty"\n        ></edge-job-form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},14399:function(e){var t="app/edge/views/edge-jobs/edgeJob/edgeJob.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Edge job details\'" breadcrumbs="[{label:\'Edge jobs\', link:\'edge.jobs\'}, $ctrl.edgeJob.Name]" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <uib-tabset active="$ctrl.state.activeTab">\n          <uib-tab index="0" select="$ctrl.showEditor()">\n            <uib-tab-heading>\n              <span><pr-icon icon="\'tool\'" feather="true"></pr-icon></span> Configuration\n            </uib-tab-heading>\n\n            <edge-job-form\n              ng-if="$ctrl.edgeJob && $ctrl.state.showEditorTab"\n              model="$ctrl.edgeJob"\n              endpoints="endpoints"\n              groups="$ctrl.groups"\n              tags="$ctrl.tags"\n              form-action="$ctrl.update"\n              form-action-label="Update Edge job"\n              action-in-progress="$ctrl.state.actionInProgress"\n              is-editor-dirty="$ctrl.state.isEditorDirty"\n            ></edge-job-form>\n          </uib-tab>\n\n          <uib-tab index="1">\n            <uib-tab-heading>\n              <span><pr-icon icon="\'list\'" feather="true"></pr-icon></span> Results\n            </uib-tab-heading>\n\n            <edge-job-results-datatable\n              ng-if="$ctrl.results"\n              title-text="Results"\n              title-icon="list"\n              dataset="$ctrl.results"\n              table-key="edge-job-results"\n              order-by="Status"\n              reverse-order="true"\n              refresh-callback="$ctrl.refresh"\n              on-download-logs-click="($ctrl.downloadLogs)"\n              on-collect-logs-click="($ctrl.collectLogs)"\n              on-clear-logs-click="($ctrl.clearLogs)"\n            ></edge-job-results-datatable>\n          </uib-tab>\n        </uib-tabset>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},53684:function(e){var t="app/edge/views/edge-jobs/edgeJobsView/edgeJobsView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Edge Jobs\'" breadcrumbs="[\'Edge Jobs\']" reload="true"> </page-header>\n\n<information-panel title-text="Information">\n  <span class="small">\n    <p class="text-muted">Edge Jobs requires Docker Standalone and a cron implementation that reads jobs from <code>/etc/cron.d</code></p>\n  </span>\n</information-panel>\n\n<div class="row">\n  <div class="col-sm-12">\n    <edge-jobs-datatable\n      title-text="Edge jobs"\n      title-icon="clock"\n      dataset="$ctrl.edgeJobs"\n      table-key="edgeJobs"\n      order-by="Name"\n      remove-action="$ctrl.removeAction"\n    ></edge-jobs-datatable>\n  </div>\n</div>\n')}]),e.exports=t},71818:function(e){var t="app/edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create Edge stack\'" breadcrumbs="[{label:\'Edge Stacks\', link:\'edge.stacks\'}, \'Create Edge stack\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="$ctrl.form">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="stack_name" class="col-sm-1 control-label text-left required"> Name </label>\n            <div class="col-sm-11">\n              <input\n                type="text"\n                class="form-control"\n                ng-model="$ctrl.formValues.Name"\n                id="stack_name"\n                name="nameField"\n                placeholder="e.g. mystack"\n                auto-focus\n                required\n                data-cy="edgeStackCreate-nameInput"\n              />\n              <div class="help-block" ng-show="$ctrl.form.$invalid">\n                <div class="small text-warning">\n                  <div ng-messages="$ctrl.form.$error">\n                    <p ng-message="required" class="vertical-center"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Name is required. </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n\n          <div class="col-sm-12 form-section-title"> Edge Groups </div>\n          <div class="form-group" ng-if="$ctrl.edgeGroups">\n            <div class="col-sm-12">\n              <edge-groups-selector ng-if="!$ctrl.noGroups" value="$ctrl.formValues.Groups" on-change="($ctrl.onChangeGroups)" items="$ctrl.edgeGroups"></edge-groups-selector>\n            </div>\n            <div ng-if="$ctrl.noGroups" class="col-sm-12 small text-muted">\n              No Edge groups are available. Head over to the <a ui-sref="edge.groups">Edge groups view</a> to create one.\n            </div>\n          </div>\n\n          <edge-stack-deployment-type-selector\n            value="$ctrl.formValues.DeploymentType"\n            has-docker-endpoint="$ctrl.hasDockerEndpoint"\n            on-change="($ctrl.onChangeDeploymentType)"\n          ></edge-stack-deployment-type-selector>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <div class="small text-muted space-right" ng-if="$ctrl.formValues.DeploymentType === 0 && $ctrl.hasKubeEndpoint()">\n                <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                Portainer uses <a href="https://kompose.io/" target="_blank">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not all\n                the Compose format options are supported by Kompose at the moment.\n              </div>\n            </div>\n          </div>\n\n          <edge-stacks-docker-compose-form ng-if="$ctrl.formValues.DeploymentType == 0" form-values="$ctrl.formValues" state="$ctrl.state"></edge-stacks-docker-compose-form>\n\n          <edge-stacks-kube-manifest-form ng-if="$ctrl.formValues.DeploymentType == 1" form-values="$ctrl.formValues" state="$ctrl.state"></edge-stacks-kube-manifest-form>\n\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.state.actionInProgress || $ctrl.formIsInvalid()"\n                ng-click="$ctrl.createStack()"\n                button-spinner="$ctrl.state.actionInProgress"\n                analytics-on\n                analytics-event="edge-stack-creation"\n                analytics-category="edge"\n                analytics-properties="$ctrl.buildAnalyticsProperties()"\n                data-cy="edgeStackCreate-createStackButton"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress">Deploy the stack</span>\n                <span ng-show="$ctrl.state.actionInProgress">Deployment in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px">\n                {{ $ctrl.state.formValidationError }}\n              </span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},2892:function(e){var t="app/edge/views/edge-stacks/createEdgeStackView/docker-compose-form/docker-compose-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Build method </div>\n<box-selector radio-name="\'method\'" value="$ctrl.state.Method" options="$ctrl.methodOptions" on-change="($ctrl.onChangeMethod)"></box-selector>\n\n<web-editor-form\n  ng-if="$ctrl.state.Method === \'editor\'"\n  identifier="stack-creation-editor"\n  value="$ctrl.formValues.StackFileContent"\n  on-change="($ctrl.onChangeFileContent)"\n  ng-required="true"\n  yml="true"\n  placeholder="# Define or paste the content of your docker compose file here"\n>\n  <editor-description>\n    You can get more information about Compose file format in the\n    <a href="https://docs.docker.com/compose/compose-file/" target="_blank"> official documentation </a>\n    .\n  </editor-description>\n</web-editor-form>\n\n<file-upload-form ng-if="$ctrl.state.Method === \'upload\'" file="$ctrl.formValues.StackFile" on-change="($ctrl.onChangeFile)" ng-required="true">\n  <file-upload-description> You can upload a Compose file from your computer. </file-upload-description>\n</file-upload-form>\n\n<git-form ng-if="$ctrl.state.Method === \'repository\'" model="$ctrl.formValues" on-change="($ctrl.onChangeFormValues)" hide-rebuild-info="true"></git-form>\n\n\x3c!-- template --\x3e\n<div ng-if="$ctrl.state.Method === \'template\'">\n  <div class="form-group">\n    <label for="stack_template" class="col-sm-1 control-label text-left"> Template </label>\n    <div class="col-sm-11">\n      <select\n        class="form-control"\n        ng-model="$ctrl.selectedTemplate"\n        ng-options="template as template.label for template in $ctrl.templates"\n        ng-change="$ctrl.onChangeTemplate($ctrl.selectedTemplate)"\n      >\n        <option value="" label="Select an Edge stack template" disabled selected="selected"> </option>\n      </select>\n    </div>\n  </div>\n  \x3c!-- description --\x3e\n  <div ng-if="$ctrl.selectedTemplate.note">\n    <div class="col-sm-12 form-section-title"> Information </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <div class="template-note" ng-bind-html="$ctrl.selectedTemplate.note"></div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !description --\x3e\n\n  <web-editor-form\n    ng-if="$ctrl.selectedTemplate && $ctrl.formValues.StackFileContent"\n    identifier="template-content-editor"\n    value="$ctrl.formValues.StackFileContent"\n    on-change="($ctrl.onChangeFileContent)"\n    yml="true"\n    placeholder="# Define or paste the content of your docker compose file here"\n    ng-required="true"\n  >\n  </web-editor-form>\n\n  \x3c!-- !template --\x3e\n</div>\n')}]),e.exports=t},87700:function(e){var t="app/edge/views/edge-stacks/createEdgeStackView/kube-deploy-description/kube-deploy-description.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>Templates allow deploying any kind of Kubernetes resource (Deployment, Secret, ConfigMap...)</div>\n<div>\n  You can get more information about Kubernetes file format in the\n  <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank">official documentation</a>.\n</div>\n')}]),e.exports=t},65398:function(e){var t="app/edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/kube-manifest-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Build method </div>\n<box-selector radio-name="\'method\'" value="$ctrl.state.Method" options="$ctrl.methodOptions" on-change="($ctrl.onChangeMethod)"></box-selector>\n\n<web-editor-form\n  ng-if="$ctrl.state.Method === \'editor\'"\n  identifier="stack-creation-editor"\n  value="$ctrl.formValues.StackFileContent"\n  on-change="($ctrl.onChangeFileContent)"\n  yml="true"\n  placeholder="# Define or paste the content of your manifest here"\n  ng-required="true"\n>\n  <editor-description>\n    <kube-deploy-description></kube-deploy-description>\n  </editor-description>\n</web-editor-form>\n\n<file-upload-form ng-if="$ctrl.state.Method === \'upload\'" file="$ctrl.formValues.StackFile" on-change="($ctrl.onChangeFile)" ng-required="true">\n  <file-upload-description>\n    <kube-deploy-description></kube-deploy-description>\n  </file-upload-description>\n</file-upload-form>\n\n<git-form\n  ng-if="$ctrl.state.Method === \'repository\'"\n  deploy-method="kubernetes"\n  model="$ctrl.formValues"\n  on-change="($ctrl.onChangeFormValues)"\n  hide-rebuild-info="true"\n></git-form>\n')}]),e.exports=t},51919:function(e){var t="app/edge/views/edge-stacks/edgeStacksView/edgeStacksView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Edge Stacks list\'" breadcrumbs="[\'Edge Stacks\']" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <edge-stacks-datatable\n      title-text="Edge Stacks"\n      title-icon="layers"\n      dataset="$ctrl.stacks"\n      table-key="edgeStacks"\n      order-by="Name"\n      remove-action="$ctrl.removeAction"\n      refresh-callback="$ctrl.getStacks"\n    ></edge-stacks-datatable>\n  </div>\n</div>\n')}]),e.exports=t},48023:function(e){var t="app/edge/views/edge-stacks/editEdgeStackView/editEdgeStackView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Edit Edge stack\'" breadcrumbs="[{label:\'Edge Stacks\', link:\'edge.stacks\'}, $ctrl.stack.Name]" reload="true"> </page-header>\n\n<div class="row" ng-if="$ctrl.stack">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body classes="no-padding">\n        <uib-tabset active="$ctrl.state.activeTab" justified="true" type="pills">\n          <uib-tab index="0" classes="btn-sm">\n            <uib-tab-heading>\n              <span><pr-icon icon="\'layers\'" feather="true"></pr-icon></span> Stack\n            </uib-tab-heading>\n\n            <div style="padding: 20px">\n              <edit-edge-stack-form\n                edge-groups="$ctrl.edgeGroups"\n                model="$ctrl.formValues"\n                action-in-progress="$ctrl.state.actionInProgress"\n                submit-action="$ctrl.deployStack"\n                is-editor-dirty="$ctrl.state.isEditorDirty"\n              ></edit-edge-stack-form>\n            </div>\n          </uib-tab>\n          <uib-tab index="1" classes="btn-sm">\n            <uib-tab-heading>\n              <span><pr-icon icon="\'hard-drive\'" feather="true"></pr-icon></span> Environments\n            </uib-tab-heading>\n\n            <div style="margin-top: 25px">\n              <edge-stack-endpoints-datatable\n                title-text="Environments Status"\n                dataset="$ctrl.endpoints"\n                title-icon="hard-drive"\n                table-key="edgeStackEndpoints"\n                order-by="Name"\n                retrieve-page="$ctrl.getPaginatedEndpoints"\n                edge-stack-id="$ctrl.stack.Id"\n                endpoints-status="$ctrl.stack.Status"\n              >\n              </edge-stack-endpoints-datatable>\n            </div>\n          </uib-tab>\n        </uib-tabset>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},15879:function(e){var t="app/kubernetes/components/datatables/application/containers-datatable/containersDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle flex">\n          <div class="widget-icon space-right">\n            <pr-icon icon="\'server\'" feather="true"></pr-icon>\n          </div>\n          <span>\n            {{ $ctrl.titleText }}\n          </span>\n        </div>\n        <div class="searchBar">\n          <pr-icon icon="\'search\'" class="vertical-center" feather="true"></pr-icon>\n          <input\n            type="text"\n            class="searchInput ml-1"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for an application..."\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div ng-if="$ctrl.refreshCallback" class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><pr-icon icon="\'more-vertical\'" feather="true"></pr-icon></span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <pr-icon id="refreshRateChange" style="display: none" icon="\'check\'" mode="\'success\'" feather="true"></pr-icon>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="k8sAppDetail-containerTable">\n          <thead>\n            <tr>\n              <th ng-if="!$ctrl.isPod">\n                <table-column-header\n                  col-title="\'Pod\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'PodName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'PodName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'PodName\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Image\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Image\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Image\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Image Pull Policy\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'ImagePullPolicy\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'ImagePullPolicy\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'ImagePullPolicy\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Status\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Status\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Status\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Node\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Node\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Node\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Node\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Pod IP\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'IP\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'IP\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'IP\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Creation date\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CreationDate\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CreationDate\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CreationDate\')"\n                ></table-column-header>\n              </th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n              pagination-id="$ctrl.tableKey"\n            >\n              <td ng-if="!$ctrl.isPod">{{ item.PodName }}</td>\n              <td>{{ item.Name }}</td>\n              <td title="{{ item.Image }}">{{ item.Image | truncate: 64 }}</td>\n              <td>{{ item.ImagePullPolicy }}</td>\n              <td\n                ><span class="label label-{{ item.Status | kubernetesPodStatusColor }}">{{ item.Status }}</span></td\n              >\n              <td>\n                <span ng-if="item.Node">\n                  <a ui-sref="kubernetes.cluster.node({ name: item.Node })">\n                    {{ item.Node }}\n                  </a>\n                </span>\n                <span ng-if="!item.Node">-</span>\n              </td>\n              <td>{{ item.PodIP }}</td>\n              <td>{{ item.CreationDate | getisodate }}</td>\n              <td>\n                <a\n                  ng-if="item.Status === \'Running\' && $ctrl.useServerMetrics"\n                  ui-sref="kubernetes.applications.application.stats({ pod: item.PodName, container: item.Name })"\n                  class="vertical-center mr-1"\n                >\n                  <pr-icon icon="\'bar-chart\'" feather="true"></pr-icon>Stats\n                </a>\n                <a ui-sref="kubernetes.applications.application.logs({ pod: item.PodName, container: item.Name })" class="vertical-center mr-1">\n                  <pr-icon icon="\'file-text\'" feather="true"></pr-icon>Logs\n                </a>\n                <a\n                  ng-if="item.Status === \'Running\'"\n                  ui-sref="kubernetes.applications.application.console({ pod: item.PodName, container: item.Name })"\n                  class="vertical-center mr-1"\n                >\n                  <pr-icon icon="\'terminal\'" feather="true"></pr-icon>Console\n                </a>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="7" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="7" class="text-center text-muted">No pod available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},99055:function(e){var t="app/kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-xs-12 text-[13px] !px-0 !py-1"> Secrets </div>\n<table style="width: 50%">\n  <tbody>\n    <tr>\n      <td>\n        <sensitive-details ng-repeat="secret in $ctrl.state.secrets" key="{{ secret.key }}" value="{{ secret.value }}"> </sensitive-details>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),e.exports=t},57257:function(e){var t="app/kubernetes/components/datatables/applications-datatable-url/applications-datatable-url.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="published-url-container">\n  <div class="text-muted"> Published URL </div>\n  <a ng-href="{{ $ctrl.publishedUrl }}" target="_blank" class="publish-url-link vertical-center">\n    <pr-icon icon="\'external-link\'" feather="true"></pr-icon>\n    {{ $ctrl.publishedUrl }}\n  </a>\n</div>\n')}]),e.exports=t},69333:function(e){var t="app/kubernetes/components/datatables/applications-datatable/applicationsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  \x3c!-- toolbar header actions and settings --\x3e\n  <div ng-if="$ctrl.isPrimary" class="toolBar !flex-col gap-1">\n    <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap !p-0 w-full">\n      <div class="toolBarTitle vertical-center">\n        <div class="widget-icon space-right">\n          <pr-icon icon="\'box\'" feather="true"></pr-icon>\n        </div>\n        Applications\n      </div>\n      <div class="searchBar vertical-center !mr-0 min-w-[280px]">\n        <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="Search for an application..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n          data-cy="k8sApp-searchApplicationsInput"\n        />\n      </div>\n      <div class="actionBar !gap-3 !mr-0" ng-if="!$ctrl.offlineMode">\n        <button\n          ng-if="$ctrl.isPrimary"\n          type="button"\n          class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="k8sApp-removeAppButton"\n        >\n          <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n          Remove\n        </button>\n        <button\n          ng-if="$ctrl.isPrimary"\n          type="button"\n          class="btn btn-sm btn-secondary h-fit vertical-center !ml-0"\n          ui-sref="kubernetes.applications.new"\n          data-cy="k8sApp-addApplicationButton"\n        >\n          <pr-icon icon="\'plus\'" feather="true" class-name="\'!h-3\'"></pr-icon>Add with form\n        </button>\n        <button\n          ng-if="$ctrl.isPrimary"\n          type="button"\n          class="btn btn-sm btn-primary h-fit vertical-center !ml-0"\n          ui-sref="kubernetes.deploy"\n          data-cy="k8sApp-deployFromManifestButton"\n        >\n          <pr-icon icon="\'plus\'" feather="true" class-name="\'!h-3\'"></pr-icon>Create from manifest\n        </button>\n      </div>\n      <div class="settings" data-cy="k8sApp-tableSettings">\n        <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n          <span uib-dropdown-toggle aria-label="Settings">\n            <pr-icon icon="\'more-vertical\'" feather="true" class-name="\'!mr-0 !h-4\'"></pr-icon>\n          </span>\n          <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n            <div class="tableMenu">\n              <div class="menuHeader"> Table settings </div>\n              <div class="menuContent">\n                <div>\n                  <div class="md-checkbox" ng-if="$ctrl.isAdmin">\n                    <input id="applications_setting_show_system" type="checkbox" ng-model="$ctrl.settings.showSystem" ng-change="$ctrl.onSettingsShowSystemChange()" />\n                    <label for="applications_setting_show_system">Show system resources</label>\n                  </div>\n                  <div class="md-checkbox">\n                    <input\n                      id="setting_auto_refresh"\n                      type="checkbox"\n                      ng-model="$ctrl.settings.repeater.autoRefresh"\n                      ng-change="$ctrl.onSettingsRepeaterChange()"\n                      data-cy="k8sApp-autoRefreshCheckbox"\n                    />\n                    <label for="setting_auto_refresh">Auto refresh</label>\n                  </div>\n                  <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                    <label for="settings_refresh_rate"> Refresh rate </label>\n                    <select\n                      id="settings_refresh_rate"\n                      ng-model="$ctrl.settings.repeater.refreshRate"\n                      ng-change="$ctrl.onSettingsRepeaterChange()"\n                      class="small-select"\n                      data-cy="k8sApp-refreshRateDropdown"\n                    >\n                      <option value="10">10s</option>\n                      <option value="30">30s</option>\n                      <option value="60">1min</option>\n                      <option value="120">2min</option>\n                      <option value="300">5min</option>\n                    </select>\n                    <span>\n                      <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <a type="button" class="btn btn-sm btn-default btn-sm" ng-click="$ctrl.settings.open = false;" data-cy="k8sApp-tableSettingsCloseButton">Close</a>\n              </div>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n    <div class="flex flex-row w-full" ng-if="$ctrl.isAdmin && !$ctrl.settings.showSystem">\n      <span class="small text-muted mt-1 vertical-center">\n        <pr-icon icon="\'info\'" feather="true" mode="\'primary\'" class="vertical-center"></pr-icon>\n        System resources are hidden, this can be changed in the table settings.\n      </span>\n    </div>\n  </div>\n  \x3c!-- data table content --\x3e\n  <div ng-class="{ \'table-responsive\': $ctrl.isPrimary, \'inner-datatable\': !$ctrl.isPrimary }">\n    <table class="table table-hover table-filters nowrap-cells" data-cy="k8sApp-appTable">\n      <thead ng-class="{ \'secondary-heading\': !$ctrl.isPrimary }">\n        <tr role="row">\n          <th role="columnheader" class="datatable-wide dropdown">\n            <div ng-if="$ctrl.isPrimary" class="flex no-wrap min-w-max">\n              <span class="md-checkbox vertical-center">\n                <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" data-cy="k8sApp-selectAllCheckbox" />\n                <label for="select_all"></label>\n              </span>\n              <div class="cursor-pointer vertical-center" ng-click="$ctrl.expandAll()">\n                <pr-icon ng-if="$ctrl.state.expandAll" icon="\'chevron-down\'" feather="true"></pr-icon>\n                <pr-icon ng-if="!$ctrl.state.expandAll" icon="\'chevron-right\'" feather="true"></pr-icon>\n              </div>\n            </div>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Name\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Name\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Name\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Stack\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'StackName\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'StackName\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Namespace\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'ResourcePool\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'ResourcePool\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'ResourcePool\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Image\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Image\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Image\')"\n            ></table-column-header>\n          </th>\n          <th uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.filters.state.open">\n            <div class="flex flex-row no-wrap gap-2">\n              <table-column-header\n                col-title="\'Application Type\'"\n                can-sort="true"\n                is-sorted="$ctrl.state.orderBy === \'ApplicationType\'"\n                is-sorted-desc="$ctrl.state.orderBy === \'ApplicationType\' && $ctrl.state.reverseOrder"\n                ng-click="$ctrl.changeOrderBy(\'ApplicationType\')"\n              ></table-column-header>\n              <div class="flex flex-row no-wrap gap-1 items-center" uib-dropdown-toggle>\n                <span class="table-filter">Filters</span>\n                <pr-icon ng-if="!$ctrl.filters.state.enabled" icon="\'filter\'" feather="true"></pr-icon>\n                <pr-icon ng-if="$ctrl.filters.state.enabled" icon="\'check\'" feather="true"></pr-icon>\n              </div>\n              <div class="dropdown-menu" uib-dropdown-menu>\n                <div class="tableMenu">\n                  <div class="menuHeader"> Filter by application type </div>\n                  <div class="menuContent">\n                    <div class="md-checkbox" ng-repeat="filter in $ctrl.filters.state.values track by $index">\n                      <input id="filter_state_{{ $index }}" type="checkbox" ng-model="filter.display" ng-change="$ctrl.onStateFilterChange()" />\n                      <label for="filter_state_{{ $index }}">{{ filter.type | kubernetesApplicationTypeText }}</label>\n                    </div>\n                  </div>\n                  <div>\n                    <a type="button" class="btn btn-sm btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;">Close</a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </th>\n          <th>\n            <table-column-header col-title="\'Status\'" can-sort="false"></table-column-header>\n            \x3c!-- Status --\x3e\n          </th>\n          <th>\n            <table-column-header col-title="\'Published\'" can-sort="false"></table-column-header>\n            \x3c!-- Published --\x3e\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Created\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'CreationDate\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'CreationDate\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'CreationDate\')"\n            ></table-column-header>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          ng-click="$ctrl.expandItem(item, !$ctrl.isItemExpanded(item))"\n          dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.applyFilters | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n          ng-class="{ active: item.Checked, interactive: $ctrl.isExpandable(item), \'secondary-body\': !$ctrl.isPrimary }"\n          pagination-id="$ctrl.tableKey"\n        >\n          <td class="h-[50px]">\n            <span ng-if="$ctrl.isPrimary" class="md-checkbox vertical-center">\n              <input\n                id="select_{{ $index }}"\n                type="checkbox"\n                ng-model="item.Checked"\n                ng-click="$ctrl.selectItem(item, $event); $event.stopPropagation()"\n                ng-disabled="$ctrl.isSystemNamespace(item)"\n              />\n              <label for="select_{{ $index }}"></label>\n            </span>\n            <div ng-if="$ctrl.isExpandable(item)" class="vertical-center">\n              <pr-icon ng-if="$ctrl.isItemExpanded(item)" icon="\'chevron-down\'" feather="true"></pr-icon>\n              <pr-icon ng-if="!$ctrl.isItemExpanded(item)" icon="\'chevron-right\'" feather="true"></pr-icon>\n            </div>\n          </td>\n          <td>\n            <a\n              ng-if="item.KubernetesApplications"\n              ui-sref="kubernetes.helm({ name: item.Name, namespace: item.ResourcePool })"\n              ng-click="$event.stopPropagation()"\n              class="hyperlink"\n              >{{ item.Name }}\n            </a>\n            <a\n              ng-if="!item.KubernetesApplications"\n              ui-sref="kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })"\n              ng-click="$event.stopPropagation()"\n              class="hyperlink"\n              >{{ item.Name }}\n            </a>\n            <span class="label label-info image-tag label-margins" ng-if="$ctrl.isSystemNamespace(item)">system</span>\n            <span class="label label-primary image-tag label-margins" ng-if="!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)">external</span>\n          </td>\n          <td>{{ item.StackName || \'-\' }}</td>\n          <td>\n            <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })" ng-click="$event.stopPropagation()">{{ item.ResourcePool }}</a>\n          </td>\n          <td title="{{ item.Image }}"\n            >{{ item.Image | truncate: 64 }} <span ng-if="item.Containers.length > 1">+ {{ item.Containers.length - 1 }}</span></td\n          >\n          <td>{{ item.ApplicationType | kubernetesApplicationTypeText }}</td>\n          <td ng-if="item.ApplicationType !== $ctrl.KubernetesApplicationTypes.POD">\n            <status-indicator ok="(item.TotalPodsCount > 0 && item.TotalPodsCount === item.RunningPodsCount) || item.Status === \'Ready\'"></status-indicator>\n            <span ng-if="item.DeploymentType === $ctrl.KubernetesApplicationDeploymentTypes.REPLICATED">Replicated</span>\n            <span ng-if="item.DeploymentType === $ctrl.KubernetesApplicationDeploymentTypes.GLOBAL">Global</span>\n            <span ng-if="item.RunningPodsCount >= 0 && item.TotalPodsCount >= 0"\n              ><code>{{ item.RunningPodsCount }}</code> / <code>{{ item.TotalPodsCount }}</code></span\n            >\n            <span ng-if="item.KubernetesApplications">{{ item.Status }}</span>\n          </td>\n          <td ng-if="item.ApplicationType === $ctrl.KubernetesApplicationTypes.POD">\n            {{ item.Pods[0].Status }}\n          </td>\n          <td>\n            <span>\n              {{ item.Services.length === 0 ? \'No\' : \'Yes\' }}\n            </span>\n          </td>\n          <td>{{ item.CreationDate | getisodate }} {{ item.ApplicationOwner ? \'by \' + item.ApplicationOwner : \'\' }}</td>\n        </tr>\n        <tr dir-paginate-end ng-show="$ctrl.isExpandable(item) && $ctrl.isItemExpanded(item)" ng-class="{ \'secondary-body\': $ctrl.isPrimary && !item.KubernetesApplications }">\n          <td></td>\n          <td colspan="8" class="datatable-padding-vertical">\n            <span ng-if="item.KubernetesApplications">\n              <kubernetes-applications-datatable\n                dataset="item.KubernetesApplications"\n                table-key="{{ item.Id }}_table"\n                settings-key="{{ $ctrl.tableKey }}"\n                order-by="Name"\n                remove-action="$ctrl.removeAction"\n                refresh-callback="$ctrl.refreshCallback"\n                on-publishing-mode-click="($ctrl.onPublishingModeClick)"\n                is-primary="false"\n              >\n              </kubernetes-applications-datatable>\n            </span>\n            <span ng-if="!item.KubernetesApplications">\n              <kubernetes-applications-datatable-url ng-if="$ctrl.getPublishedUrl(item)" published-url="{{ $ctrl.getPublishedUrl(item) }}"></kubernetes-applications-datatable-url>\n              <kubernetes-applications-datatable-details\n                ng-if="$ctrl.hasConfigurationSecrets(item)"\n                configurations="item.Configurations"\n              ></kubernetes-applications-datatable-details>\n            </span>\n          </td>\n        </tr>\n        <tr ng-if="!$ctrl.dataset">\n          <td colspan="8" class="text-center text-muted">Loading...</td>\n        </tr>\n        <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n          <td colspan="8" class="text-center text-muted">No application available.</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-if="$ctrl.isPrimary" class="footer pl-5" ng-if="$ctrl.dataset">\n    <div class="infoBar !ml-0" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span class="mr-1"> Items per page </span>\n          <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},13181:function(e){var t="app/kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  \x3c!-- table title and action menu --\x3e\n  <div class="toolBar !flex-col gap-1">\n    <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap !p-0 w-full">\n      \x3c!-- title --\x3e\n      <div class="toolBarTitle vertical-center">\n        <div class="widget-icon space-right">\n          <pr-icon icon="\'svg-dataflow\'" class-name="\'[&>*]:mr-0.5\'"></pr-icon>\n        </div>\n        Port mappings\n      </div>\n      <div class="searchBar vertical-center !mr-0 min-w-[300px]">\n        <pr-icon icon="\'search\'" feather="true" class-name="\'icon !h-3\'"></pr-icon>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="Search for a port mapping..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      \x3c!-- actions --\x3e\n      <div data-cy="k8sApp-portTableSettings" class="settings">\n        <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n          <span uib-dropdown-toggle aria-label="Settings">\n            <pr-icon icon="\'more-vertical\'" feather="true" class-name="\'icon !mr-0 !h-4\'"></pr-icon>\n          </span>\n          <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n            <div class="tableMenu">\n              <div class="menuHeader"> Table settings </div>\n              <div class="menuContent">\n                <div>\n                  <div class="md-checkbox" ng-if="$ctrl.isAdmin">\n                    <input id="applications_setting_show_system" type="checkbox" ng-model="$ctrl.settings.showSystem" ng-change="$ctrl.onSettingsShowSystemChange()" />\n                    <label for="applications_setting_show_system">Show system resources</label>\n                  </div>\n                  <div class="md-checkbox">\n                    <input\n                      id="setting_auto_refresh"\n                      type="checkbox"\n                      ng-model="$ctrl.settings.repeater.autoRefresh"\n                      ng-change="$ctrl.onSettingsRepeaterChange()"\n                      data-cy="k8sApp-autoRefreshCheckbox-port"\n                    />\n                    <label for="setting_auto_refresh">Auto refresh</label>\n                  </div>\n                  <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                    <label for="settings_refresh_rate"> Refresh rate </label>\n                    <select\n                      id="settings_refresh_rate"\n                      ng-model="$ctrl.settings.repeater.refreshRate"\n                      ng-change="$ctrl.onSettingsRepeaterChange()"\n                      class="small-select"\n                      data-cy="k8sApp-refreshRateDropdown-port"\n                    >\n                      <option value="10">10s</option>\n                      <option value="30">30s</option>\n                      <option value="60">1min</option>\n                      <option value="120">2min</option>\n                      <option value="300">5min</option>\n                    </select>\n                    <span>\n                      <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <a type="button" class="btn btn-sm btn-default btn-sm" ng-click="$ctrl.settings.open = false;" data-cy="k8sApp-tableSettingsCloseButton-port">Close</a>\n              </div>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n    \x3c!-- info text --\x3e\n    <div class="flex flex-row w-full">\n      <span class="small text-muted mt-1 vertical-center" ng-if="$ctrl.isAdmin && !$ctrl.settings.showSystem">\n        <pr-icon icon="\'info\'" feather="true" mode="\'primary\'"></pr-icon>\n        System resources are hidden, this can be changed in the table settings.\n      </span>\n    </div>\n  </div>\n  \x3c!-- table --\x3e\n  <div class="table-responsive">\n    <table class="table table-hover nowrap-cells">\n      <thead>\n        <tr>\n          <th>\n            <div class="cursor-pointer vertical-center" ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()" class="flex no-wrap min-w-max">\n              <pr-icon ng-if="$ctrl.state.expandAll" icon="\'chevron-down\'" feather="true" class-name="\'icon\'"></pr-icon>\n              <pr-icon ng-if="!$ctrl.state.expandAll" icon="\'chevron-right\'" feather="true" class-name="\'icon\'"></pr-icon>\n            </div>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Application\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Name\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Name\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header col-title="\'Publishing mode\'" can-sort="false"></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Exposed port\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'TargetPort\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'TargetPort\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'TargetPort\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Container port\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Port\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Port\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Port\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header col-title="\'HTTP route\'" can-sort="false"></table-column-header>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        \x3c!-- main rows --\x3e\n        \x3c!-- dir-paginate-start track by $index --\x3e\n        <tr\n          dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n          ng-class="{ active: item.Checked, \'datatable-highlighted\': item.Highlighted }"\n          ng-click="$ctrl.expandItem(item, !item.Expanded)"\n          pagination-id="$ctrl.tableKey"\n        >\n          \x3c!-- expandable --\x3e\n          <td>\n            <div ng-if="$ctrl.itemCanExpand(item)">\n              <pr-icon ng-if="item.Expanded" icon="\'chevron-down\'" feather="true" class-name="\'icon\'"></pr-icon>\n              <pr-icon ng-if="!item.Expanded" icon="\'chevron-right\'" feather="true" class-name="\'icon\'"></pr-icon>\n            </div>\n          </td>\n          \x3c!-- Application --\x3e\n          <td>\n            <a ui-sref="kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })">{{ item.Name }}</a>\n            <span class="label label-info image-tag label-margins" ng-if="$ctrl.isSystemNamespace(item)">system</span>\n            <span class="label label-primary image-tag label-margins" ng-if="!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)">external</span>\n          </td>\n          \x3c!-- Publishing mode --\x3e\n          <td>\n            \x3c!-- LB --\x3e\n            <span ng-if="item.ServiceType === $ctrl.KubernetesServiceTypes.LOAD_BALANCER">\n              <span><pr-icon icon="\'share-2\'" feather="true" class-name="\'icon\'"></pr-icon> LoadBalancer </span>\n              <span class="text-muted small ml-5">\n                <span ng-if="item.LoadBalancerIPAddress">{{ item.LoadBalancerIPAddress }}</span>\n                <span ng-if="!item.LoadBalancerIPAddress">pending</span>\n              </span>\n            </span>\n            \x3c!-- Internal --\x3e\n            <span ng-if="item.ServiceType === $ctrl.KubernetesServiceTypes.CLUSTER_IP"> <pr-icon icon="\'list\'" feather="true"></pr-icon> ClusterIP </span>\n            \x3c!-- Cluster --\x3e\n            <span ng-if="item.ServiceType === $ctrl.KubernetesServiceTypes.NODE_PORT"> <pr-icon icon="\'list\'" feather="true" class-name="\'icon\'"></pr-icon> NodePort </span>\n          </td>\n          \x3c!-- Exposed port --\x3e\n          <td>\n            <span ng-if="!$ctrl.itemCanExpand(item)">\n              {{ item.Ports[0].Port }}\n              <a class="vertical-center" ng-if="item.LoadBalancerIPAddress" ng-href="http://{{ item.LoadBalancerIPAddress }}:{{ item.Ports[0].Port }}" target="_blank" class="ml-1">\n                <pr-icon icon="\'external-link\'" feather="true" class-name="\'icon\'"></pr-icon> access\n              </a>\n            </span>\n          </td>\n          \x3c!-- Container port --\x3e\n          <td>\n            <span ng-if="!$ctrl.itemCanExpand(item)"> {{ item.Ports[0].TargetPort }}/{{ item.Ports[0].Protocol }} </span>\n          </td>\n          \x3c!-- HTTP route --\x3e\n          <td>\n            <span ng-if="!$ctrl.itemCanExpand(item)">\n              <span ng-if="!$ctrl.portHasIngressRules(item.Ports[0])">-</span>\n              <span ng-if="$ctrl.portHasIngressRules(item.Ports[0])">\n                <span\n                  ng-if="!$ctrl.ruleCanBeDisplayed(item.Ports[0].IngressRules[0])"\n                  class="text-muted cursor-pointer"\n                  tooltip-append-to-body="true"\n                  tooltip-placement="bottom"\n                  tooltip-class="portainer-tooltip"\n                  uib-tooltip="Ingress controller IP address not available yet"\n                  >pending\n                </span>\n                <span ng-if="$ctrl.ruleCanBeDisplayed(item.Ports[0].IngressRules[0])">\n                  <a ng-href="{{ $ctrl.buildIngressRuleURL(item.Ports[0].IngressRules[0]) }}" target="_blank">\n                    {{ $ctrl.buildIngressRuleURL(item.Ports[0].IngressRules[0]) | stripprotocol }}\n                  </a>\n                </span>\n              </span>\n            </span>\n          </td>\n        </tr>\n        \x3c!-- sub rows --\x3e\n        <tr ng-show="item.Expanded" ng-repeat-start="port in item.Ports" ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }">\n          <td ng-if="!$ctrl.portHasIngressRules(port)"></td>\n          <td ng-if="!$ctrl.portHasIngressRules(port)">-</td>\n          <td ng-if="!$ctrl.portHasIngressRules(port)">-</td>\n          <td ng-if="!$ctrl.portHasIngressRules(port)">\n            {{ port.Port }}\n            <a ng-if="item.LoadBalancerIPAddress" ng-href="http://{{ item.LoadBalancerIPAddress }}:{{ port.Port }}" target="_blank" class="ml-1">\n              <pr-icon icon="\'external-link\'" feather="true"></pr-icon> access\n            </a>\n          </td>\n          <td ng-if="!$ctrl.portHasIngressRules(port)">{{ port.TargetPort }}/{{ port.Protocol }}</td>\n          <td ng-if="!$ctrl.portHasIngressRules(port)">-</td>\n        </tr>\n        <tr\n          ng-show="item.Expanded"\n          ng-repeat-end\n          ng-repeat="rule in port.IngressRules"\n          ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n        >\n          <td></td>\n          <td>-</td>\n          <td>-</td>\n          <td>\n            {{ port.Port }}\n            <a ng-if="item.LoadBalancerIPAddress" ng-href="http://{{ item.LoadBalancerIPAddress }}:{{ port.Port }}" target="_blank" class="ml-1">\n              <pr-icon icon="\'external-link\'" feather="true"></pr-icon>access\n            </a>\n          </td>\n          <td>{{ port.TargetPort }}/{{ port.Protocol }}</td>\n          <td>\n            <span\n              ng-if="!$ctrl.ruleCanBeDisplayed(rule)"\n              class="text-muted cursor-pointer"\n              tooltip-append-to-body="true"\n              tooltip-placement="bottom"\n              tooltip-class="portainer-tooltip"\n              uib-tooltip="Ingress controller IP address not available yet"\n              >pending\n            </span>\n            <span ng-if="$ctrl.ruleCanBeDisplayed(rule)">\n              <a ng-href="{{ $ctrl.buildIngressRuleURL(rule) }}" target="_blank">\n                {{ $ctrl.buildIngressRuleURL(rule) | stripprotocol }}\n              </a>\n            </span>\n          </td>\n        </tr>\n        <tr class="!h-0" dir-paginate-end></tr>\n        \x3c!-- no dataset --\x3e\n        <tr ng-if="!$ctrl.dataset">\n          <td colspan="6" class="text-center text-muted">Loading...</td>\n        </tr>\n        \x3c!-- no values in filtered dataset --\x3e\n        <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n          <td colspan="6" class="text-center text-muted">No application port mapping available.</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="footer pl-5" ng-if="$ctrl.dataset">\n    <div class="infoBar !ml-0" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span class="mr-1"> Items per page </span>\n          <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},35558:function(e){var t="app/kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  \x3c!-- table title and action menu --\x3e\n  <div class="toolBar !flex-col gap-1">\n    <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap !p-0 w-full">\n      \x3c!-- title --\x3e\n      <div class="toolBarTitle vertical-center">\n        <div class="widget-icon space-right">\n          <pr-icon icon="\'list\'" feather="true"></pr-icon>\n        </div>\n        Stacks\n      </div>\n      \x3c!-- actions --\x3e\n      <div class="searchBar vertical-center">\n        <pr-icon icon="\'search\'" feather="true" class-name="\'!h-3\'"></pr-icon>\n        <input\n          type="text"\n          class="searchInput min-w-min self-start"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="Search for a stack..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="actionBar !gap-3 !mr-0">\n        <button\n          type="button"\n          class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          data-cy="k8sApp-removeStackButton"\n        >\n          <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n          Remove\n        </button>\n        <div class="settings" data-cy="k8sApp-StackTableSettings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle>\n              <pr-icon icon="\'more-vertical\'" feather="true" class-name="\'!mr-0 !h-4\'"></pr-icon>\n            </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox" ng-if="$ctrl.isAdmin">\n                      <input id="applications_setting_show_system" type="checkbox" ng-model="$ctrl.settings.showSystem" ng-change="$ctrl.onSettingsShowSystemChange()" />\n                      <label for="applications_setting_show_system">Show system resources</label>\n                    </div>\n                    <div class="md-checkbox">\n                      <input\n                        id="setting_auto_refresh"\n                        type="checkbox"\n                        ng-model="$ctrl.settings.repeater.autoRefresh"\n                        ng-change="$ctrl.onSettingsRepeaterChange()"\n                        data-cy="k8sApp-autoRefreshCheckbox-stack"\n                      />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select\n                        id="settings_refresh_rate"\n                        ng-model="$ctrl.settings.repeater.refreshRate"\n                        ng-change="$ctrl.onSettingsRepeaterChange()"\n                        class="small-select"\n                        data-cy="k8sApp-refreshRateDropdown-stack"\n                      >\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-sm btn-default btn-sm" ng-click="$ctrl.settings.open = false;" data-cy="k8sApp-tableSettingsCloseButton-stack">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n    </div>\n    \x3c!-- info text --\x3e\n    <div class="flex flex-row w-full">\n      <span class="small text-muted mt-1 vertical-center" ng-if="$ctrl.isAdmin && !$ctrl.settings.showSystem">\n        <pr-icon icon="\'info\'" feather="true" mode="\'primary\'"></pr-icon>\n        System resources are hidden, this can be changed in the table settings.\n      </span>\n    </div>\n  </div>\n  <div class="table-responsive">\n    <table class="table table-hover nowrap-cells">\n      <thead>\n        <tr>\n          <th class="w-20 dropdown">\n            <div class="flex no-wrap h-full items-center">\n              <span class="md-checkbox">\n                <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                <label for="select_all"></label>\n              </span>\n              <div class="cursor-pointer" ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()">\n                <pr-icon ng-if="$ctrl.state.expandAll" icon="\'chevron-down\'" feather="true"></pr-icon>\n                <pr-icon ng-if="!$ctrl.state.expandAll" icon="\'chevron-right\'" feather="true"></pr-icon>\n              </div>\n            </div>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Stack\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Name\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Name\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Namespace\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'ResourcePool\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'ResourcePool\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'ResourcePool\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Applications\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Applications.length\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Applications.length\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Applications.length\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header col-title="\'Actions\'" can-sort="false"></table-column-header>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n          ng-class="{ active: item.Checked, \'datatable-highlighted\': item.Highlighted }"\n          ng-click="$ctrl.expandItem(item, !item.Expanded)"\n          pagination-id="$ctrl.tableKey"\n        >\n          <td>\n            <div class="flex no-wrap items-center">\n              <span class="md-checkbox">\n                <input\n                  id="select_{{ $index }}"\n                  type="checkbox"\n                  ng-model="item.Checked"\n                  ng-click="$ctrl.selectItem(item, $event); $event.stopPropagation();"\n                  ng-disabled="!$ctrl.allowSelection(item)"\n                />\n                <label for="select_{{ $index }}"></label>\n              </span>\n              <div ng-if="$ctrl.itemCanExpand(item)" class="vertical-center">\n                <pr-icon ng-if="item.Expanded" icon="\'chevron-down\'" feather="true"></pr-icon>\n                <pr-icon ng-if="!item.Expanded" icon="\'chevron-right\'" feather="true"></pr-icon>\n              </div>\n            </div>\n          </td>\n          <td>\n            {{ item.Name }}\n          </td>\n          <td>\n            <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })" ng-click="$event.stopPropagation();">{{ item.ResourcePool }}</a>\n            <span class="label label-info image-tag label-margins" ng-if="$ctrl.isSystemNamespace(item.ResourcePool)">system</span>\n          </td>\n          <td>{{ item.Applications.length }}</td>\n          <td>\n            <a class="vertical-center" ui-sref="kubernetes.stacks.stack.logs({ namespace: item.ResourcePool, name: item.Name })">\n              <pr-icon icon="\'file-text\'" size="\'md\'" title="Logs" feather="true"></pr-icon>\n              Logs\n            </a>\n          </td>\n        </tr>\n        <tr\n          dir-paginate-end\n          ng-show="item.Expanded"\n          ng-repeat="app in item.Applications"\n          ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n        >\n          <td></td>\n          <td colspan="4">\n            <a ui-sref="kubernetes.applications.application({ name: app.Name, namespace: app.ResourcePool })">{{ app.Name }}</a>\n            <span style="margin-left: 5px" class="label label-primary image-tag" ng-if="!$ctrl.isSystemNamespace(app.ResourcePool) && $ctrl.isExternalApplication(app)"\n              >external</span\n            >\n          </td>\n        </tr>\n        <tr ng-if="!$ctrl.dataset">\n          <td colspan="5" class="text-center text-muted">Loading...</td>\n        </tr>\n        <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n          <td colspan="5" class="text-center text-muted">No stack available.</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="footer pl-5" ng-if="$ctrl.dataset">\n    <div class="infoBar !ml-0" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span style="margin-right: 5px"> Items per page </span>\n          <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},62178:function(e){var t="app/kubernetes/components/datatables/configurations-datatable/configurationsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      \x3c!-- table title and action menu --\x3e\n      <div class="toolBar !flex-col gap-1">\n        <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap !px-0 !py-1 w-full">\n          <div class="toolBarTitle">\n            <div class="widget-icon space-right">\n              <pr-icon icon="\'lock\'" feather="true"></pr-icon>\n            </div>\n            ConfigMaps & Secrets\n          </div>\n          <div class="searchBar vertical-center w-72 !mr-0">\n            <pr-icon icon="\'search\'" feather="true" class-name="\'icon !h-3\'"></pr-icon>\n            <input\n              type="text"\n              class="searchInput"\n              ng-model="$ctrl.state.textFilter"\n              ng-change="$ctrl.onTextFilterChange()"\n              placeholder="Search for configmaps & secrets..."\n              auto-focus\n              ng-model-options="{ debounce: 300 }"\n              data-cy="k8sConfig-searchInput"\n            />\n          </div>\n          \x3c!-- actions --\x3e\n          <div class="actionBar !gap-3 !mr-0">\n            <button\n              type="button"\n              class="btn btn-sm btn-dangerlight !ml-0 vertical-center"\n              ng-disabled="$ctrl.state.selectedItemCount === 0"\n              ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n              data-cy="k8sConfig-removeConfigButton"\n            >\n              <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n            </button>\n            <button type="button" class="btn btn-sm btn-secondary !ml-0 vertical-center" ui-sref="kubernetes.configurations.new" data-cy="k8sConfig-addConfigWithFormButton">\n              <pr-icon icon="\'plus\'" feather="true" class-name="\'!h-3\'"></pr-icon>Add with form\n            </button>\n            <button type="button" class="btn btn-sm btn-primary !ml-0 vertical-center" ui-sref="kubernetes.deploy" data-cy="k8sConfig-deployFromManifestButton">\n              <pr-icon icon="\'plus\'" feather="true" class-name="\'!h-3\'"></pr-icon>Create from manifest\n            </button>\n          </div>\n          <div class="settings">\n            <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n              <span uib-dropdown-toggle aria-label="Settings">\n                <pr-icon icon="\'more-vertical\'" feather="true" class-name="\'icon !mr-0 !h-4\'"></pr-icon>\n              </span>\n              <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n                <div class="tableMenu">\n                  <div class="menuHeader"> Table settings </div>\n                  <div class="menuContent">\n                    <div>\n                      <div class="md-checkbox" ng-if="$ctrl.isAdmin">\n                        <input\n                          id="setting_show_system"\n                          type="checkbox"\n                          ng-model="$ctrl.settings.showSystem"\n                          ng-change="$ctrl.onSettingsShowSystemChange()"\n                          data-cy="k8sConfig-systemResourceCheckbox"\n                        />\n                        <label for="setting_show_system">Show system resources</label>\n                      </div>\n                      <div class="md-checkbox">\n                        <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                        <label for="setting_auto_refresh">Auto refresh</label>\n                      </div>\n                      <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                        <label for="settings_refresh_rate"> Refresh rate </label>\n                        <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                          <option value="10">10s</option>\n                          <option value="30">30s</option>\n                          <option value="60">1min</option>\n                          <option value="120">2min</option>\n                          <option value="300">5min</option>\n                        </select>\n                        <span>\n                          <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div>\n                    <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;" data-cy="k8sConfig-closeSettingsButton">Close</a>\n                  </div>\n                </div>\n              </div>\n            </span>\n          </div>\n        </div>\n        <div ng-if="$ctrl.isAdmin && !$ctrl.settings.showSystem" class="flex flex-row w-full">\n          <span class="small text-muted mt-1 vertical-center">\n            <pr-icon icon="\'info\'" feather="true" mode="\'primary\'" class="vertical-center"></pr-icon>\n            <div> System resources are hidden, this can be changed in the table settings. </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="k8sConfig-tableSettingsButtonconfigsTable">\n          <thead>\n            <tr>\n              <th>\n                <div class="flex flex-nowrap items-center">\n                  <span class="md-checkbox vertical-center">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Name\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Name\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Namespace\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Namespace\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Namespace\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Namespace\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Kind\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Kind\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Kind\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Kind\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Created\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CreationDate\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CreationDate\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CreationDate\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="!$ctrl.allowSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="kubernetes.configurations.configuration({ name: item.Name, namespace: item.Namespace })">{{ item.Name }}</a>\n                <span class="label label-primary image-tag label-margins" ng-if="!$ctrl.isSystemConfig(item) && $ctrl.isExternalConfiguration(item)">external</span>\n                <span class="label label-warning image-tag label-margins" ng-if="!item.Used && !$ctrl.isSystemNamespace(item) && !$ctrl.isSystemConfig(item)">unused</span>\n                <span class="label label-info image-tag label-margins" ng-if="$ctrl.isSystemConfig(item)">system</span>\n              </td>\n              <td>\n                <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.Namespace })">{{ item.Namespace }}</a>\n              </td>\n              <td>{{ item.Kind | kubernetesConfigurationKindText }}</td>\n              <td>{{ item.CreationDate | getisodate }} {{ item.ConfigurationOwner ? \'by \' + item.ConfigurationOwner : \'\' }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted">No configuration available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer pl-5" ng-if="$ctrl.dataset">\n        <div class="infoBar !ml-0" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="k8sConfig-paginationDropdown">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},29649:function(e){var t="app/kubernetes/components/datatables/events-datatable/eventsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <div class="toolBar">\n    <div class="toolBarTitle flex">\n      <div class="widget-icon space-right">\n        <pr-icon icon="\'svg-clockrewind\'" feather="true"></pr-icon>\n      </div>\n      {{ $ctrl.titleText }}\n    </div>\n    <div class="searchBar">\n      <pr-icon icon="\'search\'" class="vertical-center" feather="true"></pr-icon>\n      <input\n        type="text"\n        class="searchInput ml-1"\n        ng-model="$ctrl.state.textFilter"\n        ng-change="$ctrl.onTextFilterChange()"\n        placeholder="Search for an event..."\n        auto-focus\n        ng-model-options="{ debounce: 300 }"\n        data-cy="k8sConfigDetail-eventsTableSearchInput"\n      />\n    </div>\n    <div class="settings">\n      <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n        <span uib-dropdown-toggle><pr-icon icon="\'more-vertical\'" feather="true"></pr-icon></span>\n        <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n          <div class="tableMenu">\n            <div class="menuHeader"> Table settings </div>\n            <div class="menuContent">\n              <div>\n                <div class="md-checkbox">\n                  <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                  <label for="setting_auto_refresh">Auto refresh</label>\n                </div>\n                <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                  <label for="settings_refresh_rate"> Refresh rate </label>\n                  <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                    <option value="10">10s</option>\n                    <option value="30">30s</option>\n                    <option value="60">1min</option>\n                    <option value="120">2min</option>\n                    <option value="300">5min</option>\n                  </select>\n                  <span>\n                    <pr-icon id="refreshRateChange" style="display: none" icon="\'check\'" mode="\'success\'" feather="true"></pr-icon>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div>\n              <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n            </div>\n          </div>\n        </div>\n      </span>\n    </div>\n  </div>\n  <div class="table-responsive">\n    <table class="table table-hover nowrap-cells" data-cy="k8sConfigDetail-eventsTable">\n      <thead>\n        <tr>\n          <th>\n            <table-column-header\n              col-title="\'Date\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Date\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Date\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Date\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Kind\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Involved.kind\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Involved.kind\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Involved.kind\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Type\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Type\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Type\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Message\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Message\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Message\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Message\')"\n            ></table-column-header>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n          pagination-id="$ctrl.tableKey"\n        >\n          <td>{{ item.Date | getisodate }}</td>\n          <td>{{ item.Involved.kind }}</td>\n          <td\n            ><span class="label label-{{ item.Type | kubernetesEventTypeColor }}">{{ item.Type }}</span></td\n          >\n          <td>{{ item.Message }}</td>\n        </tr>\n        <tr ng-if="$ctrl.loading">\n          <td colspan="4" class="text-center text-muted">Loading...</td>\n        </tr>\n        <tr ng-if="!$ctrl.loading && (!$ctrl.dataset || $ctrl.state.filteredDataSet.length === 0)">\n          <td colspan="4" class="text-center text-muted">No event available.</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="footer" ng-if="$ctrl.dataset">\n    <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span style="margin-right: 5px"> Items per page </span>\n          <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="k8sConfigDetail-eventsTablePaginationDropdown">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},95947:function(e){var t="app/kubernetes/components/datatables/integrated-applications-datatable/integratedApplicationsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar !gap-3">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center !mr-0 min-w-[280px]">\n          <pr-icon icon="\'search\'" feather="true" class="vertical-center"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for an application..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div ng-if="$ctrl.refreshCallback" class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle aria-label="Settings">\n              <pr-icon icon="\'more-vertical\'" feather="true" class-name="\'!mr-0 !h-4\'"></pr-icon>\n            </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Stack\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'StackName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'StackName\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Image\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Image\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Image\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td\n                ><a ui-sref="kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })">{{ item.Name }}</a></td\n              >\n              <td>{{ item.StackName || \'-\' }}</td>\n              <td title="{{ item.Image }}">{{ item.Image | truncate: 64 }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No application available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},33989:function(e){var t="app/kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle flex">\n          <div class="widget-icon space-right">\n            <pr-icon icon="\'svg-laptopcode\'"></pr-icon>\n          </div>\n          <span class="vertical-center">\n            {{ $ctrl.titleText }}\n          </span>\n        </div>\n        <div class="searchBar min-w-[260px]">\n          <pr-icon icon="\'search\'" class="vertical-center" class-name="\'searchIcon\'" feather="true"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for an application..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div class="settings vertical-center">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><pr-icon icon="\'more-vertical\'" feather="true"></pr-icon></span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <pr-icon id="refreshRateChange" style="display: none" icon="\'check\'" mode="\'success\'" feather="true"></pr-icon>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Stack\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'StackName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'StackName\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Namespace\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Namespace\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Namespace\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Namespace\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Image\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Image\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Image\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'CPU reservation\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CPU\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CPU\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CPU\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Memory reservation\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Memory\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Memory\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Memory\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td>\n                <a ui-sref="kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })">{{ item.Name }}</a>\n                <span style="margin-left: 5px" class="label label-info image-tag" ng-if="$ctrl.isSystemNamespace(item)">system</span>\n                <span style="margin-left: 5px" class="label label-primary image-tag" ng-if="!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)">external</span>\n              </td>\n              <td>{{ item.StackName || \'-\' }}</td>\n              <td>\n                <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })">{{ item.ResourcePool }}</a>\n              </td>\n              <td title="{{ item.Image }}"\n                >{{ item.Image | truncate: 64 }} <span ng-if="item.Containers.length > 1">+ {{ item.Containers.length - 1 }}</span></td\n              >\n              <td>{{ item.CPU | kubernetesApplicationCPUValue }}</td>\n              <td>{{ item.Memory | humansize }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="6" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="6" class="text-center text-muted">No stack available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},93172:function(e){var t="app/kubernetes/components/datatables/nodes-datatable/nodesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle flex">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          <span class="vertical-center">\n            {{ $ctrl.titleText }}\n          </span>\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a node..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div class="settings">\n          <span\n            class="setting vertical-center"\n            ng-class="{ \'setting-active\': $ctrl.settings.open }"\n            uib-dropdown\n            dropdown-append-to-body\n            auto-close="disabled"\n            is-open="$ctrl.settings.open"\n          >\n            <span uib-dropdown-toggle><pr-icon icon="\'more-vertical\'" feather="true"></pr-icon></span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <pr-icon id="refreshRateChange" icon="\'check\'" mode="\'success\'" style="display: none" feather="true"></pr-icon>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Role\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Role\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Role\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Role\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Status\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Status\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Status\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Status\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'CPU\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CPU\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CPU\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CPU\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Memory\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Memory\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Memory\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Memory\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Version\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Version\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Version\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Version\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'IP Address\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'IPAddress\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'IPAddress\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'IPAddress\')"\n                ></table-column-header>\n              </th>\n              <th ng-if="$ctrl.useServerMetrics">\n                <table-column-header col-title="\'Actions\'" can-sort="false"></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td ng-if="$ctrl.isAdmin">\n                <a ui-sref="kubernetes.cluster.node({ name: item.Name })">\n                  {{ item.Name }}\n                </a>\n                <span class="label label-primary image-tag" style="margin-left: 5px" ng-if="item.Api">api</span>\n              </td>\n              <td>{{ item.Role }}</td>\n              <td\n                ><span class="label label-{{ item.Status | kubernetesNodeStatusColor }}">{{ item.Status }}</span></td\n              >\n              <td>{{ item.CPU }}</td>\n              <td>{{ item.Memory | humansize }}</td>\n              <td>{{ item.Version }}</td>\n              <td>{{ item.IPAddress }}</td>\n              <td ng-if="$ctrl.useServerMetrics">\n                <a ui-sref="kubernetes.cluster.node.stats({ name: item.Name })" class="vertical-center"> <pr-icon icon="\'bar-chart\'" feather="true"></pr-icon> Stats </a>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="7" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="7" class="text-center text-muted">No node available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},60927:function(e){var t="app/kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <pr-icon icon="$ctrl.titleIcon" feather="true" mode="\'primary\'" class-name="\'icon-nested-blue\'"></pr-icon>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class="searchIcon"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for an application..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div ng-if="$ctrl.refreshCallback" class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><pr-icon icon="\'more-vertical\'" feather="true"></pr-icon></span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <pr-icon id="refreshRateChange" style="display: none" icon="\'check\'" mode="\'success\'" feather="true"></pr-icon>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'StackName\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'StackName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'StackName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'StackName\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Image\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Image\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Image\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Image\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'CPU\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'CPU\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'CPU\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'CPU\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Memory\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Memory\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Memory\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Memory\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n            >\n              <td>\n                <a ui-sref="kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })">{{ item.Name }}</a>\n                <span style="margin-left: 5px" class="label label-primary image-tag" ng-if="$ctrl.isExternalApplication(item)">external</span>\n              </td>\n              <td>{{ item.StackName || \'-\' }}</td>\n              <td title="{{ item.Image }}"\n                >{{ item.Image | truncate: 64 }} <span ng-if="item.Containers.length > 1">+ {{ item.Containers.length - 1 }}</span></td\n              >\n              <td>{{ item.CPU | kubernetesApplicationCPUValue }}</td>\n              <td>{{ item.Memory | humansize }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="5" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No application available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},70586:function(e){var t="app/kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      \x3c!-- toolbar header actions and settings --\x3e\n      <div class="toolBar !flex-col gap-1">\n        <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap !p-0 w-full">\n          <div class="toolBarTitle vertical-center">\n            <div class="widget-icon space-right">\n              <pr-icon icon="\'layers\'" feather="true"></pr-icon>\n            </div>\n            Namespaces\n          </div>\n          <div class="searchBar vertical-center">\n            <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n            <input\n              type="text"\n              class="searchInput"\n              ng-model="$ctrl.state.textFilter"\n              ng-change="$ctrl.onTextFilterChange()"\n              placeholder="Search for a namespace..."\n              auto-focus\n              ng-model-options="{ debounce: 300 }"\n              data-cy="k8sNamespace-namespaceSearchInput"\n            />\n          </div>\n          <div class="actionBar !gap-3 !mr-0" ng-if="$ctrl.isAdmin">\n            <button\n              type="button"\n              class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n              ng-disabled="$ctrl.state.selectedItemCount === 0"\n              ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n              data-cy="k8sNamespace-removeNamespaceButton"\n            >\n              <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n            </button>\n            <button type="button" class="btn btn-sm btn-secondary !ml-0" ui-sref="kubernetes.resourcePools.new" data-cy="k8sNamespace-addNamespaceWithFormButton">\n              <pr-icon icon="\'plus\'" feather="true" class-name="\'!h-3\'"></pr-icon>Add with form\n            </button>\n            <button type="button" class="btn btn-sm btn-primary !ml-0" ui-sref="kubernetes.deploy" data-cy="k8sNamespace-deployFromManifestButton">\n              <pr-icon icon="\'plus\'" feather="true" class-name="\'!h-3\'"></pr-icon>Create from manifest\n            </button>\n          </div>\n          <div class="settings">\n            <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n              <span uib-dropdown-toggle>\n                <pr-icon icon="\'more-vertical\'" feather="true" class-name="\'!mr-0 !h-4\'"></pr-icon>\n              </span>\n              <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n                <div class="tableMenu">\n                  <div class="menuHeader"> Table settings </div>\n                  <div class="menuContent">\n                    <div>\n                      <div class="md-checkbox" ng-if="$ctrl.isAdmin">\n                        <input id="setting_show_system" type="checkbox" ng-model="$ctrl.settings.showSystem" ng-change="$ctrl.onSettingsShowSystemChange()" />\n                        <label for="setting_show_system">Show system resources</label>\n                      </div>\n                      <div class="md-checkbox">\n                        <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                        <label for="setting_auto_refresh">Auto refresh</label>\n                      </div>\n                      <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                        <label for="settings_refresh_rate"> Refresh rate </label>\n                        <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                          <option value="10">10s</option>\n                          <option value="30">30s</option>\n                          <option value="60">1min</option>\n                          <option value="120">2min</option>\n                          <option value="300">5min</option>\n                        </select>\n                        <span>\n                          <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div>\n                    <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                  </div>\n                </div>\n              </div>\n            </span>\n          </div>\n        </div>\n\n        <div class="flex flex-row w-full" ng-if="!$ctrl.settings.showSystem && $ctrl.isAdmin">\n          <span class="small text-muted mt-1 vertical-center">\n            <pr-icon icon="\'info\'" feather="true" mode="\'primary\'" class="vertical-center"></pr-icon>\n            <div> System resources are hidden, this can be changed in the table settings. </div>\n          </span>\n        </div>\n      </div>\n\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th class="dropdown">\n                <div class="flex flex-nowrap min-w-max vertical-center">\n                  <span ng-if="$ctrl.isAdmin" class="md-checkbox vertical-center">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Namespace.Name\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Namespace.Name\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Namespace.Name\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Status\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Namespace.Status\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Namespace.Status\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Namespace.Status\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Quota\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Quota\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Quota\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Quota\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Created\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Namespace.CreationDate\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Namespace.CreationDate\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Namespace.CreationDate\')"\n                ></table-column-header>\n              </th>\n              <th ng-if="$ctrl.isAdmin">\n                <table-column-header col-title="\'Actions\'" can-sort="false"></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span ng-if="$ctrl.isAdmin" class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="$ctrl.disableRemove(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.Namespace.Name })">{{ item.Namespace.Name }}</a>\n                <span style="margin-left: 5px" class="label label-info image-tag" ng-if="$ctrl.isSystemNamespace(item)">system</span>\n              </td>\n              <td>\n                <span class="label label-{{ $ctrl.namespaceStatusColor(item.Namespace.Status) }}">{{ item.Namespace.Status }}</span>\n              </td>\n              <td>\n                <span ng-if="item.Quota" class="label label-warning">Enabled</span>\n                <span ng-if="!item.Quota">-</span>\n              </td>\n              <td>{{ item.Namespace.CreationDate | getisodate }} {{ item.Namespace.ResourcePoolOwner ? \'by \' + item.Namespace.ResourcePoolOwner : \'\' }}</td>\n              <td ng-if="$ctrl.isAdmin">\n                <a class="vertical-center" ng-if="$ctrl.canManageAccess(item)" ui-sref="kubernetes.resourcePools.resourcePool.access({id: item.Namespace.Name})">\n                  <pr-icon icon="\'users\'" feather="true"></pr-icon>\n                  Manage access\n                </a>\n                <span ng-if="!$ctrl.canManageAccess(item)">-</span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted">No namespace available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer pl-5" ng-if="$ctrl.dataset">\n        <div class="infoBar !ml-0" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},18491:function(e){var t="app/kubernetes/components/datatables/volumes-datatable/volumesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  \x3c!-- toolbar header actions and settings --\x3e\n  <div class="toolBar !flex-col gap-1">\n    <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap !p-0 w-full">\n      <div class="toolBarTitle vertical-center">\n        <div class="widget-icon space-right">\n          <pr-icon icon="\'database\'" feather="true"></pr-icon>\n        </div>\n        Volumes\n      </div>\n      <div class="searchBar vertical-center">\n        <pr-icon icon="\'search\'" feather="true"></pr-icon>\n        <input\n          type="text"\n          class="searchInput !mr-0"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="Search for a volume..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="actionBar !gap-3 !mr-0">\n        <button\n          type="button"\n          class="btn btn-sm btn-dangerlight vertical-center !ml-0"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n        >\n          <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n          Remove\n        </button>\n        <button type="button" class="btn btn-sm btn-primary vertical-center !ml-0" ui-sref="kubernetes.deploy" data-cy="k8sVolume-deployFromManifestButton">\n          <pr-icon icon="\'plus\'" feather="true" class-name="\'!h-3\'"></pr-icon>\n          Create from manifest\n        </button>\n      </div>\n      <div class="settings">\n        <span\n          class="setting"\n          ng-class="{ \'setting-active\': $ctrl.settings.open }"\n          uib-dropdown\n          dropdown-append-to-body\n          auto-close="disabled"\n          is-open="$ctrl.settings.open"\n          data-cy="k8s-vol-table-settings"\n        >\n          <span uib-dropdown-toggle aria-label="Settings">\n            <pr-icon icon="\'more-vertical\'" feather="true" class-name="\'!mr-0 !h-4\'"></pr-icon>\n          </span>\n          <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n            <div class="tableMenu">\n              <div class="menuHeader"> Table settings </div>\n              <div class="menuContent">\n                <div>\n                  <div class="md-checkbox" ng-if="$ctrl.isAdmin">\n                    <input id="setting_show_system" type="checkbox" ng-model="$ctrl.settings.showSystem" ng-change="$ctrl.onSettingsShowSystemChange()" />\n                    <label for="setting_show_system">Show system resources</label>\n                  </div>\n                  <div class="md-checkbox">\n                    <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                    <label for="setting_auto_refresh">Auto refresh</label>\n                  </div>\n                  <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                    <label for="settings_refresh_rate"> Refresh rate </label>\n                    <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                      <option value="10">10s</option>\n                      <option value="30">30s</option>\n                      <option value="60">1min</option>\n                      <option value="120">2min</option>\n                      <option value="300">5min</option>\n                    </select>\n                    <span>\n                      <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;" data-cy="k8s-vol-table-settings-close">Close</a>\n              </div>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n    <div class="flex flex-row w-full" ng-if="!ctrl.isAdmin && !$ctrl.settings.showSystem">\n      <span class="small text-muted mt-1 vertical-center">\n        <pr-icon icon="\'info\'" feather="true" mode="\'primary\'"></pr-icon>\n        <span> System resources are hidden, this can be changed in the table settings. </span>\n      </span>\n    </div>\n  </div>\n  <div class="table-responsive">\n    <table class="table table-hover nowrap-cells">\n      <thead>\n        <tr>\n          <th>\n            <div class="flex flex-no-wrap items-center">\n              <span class="md-checkbox vertical-center">\n                <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                <label for="select_all"></label>\n              </span>\n              <table-column-header\n                col-title="\'Name\'"\n                can-sort="true"\n                is-sorted="$ctrl.state.orderBy === \'PersistentVolumeClaim.Name\'"\n                is-sorted-desc="$ctrl.state.orderBy === \'PersistentVolumeClaim.Name\' && $ctrl.state.reverseOrder"\n                ng-click="$ctrl.changeOrderBy(\'PersistentVolumeClaim.Name\')"\n              ></table-column-header>\n            </div>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Namespace\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'ResourcePool.Namespace.Name\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'ResourcePool.Namespace.Name\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'ResourcePool.Namespace.Name\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Used by\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'PersistentVolumeClaim.Applications[0].Name\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'PersistentVolumeClaim.Applications[0].Name\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'PersistentVolumeClaim.Applications[0].Name\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Storage\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'PersistentVolumeClaim.StorageClass.Name\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'PersistentVolumeClaim.StorageClass.Name\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'PersistentVolumeClaim.StorageClass.Name\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Size\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'PersistentVolumeClaim.Storage\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'PersistentVolumeClaim.Storage\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'PersistentVolumeClaim.Storage\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Created\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'PersistentVolumeClaim.CreationDate\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'PersistentVolumeClaim.CreationDate\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'PersistentVolumeClaim.CreationDate\')"\n            ></table-column-header>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n          ng-class="{ active: item.Checked }"\n        >\n          <td>\n            <span class="md-checkbox">\n              <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="$ctrl.disableRemove(item)" />\n              <label for="select_{{ $index }}"></label>\n            </span>\n            <a ui-sref="kubernetes.volumes.volume({ namespace: item.ResourcePool.Namespace.Name, name: item.PersistentVolumeClaim.Name })">{{ item.PersistentVolumeClaim.Name }}</a>\n            <span class="label label-info image-tag label-margins" ng-if="$ctrl.isSystemNamespace(item)">system</span>\n            <span class="label label-primary image-tag label-margins" ng-if="!$ctrl.isSystemNamespace(item) && $ctrl.isExternalVolume(item)">external</span>\n            <span class="label label-warning image-tag label-margins" ng-if="!$ctrl.isSystemNamespace(item) && !$ctrl.isUsed(item)">unused</span>\n          </td>\n          <td>\n            <a ui-sref="kubernetes.resourcePools.resourcePool({ id: item.ResourcePool.Namespace.Name })">{{ item.ResourcePool.Namespace.Name }}</a>\n          </td>\n          <td>\n            <a ng-if="item.Applications.length" ui-sref="kubernetes.applications.application({ name: item.Applications[0].Name, namespace: item.ResourcePool.Namespace.Name })">{{\n              item.Applications[0].Name\n            }}</a>\n            <span ng-if="item.Applications.length > 1"> + {{ item.Applications.length - 1 }}</span>\n            <span ng-if="!item.Applications.length">-</span>\n          </td>\n          <td>\n            {{ item.PersistentVolumeClaim.StorageClass.Name }}\n          </td>\n          <td>\n            {{ item.PersistentVolumeClaim.Storage }}\n          </td>\n          <td>\n            {{ item.PersistentVolumeClaim.CreationDate | getisodate }}\n            {{ item.PersistentVolumeClaim.ApplicationOwner ? \'by \' + item.PersistentVolumeClaim.ApplicationOwner : \'\' }}\n          </td>\n        </tr>\n        <tr ng-if="!$ctrl.dataset">\n          <td colspan="6" class="text-center text-muted">Loading...</td>\n        </tr>\n        <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n          <td colspan="6" class="text-center text-muted">No volume available.</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="footer pl-5" ng-if="$ctrl.dataset">\n    <div class="infoBar !ml-0" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span style="margin-right: 5px"> Items per page </span>\n          <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},46598:function(e){var t="app/kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <div class="toolBar px-5 pt-5">\n    <div class="toolBarTitle vertical-center text-[16px] font-medium">\n      <div class="widget-icon space-right">\n        <pr-icon icon="\'svg-helm\'"></pr-icon>\n      </div>\n      Additional repositories\n    </div>\n  </div>\n  <rd-widget-body>\n    <div class="actionBar">\n      <form class="form-horizontal" name="addUserHelmRepoForm">\n        <div class="form-group">\n          <span class="col-sm-12 text-muted small"> Add a Helm repository. All Helm charts in the repository will be added to the list. </span>\n        </div>\n\n        <div class="form-group mb-2">\n          <div class="col-sm-12">\n            <input\n              type="url"\n              name="repo"\n              class="form-control"\n              ng-model="$ctrl.state.repository"\n              placeholder="https://charts.bitnami.com/bitnami"\n              ng-pattern="/^https?:///"\n              required\n            />\n          </div>\n        </div>\n\n        <div class="form-group nomargin" ng-show="addUserHelmRepoForm.repo.$invalid">\n          <div class="small">\n            <div ng-messages="addUserHelmRepoForm.repo.$error">\n              <p class="vertical-center text-warning" ng-message="pattern"\n                ><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> A valid URL beginning with http(s) is required.</p\n              >\n            </div>\n          </div>\n        </div>\n\n        <div class="form-group nomargin" ng-show="$ctrl.doesRepoExist()">\n          <div class="small">\n            <div ng-messages="addUserHelmRepoForm.repo.$error">\n              <p class="vertical-center text-warning"><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> Helm repository already exists.</p>\n            </div>\n          </div>\n        </div>\n\n        <div class="form-group">\n          <div class="col-sm-12">\n            <button\n              type="button"\n              class="btn btn-primary btn-sm nomargin"\n              ng-click="$ctrl.addRepository()"\n              ng-disabled="$ctrl.state.isAddingRepo || addUserHelmRepoForm.repo.$invalid || $ctrl.doesRepoExist()"\n              analytics-on\n              analytics-category="kubernetes"\n              analytics-event="kubernetes-helm-add-repository"\n            >\n              Add repository\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},2894:function(e){var t="app/kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list-item/helm-templates-list-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- helm chart --\x3e\n<div ng-class="{ \'blocklist-item--selected\': $ctrl.model.Selected }" class="blocklist-item template-item mx-[10px]" ng-click="$ctrl.onSelect($ctrl.model)">\n  <div class="blocklist-item-box">\n    \x3c!-- helmchart-image --\x3e\n    <span ng-if="$ctrl.model.icon">\n      <fallback-image\n        src="$ctrl.model.icon"\n        fallback-icon="\'svg-helm\'"\n        class-name="\'blocklist-item-logo h-16 w-auto\'"\n        fallback-class-name="\'icon-nested-blue !h-12 !w-12 [&>*]:!h-8 [&>*]:!w-auto\'"\n        fallback-mode="\'primary\'"\n        size="\'xl\'"\n      ></fallback-image>\n    </span>\n\n    <div class="widget-icon space-right" ng-if="!$ctrl.model.icon">\n      <pr-icon icon="\'svg-helm\'"></pr-icon>\n    </div>\n\n    \x3c!-- !helmchart-image --\x3e\n    \x3c!-- helmchart-details --\x3e\n    <div class="col-sm-12 helm-template-item-details">\n      \x3c!-- blocklist-item-line1 --\x3e\n      <div class="blocklist-item-line">\n        <span>\n          <span class="blocklist-item-title">\n            {{ $ctrl.model.name }}\n          </span>\n          <span class="space-left blocklist-item-subtitle">\n            <span class="vertical-center">\n              <pr-icon icon="\'svg-helm\'" mode="\'primary\'"></pr-icon>\n            </span>\n            <span> Helm </span>\n          </span>\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line1 --\x3e\n      <span class="blocklist-item-actions" ng-transclude="actions"></span>\n      \x3c!-- blocklist-item-line2 --\x3e\n      <div class="blocklist-item-line helm-template-item-details-sub">\n        <span class="blocklist-item-desc">\n          {{ $ctrl.model.description }}\n        </span>\n        <span class="small text-muted" ng-if="$ctrl.model.annotations.category">\n          {{ $ctrl.model.annotations.category }}\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line2 --\x3e\n    </div>\n    \x3c!-- !helmchart-details --\x3e\n  </div>\n  \x3c!-- !helm chart --\x3e\n</div>\n')}]),e.exports=t},24633:function(e){var t="app/kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap w-full relative">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n\n          {{ $ctrl.titleText }}\n        </div>\n\n        <div class="searchBar vertical-center !mr-0">\n          <pr-icon icon="\'search\'" feather="true" class="searchIcon"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a chart..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div class="w-1/5">\n          <por-select\n            placeholder="\'Select a category\'"\n            value="$ctrl.state.selectedCategory"\n            options="$ctrl.state.categories"\n            on-change="($ctrl.onCategoryChange)"\n            is-clearable="true"\n            bind-to-body="true"\n          ></por-select>\n        </div>\n      </div>\n\n      <div class="blocklist">\n        <helm-templates-list-item\n          ng-repeat="chart in $ctrl.charts | filter:$ctrl.state.textFilter | filter: $ctrl.state.selectedCategory"\n          model="chart"\n          type-label="helm"\n          on-select="($ctrl.selectAction)"\n        >\n        </helm-templates-list-item>\n        <div ng-if="$ctrl.loading" class="text-center text-muted">\n          Loading...\n          <div class="text-center text-muted"> Initial download of Helm Charts can take a few minutes </div>\n        </div>\n        <div ng-if="!$ctrl.loading && $ctrl.charts.length === 0" class="text-center text-muted"> No helm charts available. </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},18236:function(e){var t="app/kubernetes/components/helm/helm-templates/helm-templates.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Helm\'" breadcrumbs="[\'Charts\']" reload="true"></page-header>\n\n<information-panel title-text="Information" ng-if="!$ctrl.state.chart">\n  <span class="small text-muted">\n    <p class="inline-flex flex-row items-center">\n      <pr-icon icon="\'info\'" feather="true" class="mr-1 vertical-center" mode="\'primary\'"></pr-icon>\n      This is a first version for Helm charts, for more information see this&nbsp;<a\n        class="hyperlink"\n        href="https://www.portainer.io/blog/portainer-now-with-helm-support"\n        target="_blank"\n        >blog post</a\n      >.</p\n    >\n    <p ng-if="$ctrl.state.globalRepository === \'\'" class="inline-flex items-center">\n      <pr-icon icon="\'info\'" feather="true"></pr-icon>\n      <span>The Global Helm Repository is not configured.</span>\n      <a ng-if="$ctrl.state.isAdmin" ui-sref="portainer.settings">Configure Global Helm Repository in Settings</a>.\n    </p>\n  </span>\n</information-panel>\n\n<div class="row">\n  \x3c!-- helmchart-form --\x3e\n  <div class="col-sm-12" ng-if="$ctrl.state.chart">\n    <rd-widget>\n      <div class="toolBarTitle vertical-center pt-5 px-5 text-muted">\n        <fallback-image\n          src="$ctrl.state.chart.icon"\n          fallback-icon="\'svg-helm\'"\n          class-name="\'h-8 w-8\'"\n          fallback-class-name="\'icon-nested-blue\'"\n          fallback-mode="\'primary\'"\n        ></fallback-image>\n        {{ $ctrl.state.chart.name }}\n      </div>\n      <rd-widget-body classes="padding">\n        <form class="form-horizontal" name="$ctrl.helmTemplateCreationForm">\n          \x3c!-- description --\x3e\n          <div>\n            <div class="col-sm-12 form-section-title"> Description </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <div class="text-xs text-muted" ng-bind-html="$ctrl.state.chart.description"></div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !description --\x3e\n          <div class="col-sm-12 form-section-title"> Configuration </div>\n          \x3c!-- namespace-input --\x3e\n          <div class="form-group" ng-if="$ctrl.state.resourcePool">\n            <label for="resource-pool-selector" class="col-sm-2 control-label text-left">Namespace</label>\n            <div class="col-sm-10">\n              <select\n                class="form-control"\n                id="resource-pool-selector"\n                ng-model="$ctrl.state.resourcePool"\n                ng-options="resourcePool.Namespace.Name for resourcePool in $ctrl.state.resourcePools"\n                ng-change=""\n                ng-disabled="$ctrl.state.isEdit"\n              ></select>\n            </div>\n          </div>\n          <div class="form-group" ng-if="!$ctrl.state.resourcePool">\n            <div class="col-sm-12 small text-warning vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n              You do not have access to any namespace. Contact your administrator to get access to a namespace.\n            </div>\n          </div>\n          \x3c!-- !namespace-input --\x3e\n          \x3c!-- name-input --\x3e\n          <div class="form-group mb-2">\n            <label for="release_name" class="col-sm-2 control-label text-left required">Name</label>\n            <div class="col-sm-10">\n              <input\n                type="text"\n                name="release_name"\n                class="form-control"\n                ng-model="$ctrl.state.appName"\n                placeholder="e.g. my-app"\n                required\n                ng-pattern="/^[a-z]([-a-z0-9]*[a-z0-9])?$/"\n              />\n            </div>\n          </div>\n          <div class="form-group" ng-show="$ctrl.helmTemplateCreationForm.release_name.$invalid">\n            <div class="small">\n              <div ng-messages="$ctrl.helmTemplateCreationForm.release_name.$error">\n                <div class="col-sm-2"></div>\n                <p class="vertical-center col-sm-10 text-warning" ng-message="required">\n                  <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'" class="vertical-center"></pr-icon>\n                  This field is required.\n                </p>\n                <p class="vertical-center col-sm-10 text-warning" ng-message="pattern">\n                  <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'" class="vertical-center"></pr-icon>\n                  This field must consist of lower case alphanumeric characters or \'-\', start with an alphabetic character, and end with an alphanumeric character (e.g. \'my-name\',\n                  or \'abc-123\').\n                </p>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                ng-if="!$ctrl.state.showCustomValues && !$ctrl.state.loadingValues"\n                class="btn btn-xs btn-default vertical-center mr-2 !ml-0"\n                ng-click="$ctrl.state.showCustomValues = true;"\n              >\n                <pr-icon icon="\'plus\'" feather="true" class="vertical-center"></pr-icon>\n                Show custom values\n              </button>\n              <span class="small interactive vertical-center" ng-if="$ctrl.state.loadingValues">\n                <pr-icon icon="\'refresh-cw\'" class="mr-1" feather="true"></pr-icon>\n                Loading values.yaml...\n              </span>\n              <button ng-if="$ctrl.state.showCustomValues" class="btn btn-xs btn-default vertical-center mr-2 !ml-0" ng-click="$ctrl.state.showCustomValues = false;">\n                <pr-icon icon="\'minus\'" feather="true" class="vertical-center"></pr-icon>\n                Hide custom values\n              </button>\n            </div>\n          </div>\n          \x3c!-- values override --\x3e\n          <div ng-if="$ctrl.state.showCustomValues">\n            \x3c!-- web-editor --\x3e\n            <div>\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <web-editor-form\n                    identifier="helm-app-creation-editor"\n                    value="$ctrl.state.values"\n                    on-change="($ctrl.editorUpdate)"\n                    yml="true"\n                    placeholder="# Define or paste the content of your values yaml file here"\n                  >\n                    <editor-description class="vertical-center">\n                      <pr-icon icon="\'info\'" feather="true" mode="\'primary\'"></pr-icon>\n                      <span>\n                        You can get more information about Helm values file format in the\n                        <a href="https://helm.sh/docs/chart_template_guide/values_files/" target="_blank" class="text-blue-8 hover:text-blue-8 hover:underline"\n                          >official documentation</a\n                        >.\n                      </span>\n                    </editor-description>\n                  </web-editor-form>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !web-editor --\x3e\n          </div>\n          \x3c!-- !values override --\x3e\n          \x3c!-- helm actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm !ml-0"\n                ng-disabled="!($ctrl.state.appName && $ctrl.state.resourcePool && !$ctrl.state.loadingValues && !$ctrl.state.actionInProgress)"\n                ng-click="$ctrl.installHelmchart()"\n                button-spinner="$ctrl.state.actionInProgress"\n                data-cy="helm-install"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress">Install</span>\n                <span ng-hide="!$ctrl.state.actionInProgress">Helm installing in progress</span>\n              </button>\n              <button type="button" class="btn btn-sm btn-default" ng-click="$ctrl.state.chart = null">Hide</button>\n            </div>\n          </div>\n          \x3c!-- !helm actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n  \x3c!-- helmchart-form --\x3e\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <helm-add-repository repos="$ctrl.state.repos" endpoint="$ctrl.endpoint"></helm-add-repository>\n  </div>\n</div>\n\n\x3c!-- Helm Charts Component --\x3e\n<div class="row">\n  <div class="col-sm-12">\n    <helm-templates-list\n      title-text="Charts"\n      title-icon="compass"\n      charts="$ctrl.state.charts"\n      table-key="$ctrl.state.charts"\n      select-action="$ctrl.selectHelmChart"\n      loading="$ctrl.state.chartsLoading || $ctrl.state.resourcePoolsLoading"\n    >\n    </helm-templates-list>\n  </div>\n</div>\n\x3c!-- !Helm Charts Component --\x3e\n')}]),e.exports=t},74226:function(e){var t="app/kubernetes/components/kube-services/kube-services-item/kube-services-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="serviceForm">\n  <div ng-if="$ctrl.isAdmin()" class="small" ng-show="$ctrl.service.Type === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled">\n    <p class="text-warning pt-2 vertical-center">\n      <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> No Load balancer is available in this cluster, click\n      <a class="hyperlink" ui-sref="kubernetes.cluster.setup">here</a> to configure load balancer.\n    </p>\n  </div>\n  <div ng-if="!$ctrl.isAdmin()" class="small" ng-show="$ctrl.service.Type === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled">\n    <p class="text-warning pt-2 vertical-center">\n      <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> No Load balancer is available in this cluster, contact your administrator.\n    </p>\n  </div>\n\n  <div\n    ng-if="\n      ($ctrl.service.Type === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && $ctrl.loadbalancerEnabled) ||\n      $ctrl.service.Type === $ctrl.KubernetesApplicationPublishingTypes.CLUSTER_IP ||\n      $ctrl.service.Type === $ctrl.KubernetesApplicationPublishingTypes.NODE_PORT\n    "\n  >\n    <div ng-show="!$ctrl.multiItemDisable" class="mt-5 mb-5 vertical-center">\n      <label class="control-label text-left !pt-0">Published ports</label>\n      <span class="label label-default interactive ml-2.5 vertical-center" ng-click="$ctrl.addPort()" data-cy="k8sAppCreate-addNewPortButton">\n        <pr-icon icon="\'plus\'" mode="\'alt\'" size="\'sm\'" feather="true"></pr-icon> publish a new port\n      </span>\n    </div>\n    <div ng-repeat="servicePort in $ctrl.service.Ports" class="mt-5 service-form row">\n      <div class="form-group !mx-0 !pl-0 col-sm-3">\n        <div class="input-group input-group-sm">\n          <span class="input-group-addon required">Container port</span>\n          <input\n            type="number"\n            class="form-control"\n            name="container_port_{{ $index }}"\n            ng-model="servicePort.targetPort"\n            placeholder="80"\n            ng-min="1"\n            ng-max="65535"\n            min="1"\n            max="65535"\n            ng-change="$ctrl.servicePort($index)"\n            required\n            ng-disabled="$ctrl.originalIngresses.length === 0 || ($ctrl.service.Type === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled)"\n            ng-change="$ctrl.onChangeContainerPort()"\n            data-cy="k8sAppCreate-containerPort_{{ $index }}"\n          />\n        </div>\n        <span>\n          <div class="small mt-1 text-warning" ng-if="$ctrl.state.duplicates.targetPort.refs[$index] !== undefined">\n            <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This container port is already used.\n          </div>\n          <div class="small mt-1 text-warning" ng-messages="serviceForm[\'container_port_\'+$index].$error">\n            <p class="vertical-center" ng-message="required"><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Container port number is required.</p>\n            <p class="vertical-center" ng-message="min"\n              ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Container port number must be inside the range 1-65535.</p\n            >\n            <p class="vertical-center" ng-message="max"\n              ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Container port number must be inside the range 1-65535.</p\n            >\n          </div>\n        </span>\n      </div>\n\n      <div class="form-group !mx-0 !pl-0 col-sm-3">\n        <div class="input-group input-group-sm">\n          <span class="input-group-addon required">Service port</span>\n          <input\n            type="number"\n            class="form-control"\n            name="service_port_{{ $index }}"\n            ng-model="servicePort.port"\n            placeholder="80"\n            ng-min="1"\n            ng-max="65535"\n            min="1"\n            max="65535"\n            required\n            ng-disabled="$ctrl.originalIngresses.length === 0 || ($ctrl.service.Type === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled)"\n            ng-change="$ctrl.onChangeServicePort()"\n            data-cy="k8sAppCreate-servicePort_{{ $index }}"\n          />\n        </div>\n        <span>\n          <div class="small mt-1 text-warning" ng-if="$ctrl.state.duplicates.servicePort.refs[$index] !== undefined">\n            <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This service port is already used.\n          </div>\n          <div class="small mt-1 text-warning">\n            <div ng-messages="serviceForm[\'service_port_\'+$index].$error">\n              <p class="vertical-center" ng-message="required"><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Service port number is required.</p>\n              <p class="vertical-center" ng-message="min"\n                ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Service port number must be inside the range 1-65535.</p\n              >\n              <p class="vertical-center" ng-message="max"\n                ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Service port number must be inside the range 1-65535.</p\n              >\n            </div>\n          </div>\n        </span>\n      </div>\n\n      <div class="form-group !mx-0 !pl-0 col-sm-3" ng-if="$ctrl.service.Type === $ctrl.KubernetesApplicationPublishingTypes.NODE_PORT">\n        <div class="input-group input-group-sm">\n          <span class="input-group-addon required">Nodeport</span>\n          <input\n            type="number"\n            class="form-control"\n            name="node_port_{{ $index }}"\n            ng-model="servicePort.nodePort"\n            placeholder="30080"\n            ng-min="30000"\n            ng-max="32767"\n            min="30000"\n            max="32767"\n            required\n            ng-change="$ctrl.onChangeNodePort()"\n            data-cy="k8sAppCreate-nodeportPort_{{ $index }}"\n          />\n        </div>\n        <div class="w-full">\n          <span>\n            <div class="small mt-1 text-warning">\n              <div ng-messages="serviceForm[\'node_port_\'+$index].$error">\n                <p class="vertical-center" ng-message="required"><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Nodeport is required.</p>\n                <p class="vertical-center" ng-message="min"\n                  ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Nodeport number must be inside the range 30000-32767 or blank for system\n                  allocated.</p\n                >\n                <p class="vertical-center" ng-message="max"\n                  ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Nodeport number must be inside the range 30000-32767 or blank for system\n                  allocated.</p\n                >\n                <div class="mt-1 text-warning" ng-if="$ctrl.state.duplicates.nodePort.refs[$index] !== undefined">\n                  <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This node port is already used.\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="form-group !mx-0 !pl-0 col-sm-3" ng-if="$ctrl.service.Type === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER">\n        <div class="input-group input-group-sm">\n          <span class="input-group-addon">Loadbalancer port</span>\n          <input\n            type="number"\n            class="form-control"\n            name="loadbalancer_port_{{ $index }}"\n            ng-model="servicePort.port"\n            placeholder="80"\n            ng-min="1"\n            ng-max="65535"\n            min="1"\n            max="65535"\n            required\n            ng-disabled="$ctrl.service.Type === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled"\n            data-cy="k8sAppCreate-loadbalancerPort_{{ $index }}"\n          />\n        </div>\n      </div>\n\n      <div class="form-group !mx-0 !pl-0 col-sm-3">\n        <div class="input-group input-group-sm">\n          <div class="btn-group btn-group-sm">\n            <label\n              class="btn btn-light"\n              ng-model="servicePort.protocol"\n              uib-btn-radio="\'TCP\'"\n              ng-change="ctrl.onChangePortProtocol($index)"\n              ng-disabled="ctrl.isProtocolOptionDisabled($index, \'TCP\')"\n              data-cy="k8sAppCreate-TCPButton_{{ $index }}"\n              >TCP</label\n            >\n            <label\n              class="btn btn-light"\n              ng-model="servicePort.protocol"\n              uib-btn-radio="\'UDP\'"\n              ng-change="ctrl.onChangePortProtocol($index)"\n              ng-disabled="ctrl.isProtocolOptionDisabled($index, \'UDP\')"\n              data-cy="k8sAppCreate-UDPButton_{{ $index }}"\n              >UDP</label\n            >\n          </div>\n          <button\n            ng-disabled="$ctrl.service.Ports.length === 1"\n            ng-show="!$ctrl.multiItemDisable"\n            class="btn btn-sm btn-dangerlight btn-only-icon"\n            type="button"\n            ng-click="$ctrl.removePort($index)"\n            data-cy="k8sAppCreate-rmPortButton_{{ $index }}"\n          >\n            <pr-icon icon="\'trash-2\'" size="\'md\'" feather="true"></pr-icon>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},68629:function(e){var t="app/kubernetes/components/kube-services/kube-services.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Publishing the application </div>\n<div class="col-sm-12 !p-0">\n  <div class="small">\n    <p class="text-muted vertical-center">\n      <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n      <span>Publish your application by creating a ClusterIP service for it, which you may then expose via <a target="_blank" ui-sref="kubernetes.ingresses">an ingress</a>.</span>\n    </p>\n  </div>\n</div>\n<div class="form-group">\n  <div class="col-sm-12 form-inline">\n    <div class="col-sm-6" style="padding-left: 0px">\n      <select\n        class="form-control"\n        ng-model="$ctrl.state.selected"\n        ng-options="item.typeValue as item.typeName for item in $ctrl.state.serviceType"\n        data-cy="k8sAppCreate-publishingModeDropdown"\n      ></select>\n      <button type="button" class="btn btn-md btn-default vertical-center !ml-0" ng-click="$ctrl.addEntry( $ctrl.state.selected )" data-cy="k8sAppCreate-createServiceButton">\n        <span\n          class="interactive vertical-center"\n          tooltip-append-to-body="true"\n          tooltip-placement="top"\n          tooltip-class="portainer-tooltip"\n          uib-tooltip="Different service types expose the deployment in alternate ways.\n          ClusterIP exposes it within the cluster (for internal access only).\n          NodePort exposes it (on a high port) across all nodes.\n          LoadBalancer exposes it via an external load balancer."\n        >\n          <pr-icon icon="\'plus\'" size="\'sm\'" feather="true"></pr-icon> Create service\n        </span>\n      </button>\n    </div>\n  </div>\n</div>\n\n<div class="form-group">\n  <div class="col-sm-12 form-inline" style="margin-top: 20px" ng-repeat="service in $ctrl.formValues.Services">\n    <div>\n      <div class="text-muted vertical-center">\n        <pr-icon ng-if="$ctrl.serviceType(service.Type) === \'ClusterIP\'" icon="\'list\'" feather="true"></pr-icon>\n        <pr-icon ng-if="$ctrl.serviceType(service.Type) === \'LoadBalancer\'" icon="\'svg-dataflow\'"></pr-icon>\n        <pr-icon ng-if="$ctrl.serviceType(service.Type) === \'NodePort\'" icon="\'list\'" feather="true"></pr-icon>\n        {{ $ctrl.serviceType(service.Type) }}\n      </div>\n      <kube-services-item-view\n        node-port-services="$ctrl.nodePortServices"\n        form-services="$ctrl.formValues.Services"\n        service="$ctrl.formValues.Services[$index]"\n        is-edit="$ctrl.isEdit"\n        loadbalancer-enabled="$ctrl.loadbalancerEnabled"\n      ></kube-services-item-view>\n      <button\n        type="button"\n        class="btn btn-sm btn-dangerlight space-right vertical-center"\n        style="margin-left: 0; margin-top: 10px"\n        ng-click="$ctrl.deleteService( $index )"\n        data-cy="k8sConfigCreate-removeButton"\n      >\n        <pr-icon icon="\'trash-2\'" size="\'md\'" feather="true"></pr-icon> Remove\n      </button>\n    </div>\n\n    <div ng-if="$ctrl.formValues.Services[$index].Ingress && $ctrl.formValues.OriginalIngresses.length === 0">\n      <div class="text-muted">\n        <pr-icon icon="\'svg-route\'" class-name="\'mr-0.5\'"></pr-icon>\n        Ingress\n      </div>\n      <div ng-if="$ctrl.isAdmin()" class="small">\n        <p class="text-warning pt-2 vertical-center">\n          <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Ingress is not configured in this namespace, select another namespace or click\n          <a ui-sref="kubernetes.cluster.setup">here</a> to configure ingress.\n        </p>\n      </div>\n      <div ng-if="!$ctrl.isAdmin()" class="small">\n        <p class="text-warning pt-2 vertical-center">\n          <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Ingress is not configured in this namespace, select another namespace or contact your\n          administrator.\n        </p>\n      </div>\n      <button\n        type="button"\n        class="btn btn-sm btn-dangerlight space-right vertical-center"\n        style="margin-left: 0; margin-top: 10px"\n        ng-click="$ctrl.deleteService( $index )"\n        data-cy="k8sConfigCreate-removeButton"\n      >\n        <pr-icon icon="\'trash-2\'" size="\'md\'" feather="true"></pr-icon> Remove\n      </button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},80331:function(e){var t="app/kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationData.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="kubernetesConfigurationDataCreationForm">\n  <div class="col-sm-12 form-section-title" style="margin-top: 10px"> Data </div>\n\n  <div class="form-group" ng-if="$ctrl.isCreation">\n    <div class="col-sm-12">\n      <button type="button" class="btn btn-link btn-sm hover:no-underline !ml-0 p-0" ng-if="$ctrl.formValues.IsSimple" ng-click="$ctrl.showAdvancedMode()">\n        <pr-icon icon="\'list\'" feather="true"></pr-icon> Advanced mode\n      </button>\n      <button type="button" class="btn btn-link btn-sm hover:no-underline !ml-0 p-0" ng-if="!$ctrl.formValues.IsSimple" ng-click="$ctrl.showSimpleMode()">\n        <pr-icon icon="\'edit\'" feather="true"></pr-icon> Simple mode\n      </button>\n    </div>\n    <div class="col-sm-12 small text-muted vertical-center" ng-if="$ctrl.formValues.IsSimple">\n      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n      Switch to advanced mode to copy and paste multiple key/values\n    </div>\n    <div class="col-sm-12 small text-muted vertical-center" ng-if="!$ctrl.formValues.IsSimple">\n      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n      Generate a configuration entry per line, use YAML format\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="$ctrl.formValues.IsSimple">\n    <div class="col-sm-12 vertical-center">\n      <button type="button" class="btn btn-sm btn-default" style="margin-left: 0" ng-click="$ctrl.addEntry()" data-cy="k8sConfigCreate-createEntryButton">\n        <pr-icon class="vertical-center" icon="\'plus\'" feather="true"></pr-icon> Create entry\n      </button>\n      <button\n        ng-if="\n          !(($ctrl.isDockerConfig || $ctrl.formValues.Type === $ctrl.KubernetesSecretTypeOptions.TLS.value) && $ctrl.formValues.Kind === $ctrl.KubernetesConfigurationKinds.SECRET)\n        "\n        type="button"\n        class="btn btn-sm btn-default ml-0"\n        ngf-select="$ctrl.addEntryFromFile($file)"\n        data-cy="k8sConfigCreate-createConfigsFromFileButton"\n      >\n        <pr-icon icon="\'upload\'" feather="true" class="vertical-center"></pr-icon> Create key/value from file\n      </button>\n      <button\n        ng-if="$ctrl.isDockerConfig && $ctrl.formValues.Kind === $ctrl.KubernetesConfigurationKinds.SECRET"\n        type="button"\n        class="btn btn-sm btn-default ml-0"\n        ngf-select="$ctrl.addEntryFromFile($file)"\n        ngf-accept="\'.json\'"\n        data-cy="k8sConfigCreate-createConfigsFromFileButton"\n      >\n        <pr-icon icon="\'upload\'" feather="true" class="vertical-center"></pr-icon> Upload docker config file\n      </button>\n      <button\n        ng-if="$ctrl.formValues.Type === $ctrl.KubernetesSecretTypeOptions.TLS.value && $ctrl.formValues.Kind === $ctrl.KubernetesConfigurationKinds.SECRET"\n        type="button"\n        class="btn btn-sm btn-default ml-0"\n        ngf-select="$ctrl.addEntryFromFile($file)"\n        data-cy="k8sConfigCreate-createConfigsFromFileButton"\n      >\n        <pr-icon icon="\'upload\'" feather="true" class="vertical-center"></pr-icon> Upload TLS key/cert file\n      </button>\n      <portainer-tooltip message="\'Maximum upload file size is 1MB\'"></portainer-tooltip>\n    </div>\n  </div>\n\n  <div ng-repeat="(index, entry) in $ctrl.formValues.Data" ng-if="$ctrl.formValues.IsSimple">\n    <div class="form-group">\n      <label for="configuration_data_key_{{ index }}" class="col-sm-3 col-lg-2 control-label text-left required"\n        >Key\n        <portainer-tooltip message="\'The key must consist of alphanumeric characters, \\\'-\\\', \\\'_\\\' or \\\'.\\\' and be up to 253 characters in length.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-lg-9">\n        <input\n          type="text"\n          class="form-control"\n          maxlength="253"\n          id="configuration_data_key_{{ index }}"\n          name="configuration_data_key_{{ index }}"\n          ng-model="$ctrl.formValues.Data[index].Key"\n          ng-disabled="entry.Used || $ctrl.isRequiredKey(entry.Key)"\n          required\n          ng-change="$ctrl.onChangeKey(entry)"\n        />\n        <div\n          class="small text-warning mt-1"\n          ng-show="\n            kubernetesConfigurationDataCreationForm[\'configuration_data_key_\' + index].$invalid ||\n            (!entry.Used && $ctrl.state.duplicateKeys[index] !== undefined) ||\n            $ctrl.state.invalidKeys[index]\n          "\n        >\n          <ng-messages for="kubernetesConfigurationDataCreationForm[\'configuration_data_key_\' + index].$error">\n            <p ng-message="required" class="vertical-center"> <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> This field is required. </p>\n          </ng-messages>\n          <div>\n            <p ng-if="$ctrl.state.duplicateKeys[index] !== undefined" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'" class="vertical-center"></pr-icon>This key is already defined.\n            </p>\n          </div>\n          <p ng-if="$ctrl.state.invalidKeys[index]" class="vertical-center">\n            <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'" class="vertical-center"></pr-icon> This key is invalid. A valid key must consist of alphanumeric\n            characters, \'-\', \'_\' or \'.\'\n          </p>\n        </div>\n      </div>\n      <div class="col-sm-3 col-lg-2"></div>\n    </div>\n\n    <div class="form-group" ng-if="$ctrl.formValues.IsSimple && !entry.IsBinary">\n      <label for="configuration_data_value_{{ index }}" class="col-sm-3 col-lg-2 control-label text-left required">Value</label>\n      <div class="col-sm-8 col-lg-9">\n        <textarea\n          class="form-control"\n          rows="5"\n          id="configuration_data_value_{{ index }}"\n          name="configuration_data_value_{{ index }}"\n          ng-model="$ctrl.formValues.Data[index].Value"\n          ng-trim="false"\n          required\n        ></textarea>\n        <div class="small text-warning" style="margin-top: 5px" ng-show="kubernetesConfigurationDataCreationForm[\'configuration_data_value_\' + index].$invalid">\n          <ng-messages for="kubernetesConfigurationDataCreationForm[\'configuration_data_value_\' + index].$error">\n            <p ng-message="required" class="vertical-center"\n              ><pr-icon class="vertical-center" icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> This field is required.</p\n            >\n          </ng-messages>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group" ng-if="$ctrl.formValues.IsSimple && entry.IsBinary">\n      <label for="configuration_data_value_{{ index }}" class="col-sm-3 col-lg-2 control-label text-left required">Value</label>\n      <div class="col-sm-8 control-label small text-muted text-left"\n        >Binary data <portainer-tooltip message="\'This key holds binary data and cannot be displayed.\'"></portainer-tooltip\n      ></div>\n    </div>\n\n    <div class="form-group" ng-if="$ctrl.formValues.IsSimple">\n      <div class="col-sm-3 col-lg-2"></div>\n      <div class="col-sm-8">\n        <button\n          ng-if="!$ctrl.isRequiredKey(entry.Key) || $ctrl.state.duplicateKeys[index] !== undefined"\n          type="button"\n          class="btn btn-sm btn-dangerlight !ml-0"\n          style="margin-left: 0"\n          ng-disabled="entry.Used || $ctrl.isEntryRequired()"\n          ng-click="$ctrl.removeEntry(index, entry)"\n          data-cy="k8sConfigDetail-removeEntryButton{{ index }}"\n        >\n          <pr-icon class="vertical-center" icon="\'trash-2\'" feather="true"></pr-icon> Remove entry\n        </button>\n        <span class="small text-muted" ng-if="entry.Used">\n          <pr-icon icon="\'info\'" feather="true" mode="\'primary\'"></pr-icon>\n          This key is currently used by one or more applications\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group !px-[15px]" ng-if="!$ctrl.formValues.IsSimple">\n    <input type="text" ng-model="$ctrl.formValues.DataYaml" required style="display: none" />\n\n    <web-editor-form\n      identifier="kubernetes-configuration-editor"\n      value="$ctrl.formValues.DataYaml"\n      on-change="($ctrl.editorUpdate)"\n      yml="true"\n      placeholder="# Define or paste key-value pairs, one pair per line"\n    >\n    </web-editor-form>\n  </div>\n</ng-form>\n')}]),e.exports=t},37751:function(e){var t="app/kubernetes/components/resource-reservation/resourceReservation.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12 form-section-title"> Resource reservation </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small vertical-center">\n      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n      {{ $ctrl.description }}\n    </span>\n  </div>\n  <div class="form-group" ng-if="$ctrl.memoryLimit !== 0">\n    <label for="memory-reservation" class="col-sm-3 col-lg-2 control-label text-left"> Memory reservation </label>\n    <div class="col-sm-9" style="margin-top: 4px" data-cy="k8sNamespaceDetail-memoryUsage">\n      <uib-progressbar animate="false" value="$ctrl.memoryReservationPercent" type="{{ $ctrl.memoryReservationPercent | kubernetesUsageLevelInfo }}"></uib-progressbar>\n      <span> {{ $ctrl.memoryReservation }} / {{ $ctrl.memoryLimit }} MB - {{ $ctrl.memoryReservationPercent }}% </span>\n    </div>\n  </div>\n  <div class="form-group" ng-if="$ctrl.displayUsage && $ctrl.memoryLimit !== 0">\n    <label for="memory-usage" class="col-sm-3 col-lg-2 control-label text-left"> Memory used </label>\n    <div class="col-sm-9" style="margin-top: 4px">\n      <uib-progressbar animate="false" value="$ctrl.memoryUsagePercent" type="{{ $ctrl.memoryUsagePercent | kubernetesUsageLevelInfo }}"></uib-progressbar>\n      <span> {{ $ctrl.memoryUsage }} / {{ $ctrl.memoryLimit }} MB - {{ $ctrl.memoryUsagePercent }}% </span>\n    </div>\n  </div>\n  <div class="form-group" ng-if="$ctrl.cpuLimit !== 0">\n    <label for="cpu-reservation" class="col-sm-3 col-lg-2 control-label text-left"> CPU reservation </label>\n    <div class="col-sm-9" style="margin-top: 4px">\n      <uib-progressbar animate="false" value="$ctrl.cpuReservationPercent" type="{{ $ctrl.cpuReservationPercent | kubernetesUsageLevelInfo }}"></uib-progressbar>\n      <span> {{ $ctrl.cpuReservation | kubernetesApplicationCPUValue }} / {{ $ctrl.cpuLimit }} - {{ $ctrl.cpuReservationPercent }}% </span>\n    </div>\n  </div>\n  <div class="form-group" ng-if="$ctrl.displayUsage && $ctrl.cpuLimit !== 0">\n    <label for="cpu-usage" class="col-sm-3 col-lg-2 control-label text-left"> CPU used </label>\n    <div class="col-sm-9" style="margin-top: 4px">\n      <uib-progressbar animate="false" value="$ctrl.cpuUsagePercent" type="{{ $ctrl.cpuUsagePercent | kubernetesUsageLevelInfo }}"></uib-progressbar>\n      <span> {{ $ctrl.cpuUsage | kubernetesApplicationCPUValue }} / {{ $ctrl.cpuLimit }} - {{ $ctrl.cpuUsagePercent }}% </span>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},41776:function(e){var t="app/kubernetes/components/view-loading/viewLoading.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="loading-view-area" ng-if="!$ctrl.viewReady">\n  <div class="sk-fold sk-center">\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n    <div class="sk-fold-cube"></div>\n  </div>\n</div>\n')}]),e.exports=t},96354:function(e){var t="app/kubernetes/components/yaml-inspector/yamlInspector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <web-editor-form\n    identifier="application-details-yaml"\n    value="$ctrl.data"\n    yml="true"\n    placeholder="# Define or paste the content of your manifest here"\n    read-only="true"\n    hide-title="true"\n  >\n  </web-editor-form>\n  <div class="py-5">\n    <span class="btn btn-light btn-sm" ng-click="$ctrl.copyYAML()">\n      <pr-icon class="vertical-center" icon="\'copy\'" feather="true"></pr-icon>\n      Copy to clipboard\n    </span>\n    <span class="btn btn-light btn-sm space-left !ml-0" ng-click="$ctrl.toggleYAMLInspectorExpansion()">\n      <pr-icon class="vertical-center" icon="\'minus\'" size="\'sm\'" ng-if="$ctrl.expanded" feather="true"></pr-icon>\n      <pr-icon class="vertical-center" icon="\'plus\'" size="\'sm\'" ng-if="!$ctrl.expanded" feather="true"></pr-icon>\n      {{ $ctrl.expanded ? \'Collapse\' : \'Expand\' }}\n    </span>\n    <span id="copyNotificationYAML" style="display: none" class="small vertical-center ml-1">\n      <pr-icon class="vertical-center" icon="\'check\'" size="\'md\'" mode="\'success\'" feather="true"></pr-icon> copied\n    </span>\n  </div>\n</div>\n')}]),e.exports=t},21843:function(e){var t="app/kubernetes/custom-templates/kube-create-custom-template-view/kube-create-custom-template-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create Custom template\'" breadcrumbs="[{label:\'Custom Templates\', link:\'kubernetes.templates.custom\'}, \'Create Custom template\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="$ctrl.form">\n          <custom-template-common-fields form-values="$ctrl.formValues"></custom-template-common-fields>\n\n          \x3c!-- build-method --\x3e\n          <div class="col-sm-12 form-section-title"> Build method </div>\n          <box-selector radio-name="\'method\'" value="$ctrl.state.method" options="$ctrl.methodOptions" on-change="($ctrl.onChangeMethod)"></box-selector>\n\n          <div class="mt-4">\n            <web-editor-form\n              ng-if="$ctrl.state.method === \'editor\'"\n              identifier="template-creation-editor"\n              value="$ctrl.formValues.FileContent"\n              on-change="($ctrl.onChangeFileContent)"\n              ng-required="true"\n              yml="true"\n              placeholder="# Define or paste the content of your manifest file here"\n            >\n              <editor-description>\n                <p>Templates allow deploying any kind of Kubernetes resource (Deployment, Secret, ConfigMap...)</p>\n                <p>\n                  You can get more information about Kubernetes file format in the\n                  <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank">official documentation</a>.\n                </p>\n              </editor-description>\n            </web-editor-form>\n          </div>\n\n          <file-upload-form ng-if="$ctrl.state.method === \'upload\'" file="$ctrl.formValues.File" on-change="($ctrl.onChangeFile)" ng-required="true">\n            <file-upload-description> You can upload a Manifest file from your computer. </file-upload-description>\n          </file-upload-form>\n\n          <custom-templates-variables-definition-field\n            ng-if="$ctrl.isTemplateVariablesEnabled"\n            value="$ctrl.formValues.Variables"\n            on-change="($ctrl.onVariablesChange)"\n            is-variables-names-from-parent="$ctrl.state.method === \'editor\'"\n          ></custom-templates-variables-definition-field>\n\n          <por-access-control-form form-data="$ctrl.formValues.AccessControlData"></por-access-control-form>\n\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm !ml-0"\n                ng-disabled="!$ctrl.state.isTemplateValid ||$ctrl.state.actionInProgress || $ctrl.form.$invalid || ($ctrl.state.method === \'editor\' && !$ctrl.formValues.FileContent)"\n                ng-click="$ctrl.createCustomTemplate()"\n                button-spinner="$ctrl.state.actionInProgress"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress">Create custom template</span>\n                <span ng-show="$ctrl.state.actionInProgress">Creation in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px">\n                {{ $ctrl.state.formValidationError }}\n              </span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},66295:function(e){var t="app/kubernetes/custom-templates/kube-custom-templates-view/kube-custom-templates-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Custom Templates\'" breadcrumbs="[\'Custom Templates\']" reload="true"></page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <custom-templates-list\n      ng-if="$ctrl.templates"\n      title-text="Templates"\n      title-icon="edit"\n      templates="$ctrl.templates"\n      table-key="customTemplates"\n      is-edit-allowed="$ctrl.isEditAllowed"\n      on-select-click="($ctrl.selectTemplate)"\n      on-delete-click="($ctrl.confirmDelete)"\n      create-path="kubernetes.templates.custom.new"\n      edit-path="kubernetes.templates.custom.edit"\n    ></custom-templates-list>\n  </div>\n</div>\n')}]),e.exports=t},13968:function(e){var t="app/kubernetes/custom-templates/kube-edit-custom-template-view/kube-edit-custom-template-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Edit Custom Template\'" breadcrumbs="[{label:\'Custom templates\', link:\'kubernetes.templates.custom\'}, $ctrl.formValues.Title]" reload="true"> </page-header>\n\n<div class="row" ng-if="$ctrl.formValues">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="$ctrl.form">\n          <custom-template-common-fields form-values="$ctrl.formValues"></custom-template-common-fields>\n\n          <web-editor-form\n            identifier="template-editor"\n            value="$ctrl.formValues.FileContent"\n            on-change="($ctrl.onChangeFileContent)"\n            ng-required="true"\n            yml="true"\n            placeholder="# Define or paste the content of your manifest file here"\n          >\n            <editor-description>\n              <p>Templates allow deploying any kind of Kubernetes resource (Deployment, Secret, ConfigMap...)</p>\n              <p>\n                You can get more information about Kubernetes file format in the\n                <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank">official documentation</a>.\n              </p>\n            </editor-description>\n          </web-editor-form>\n\n          <custom-templates-variables-definition-field\n            ng-if="$ctrl.isTemplateVariablesEnabled"\n            value="$ctrl.formValues.Variables"\n            on-change="($ctrl.onVariablesChange)"\n            is-variables-names-from-parent="true"\n          ></custom-templates-variables-definition-field>\n\n          <por-access-control-form form-data="$ctrl.formValues.AccessControlData" resource-control="$ctrl.formValues.ResourceControl"></por-access-control-form>\n\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm !ml-0"\n                ng-disabled="$ctrl.actionInProgress || $ctrl.form.$invalid || !$ctrl.formValues.Title || !$ctrl.formValues.FileContent"\n                ng-click="$ctrl.submitAction()"\n                button-spinner="$ctrl.actionInProgress"\n              >\n                <span ng-hide="$ctrl.actionInProgress">Update the template</span>\n                <span ng-show="$ctrl.actionInProgress">Update in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="$ctrl.state.formValidationError" style="margin-left: 5px">\n                {{ $ctrl.state.formValidationError }}\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},2780:function(e){var t="app/kubernetes/registries/kube-registry-access-view/kube-registry-access-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Registry access\'" breadcrumbs="[{label:\'Registries\', link:\'kubernetes.registries\'}, $ctrl.registry.Name, \'Access management\']"> </page-header>\n\n<registry-details registry="$ctrl.registry" ng-if="$ctrl.registry"></registry-details>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="svg-userlock" title-text="Create access"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label class="col-sm-3 col-lg-2 control-label text-left" style="padding-top: 0"> Select namespaces </label>\n            <div class="col-sm-9 col-lg-4" style="margin-bottom: 15px">\n              <span class="small text-muted" ng-if="!$ctrl.resourcePools.length"> No namespaces available. </span>\n\n              <namespaces-selector\n                ng-if="$ctrl.resourcePools.length"\n                value="$ctrl.selectedResourcePools"\n                namespaces="$ctrl.resourcePools"\n                placeholder="\'Select one or more namespaces\'"\n                on-change="($ctrl.onChangeResourcePools)"\n              ></namespaces-selector>\n            </div>\n            <div class="col-sm-12 small text-muted vertical-center">\n              <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n              Adding this registry will expose the registry credentials to all users of this namespace.\n            </div>\n          </div>\n\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="submit"\n                class="btn btn-primary btn-sm !ml-0"\n                ng-disabled="$ctrl.selectedResourcePools.length === 0 || $ctrl.state.actionInProgress"\n                ng-click="$ctrl.submit()"\n                button-spinner="$ctrl.state.actionInProgress"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress" class="vertical-center"><pr-icon icon="\'plus\'" size="\'sm\'" feather="true"></pr-icon> Create access</span>\n                <span ng-show="$ctrl.state.actionInProgress">Creating access...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<div class="row">\n  <div class="col-sm-12">\n    <strings-datatable\n      title-text="Access"\n      title-icon="svg-userlock"\n      table-key="access_registry_resourcepools"\n      dataset="$ctrl.savedResourcePools"\n      empty-dataset-message="No namespace has been authorized yet."\n      on-remove="($ctrl.handleRemove)"\n      column-header="Namespace"\n    >\n    </strings-datatable>\n  </div>\n</div>\n')}]),e.exports=t},79573:function(e){var t="app/kubernetes/views/applications/applications.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header ng-if="ctrl.state.viewReady" title="\'Application list\'" breadcrumbs="[\'Applications\']" reload="true"></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12" data-cy="k8sApp-appList">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading class="vertical-center"> <pr-icon icon="\'box\'" feather="true"></pr-icon> Applications </uib-tab-heading>\n              <kubernetes-applications-datatable\n                dataset="ctrl.state.applications"\n                table-key="kubernetes.applications"\n                settings-key="kubernetes.applications"\n                order-by="Name"\n                remove-action="ctrl.removeAction"\n                refresh-callback="ctrl.getApplications"\n                on-publishing-mode-click="(ctrl.onPublishingModeClick)"\n                is-primary="true"\n              >\n              </kubernetes-applications-datatable>\n            </uib-tab>\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading class="vertical-center"> <pr-icon icon="\'svg-dataflow\'"></pr-icon> Port mappings </uib-tab-heading>\n              <kubernetes-applications-ports-datatable dataset="ctrl.state.ports" table-key="kubernetes.applications.ports" order-by="Name" refresh-callback="ctrl.getApplications">\n              </kubernetes-applications-ports-datatable>\n            </uib-tab>\n            <uib-tab index="2" classes="btn-sm" select="ctrl.selectTab(2)">\n              <uib-tab-heading class="vertical-center"> <pr-icon icon="\'list\'" feather="true"></pr-icon> Stacks </uib-tab-heading>\n              <kubernetes-applications-stacks-datatable\n                dataset="ctrl.state.stacks"\n                table-key="kubernetes.applications.stacks"\n                order-by="Name"\n                refresh-callback="ctrl.getApplications"\n                remove-action="ctrl.removeStacksAction"\n              >\n              </kubernetes-applications-stacks-datatable>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},65998:function(e){var t="app/kubernetes/views/applications/console/console.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Application console\'"\n  breadcrumbs="[\n    { label:\'Namespaces\', link:\'kubernetes.resourcePools\' },\n    { \n      label:ctrl.application.ResourcePool,\n      link: \'kubernetes.resourcePools.resourcePool\', \n      linkParams:{ id: ctrl.application.ResourcePool }\n    },\n    { label:\'Applications\', link:\'kubernetes.applications\' },\n    { \n      label:ctrl.application.Name,\n      link: \'kubernetes.applications.application\', \n      linkParams:{ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool }\n    },\n     \'Pods\',\n     ctrl.podName,\n     \'Containers\',\n     ctrl.containerName,\n     \'Console\'\n     ]"\n  reload="true"\n>\n</page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" autocomplete="off">\n            <div class="col-sm-12 form-section-title"> Console </div>\n            \x3c!-- Command --\x3e\n            <div class="form-group">\n              <label for="console_command" class="col-sm-3 col-lg-2 control-label text-left">Command</label>\n              <div class="col-sm-8 input-group">\n                <span class="input-group-addon">\n                  <pr-icon icon="\'terminal\'" class="mr-1" feather="true"></pr-icon>\n                </span>\n                <input\n                  type="text"\n                  class="form-control"\n                  placeholder="/bin/bash"\n                  ng-model="ctrl.state.command"\n                  name="console_command"\n                  uib-typeahead="command for command in ctrl.state.availableCommands | filter:$viewValue | limitTo:5"\n                  typeahead-min-length="0"\n                  auto-focus\n                />\n              </div>\n            </div>\n            \x3c!-- !command --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  style="margin: 0"\n                  ng-if="!ctrl.state.connected"\n                  ng-disabled="!ctrl.state.command || ctrl.state.connected"\n                  ng-click="ctrl.connectConsole()"\n                  button-spinner="ctrl.state.actionInProgress"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress">Connect</span>\n                  <span ng-show="ctrl.state.actionInProgress">Connection in progress...</span>\n                </button>\n                <button type="button" class="btn btn-primary btn-sm" style="margin: 0" ng-if="ctrl.state.connected" ng-click="ctrl.disconnect()"> Disconnect </button>\n              </div>\n            </div>\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <div id="terminal-container" class="terminal-container"></div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},1866:function(e){var t="app/kubernetes/views/applications/create/createApplication.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="!ctrl.state.isEdit"\n  title="\'Create application\'"\n  breadcrumbs="[\n    { label:\'Applications\', link:\'kubernetes.applications\' },\n     \'Create an application\'\n     ]"\n  reload="true"\n>\n</page-header>\n\n<page-header\n  ng-if="ctrl.state.isEdit"\n  title="\'Edit application\'"\n  breadcrumbs="[\n    { label:\'Namespaces\', link:\'kubernetes.resourcePools\' },\n    {\n      label:ctrl.application.ResourcePool,\n      link: \'kubernetes.resourcePools.resourcePool\',\n      linkParams:{ id: ctrl.application.ResourcePool }\n    },\n    { label:\'Applications\', link:\'kubernetes.applications\' },\n    {\n      label:ctrl.application.Name,\n      link: \'kubernetes.applications.application\',\n      linkParams:{ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool }\n    },\n     \'Edit\',\n     ]"\n  reload="true"\n>\n</page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n<div ng-if="ctrl.state.viewReady">\n  <div class="row kubernetes-create">\n    <div class="col-xs-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" name="kubernetesApplicationCreationForm" autocomplete="off">\n            <div ng-if="!ctrl.isExternalApplication()">\n              <git-form-info-panel\n                ng-if="ctrl.state.appType == ctrl.KubernetesDeploymentTypes.GIT"\n                class-name="text-muted"\n                url="ctrl.stack.GitConfig.URL"\n                config-file-path="ctrl.stack.GitConfig.ConfigFilePath"\n                additional-files="ctrl.stack.AdditionalFiles"\n                type="application"\n              ></git-form-info-panel>\n              <div class="col-sm-12 form-section-title" ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM"> Namespace </div>\n              \x3c!-- #region NAMESPACE --\x3e\n              <div class="form-group" ng-if="ctrl.formValues.ResourcePool">\n                <label for="resource-pool-selector" class="col-sm-3 col-lg-2 control-label text-left">Namespace</label>\n                <div class="col-sm-8">\n                  <select\n                    class="form-control"\n                    id="resource-pool-selector"\n                    ng-model="ctrl.formValues.ResourcePool"\n                    ng-options="resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools"\n                    ng-change="ctrl.onResourcePoolSelectionChange()"\n                    ng-disabled="ctrl.state.isEdit"\n                    data-cy="k8sAppCreate-nsSelect"\n                  ></select>\n                </div>\n              </div>\n              <div class="form-group" ng-if="ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded() && ctrl.formValues.ResourcePool">\n                <div class="col-sm-12 small text-danger">\n                  <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                  This namespace has exhausted its resource capacity and you will not be able to deploy the application. Contact your administrator to expand the capacity of the\n                  namespace.\n                </div>\n              </div>\n              <div class="form-group" ng-if="!ctrl.formValues.ResourcePool">\n                <div class="col-sm-12 small text-warning">\n                  <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                  You do not have access to any namespace. Contact your administrator to get access to a namespace.\n                </div>\n              </div>\n              \x3c!-- #endregion --\x3e\n\n              \x3c!-- #region Git repository --\x3e\n              <kubernetes-redeploy-app-git-form\n                ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.GIT"\n                stack="ctrl.stack"\n                namespace="ctrl.formValues.ResourcePool.Namespace.Name"\n              ></kubernetes-redeploy-app-git-form>\n              \x3c!-- #endregion --\x3e\n\n              \x3c!-- #region web editor --\x3e\n              <web-editor-form\n                ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.CONTENT"\n                value="ctrl.stackFileContent"\n                yml="true"\n                identifier="kubernetes-deploy-editor"\n                placeholder="# Define or paste the content of your manifest file here"\n                on-change="(ctrl.onChangeFileContent)"\n              >\n                <editor-description>\n                  <span class="text-muted small" ng-show="ctrl.stack.IsComposeFormat">\n                    <p class="vertical-center">\n                      <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                      <span>\n                        Portainer uses <a href="https://kompose.io/" target="_blank">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that\n                        not all the Compose format options are supported by Kompose at the moment.\n                      </span>\n                    </p>\n                    <p>\n                      You can get more information about Compose file format in the\n                      <a href="https://docs.docker.com/compose/compose-file/" target="_blank">official documentation</a>.\n                    </p>\n                  </span>\n                  <span class="text-muted small" ng-show="!ctrl.stack.IsComposeFormat">\n                    <p class="vertical-center">\n                      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                      This feature allows you to deploy any kind of Kubernetes resource in this environment (Deployment, Secret, ConfigMap...).\n                    </p>\n                    <p>\n                      You can get more information about Kubernetes file format in the\n                      <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank">official documentation</a>.\n                    </p>\n                  </span>\n                </editor-description>\n              </web-editor-form>\n              \x3c!-- #endregion --\x3e\n              <div ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM">\n                <div class="col-sm-12 form-section-title"> Application </div>\n                \x3c!-- #region NAME FIELD --\x3e\n                <div class="form-group">\n                  <label for="application_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n                  <div class="col-sm-8">\n                    <input\n                      type="text"\n                      class="form-control"\n                      name="application_name"\n                      ng-model="ctrl.formValues.Name"\n                      ng-change="ctrl.onChangeName()"\n                      placeholder="my-app"\n                      ng-pattern="/^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$/"\n                      auto-focus\n                      required\n                      ng-disabled="ctrl.state.isEdit"\n                      data-cy="k8sAppCreate-applicationName"\n                    />\n                  </div>\n                </div>\n                <div class="form-group" ng-show="kubernetesApplicationCreationForm.application_name.$invalid || ctrl.state.alreadyExists">\n                  <div class="small">\n                    <div class="col-sm-3 col-lg-2">&nbsp;</div>\n                    <div class="col-sm-8" ng-messages="kubernetesApplicationCreationForm.application_name.$error">\n                      <p class="text-warning vertical-center" ng-message="required"\n                        ><pr-icon class="vertical-center" icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p\n                      >\n                      <p class="text-warning vertical-center" ng-message="pattern">\n                        <pr-icon class="vertical-center" icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                        This field must consist of lower case alphanumeric characters or \'-\', contain at most 63 characters, start with an alphabetic character, and end with an\n                        alphanumeric character (e.g. \'my-name\', or \'abc-123\').\n                      </p>\n                    </div>\n                    <div class="col-sm-8" ng-if="ctrl.state.alreadyExists">\n                      <p class="text-warning vertical-center">\n                        <pr-icon class="vertical-center" icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                        An application with the same name already exists inside the selected namespace.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- #endregion --\x3e\n\n                \x3c!-- #region IMAGE FIELD --\x3e\n                <div class="form-group mb-0">\n                  <div class="col-sm-12">\n                    <por-image-registry\n                      model="ctrl.formValues.ImageModel"\n                      ng-if="ctrl.formValues.ResourcePool"\n                      auto-complete="false"\n                      label-class="col-sm-3 col-lg-2"\n                      input-class="col-sm-8"\n                      namespace="ctrl.formValues.ResourcePool.Namespace.Name"\n                      endpoint="ctrl.endpoint"\n                      is-admin="ctrl.isAdmin"\n                      check-rate-limits="true"\n                      set-validity="ctrl.setPullImageValidity"\n                    ></por-image-registry>\n                  </div>\n                </div>\n                \x3c!-- #end region IMAGE FIELD --\x3e\n\n                <div ng-if="ctrl.formValues.ResourcePool">\n                  <div class="col-sm-12 form-section-title"> Stack </div>\n                  \x3c!-- #region STACK --\x3e\n                  <div class="form-group">\n                    <div class="col-sm-12 small text-muted vertical-center">\n                      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                      Portainer can automatically bundle multiple applications inside a stack. Enter a name of a new stack or select an existing stack in the list. Leave empty to\n                      use the application name.\n                    </div>\n                  </div>\n\n                  <div class="form-group">\n                    <label for="stack_name" class="col-sm-3 col-lg-2 control-label text-left">Stack</label>\n                    <div class="col-sm-8">\n                      <input\n                        type="text"\n                        class="form-control"\n                        placeholder="myStack"\n                        ng-model="ctrl.formValues.StackName"\n                        name="stack_name"\n                        uib-typeahead="stack for stack in ctrl.stacks | filter:$viewValue | limitTo:7"\n                        typeahead-min-length="0"\n                        data-cy="k8sAppCreate-stackName"\n                      />\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  <div class="col-sm-12 form-section-title"> Environment </div>\n                  \x3c!-- #region ENVIRONMENT VARIABLES --\x3e\n                  <div class="form-group">\n                    <div class="col-sm-12 vertical-center pt-2.5">\n                      <label class="control-label text-left !pt-0">Environment variables</label>\n                      <span\n                        ng-if="ctrl.formValues.Containers.length <= 1"\n                        class="label label-default interactive vertical-center"\n                        style="margin-left: 10px"\n                        ng-click="ctrl.addEnvironmentVariable()"\n                        data-cy="k8sAppCreate-addEnvVarButton"\n                      >\n                        <pr-icon icon="\'plus\'" mode="\'alt\'" size="\'sm\'" feather="true"></pr-icon> add environment variable\n                      </span>\n                    </div>\n\n                    <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                      <div ng-repeat="envVar in ctrl.formValues.EnvironmentVariables | orderBy: \'NameIndex\'" style="margin-top: 2px">\n                        <div style="margin-top: 2px">\n                          <div class="col-sm-4 input-group input-group-sm">\n                            <div class="input-group col-sm-12 input-group-sm" ng-class="{ striked: envVar.NeedsDeletion }">\n                              <span class="input-group-addon required">name</span>\n                              <input\n                                type="text"\n                                name="environment_variable_name_{{ $index }}"\n                                class="form-control"\n                                ng-model="envVar.Name"\n                                ng-change="ctrl.onChangeEnvironmentName()"\n                                ng-pattern="/^[-._a-zA-Z][-._a-zA-Z0-9]*$/"\n                                placeholder="foo"\n                                ng-disabled="ctrl.formValues.Containers.length > 1"\n                                data-cy="k8sAppCreate-envVarName_{{ $index }}"\n                                required\n                              />\n                            </div>\n                          </div>\n\n                          <div class="col-sm-4 input-group input-group-sm" ng-class="{ striked: envVar.NeedsDeletion }">\n                            <span class="input-group-addon">value</span>\n                            <input\n                              type="text"\n                              name="environment_variable_value_{{ $index }}"\n                              class="form-control"\n                              ng-model="envVar.Value"\n                              placeholder="bar"\n                              ng-disabled="ctrl.formValues.Containers.length > 1"\n                              data-cy="k8sAppCreate-envVarValue_{{ $index }}"\n                            />\n                          </div>\n\n                          <div class="col-sm-2 input-group input-group-sm" ng-if="ctrl.formValues.Containers.length <= 1">\n                            <button\n                              ng-if="!envVar.NeedsDeletion"\n                              class="btn btn-md btn-dangerlight btn-only-icon !ml-0"\n                              type="button"\n                              ng-click="ctrl.removeEnvironmentVariable(envVar)"\n                            >\n                              <pr-icon icon="\'trash-2\'" size="\'md\'" feather="true"></pr-icon>\n                            </button>\n                            <button\n                              ng-if="envVar.NeedsDeletion"\n                              class="btn btn-sm btn-light btn-only-icon"\n                              type="button"\n                              ng-click="ctrl.restoreEnvironmentVariable(envVar)"\n                              data-cy="k8sAppCreate-removeEnvVarButton_{{ $index }}"\n                            >\n                              <pr-icon icon="\'rotate-cw\'" size="\'md\'" feather="true"></pr-icon>\n                            </button>\n                          </div>\n                        </div>\n                        <div\n                          ng-show="\n                            kubernetesApplicationCreationForm[\'environment_variable_name_\' + $index].$invalid ||\n                            ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined\n                          "\n                        >\n                          <div class="col-sm-8 input-group input-group-sm">\n                            <div\n                              class="small"\n                              style="margin-top: 5px"\n                              ng-show="\n                                kubernetesApplicationCreationForm[\'environment_variable_name_\' + $index].$invalid ||\n                                ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined\n                              "\n                            >\n                              <ng-messages for="kubernetesApplicationCreationForm[\'environment_variable_name_\' + $index].$error">\n                                <p ng-message="required" class="text-warning vertical-center"\n                                  ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true" class-="vertical-center"></pr-icon> Environment variable name is required.</p\n                                >\n                                <p ng-message="pattern" class="text-warning vertical-center"\n                                  ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field must consist of alphabetic characters, digits, \'_\', \'-\',\n                                  or \'.\', and must not start with a digit (e.g. \'my.env-name\', or \'MY_ENV.NAME\', or \'MyEnvName1\'.</p\n                                >\n                              </ng-messages>\n                              <p class="text-warning vertical-center" ng-if="ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined"\n                                ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This environment variable is already defined.</p\n                              >\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  <div class="col-sm-12 form-section-title"> Configurations </div>\n                  \x3c!-- #region CONFIGURATIONS --\x3e\n                  <div class="form-group">\n                    <div class="col-sm-12 vertical-center pt-2.5">\n                      <label class="control-label text-left !pt-0">Configurations</label>\n                      <span\n                        class="label label-default interactive vertical-center"\n                        style="margin-left: 10px"\n                        ng-click="ctrl.addConfiguration()"\n                        ng-if="ctrl.formValues.Containers.length <= 1"\n                        data-cy="k8sAppCreate-addConfigButton"\n                      >\n                        <pr-icon icon="\'plus\'" mode="\'alt\'" size="\'sm\'" feather="true"></pr-icon> add configuration\n                      </span>\n                    </div>\n                    <div class="col-sm-12 small text-muted vertical-center" style="margin-top: 15px" ng-if="ctrl.formValues.Configurations.length">\n                      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                      Portainer will automatically expose all the keys of a configuration as environment variables. This behavior can be overridden to filesystem mounts for each\n                      key via the override button.\n                    </div>\n                  </div>\n\n                  \x3c!-- config-element --\x3e\n                  <div class="form-group" ng-repeat="(index, config) in ctrl.formValues.Configurations">\n                    <label for="stack_name" class="col-sm-3 col-lg-2 control-label text-left">Configuration</label>\n                    <div class="col-sm-6">\n                      <select\n                        class="form-control"\n                        ng-model="config.SelectedConfiguration"\n                        ng-options="c as c.Name for c in ctrl.configurations track by c.Name"\n                        ng-change="ctrl.resetConfiguration(index)"\n                        ng-disabled="ctrl.formValues.Containers.length > 1"\n                        data-cy="k8sAppCreate-addConfigSelect_{{ $index }}"\n                      ></select>\n                    </div>\n                    <div class="col-sm-3">\n                      <button\n                        class="btn btn-md btn-light vertical-center !ml-0"\n                        type="button"\n                        ng-if="!config.Overriden"\n                        ng-click="ctrl.overrideConfiguration(index)"\n                        ng-disabled="!config.SelectedConfiguration || ctrl.formValues.Containers.length > 1"\n                        data-cy="k8sAppCreate-configOverrideButton_{{ $index }}"\n                      >\n                        <pr-icon icon="\'list\'" size="\'md\'" feather="true"></pr-icon> Override\n                      </button>\n                      <button\n                        class="btn btn-md btn-light vertical-center !ml-0"\n                        type="button"\n                        ng-if="config.Overriden"\n                        ng-click="ctrl.resetConfiguration(index)"\n                        ng-disabled="ctrl.formValues.Containers.length > 1"\n                        data-cy="k8sAppCreate-configAutoButton_{{ $index }}"\n                      >\n                        <pr-icon icon="\'rotate-cw\'" size="\'md\'" feather="true"></pr-icon> Auto\n                      </button>\n                      <button\n                        class="btn btn-md btn-dangerlight vertical-center btn-only-icon h-[34px]"\n                        type="button"\n                        ng-click="ctrl.removeConfiguration(index)"\n                        ng-if="ctrl.formValues.Containers.length <= 1"\n                        data-cy="k8sAppCreate-configRemoveButton"\n                      >\n                        <pr-icon icon="\'trash-2\'" size="\'md\'" feather="true"></pr-icon>\n                      </button>\n                    </div>\n                    \x3c!-- no-override --\x3e\n                    <div class="col-sm-12" style="margin-top: 10px" ng-if="config.SelectedConfiguration && !config.Overriden">\n                      <div class="col-sm-3 col-lg-2"></div>\n                      <div class="col-sm-6 small text-muted" style="padding-left: 5px">\n                        The following keys will be loaded from the <code>{{ config.SelectedConfiguration.Name }}</code> configuration as environment variables:\n                        <span ng-repeat="(key, _) in config.SelectedConfiguration.Data">\n                          <code>{{ key }}</code\n                          >{{ $last ? \'\' : \', \' }}\n                        </span>\n                      </div>\n                    </div>\n                    \x3c!-- !no-override --\x3e\n\n                    \x3c!-- has-override --\x3e\n                    <div class="col-sm-12 form-inline" style="margin-top: 10px" ng-if="config.Overriden">\n                      <div ng-repeat="(keyIndex, overridenKey) in config.OverridenKeys" style="margin-top: 2px">\n                        <div class="row">\n                          <div class="col-sm-3 col-lg-2 form-group !m-0"><span>&nbsp;</span></div>\n                          <div class="col-sm-3 form-group !mr-1" style="margin-left: -11px">\n                            <div class="input-group input-group-sm">\n                              <span class="input-group-addon">configuration key</span>\n                              <input type="text" class="form-control" ng-value="overridenKey.Key" disabled />\n                            </div>\n                          </div>\n\n                          <div class="col-sm-3 form-group !mr-1" ng-if="overridenKey.Type === ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM">\n                            <div class="input-group input-group-sm">\n                              <span class="input-group-addon required">path on disk</span>\n                              <input\n                                type="text"\n                                class="form-control"\n                                ng-model="overridenKey.Path"\n                                placeholder="/etc/myapp/conf.d"\n                                name="overriden_key_path_{{ index }}_{{ keyIndex }}"\n                                ng-disabled="ctrl.formValues.Containers.length > 1"\n                                required\n                                ng-change="ctrl.onChangeConfigurationPath()"\n                                data-cy="k8sAppCreate-pathOnDiskInput"\n                              />\n                            </div>\n                            <span\n                              ng-show="\n                                kubernetesApplicationCreationForm[\'overriden_key_path_\' + index + \'_\' + keyIndex].$invalid ||\n                                ctrl.state.duplicates.configurationPaths.refs[index + \'_\' + keyIndex] !== undefined\n                              "\n                            >\n                              <div class="input-group input-group-sm text-warning" ng-if="overridenKey.Type === ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM">\n                                <div\n                                  class="small"\n                                  style="margin-top: 5px"\n                                  ng-show="\n                                    kubernetesApplicationCreationForm[\'overriden_key_path_\' + index + \'_\' + keyIndex].$invalid ||\n                                    ctrl.state.duplicates.configurationPaths.refs[index + \'_\' + keyIndex] !== undefined\n                                  "\n                                >\n                                  <ng-messages for="kubernetesApplicationCreationForm[\'overriden_key_path_\' + index + \'_\' + keyIndex].$error">\n                                    <p class="vertical-center" ng-message="required"\n                                      ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Path is required.</p\n                                    >\n                                  </ng-messages>\n                                  <p class="vertical-center" ng-if="ctrl.state.duplicates.configurationPaths.refs[index + \'_\' + keyIndex] !== undefined"\n                                    ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This path is already used.</p\n                                  >\n                                </div>\n                              </div>\n                            </span>\n                          </div>\n\n                          <div class="col-sm-4 form-group">\n                            <div class="input-group btn-group btn-group-sm">\n                              <label class="btn btn-light" ng-model="overridenKey.Type" uib-btn-radio="ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT">\n                                <pr-icon icon="\'list\'" feather="true"></pr-icon> Environment\n                              </label>\n                              <label class="btn btn-light" ng-model="overridenKey.Type" uib-btn-radio="ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM">\n                                <pr-icon icon="\'file-text\'" feather="true"></pr-icon> Filesystem\n                              </label>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \x3c!-- !has-override --\x3e\n                  </div>\n                  \x3c!-- !config-element --\x3e\n                  \x3c!-- #endregion --\x3e\n\n                  <div class="col-sm-12 form-section-title"> Persisting data </div>\n                  \x3c!-- #region PERSISTED FOLDERS --\x3e\n                  <div class="form-group" ng-if="!ctrl.storageClassAvailable()">\n                    <div class="col-sm-12 small text-muted vertical-center">\n                      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                      No storage option is available to persist data, contact your administrator to enable a storage option.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.storageClassAvailable()">\n                    <div class="col-sm-12 vertical-center pt-2.5" style="margin-top: 5px" ng-if="!ctrl.allQuotasExhaustedAndNoVolumesAvailable()">\n                      <label class="control-label text-left !pt-0">Persisted folders</label>\n                      <span\n                        class="label label-default interactive vertical-center"\n                        style="margin-left: 10px"\n                        ng-click="ctrl.addPersistedFolder()"\n                        ng-if="ctrl.isAddPersistentFolderButtonShowed()"\n                        data-cy="k8sAppCreate-addPersistentFolderButton"\n                      >\n                        <pr-icon icon="\'plus\'" mode="\'alt\'" size="\'sm\'" feather="true"></pr-icon> add persisted folder\n                      </span>\n                    </div>\n\n                    <div class="col-sm-12" style="margin-top: 5px" ng-if="ctrl.allQuotasExhaustedAndNoVolumesAvailable()">\n                      <span class="small text-muted vertical-center">\n                        <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                        This namespace has exhausted its storage capacity. Contact your administrator to expand the capacity of the namespace.\n                      </span>\n                    </div>\n\n                    <div class="col-sm-12 form-inline" style="margin-top: 10px" ng-repeat="persistedFolder in ctrl.formValues.PersistedFolders">\n                      <div style="margin-top: 2px">\n                        <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: persistedFolder.NeedsDeletion }">\n                          <span class="input-group-addon required">path in container</span>\n                          <input\n                            type="text"\n                            class="form-control"\n                            name="persisted_folder_path_{{ $index }}"\n                            ng-model="persistedFolder.ContainerPath"\n                            ng-change="ctrl.onChangePersistedFolderPath()"\n                            ng-disabled="ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1"\n                            placeholder="/data"\n                            required\n                            data-cy="k8sAppCreate-containerPathInput_{{ $index }}"\n                          />\n                        </div>\n\n                        <div class="input-group col-sm-2 input-group-sm">\n                          <span\n                            class="btn-group btn-group-sm"\n                            ng-class="{ striked: persistedFolder.NeedsDeletion }"\n                            ng-if="\n                              !ctrl.isEditAndExistingPersistedFolder($index) &&\n                              ctrl.application.ApplicationType !== ctrl.ApplicationTypes.STATEFULSET &&\n                              ctrl.formValues.Containers.length <= 1\n                            "\n                          >\n                            <label\n                              class="btn btn-light"\n                              ng-model="persistedFolder.UseNewVolume"\n                              uib-btn-radio="true"\n                              ng-change="ctrl.useNewVolume($index)"\n                              ng-disabled="ctrl.isNewVolumeButtonDisabled($index)"\n                              >New volume</label\n                            >\n                            <label\n                              class="btn btn-light"\n                              ng-model="persistedFolder.UseNewVolume"\n                              uib-btn-radio="false"\n                              ng-change="ctrl.useExistingVolume($index)"\n                              ng-disabled="ctrl.isExistingVolumeButtonDisabled()"\n                              >Existing volume</label\n                            >\n                          </span>\n                        </div>\n\n                        <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: persistedFolder.NeedsDeletion }" ng-if="persistedFolder.UseNewVolume">\n                          <span class="input-group-addon required">requested size</span>\n                          <input\n                            type="number"\n                            class="form-control !rounded-none"\n                            name="persisted_folder_size_{{ $index }}"\n                            ng-model="persistedFolder.Size"\n                            placeholder="20"\n                            min="0"\n                            required\n                            ng-disabled="ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1"\n                            ng-change="ctrl.onChangeVolumeRequestedSize()"\n                          />\n                          <span class="input-group-addon !p-0 !rounded-r-[5px]">\n                            <select\n                              class="form-control w-12 !h-[28px] !border-none !rounded-r-[5px] text-xs"\n                              ng-model="persistedFolder.SizeUnit"\n                              ng-style="{ height: \'100%\', cursor: ctrl.isEditAndExistingPersistedFolder($index) ? \'not-allowed\' : \'auto\' }"\n                              ng-options="unit for unit in ctrl.state.availableSizeUnits"\n                              ng-disabled="ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1"\n                              ng-change="ctrl.onChangeVolumeRequestedSize()"\n                            ></select>\n                          </span>\n                        </div>\n\n                        <div class="input-group col-sm-2 input-group-sm" ng-class="{ striked: persistedFolder.NeedsDeletion }" ng-if="persistedFolder.UseNewVolume">\n                          <span class="input-group-addon">storage</span>\n                          <select\n                            ng-if="ctrl.hasMultipleStorageClassesAvailable()"\n                            class="form-control"\n                            ng-model="persistedFolder.StorageClass"\n                            ng-options="storageClass as storageClass.Name for storageClass in ctrl.storageClasses"\n                            ng-disabled="ctrl.state.isEdit || ctrl.formValues.Containers.length > 1"\n                            data-cy="k8sAppCreate-storageSelect_{{ $index }}"\n                          ></select>\n                          <input\n                            ng-if="!ctrl.hasMultipleStorageClassesAvailable()"\n                            type="text"\n                            class="form-control"\n                            disabled\n                            ng-model="persistedFolder.StorageClass.Name"\n                            data-cy="k8sAppCreate-storageClassNameInput_{{ $index }}"\n                          />\n                        </div>\n\n                        <div class="input-group col-sm-5 input-group-sm" ng-if="!persistedFolder.UseNewVolume" ng-class="{ striked: persistedFolder.NeedsDeletion }">\n                          <span class="input-group-addon">volume</span>\n                          <select\n                            class="form-control"\n                            name="existing_volumes_{{ $index }}"\n                            ng-model="ctrl.formValues.PersistedFolders[$index].ExistingVolume"\n                            ng-options="vol as vol.PersistentVolumeClaim.Name for vol in ctrl.availableVolumes"\n                            ng-change="ctrl.onChangeExistingVolumeSelection()"\n                            ng-disabled="ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1"\n                            required\n                          >\n                            <option selected disabled hidden value="">Select a volume</option>\n                          </select>\n                        </div>\n\n                        <div class="input-group col-sm-1 input-group-sm">\n                          <div ng-if="!ctrl.isEditAndStatefulSet() && !ctrl.state.useExistingVolume[$index] && ctrl.formValues.Containers.length <= 1">\n                            <button\n                              ng-if="!persistedFolder.NeedsDeletion"\n                              class="btn btn-sm btn-dangerlight !ml-0 h-[30px]"\n                              type="button"\n                              ng-click="ctrl.removePersistedFolder($index)"\n                              data-cy="k8sAppCreate-rmPersistentFolderButton"\n                            >\n                              <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                            </button>\n                            <button\n                              ng-if="persistedFolder.NeedsDeletion"\n                              class="btn btn-sm btn-primary"\n                              type="button"\n                              ng-click="ctrl.restorePersistedFolder($index)"\n                              data-cy="k8sAppCreate-restorePersistentButton"\n                            >\n                              <pr-icon icon="\'rotate-cw\'" feather="true"></pr-icon>\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div\n                        class="flex flex-row gap-x-1"\n                        ng-show="\n                          kubernetesApplicationCreationForm[\'persisted_folder_path_\' + $index].$invalid ||\n                          ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined ||\n                          kubernetesApplicationCreationForm[\'persisted_folder_size_\' + $index].$invalid ||\n                          ctrl.state.exceeded.persistedFolders.refs[$index] !== undefined ||\n                          kubernetesApplicationCreationForm[\'existing_volumes_\' + $index].$invalid ||\n                          ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined\n                        "\n                      >\n                        <div class="input-group col-sm-3 input-group-sm">\n                          <div\n                            class="small text-warning"\n                            style="margin-top: 5px"\n                            ng-show="\n                              kubernetesApplicationCreationForm[\'persisted_folder_path_\' + $index].$invalid || ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined\n                            "\n                          >\n                            <ng-messages for="kubernetesApplicationCreationForm[\'persisted_folder_path_\' + $index].$error">\n                              <p class="vertical-center" ng-message="required"><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Path is required.</p>\n                            </ng-messages>\n                            <p class="vertical-center" ng-if="ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined"\n                              ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This path is already defined.</p\n                            >\n                          </div>\n                        </div>\n\n                        <div class="input-group col-sm-offset-2 col-sm-3 input-group-sm">\n                          <div\n                            class="small text-warning"\n                            style="margin-top: 5px"\n                            ng-show="\n                              kubernetesApplicationCreationForm[\'persisted_folder_size_\' + $index].$invalid || ctrl.state.exceeded.persistedFolders.refs[$index] !== undefined\n                            "\n                          >\n                            <ng-messages for="kubernetesApplicationCreationForm[\'persisted_folder_size_\' + $index].$error">\n                              <p class="vertical-center" ng-message="required"><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Size is required.</p>\n                              <p class="vertical-center" ng-message="min"\n                                ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This value must be greater than zero.</p\n                              >\n                            </ng-messages>\n                            <p class="vertical-center" ng-if="ctrl.state.exceeded.persistedFolders.refs[$index] !== undefined">\n                              <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                              You can only request up to\n                              {{ ctrl.state.storages.availabilities[persistedFolder.StorageClass.Name] | kubernetesAppStorageRequestSizeHumanReadable }} for\n                              {{ persistedFolder.StorageClass.Name }}\n                            </p>\n                          </div>\n                          <div\n                            class="small text-warning"\n                            ng-show="kubernetesApplicationCreationForm[\'existing_volumes_\' + $index].$invalid || ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined"\n                          >\n                            <ng-messages for="kubernetesApplicationCreationForm[\'existing_volumes_\' + $index].$error">\n                              <p ng-message="required"><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Volume is required.</p>\n                            </ng-messages>\n                            <p ng-if="ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined"\n                              ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This volume is already used.</p\n                            >\n                          </div>\n                        </div>\n\n                        <div class="input-group col-sm-1 input-group-sm"> </div>\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  \x3c!-- #region DATA ACCESS POLICY --\x3e\n                  <div ng-if="ctrl.showDataAccessPolicySection()">\n                    <div class="form-group">\n                      <div class="col-sm-12">\n                        <label class="control-label text-left">Data access policy</label>\n                      </div>\n                    </div>\n\n                    <div class="form-group">\n                      <div class="col-sm-12 small text-muted"> Specify how the data will be used across instances. </div>\n                    </div>\n\n                    \x3c!-- access policy options --\x3e\n                    <div class="form-group">\n                      <div class="col-sm-12">\n                        <div class="boxselector_wrapper">\n                          <div\n                            ng-if="\n                              (!ctrl.state.isEdit && !ctrl.state.persistedFoldersUseExistingVolumes) ||\n                              (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED)\n                            "\n                          >\n                            <input\n                              type="radio"\n                              id="data_access_isolated"\n                              ng-value="ctrl.ApplicationDataAccessPolicies.ISOLATED"\n                              ng-model="ctrl.formValues.DataAccessPolicy"\n                              ng-change="ctrl.resetDeploymentType()"\n                            />\n                            <label for="data_access_isolated">\n                              <div class="boxselector_header">\n                                <pr-icon icon="\'svg-cubes\'"></pr-icon>\n                                Isolated\n                              </div>\n                              <p>Application will be deployed as a StatefulSet with each instantiating their own data</p>\n                            </label>\n                          </div>\n                          <div\n                            style="color: #767676"\n                            ng-if="\n                              (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED) || ctrl.state.persistedFoldersUseExistingVolumes\n                            "\n                          >\n                            <input type="radio" id="data_access_isolated" disabled />\n                            <label\n                              for="data_access_isolated"\n                              tooltip-append-to-body="true"\n                              tooltip-placement="bottom"\n                              tooltip-class="portainer-tooltip"\n                              uib-tooltip="Changing the data access policy is not allowed"\n                              style="cursor: pointer; border-color: #767676"\n                            >\n                              <div class="boxselector_header">\n                                <pr-icon icon="\'svg-cubes\'"></pr-icon>\n                                Isolated\n                              </div>\n                              <p>Application will be deployed as a StatefulSet with each instantiating their own data</p>\n                            </label>\n                          </div>\n                          <div ng-if="!ctrl.state.isEdit || (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED)">\n                            <input\n                              type="radio"\n                              id="data_access_shared"\n                              ng-value="ctrl.ApplicationDataAccessPolicies.SHARED"\n                              ng-model="ctrl.formValues.DataAccessPolicy"\n                              ng-change="ctrl.resetDeploymentType()"\n                            />\n                            <label for="data_access_shared">\n                              <div class="boxselector_header">\n                                <pr-icon icon="\'box\'" feather="true"></pr-icon>\n                                Shared\n                              </div>\n                              <p>Application will be deployed as a Deployment with a shared storage access</p>\n                            </label>\n                          </div>\n                          <div style="color: #767676" ng-if="ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED">\n                            <input type="radio" id="data_access_shared" disabled />\n                            <label\n                              for="data_access_shared"\n                              tooltip-append-to-body="true"\n                              tooltip-placement="bottom"\n                              tooltip-class="portainer-tooltip"\n                              uib-tooltip="Changing the data access policy is not allowed"\n                              style="cursor: pointer; border-color: #767676"\n                            >\n                              <div class="boxselector_header">\n                                <pr-icon icon="\'sliders\'" feather="true"></pr-icon>\n                                Shared\n                              </div>\n                              <p>Application will be deployed as a Deployment with a shared storage access</p>\n                            </label>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \x3c!-- !access policy options --\x3e\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  <div class="col-sm-12 form-section-title"> Resource reservations </div>\n                  \x3c!-- #region RESOURCE RESERVATIONS --\x3e\n                  <div class="form-group" ng-if="!ctrl.state.resourcePoolHasQuota">\n                    <div class="col-sm-12 small text-muted vertical-center">\n                      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                      Resource reservations are applied per instance of the application.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded()">\n                    <div class="col-sm-12 small text-muted vertical-center">\n                      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                      A resource quota is set on this namespace, you must specify resource reservations. Resource reservations are applied per instance of the application. Maximums\n                      are inherited from the namespace quota.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded()">\n                    <div class="col-sm-12 small text-muted vertical-center">\n                      <pr-icon icon="\'alert-circle\'" mode="\'danger\'" feather="true"></pr-icon>\n                      This namespace has exhausted its resource capacity and you will not be able to deploy the application. Contact your administrator to expand the capacity of\n                      the namespace.\n                    </div>\n                  </div>\n\n                  \x3c!-- memory-limit-input --\x3e\n                  <div\n                    class="form-group flex"\n                    ng-if="\n                      (!ctrl.state.resourcePoolHasQuota || (ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded())) && ctrl.formValues.Containers.length <= 1\n                    "\n                  >\n                    <label for="memory-limit" class="col-sm-3 col-lg-2 control-label text-left flex flex-row items-center">\n                      Memory limit (MB)\n                      <portainer-tooltip\n                        message="\'An instance of this application will reserve this amount of memory. If the instance memory usage exceeds the reservation, it might be subject to OOM.\'"\n                      >\n                      </portainer-tooltip>\n                    </label>\n                    <div class="col-sm-6">\n                      <slider model="ctrl.formValues.MemoryLimit" floor="ctrl.state.sliders.memory.min" ceil="ctrl.state.sliders.memory.max" step="128"></slider>\n                    </div>\n                    <div class="col-sm-2 vertical-center">\n                      <input\n                        name="memory_limit"\n                        ng-model="ctrl.formValues.MemoryLimit"\n                        type="number"\n                        min="{{ ctrl.state.sliders.memory.min }}"\n                        max="{{ ctrl.state.sliders.memory.max }}"\n                        class="form-control"\n                        id="memory-limit"\n                        required\n                        data-cy="k8sAppCreate-memoryLimit"\n                      />\n                    </div>\n                  </div>\n                  <div class="form-group" ng-show="kubernetesApplicationCreationForm.memory_limit.$invalid">\n                    <div class="col-sm-3 col-lg-2"></div>\n                    <div class="col-sm-8 small text-warning">\n                      <div ng-messages="kubernetesApplicationCreationForm.memory_limit.$error">\n                        <p class="vertical-center"\n                          ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Value must be between {{ ctrl.state.sliders.memory.min }} and\n                          {{ ctrl.state.sliders.memory.max }}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- !memory-limit-input --\x3e\n                  \x3c!-- cpu-limit-input --\x3e\n                  <div\n                    class="form-group flex"\n                    ng-if="\n                      (!ctrl.state.resourcePoolHasQuota || (ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded())) && ctrl.formValues.Containers.length <= 1\n                    "\n                  >\n                    <label for="cpu-limit" class="col-sm-3 col-lg-2 control-label text-left flex flex-row items-center">\n                      CPU limit\n                      <portainer-tooltip\n                        message="\'An instance of this application will reserve this amount of CPU. If the instance CPU usage exceeds the reservation, it might be subject to CPU throttling.\'"\n                      >\n                      </portainer-tooltip>\n                    </label>\n                    <div class="col-sm-8">\n                      <slider model="ctrl.formValues.CpuLimit" floor="ctrl.state.sliders.cpu.min" ceil="ctrl.state.sliders.cpu.max" step="0.10" precision="2"></slider>\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.nodeLimitsOverflow()">\n                    <div class="col-sm-3 col-lg-2"></div>\n                    <div class="col-sm-8 small text-muted">\n                      <pr-icon icon="\'alert-circle\'" mode="\'danger\'" feather="true"></pr-icon>\n                      These reservations would exceed the resources currently available in the cluster.\n                    </div>\n                  </div>\n                  \x3c!-- !cpu-limit-input --\x3e\n                  \x3c!-- #endregion --\x3e\n\n                  <div class="col-sm-12 form-section-title"> Deployment </div>\n                  \x3c!-- #region DEPLOYMENT --\x3e\n                  <div class="form-group">\n                    <div class="col-sm-12 small text-muted"> Select how you want to deploy your application inside the cluster. </div>\n                  </div>\n\n                  \x3c!-- deployment options --\x3e\n                  <div class="form-group">\n                    <div class="col-sm-12">\n                      <div class="boxselector_wrapper">\n                        <div>\n                          <input\n                            type="radio"\n                            id="deployment_replicated"\n                            ng-value="ctrl.ApplicationDeploymentTypes.REPLICATED"\n                            ng-model="ctrl.formValues.DeploymentType"\n                            data-cy="k8sAppCreate-replicatedDeploymentButton"\n                          />\n                          <label for="deployment_replicated">\n                            <div class="boxselector_header">\n                              <pr-icon icon="\'sliders\'" feather="true"></pr-icon>\n                              Replicated\n                            </div>\n                            <p>Run one or multiple instances of this container</p>\n                          </label>\n                        </div>\n                        <div ng-if="!ctrl.supportGlobalDeployment()">\n                          <input type="radio" id="deployment_global" disabled />\n                          <label\n                            for="deployment_global"\n                            tooltip-append-to-body="true"\n                            tooltip-placement="bottom"\n                            tooltip-class="portainer-tooltip"\n                            uib-tooltip="The storage or access policy used for persisted folders cannot be used with this option"\n                          >\n                            <div class="boxselector_header">\n                              <pr-icon icon="\'svg-cubes\'"></pr-icon>\n                              Global\n                            </div>\n                            <p>Application will be deployed as a DaemonSet with an instance on each node of the cluster</p>\n                          </label>\n                        </div>\n                        <div ng-if="ctrl.supportGlobalDeployment()">\n                          <input\n                            type="radio"\n                            id="deployment_global"\n                            ng-value="ctrl.ApplicationDeploymentTypes.GLOBAL"\n                            ng-model="ctrl.formValues.DeploymentType"\n                            ng-click="ctrl.unselectAutoScaler()"\n                            data-cy="k8sAppCreate-globalDeployButton"\n                          />\n                          <label for="deployment_global">\n                            <div class="boxselector_header">\n                              <pr-icon icon="\'svg-cubes\'"></pr-icon>\n                              Global\n                            </div>\n                            <p>Application will be deployed as a DaemonSet with an instance on each node of the sdfh</p>\n                          </label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- !deployment options --\x3e\n\n                  \x3c!-- replica count --\x3e\n                  <div class="form-group" ng-if="ctrl.formValues.DeploymentType === ctrl.ApplicationDeploymentTypes.REPLICATED">\n                    <label for="replica_count" class="col-sm-1 control-label text-left">Instance count</label>\n                    <div class="col-sm-2">\n                      <input\n                        type="number"\n                        name="replica_count"\n                        class="form-control"\n                        min="1"\n                        max="9999"\n                        placeholder="1"\n                        ng-model="ctrl.formValues.ReplicaCount"\n                        ng-disabled="!ctrl.supportScalableReplicaDeployment()"\n                        ng-change="ctrl.enforceReplicaCountMinimum()"\n                        required\n                        data-cy="k8sAppCreate-replicaCountInput"\n                      />\n                      <div class="help-block" ng-if="kubernetesApplicationCreationForm[\'replica_count\'].$invalid">\n                        <div class="small text-warning whitespace-nowrap">\n                          <ng-messages for="kubernetesApplicationCreationForm[\'replica_count\'].$error">\n                            <p class="vertical-center" ng-message="required"\n                              ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Instance count is required.</p\n                            >\n                            <p class="vertical-center" ng-message="min"\n                              ><pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Instance count must be greater than 0.</p\n                            >\n                          </ng-messages>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- !replica count --\x3e\n\n                  <div\n                    class="form-group"\n                    ng-if="!ctrl.resourceReservationsOverflow() && ctrl.formValues.ReplicaCount > 1 && (ctrl.formValues.CpuLimit !== 0 || ctrl.formValues.MemoryLimit !== 0)"\n                  >\n                    <div class="col-sm-12 small text-muted vertical-center">\n                      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                      <div>\n                        This application will reserve the following resources:\n                        <b>{{ ctrl.formValues.CpuLimit * ctrl.formValues.ReplicaCount | kubernetesApplicationCPUValue }} CPU</b> and\n                        <b>{{ ctrl.formValues.MemoryLimit * ctrl.formValues.ReplicaCount }} MB</b> of memory.\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.resourceReservationsOverflow()">\n                    <div class="col-sm-12 small text-muted vertical-center">\n                      <pr-icon icon="\'alert-circle\'" mode="\'danger\'" feather="true"></pr-icon>\n                      This application would exceed available resources. Please review resource reservations or the instance count.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.state.storages.quotaExceeded">\n                    <div class="col-sm-12 small text-muted vertical-center">\n                      <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                      This application would exceed available storage. Please review the persisted folders or the instance count.\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="!ctrl.supportScalableReplicaDeployment()">\n                    <div class="col-sm-12 small text-muted vertical-center">\n                      <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                      <div>\n                        The following storage option(s) do not support concurrent access from multiples instances: <code>{{ ctrl.getNonScalableStorage() }}</code\n                        >. You will not be able to scale that application.\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  \x3c!-- #region AUTO SCALING --\x3e\n                  <div class="col-sm-12 form-section-title" ng-if="ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL"> Auto-scaling </div>\n\n                  <div class="form-group" ng-if="ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && ctrl.state.useServerMetrics">\n                    <div class="col-sm-12">\n                      <div class="col-sm-3 col-lg-2 pl-0 pt-0">\n                        <label for="enable_auto_scaling" class="control-label text-left"> Enable auto scaling for this application </label>\n                      </div>\n                      <label class="switch ml-4 mt-1">\n                        <input\n                          type="checkbox"\n                          class="form-control"\n                          name="enable_auto_scaling"\n                          ng-model="ctrl.formValues.AutoScaler.IsUsed"\n                          data-cy="k8sAppCreate-autoScaleCheckbox"\n                        />\n                        <span class="slider round"></span>\n                      </label>\n                    </div>\n                  </div>\n\n                  <div class="form-group" ng-if="ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && !ctrl.state.useServerMetrics">\n                    <div class="col-sm-12 small text-muted">\n                      <p ng-if="!ctrl.isAdmin"> This feature is currently disabled and must be enabled by an administrator user. </p>\n                      <p ng-if="ctrl.isAdmin">\n                        Server metrics features must be enabled in the\n                        <a ui-sref="kubernetes.cluster.setup" class="ctrl.isAdmin">environment configuration view</a>.\n                      </p>\n                    </div>\n                  </div>\n\n                  <div class="form-inline" ng-if="ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && ctrl.formValues.AutoScaler.IsUsed">\n                    <div class="row">\n                      <div class="col-sm-4 pl-0">\n                        <label class="control-label text-left pb-2" for="auto_scaler_min">Minimum instances</label>\n                        <div class="input-group input-group-sm" style="width: 100%">\n                          <input\n                            type="number"\n                            class="form-control"\n                            name="auto_scaler_min"\n                            min="0"\n                            ng-max="ctrl.formValues.AutoScaler.MaxReplicas"\n                            ng-model="ctrl.formValues.AutoScaler.MinReplicas"\n                            data-cy="k8sAppCreate-autoScaleMin"\n                            required\n                          />\n                        </div>\n                        <span ng-show="kubernetesApplicationCreationForm[\'auto_scaler_min\'].$invalid">\n                          <div class="small text-warning" style="margin-top: 5px">\n                            <ng-messages for="kubernetesApplicationCreationForm[\'auto_scaler_min\'].$error">\n                              <p ng-message="required" class="vertical-center">\n                                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Minimum instances is required.\n                              </p>\n                              <p ng-message="min" class="vertical-center">\n                                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Minimum instances must be greater than 0.\n                              </p>\n                              <p ng-message="max" class="vertical-center">\n                                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Minimum instances must be smaller than maximum instances.\n                              </p>\n                            </ng-messages>\n                          </div>\n                        </span>\n                      </div>\n                      <div class="col-sm-4 pl-0">\n                        <label class="control-label text-left pb-2" for="auto_scaler_max">Maximum instances</label>\n                        <div class="input-group input-group-sm" style="width: 100%">\n                          <input\n                            type="number"\n                            class="form-control"\n                            name="auto_scaler_max"\n                            ng-min="ctrl.formValues.AutoScaler.MinReplicas"\n                            ng-model="ctrl.formValues.AutoScaler.MaxReplicas"\n                          />\n                        </div>\n                        <span ng-show="kubernetesApplicationCreationForm[\'auto_scaler_max\'].$invalid || ctrl.autoScalerOverflow()">\n                          <div class="small text-warning" style="margin-top: 5px">\n                            <ng-messages for="kubernetesApplicationCreationForm[\'auto_scaler_max\'].$error">\n                              <p ng-message="required" class="vertical-center">\n                                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Maximum instances is required.\n                              </p>\n                              <p ng-message="min" class="vertical-center">\n                                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Maximum instances must be greater than minimum instances.\n                              </p>\n                            </ng-messages>\n                          </div>\n                        </span>\n                      </div>\n                      <div class="col-sm-4 pl-0">\n                        <label class="control-label text-left pb-2" for="auto_scaler_cpu">\n                          Target CPU usage (<b>%</b>)\n                          <portainer-tooltip message="\'The autoscaler will ensure enough instances are running to maintain an average CPU usage across all instances.\'">\n                          </portainer-tooltip>\n                        </label>\n                        <div class="input-group input-group-sm" style="width: 100%">\n                          <input\n                            type="number"\n                            class="form-control"\n                            name="auto_scaler_cpu"\n                            ng-model="ctrl.formValues.AutoScaler.TargetCPUUtilization"\n                            min="1"\n                            max="100"\n                            required\n                            data-cy="k8sAppCreate-targetCPUInput"\n                          />\n                        </div>\n                        <span ng-show="kubernetesApplicationCreationForm[\'auto_scaler_cpu\'].$invalid">\n                          <div class="small text-warning" style="margin-top: 5px">\n                            <ng-messages for="kubernetesApplicationCreationForm[\'auto_scaler_cpu\'].$error">\n                              <p ng-message="required" class="vertical-center">\n                                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Target CPU usage is required.\n                              </p>\n                              <p ng-message="min" class="vertical-center">\n                                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Target CPU usage must be greater than 0.\n                              </p>\n                              <p ng-message="max" class="vertical-center">\n                                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Target CPU usage must be smaller than 100.\n                              </p>\n                            </ng-messages>\n                          </div>\n                        </span>\n                      </div>\n                    </div>\n\n                    <div class="form-group" ng-if="ctrl.autoScalerOverflow()" style="margin-bottom: 10px">\n                      <div class="col-sm-12 small text-danger">\n                        <pr-icon icon="\'alert-circle\'" mode="\'danger\'" feather="true"></pr-icon>\n                        This application would exceed available resources. Please review resource reservations or the maximum instance count of the auto-scaling policy.\n                      </div>\n                    </div>\n                  </div>\n                  \x3c!-- #endregion --\x3e\n\n                  <div ng-if="ctrl.formValues.DeploymentType === ctrl.ApplicationDeploymentTypes.REPLICATED">\n                    <div class="col-sm-12 form-section-title"> Placement preferences and constraints </div>\n\n                    \x3c!-- #region PLACEMENTS --\x3e\n                    <div class="form-group">\n                      <div class="col-sm-12 vertical-center pt-2.5">\n                        <label class="control-label text-left !pt-0">Placement rules</label>\n                        <span class="label label-default interactive vertical-center" style="margin-left: 10px" ng-click="ctrl.addPlacement()">\n                          <pr-icon icon="\'plus\'" mode="\'alt\'" size="\'sm\'" feather="true"></pr-icon> add rule\n                        </span>\n                      </div>\n\n                      <div class="col-sm-12 small text-muted vertical-center" ng-if="ctrl.formValues.Placements.length > 0" style="margin-top: 10px">\n                        <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                        <div> Deploy this application on nodes that respect <b>ALL</b> of the following placement rules. Placement rules are based on node labels. </div>\n                      </div>\n\n                      <div class="col-sm-12 form-inline" style="margin-top: 10px">\n                        <div ng-repeat-start="placement in ctrl.formValues.Placements" style="margin-top: 2px">\n                          <div class="col-sm-5 input-group" ng-class="{ striked: placement.NeedsDeletion }">\n                            <select\n                              class="form-control !rounded"\n                              ng-model="placement.Label"\n                              ng-options="label as (label.Key | kubernetesNodeLabelHumanReadbleText) for label in ctrl.nodesLabels"\n                              ng-change="ctrl.onChangePlacementLabel($index)"\n                              ng-disabled="ctrl.isEditAndNotNewPlacement($index)"\n                              data-cy="k8sAppCreate-placementLabel_{{ $index }}"\n                            >\n                            </select>\n                          </div>\n                          <div class="col-sm-5 input-group" ng-class="{ striked: placement.NeedsDeletion }">\n                            <select\n                              class="form-control !rounded"\n                              ng-model="placement.Value"\n                              ng-options="value for value in placement.Label.Values"\n                              ng-disabled="ctrl.isEditAndNotNewPlacement($index)"\n                              data-cy="k8sAppCreate-placementName_{{ $index }}"\n                            >\n                            </select>\n                          </div>\n\n                          <div class="col-sm-1 input-group">\n                            <button\n                              ng-if="!placement.NeedsDeletion"\n                              class="btn btn-md btn-dangerlight btn-only-icon !ml-0"\n                              type="button"\n                              ng-click="ctrl.removePlacement($index)"\n                              data-cy="k8sAppCreate-deletePlacementButton"\n                            >\n                              <pr-icon icon="\'trash-2\'" size="\'md\'" feather="true"></pr-icon>\n                            </button>\n                            <button\n                              ng-if="placement.NeedsDeletion"\n                              class="btn btn-sm btn-light btn-only-icon !ml-0"\n                              type="button"\n                              ng-click="ctrl.restorePlacement($index)"\n                              data-cy="k8sAppCreate-restorePlacementButton"\n                            >\n                              <pr-icon icon="\'rotate-cw\'" size="\'md\'" feather="true"></pr-icon>\n                            </button>\n                          </div>\n                        </div>\n                        <div ng-repeat-end ng-show="ctrl.state.duplicates.placements.refs[$index] !== undefined">\n                          <div class="col-sm-5 input-group">\n                            <div class="small text-warning" style="margin-top: 5px" ng-if="ctrl.state.duplicates.placements.refs[$index] !== undefined">\n                              <p class="vertical-center" ng-if="ctrl.state.duplicates.placements.refs[$index] !== undefined">\n                                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This label is already defined.\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div ng-if="ctrl.showPlacementPolicySection()">\n                      <div class="form-group">\n                        <div class="col-sm-12">\n                          <label class="control-label text-left">Placement policy</label>\n                        </div>\n                      </div>\n\n                      <div class="form-group">\n                        <div class="col-sm-12 small text-muted"> Specify the policy associated to the placement rules. </div>\n                      </div>\n\n                      \x3c!-- placement policy options --\x3e\n                      <div class="form-group" ng-if="ctrl.formValues.Placements.length">\n                        <div class="col-sm-12">\n                          <div class="boxselector_wrapper">\n                            <div>\n                              <input\n                                type="radio"\n                                id="placement_hard"\n                                ng-value="ctrl.ApplicationPlacementTypes.MANDATORY"\n                                ng-model="ctrl.formValues.PlacementType"\n                                data-cy="k8sAppCreate-mandatoryPlacementButton"\n                              />\n                              <label for="placement_hard">\n                                <div class="boxselector_header">\n                                  <pr-icon icon="\'sliders\'" feather="true"></pr-icon>\n                                  Mandatory\n                                </div>\n                                <p>Schedule this application <b>ONLY</b> on nodes that match <b>ALL</b> Rules</p>\n                              </label>\n                            </div>\n                            <div>\n                              <input\n                                type="radio"\n                                id="placement_soft"\n                                ng-value="ctrl.ApplicationPlacementTypes.PREFERRED"\n                                ng-model="ctrl.formValues.PlacementType"\n                                data-cy="k8sAppCreate-prefferedPlacementButton"\n                              />\n                              <label for="placement_soft">\n                                <div class="boxselector_header">\n                                  <pr-icon icon="\'align-justify\'" feather="true"></pr-icon>\n                                  Preferred\n                                </div>\n                                <p>Schedule this application on nodes that match the rules if possible</p>\n                              </label>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      \x3c!-- !placement policy options --\x3e\n                    </div>\n                    \x3c!-- #endregion --\x3e\n                  </div>\n\n                  \x3c!-- kubernetes services options --\x3e\n                  <kube-services-view\n                    form-values="ctrl.formValues"\n                    is-edit="ctrl.state.isEdit"\n                    namespaces="ctrl.allNamespaces"\n                    loadbalancer-enabled="ctrl.publishViaLoadBalancerEnabled()"\n                  ></kube-services-view>\n                  \x3c!-- kubernetes services options --\x3e\n\n                  \x3c!-- summary --\x3e\n                  <kubernetes-summary-view\n                    ng-if="!(!kubernetesApplicationCreationForm.$valid || ctrl.isDeployUpdateButtonDisabled() || !ctrl.state.pullImageValidity)"\n                    form-values="ctrl.formValues"\n                    old-form-values="ctrl.savedFormValues"\n                  ></kubernetes-summary-view>\n                </div>\n              </div>\n            </div>\n            <div ng-if="ctrl.isExternalApplication()">\n              <div class="col-sm-12 form-section-title" ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM"> Namespace </div>\n              \x3c!-- #region NAMESPACE --\x3e\n              <div class="form-group" ng-if="ctrl.formValues.ResourcePool">\n                <label for="resource-pool-selector" class="col-sm-1 control-label text-left">Namespace</label>\n                <div class="col-sm-11">\n                  <select\n                    class="form-control"\n                    id="resource-pool-selector"\n                    ng-model="ctrl.formValues.ResourcePool"\n                    ng-options="resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools"\n                    ng-change="ctrl.onResourcePoolSelectionChange()"\n                    ng-disabled="ctrl.state.isEdit"\n                    data-cy="k8sAppCreate-nsSelect"\n                  ></select>\n                </div>\n              </div>\n              <div class="form-group" ng-if="ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded() && ctrl.formValues.ResourcePool">\n                <div class="col-sm-12 small text-danger">\n                  <pr-icon icon="\'alert-circle\'" mode="\'danger\'" feather="true"></pr-icon>\n                  This namespace has exhausted its resource capacity and you will not be able to deploy the application. Contact your administrator to expand the capacity of the\n                  namespace.\n                </div>\n              </div>\n              <div class="form-group" ng-if="!ctrl.formValues.ResourcePool">\n                <div class="col-sm-12 small text-muted">\n                  <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  You do not have access to any namespace. Contact your administrator to get access to a namespace.\n                </div>\n              </div>\n              \x3c!-- kubernetes services options --\x3e\n              <kube-services-view\n                namespaces="ctrl.allNamespaces"\n                form-values="ctrl.formValues"\n                is-edit="ctrl.state.isEdit"\n                loadbalancer-enabled="ctrl.publishViaLoadBalancerEnabled()"\n              ></kube-services-view>\n              \x3c!-- kubernetes services options --\x3e\n            </div>\n\n            \x3c!-- kubernetes summary for external application --\x3e\n            <kubernetes-summary-view ng-if="ctrl.isExternalApplication()" form-values="ctrl.formValues" old-form-values="ctrl.savedFormValues"></kubernetes-summary-view>\n            \x3c!-- kubernetes summary for external application --\x3e\n            <div class="col-sm-12 form-section-title" ng-if="ctrl.state.appType !== ctrl.KubernetesDeploymentTypes.GIT"> Actions </div>\n            \x3c!-- #region ACTIONS --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM"\n                  type="button"\n                  class="btn btn-primary btn-sm !ml-0"\n                  ng-disabled="!kubernetesApplicationCreationForm.$valid || ctrl.isDeployUpdateButtonDisabled() || !ctrl.imageValidityIsValid() || ctrl.hasPortErrors()"\n                  ng-click="ctrl.deployApplication()"\n                  button-spinner="ctrl.state.actionInProgress"\n                  data-cy="k8sAppCreate-deployButton"\n                >\n                  <span ng-show="!ctrl.state.isEdit && !ctrl.state.actionInProgress">Deploy application</span>\n                  <span ng-show="!ctrl.state.isEdit && ctrl.state.actionInProgress">Deployment in progress...</span>\n                  <span ng-show="ctrl.state.isEdit && !ctrl.state.actionInProgress">Update application</span>\n                  <span ng-show="ctrl.state.isEdit && ctrl.state.actionInProgress">Update in progress...</span>\n                </button>\n                <button\n                  ng-if="ctrl.state.isEdit && !ctrl.state.actionInProgress && ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM"\n                  type="button"\n                  class="btn btn-sm btn-default"\n                  ui-sref="kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })"\n                  data-cy="k8sAppCreate-appCancelButton"\n                >\n                  Cancel\n                </button>\n                \x3c!-- #Web editor buttons --\x3e\n                <button\n                  class="btn btn-sm btn-primary"\n                  ng-click="ctrl.updateApplicationViaWebEditor()"\n                  ng-if="ctrl.state.appType === ctrl.KubernetesDeploymentTypes.CONTENT || ctrl.state.updateWebEditorInProgress"\n                  ng-disabled="!kubernetesApplicationCreationForm.$valid || !ctrl.state.isEditorDirty || ctrl.state.updateWebEditorInProgress"\n                  style="margin-top: 7px; margin-left: 0"\n                  button-spinner="ctrl.state.updateWebEditorInProgress"\n                >\n                  <span ng-show="!ctrl.state.updateWebEditorInProgress">Update the application</span>\n                  <span ng-show="ctrl.state.updateWebEditorInProgress">Update in progress...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},45758:function(e){var t="app/kubernetes/views/applications/edit/application.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Application details\'"\n  breadcrumbs="[\n    { label:\'Namespaces\', link:\'kubernetes.resourcePools\' },\n    {\n      label:ctrl.application.ResourcePool,\n      link: \'kubernetes.resourcePools.resourcePool\',\n      linkParams:{ id: ctrl.application.ResourcePool }\n    },\n    { label:\'Applications\', link:\'kubernetes.applications\' },\n    ctrl.application.Name\n     ]"\n  reload="true"\n>\n</page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row kubernetes-application">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading> <pr-icon icon="\'svg-laptopcode\'" class-name="\'mr-1\'"></pr-icon> Application </uib-tab-heading>\n              <div style="padding: 20px">\n                <table class="table">\n                  <tbody>\n                    <tr>\n                      <td>Name</td>\n                      <td data-cy="k8sAppDetail-appName">\n                        {{ ctrl.application.Name }}\n                        <span class="label label-primary image-tag label-margins" ng-if="!ctrl.isSystemNamespace() && ctrl.isExternalApplication()">external</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Stack</td>\n                      <td data-cy="k8sAppDetail-stackName">{{ ctrl.application.StackName || \'-\' }}</td>\n                    </tr>\n                    <tr>\n                      <td>Namespace</td>\n                      <td data-cy="k8sAppDetail-resourcePoolName">\n                        <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })">{{ ctrl.application.ResourcePool }}</a>\n                        <span style="margin-left: 5px" class="label label-info image-tag" ng-if="ctrl.isSystemNamespace()">system</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Application Type</td>\n                      <td data-cy="k8sAppDetail-appType">\n                        {{ ctrl.application.ApplicationType | kubernetesApplicationTypeText }}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Status</td>\n                      <td ng-if="ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD">\n                        <span ng-if="ctrl.application.DeploymentType === ctrl.KubernetesApplicationDeploymentTypes.REPLICATED" data-cy="k8sAppDetail-deployType">Replicated</span>\n                        <span ng-if="ctrl.application.DeploymentType === ctrl.KubernetesApplicationDeploymentTypes.GLOBAL" data-cy="k8sAppDetail-appType">Global</span>\n                        <code data-cy="k8sAppDetail-runningPods">{{ ctrl.application.RunningPodsCount }}</code> /\n                        <code data-cy="k8sAppDetail-totalPods">{{ ctrl.application.TotalPodsCount }}</code>\n                      </td>\n                      <td ng-if="ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD">\n                        {{ ctrl.application.Pods[0].Status }}\n                      </td>\n                    </tr>\n                    <tr ng-if="ctrl.application.Requests.Cpu || ctrl.application.Requests.Memory">\n                      <td>\n                        <div>Resource reservations</div>\n                        <div ng-if="ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD" class="text-muted small"> per instance </div>\n                      </td>\n                      <td>\n                        <div ng-if="ctrl.application.Requests.Cpu" data-cy="k8sAppDetail-cpuReservation"\n                          >CPU {{ ctrl.application.Requests.Cpu | kubernetesApplicationCPUValue }}</div\n                        >\n                        <div ng-if="ctrl.application.Requests.Memory" data-cy="k8sAppDetail-memoryReservation">Memory {{ ctrl.application.Requests.Memory | humansize }}</div>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Creation</td>\n                      <td>\n                        <span ng-if="ctrl.application.ApplicationOwner" class="mr-1 vertical-center" data-cy="k8sAppDetail-owner">\n                          <pr-icon icon="\'user\'" feather="true"></pr-icon> {{ ctrl.application.ApplicationOwner }}\n                        </span>\n                        <span class="vertical-center"> <pr-icon icon="\'clock\'" mode="\'alt\'" feather="true"></pr-icon> {{ ctrl.application.CreationDate | getisodate }} </span>\n                        <span ng-if="ctrl.application.ApplicationOwner" data-cy="k8sAppDetail-creationMethod" class="vertical-center">\n                          <pr-icon icon="\'clock\'" feather="true"></pr-icon> Deployed from {{ ctrl.state.appType }}\n                        </span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td colspan="2">\n                        <form class="form-horizontal" name="kubernetesApplicationNoteForm">\n                          <div class="form-group">\n                            <div class="col-sm-12 vertical-center">\n                              <pr-icon icon="\'edit\'" feather="true"></pr-icon> Note\n                              <button\n                                class="btn btn-xs btn-light vertical-center"\n                                ng-click="ctrl.state.expandedNote = !ctrl.state.expandedNote;"\n                                data-cy="k8sAppDetail-expandNoteButton"\n                                >{{ ctrl.state.expandedNote ? \'Collapse\' : \'Expand\' }}\n                                <pr-icon icon="\'chevron-up\'" feather="true" ng-if="ctrl.state.expandedNote"></pr-icon>\n                                <pr-icon icon="\'chevron-down\'" feather="true" ng-if="!ctrl.state.expandedNote"></pr-icon>\n                              </button>\n                            </div>\n                          </div>\n                          <div class="form-group" ng-if="ctrl.state.expandedNote">\n                            <div class="col-sm-12">\n                              <textarea\n                                class="form-control"\n                                name="application_note"\n                                id="application_note"\n                                ng-model="ctrl.formValues.Note"\n                                rows="5"\n                                placeholder="Enter a note about this application..."\n                              ></textarea>\n                            </div>\n                          </div>\n                          <div class="form-group" ng-if="ctrl.state.expandedNote">\n                            <div class="col-sm-12">\n                              <button\n                                class="btn btn-primary btn-sm"\n                                style="margin-left: 0px"\n                                type="button"\n                                ng-click="ctrl.updateApplication()"\n                                ng-disabled="ctrl.formValues.Note === ctrl.application.Note"\n                                data-cy="k8sAppDetail-saveNoteButton"\n                                >{{ ctrl.application.Note ? \'Update\' : \'Save\' }} note</button\n                              >\n                            </div>\n                          </div>\n                        </form>\n                      </td>\n                    </tr>\n                    \x3c!-- <tr>\n                      <td colspan="2">\n                        <form class="form-horizontal" name="KubernetesApplicationRollbackForm">\n                          <div class="form-group">\n                            <label for="resource-pool-selector" class="col-sm-2 col-lg-1 control-label text-left">Version</label>\n                            <div class="col-sm-2">\n                              <select class="form-control" id="resource-pool-selector" ng-model="ctrl.formValues.SelectedRevision"\n                                ng-options="revision as revision.revision for revision in ctrl.application.Revisions"></select>\n                            </div>\n                            <div class="col-sm-2">\n                              <button class="btn btn-primary btn-sm" style="margin-left: 0px;" type="button" ng-click="ctrl.rollbackApplication()"\n                                ng-disabled="ctrl.formValues.SelectedRevision.revision === ctrl.application.CurrentRevision.revision">Rollback</button>\n                            </div>\n                          </div>\n                        </form>\n                      </td>\n                    </tr> --\x3e\n                  </tbody>\n                </table>\n              </div>\n            </uib-tab>\n\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading>\n                <pr-icon icon="\'svg-compress\'"></pr-icon> Placement\n                <div ng-if="ctrl.state.placementWarning" class="vertical-center">\n                  <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  warning\n                </div>\n              </uib-tab-heading>\n              <div class="small text-muted vertical-center" style="padding: 20px">\n                <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                The placement component helps you understand whether or not this application can be deployed on a specific node.\n              </div>\n              <kubernetes-application-placements-datatable\n                title-text="Placement constraints/preferences"\n                title-icon="svg-compress"\n                dataset="ctrl.placements"\n                table-key="kubernetes.application.placements"\n                order-by="Name"\n                reverse-order="false"\n                loading="ctrl.state.dataLoading"\n                refresh-callback="ctrl.getApplication"\n              ></kubernetes-application-placements-datatable>\n            </uib-tab>\n\n            <uib-tab index="2" classes="btn-sm" select="ctrl.selectTab(2)">\n              <uib-tab-heading>\n                <pr-icon icon="\'svg-clockrewind\'"></pr-icon> Events\n                <div ng-if="ctrl.hasEventWarnings()" class="vertical-center">\n                  <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  {{ ctrl.state.eventWarningCount }} warning(s)\n                </div>\n              </uib-tab-heading>\n              <kubernetes-events-datatable\n                title-text="Events"\n                title-icon="svg-clockrewind"\n                dataset="ctrl.events"\n                table-key="kubernetes.application.events"\n                order-by="Date"\n                reverse-order="true"\n                loading="ctrl.state.eventsLoading"\n                refresh-callback="ctrl.getEvents"\n              ></kubernetes-events-datatable>\n            </uib-tab>\n\n            <uib-tab index="3" ng-if="ctrl.application.Yaml" select="ctrl.showEditor()" classes="btn-sm">\n              <uib-tab-heading> <pr-icon icon="\'code\'" feather="true"></pr-icon> YAML </uib-tab-heading>\n              <div class="px-5" ng-if="ctrl.state.showEditorTab">\n                <kubernetes-yaml-inspector key="application-yaml" data="ctrl.application.Yaml"></kubernetes-yaml-inspector>\n              </div>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <div ng-if="!ctrl.isSystemNamespace()" style="margin-bottom: 15px">\n            <button\n              ng-if="!ctrl.isExternalApplication()"\n              type="button"\n              class="btn btn-sm btn-light vertical-center"\n              ui-sref="kubernetes.applications.application.edit"\n              style="margin-left: 0"\n              data-cy="k8sAppDetail-editAppButton"\n            >\n              <pr-icon icon="\'code\'" class="mr-1" feather="true"></pr-icon>Edit this application\n            </button>\n            <button\n              authorization="K8sApplicationDetailsW"\n              ng-if="ctrl.isExternalApplication()"\n              type="button"\n              class="btn btn-sm btn-light"\n              ui-sref="kubernetes.applications.application.edit"\n              style="margin-left: 0"\n              data-cy="k8sAppDetail-editAppButton"\n            >\n              <pr-icon icon="\'code\'" class-name="\'mr-1\'" feather="true"></pr-icon>Edit External application\n            </button>\n            <button\n              ng-if="ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD"\n              type="button"\n              class="btn btn-sm btn-light"\n              style="margin-left: 0"\n              ng-click="ctrl.redeployApplication()"\n              data-cy="k8sAppDetail-redeployButton"\n            >\n              <pr-icon icon="\'rotate-cw\'" class="\'mr-1\'" feather="true"></pr-icon>Redeploy\n            </button>\n            <button\n              ng-if="!ctrl.isExternalApplication()"\n              type="button"\n              class="btn btn-sm btn-light"\n              style="margin-left: 0"\n              ng-click="ctrl.rollbackApplication()"\n              ng-disabled="ctrl.application.Revisions.length < 2 || ctrl.state.appType !== ctrl.KubernetesDeploymentTypes.APPLICATION_FORM"\n              data-cy="k8sAppDetail-rollbackButton"\n            >\n              <pr-icon icon="\'rotate-ccw\'" feather="true" class="mr-1"></pr-icon>Rollback to previous configuration\n            </button>\n            <a\n              ng-if="ctrl.isStack() && ctrl.stackFileContent"\n              class="btn btn-sm btn-primary space-left"\n              ui-sref="kubernetes.templates.custom.new({fileContent: ctrl.stackFileContent})"\n            >\n              <pr-icon icon="\'plus\'" class="mr-1" feather="true"></pr-icon>Create template from application\n            </a>\n          </div>\n\n          \x3c!-- ACCESSING APPLICATION --\x3e\n          <div class="text-muted" style="margin-bottom: 15px"> <pr-icon icon="\'external-link\'" class="mr-1" feather="true"></pr-icon>Accessing the application </div>\n\n          <div class="small text-muted" ng-if="ctrl.application.PublishedPorts.length === 0" style="margin-bottom: 15px">\n            <pr-icon icon="\'info\'" mode="\'primary\'" class="mr-1" feather="true"></pr-icon>This application is not exposing any port.\n          </div>\n\n          <div ng-if="ctrl.application.Services.length !== 0">\n            \x3c!-- Services notice --\x3e\n            <div>\n              <div class="small text-muted">\n                <p> <pr-icon icon="\'info\'" mode="\'primary\'" class="mr-1" feather="true"></pr-icon>This application is exposed through service(s) as below: </p>\n              </div>\n            </div>\n\n            \x3c!-- table --\x3e\n            <kubernetes-application-services-table\n              services="ctrl.application.Services"\n              namespaces="ctrl.allNamespaces"\n              application="ctrl.application"\n              public-url="ctrl.state.publicUrl"\n            ></kubernetes-application-services-table>\n            \x3c!-- table --\x3e\n\n            \x3c!-- table --\x3e\n            <kubernetes-application-ingress-table application="ctrl.application" public-url="ctrl.state.publicUrl"></kubernetes-application-ingress-table>\n            \x3c!-- table --\x3e\n          </div>\n          \x3c!-- !ACCESSING APPLICATION --\x3e\n          \x3c!-- AUTO SCALING --\x3e\n          <div class="text-muted" style="margin-bottom: 15px"> <pr-icon icon="\'move\'" class="mr-1" feather="true"></pr-icon>Auto-scaling </div>\n\n          <div class="small text-muted" ng-if="!ctrl.application.AutoScaler" style="margin-bottom: 15px">\n            <pr-icon icon="\'info\'" mode="\'primary\'" class="mr-1" feather="true"></pr-icon>\n            This application does not have an autoscaling policy defined.\n          </div>\n\n          <div ng-if="ctrl.application.AutoScaler">\n            <div style="margin-top: 15px; width: 50%">\n              <table class="table">\n                <tbody>\n                  <tr class="text-muted">\n                    <td style="width: 33%">Minimum instances</td>\n                    <td style="width: 33%">Maximum instances</td>\n                    <td style="width: 33%">\n                      Target CPU usage\n                      <portainer-tooltip message="\'The autoscaler will ensure enough instances are running to maintain an average CPU usage across all instances.\'">\n                      </portainer-tooltip>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td data-cy="k8sAppDetail-minReplicas">{{ ctrl.application.AutoScaler.MinReplicas }}</td>\n                    <td data-cy="k8sAppDetail-maxReplicas">{{ ctrl.application.AutoScaler.MaxReplicas }}</td>\n                    <td data-cy="k8sAppDetail-targetCPU">{{ ctrl.application.AutoScaler.TargetCPUUtilization }}%</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          \x3c!-- !AUTO SCALING --\x3e\n\n          \x3c!-- CONFIGURATIONS --\x3e\n          <div class="text-muted" style="margin-bottom: 15px; margin-top: 25px">\n            <pr-icon icon="\'file\'" class="mr-1" feather="true"></pr-icon>\n            Configuration\n          </div>\n\n          <div class="small text-muted" ng-if="!ctrl.application.Env.length > 0 && !ctrl.hasVolumeConfiguration()" style="margin-bottom: 15px">\n            <pr-icon icon="\'info\'" mode="\'primary\'" class="mr-1" feather="true"></pr-icon>\n            This application is not using any environment variable or configuration.\n          </div>\n\n          <table class="table" ng-if="ctrl.application.Env.length > 0">\n            <tr class="text-muted">\n              <td style="width: 25%">Container</td>\n              <td style="width: 25%">Environment variable</td>\n              <td style="width: 25%">Value</td>\n              <td style="width: 25%">Configuration</td>\n            </tr>\n            <tbody ng-repeat="container in ctrl.application.Containers" style="border-top: 0">\n              <tr ng-repeat="envvar in container.Env | orderBy: \'name\'">\n                <td data-cy="k8sAppDetail-containerName">\n                  {{ container.Name }}\n                  <span ng-if="container.Type === ctrl.KubernetesPodContainerTypes.INIT"\n                    ><pr-icon icon="\'fa-asterisk\'"></pr-icon> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\n                      href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/"\n                      target="_blank"\n                      >init container</a\n                    >)</span\n                  >\n                </td>\n                <td data-cy="k8sAppDetail-envVarName">{{ envvar.name }}</td>\n                <td>\n                  <span ng-if="envvar.value" data-cy="k8sAppDetail-envVarValue">{{ envvar.value }}</span>\n                  <span ng-if="envvar.valueFrom.configMapKeyRef" data-cy="k8sAppDetail-envVarValue"\n                    ><pr-icon icon="\'key\'" class="mr-1" feather="true"></pr-icon>{{ envvar.valueFrom.configMapKeyRef.key }}</span\n                  >\n                  <span ng-if="envvar.valueFrom.secretKeyRef" data-cy="k8sAppDetail-envVarValue"\n                    ><pr-icon icon="\'key\'" class="mr-1" feather="true"></pr-icon>{{ envvar.valueFrom.secretKeyRef.key }}</span\n                  >\n                  <span ng-if="envvar.valueFrom.fieldRef" data-cy="k8sAppDetail-envVarValue"\n                    ><pr-icon icon="\'fa-asterisk\'"></pr-icon> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\n                      href="https://kubernetes.io/docs/tasks/inject-data-application/downward-api-volume-expose-pod-information/#capabilities-of-the-downward-api"\n                      target="_blank"\n                      >downward API</a\n                    >)</span\n                  >\n                  <span ng-if="!envvar.value && !envvar.valueFrom.secretKeyRef && !envvar.valueFrom.configMapKeyRef && !envvar.valueFrom.fieldRef">-</span>\n                </td>\n                <td>\n                  <span ng-if="envvar.value || envvar.valueFrom.fieldRef || (!envvar.valueFrom.secretKeyRef && !envvar.valueFrom.configMapKeyRef)">-</span>\n                  <span ng-if="envvar.valueFrom.configMapKeyRef" data-cy="k8sAppDetail-configName"\n                    ><a ui-sref="kubernetes.configurations.configuration({ name: envvar.valueFrom.configMapKeyRef.name, namespace: ctrl.application.ResourcePool })"\n                      ><pr-icon icon="\'file\'" class="mr-1" feather="true"></pr-icon>{{ envvar.valueFrom.configMapKeyRef.name }}</a\n                    ></span\n                  >\n                  <span ng-if="envvar.valueFrom.secretKeyRef" data-cy="k8sAppDetail-configName"\n                    ><a ui-sref="kubernetes.configurations.configuration({ name: envvar.valueFrom.secretKeyRef.name, namespace: ctrl.application.ResourcePool })"\n                      ><pr-icon icon="\'file\'" class="mr-1" feather="true"></pr-icon>{{ envvar.valueFrom.secretKeyRef.name }}</a\n                    ></span\n                  >\n                </td>\n              </tr>\n            </tbody>\n          </table>\n\n          <table class="table" ng-if="ctrl.hasVolumeConfiguration()">\n            <tr class="text-muted">\n              <td style="width: 25%">Container</td>\n              <td style="width: 25%">Configuration path</td>\n              <td style="width: 25%">Value</td>\n              <td style="width: 25%">Configuration</td>\n            </tr>\n            <tbody ng-repeat="container in ctrl.application.Containers" style="border-top: 0">\n              <tr ng-repeat="volume in container.ConfigurationVolumes track by $index" style="border-top: 0">\n                <td>\n                  {{ container.Name }}\n                  <span ng-if="container.Type === ctrl.KubernetesPodContainerTypes.INIT"\n                    ><pr-icon icon="\'fa-asterisk\'"></pr-icon> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\n                      href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/"\n                      target="_blank"\n                      >init container</a\n                    >)</span\n                  >\n                </td>\n                <td>\n                  {{ volume.fileMountPath }}\n                </td>\n                <td>\n                  <pr-icon icon="\'plus\'" class="mr-1" feather="true" ng-if="volume.configurationKey"></pr-icon>\n                  {{ volume.configurationKey ? volume.configurationKey : \'-\' }}\n                </td>\n                <td>\n                  <a ui-sref="kubernetes.configurations.configuration({ name: volume.configurationName, namespace: ctrl.application.ResourcePool })"\n                    ><pr-icon icon="\'plus\'" class="mr-1" feather="true"></pr-icon>{{ volume.configurationName }}</a\n                  >\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          \x3c!-- !CONFIGURATIONS --\x3e\n\n          \x3c!-- DATA PERSISTENCE --\x3e\n          <div class="text-muted" style="margin-bottom: 15px; margin-top: 25px">\n            <pr-icon icon="\'database\'" class="mr-1" feather="true"></pr-icon>\n            Data persistence\n          </div>\n\n          <div class="small text-muted" ng-if="!ctrl.hasPersistedFolders()">\n            <pr-icon icon="\'info\'" mode="\'primary\'" class="mr-1" feather="true"></pr-icon>\n            This application has no persisted folders.\n          </div>\n\n          <div ng-if="ctrl.hasPersistedFolders()">\n            <div class="small text-muted vertical-center" style="margin-bottom: 15px">\n              Data access policy:\n              <pr-icon icon="ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyIcon" feather="true"></pr-icon>\n              {{ ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyText }}\n              <portainer-tooltip position="\'right\'" message="ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyTooltip"> </portainer-tooltip>\n            </div>\n\n            <table class="table" ng-if="ctrl.application.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED">\n              <tr class="text-muted">\n                <td style="width: 33%">Persisted folder</td>\n                <td style="width: 66%">Persistence</td>\n              </tr>\n              <tbody ng-repeat="container in ctrl.application.Containers" style="border-top: 0">\n                <tr ng-repeat="volume in container.PersistedFolders track by $index">\n                  <td data-cy="k8sAppDetail-volMountPath">\n                    {{ volume.MountPath }}\n                  </td>\n                  <td ng-if="volume.PersistentVolumeClaimName">\n                    <a\n                      class="hyperlink"\n                      ui-sref="kubernetes.volumes.volume({ name: volume.PersistentVolumeClaimName, namespace: ctrl.application.ResourcePool })"\n                      data-cy="k8sAppDetail-volClaimName"\n                      ><pr-icon icon="\'database\'" class="mr-1" feather="true"></pr-icon>{{ volume.PersistentVolumeClaimName }}</a\n                    >\n                  </td>\n                  <td ng-if="volume.HostPath"> {{ volume.HostPath }} on host filesystem </td>\n                </tr>\n              </tbody>\n            </table>\n\n            <table class="table" ng-if="ctrl.application.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED">\n              <thead>\n                <tr class="text-muted">\n                  <td style="width: 25%">Container name</td>\n                  <td style="width: 25%">Pod name</td>\n                  <td style="width: 25%">Persisted folder</td>\n                  <td style="width: 25%">Persistence</td>\n                </tr>\n              </thead>\n              <tbody ng-repeat="container in ctrl.allContainers track by $index" style="border-top: none">\n                <tr ng-repeat="volume in container.PersistedFolders track by $index">\n                  <td>\n                    {{ container.Name }}\n                    <span ng-if="container.Type === ctrl.KubernetesPodContainerTypes.INIT"\n                      ><pr-icon icon="\'fa-asterisk\'"></pr-icon> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\n                        href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/"\n                        target="_blank"\n                        >init container</a\n                      >)</span\n                    >\n                  </td>\n                  <td>{{ container.PodName }}</td>\n                  <td>\n                    {{ volume.MountPath }}\n                  </td>\n                  <td ng-if="volume.PersistentVolumeClaimName">\n                    <a\n                      class="hyperlink"\n                      ui-sref="kubernetes.volumes.volume({ name: volume.PersistentVolumeClaimName + \'-\' + container.PodName, namespace: ctrl.application.ResourcePool })"\n                    >\n                      <pr-icon icon="\'database\'" class="mr-1" feather="true"></pr-icon>{{ volume.PersistentVolumeClaimName + \'-\' + container.PodName }}</a\n                    >\n                  </td>\n                  <td ng-if="volume.HostPath"> {{ volume.HostPath }} on host filesystem </td>\n                </tr>\n              </tbody>\n            </table>\n            \x3c!-- !DATA PERSISTENCE --\x3e\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <kubernetes-containers-datatable\n        title-text="Application containers"\n        title-icon="server"\n        dataset="ctrl.allContainers"\n        table-key="kubernetes.application.containers"\n        is-pod="ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD"\n        order-by="{{ ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD ? \'Name\' : \'PodName\' }}"\n        use-server-metrics="ctrl.state.useServerMetrics"\n      >\n      </kubernetes-containers-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},70881:function(e){var t="app/kubernetes/views/applications/edit/components/ingress-table/ingress-table.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div style="margin-top: 15px" ng-if="$ctrl.hasIngress">\n  <table class="table">\n    <tbody>\n      <tr class="text-muted">\n        <td style="width: 15%">Ingress name</td>\n        <td style="width: 10%">Service name</td>\n        <td style="width: 10%">Host</td>\n        <td style="width: 10%">Port</td>\n        <td style="width: 10%">Path</td>\n        <td style="width: 15%">HTTP Route</td>\n      </tr>\n      <tr ng-repeat="ingress in $ctrl.applicationIngress">\n        <td\n          ><a authorization="K8sIngressesW" ui-sref="kubernetes.ingresses.edit({ name: ingress.IngressName, namespace: $ctrl.application.ResourcePool })">{{\n            ingress.IngressName\n          }}</a></td\n        >\n        <td>{{ ingress.ServiceName }}</td>\n        <td>{{ ingress.Host }}</td>\n        <td>{{ ingress.Port }}</td>\n        <td>{{ ingress.Path }}</td>\n        <td\n          ><a target="_blank" href="{{ ingress.Secure ? \'https\' : \'http\' }}://{{ ingress.Host }}{{ ingress.Path }}">{{ ingress.Host }}{{ ingress.Path }}</a></td\n        >\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),e.exports=t},83260:function(e){var t="app/kubernetes/views/applications/edit/components/placements-datatable/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <div class="toolBar">\n    <div class="toolBarTitle flex">\n      <div class="widget-icon space-right">\n        <pr-icon icon="$ctrl.titleIcon"></pr-icon>\n      </div>\n      <span class="vertical-center">\n        {{ $ctrl.titleText }}\n      </span>\n    </div>\n    <div class="searchBar">\n      <pr-icon icon="\'search\'" class="vertical-center" feather="true"></pr-icon>\n      <input\n        type="text"\n        class="searchInput ml-1"\n        ng-model="$ctrl.state.textFilter"\n        ng-change="$ctrl.onTextFilterChange()"\n        placeholder="Search for a node..."\n        auto-focus\n        ng-model-options="{ debounce: 300 }"\n      />\n    </div>\n    <div class="settings">\n      <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n        <span uib-dropdown-toggle><pr-icon icon="\'more-vertical\'" feather="true"></pr-icon></span>\n        <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n          <div class="tableMenu">\n            <div class="menuHeader"> Table settings </div>\n            <div class="menuContent">\n              <div>\n                <div class="md-checkbox">\n                  <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                  <label for="setting_auto_refresh">Auto refresh</label>\n                </div>\n                <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                  <label for="settings_refresh_rate"> Refresh rate </label>\n                  <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                    <option value="10">10s</option>\n                    <option value="30">30s</option>\n                    <option value="60">1min</option>\n                    <option value="120">2min</option>\n                    <option value="300">5min</option>\n                  </select>\n                  <span>\n                    <pr-icon id="refreshRateChange" style="display: none" icon="\'check\'" mode="\'success\'" feather="true"></pr-icon>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div>\n              <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n            </div>\n          </div>\n        </div>\n      </span>\n    </div>\n  </div>\n  <div class="table-responsive border-none">\n    <table class="table table-hover nowrap-cells">\n      <thead>\n        <tr>\n          <th style="width: 2%">\n            <a ng-click="$ctrl.expandAll()" ng-if="$ctrl.hasExpandableItems()">\n              <pr-icon icon="\'chevron-down\'" feather="true" ng-if="$ctrl.state.expandAll"></pr-icon>\n              <pr-icon icon="\'chevron-up\'" feather="true" ng-if="!$ctrl.state.expandAll"></pr-icon>\n            </a>\n          </th>\n          <th style="width: 98%">\n            <table-column-header\n              col-title="\'Node\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Node\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Node\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Node\')"\n            ></table-column-header>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n          ng-class="{ active: item.Checked, \'datatable-highlighted\': item.Highlighted }"\n          ng-click="$ctrl.expandItem(item, !item.Expanded)"\n          pagination-id="$ctrl.tableKey"\n        >\n          <td>\n            <a ng-if="$ctrl.itemCanExpand(item)">\n              <pr-icon icon="\'chevron-down\'" class="mr-1" feather="true" ng-if="item.Expanded"></pr-icon>\n              <pr-icon icon="\'chevron-up\'" class="mr-1" feather="true" ng-if="!item.Expanded"></pr-icon>\n            </a>\n            <pr-icon icon="\'check\'" ng-if="item.AcceptsApplication" mode="\'success\'" feather="true"></pr-icon>\n            <pr-icon icon="\'x\'" ng-if="!item.AcceptsApplication" mode="\'error\'" feather="true"></pr-icon>\n          </td>\n          <td>\n            {{ item.Name }}\n          </td>\n        </tr>\n        \x3c!-- ADMIN + UNMET TAINTS --\x3e\n        <tr\n          ng-if="$ctrl.isAdmin"\n          ng-show="item.Expanded"\n          ng-repeat="taint in item.UnmetTaints"\n          ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n        >\n          <td colspan="2">\n            This application is missing a toleration for the taint <code>{{ taint.Key }}{{ taint.Value ? \'=\' + taint.Value : \'\' }}:{{ taint.Effect }}</code>\n          </td>\n        </tr>\n        \x3c!-- !ADMIN + UNMET TAINTS --\x3e\n        \x3c!-- USER + UNMET TAINTS --\x3e\n        <tr\n          ng-if="!$ctrl.isAdmin && item.UnmetTaints.length"\n          ng-show="item.Expanded"\n          ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n        >\n          <td colspan="2"> Placement constraint not respected for that node. </td>\n        </tr>\n        \x3c!-- ! USER + UNMET TAINTS --\x3e\n        \x3c!-- ADMIN + UNMET NODE SELECTOR LABELS --\x3e\n        <tr\n          ng-if="$ctrl.isAdmin"\n          ng-show="item.Expanded"\n          ng-repeat="label in item.UnmatchedNodeSelectorLabels"\n          ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n        >\n          <td colspan="2">\n            This application can only be scheduled on a node where the label <code>{{ label.key }}</code> is set to <code>{{ label.value }}</code>\n          </td>\n        </tr>\n        \x3c!-- ! ADMIN + UNMET NODE SELECTOR LABELS --\x3e\n        \x3c!-- USER + UNMET NODE SELECTOR LABELS || UNMET NODE AFFINITIES --\x3e\n        <tr\n          ng-if="!$ctrl.isAdmin && (item.UnmatchedNodeSelectorLabels.length || item.UnmatchedNodeAffinities.length)"\n          ng-show="item.Expanded"\n          ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n        >\n          <td colspan="2"> Placement label not respected for that node. </td>\n        </tr>\n        \x3c!-- ! USER + UNMET NODE SELECTOR LABELS || UNMET NODE AFFINITIES --\x3e\n        \x3c!-- ADMIN + UNMET NODE AFFINITIES --\x3e\n        <tr\n          ng-if="$ctrl.isAdmin"\n          ng-show="item.Expanded && item.UnmatchedNodeAffinities.length"\n          ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n        >\n          <td colspan="2"> This application can only be scheduled on nodes respecting one of the following labels combination: </td>\n        </tr>\n        <tr\n          dir-paginate-end\n          ng-if="$ctrl.isAdmin"\n          ng-show="item.Expanded"\n          ng-repeat="aff in item.UnmatchedNodeAffinities"\n          ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n        >\n          <td></td>\n          <td>\n            <code ng-repeat-start="term in aff track by $index">\n              {{ term.key }} {{ term.operator }} {{ term.values | kubernetesApplicationConstraintNodeAffinityValue: term.operator }}\n            </code>\n            <span ng-repeat-end>{{ $last ? \'\' : \' + \' }}</span>\n          </td>\n        </tr>\n        \x3c!-- ! ADMIN + UNMET NODE AFFINITIES --\x3e\n        <tr ng-if="$ctrl.loading">\n          <td colspan="2" class="text-center text-muted">Loading...</td>\n        </tr>\n        <tr ng-if="!$ctrl.loading && (!$ctrl.dataset || $ctrl.state.filteredDataSet.length === 0)">\n          <td colspan="2" class="text-center text-muted">No node available.</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="footer" ng-if="$ctrl.dataset">\n    <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span style="margin-right: 5px"> Items per page </span>\n          <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},29262:function(e){var t="app/kubernetes/views/applications/edit/components/services-table/services-table.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- table --\x3e\n<div style="margin-top: 15px">\n  <table class="table">\n    <tbody>\n      <tr class="text-muted">\n        <td style="width: 15%">Service name</td>\n        <td style="width: 10%">Type</td>\n        <td style="width: 10%">Cluster IP</td>\n        <td style="width: 10%">External IP</td>\n        <td style="width: 10%">Container port</td>\n        <td style="width: 15%">Service port(s)</td>\n      </tr>\n      <tr ng-repeat="service in $ctrl.services">\n        <td>{{ service.metadata.name }}</td>\n        <td>{{ service.spec.type }}</td>\n        <td>{{ service.spec.clusterIP }}</td>\n        <td ng-show="service.spec.type === \'LoadBalancer\'">\n          <div ng-show="service.status.loadBalancer.ingress">\n            <a class="vertical-center hyperlink" target="_blank" ng-href="http://{{ service.status.loadBalancer.ingress[0].ip }}:{{ service.spec.ports[0].port }}">\n              <pr-icon icon="\'external-link\'" feather="true"></pr-icon>\n              <span data-cy="k8sAppDetail-containerPort"> Access </span>\n            </a>\n          </div>\n          <div ng-show="!service.status.loadBalancer.ingress">\n            {{ service.spec.externalIP ? service.spec.externalIP : \'pending...\' }}\n          </div>\n        </td>\n        <td ng-show="service.spec.type !== \'LoadBalancer\'">{{ service.spec.externalIP ? service.spec.externalIP : \'-\' }}</td>\n\n        <td data-cy="k8sAppDetail-containerPort">\n          <div ng-repeat="port in service.spec.ports">{{ port.targetPort }}</div>\n        </td>\n        <td ng-if="!ctrl.portHasIngressRules(port)">\n          <div ng-repeat="port in service.spec.ports">\n            <a\n              class="vertical-center hyperlink"\n              ng-if="$ctrl.publicUrl && port.nodePort"\n              ng-href="http://{{ $ctrl.publicUrl }}:{{ port.nodePort }}"\n              target="_blank"\n              style="margin-left: 5px"\n            >\n              <pr-icon icon="\'external-link\'" feather="true"></pr-icon>\n              <span data-cy="k8sAppDetail-containerPort">\n                {{ port.port }}\n              </span>\n              <span>{{ port.nodePort ? \':\' : \'\' }}</span>\n              <span data-cy="k8sAppDetail-nodePort"> {{ port.nodePort }}/{{ port.protocol }} </span>\n            </a>\n\n            <div ng-if="!$ctrl.publicUrl">\n              <span data-cy="k8sAppDetail-servicePort">\n                {{ port.port }}\n              </span>\n              <span>{{ port.nodePort ? \':\' : \'\' }}</span>\n              <span data-cy="k8sAppDetail-nodePort"> {{ port.nodePort }}/{{ port.protocol }} </span>\n            </div>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),e.exports=t},21152:function(e){var t="app/kubernetes/views/applications/helm/helm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="$ctrl.state.viewReady"\n  title="\'Helm details\'"\n  breadcrumbs="[{label:\'Applications\', link:\'kubernetes.applications\'}, $ctrl.state.params.name]"\n  reload="true"\n></page-header>\n\n<kubernetes-view-loading view-ready="$ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="$ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <div class="toolBar vertical-center !gap-x-5 !gap-y-1 p-5 flex-wrap w-full">\n          <div class="toolBarTitle vertical-center">\n            <div class="widget-icon space-right">\n              <pr-icon icon="\'svg-helm\'"></pr-icon>\n            </div>\n\n            Release\n          </div>\n        </div>\n        <div class="toolBarTitle text-muted small vertical-center px-5 !gap-0">\n          <pr-icon icon="\'info\'" feather="true" mode="\'primary\'" class-name="\'!mr-1\'" class="vertical-center"></pr-icon>\n          This is a first version for Helm charts, for more information see this&nbsp;\n          <a href="https://www.portainer.io/blog/portainer-now-with-helm-support" target="_blank" class="hyperlink">blog post</a>.\n        </div>\n        <rd-widget-body>\n          <table class="table">\n            <tbody class="release-table">\n              <tr>\n                <td class="vertical-center !pl-0">Name</td>\n                <td class="vertical-center !p-2">\n                  {{ $ctrl.state.release.name }}\n                </td>\n              </tr>\n              <tr>\n                <td class="vertical-center !pl-0">Chart</td>\n                <td class="vertical-center !p-2">\n                  {{ $ctrl.state.release.chart }}\n                </td>\n              </tr>\n              <tr>\n                <td class="vertical-center !pl-0">App version</td>\n                <td class="vertical-center !p-2">\n                  {{ $ctrl.state.release.app_version }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},28068:function(e){var t="app/kubernetes/views/applications/logs/logs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Application logs\'"\n  breadcrumbs="[\n    { label:\'Namespaces\', link:\'kubernetes.resourcePools\' },\n    {\n      label:ctrl.application.ResourcePool,\n      link: \'kubernetes.resourcePools.resourcePool\',\n      linkParams:{ id: ctrl.application.ResourcePool }\n    },\n    { label:\'Applications\', link:\'kubernetes.applications\' },\n    {\n      label:ctrl.application.Name,\n      link: \'kubernetes.applications.application\',\n      linkParams:{ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool }\n    },\n     \'Pods\',\n     ctrl.podName,\n     \'Containers\',\n     ctrl.containerName,\n     \'Logs\'\n     ]"\n  reload="true"\n>\n</page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal row" autocomplete="off">\n            <div class="col-sm-12 form-section-title"> Actions </div>\n            \x3c!-- auto-refresh --\x3e\n            <div class="form-group">\n              <label class="col-sm-3 col-lg-2 control-label text-left">\n                Auto-refresh\n                <portainer-tooltip message="\'Automatically refresh logs every 5 seconds\'"></portainer-tooltip>\n              </label>\n              <div class="col-sm-8">\n                <label class="switch"> <input type="checkbox" ng-model="ctrl.state.autoRefresh" ng-change="ctrl.updateAutoRefresh()" /><span class="slider round"></span> </label>\n              </div>\n            </div>\n            \x3c!-- !auto-refresh --\x3e\n            \x3c!-- search --\x3e\n            <div class="form-group">\n              <label for="logs_search" class="col-sm-3 col-lg-2 control-label text-left"> Search </label>\n              <div class="col-sm-8">\n                <input\n                  class="form-control"\n                  type="text"\n                  name="logs_search"\n                  ng-model="ctrl.state.search"\n                  ng-change="ctrl.state.selectedLines.length = 0;"\n                  placeholder="Filter..."\n                  auto-focus\n                />\n              </div>\n            </div>\n            \x3c!-- !search --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button class="btn btn-primary btn-sm !ml-0" type="button" ng-click="ctrl.downloadLogs()">\n                  <pr-icon icon="\'download\'" feather="true"></pr-icon> Download logs\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12 h-[max(400px,calc(100vh-380px))]">\n      <pre class="log_viewer widget">\n        <div ng-repeat="log in ctrl.state.filteredLogs = (ctrl.applicationLogs | filter:{ \'line\': ctrl.state.search }) track by $index" class="line" ng-if="log.line"><p class="inner_line"><span ng-repeat="span in log.spans track by $index" ng-style="{ \'color\': span.fgColor, \'background-color\': span.bgColor, \'font-weight\': span.fontWeight }">{{ span.text }}</span></p></div>\n        <div ng-if="ctrl.applicationLogs.length && !ctrl.state.filteredLogs.length" class="line"><p class="inner_line">No log line matching the \'{{ ctrl.state.search }}\' filter</p></div>\n        <div ng-if="ctrl.applicationLogs.length === 0" class="line"><p class="inner_line">No logs available</p></div></pre>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},96144:function(e){var t="app/kubernetes/views/applications/stats/stats.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Application stats\'"\n  breadcrumbs="[\n    { label:\'Namespaces\', link:\'kubernetes.resourcePools\' },\n    {\n      label:ctrl.state.transition.namespace,\n      link: \'kubernetes.resourcePools.resourcePool\',\n      linkParams:{ id: ctrl.state.transition.namespace }\n    },\n    { label:\'Applications\', link:\'kubernetes.applications\' },\n    {\n      label:ctrl.state.transition.applicationName,\n      link: \'kubernetes.applications.application\',\n      linkParams:{ name: ctrl.state.transition.applicationName, namespace: ctrl.state.transition.namespace }\n    },\n     \'Pods\',\n     ctrl.state.transition.podName,\n     \'Containers\',\n     ctrl.state.transition.containerName,\n     \'Stats\'\n     ]"\n  reload="true"\n>\n</page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <information-panel ng-if="!ctrl.state.getMetrics" title-text="Unable to retrieve container metrics">\n    <span class="small text-warning vertical-center">\n      <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n      Portainer was unable to retrieve any metrics associated to that container. Please contact your administrator to ensure that the Kubernetes metrics feature is properly\n      configured.\n    </span>\n  </information-panel>\n  <div class="row" ng-if="ctrl.state.getMetrics">\n    <div class="col-md-12">\n      <rd-widget>\n        <div class="toolBar pt-5 px-5">\n          <div class="toolBarTitle flex">\n            <pr-icon icon="\'info\'" feather="true" mode="\'primary\'" class-name="\'icon-nested-blue\'"></pr-icon>\n            <span class="vertical-center"> About statistics </span>\n          </div>\n        </div>\n        <rd-widget-body>\n          <form class="form-horizontal">\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-warning">\n                  This view displays real-time statistics about the container <b>{{ ctrl.state.transition.containerName | trimcontainername }}</b\n                  >.\n                </span>\n              </div>\n            </div>\n            <div class="form-group">\n              <label for="refreshRate" class="col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left"> Refresh rate </label>\n              <div class="col-sm-3 col-md-2">\n                <select id="refreshRate" ng-model="ctrl.state.refreshRate" ng-change="ctrl.changeUpdateRepeater()" class="form-control">\n                  <option value="30">30s</option>\n                  <option value="60">60s</option>\n                </select>\n              </div>\n              <span>\n                <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n              </span>\n            </div>\n            <div class="form-group" ng-if="ctrl.state.networkStatsUnavailable">\n              <div class="col-sm-12">\n                <span class="small text-muted">\n                  <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                  Network stats are unavailable for this container.\n                </span>\n              </div>\n            </div>\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.state.getMetrics">\n    <div class="col-lg-6 col-md-12 col-sm-12">\n      <rd-widget>\n        <div class="toolBar pt-5 px-5">\n          <div class="toolBarTitle flex">\n            <pr-icon icon="\'svg-memory\'" mode="\'primary\'" class-name="\'icon-nested-blue\'"></pr-icon>\n            <span class="vertical-center"> Memory usage </span>\n          </div>\n        </div>\n        <rd-widget-body>\n          <div class="chart-container" style="position: relative">\n            <canvas id="memoryChart" width="770" height="300"></canvas>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n    <div class="col-lg-6 col-md-12 col-sm-12" ng-if="!ctrl.state.networkStatsUnavailable">\n      <rd-widget>\n        <div class="toolBar pt-5 px-5">\n          <div class="toolBarTitle flex">\n            <pr-icon icon="\'cpu\'" feather="true" mode="\'primary\'" class-name="\'icon-nested-blue\'"></pr-icon>\n            <span class="vertical-center"> CPU usage </span>\n          </div>\n        </div>\n        <rd-widget-body>\n          <div class="chart-container" style="position: relative">\n            <canvas id="cpuChart" width="770" height="300"></canvas>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},21284:function(e){var t="app/kubernetes/views/cluster/cluster.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header ng-if="ctrl.state.viewReady" title="\'Cluster\'" breadcrumbs="[\'Cluster information\']" reload="true"></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row" ng-if="ctrl.isAdmin">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          \x3c!-- resource-reservation --\x3e\n          <form class="form-horizontal" ng-if="ctrl.resourceReservation">\n            <kubernetes-resource-reservation\n              description="Resource reservation represents the total amount of resource assigned to all the applications inside the cluster."\n              cpu-reservation="ctrl.resourceReservation.CPU"\n              cpu-limit="ctrl.CPULimit"\n              memory-reservation="ctrl.resourceReservation.Memory"\n              memory-limit="ctrl.MemoryLimit"\n              display-usage="ctrl.hasResourceUsageAccess()"\n              cpu-usage="ctrl.resourceUsage.CPU"\n              memory-usage="ctrl.resourceUsage.Memory"\n            >\n            </kubernetes-resource-reservation>\n          </form>\n          \x3c!-- !resource-reservation --\x3e\n\n          \x3c!-- leader-status --\x3e\n          <div ng-if="ctrl.systemEndpoints.length > 0">\n            <div class="col-sm-12 form-section-title"> Leader status </div>\n\n            <table class="table">\n              <tbody>\n                <tr class="text-muted">\n                  <td style="border-top: none; width: 25%">Component</td>\n                  <td style="border-top: none; width: 25%">Leader node</td>\n                </tr>\n                <tr ng-repeat="ep in ctrl.systemEndpoints">\n                  <td style="width: 25%">\n                    {{ ep.Name }}\n                  </td>\n                  <td style="width: 25%">\n                    {{ ep.HolderIdentity }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          \x3c!-- !leader-status --\x3e\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <kubernetes-nodes-datatable\n        title-text="Nodes"\n        title-icon="hard-drive"\n        dataset="ctrl.nodes"\n        table-key="kubernetes.nodes"\n        order-by="Name"\n        refresh-callback="ctrl.getNodes"\n        is-admin="ctrl.isAdmin"\n        use-server-metrics="ctrl.state.useServerMetrics"\n      ></kubernetes-nodes-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},78928:function(e){var t="app/kubernetes/views/cluster/node/node.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header ng-if="ctrl.state.viewReady" title="\'Node details\'" breadcrumbs="[{ label:\'Cluster\', link:\'kubernetes.cluster\' }, ctrl.node.Name]" reload="true"></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading class="flex-center gap-1"> <pr-icon icon="\'hard-drive\'" size="\'sm\'" feather="true"></pr-icon> Node </uib-tab-heading>\n\n              <form class="form-horizontal" name="kubernetesNodeUpdateForm" style="padding: 20px" autocomplete="off">\n                <table class="table">\n                  <tbody ng-if="ctrl.node">\n                    <tr>\n                      <td>Hostname</td>\n                      <td>\n                        {{ ctrl.node.Name }}\n                        <span class="label label-primary image-tag" style="margin-left: 5px" ng-if="ctrl.node.Api">api</span>\n                      </td>\n                    </tr>\n                    <tr ng-if="ctrl.node.Api">\n                      <td> Kubernetes API </td>\n                      <td>{{ ctrl.node.IPAddress }}:{{ ctrl.node.Port }}</td>\n                    </tr>\n                    <tr>\n                      <td>Role</td>\n                      <td>{{ ctrl.node.Role }}</td>\n                    </tr>\n                    <tr>\n                      <td>Kubelet version</td>\n                      <td>{{ ctrl.node.Version }}</td>\n                    </tr>\n                    <tr>\n                      <td>Creation date</td>\n                      <td>{{ ctrl.node.CreationDate | getisodate }}</td>\n                    </tr>\n                    <tr>\n                      <td>Status</td>\n                      <td>\n                        <span class="label label-{{ ctrl.node.Status | kubernetesNodeStatusColor }}">\n                          {{ ctrl.node.Status }}\n                        </span>\n                        <span ng-if="ctrl.node.Status == \'Warning\'" class="text text-warning">\n                          {{ ctrl.node.Conditions | kubernetesNodeConditionsMessage }}\n                        </span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class="col-xs-3"> Availability </td>\n                      <td class="col-xs-9">\n                        <div class="flex flex-col">\n                          <select class="form-control" name="availability" style="display: inline-block; width: 16rem" ng-model="ctrl.formValues.Availability">\n                            <option>{{ ctrl.availabilities.ACTIVE }}</option>\n                            <option>{{ ctrl.availabilities.PAUSE }}</option>\n                            <option>{{ ctrl.availabilities.DRAIN }}</option>\n                          </select>\n                          <div class="small text-warning vertical-center" ng-if="ctrl.state.isDrainOperation && ctrl.formValues.Availability === ctrl.availabilities.DRAIN">\n                            <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                            Cannot use this action while another node is currently being drained.\n                          </div>\n                          <div class="small text-warning vertical-center" ng-if="ctrl.state.isContainPortainer && ctrl.formValues.Availability === ctrl.availabilities.DRAIN">\n                            <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                            Cannot drain a node where this Portainer instance is running.\n                          </div>\n                        </div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n\n                <div style="padding: 8px">\n                  <kubernetes-resource-reservation\n                    ng-if="ctrl.resourceReservation"\n                    cpu-reservation="ctrl.resourceReservation.CPU"\n                    cpu-usage="ctrl.resourceUsage.CPU"\n                    cpu-limit="ctrl.node.CPU"\n                    memory-reservation="ctrl.resourceReservation.Memory"\n                    memory-usage="ctrl.resourceUsage.Memory"\n                    memory-limit="ctrl.memoryLimit"\n                    description="Resource reservation represents the total amount of resource assigned to all the applications running on this node."\n                    display-usage="ctrl.hasResourceUsageAccess()"\n                  >\n                  </kubernetes-resource-reservation>\n                </div>\n\n                <div style="padding: 8px">\n                  \x3c!-- #region labels --\x3e\n                  <div class="col-sm-12 form-section-title"> Labels </div>\n\n                  <div style="margin-bottom: 10px">\n                    <span class="label label-default interactive vertical-center" ng-click="ctrl.addLabel()"> <pr-icon icon="\'plus\'" feather="true"></pr-icon> add label </span>\n                  </div>\n\n                  <div class="form-inline py-1" ng-repeat="label in ctrl.formValues.Labels">\n                    <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: label.NeedsDeletion }">\n                      <span class="input-group-addon">Key</span>\n                      <input\n                        type="text"\n                        class="form-control"\n                        name="label_key_{{ $index }}"\n                        ng-model="label.Key"\n                        ng-change="ctrl.onChangeLabelKey($index)"\n                        ng-disabled="ctrl.isSystemLabel($index)"\n                        required\n                      />\n                    </div>\n                    <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: label.NeedsDeletion }">\n                      <span class="input-group-addon">Value</span>\n                      <input\n                        type="text"\n                        class="form-control"\n                        name="label_value_{{ $index }}"\n                        ng-change="ctrl.onChangeLabel($index)"\n                        ng-model="label.Value"\n                        ng-disabled="ctrl.isSystemLabel($index)"\n                      />\n                    </div>\n                    <div class="input-group col-sm-1 input-group-sm">\n                      <div style="white-space: nowrap">\n                        <button\n                          ng-if="!ctrl.isSystemLabel($index) && !label.NeedsDeletion"\n                          class="btn btn-sm btn-dangerlight btn-only-icon"\n                          type="button"\n                          ng-click="ctrl.removeLabel($index)"\n                        >\n                          <pr-icon icon="\'x\'" feather="true" mode="\'error\'" size="\'sm\'"></pr-icon>\n                        </button>\n                        <button ng-if="!ctrl.isSystemLabel($index) && label.NeedsDeletion" class="btn btn-sm btn-secondary" type="button" ng-click="ctrl.restoreLabel($index)">\n                          Restore\n                        </button>\n                        <span class="label label-warning label-sm image-tag" ng-if="label.IsUsed && !ctrl.isSystemLabel($index)" style="margin-left: 5px">used</span>\n                        <span class="label label-info image-tag" ng-if="ctrl.isSystemLabel($index)" style="margin-left: 5px">system</span>\n                      </div>\n                    </div>\n                    <div class="small mt-2 text-warning" ng-show="kubernetesNodeUpdateForm[\'label_key_\' + $index].$invalid || ctrl.state.duplicateLabelKeys[$index] !== undefined">\n                      <ng-messages for="kubernetesNodeUpdateForm[\'label_key_\' + $index].$error">\n                        <p ng-message="required" class="vertical-center"> <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> Label key is required. </p>\n                      </ng-messages>\n                      <p ng-if="ctrl.state.duplicateLabelKeys[$index] !== undefined" class="vertical-center">\n                        <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> This label key is already defined.\n                      </p>\n                    </div>\n                  </div>\n\n                  \x3c!-- #endregion --\x3e\n\n                  \x3c!-- #region taints --\x3e\n\n                  <div class="col-sm-12 form-section-title" style="margin-top: 20px"> Taints </div>\n\n                  <div style="margin-bottom: 10px">\n                    <span class="label label-default interactive vertical-center" ng-click="ctrl.addTaint()"> <pr-icon icon="\'plus\'" feather="true"></pr-icon> add taint </span>\n                  </div>\n\n                  <div class="form-inline" ng-repeat="taint in ctrl.formValues.Taints" style="padding: 3px 0 3px 0">\n                    <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: taint.NeedsDeletion }">\n                      <span class="input-group-addon">Key</span>\n                      <input type="text" class="form-control" name="taint_key_{{ $index }}" ng-model="taint.Key" ng-change="ctrl.onChangeTaintKey($index)" required />\n                    </div>\n                    <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: taint.NeedsDeletion }">\n                      <span class="input-group-addon">Value</span>\n                      <input type="text" class="form-control" name="taint_value_{{ $index }}" ng-model="taint.Value" ng-change="ctrl.onChangeTaint($index)" />\n                    </div>\n                    <div class="input-group col-sm-3 input-group-sm" ng-class="{ striked: taint.NeedsDeletion }">\n                      <span class="input-group-addon">Effect</span>\n                      <select\n                        id="taint_effect_{{ $index }}"\n                        name="taint_effect_{{ $index }}"\n                        class="form-control"\n                        ng-model="taint.Effect"\n                        ng-change="ctrl.onChangeTaint($index)"\n                        ;\n                        ng-options="effect as effect for effect in ctrl.availableEffects"\n                      ></select>\n                    </div>\n                    <div class="input-group col-sm-1 input-group-sm">\n                      <div>\n                        <button ng-if="!taint.NeedsDeletion" class="btn btn-sm btn-dangerlight btn-only-icon" type="button" ng-click="ctrl.removeTaint($index)">\n                          <pr-icon icon="\'x\'" feather="true" mode="\'error\'" size="\'sm\'"></pr-icon>\n                        </button>\n                        <button ng-if="taint.NeedsDeletion" class="btn btn-sm btn-secondary" type="button" ng-click="ctrl.restoreTaint($index)"> Restore </button>\n                      </div>\n                    </div>\n                    <div\n                      class="small text-warning"\n                      style="margin-top: 5px"\n                      ng-show="kubernetesNodeUpdateForm[\'taint_key_\' + $index].$invalid || ctrl.state.duplicateTaintKeys[$index] !== undefined"\n                    >\n                      <ng-messages for="kubernetesNodeUpdateForm[\'taint_key_\' + $index].$error">\n                        <p ng-message="required" class="vertical-center"> <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> Taint key is required. </p>\n                      </ng-messages>\n                      <p ng-if="ctrl.state.duplicateTaintKeys[$index] !== undefined">\n                        <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> This taint key is already defined.\n                      </p>\n                    </div>\n                  </div>\n\n                  \x3c!-- #endregion --\x3e\n\n                  \x3c!-- #region actions --\x3e\n\n                  <div class="col-sm-12 form-section-title" style="margin-top: 20px"> Actions </div>\n\n                  <div class="form-group">\n                    <div class="col-sm-12">\n                      <button\n                        class="btn btn-primary btn-sm"\n                        type="button"\n                        style="margin-left: 0"\n                        ng-click="ctrl.updateNode()"\n                        ng-disabled="kubernetesNodeUpdateForm.$invalid || !ctrl.isFormValid()"\n                      >\n                        Update node\n                      </button>\n                      <button class="btn btn-default btn-sm" type="button" ng-click="ctrl.resetFormValues()" ng-disabled="ctrl.isNoChangesMade()"> Cancel </button>\n                    </div>\n                  </div>\n\n                  \x3c!-- #endregion --\x3e\n                </div>\n              </form>\n            </uib-tab>\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading>\n                <div class="flex-center gap-1"> <pr-icon icon="\'svg-clockrewind\'" size="\'sm\'" feather="true"></pr-icon> Events </div>\n                <div class="flex-center gap-1" ng-if="ctrl.hasEventWarnings()">\n                  <pr-icon icon="\'alert-circle\'" mode="\'warning-alt\'" size="\'sm\'" feather="true"></pr-icon>\n                  {{ ctrl.state.eventWarningCount }} warning(s)\n                </div>\n              </uib-tab-heading>\n              <kubernetes-events-datatable\n                title-text="Events"\n                title-icon="icon-nested-blue"\n                dataset="ctrl.events"\n                table-key="kubernetes.node.events"\n                order-by="Date"\n                reverse-order="true"\n                loading="ctrl.state.eventsLoading"\n                refresh-callback="ctrl.getEvents"\n              >\n              </kubernetes-events-datatable>\n            </uib-tab>\n            <uib-tab index="2" ng-if="ctrl.node.Yaml" select="ctrl.showEditor()" classes="btn-sm">\n              <uib-tab-heading class="vertical-center">\n                <div class="flex-center gap-1"> <pr-icon icon="\'code\'" size="\'sm\'" feather="true"></pr-icon> YAML </div>\n              </uib-tab-heading>\n              <div style="padding-right: 25px" ng-if="ctrl.state.showEditorTab">\n                <kubernetes-yaml-inspector key="node-yaml" data="ctrl.node.Yaml"> </kubernetes-yaml-inspector>\n              </div>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.applications && ctrl.applications.length > 0">\n    <div class="col-sm-12">\n      <kubernetes-node-applications-datatable\n        dataset="ctrl.applications"\n        table-key="kubernetes.node.applications"\n        order-by="Name"\n        refresh-callback="ctrl.getApplications"\n        loading="ctrl.state.applicationsLoading"\n        title-text="Applications running on this node"\n      >\n      </kubernetes-node-applications-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},49709:function(e){var t="app/kubernetes/views/cluster/node/stats/stats.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Node stats\'"\n  breadcrumbs="[\n{ label:\'Cluster\', link:\'kubernetes.cluster\' },\n{\n  label:ctrl.state.transition.nodeName,\n  link: \'kubernetes.cluster.node\',\n  linkParams:{name: ctrl.state.transition.nodeName}\n},\n ctrl.state.transition.nodeName,\n ]"\n  reload="true"\n></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <information-panel ng-if="!ctrl.state.getMetrics" title-text="Unable to retrieve node metrics">\n    <span class="small text-muted vertical-center">\n      <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'primary\'"></pr-icon>\n      Portainer was unable to retrieve any metrics associated to that node. Please contact your administrator to ensure that the Kubernetes metrics feature is properly configured.\n    </span>\n  </information-panel>\n  <div class="row" ng-if="ctrl.state.getMetrics">\n    <div class="col-md-12">\n      <rd-widget>\n        <div class="toolBar pt-5 px-5">\n          <div class="toolBarTitle flex">\n            <pr-icon icon="\'info\'" feather="true" mode="\'primary\'" class-name="\'icon-nested-blue\'"></pr-icon>\n            <span class="vertical-center"> About statistics </span>\n          </div>\n        </div>\n        <rd-widget-body>\n          <form class="form-horizontal">\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted">\n                  This view displays real-time statistics about the node <b>{{ ctrl.state.transition.nodeName }}</b\n                  >.\n                </span>\n              </div>\n            </div>\n            <div class="form-group">\n              <label for="refreshRate" class="col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left"> Refresh rate </label>\n              <div class="col-sm-3 col-md-2">\n                <select id="refreshRate" ng-model="ctrl.state.refreshRate" ng-change="ctrl.changeUpdateRepeater()" class="form-control">\n                  <option value="30">30s</option>\n                  <option value="60">60s</option>\n                </select>\n              </div>\n              <span>\n                <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n              </span>\n            </div>\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-show="ctrl.state.getMetrics">\n    <div class="col-lg-6 col-md-12 col-sm-12">\n      <rd-widget>\n        <div class="toolBar pt-5 px-5">\n          <div class="toolBarTitle flex">\n            <pr-icon icon="\'svg-memory\'" mode="\'primary\'" class-name="\'icon-nested-blue\'"></pr-icon>\n            <span class="vertical-center"> Memory usage </span>\n          </div>\n        </div>\n        <rd-widget-body>\n          <div class="chart-node" style="position: relative">\n            <canvas id="memoryChart" width="770" height="300"></canvas>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n    <div class="col-lg-6 col-md-12 col-sm-12">\n      <rd-widget>\n        <div class="toolBar pt-5 px-5">\n          <div class="toolBarTitle flex">\n            <pr-icon icon="\'cpu\'" feather="true" mode="\'primary\'" class-name="\'icon-nested-blue\'"></pr-icon>\n            <span class="vertical-center"> CPU usage </span>\n          </div>\n        </div>\n        <rd-widget-body>\n          <div class="chart-node" style="position: relative">\n            <canvas id="cpuChart" width="770" height="300"></canvas>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},79773:function(e){var t="app/kubernetes/views/configurations/configurations.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header ng-if="ctrl.state.viewReady" title="\'ConfigMaps & Secrets list\'" breadcrumbs="[\'ConfigMaps & Secrets\']" reload="true"></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <kubernetes-configurations-datatable\n        dataset="ctrl.configurations"\n        table-key="kubernetes.configurations"\n        order-by="Name"\n        refresh-callback="ctrl.refreshCallback"\n        remove-action="ctrl.removeAction"\n      ></kubernetes-configurations-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},5502:function(e){var t="app/kubernetes/views/configurations/create/createConfiguration.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Create configuration\'"\n  breadcrumbs="[{ label:\'ConfigMaps and Secrets\', link:\'kubernetes.configurations\' }, \'Create a configuration\']"\n  reload="true"\n></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-xs-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" name="kubernetesConfigurationCreationForm" autocomplete="off">\n            \x3c!-- name --\x3e\n            <div class="form-group mb-0">\n              <label for="configuration_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n              <div class="col-sm-8 col-lg-9 mb-0">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="configuration_name"\n                  ng-model="ctrl.formValues.Name"\n                  ng-pattern="/^[a-z0-9]([a-z0-9-.]{0,61}[a-z0-9])?$/"\n                  ng-change="ctrl.onChangeName()"\n                  placeholder="my-configuration"\n                  auto-focus\n                  required\n                  data-cy="k8sConfigCreate-nameInput"\n                />\n                <div ng-show="kubernetesConfigurationCreationForm.configuration_name.$invalid || ctrl.state.alreadyExist">\n                  <div class="help-block small text-warning">\n                    <div ng-messages="kubernetesConfigurationCreationForm.configuration_name.$error">\n                      <p ng-message="required" class="vertical-center"><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> This field is required.</p>\n                      <p ng-message="pattern" class="vertical-center"\n                        ><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'" class="vertical-center"></pr-icon> This field must consist of lower case alphanumeric\n                        characters, \'-\' or \'.\', and contain at most 63 characters, and must start and end with an alphanumeric character.</p\n                      >\n                    </div>\n                    <p ng-if="ctrl.state.alreadyExist" class="vertical-center"\n                      ><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> A configuration with the same name already exists inside the selected\n                      namespace.</p\n                    >\n                  </div>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !name --\x3e\n\n            <div class="col-sm-12 form-section-title"> Namespace </div>\n\n            \x3c!-- resource-pool --\x3e\n            <div class="form-group" ng-if="ctrl.formValues.ResourcePool">\n              <label for="resource-pool-selector" class="col-sm-3 col-lg-2 control-label text-left">Namespace</label>\n              <div class="col-sm-8 col-lg-9">\n                <select\n                  class="form-control"\n                  id="resource-pool-selector"\n                  ng-model="ctrl.formValues.ResourcePool"\n                  ng-options="resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools"\n                  ng-change="ctrl.onResourcePoolSelectionChange()"\n                  data-cy="k8sConfigCreate-namespaceDropdown"\n                ></select>\n              </div>\n            </div>\n            <div class="form-group" ng-if="ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded()">\n              <div class="col-sm-12 small text-warning vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                This namespace has exhausted its resource capacity and you will not be able to deploy the configuration. Contact your administrator to expand the capacity of the\n                namespace.\n              </div>\n            </div>\n            <div class="form-group" ng-if="!ctrl.formValues.ResourcePool">\n              <div class="col-sm-12 small text-warning vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                You do not have access to any namespace. Contact your administrator to get access to a namespace.\n              </div>\n            </div>\n            \x3c!-- !resource-pool --\x3e\n\n            <div ng-if="ctrl.formValues.ResourcePool">\n              <div class="col-sm-12 form-section-title"> Configuration kind </div>\n\n              <div class="form-group">\n                <div class="col-sm-12 small text-muted"> Select the kind of data that you want to save in the configuration. </div>\n              </div>\n\n              \x3c!-- type options --\x3e\n              <div class="form-group px-[15px] mb-0">\n                <div class="boxselector_wrapper">\n                  <div>\n                    <input type="radio" id="type_basic" ng-value="ctrl.KubernetesConfigurationKinds.CONFIGMAP" ng-model="ctrl.formValues.Kind" ng-change="ctrl.onChangeKind()" />\n                    <label for="type_basic" data-cy="k8sConfigCreate-nonSensitiveButton">\n                      <div class="boxselector_header">\n                        <pr-icon icon="\'svg-filecode\'"></pr-icon>\n                        ConfigMap\n                      </div>\n                      <p>This configuration holds non-sensitive information</p>\n                    </label>\n                  </div>\n                  <div>\n                    <input type="radio" id="type_secret" ng-value="ctrl.KubernetesConfigurationKinds.SECRET" ng-model="ctrl.formValues.Kind" ng-change="ctrl.onChangeKind()" />\n                    <label for="type_secret" data-cy="k8sConfigCreate-sensitiveButton">\n                      <div class="boxselector_header">\n                        <pr-icon icon="\'lock\'" feather="true"></pr-icon>\n                        Secret\n                      </div>\n                      <p>This configuration holds sensitive information</p>\n                    </label>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !type options --\x3e\n\n              <div ng-if="ctrl.formValues.Kind === ctrl.KubernetesConfigurationKinds.SECRET">\n                <div class="col-sm-12 form-section-title"> Information </div>\n                <div class="form-group">\n                  <div class="col-sm-12 small text-muted vertical-center">\n                    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                    <span>\n                      More information about types of secret can be found in the official\n                      <a class="hyperlink" href="https://kubernetes.io/docs/concepts/configuration/secret/#secret-types" target="_blank">kubernetes documentation</a>.\n                    </span>\n                  </div>\n                </div>\n\n                <div class="form-group">\n                  <label for="configuration_data_type" class="col-sm-3 col-lg-2 control-label text-left">Type</label>\n                  <div class="col-sm-8 col-lg-9">\n                    <select\n                      class="form-control"\n                      id="configuration_data_type"\n                      ng-model="ctrl.formValues.Type"\n                      ng-options="value.value as value.name for (name, value) in ctrl.KubernetesSecretTypeOptions"\n                      ng-change="ctrl.onSecretTypeChange()"\n                    ></select>\n\n                    <div class="col-sm-3 col-lg-2"></div>\n                  </div>\n                  <div ng-if="ctrl.formValues.Type === ctrl.KubernetesSecretTypeOptions.SERVICEACCOUNTTOKEN.value" class="col-sm-12 small text-warning vertical-center pt-5">\n                    <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                    <span\n                      >You should only create a service account token Secret object if you can\'t use the TokenRequest API to obtain a token, and the security exposure of persisting\n                      a non-expiring token credential in a readable API object is acceptable to you. <br />See\n                      <a href="https://kubernetes.io/docs/concepts/configuration/secret/#service-account-token-secrets" target="_blank">service account token secrets</a> in the\n                      kubernetes documentation.</span\n                    >\n                  </div>\n                  <div ng-if="ctrl.formValues.Type === ctrl.KubernetesSecretTypeOptions.DOCKERCFG.value" class="col-sm-12 small text-muted vertical-center pt-5">\n                    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                    <span>Ensure the Secret data field contains a <code>.dockercfg</code> key whose value is content of a legacy <code>~/.dockercfg</code> file.</span>\n                  </div>\n                  <div ng-if="ctrl.formValues.Type === ctrl.KubernetesSecretTypeOptions.DOCKERCONFIGJSON.value" class="col-sm-12 small text-muted vertical-center pt-5">\n                    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                    <span>Ensure the Secret data field contains a <code>.dockerconfigjson</code> key whose value is content of a <code>~/.docker/config.json</code> file.</span>\n                  </div>\n                  <div ng-if="ctrl.formValues.Type === ctrl.KubernetesSecretTypeOptions.TLS.value" class="col-sm-12 small text-muted vertical-center pt-5">\n                    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                    <span>Ensure the Secret data field contains a <code>tls.key</code> key and a <code>tls.crt</code> key.</span>\n                  </div>\n                  <div ng-if="ctrl.formValues.Type === ctrl.KubernetesSecretTypeOptions.BOOTSTRAPTOKEN.value" class="col-sm-12 small text-muted vertical-center pt-5">\n                    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                    <span\n                      >Ensure the Secret data field contains a <code>token-id</code> key and a <code>token-secret</code> key. See\n                      <a href="https://kubernetes.io/docs/concepts/configuration/secret/#bootstrap-token-secrets" target="_blank">bootstrap token secrets</a> in the kubernetes\n                      documentation for optional keys.</span\n                    >\n                  </div>\n                </div>\n                <div class="form-group" ng-if="ctrl.formValues.Type === ctrl.KubernetesSecretTypeOptions.CUSTOM.value">\n                  <label for="configuration_data_customtype" class="col-sm-3 col-lg-2 control-label text-left required">Custom Type</label>\n                  <div class="col-sm-8 col-lg-9">\n                    <input\n                      type="text"\n                      name="custom_type"\n                      class="form-control"\n                      id="configuration_data_customtype"\n                      ng-model="ctrl.formValues.customType"\n                      ng-pattern="/^[a-z0-9]([a-z0-9-.]{0,61}[a-z0-9])?$/"\n                      required\n                    />\n                    <div ng-show="kubernetesConfigurationCreationForm.custom_type.$invalid">\n                      <div class="help-block small text-warning">\n                        <div ng-messages="kubernetesConfigurationCreationForm.custom_type.$error">\n                          <p ng-message="required" class="vertical-center"><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> This field is required.</p>\n                          <p ng-message="pattern" class="vertical-center"\n                            ><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'" class="vertical-center"></pr-icon> This field must consist of lower case alphanumeric\n                            characters, \'-\' or \'.\', and contain at most 63 characters, and must start and end with an alphanumeric character.</p\n                          >\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class="form-group" ng-if="ctrl.formValues.Type === ctrl.KubernetesSecretTypeOptions.SERVICEACCOUNTTOKEN.value">\n                  <label for="service_account" class="col-sm-3 col-lg-2 control-label text-left required">Service Account</label>\n                  <div class="col-sm-8 col-lg-9">\n                    <select\n                      class="form-control"\n                      id="service_account"\n                      ng-selected="$first"\n                      ng-model="ctrl.formValues.ServiceAccountName"\n                      ng-options="value.metadata.name as value.metadata.name for (name, value) in ctrl.availableServiceAccounts"\n                      data-cy="k8sConfigCreate-serviceAccountDropdown"\n                      ng-change="ctrl.onChangeServiceAccount()"\n                      required\n                    ></select>\n                    <div class="help-block small text-warning" ng-messages="kubernetesConfigurationCreationForm.service_account.$error">\n                      <p class="vertical-center" ng-message="required"> <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>This field is required.</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <kubernetes-configuration-data\n                ng-if="ctrl.formValues"\n                form-values="ctrl.formValues"\n                is-docker-config="ctrl.state.isDockerConfig"\n                is-valid="ctrl.state.isDataValid"\n                on-change-validation="ctrl.isFormValid()"\n                is-creation="true"\n                is-editor-dirty="ctrl.state.isEditorDirty"\n              ></kubernetes-configuration-data>\n\n              <div class="form-group" ng-if="ctrl.state.secretWarningMessage">\n                <div class="col-sm-12 small text-warning vertical-center pt-5">\n                  <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  <span>{{ ctrl.state.secretWarningMessage }}</span>\n                </div>\n              </div>\n            </div>\n\n            \x3c!-- summary --\x3e\n            <kubernetes-summary-view\n              ng-if="!(!kubernetesConfigurationCreationForm.$valid || !ctrl.isFormValid() || ctrl.state.actionInProgress)"\n              form-values="ctrl.formValues"\n            ></kubernetes-summary-view>\n\n            \x3c!-- actions --\x3e\n            <div class="col-sm-12 form-section-title" style="margin-top: 10px"> Actions </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm !ml-0"\n                  ng-disabled="!kubernetesConfigurationCreationForm.$valid || !ctrl.isFormValid() || ctrl.state.actionInProgress || !ctrl.formValues.ResourcePool"\n                  ng-click="ctrl.createConfiguration()"\n                  button-spinner="ctrl.state.actionInProgress"\n                  data-cy="k8sConfigCreate-CreateConfigButton"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress">Create {{ ctrl.formValues.Kind | kubernetesConfigurationKindText }}</span>\n                  <span ng-show="ctrl.state.actionInProgress">Creation in progress...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},61330:function(e){var t="app/kubernetes/views/configurations/edit/configuration.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Configuration details\'"\n  breadcrumbs="[\n    { label:\'Namespaces\', link:\'kubernetes.resourcePools\' },\n    {\n      label:ctrl.configuration.Namespace,\n      link: \'kubernetes.resourcePools.resourcePool\',\n      linkParams:{ id: ctrl.configuration.Namespace }\n    },\n    { label:\'ConfigMaps and Secrets\', link:\'kubernetes.configurations\' },\n    ctrl.configuration.Name,\n     ]"\n  reload="true"\n>\n</page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)" data-cy="k8sConfigDetail-configTab">\n              <uib-tab-heading>\n                <pr-icon icon="\'svg-filecode\'"></pr-icon>\n                Configuration\n              </uib-tab-heading>\n              <div style="padding: 20px">\n                <table class="table" data-cy="k8sConfigDetail-configTable">\n                  <tbody>\n                    <tr>\n                      <td class="!pl-0 !border-none w-[40%]">Name</td>\n                      <td class="!border-none">\n                        {{ ctrl.configuration.Name }}\n                        <span style="margin-left: 5px" class="label label-info image-tag" ng-if="ctrl.configuration.IsRegistrySecret">system</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class="!pl-0">Namespace</td>\n                      <td>\n                        <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.configuration.Namespace })">{{ ctrl.configuration.Namespace }}</a>\n                        <span style="margin-left: 5px" class="label label-info image-tag" ng-if="ctrl.isSystemNamespace()">system</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td class="!pl-0">Configuration kind</td>\n                      <td>\n                        {{ ctrl.configuration.Kind | kubernetesConfigurationKindText }}\n                      </td>\n                    </tr>\n                    <tr ng-if="ctrl.secretTypeName">\n                      <td class="!pl-0">Secret Type</td>\n                      <td>\n                        {{ ctrl.secretTypeName }}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </uib-tab>\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)" data-cy="k8sConfigDetail-eventsTab">\n              <uib-tab-heading>\n                <pr-icon icon="\'svg-clockrewind\'"></pr-icon>\n                Events\n                <div ng-if="ctrl.hasEventWarnings()">\n                  <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                  {{ ctrl.state.eventWarningCount }} warning(s)\n                </div>\n              </uib-tab-heading>\n              <kubernetes-events-datatable\n                title-text="Events"\n                title-icon="svg-clockrewind"\n                dataset="ctrl.events"\n                table-key="kubernetes.configuration.events"\n                order-by="Date"\n                reverse-order="true"\n                loading="ctrl.state.eventsLoading"\n                refresh-callback="ctrl.getEvents"\n              >\n              </kubernetes-events-datatable>\n            </uib-tab>\n            <uib-tab index="2" ng-if="ctrl.configuration.Yaml" classes="btn-sm" select="ctrl.showEditor()" data-cy="k8sConfigDetail-yamlTab">\n              <uib-tab-heading>\n                <pr-icon icon="\'code\'" feather="true"></pr-icon>\n                YAML\n              </uib-tab-heading>\n              <div class="!pt-5 px-5" ng-if="ctrl.state.showEditorTab">\n                <kubernetes-yaml-inspector key="configuration-yaml" data="ctrl.configuration.Yaml"> </kubernetes-yaml-inspector>\n              </div>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form ng-if="!ctrl.isSystemConfig()" class="form-horizontal" name="kubernetesConfigurationCreationForm" autocomplete="off">\n            <kubernetes-configuration-data\n              ng-if="ctrl.formValues"\n              form-values="ctrl.formValues"\n              is-docker-config="ctrl.state.isDockerConfig"\n              is-valid="ctrl.state.isDataValid"\n              on-change-validation="ctrl.isFormValid()"\n              is-creation="false"\n              is-editor-dirty="ctrl.state.isEditorDirty"\n            ></kubernetes-configuration-data>\n\n            <div class="form-group" ng-if="ctrl.state.secretWarningMessage">\n              <div class="col-sm-12 small text-warning vertical-center pt-5">\n                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                <span>{{ ctrl.state.secretWarningMessage }}</span>\n              </div>\n            </div>\n\n            \x3c!-- summary --\x3e\n            <kubernetes-summary-view\n              ng-if="!(!ctrl.isFormValid() || !kubernetesConfigurationCreationForm.$valid || ctrl.state.actionInProgress)"\n              form-values="ctrl.formValues"\n            ></kubernetes-summary-view>\n\n            \x3c!-- actions --\x3e\n            <div class="col-sm-12 form-section-title" style="margin-top: 10px"> Actions </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm !ml-0"\n                  ng-disabled="!ctrl.isFormValid() || !kubernetesConfigurationCreationForm.$valid || ctrl.state.actionInProgress"\n                  ng-click="ctrl.updateConfiguration()"\n                  button-spinner="ctrl.state.actionInProgress"\n                  data-cy="k8sConfigDetail-updateConfig"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress">Update {{ ctrl.configuration.Kind | kubernetesConfigurationKindText }}</span>\n                  <span ng-show="ctrl.state.actionInProgress">Update in progress...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n          <div ng-if="ctrl.isSystemConfig()">\n            <div class="col-sm-12 form-section-title" style="margin-top: 10px"> Data </div>\n            <table class="table">\n              <tbody>\n                <tr class="text-muted">\n                  <td style="width: 10%; border-top: none">Key</td>\n                  <td style="width: 90%; border-top: none">Value</td>\n                </tr>\n\n                <tr ng-repeat="item in ctrl.formValues.Data track by $index">\n                  <td>{{ item.Key }}</td>\n                  <td>\n                    <div style="white-space: pre-wrap">{{ item.Value }}</div>\n                    <div style="margin-top: 2px">\n                      <span class="btn btn-primary btn-xs" ng-click="ctrl.copyConfigurationValue($index)">\n                        <pr-icon icon="\'copy\'" feather="true" class-name="\'mr-0.5\'"></pr-icon>Copy\n                      </span>\n                      <span id="copyValueNotification_{{ $index }}" style="display: none; color: #23ae89; margin-left: 5px" class="small">\n                        <pr-icon icon="\'check\'" feather="true"></pr-icon> copied\n                      </span>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.configuration.Used">\n    <div class="col-sm-12">\n      <kubernetes-integrated-applications-datatable\n        dataset="ctrl.configuration.Applications"\n        table-key="kubernetes.configurations.applications"\n        order-by="Name"\n        refresh-callback="ctrl.getApplications"\n        title-text="Applications using this configuration"\n        title-icon="svg-laptopcode"\n      >\n      </kubernetes-integrated-applications-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},45315:function(e){var t="app/kubernetes/views/configure/configure.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Kubernetes features configuration\'"\n  breadcrumbs="[\n    { label:\'Environments\', link:\'portainer.endpoints\' },\n    {\n      label:ctrl.endpoint.Name,\n      link: \'portainer.endpoints.endpoint\',\n      linkParams:{id: ctrl.endpoint.Id}\n    },\n     \'Kubernetes configuration\'\n     ]"\n  reload="true"\n>\n</page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" name="kubernetesClusterSetupForm">\n            <div class="col-sm-12 form-section-title"> Networking </div>\n\n            <div class="form-group">\n              <div class="col-sm-12 text-muted small">\n                <p> Enabling the load balancer feature will allow users to expose application they deploy over an external IP address assigned by cloud provider. </p>\n                <p class="mt-1 vertical-center">\n                  <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  Ensure that your cloud provider allows you to create load balancers if you want to use this feature. Might incur costs.\n                </p>\n              </div>\n\n              <div class="col-sm-12">\n                <label class="control-label text-left col-sm-5 col-lg-4 px-0"> Allow users to use external load balancer </label>\n                <label class="switch col-sm-8 mb-0">\n                  <input type="checkbox" ng-model="ctrl.formValues.UseLoadBalancer" /><span class="slider round" data-cy="kubeSetup-loadBalancerToggle"></span>\n                </label>\n              </div>\n            </div>\n\n            <ingress-class-datatable\n              on-change-controllers="(ctrl.onChangeControllers)"\n              allow-none-ingress-class="ctrl.formValues.AllowNoneIngressClass"\n              ingress-controllers="ctrl.originalIngressControllers"\n              is-loading="ctrl.isIngressControllersLoading"\n              description="\'Enabling ingress controllers in your cluster allows them to be available in the Portainer UI for users to publish applications over HTTP/HTTPS. A controller must have a class name for it to be included here.\'"\n              no-ingress-controller-label="\'No supported ingress controllers found.\'"\n              view="\'cluster\'"\n            ></ingress-class-datatable>\n\n            <label htmlFor="foldingButtonIngControllerSettings" class="col-sm-12 form-section-title cursor-pointer flex items-center">\n              <button\n                id="foldingButtonIngControllerSettings"\n                type="button"\n                class="border-0 mx-2 bg-transparent inline-flex justify-center items-center w-2 !ml-0"\n                ng-click="ctrl.toggleAdvancedIngSettings()"\n              >\n                <pr-icon ng-if="!ctrl.state.isIngToggleSectionExpanded" feather="true" icon="\'chevron-right\'"></pr-icon>\n                <pr-icon ng-if="ctrl.state.isIngToggleSectionExpanded" feather="true" icon="\'chevron-down\'"></pr-icon>\n              </button>\n              More settings\n            </label>\n            <div ng-if="ctrl.state.isIngToggleSectionExpanded" class="ml-4">\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <por-switch-field\n                    checked="ctrl.formValues.AllowNoneIngressClass"\n                    name="\'allowNoIngressClass\'"\n                    label="\'Allow ingress class to be set to &quot;none&quot;\'"\n                    tooltip="\'This allows users setting up ingresses to select &quot;none&quot; as the ingress class.\'"\n                    on-change="(ctrl.onToggleAllowNoneIngressClass)"\n                    label-class="\'col-sm-5 col-lg-4 px-0 !m-0\'"\n                    switch-class="\'col-sm-8\'"\n                  >\n                  </por-switch-field>\n                </div>\n              </div>\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <por-switch-field\n                    checked="ctrl.formValues.IngressAvailabilityPerNamespace"\n                    name="\'ingressAvailabilityPerNamespace\'"\n                    label="\'Configure ingress controller availability per namespace\'"\n                    tooltip="\'This allows an administrator to configure, in each namespace, which ingress controllers will be available for users to select when setting up ingresses for applications.\'"\n                    on-change="(ctrl.onToggleIngressAvailabilityPerNamespace)"\n                    label-class="\'col-sm-5 col-lg-4 px-0 !m-0\'"\n                    switch-class="\'col-sm-8\'"\n                  >\n                  </por-switch-field>\n                </div>\n              </div>\n            </div>\n\n            \x3c!-- auto update window --\x3e\n            <div class="col-sm-12 form-section-title"> Change Window Settings </div>\n\n            <div class="form-group">\n              <div class="col-sm-12">\n                <por-switch-field\n                  checked="ctrl.state.autoUpdateSettings.Enabled"\n                  name="\'disableSysctlSettingForRegularUsers\'"\n                  label="\'Enable Change Window\'"\n                  feature-id="ctrl.limitedFeatureAutoWindow"\n                  tooltip="\'Automatic updates to stacks or applications outside the defined change window will not occur.\'"\n                  on-change="(ctrl.onToggleAutoUpdate)"\n                  label-class="\'col-sm-5 col-lg-4 px-0 !m-0\'"\n                  switch-class="\'col-sm-8 text-muted\'"\n                >\n                </por-switch-field>\n              </div>\n            </div>\n\n            <time-window-picker ng-show="ctrl.state.autoUpdateSettings.Enabled" time-window="ctrl.state.autoUpdateSettings" time-zone="ctrl.state.timeZone"></time-window-picker>\n\n            \x3c!-- #region SECURITY --\x3e\n            <div class="col-sm-12 form-section-title"> Security </div>\n\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                By default, all the users have access to the default namespace. Enable this option to set accesses on the default namespace.\n              </span>\n            </div>\n\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left col-sm-5 col-lg-4 px-0"> Restrict access to the default namespace </label>\n                <label class="switch col-sm-8">\n                  <input type="checkbox" ng-model="ctrl.formValues.RestrictDefaultNamespace" /><span class="slider round" data-cy="kubeSetup-restrictDefaultNsToggle"></span>\n                </label>\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n\n            <div class="col-sm-12 form-section-title"> Resources and Metrics </div>\n\n            <div class="form-group">\n              <div class="col-sm-12 text-muted small">\n                <p>\n                  By ENABLING resource over-commit, you are able to assign more resources to namespaces than is physically available in the cluster. This may lead to unexpected\n                  deployment failures if there is insufficient resource to service demand.\n                </p>\n                <p class="mt-1 vertical-center">\n                  <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  By DISABLING resource over-commit (highly recommended), you are only able to assign resources to namespaces that are less (in aggregate) than the cluster total\n                  minus any system resource reservation.\n                </p>\n              </div>\n\n              <div class="col-sm-12">\n                <por-switch-field\n                  data-cy="\'kubeSetup-resourceOverCommitToggle\'"\n                  label="\'Allow resource over-commit\'"\n                  name="\'resource-over-commit-switch\'"\n                  feature-id="ctrl.limitedFeature"\n                  checked="ctrl.formValues.EnableResourceOverCommit"\n                  on-change="(ctrl.onChangeEnableResourceOverCommit)"\n                  label-class="\'col-sm-5 col-lg-4 px-0 !m-0\'"\n                  switch-class="\'col-sm-8\'"\n                ></por-switch-field>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <div class="col-sm-12 text-muted small">\n                <p> Enabling this feature will allow users to use specific features like autoscaling and to see container and node resource usage. </p>\n                <p class="vertical-center mt-1">\n                  <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  Ensure that <a href="https://kubernetes.io/docs/tasks/debug-application-cluster/resource-metrics-pipeline/#metrics-server" target="_blank">metrics server</a> or\n                  <a href="https://github.com/kubernetes-sigs/prometheus-adapter" target="_blank">prometheus</a> is running inside your cluster.\n                </p>\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <label class="control-label text-left col-sm-5 col-lg-4 px-0"> Enable features using the metrics API </label>\n                <label class="switch col-sm-8">\n                  <input type="checkbox" ng-model="ctrl.formValues.UseServerMetrics" ng-change="ctrl.enableMetricsServer()" />\n                  <span class="slider round" data-cy="kubeSetup-metricsToggle"></span>\n                </label>\n              </div>\n              <div ng-if="ctrl.state.metrics.pending && ctrl.state.metrics.userClick" class="col-sm-12 small text-muted" style="margin-top: 5px">\n                Checking metrics API... <pr-icon icon="\'loader\'" feather="true" class-name="\'ml-0.5\'"></pr-icon>\n              </div>\n              <div\n                ng-if="!ctrl.state.metrics.pending && ctrl.state.metrics.isServerRunning && ctrl.state.metrics.userClick"\n                class="col-sm-12 small text-muted vertical-center"\n                style="margin-top: 5px"\n              >\n                <pr-icon icon="\'check\'" mode="\'success\'" feather="true"></pr-icon> Successfully reached metrics API\n              </div>\n              <div\n                ng-if="!ctrl.state.metrics.pending && !ctrl.state.metrics.isServerRunning && ctrl.state.metrics.userClick"\n                class="col-sm-12 small text-muted vertical-center mt-2"\n              >\n                <pr-icon icon="\'x\'" mode="\'danger\'" feather="true"></pr-icon> Unable to reach metrics API, make sure metrics server is properly deployed inside that cluster.\n              </div>\n            </div>\n\n            <div class="col-sm-12 form-section-title"> Available storage options </div>\n\n            <div class="form-group" ng-if="!ctrl.storageClassAvailable()">\n              <div class="col-sm-12 small text-muted vertical-center">\n                <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                Unable to detect any storage class available to persist data. Users won\'t be able to persist application data inside this cluster.\n              </div>\n            </div>\n\n            <div class="form-group" ng-if="ctrl.storageClassAvailable()">\n              <span class="col-sm-12 text-muted small">\n                <p>\n                  Select which storage options will be available for use when deploying applications. Have a look at your storage driver documentation to figure out which access\n                  policy to configure and if the volume expansion capability is supported.\n                </p>\n                <p>\n                  You can find more information about access modes\n                  <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes" target="_blank">in the official Kubernetes documentation</a>.\n                </p>\n              </span>\n            </div>\n\n            <div class="form-group" ng-if="ctrl.storageClassAvailable()">\n              <div style="margin-top: 10px" class="col-sm-12">\n                <table class="table" style="table-layout: fixed">\n                  <tbody>\n                    <tr class="text-muted">\n                      <td>Storage</td>\n                      <td>Shared access policy</td>\n                      <td>Volume expansion</td>\n                    </tr>\n                    <tr ng-repeat="class in ctrl.StorageClasses">\n                      <td>\n                        <div class="flex flex-row items-center h-full">\n                          <label class="switch mr-2 mb-0">\n                            <input type="checkbox" ng-model="class.selected" /><span class="slider round" data-cy="kubeSetup-storageToggle{{ class.Name }}"></span>\n                          </label>\n                          <span>{{ class.Name }}</span>\n                        </div>\n                      </td>\n                      <td>\n                        <storage-access-mode-selector\n                          options="ctrl.availableAccessModes"\n                          value="class.AccessModes"\n                          on-change="(ctrl.onChangeStorageClassAccessMode)"\n                          storage-class-name="class.Name"\n                        ></storage-access-mode-selector>\n                      </td>\n                      <td>\n                        <div class="flex flex-row items-center h-full">\n                          <label class="switch mr-2 mb-0"\n                            ><input type="checkbox" ng-model="class.AllowVolumeExpansion" /><span\n                              class="slider round"\n                              data-cy="kubeSetup-storageExpansionToggle{{ class.Name }}"\n                            ></span>\n                          </label>\n                        </div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div class="col-sm-12">\n                <span ng-if="!ctrl.hasValidStorageConfiguration()" class="text-muted small vertical-center mt-2">\n                  <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  Shared access policy configuration required\n                </span>\n              </div>\n            </div>\n\n            <div class="col-sm-12 form-section-title"> Actions </div>\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm !ml-0"\n                  ng-click="ctrl.configure()"\n                  ng-disabled="ctrl.state.actionInProgress || !kubernetesClusterSetupForm.$valid || !ctrl.hasValidStorageConfiguration()"\n                  button-spinner="ctrl.state.actionInProgress"\n                  analytics-on\n                  analytics-if="ctrl.restrictDefaultToggledOn()"\n                  analytics-category="kubernetes"\n                  analytics-event="kubernetes-configure"\n                  analytics-properties="{ metadata: { restrictAccessToDefaultNamespace: ctrl.formValues.RestrictDefaultNamespace } }"\n                  data-cy="kubeSetup-saveConfigurationButton"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress">Save configuration</span>\n                  <span ng-show="ctrl.state.actionInProgress">Saving configuration...</span>\n                </button>\n              </div>\n            </div>\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},38947:function(e){var t="app/kubernetes/views/dashboard/dashboard.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header ng-if="ctrl.state.viewReady" title="\'Dashboard\'" breadcrumbs="[\'Environment summary\']" reload="true"></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row" ng-if="ctrl.endpoint">\n    <div class="col-sm-12">\n      <rd-widget>\n        <div class="toolBar vertical-center w-full">\n          <div class="toolBarTitle vertical-center p-5">\n            <div class="widget-icon space-right">\n              <pr-icon icon="\'svg-tachometer\'"></pr-icon>\n            </div>\n            Environment info\n          </div>\n        </div>\n        <rd-widget-body classes="!px-5 !py-0">\n          <table class="table">\n            <tbody>\n              <tr>\n                <td class="!pl-0 !border-none">Environment</td>\n                <td class="!border-none">\n                  {{ ctrl.endpoint.Name }}\n                </td>\n              </tr>\n              <tr ng-if="ctrl.showEnvUrl">\n                <td class="!pl-0 !border-t">URL</td>\n                <td class="!border-t">{{ ctrl.endpoint.URL | stripprotocol }}</td>\n              </tr>\n              <tr>\n                <td class="!pl-0">Tags</td>\n                <td>{{ ctrl.endpointTags }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="dashboard-grid mx-4">\n    <div ng-if="ctrl.pools" data-cy="k8sDashboard-namespaces">\n      <a class="no-link" ui-sref="kubernetes.resourcePools">\n        <dashboard-item feather-icon="true" icon="\'layers\'" type="\'Namespace\'" value="ctrl.pools.length"></dashboard-item>\n      </a>\n    </div>\n\n    <div ng-if="ctrl.applications" data-cy="k8sDashboard-applications">\n      <a class="no-link" ui-sref="kubernetes.applications">\n        <dashboard-item feather-icon="true" icon="\'box\'" type="\'Application\'" value="ctrl.applications.length"></dashboard-item>\n      </a>\n    </div>\n    <div ng-if="ctrl.configurations" data-cy="k8sDashboard-configurations">\n      <a class="no-link" ui-sref="kubernetes.configurations">\n        <dashboard-item feather-icon="true" icon="\'lock\'" type="\'ConfigMaps & Secret\'" value="ctrl.configurations.length"></dashboard-item>\n      </a>\n    </div>\n    <div ng-if="ctrl.volumes" data-cy="k8sDashboard-volumes">\n      <a class="no-link" ui-sref="kubernetes.volumes">\n        <dashboard-item feather-icon="true" icon="\'database\'" type="\'Volume\'" value="ctrl.volumes.length"></dashboard-item>\n      </a>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},32635:function(e){var t="app/kubernetes/views/deploy/deploy.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header ng-if="ctrl.state.viewReady" title="\'Advanced deployment\'" breadcrumbs="[\'Deploy Kubernetes resources\']" reload="true"></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <kubernetes-feedback-panel></kubernetes-feedback-panel>\n\n  <div class="row kubernetes-deploy">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0">\n              <uib-tab-heading> <pr-icon icon="\'code\'" feather="true"></pr-icon> Deploy </uib-tab-heading>\n              <div class="col-sm-12 form-section-title"> Namespace </div>\n              <form class="form-horizontal mt-3" name="deploymentForm">\n                <div class="form-group" ng-if="ctrl.formValues.Namespace">\n                  <label for="target_node" class="col-lg-2 col-sm-3 control-label text-left">Namespace</label>\n                  <div class="col-sm-8">\n                    <select\n                      ng-disabled="ctrl.formValues.namespace_toggle"\n                      class="form-control"\n                      ng-model="ctrl.formValues.Namespace"\n                      ng-options="namespace.Name as namespace.Name for namespace in ctrl.namespaces"\n                    ></select>\n                  </div>\n                </div>\n                <div class="form-group" ng-if="ctrl.formValues.Namespace">\n                  <label for="toggle_logo" class="col-lg-2 col-sm-3 control-label text-left">\n                    Use namespace(s) specified from manifest\n                    <portainer-tooltip message="\'If you have defined namespaces in your deployment file turning this on will enforce the use of those only in the deployment\'">\n                    </portainer-tooltip>\n                  </label>\n                  <div class="col-sm-8 vertical-center pt-3">\n                    <label class="switch">\n                      <input type="checkbox" name="toggle_logo" ng-model="ctrl.formValues.namespace_toggle" />\n                      <span class="slider round"></span>\n                    </label>\n                    \x3c!-- <span class="ml-2 mb-1 switch-values" ng-if="ctrl.formValues.namespace_toggle">Yes</span>\n                    <span class="ml-2 mb-1 switch-values" ng-if="!ctrl.formValues.namespace_toggle">No</span> --\x3e\n                  </div>\n                </div>\n                <div class="form-group" ng-if="!ctrl.formValues.Namespace">\n                  <div class="col-sm-12 small text-warning">\n                    <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                    You do not have access to any namespace. Contact your administrator to get access to a namespace.\n                  </div>\n                </div>\n\n                <div class="form-group">\n                  <label for="stack_name" class="col-lg-2 col-sm-3 control-label text-left required">Name</label>\n                  <div class="col-sm-8">\n                    <input type="text" class="form-control" ng-model="ctrl.formValues.StackName" id="stack_name" placeholder="my-app" auto-focus />\n                  </div>\n                </div>\n\n                <div class="col-sm-12 form-section-title"> Build method </div>\n                <box-selector\n                  radio-name="\'method\'"\n                  value="ctrl.state.BuildMethod"\n                  options="ctrl.methodOptions"\n                  data-cy="k8sAppDeploy-buildSelector"\n                  on-change="(ctrl.onChangeMethod)"\n                ></box-selector>\n\n                <div ng-if="ctrl.state.BuildMethod !== ctrl.BuildMethods.CUSTOM_TEMPLATE">\n                  <div class="col-sm-12 form-section-title"> Deployment type </div>\n                  <box-selector\n                    radio-name="\'deploy\'"\n                    value="ctrl.state.DeployType"\n                    options="ctrl.deployOptions"\n                    data-cy="k8sAppDeploy-deploymentSelector"\n                    on-change="(ctrl.onChangeDeployType)"\n                  ></box-selector>\n                </div>\n\n                \x3c!-- repository --\x3e\n                <git-form\n                  ng-if="ctrl.state.BuildMethod === ctrl.BuildMethods.GIT"\n                  model="ctrl.formValues"\n                  on-change="(ctrl.onChangeFormValues)"\n                  additional-file="true"\n                  auto-update="true"\n                  show-auth-explanation="true"\n                  path-text-title="Manifest path"\n                  path-placeholder="deployment.yml"\n                  deploy-method="{{ ctrl.DeployMethod }}"\n                ></git-form>\n                \x3c!-- !repository --\x3e\n\n                <div ng-show="ctrl.state.BuildMethod === ctrl.BuildMethods.CUSTOM_TEMPLATE">\n                  <custom-template-selector\n                    new-template-path="kubernetes.templates.custom.new"\n                    stack-type="3"\n                    on-change="(ctrl.onChangeTemplateId)"\n                    value="ctrl.state.templateId"\n                  ></custom-template-selector>\n\n                  <custom-templates-variables-field\n                    ng-if="ctrl.isTemplateVariablesEnabled && ctrl.state.template"\n                    definitions="ctrl.state.template.Variables"\n                    value="ctrl.formValues.Variables"\n                    on-change="(ctrl.onChangeTemplateVariables)"\n                  ></custom-templates-variables-field>\n                </div>\n\n                \x3c!-- editor --\x3e\n                <div class="mt-4">\n                  <web-editor-form\n                    ng-if="ctrl.state.BuildMethod === ctrl.BuildMethods.WEB_EDITOR || (ctrl.state.BuildMethod === ctrl.BuildMethods.CUSTOM_TEMPLATE && ctrl.state.templateId)"\n                    identifier="kubernetes-deploy-editor"\n                    value="ctrl.formValues.EditorContent"\n                    on-change="(ctrl.onChangeFileContent)"\n                    ng-required="true"\n                    yml="true"\n                    placeholder="# Define or paste the content of your manifest file here"\n                  >\n                    <editor-description>\n                      <span class="col-sm-12 text-muted small" ng-show="ctrl.state.DeployType === ctrl.ManifestDeployTypes.COMPOSE">\n                        <p class="vertical-center">\n                          <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                          <span>\n                            Portainer uses <a href="https://kompose.io/" target="_blank">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary\n                            that not all the Compose format options are supported by Kompose at the moment.\n                          </span>\n                        </p>\n                        <p>\n                          You can get more information about Compose file format in the\n                          <a href="https://docs.docker.com/compose/compose-file/" target="_blank">official documentation</a>.\n                        </p>\n                      </span>\n                      <span class="col-sm-12 text-muted small" ng-show="ctrl.state.DeployType === ctrl.ManifestDeployTypes.KUBERNETES">\n                        <p class="vertical-center">\n                          <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                          This feature allows you to deploy any kind of Kubernetes resource in this environment (Deployment, Secret, ConfigMap...).\n                        </p>\n                        <p>\n                          You can get more information about Kubernetes file format in the\n                          <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank">official documentation</a>.\n                        </p>\n                      </span>\n                    </editor-description>\n                  </web-editor-form>\n                </div>\n                \x3c!-- !editor --\x3e\n\n                \x3c!-- url --\x3e\n                <div ng-show="ctrl.state.BuildMethod === ctrl.BuildMethods.URL">\n                  <div class="col-sm-12 form-section-title"> URL </div>\n                  <div class="form-group">\n                    <span class="col-sm-12 text-muted small"> Indicate the URL to the manifest. </span>\n                  </div>\n                  <div class="form-group">\n                    <label for="manifest_url" class="col-sm-3 col-lg-2 control-label text-left required">URL</label>\n                    <div class="col-sm-8">\n                      <input\n                        type="text"\n                        class="form-control"\n                        ng-model="ctrl.formValues.ManifestURL"\n                        id="manifest_url"\n                        placeholder="https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/controllers/nginx-deployment.yaml"\n                        data-cy="k8sAppDeploy-urlFileUrl"\n                      />\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- !url --\x3e\n\n                \x3c!-- actions --\x3e\n                <div class="col-sm-12 form-section-title"> Actions </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <button\n                      type="button"\n                      class="btn btn-primary btn-sm !ml-0"\n                      ng-disabled="!deploymentForm.$valid ||ctrl.disableDeploy()"\n                      ng-click="ctrl.deploy()"\n                      button-spinner="ctrl.state.actionInProgress"\n                      data-cy="k8sAppDeploy-deployButton"\n                      analytics-on\n                      analytics-category="kubernetes"\n                      analytics-event="kubernetes-application-advanced-deployment"\n                      analytics-properties="ctrl.buildAnalyticsProperties()"\n                    >\n                      <span ng-hide="ctrl.state.actionInProgress">Deploy</span>\n                      <span ng-show="ctrl.state.actionInProgress">Deployment in progress...</span>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !actions --\x3e\n              </form>\n            </uib-tab>\n\n            <uib-tab index="1" disable="ctrl.state.tabLogsDisabled">\n              <uib-tab-heading> <pr-icon icon="\'file-text\'" feather="true"></pr-icon> Logs </uib-tab-heading>\n              <form class="form-horizontal mt-3">\n                <div class="form-group" ng-if="ctrl.state.activeTab === 1">\n                  <div class="col-sm-12">\n                    <code-editor identifier="kubernetes-deploy-logs" read-only="true" yml="false" value="ctrl.errorLog"></code-editor>\n                  </div>\n                </div>\n              </form>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},9273:function(e){var t="app/kubernetes/views/resource-pools/access/resourcePoolAccess.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Namespace access management\'"\n  breadcrumbs="[\n    { label:\'Namespaces\', link:\'kubernetes.resourcePools\' },\n    {\n      label:ctrl.pool.Namespace.Name,\n      link: \'kubernetes.resourcePools.resourcePool\',\n      linkParams:{id: ctrl.pool.Namespace.Name}\n    },\n     \'Access management\'\n     ]"\n  reload="true"\n>\n</page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row" ng-if="ctrl.pool">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-header icon="layers" feather-icon="true" title-text="Namespace"></rd-widget-header>\n        <rd-widget-body>\n          <table class="table">\n            <tbody>\n              <tr>\n                <td class="!pl-0">Name</td>\n                <td>\n                  {{ ctrl.pool.Namespace.Name }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget ng-if="ctrl.availableUsersAndTeams">\n        <rd-widget-header icon="svg-userlock" title-text="Create access"></rd-widget-header>\n        <rd-widget-body>\n          <form class="form-horizontal">\n            <div class="form-group">\n              <span class="col-sm-12 small text-warning">\n                <p class="vertical-center">\n                  <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                  Adding user access will require the affected user(s) to logout and login for the changes to be taken into account.\n                </p>\n              </span>\n            </div>\n            <div class="form-group">\n              <label class="col-sm-3 col-lg-2 control-label text-left" for="users-selector"> Select user(s) and/or team(s) </label>\n              <div class="col-sm-9 col-lg-4">\n                <span class="small text-muted" ng-if="ctrl.availableUsersAndTeams.length === 0">\n                  No user nor team access has been set on the environment. Head over to the\n                  <a ui-sref="portainer.endpoints">Environments view</a> to manage them.\n                </span>\n                <namespace-access-users-selector\n                  ng-if="ctrl.availableUsersAndTeams.length > 0"\n                  input-id="users-selector"\n                  value="ctrl.formValues.multiselectOutput"\n                  options="ctrl.availableUsersAndTeams"\n                  on-change="(ctrl.onUsersAndTeamsChange)"\n                ></namespace-access-users-selector>\n              </div>\n            </div>\n\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm !ml-0 vertical-center"\n                  ng-disabled="ctrl.formValues.multiselectOutput.length === 0 || ctrl.actionInProgress"\n                  ng-click="ctrl.authorizeAccess()"\n                  button-spinner="ctrl.actionInProgress"\n                >\n                  <span class="vertical-center" ng-hide="ctrl.state.actionInProgress"><pr-icon icon="\'plus\'" feather="true" class="vertical-center"></pr-icon> Create access</span>\n                  <span ng-show="ctrl.state.actionInProgress">Creating access...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <access-datatable\n        ng-if="ctrl.authorizedUsersAndTeams"\n        title-text="Namespace access"\n        title-icon="svg-userlock"\n        table-key="kubernetes_resourcepool_access"\n        order-by="Name"\n        dataset="ctrl.authorizedUsersAndTeams"\n        remove-action="ctrl.unauthorizeAccess"\n      >\n      </access-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},87925:function(e){var t="app/kubernetes/views/resource-pools/components/storage-class-switch/storage-class-switch.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <div class="col-sm-12">\n    <por-switch-field\n      data-cy="\'k8sNamespaceCreate-enableQuotaToggle\'"\n      label="\'Enable quota\'"\n      label-class="\'col-sm-3 col-lg-2\'"\n      name="\'k8s-resourcepool-storagequota\'"\n      feature-id="$ctrl.featureId"\n      checked="$ctrl.value"\n      on-change="($ctrl.handleChange)"\n    ></por-switch-field>\n  </div>\n</div>\n')}]),e.exports=t},28134:function(e){var t="app/kubernetes/views/resource-pools/create/createResourcePool.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="$ctrl.state.viewReady"\n  title="\'Create a namespace\'"\n  breadcrumbs="[{ label:\'Namespaces\', link:\'kubernetes.resourcePools\' }, \'Create a namespace\']"\n  reload="true"\n></page-header>\n\n<kubernetes-view-loading view-ready="$ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="$ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-lg-12 col-md-12 col-xs-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" autocomplete="off" name="resourcePoolCreationForm">\n            \x3c!-- #region NAME INPUT --\x3e\n            <div class="form-group">\n              <label for="pool_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n              <div class="col-sm-8">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="pool_name"\n                  ng-model="$ctrl.formValues.Name"\n                  ng-pattern="/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/"\n                  ng-change="$ctrl.onChangeName()"\n                  placeholder="my-project"\n                  data-cy="k8sNamespaceCreate-namespaceNameInput"\n                  required\n                  auto-focus\n                />\n                <span class="help-block">\n                  <div class="form-group" ng-show="resourcePoolCreationForm.pool_name.$invalid || $ctrl.state.isAlreadyExist || $ctrl.state.hasPrefixKube">\n                    <div class="col-sm-12 small text-warning">\n                      <div ng-messages="resourcePoolCreationForm.pool_name.$error">\n                        <p class="vertical-center" ng-message="required"><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>This field is required.</p>\n                        <p class="vertical-center" ng-message="pattern"\n                          ><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> This field must consist of lower case alphanumeric characters or \'-\', and\n                          contain at most 63 characters, and must start and end with an alphanumeric character.</p\n                        >\n                      </div>\n                      <p class="vertical-center" ng-if="$ctrl.state.hasPrefixKube"\n                        ><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> Prefix "kube-" is reserved for Kubernetes system namespaces.</p\n                      >\n                      <p class="vertical-center" ng-if="$ctrl.state.isAlreadyExist">\n                        <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> A namespace with the same name already exists.\n                      </p>\n                    </div>\n                  </div>\n                </span>\n              </div>\n            </div>\n\n            \x3c!-- #endregion --\x3e\n\n            <div class="col-sm-12 form-section-title"> Quota </div>\n            \x3c!-- #region QUOTA --\x3e\n            \x3c!-- quotas-switch --\x3e\n            <div class="form-group">\n              <div class="col-sm-12 small text-muted">\n                <p class="vertical-center">\n                  <pr-icon class="vertical-center" icon="\'info\'" feather="true" mode="\'primary\'"></pr-icon>\n                  A namespace segments the underlying physical Kubernetes cluster into smaller virtual clusters. You should assign a capped limit of resources to this namespace or\n                  disable for the safe operation of your platform.\n                </p>\n              </div>\n              <div class="col-sm-12">\n                <por-switch-field\n                  data-cy="\'k8sNamespaceCreate-resourceAssignmentToggle\'"\n                  label="\'Resource assignment\'"\n                  label-class="\'col-sm-3 col-lg-2\'"\n                  name="\'k8s-resourcepool-resourcequota\'"\n                  checked="$ctrl.formValues.HasQuota"\n                  on-change="($ctrl.onToggleResourceQuota)"\n                ></por-switch-field>\n              </div>\n            </div>\n            \x3c!-- !quotas-switch --\x3e\n            <div ng-if="$ctrl.formValues.HasQuota">\n              <div class="col-sm-12 form-section-title"> Resource limits </div>\n              <div>\n                <div class="form-group">\n                  <span class="col-sm-12 small text-warning" ng-switch on="$ctrl.formValues.HasQuota && !$ctrl.isQuotaValid()">\n                    <p class="vertical-center mb-0" ng-switch-when="true"\n                      ><pr-icon class="vertical-center" icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> At least a single limit must be set for the quota to be\n                      valid.\n                    </p>\n                    <p class="vertical-center mb-0" ng-switch-default></p>\n                  </span>\n                </div>\n\n                \x3c!-- memory-limit-input --\x3e\n                <div class="form-group flex flex-row !mb-0">\n                  <label for="memory-limit" class="col-sm-3 col-lg-2 control-label text-left"> Memory limit (MB) </label>\n                  <div class="col-xs-6">\n                    <por-slider\n                      min="$ctrl.defaults.MemoryLimit"\n                      max="$ctrl.state.sliderMaxMemory"\n                      step="128"\n                      ng-if="$ctrl.state.sliderMaxMemory"\n                      value="$ctrl.formValues.MemoryLimit"\n                      on-change="($ctrl.handleMemoryLimitChange)"\n                      visible-tooltip="true"\n                      data-cy="k8sNamespaceCreate-memoryLimitSlider"\n                    ></por-slider>\n                  </div>\n                  <div class="col-sm-2 vertical-center pt-6">\n                    <input\n                      name="memory_limit"\n                      type="number"\n                      min="{{ $ctrl.defaults.MemoryLimit }}"\n                      max="{{ $ctrl.state.sliderMaxMemory }}"\n                      class="form-control"\n                      ng-model="$ctrl.formValues.MemoryLimit"\n                      id="memory-limit"\n                      data-cy="k8sNamespaceCreate-memoryLimitInput"\n                      required\n                    />\n                  </div>\n                </div>\n                <div class="flex flex-row w-full">\n                  <span class="col-sm-3 col-lg-2"></span>\n                  <span class="help-block col-sm-9 col-lg-10">\n                    <div ng-show="resourcePoolCreationForm.memory_limit.$invalid">\n                      <div class="small text-warning">\n                        <div ng-messages="resourcePoolCreationForm.pool_name.$error">\n                          <p class="vertical-center"\n                            ><pr-icon class="vertical-center" icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> Value must be between\n                            {{ $ctrl.defaults.MemoryLimit }} and\n                            {{ $ctrl.state.sliderMaxMemory }}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </span>\n                </div>\n                \x3c!-- !memory-limit-input --\x3e\n                \x3c!-- cpu-limit-input --\x3e\n                <div class="form-group flex flex-row">\n                  <label for="cpu-limit" class="col-sm-3 col-lg-2 control-label text-left"> CPU limit </label>\n                  <div class="col-xs-8">\n                    <por-slider\n                      min="$ctrl.defaults.CpuLimit"\n                      max="$ctrl.state.sliderMaxCpu"\n                      step="0.1"\n                      ng-if="$ctrl.state.sliderMaxCpu"\n                      value="$ctrl.formValues.CpuLimit"\n                      on-change="($ctrl.handleCpuLimitChange)"\n                      data-cy="k8sNamespaceCreate-cpuLimitSlider"\n                      visible-tooltip="true"\n                    ></por-slider>\n                  </div>\n                </div>\n                \x3c!-- !cpu-limit-input --\x3e\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n\n            \x3c!-- #region LOAD-BALANCERS --\x3e\n            <div class="col-sm-12 form-section-title"> Load balancers </div>\n\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small vertical-center">\n                <pr-icon icon="\'info\'" feather="true" mode="\'primary\'" class="vertical-center"></pr-icon>\n                You can set a quota on the amount of external load balancers that can be created inside this namespace. Set this quota to 0 to effectively disable the use of load\n                balancers in this namespace.\n              </span>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <por-switch-field\n                  data-cy="\'k8sNamespaceCreate-loadBalancerQuotaToggle\'"\n                  label="\'Load Balancer quota\'"\n                  label-class="\'col-sm-3 col-lg-2\'"\n                  name="\'k8s-resourcepool-lbquota\'"\n                  feature-id="$ctrl.LBQuotaFeatureId"\n                  checked="$ctrl.formValues.UseLoadBalancersQuota"\n                  on-change="($ctrl.onToggleLoadBalancerQuota)"\n                ></por-switch-field>\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n\n            <div ng-if="$ctrl.state.ingressAvailabilityPerNamespace">\n              \x3c!-- #region INGRESSES --\x3e\n              <div class="col-sm-12 form-section-title"> Networking </div>\n              <ingress-class-datatable\n                ng-if="$ctrl.state.ingressAvailabilityPerNamespace"\n                on-change-controllers="($ctrl.onChangeIngressControllerAvailability)"\n                ingress-controllers="$ctrl.ingressControllers"\n                description="\'Enable the ingress controllers that users can select when publishing applications in this namespace.\'"\n                no-ingress-controller-label="\'No ingress controllers found in the cluster. Go to the cluster setup view to configure and allow the use of ingress controllers in the cluster.\'"\n                view="\'namespace\'"\n              ></ingress-class-datatable>\n              \x3c!-- #endregion --\x3e\n            </div>\n\n            \x3c!-- #region REGISTRIES --\x3e\n            <div class="col-sm-12 form-section-title"> Registries </div>\n            <div class="form-group">\n              <div class="col-sm-12 small text-muted">\n                <p class="vertical-center">\n                  <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                  Define which registries can be used by users who have access to this namespace.\n                </p>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <label class="col-sm-3 col-lg-2 control-label text-left !pt-0" for="registries-selector"> Select registries </label>\n              <div class="col-sm-8 col-lg-9">\n                <span class="small text-muted" ng-if="!$ctrl.registries.length && $ctrl.state.isAdmin">\n                  No registries available. Head over to the <a ui-sref="portainer.registries">registry view</a> to define a container registry.\n                </span>\n                <span class="small text-muted" ng-if="!$ctrl.registries.length && !$ctrl.state.isAdmin">\n                  No registries available. Contact your administrator to create a container registry.\n                </span>\n                <create-namespace-registries-selector\n                  input-id="\'registries-selector\'"\n                  value="$ctrl.formValues.Registries"\n                  on-change="($ctrl.onRegistriesChange)"\n                  options="$ctrl.registries"\n                >\n                </create-namespace-registries-selector>\n              </div>\n            </div>\n            \x3c!-- #endregion --\x3e\n\n            \x3c!-- #region STORAGES --\x3e\n            <div class="col-sm-12 form-section-title"> Storage </div>\n\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small vertical-center">\n                <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                Quotas can be set on each storage option to prevent users from exceeding a specific threshold when deploying applications. You can set a quota to 0 to effectively\n                prevent the usage of a specific storage option inside this namespace.\n              </span>\n            </div>\n            <div class="col-sm-12 form-section-title vertical-center">\n              <pr-icon icon="\'svg-route\'"></pr-icon>\n              standard\n            </div>\n\n            <storage-class-switch value="sc.Selected" name="sc.Name" on-change="(ctrl.onToggleStorageQuota)" authorization="K8sResourcePoolDetailsW"></storage-class-switch>\n\n            \x3c!-- #endregion --\x3e\n\n            \x3c!-- summary --\x3e\n            <kubernetes-summary-view ng-if="resourcePoolCreationForm.$valid && !$ctrl.isCreateButtonDisabled()" form-values="$ctrl.formValues"></kubernetes-summary-view>\n            \x3c!-- !summary --\x3e\n\n            <div class="col-sm-12 form-section-title"> Actions </div>\n            \x3c!-- #region ACTIONS --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm !ml-0"\n                  ng-disabled="!resourcePoolCreationForm.$valid || $ctrl.isCreateButtonDisabled()"\n                  ng-click="$ctrl.createResourcePool()"\n                  button-spinner="$ctrl.state.actionInProgress"\n                >\n                  <span ng-hide="$ctrl.state.actionInProgress" data-cy="k8sNamespace-createNamespaceButton">Create namespace</span>\n                  <span ng-show="$ctrl.state.actionInProgress">Creation in progress...</span>\n                </button>\n              </div>\n            </div>\n\n            \x3c!-- #endregion --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},23932:function(e){var t="app/kubernetes/views/resource-pools/edit/components/ingresses-datatable/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class="searchIcon"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for an ingress..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div class="settings">\n          <span class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle><pr-icon icon="\'more-vertical\'" feather="true"></pr-icon></span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <pr-icon id="refreshRateChange" style="display: none" icon="\'check\'" mode="\'success\'" feather="true"></pr-icon>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th ng-if="$ctrl.hasExpandableItems()" class="datatable-wide dropdown">\n                <div class="cursor-pointer vertical-center" ng-click="$ctrl.expandAll()">\n                  <pr-icon ng-if="$ctrl.state.expandAll" icon="\'chevron-down\'" feather="true"></pr-icon>\n                  <pr-icon ng-if="!$ctrl.state.expandAll" icon="\'chevron-right\'" feather="true"></pr-icon>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n              ng-class="{ active: item.Checked, \'datatable-highlighted\': item.Highlighted }"\n              ng-click="$ctrl.expandItem(item, !item.Expanded)"\n              pagination-id="$ctrl.tableKey"\n            >\n              <td ng-if="$ctrl.hasExpandableItems()">\n                <div ng-if="$ctrl.itemCanExpand(item)" class="vertical-center">\n                  <pr-icon ng-if="item.Expanded" icon="\'chevron-down\'" feather="true"></pr-icon>\n                  <pr-icon ng-if="!item.Expanded" icon="\'chevron-right\'" feather="true"></pr-icon>\n                </div>\n              </td>\n              <td>{{ item.Name }}</td>\n              <td>{{ item.Size }}</td>\n            </tr>\n            <tr\n              dir-paginate-end\n              ng-show="item.Expanded"\n              ng-repeat="path in item.Paths"\n              ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n            >\n              <td>\n                <a style="margin-left: 15px" ng-href="http://{{ path.Host ? path.Host : path.IP }}{{ path.Path }}" target="_blank">\n                  {{ path.Host ? path.Host : path.IP }}{{ path.Path }}\n                </a>\n                <span ng-if="path.ApplicationName !== \'-\'">\n                  <pr-icon icon="\'svg-arrowright\'" class-name="\'m-0.5\'"></pr-icon>\n                  <a ui-sref="kubernetes.applications.application({ name: path.ApplicationName, namespace: item.Namespace })">{{ path.ApplicationName }}</a>\n                </span>\n                <span class="label label-warning image-tag label-margins" ng-if="path.ApplicationName === \'-\'">unused</span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted">No ingresses available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},50856:function(e){var t="app/kubernetes/views/resource-pools/edit/resourcePool.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Namespace details\'"\n  breadcrumbs="[{ label:\'Namespaces\', link:\'kubernetes.resourcePools\' }, ctrl.pool.Namespace.Name]"\n  reload="true"\n></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading class="vertical-center"> <pr-icon icon="\'layers\'" feather="true"></pr-icon> Namespace </uib-tab-heading>\n              <form class="form-horizontal" autocomplete="off" name="resourcePoolEditForm" style="padding: 20px; margin-top: 10px">\n                \x3c!-- name-input --\x3e\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <table class="table">\n                      <tbody>\n                        <tr>\n                          <td>Name</td>\n                          <td>\n                            {{ ctrl.pool.Namespace.Name }}\n                            <span class="label label-info image-tag label-margins" ng-if="ctrl.isSystem">system</span>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n                \x3c!-- !name-input --\x3e\n                <div ng-if="ctrl.isAdmin && ctrl.isEditable" class="col-sm-12 form-section-title">Resource quota</div>\n                \x3c!-- quotas-switch --\x3e\n                <div ng-if="ctrl.isAdmin && ctrl.isEditable" class="form-group">\n                  <div class="col-sm-12 mt-2" ng-if="ctrl.state.resourceOverCommitEnabled">\n                    <div class="form-group">\n                      <div class="col-sm-3 col-lg-2">\n                        <label class="control-label text-left"> Resource assignment </label>\n                      </div>\n                      <div class="col-sm-9 pt-2">\n                        <label class="switch">\n                          <input type="checkbox" ng-model="ctrl.formValues.HasQuota" />\n                          <span class="slider round"></span>\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class="form-group" ng-if="ctrl.formValues.HasQuota && ctrl.isAdmin && ctrl.isEditable && !ctrl.isQuotaValid()">\n                  <div class="col-sm-12 small text-warning">\n                    <p class="vertical-center">\n                      <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                      Not enough resources available in the cluster to apply a resource reservation.\n                    </p>\n                  </div>\n                </div>\n                <div ng-if="ctrl.formValues.HasQuota">\n                  <kubernetes-resource-reservation\n                    ng-if="ctrl.pool.Quota"\n                    description="Resource reservation represents the total amount of resource assigned to all the applications deployed inside this namespace."\n                    cpu-reservation="ctrl.state.resourceReservation.CPU"\n                    memory-reservation="ctrl.state.resourceReservation.Memory"\n                    cpu-limit="ctrl.formValues.CpuLimit"\n                    memory-limit="ctrl.formValues.MemoryLimit"\n                    display-usage="ctrl.state.useServerMetrics"\n                    cpu-usage="ctrl.state.resourceUsage.CPU"\n                    memory-usage="ctrl.state.resourceUsage.Memory"\n                  >\n                  </kubernetes-resource-reservation>\n                </div>\n                \x3c!-- !quotas-switch --\x3e\n                <div ng-if="ctrl.formValues.HasQuota && ctrl.isAdmin && ctrl.isEditable">\n                  <div class="col-sm-12 form-section-title"> Resource limits </div>\n                  <div>\n                    \x3c!-- memory-limit-input --\x3e\n                    <div class="form-group flex">\n                      <label for="memory-limit" class="col-sm-3 col-lg-2 control-label text-left vertical-center"> Memory limit (MB) </label>\n                      <div class="col-sm-6">\n                        <por-slider\n                          min="ctrl.ResourceQuotaDefaults.MemoryLimit"\n                          max="ctrl.state.sliderMaxMemory"\n                          step="128"\n                          ng-if="ctrl.state.sliderMaxMemory"\n                          value="ctrl.formValues.MemoryLimit"\n                          on-change="(ctrl.handleMemoryLimitChange)"\n                          visible-tooltip="true"\n                          data-cy="k8sNamespaceEdit-memoryLimitSlider"\n                        ></por-slider>\n                      </div>\n                      <div class="col-sm-2 vertical-center pt-6">\n                        <input\n                          name="memory_limit"\n                          type="number"\n                          min="{{ ctrl.ResourceQuotaDefaults.MemoryLimit }}"\n                          max="{{ ctrl.state.sliderMaxMemory }}"\n                          class="form-control"\n                          ng-model="ctrl.formValues.MemoryLimit"\n                          id="memory-limit"\n                          data-cy="k8sNamespaceEdit-memoryLimitInput"\n                          required\n                        />\n                      </div>\n                    </div>\n                    <div class="form-group" ng-show="resourcePoolEditForm.memory_limit.$invalid">\n                      <div class="col-sm-3 col-lg-2"></div>\n                      <div class="col-sm-8 small text-warning">\n                        <div ng-messages="resourcePoolEditForm.pool_name.$error">\n                          <p class="vertical-center">\n                            <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> Value must be between {{ ctrl.ResourceQuotaDefaults.MemoryLimit }} and\n                            {{ ctrl.state.sliderMaxMemory }}.\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                    \x3c!-- !memory-limit-input --\x3e\n                    \x3c!-- cpu-limit-input --\x3e\n                    <div class="form-group">\n                      <label for="cpu-limit" class="col-sm-3 col-lg-2 control-label text-left" style="margin-top: 20px"> CPU limit </label>\n                      <div class="col-sm-8">\n                        <por-slider\n                          min="ctrl.ResourceQuotaDefaults.CpuLimit"\n                          max="ctrl.state.sliderMaxCpu"\n                          step="0.1"\n                          ng-if="ctrl.state.sliderMaxCpu"\n                          value="ctrl.formValues.CpuLimit"\n                          on-change="(ctrl.handleCpuLimitChange)"\n                          data-cy="k8sNamespaceEdit-cpuLimitSlider"\n                          visible-tooltip="true"\n                        ></por-slider>\n                      </div>\n                    </div>\n                    \x3c!-- !cpu-limit-input --\x3e\n                  </div>\n                </div>\n                \x3c!-- #region LOADBALANCERS --\x3e\n                <div class="col-sm-12 form-section-title"> Load balancers </div>\n\n                <div class="form-group">\n                  <div class="col-sm-12 small text-muted">\n                    <p class="vertical-center">\n                      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                      You can set a quota on the amount of external load balancers that can be created inside this namespace. Set this quota to 0 to effectively disable the use of\n                      load balancers in this namespace.\n                    </p>\n                  </div>\n                </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <por-switch-field\n                      data-cy="\'k8sNamespaceCreate-loadBalancerQuotaToggle\'"\n                      label="\'Load Balancer quota\'"\n                      label-class="\'col-sm-3 col-lg-2\'"\n                      name="\'k8s-resourcepool-Lbquota\'"\n                      feature-id="ctrl.LBQuotaFeatureId"\n                      checked="ctrl.formValues.UseLoadBalancersQuota"\n                      on-change="(ctrl.onToggleLoadBalancersQuota)"\n                    ></por-switch-field>\n                  </div>\n                </div>\n                \x3c!-- #endregion --\x3e\n                <div ng-if="ctrl.isAdmin && ctrl.isEditable && ctrl.state.ingressAvailabilityPerNamespace">\n                  \x3c!-- #region INGRESSES --\x3e\n                  <div class="col-sm-12 form-section-title"> Networking </div>\n                  <ingress-class-datatable\n                    ng-if="ctrl.state.ingressAvailabilityPerNamespace"\n                    on-change-controllers="(ctrl.onChangeIngressControllerAvailability)"\n                    ingress-controllers="ctrl.ingressControllers"\n                    description="\'Enable the ingress controllers that users can select when publishing applications in this namespace.\'"\n                    no-ingress-controller-label="\'No ingress controllers found in the cluster. Go to the cluster setup view to configure and allow the use of ingress controllers in the cluster.\'"\n                    view="\'namespace\'"\n                  ></ingress-class-datatable>\n\n                  \x3c!-- #endregion --\x3e\n                </div>\n                \x3c!-- #region REGISTRIES --\x3e\n                <div>\n                  <div class="col-sm-12 form-section-title"> Registries </div>\n\n                  <div class="form-group" ng-if="!ctrl.isAdmin || ctrl.isSystem">\n                    <label class="col-sm-3 col-lg-2 control-label text-left" style="padding-top: 0"> Selected registries </label>\n                    <div class="col-sm-9 col-lg-4">\n                      {{ ctrl.selectedRegistries ? ctrl.selectedRegistries : \'None\' }}\n                    </div>\n                  </div>\n\n                  <div ng-if="ctrl.isAdmin && !ctrl.isSystem">\n                    <div class="form-group">\n                      <div class="col-sm-12 small text-muted">\n                        <p class="vertical-center">\n                          <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                          Define which registries can be used by users who have access to this namespace.\n                        </p>\n                      </div>\n                    </div>\n                    <div class="form-group">\n                      <label class="col-sm-3 col-lg-2 control-label text-left !pt-0" for="registries-selector"> Select registries </label>\n                      <div class="col-sm-9 col-lg-4">\n                        <span class="small text-muted" ng-if="!ctrl.registries.length && ctrl.isAdmin">\n                          No registries available. Head over to the <a ui-sref="portainer.registries">registry view</a> to define a container registry.\n                        </span>\n                        <span class="small text-muted" ng-if="!ctrl.registries.length && !ctrl.isAdmin">\n                          No registries available. Contact your administrator to create a container registry.\n                        </span>\n                        <create-namespace-registries-selector\n                          input-id="\'registries-selector\'"\n                          value="ctrl.formValues.Registries"\n                          on-change="(ctrl.onRegistriesChange)"\n                          options="ctrl.registries"\n                        >\n                        </create-namespace-registries-selector>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- #endregion --\x3e\n\n                \x3c!-- #region STORAGES --\x3e\n                <div class="col-sm-12 form-section-title"> Storage </div>\n\n                <div class="form-group">\n                  <span class="col-sm-12 text-muted small">\n                    <p class="vertical-center">\n                      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n                      Quotas can be set on each storage option to prevent users from exceeding a specific threshold when deploying applications. You can set a quota to 0 to\n                      effectively prevent the usage of a specific storage option inside this namespace.\n                    </p>\n                  </span>\n                </div>\n\n                <div class="form-section-title text-muted col-sm-12" style="width: 100%">\n                  <div class="vertical-center"> <pr-icon icon="\'svg-route\'"></pr-icon>standard </div>\n                  <hr />\n                </div>\n\n                <storage-class-switch value="sc.Selected" name="sc.Name" on-change="(ctrl.onToggleStorageQuota)" authorization="K8sResourcePoolDetailsW"> </storage-class-switch>\n\n                \x3c!-- #endregion --\x3e\n\n                \x3c!-- summary --\x3e\n                <kubernetes-summary-view\n                  ng-if="resourcePoolEditForm.$valid && !ctrl.isUpdateButtonDisabled()"\n                  form-values="ctrl.formValues"\n                  old-form-values="ctrl.savedFormValues"\n                ></kubernetes-summary-view>\n                \x3c!-- !summary --\x3e\n\n                \x3c!-- actions --\x3e\n                <div ng-if="ctrl.isAdmin" class="col-sm-12 form-section-title"> Actions </div>\n                <div ng-if="ctrl.isAdmin" class="form-group">\n                  <div class="col-sm-12">\n                    <button\n                      type="button"\n                      ng-if="!ctrl.isSystem"\n                      class="btn btn-primary btn-sm !ml-0 !mr-1"\n                      ng-disabled="!resourcePoolEditForm.$valid || ctrl.isUpdateButtonDisabled()"\n                      ng-click="ctrl.updateResourcePool()"\n                      button-spinner="ctrl.state.actionInProgress"\n                    >\n                      <span ng-hide="ctrl.state.actionInProgress" data-cy="k8sNamespaceEdit-updateNamespaceButton">Update namespace</span>\n                      <span ng-show="ctrl.state.actionInProgress">Update in progress...</span>\n                    </button>\n                    <button\n                      ng-if="!ctrl.isDefaultNamespace"\n                      type="button"\n                      class="btn btn-light btn-sm !ml-0"\n                      ng-click="ctrl.markUnmarkAsSystem()"\n                      button-spinner="ctrl.state.actionInProgress"\n                      data-cy="k8sNamespaceEdit-markSystem"\n                    >\n                      <span ng-if="ctrl.isSystem">Unmark as system</span>\n                      <span ng-if="!ctrl.isSystem">Mark as system</span>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !actions --\x3e\n              </form>\n            </uib-tab>\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading class="vertical-center">\n                <pr-icon icon="\'svg-clockrewind\'"></pr-icon> Events\n                <div ng-if="ctrl.hasEventWarnings()">\n                  <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'" class-name="\'mr-0.5\'"></pr-icon>\n                  {{ ctrl.state.eventWarningCount }} warning(s)\n                </div>\n              </uib-tab-heading>\n              <kubernetes-events-datatable\n                title-text="Events"\n                title-icon="fa-history"\n                dataset="ctrl.events"\n                table-key="kubernetes.resourcepool.events"\n                order-by="Date"\n                reverse-order="true"\n                loading="ctrl.state.eventsLoading"\n                refresh-callback="ctrl.getEvents"\n              ></kubernetes-events-datatable>\n            </uib-tab>\n            <uib-tab index="2" ng-if="ctrl.pool.Yaml" select="ctrl.showEditor()" classes="btn-sm">\n              <uib-tab-heading class="vertical-center"><pr-icon icon="\'code\'" feather="true"></pr-icon> YAML </uib-tab-heading>\n              <div class="px-5" ng-if="ctrl.state.showEditorTab">\n                <kubernetes-yaml-inspector key="resource-pool-yaml" data="ctrl.pool.Yaml"></kubernetes-yaml-inspector>\n              </div>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.applications && ctrl.applications.length > 0">\n    <div class="col-sm-12">\n      <kubernetes-resource-pool-applications-datatable\n        dataset="ctrl.applications"\n        table-key="kubernetes.resourcepool.applications"\n        order-by="Name"\n        refresh-callback="ctrl.getApplications"\n        loading="ctrl.state.applicationsLoading"\n        title-text="Applications running in this namespace"\n        title-icon="code"\n      >\n      </kubernetes-resource-pool-applications-datatable>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.ingresses && ctrl.ingresses.length > 0">\n    <div class="col-sm-12">\n      <kubernetes-resource-pool-ingresses-datatable\n        dataset="ctrl.ingresses"\n        table-key="kubernetes.resourcepool.ingresses"\n        order-by="Name"\n        refresh-callback="ctrl.getIngresses"\n        loading="ctrl.state.ingressesLoading"\n        title-text="Ingress routes and applications"\n        title-icon="svg-route"\n      >\n      </kubernetes-resource-pool-ingresses-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},78268:function(e){var t="app/kubernetes/views/resource-pools/resourcePools.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header ng-if="ctrl.state.viewReady" title="\'Namespace list\'" breadcrumbs="[\'Namespaces\']" reload="true"></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <kubernetes-resource-pools-datatable\n        endpoint="ctrl.endpoint"\n        dataset="ctrl.resourcePools"\n        table-key="kubernetes.resourcePools"\n        order-by="Name"\n        remove-action="ctrl.removeAction"\n        refresh-callback="ctrl.getResourcePools"\n        endpoint="ctrl.endpoint"\n        data-cy="k8sNamespace-namespaceTable"\n      ></kubernetes-resource-pools-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},84579:function(e){var t="app/kubernetes/views/security-constraint/constraint.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="state.viewReady"\n  title="\'Kubernetes security constraints\'"\n  breadcrumbs="[\n{ label:\'Environments\', link:\'portainer.endpoints\' }, \n{ label:endpoint.Name, link:\'portainer.endpoints.endpoint\', linkParams:{id: endpoint.Id} }, \n\'Security constraints\'\n]"\n  reload="true"\n></page-header>\n\n<kubernetes-view-loading view-ready="state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-header icon="shield" feather-icon="true" title-text="Pod security constraints"></rd-widget-header>\n        <rd-widget-body>\n          <form class="form-horizontal" name="kubernetesSecurityConstraintForm">\n            \x3c!--  main toggle  --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <por-switch-field\n                  checked="formValues.enabled"\n                  name="\'disableSysctlSettingForRegularUsers\'"\n                  label="\'Enable pod security constraints\'"\n                  feature-id="limitedFeaturePodSecurityPolicy"\n                  label-class="\'col-sm-3 col-lg-2 px-0\'"\n                  switch-class="\'col-sm-8\'"\n                >\n                </por-switch-field>\n              </div>\n            </div>\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},88336:function(e){var t="app/kubernetes/views/stacks/logs/logs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Stacks logs\'"\n  breadcrumbs="[\n{ label:\'Namespaces\', link:\'kubernetes.resourcePools\' },\n{ label:ctrl.state.transition.namespace, link:\'kubernetes.resourcePools.resourcePool\', linkParams:{ id: ctrl.state.transition.namespace } },\n{ label:\'Applications\', link:\'kubernetes.applications\' },\n\'Stacks\',\nctrl.state.transition.name,\n\'Logs\'\n]"\n  reload="true"\n></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body>\n          <form class="form-horizontal" autocomplete="off">\n            <div class="col-sm-12 form-section-title"> Actions </div>\n            \x3c!-- auto-refresh --\x3e\n            <div class="form-group">\n              <label class="control-label text-left col-sm-3 col-lg-2 vertical-center !py-2">\n                Auto-refresh\n                <portainer-tooltip message="\'Automatically refresh logs every 30 seconds\'"></portainer-tooltip>\n              </label>\n              <div class="col-sm-8 col-sm-9 vertical-center">\n                <label class="switch col-sm-8 col-sm-9 vertical-center !mb-0">\n                  <input type="checkbox" ng-model="ctrl.state.autoRefresh" ng-change="ctrl.updateAutoRefresh()" />\n                  <span class="slider round"></span>\n                </label>\n              </div>\n            </div>\n            \x3c!-- !auto-refresh --\x3e\n            \x3c!-- search --\x3e\n            <div class="form-group">\n              <label for="logs_search" class="col-sm-3 col-lg-2 control-label text-left"> Search </label>\n              <div class="col-sm-8 col-lg-9">\n                <input\n                  class="form-control"\n                  type="text"\n                  name="logs_search"\n                  ng-model="ctrl.state.search"\n                  ng-change="ctrl.state.selectedLines.length = 0;"\n                  placeholder="Filter..."\n                  auto-focus\n                />\n              </div>\n            </div>\n            \x3c!-- !search --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button class="btn btn-primary btn-sm !ml-0 vertical-center" type="button" ng-click="ctrl.downloadLogs()">\n                  <pr-icon icon="\'download\'" feather="true"></pr-icon>\n                  Download logs\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12 h-[max(400px,calc(100vh-380px))]">\n      <pre class="log_viewer">\n        <div ng-repeat="log in ctrl.state.filteredLogs = (ctrl.stackLogs | filter:{ \'line\': ctrl.state.search }) track by $index" class="line" ng-if="log.line"><p class="inner_line"><span ng-style="{\'color\': log.appColor, \'font-weight\': \'bold\'};">{{ log.appName }}</span> <span ng-repeat="span in log.spans track by $index" ng-style="{ \'color\': span.fgColor, \'background-color\': span.bgColor, \'font-weight\': span.fontWeight }">{{ span.text }}</span></p></div>\n        <div ng-if="ctrl.stackLogs.length && !ctrl.state.filteredLogs.length" class="line"><p class="inner_line">No log line matching the \'{{ ctrl.state.search }}\' filter</p></div>\n        <div ng-if="ctrl.stackLogs.length === 0" class="line"><p class="inner_line">No logs available</p></div>\n    </pre>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},17648:function(e){var t="app/kubernetes/views/summary/summary.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="flex justify-start items-center form-section-title interactive" ng-click="$ctrl.toggleSummary()" ng-if="$ctrl.state.resources.length > 0">\n  <pr-icon icon="$ctrl.state.expandedTemplate ? \'chevron-down\' : \'chevron-right\'" feather="true" class="!mr-1 vertical-center"></pr-icon>\n  Summary\n</div>\n\n<div class="form-group" ng-if="$ctrl.state.expandedTemplate">\n  <div class="col-sm-12 small text-muted vertical-center">\n    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n    Portainer will execute the following Kubernetes actions.\n  </div>\n\n  <div class="col-sm-12 small text-muted" style="padding-top: 1em" ng-if="$ctrl.state.resources.length > 0">\n    <ul class="ml-5">\n      <li ng-repeat="summary in $ctrl.state.resources" ng-if="summary.action && summary.kind && summary.name">\n        {{ summary.action }}\n        {{ $ctrl.getArticle(summary.kind, summary.action) }}\n        <span class="bold">{{ summary.kind }}</span> named <code>{{ summary.name }}</code>\n        <span ng-if="summary.type">\n          of type <code>{{ summary.type }}</code></span\n        >\n      </li>\n      <li ng-if="$ctrl.state.limits.memory">\n        Set the memory resources limits and requests to <code>{{ $ctrl.state.limits.memory }}M</code>\n      </li>\n      <li ng-if="$ctrl.state.limits.cpu">\n        Set the CPU resources limits and requests to <code>{{ $ctrl.state.limits.cpu }}</code>\n      </li>\n    </ul>\n  </div>\n</div>\n')}]),e.exports=t},71894:function(e){var t="app/kubernetes/views/volumes/components/volumes-storages-datatable/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  \x3c!-- toolbar header actions and settings --\x3e\n  <div class="toolBar !flex-col gap-1">\n    <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap !p-0 w-full">\n      <div class="toolBarTitle vertical-center">\n        <div class="widget-icon space-right">\n          <pr-icon icon="\'hard-drive\'" feather="true"></pr-icon>\n        </div>\n        Storage\n      </div>\n      <div class="searchBar vertical-center !mr-0">\n        <pr-icon icon="\'search\'" feather="true"></pr-icon>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="Search for storage..."\n          auto-focus\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="settings">\n        <div class="setting" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n          <span uib-dropdown-toggle aria-label="Settings">\n            <pr-icon icon="\'more-vertical\'" feather="true" class-name="\'!mr-0 !h-4\'"></pr-icon>\n          </span>\n          <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n            <div class="tableMenu">\n              <div class="menuHeader"> Table settings </div>\n              <div class="menuContent">\n                <div>\n                  <div class="md-checkbox">\n                    <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                    <label for="setting_auto_refresh">Auto refresh</label>\n                  </div>\n                  <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                    <label for="settings_refresh_rate"> Refresh rate </label>\n                    <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                      <option value="10">10s</option>\n                      <option value="30">30s</option>\n                      <option value="60">1min</option>\n                      <option value="120">2min</option>\n                      <option value="300">5min</option>\n                    </select>\n                    <span>\n                      <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="table-responsive">\n    <table class="table table-hover nowrap-cells">\n      <thead>\n        <tr>\n          <th class="datatable-wide dropdown" ng-if="$ctrl.hasExpandableItems()">\n            <div class="cursor-pointer vertical-center" ng-click="$ctrl.expandAll()">\n              <pr-icon ng-if="$ctrl.state.expandAll" icon="\'chevron-down\'" feather="true"></pr-icon>\n              <pr-icon ng-if="!$ctrl.state.expandAll" icon="\'chevron-right\'" feather="true"></pr-icon>\n            </div>\n          </th>\n          <th style="width: 60%">\n            <table-column-header\n              col-title="\'Storage\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Name\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Name\')"\n            ></table-column-header>\n          </th>\n          <th style="width: 38%">\n            <table-column-header\n              col-title="\'Usage\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'Size\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'Size\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'Size\')"\n            ></table-column-header>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          dir-paginate-start="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))"\n          ng-class="{ active: item.Checked, \'datatable-highlighted\': item.Highlighted }"\n          ng-click="$ctrl.expandItem(item, !item.Expanded)"\n          pagination-id="$ctrl.tableKey"\n        >\n          <td ng-if="$ctrl.hasExpandableItems()">\n            <div ng-if="$ctrl.itemCanExpand(item)" class="vertical-center">\n              <pr-icon ng-if="item.Expanded" icon="\'chevron-down\'" feather="true"></pr-icon>\n              <pr-icon ng-if="!item.Expanded" icon="\'chevron-right\'" feather="true"></pr-icon>\n            </div>\n          </td>\n          <td>{{ item.Name }}</td>\n          <td>{{ item.Size }}</td>\n        </tr>\n        <tr\n          dir-paginate-end\n          ng-show="item.Expanded"\n          ng-repeat="vol in item.Volumes"\n          ng-class="{ \'datatable-highlighted\': item.Highlighted, \'datatable-unhighlighted\': !item.Highlighted }"\n        >\n          <td></td>\n          <td>\n            <a ui-sref="kubernetes.volumes.volume({ name: vol.PersistentVolumeClaim.Name, namespace: vol.PersistentVolumeClaim.Namespace })">\n              {{ vol.PersistentVolumeClaim.Name }}\n            </a>\n          </td>\n          <td>\n            {{ vol.PersistentVolumeClaim.Storage }}\n          </td>\n        </tr>\n        <tr ng-if="!$ctrl.dataset">\n          <td colspan="5" class="text-center text-muted">Loading...</td>\n        </tr>\n        <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n          <td colspan="5" class="text-center text-muted">No storage available.</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="footer pl-5" ng-if="$ctrl.dataset">\n    <div class="infoBar !ml-0" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span style="margin-right: 5px"> Items per page </span>\n          <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5" pagination-id="$ctrl.tableKey"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},86604:function(e){var t="app/kubernetes/views/volumes/edit/volume.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  ng-if="ctrl.state.viewReady"\n  title="\'Volume details\'"\n  breadcrumbs="[\n    { label:\'Namespaces\', link:\'kubernetes.resourcePools\' },\n    {\n      label:ctrl.volume.ResourcePool.Namespace.Name,\n      link: \'kubernetes.resourcePools.resourcePool\',\n      linkParams:{ id: ctrl.volume.ResourcePool.Namespace.Name }\n    },\n    { label:\'Volumes\', link:\'kubernetes.volumes\' },\n     ctrl.volume.PersistentVolumeClaim.Name,\n     ]"\n  reload="true"\n>\n</page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading class="vertical-center" data-cy="k8sVolDetail-volTab">\n                <pr-icon icon="\'database\'" feather="true"></pr-icon>\n                Volume\n              </uib-tab-heading>\n              <div style="padding: 20px">\n                <table class="table">\n                  <tbody>\n                    <tr>\n                      <td>Name</td>\n                      <td data-cy="k8sVolDetail-volName">\n                        {{ ctrl.volume.PersistentVolumeClaim.Name }}\n                        <span class="label label-primary image-tag label-margins" ng-if="!ctrl.isSystemNamespace() && ctrl.isExternalVolume()">external</span>\n                        <span class="label label-warning image-tag label-margins" ng-if="!ctrl.isSystemNamespace() && !ctrl.isUsed()">unused</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Namespace</td>\n                      <td>\n                        <a ui-sref="kubernetes.resourcePools.resourcePool({ id: ctrl.volume.ResourcePool.Namespace.Name })" data-cy="k8sVolDetail-volNamespace">{{\n                          ctrl.volume.ResourcePool.Namespace.Name\n                        }}</a>\n                        <span style="margin-left: 5px" class="label label-info image-tag" ng-if="ctrl.isSystemNamespace()">system</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>Storage</td>\n                      <td data-cy="k8sVolDetail-volStorageClassname">{{ ctrl.volume.PersistentVolumeClaim.StorageClass.Name }}</td>\n                    </tr>\n                    <tr>\n                      <td>Shared Access Policy</td>\n                      <td data-cy="k8sVolDetail-volAccessPolicy"\n                        >{{ ctrl.state.volumeSharedAccessPolicy }}\n                        <portainer-tooltip ng-if="ctrl.state.volumeSharedAccessPolicyTooltip" message="ctrl.state.volumeSharedAccessPolicyTooltip"></portainer-tooltip\n                      ></td>\n                    </tr>\n                    <tr>\n                      <td>Provisioner</td>\n                      <td data-cy="k8sVolDetail-volProvisioner">{{\n                        ctrl.volume.PersistentVolumeClaim.StorageClass.Provisioner ? ctrl.volume.PersistentVolumeClaim.StorageClass.Provisioner : \'-\'\n                      }}</td>\n                    </tr>\n                    <tr>\n                      <td>Creation date</td>\n                      <td data-cy="k8sVolDetail-volCreatedAt">{{ ctrl.volume.PersistentVolumeClaim.CreationDate | getisodate }}</td>\n                    </tr>\n                    <tr>\n                      <td>Size</td>\n                      <td ng-if="!ctrl.state.increaseSize">\n                        {{ ctrl.volume.PersistentVolumeClaim.Storage }}\n                        <button\n                          type="button"\n                          class="btn btn-sm btn-primary"\n                          ng-click="ctrl.state.increaseSize = true"\n                          ng-if="ctrl.volume.PersistentVolumeClaim.StorageClass.AllowVolumeExpansion"\n                          data-cy="k8sVolDetail-increaseSizeButton"\n                          >Increase size</button\n                        >\n                      </td>\n                      <td ng-if="ctrl.state.increaseSize">\n                        <form name="kubernetesVolumeUpdateForm">\n                          <div class="form-inline">\n                            <div class="input-group input-group-sm">\n                              <input\n                                type="number"\n                                class="form-control"\n                                name="size"\n                                ng-model="ctrl.state.volumeSize"\n                                placeholder="20"\n                                ng-min="0"\n                                min="0"\n                                ng-change="ctrl.onChangeSize()"\n                                required\n                                data-cy="k8sVolDetail-increaseSizeInput"\n                              />\n                              <span class="input-group-addon" style="padding: 0">\n                                <select\n                                  ng-model="ctrl.state.volumeSizeUnit"\n                                  ng-change="ctrl.onChangeSize()"\n                                  ng-options="unit for unit in ctrl.state.availableSizeUnits"\n                                  style="width: 100%; height: 100%"\n                                  data-cy="k8sVolDetail-increaseSizeUnits"\n                                ></select>\n                              </span>\n                            </div>\n                            <button\n                              type="button"\n                              class="btn btn-sm btn-primary"\n                              ng-disabled="!ctrl.sizeIsValid()"\n                              ng-click="ctrl.updateVolume()"\n                              data-cy="k8sVolDetail-updateSizeConfirm"\n                            >\n                              Update size\n                            </button>\n                            <button type="button" class="btn btn-sm btn-default" ng-click="ctrl.state.increaseSize = false" data-cy="k8sVolDetail-cancelUpdateSize">\n                              Cancel\n                            </button>\n                          </div>\n\n                          <div class="form-inline">\n                            <div class="small text-warning" style="margin-top: 5px" ng-show="ctrl.state.errors.volumeSize || kubernetesVolumeUpdateForm.size.$invalid">\n                              <div class="vertical-center" ng-messages="kubernetesVolumeUpdateForm.size.$error">\n                                <p ng-message="required"><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> This field is required.</p>\n                              </div>\n                              <p class="vertical-center" ng-show="ctrl.state.errors.volumeSize"\n                                ><pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> The new size must be greater than the actual size.</p\n                              >\n                            </div>\n                          </div>\n                        </form>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </uib-tab>\n\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading class="vertical-center" data-cy="k8sVolDetail-volEventsTab">\n                <pr-icon icon="\'svg-clockrewind\'" feather="true"></pr-icon> Events\n                <div ng-if="ctrl.hasEventWarnings()">\n                  <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                  {{ ctrl.state.eventWarningCount }} warning(s)\n                </div>\n              </uib-tab-heading>\n              <kubernetes-events-datatable\n                title-text="Events"\n                title-icon="file-text"\n                dataset="ctrl.events"\n                table-key="kubernetes.volume.events"\n                order-by="Date"\n                reverse-order="true"\n                loading="ctrl.state.eventsLoading"\n                refresh-callback="ctrl.getEvents"\n              >\n              </kubernetes-events-datatable>\n            </uib-tab>\n\n            <uib-tab index="2" ng-if="ctrl.volume.PersistentVolumeClaim.Yaml" select="ctrl.showEditor()" classes="btn-sm">\n              <uib-tab-heading class="vertical-center" data-cy="k8sVolDetail-volYamlTab"> <pr-icon icon="\'code\'" feather="true"></pr-icon> YAML </uib-tab-heading>\n              <div class="px-5" ng-if="ctrl.state.showEditorTab">\n                <kubernetes-yaml-inspector key="volume-yaml" data="ctrl.volume.PersistentVolumeClaim.Yaml"></kubernetes-yaml-inspector>\n              </div>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <div class="row" ng-if="ctrl.isUsed(item)">\n    <div class="col-sm-12">\n      <kubernetes-integrated-applications-datatable\n        dataset="ctrl.volume.Applications"\n        table-key="kubernetes.volume.applications"\n        order-by="Name"\n        refresh-callback="ctrl.getVolume"\n        title-text="Applications using this volume"\n        title-icon="svg-laptopcode"\n      >\n      </kubernetes-integrated-applications-datatable>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},44e3:function(e){var t="app/kubernetes/views/volumes/volumes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header ng-if="ctrl.state.viewReady" title="\'Volume list\'" breadcrumbs="[\'Volumes\']" reload="true"></page-header>\n\n<kubernetes-view-loading view-ready="ctrl.state.viewReady"></kubernetes-view-loading>\n\n<div ng-if="ctrl.state.viewReady">\n  <div class="row">\n    <div class="col-sm-12">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <uib-tabset active="ctrl.state.activeTab" justified="true" type="pills">\n            <uib-tab index="0" classes="btn-sm" select="ctrl.selectTab(0)">\n              <uib-tab-heading class="vertical-center">\n                <pr-icon icon="\'database\'" feather="true"></pr-icon>\n                Volumes\n              </uib-tab-heading>\n              <kubernetes-volumes-datatable\n                dataset="ctrl.volumes"\n                table-key="kubernetes.volumes"\n                order-by="PersistentVolumeClaim.Name"\n                remove-action="ctrl.removeAction"\n                refresh-callback="ctrl.getVolumes"\n                data-cy="k8s-volumes-datatable"\n              >\n              </kubernetes-volumes-datatable>\n            </uib-tab>\n            <uib-tab index="1" classes="btn-sm" select="ctrl.selectTab(1)">\n              <uib-tab-heading class="vertical-center">\n                <pr-icon icon="\'hard-drive\'" feather="true"></pr-icon>\n                Storage\n              </uib-tab-heading>\n              <kubernetes-volumes-storages-datatable dataset="ctrl.storages" table-key="kubernetes.volumes.storages" order-by="Name" refresh-callback="ctrl.getVolumes">\n              </kubernetes-volumes-storages-datatable>\n            </uib-tab>\n          </uib-tabset>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},4483:function(e){var t="app/portainer/components/BEFeatureIndicator/BEFeatureIndicator.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<a class="ml-5 vertical-center" href="{{ $ctrl.url }}" target="_blank" rel="noopener" ng-if="$ctrl.limitedToBE">\n  <ng-transclude></ng-transclude>\n  <pr-icon icon="\'briefcase\'" feather="true" class-name="\'icon icon-sm vertical-center\'"></pr-icon>\n  <span class="be-indicator-label">Business Edition Feature</span>\n</a>\n')}]),e.exports=t},88659:function(e){var t="app/portainer/components/InformationPanel/InformationPanelAngular.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <div class="col-sm-12 form-section-title">\n          <span style="float: left">\n            {{ $ctrl.titleText }}\n          </span>\n          <span class="small" style="float: right" ng-if="$ctrl.dismissAction">\n            <a ng-click="$ctrl.dismissAction()"><i class="fa fa-times"></i> dismiss</a>\n          </span>\n        </div>\n        <div class="form-group">\n          <ng-transclude></ng-transclude>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},54296:function(e){var t="app/portainer/components/access-datatable/accessDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search..."\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div class="actionBar">\n          <button\n            type="button"\n            class="btn btn-sm btn-dangerlight vertical-center"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n            Remove\n          </button>\n        </div>\n      </div>\n\n      <div class="mx-4 mb-4 small text-muted">\n        <div class="" ng-if="$ctrl.inheritFrom">\n          Access tagged as <code>inherited</code> are inherited from the group access. They cannot be removed or modified at the environment level but they can be overridden.\n        </div>\n        <div class="" ng-if="$ctrl.inheritFrom"> Access tagged as <code>override</code> are overriding the group access for the related users/teams. </div>\n      </div>\n\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <div class="vertical-center">\n                  <span class="md-checkbox">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Name\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Name\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Type\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Type\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Type\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-disabled="$ctrl.disableRemove(item)" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.Name }}\n                <span ng-if="$ctrl.inheritFrom && item.Inherited" class="text-muted small" style="margin-left: 2px"><code style="font-size: 85% !important">inherited</code></span>\n                <span ng-if="$ctrl.inheritFrom && item.Override" class="text-muted small" style="margin-left: 2px"><code style="font-size: 85% !important">override</code></span>\n              </td>\n              <td>{{ item.Type }}</td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="4" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="4" class="text-center text-muted">No authorized users or teams.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},9420:function(e){var t="app/portainer/components/access-table/accessTable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <table class="table table-hover">\n    <div class="col-sm-12">\n      <i class="fa fa-search searchIcon" aria-hidden="true"></i>\n      <input\n        type="text"\n        class="searchInput"\n        ng-model="$ctrl.state.textFilter"\n        ng-change="$ctrl.onTextFilterChange()"\n        placeholder="Search..."\n        ng-model-options="{ debounce: 300 }"\n      />\n    </div>\n    <thead>\n      <tr>\n        <th>\n          <a ng-click="$ctrl.changeOrderBy(\'Name\')">\n            Name\n            <span ng-show="$ctrl.state.orderBy == \'Name\' && !$ctrl.state.reverseOrder" class="glyphicon glyphicon-chevron-down"></span>\n            <span ng-show="$ctrl.state.orderBy == \'Name\' && $ctrl.state.reverseOrder" class="glyphicon glyphicon-chevron-up"></span>\n          </a>\n        </th>\n        <th>\n          <a ng-click="$ctrl.changeOrderBy(\'Type\')">\n            Type\n            <span ng-show="$ctrl.state.orderBy == \'Type\' && !$ctrl.state.reverseOrder" class="glyphicon glyphicon-chevron-down"></span>\n            <span ng-show="$ctrl.state.orderBy == \'Type\' && $ctrl.state.reverseOrder" class="glyphicon glyphicon-chevron-up"></span>\n          </a>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        ng-click="!item.Inherited && $ctrl.entryClick(item)"\n        ng-class="{ interactive: !item.Inherited }"\n        dir-paginate="item in $ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit"\n      >\n        <td>\n          {{ item.Name }}\n          \x3c!-- <span class="image-tag label label-">inherited</span> --\x3e\n          <span ng-if="item.Inherited" class="text-muted small" style="margin-left: 2px"><code style="font-size: 85% !important">inherited</code></span>\n        </td>\n        <td>\n          <i class="fa" ng-class="item.Type === \'user\' ? \'fa-user\' : \'fa-users\'" aria-hidden="true" style="margin-right: 2px"></i>\n          {{ item.Type }}\n        </td>\n      </tr>\n      <tr ng-if="!$ctrl.dataset">\n        <td colspan="2" class="text-center text-muted">Loading...</td>\n      </tr>\n      <tr\n        ng-if="\n          $ctrl.dataset.length === 0 ||\n          ($ctrl.dataset | filter: $ctrl.state.textFilter | orderBy: $ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit).length === 0\n        "\n      >\n        <td colspan="2" class="text-center text-muted">{{ $ctrl.emptyDatasetMessage }}</td>\n      </tr>\n    </tbody>\n  </table>\n  <div class="footer" ng-if="$ctrl.dataset">\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span style="margin-right: 5px"> Items per page </span>\n          <select ng-model="$ctrl.state.paginatedItemLimit">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},62495:function(e){var t="app/portainer/components/accessControlForm/porAccessControlForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div ng-if="!$ctrl.hideTitle" class="col-sm-12 form-section-title"> Access control </div>\n  \x3c!-- access-control-switch --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field\n        label-class="\'col-sm-2\'"\n        checked="$ctrl.formData.AccessControlEnabled"\n        label="\'Enable access control\'"\n        tooltip="\'When enabled, you can restrict the access and management of this resource.\'"\n        on-change="($ctrl.onChangeEnablement)"\n        data-cy="portainer-accessMgmtToggle"\n      ></por-switch-field>\n    </div>\n  </div>\n  \x3c!-- !access-control-switch --\x3e\n  \x3c!-- restricted-access --\x3e\n  <div class="form-group" ng-if="$ctrl.formData.AccessControlEnabled">\n    <div class="col-sm-12">\n      <div class="boxselector_wrapper">\n        <div ng-if="$ctrl.isAdmin">\n          <input type="radio" id="access_administrators" ng-model="$ctrl.formData.Ownership" value="administrators" />\n          <label for="access_administrators" data-cy="portainer-selectAdminAccess">\n            <div class="boxselector_header">\n              <pr-icon icon="\'eye-off\'" feather="true"></pr-icon>\n              Administrators\n            </div>\n            <p class="boxselector_content">I want to restrict the management of this resource to administrators only</p>\n          </label>\n        </div>\n        <div ng-if="$ctrl.isAdmin">\n          <input type="radio" id="access_restricted" ng-model="$ctrl.formData.Ownership" value="restricted" />\n          <label for="access_restricted" data-cy="portainer-selectRestrictedAccess">\n            <div class="boxselector_header">\n              <pr-icon icon="\'users\'" feather="true"></pr-icon>\n              Restricted\n            </div>\n            <p class="boxselector_content"> I want to restrict the management of this resource to a set of users and/or teams </p>\n          </label>\n        </div>\n        <div ng-if="!$ctrl.isAdmin">\n          <input type="radio" id="access_private" ng-model="$ctrl.formData.Ownership" value="private" />\n          <label for="access_private">\n            <div class="boxselector_header">\n              <pr-icon icon="\'eye-off\'" feather="true"></pr-icon>\n              Private\n            </div>\n            <p> I want to this resource to be manageable by myself only </p>\n          </label>\n        </div>\n        <div ng-if="!$ctrl.isAdmin && $ctrl.availableTeams.length > 0">\n          <input type="radio" id="access_restricted" ng-model="$ctrl.formData.Ownership" value="restricted" />\n          <label for="access_restricted">\n            <div class="boxselector_header">\n              <pr-icon icon="\'users\'" feather="true"></pr-icon>\n\n              Restricted\n            </div>\n            <p ng-if="$ctrl.availableTeams.length === 1">\n              I want any member of my team (<b>{{ $ctrl.availableTeams[0].Name }}</b\n              >) to be able to manage this resource\n            </p>\n            <p ng-if="$ctrl.availableTeams.length > 1"> I want to restrict the management of this resource to one or more of my teams </p>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- restricted-access --\x3e\n  \x3c!-- authorized-teams --\x3e\n  <div\n    class="form-group mt-4"\n    ng-if="$ctrl.formData.AccessControlEnabled && $ctrl.formData.Ownership === $ctrl.RCO.RESTRICTED && ($ctrl.isAdmin || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1))"\n  >\n    <div class="w-full vertical-center">\n      <label for="group-access" class="control-label text-left col-sm-3 col-lg-2 !pt-0">\n        Authorized teams\n        <portainer-tooltip\n          ng-if="$ctrl.isAdmin && $ctrl.availableTeams.length > 0"\n          message="\'You can select which teams(s) will be able to manage this resource.\'"\n        ></portainer-tooltip>\n        <portainer-tooltip\n          ng-if="!$ctrl.isAdmin && $ctrl.availableTeams.length > 1"\n          message="\'As you are a member of multiple teams, you can select which teams(s) will be able to manage this resource.\'"\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <span ng-if="$ctrl.isAdmin && $ctrl.availableTeams.length === 0" class="small text-muted">\n          You have not yet created any teams. Head over to the <a ui-sref="portainer.teams">Teams view</a> to manage teams.\n        </span>\n\n        <por-access-control-form-team-selector\n          ng-if="($ctrl.isAdmin && $ctrl.availableTeams.length > 0) || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1)"\n          options="$ctrl.availableTeams"\n          value="$ctrl.formData.AuthorizedTeams"\n          input-id="\'teams-selector\'"\n          on-change="($ctrl.onAuthorizedTeamsChange)"\n        ></por-access-control-form-team-selector>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- !authorized-teams --\x3e\n  \x3c!-- authorized-users --\x3e\n  <div class="form-group" ng-if="$ctrl.formData.AccessControlEnabled && $ctrl.formData.Ownership === $ctrl.RCO.RESTRICTED && $ctrl.isAdmin">\n    <div class="w-full vertical-center">\n      <label for="group-access" class="control-label text-left col-sm-3 col-lg-2 !pt-0">\n        Authorized users\n        <portainer-tooltip\n          ng-if="$ctrl.isAdmin && $ctrl.availableUsers.length > 0"\n          message="\'You can select which user(s) will be able to manage this resource.\'"\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <span ng-if="$ctrl.availableUsers.length === 0" class="small text-muted">\n          You have not yet created any users. Head over to the <a ui-sref="portainer.users">Users view</a> to manage users.\n        </span>\n\n        <por-access-control-form-user-selector\n          ng-if="$ctrl.availableUsers.length > 0"\n          options="$ctrl.availableUsers"\n          value="$ctrl.formData.AuthorizedUsers"\n          input-id="\'users-selector\'"\n          on-change="($ctrl.onAuthorizedUsersChange)"\n        ></por-access-control-form-user-selector>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !authorized-users --\x3e\n</div>\n')}]),e.exports=t},63185:function(e){var t="app/portainer/components/accessManagement/porAccessManagement.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12">\n    <rd-widget ng-if="ctrl.availableUsersAndTeams && ctrl.accessControlledEntity">\n      <rd-widget-header icon="user-check" feather-icon="true" title-text="Create access"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div ng-if="ctrl.entityType !== \'registry\'" class="form-group">\n            <span class="col-sm-12 small text-warning">\n              <p class="vertical-center">\n                <pr-icon icon="\'alert-circle\'" mode="\'warning\'" feather="true"></pr-icon>\n                Adding user access will require the affected user(s) to logout and login for the changes to be taken into account.\n              </p>\n            </span>\n          </div>\n\n          <por-access-management-users-selector\n            options="ctrl.availableUsersAndTeams"\n            value="ctrl.formValues.multiselectOutput"\n            on-change="(ctrl.onChangeUsersAndTeams)"\n          ></por-access-management-users-selector>\n\n          <div class="form-group" ng-if="ctrl.entityType !== \'registry\'">\n            <label class="col-sm-3 col-lg-2 control-label text-left"> Role </label>\n            <div class="col-sm-9 col-lg-6">\n              <div class="flex items-center">\n                <div>\n                  <select\n                    class="form-control"\n                    ng-model="ctrl.formValues.selectedRole"\n                    ng-options="role as ctrl.roleLabel(role) disable when ctrl.isRoleLimitedToBE(role) for role in ctrl.roles"\n                  >\n                  </select>\n                </div>\n                <be-feature-indicator feature="ctrl.limitedFeature" class="space-left"></be-feature-indicator>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="submit"\n                class="btn btn-primary btn-sm vertical-center"\n                ng-disabled="ctrl.formValues.multiselectOutput.length === 0 || ctrl.actionInProgress"\n                ng-click="ctrl.authorizeAccess()"\n                button-spinner="ctrl.actionInProgress"\n                data-cy="access-createAccess"\n              >\n                <span ng-hide="ctrl.state.actionInProgress" class="vertical-center">\n                  <pr-icon icon="\'plus\'" feather="true"></pr-icon>\n                  Create access\n                </span>\n                <span ng-show="ctrl.state.actionInProgress">Creating access...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n<div class="row">\n  <div class="col-sm-12">\n    <access-datatable\n      ng-if="ctrl.authorizedUsersAndTeams"\n      title-text="Access"\n      title-icon="user-x"\n      table-key="{{ \'access_\' + ctrl.entityType }}"\n      order-by="Name"\n      show-warning="ctrl.entityType !== \'registry\'"\n      is-update-enabled="ctrl.entityType !== \'registry\'"\n      show-roles="ctrl.entityType !== \'registry\'"\n      roles="ctrl.roles"\n      inherit-from="ctrl.inheritFrom"\n      dataset="ctrl.authorizedUsersAndTeams"\n      update-action="ctrl.updateAction"\n      remove-action="ctrl.unauthorizeAccess"\n    >\n    </access-datatable>\n  </div>\n</div>\n')}]),e.exports=t},3401:function(e){var t="app/portainer/components/associated-endpoints-selector/associatedEndpointsSelector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 small text-muted">\n  You can select which environment should be part of this group by moving them to the associated environments table. Simply click on any environment entry to move it from one table\n  to the other.\n</div>\n<div class="col-sm-12" style="margin-top: 20px">\n  <div class="table-row-container">\n    \x3c!-- available-endpoints --\x3e\n    <div class="datatable table-in-row">\n      <group-association-table\n        loaded="$ctrl.loaded"\n        page-type="$ctrl.pageType"\n        table-type="available"\n        retrieve-page="$ctrl.getAvailableEndpoints"\n        dataset="$ctrl.endpoints.available"\n        entry-click="$ctrl.associateEndpoint"\n        pagination-state="$ctrl.state.available"\n        empty-dataset-message="No environment available"\n        tags="$ctrl.tags"\n        show-tags="true"\n        groups="$ctrl.groups"\n        show-groups="true"\n        has-backend-pagination="true"\n        title="Available environments"\n        data-cy="edgeGroupCreate-availableEndpoints"\n      ></group-association-table>\n    </div>\n    \x3c!-- !available-endpoints --\x3e\n    \x3c!-- associated-endpoints --\x3e\n    <div class="datatable table-in-row">\n      <group-association-table\n        loaded="$ctrl.loaded"\n        page-type="$ctrl.pageType"\n        table-type="associated"\n        retrieve-page="$ctrl.getAssociatedEndpoints"\n        dataset="$ctrl.endpoints.associated"\n        entry-click="$ctrl.dissociateEndpoint"\n        pagination-state="$ctrl.state.associated"\n        empty-dataset-message="No associated environment"\n        tags="$ctrl.tags"\n        show-tags="true"\n        groups="$ctrl.groups"\n        show-groups="true"\n        has-backend-pagination="true"\n        title="Associated environments"\n        data-cy="edgeGroupCreate-associatedEndpoints"\n      ></group-association-table>\n    </div>\n    \x3c!-- !associated-endpoints --\x3e\n  </div>\n</div>\n')}]),e.exports=t},78254:function(e){var t="app/portainer/components/beta-panel/betaPanel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<information-panel title-text="Information">\n  <span class="small">\n    <p class="text-muted">\n      <i class="fa fa-flask orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      This is a beta feature.\n    </p>\n  </span>\n</information-panel>\n')}]),e.exports=t},98778:function(e){var t="app/portainer/components/code-editor/codeEditor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<textarea id="{{ $ctrl.identifier }}" class="form-control" placeholder="{{ $ctrl.placeholder }}"></textarea>\n')}]),e.exports=t},18164:function(e){var t="app/portainer/components/copy-button/copy-button.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span>\n  <button type="button" class="btn btn-link nopadding" ng-click="$ctrl.copyValueText()" title="Copy Value">\n    <pr-icon icon="\'clipboard\'" feather="true"></pr-icon>\n    Copy\n  </button>\n  <span ng-class="{ \'copy-button-fadeout\': $ctrl.state.isFading }" class="copy-button-copy-text">\n    <pr-icon icon="\'check\'" feather="true"></pr-icon>\n    copied\n  </span>\n</span>\n')}]),e.exports=t},48794:function(e){var t="app/portainer/components/custom-template-common-fields/customTemplateCommonFields.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="commonCustomTemplateForm">\n  \x3c!-- title-input --\x3e\n  <div class="form-group mb-0">\n    <label for="template_title" class="col-sm-3 col-lg-2 control-label text-left required"> Title </label>\n    <div class="col-sm-8">\n      <input\n        type="text"\n        class="form-control"\n        ng-model="$ctrl.formValues.Title"\n        ng-pattern="$ctrl.nameRegex"\n        id="template_title"\n        name="template_title"\n        placeholder="e.g. mytemplate"\n        auto-focus\n        required\n      />\n      <span class="help-block">\n        <div ng-show="commonCustomTemplateForm.template_title.$invalid">\n          <div class="mt-2 small text-warning">\n            <div ng-messages="commonCustomTemplateForm.template_title.$error">\n              <p class="vertical-center" ng-message="required"> <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> Title is required. </p>\n              <p class="vertical-center" ng-message="pattern">\n                <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                This field must consist of lower case alphanumeric characters, \'_\' or \'-\' (e.g. \'my-name\', or \'abc-123\').\n              </p>\n            </div>\n          </div>\n        </div>\n      </span>\n    </div>\n  </div>\n  \x3c!-- !title-input --\x3e\n\n  \x3c!-- description-input --\x3e\n  <div class="form-group mb-0">\n    <label for="description" class="col-sm-3 col-lg-2 control-label text-left required">Description</label>\n    <div class="col-sm-8">\n      <input type="text" class="form-control" id="description" ng-model="$ctrl.formValues.Description" name="description" required />\n      <span class="help-block">\n        <div class="mt-2 small text-warning">\n          <div ng-show="commonCustomTemplateForm.description.$invalid">\n            <div ng-messages="commonCustomTemplateForm.description.$error">\n              <p class="vertical-center" ng-message="required"> <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon> Description is required.</p>\n            </div>\n          </div>\n        </div>\n      </span>\n    </div>\n  </div>\n  \x3c!-- !description-input --\x3e\n\n  \x3c!-- note-input --\x3e\n  <div class="form-group">\n    <label for="note" class="col-sm-3 col-lg-2 control-label text-left">Note</label>\n    <div class="col-sm-8">\n      <input type="text" class="form-control" id="note" ng-model="$ctrl.formValues.Note" />\n    </div>\n  </div>\n  \x3c!-- !note-input --\x3e\n\n  \x3c!-- icon-url-input --\x3e\n  <div class="form-group">\n    <label for="icon-url" class="col-sm-3 col-lg-2 control-label text-left">Icon URL</label>\n    <div class="col-sm-8">\n      <input type="text" class="form-control" id="icon-url" ng-model="$ctrl.formValues.Logo" />\n    </div>\n  </div>\n  \x3c!-- !icon-url-input --\x3e\n\n  \x3c!-- platform-input --\x3e\n  <div ng-if="$ctrl.showPlatformField" class="form-group">\n    <label for="platform" class="col-sm-3 col-lg-2 control-label text-left">Platform</label>\n    <div class="col-sm-8">\n      <select class="form-control" ng-model="$ctrl.formValues.Platform" ng-options="+(opt.value) as opt.label for opt in $ctrl.platformTypes"> </select>\n    </div>\n  </div>\n  \x3c!-- !platform-input --\x3e\n\n  \x3c!-- platform-input --\x3e\n  <div ng-if="$ctrl.showTypeField" class="form-group">\n    <label for="platform" class="col-sm-3 col-lg-2 control-label text-left">Type</label>\n    <div class="col-sm-8">\n      <select class="form-control" ng-model="$ctrl.formValues.Type" ng-options="+(opt.value) as opt.label for opt in $ctrl.templateTypes"> </select>\n    </div>\n  </div>\n  \x3c!-- !platform-input --\x3e\n</ng-form>\n')}]),e.exports=t},43921:function(e){var t="app/portainer/components/custom-template-selector/custom-template-selector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div class="form-group pt-3">\n    <label for="stack_template" class="col-sm-3 col-lg-2 control-label text-left"> Template </label>\n    <div class="col-sm-8 vertical-center">\n      <select\n        ng-if="$ctrl.templates.length"\n        class="form-control"\n        ng-model="$ctrl.value"\n        ng-options="template.Id as template.label for template in $ctrl.templates"\n        ng-change="$ctrl.handleChangeTemplate($ctrl.value)"\n      >\n        <option value="" label="Select a Custom template" disabled selected="selected"> </option>\n      </select>\n      <span class="small text-muted pt-[7px]" ng-if="!$ctrl.templates.length">\n        No custom templates are available. Head over to the <a ui-state="$ctrl.newTemplatePath">custom template view</a> to create one.\n      </span>\n    </div>\n  </div>\n\n  \x3c!-- description --\x3e\n  <div ng-if="$ctrl.selectedTemplate.note">\n    <div class="col-sm-12 form-section-title"> Information </div>\n    <div class="form-group">\n      <div class="col-sm-12">\n        <div class="template-note" ng-bind-html="$ctrl.selectedTemplate.note"></div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !description --\x3e\n</div>\n')}]),e.exports=t},81704:function(e){var t="app/portainer/components/custom-templates-list/customTemplatesList.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap">\n        <div class="toolBarTitle vertical-center">\n          <pr-icon icon="$ctrl.titleIcon" feather="true" class-name="\'icon-nested-blue\'" mode="\'primary\'"></pr-icon>\n          Custom Templates\n        </div>\n        <div class="searchBar vertical-center !mr-0">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a template..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div class="actionBar">\n          <button type="button" class="btn btn-sm btn-primary" ui-state="$ctrl.createPath">\n            <pr-icon icon="\'plus\'" feather="true"></pr-icon>\n            Add Custom Template\n          </button>\n        </div>\n      </div>\n\n      <div class="blocklist !px-[20px] gap-y-2 !pb-[20px]">\n        <template-item\n          ng-repeat="template in $ctrl.templates | filter:$ctrl.state.textFilter"\n          model="template"\n          type-label="{{ $ctrl.typeLabel(template.Type) }}"\n          on-select="($ctrl.onSelectClick)"\n        >\n          <template-item-actions>\n            <div ng-if="$ctrl.isEditAllowed(template)" class="vertical-center">\n              <a ui-state="$ctrl.editPath" ui-state-params="{id: template.Id}" ng-click="$event.stopPropagation();" class="btn btn-secondary btn-sm vertical-center">\n                <pr-icon icon="\'edit\'" feather="true"></pr-icon>\n                Edit\n              </a>\n              <button class="btn btn-dangerlight btn-sm vertical-center" ng-click="$ctrl.onDeleteClick(template.Id); $event.stopPropagation();">\n                <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n                Delete\n              </button>\n            </div>\n          </template-item-actions>\n        </template-item>\n        <div ng-if="!$ctrl.templates" class="text-center text-muted"> Loading... </div>\n        <div ng-if="($ctrl.templates | filter: $ctrl.state.textFilter).length === 0" class="text-center text-muted"> No templates available. </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},24122:function(e){var t="app/portainer/components/datatables/access-tokens-datatable/access-tokens-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable" style="margin-top: 25px">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar vertical-center">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          <span>{{ $ctrl.titleText }}</span>\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class="searchIcon"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search..."\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div class="actionBar">\n          <button\n            ng-if="!$ctrl.endpointType"\n            type="button"\n            class="btn btn-sm btn-dangerlight vertical-center"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-white\'"></pr-icon>\n            <span>Remove</span>\n          </button>\n          <button type="button" class="btn btn-sm btn-primary vertical-center" ng-click="$ctrl.onClickAdd()">\n            <pr-icon icon="\'plus\'" feather="true" class-name="\'icon-white\'"></pr-icon>\n            <span>Add access token</span>\n          </button>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <div class="vertical-center">\n                  <span class="md-checkbox">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Description\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'description\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'description\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'description\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Prefix\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'prefix\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'prefix\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'prefix\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Created\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'dateCreated\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'dateCreated\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'dateCreated\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Last Used\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'lastUsed\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'lastUsed\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'lastUsed\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.description }}\n              </td>\n              <td>\n                {{ item.prefix }}\n              </td>\n              <td>\n                {{ item.dateCreated | getisodatefromtimestamp }}\n              </td>\n              <td>\n                <span ng-if="item.lastUsed > 0">{{ item.lastUsed | getisodatefromtimestamp }}</span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},58430:function(e){var t="app/portainer/components/datatables/datatable-columns-visibility/datatable-columns-visibility.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span class="setting" ng-class="{ \'setting-active\': $ctrl.state.isOpen }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.state.isOpen">\n  <span uib-dropdown-toggle aria-label="Columns">\n    <pr-icon icon="\'columns\'" feather="true"></pr-icon>\n  </span>\n  <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n    <div class="tableMenu">\n      <div class="menuHeader"> Show / Hide Columns </div>\n      <div class="menuContent">\n        <div class="md-checkbox" ng-repeat="(key, value) in $ctrl.columns">\n          <input id="col_vis_{{::key}}" ng-change="$ctrl.onChange($ctrl.columns)" type="checkbox" ng-model="value.display" />\n          <label for="col_vis_{{::key}}">{{ value.label }}</label>\n        </div>\n      </div>\n      <div>\n        <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.state.isOpen = false;">Close</a>\n      </div>\n    </div>\n  </div>\n</span>\n')}]),e.exports=t},75970:function(e){var t="app/portainer/components/datatables/endpoints-datatable/endpointsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class="searchIcon"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            auto-focus\n            placeholder="Search..."\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            ng-model-options="{ debounce: 300 }"\n            data-cy="endpoint-searchInput"\n          />\n        </div>\n        <div class="actionBar !gap-3">\n          <button\n            type="button"\n            class="btn btn-sm btn-dangerlight h-fit"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="endpoint-removeEndpointButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-white\'"></pr-icon>\n            <span>Remove</span>\n          </button>\n          <button type="button" class="btn btn-sm btn-primary h-fit" ng-click="$ctrl.setReferrer()" ui-sref="portainer.wizard.endpoints" data-cy="endpoint-addEndpointButton">\n            <pr-icon icon="\'plus\'" feather="true" class-name="\'icon-white\'"></pr-icon>\n            <span>Add environment</span>\n          </button>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="endpoint-endpointTable">\n          <thead>\n            <tr>\n              <th>\n                <div class="vertical-center">\n                  <span class="md-checkbox vertical-center">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Name\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Name\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Type\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Type\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Type\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'URL\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'URL\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'URL\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'URL\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'GroupName\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'GroupName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'GroupName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'GroupName\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header col-title="\'Actions\'" can-sort="false"></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in $ctrl.state.filteredDataSet | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit"\n              total-items="$ctrl.state.totalFilteredDataSet"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="portainer.endpoints.endpoint({id: item.Id})">{{ item.Name }}</a>\n              </td>\n              <td>\n                <span>\n                  <i ng-class="item.Type | endpointtypeicon" aria-hidden="true" style="margin-right: 2px"></i>\n                  {{ item.Type | endpointtypename }}\n                </span>\n              </td>\n              <td>\n                <span ng-if="item.Type !== 4">{{ item.URL | stripprotocol }}</span>\n                <span ng-if="item.Type === 4">-</span>\n              </td>\n              <td>{{ item.GroupName }}</td>\n              <td>\n                <a ui-sref="portainer.endpoints.endpoint.access({id: item.Id})">\n                  <pr-icon icon="\'users\'" feather="true"></pr-icon>\n                  Manage access\n                </a>\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.state.loading">\n              <td colspan="5" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No environment available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="!$ctrl.state.loading">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5" on-page-change="$ctrl.onPageChange(newPageNumber, oldPageNumber)"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},29656:function(e){var t="app/portainer/components/datatables/filter/datatable-filter.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div uib-dropdown dropdown-append-to-body auto-close="outsideClick" is-open="$ctrl.isOpen">\n  <span ng-transclude></span>\n  <div class="filter-button">\n    <span uib-dropdown-toggle class="table-filter vertical-center" ng-class="{ \'filter-active\': $ctrl.isEnabled() }">\n      Filter\n      <pr-icon ng-if="$ctrl.isEnabled()" icon="\'check\'" feather="true"></pr-icon>\n      <pr-icon ng-if="!$ctrl.isEnabled()" icon="\'filter\'" feather="true"></pr-icon>\n    </span>\n  </div>\n  <div class="dropdown-menu" style="min-width: 0" uib-dropdown-menu>\n    <div class="tableMenu">\n      <div class="menuContent">\n        <div class="md-checkbox" ng-repeat="filter in $ctrl.labels track by filter.value">\n          <input\n            id="filter_{{ $ctrl.filterKey }}_{{ $index }}"\n            type="checkbox"\n            ng-value="filter.value"\n            ng-checked="$ctrl.state.includes(filter.value)"\n            ng-click="$ctrl.onChangeItem(filter.value)"\n          />\n          <label for="filter_{{ $ctrl.filterKey }}_{{ $index }}">\n            {{ filter.label }}\n          </label>\n        </div>\n      </div>\n      <div>\n        <a class="btn btn-default btn-sm" ng-click="$ctrl.isOpen = false;"> Close </a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},34095:function(e){var t="app/portainer/components/datatables/groups-datatable/groupsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a group..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="endpointGroup-searchInput"\n          />\n        </div>\n        <div class="actionBar !gap-3">\n          <button\n            type="button"\n            class="btn btn-sm btn-dangerlight h-fit"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="endpointGroup-removeGroupButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n            Remove\n          </button>\n          <button type="button" class="btn btn-sm btn-primary h-fit" ui-sref="portainer.groups.new" data-cy="endpointGroup-addGroupButton">\n            <pr-icon icon="\'plus\'" feather="true"></pr-icon>Add group\n          </button>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="endpointGroup-endpointGroupTable">\n          <thead>\n            <tr>\n              <th>\n                <div class="vertical-center">\n                  <span class="md-checkbox">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" data-cy="endpointGroup-selectAllCheckbox" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Name\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Name\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header col-title="\'Actions\'" can-sort="false"></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="portainer.groups.group({id: item.Id})">{{ item.Name }}</a>\n              </td>\n              <td>\n                <div class="vertical-center">\n                  <a ui-sref="portainer.groups.group.access({id: item.Id})">\n                    <pr-icon icon="\'users\'" feather="true"></pr-icon>\n                    Manage access\n                  </a>\n                </div>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No group available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},5050:function(e){var t="app/portainer/components/datatables/pagination/pagination.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="paginationControls">\n  <form class="form-inline">\n    <span class="limitSelector">\n      <span style="margin-right: 5px"> Items per page </span>\n      <select class="form-control" ng-model="$ctrl.limit" ng-change="$ctrl.onChangeLimit($ctrl.limit)">\n        <option ng-if="$ctrl.enableNoLimit" ng-value="0">All</option>\n        <option ng-value="10">10</option>\n        <option ng-value="25">25</option>\n        <option ng-value="50">50</option>\n        <option ng-value="100">100</option>\n      </select>\n    </span>\n    <dir-pagination-controls max-size="5" on-page-change="$ctrl.onChangePage(newPageNumber)"> </dir-pagination-controls>\n  </form>\n</div>\n')}]),e.exports=t},81853:function(e){var t="app/portainer/components/datatables/registries-datatable/registriesDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a registry..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="registry-searchInput"\n          />\n        </div>\n        <div class="actionBar !gap-3" ng-if="$ctrl.isAdmin">\n          <button\n            ng-if="!$ctrl.endpointType"\n            type="button"\n            class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="registry-removeRegistryButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n          </button>\n          <button type="button" class="btn btn-sm btn-primary h-fit vertical-center !ml-0" ui-sref="portainer.registries.new" data-cy="registry-addRegistryButton">\n            <pr-icon icon="\'plus\'" feather="true"></pr-icon>Add registry\n          </button>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <div class="vertical-center">\n                  <span class="md-checkbox vertical-center" ng-if="$ctrl.isAdmin && !$ctrl.endpointType">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Name\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Name\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'URL\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'URL\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'URL\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'URL\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header col-title="\'Actions\'" can-sort="false"></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <span class="md-checkbox" ng-if="$ctrl.isAdmin && !$ctrl.endpointType">\n                  <input id="select_{{ $index }}" type="checkbox" disabled />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <span><default-registry-name></default-registry-name></span>\n              </td>\n              <td> <default-registry-domain></default-registry-domain> </td>\n              <td>\n                <default-registry-action ng-if="$ctrl.isAdmin && !$ctrl.endpointType"></default-registry-action>\n              </td>\n            </tr>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" ng-if="$ctrl.isAdmin && !$ctrl.endpointType">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="!$ctrl.allowSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="portainer.registries.registry({id: item.Id})" ng-if="$ctrl.enableGoToLink(item)">{{ item.Name }}</a>\n                <span ng-if="!$ctrl.enableGoToLink(item)">{{ item.Name }}</span>\n                <span ng-if="item.Authentication" style="margin-left: 5px" class="label label-info image-tag">authentication-enabled</span>\n              </td>\n              <td>\n                {{ item.URL }}\n              </td>\n              <td>\n                <button\n                  type="button"\n                  class="btn btn-link hover:no-underline !ml-0 px-0 vertical-center"\n                  ng-if="$ctrl.canManageAccess(item)"\n                  ng-click="$ctrl.redirectToManageAccess(item)"\n                >\n                  <pr-icon icon="\'users\'" feather="true"></pr-icon>Manage access\n                </button>\n                <be-feature-indicator feature="$ctrl.limitedFeature" ng-if="$ctrl.canBrowse(item)">\n                  <span class="text-muted space-left" style="padding-right: 5px"> <pr-icon icon="\'search\'" feather="true"></pr-icon> Browse </span>\n                </be-feature-indicator>\n\n                <span ng-if="!$ctrl.canBrowse(item) && !$ctrl.canManageAccess(item)"> - </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},39477:function(e){var t="app/portainer/components/datatables/sort-icon/datatable-sort-icon.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<i\n  class="fa fa-sort-alpha-down"\n  ng-class="{\n    \'fa-sort-alpha-down\': !$ctrl.reverseOrder,\n    \'fa-sort-alpha-up\': $ctrl.reverseOrder,\n  }"\n  aria-hidden="true"\n  ng-if="$ctrl.isCurrentSortOrder()"\n></i>\n')}]),e.exports=t},68861:function(e){var t="app/portainer/components/datatables/stacks-datatable/stacksDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding" ng-if="$ctrl.createEnabled">\n      <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="\'layers\'" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center !mr-0">\n          <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a stack..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n            data-cy="stack-searchInput"\n          />\n        </div>\n        <div class="actionBar !gap-3" ng-if="!$ctrl.offlineMode" authorization="PortainerStackCreate, PortainerStackDelete">\n          <button\n            type="button"\n            class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n            authorization="PortainerStackDelete"\n            ng-disabled="!$ctrl.createEnabled || $ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="stack-removeStackButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n          </button>\n          <button\n            ng-disabled="!$ctrl.createEnabled"\n            type="button"\n            class="btn btn-sm btn-primary h-fit vertical-center !ml-0"\n            ui-sref="docker.stacks.newstack"\n            authorization="PortainerStackCreate"\n            data-cy="stack-addStackButton"\n          >\n            <pr-icon icon="\'plus\'" feather="true"></pr-icon>Add stack\n          </button>\n        </div>\n        <div class="settings">\n          <datatable-columns-visibility columns="$ctrl.columnVisibility.columns" on-change="($ctrl.onColumnVisibilityChange)"></datatable-columns-visibility>\n          <span class="setting ml-2" ng-class="{ \'setting-active\': $ctrl.settings.open }" uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">\n            <span uib-dropdown-toggle aria-label="Settings">\n              <pr-icon icon="\'more-vertical\'" feather="true"></pr-icon>\n            </span>\n            <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n              <div class="tableMenu">\n                <div class="menuHeader"> Table settings </div>\n                <div class="menuContent">\n                  <div>\n                    <div class="md-checkbox" ng-if="$ctrl.isAdmin">\n                      <input id="setting_all_orphaned_stacks" type="checkbox" ng-model="$ctrl.settings.allOrphanedStacks" ng-change="$ctrl.onSettingsAllOrphanedStacksChange()" />\n                      <label for="setting_all_orphaned_stacks">Show all orphaned stacks</label>\n                    </div>\n                    <div class="md-checkbox">\n                      <input id="setting_auto_refresh" type="checkbox" ng-model="$ctrl.settings.repeater.autoRefresh" ng-change="$ctrl.onSettingsRepeaterChange()" />\n                      <label for="setting_auto_refresh">Auto refresh</label>\n                    </div>\n                    <div ng-if="$ctrl.settings.repeater.autoRefresh">\n                      <label for="settings_refresh_rate"> Refresh rate </label>\n                      <select id="settings_refresh_rate" ng-model="$ctrl.settings.repeater.refreshRate" ng-change="$ctrl.onSettingsRepeaterChange()" class="small-select">\n                        <option value="10">10s</option>\n                        <option value="30">30s</option>\n                        <option value="60">1min</option>\n                        <option value="120">2min</option>\n                        <option value="300">5min</option>\n                      </select>\n                      <span>\n                        <pr-icon id="refreshRateChange" icon="\'check\'" feather="true" mode="\'success\'" size="\'sm\'"></pr-icon>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="stack-stackTable">\n          <thead>\n            <tr>\n              <th uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.filters.state.open">\n                <div class="flex flex-row flex-no-wrap gap-1">\n                  <span class="md-checkbox" ng-if="!$ctrl.offlineMode" authorization="PortainerStackCreate, PortainerStackDelete">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Name\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Name\')"\n                  ></table-column-header>\n                  <div>\n                    <span uib-dropdown-toggle ng-class="[\'table-filter vertical-center !ml-1\', { \'filter-active\': $ctrl.filters.state.enabled }]">\n                      Filter\n                      <pr-icon ng-if="$ctrl.filters.state.enabled" icon="\'check\'" feather="true" size="\'sm\'"></pr-icon>\n                      <pr-icon ng-if="!$ctrl.filters.state.enabled" icon="\'filter\'" feather="true" size="\'sm\'"></pr-icon>\n                    </span>\n                  </div>\n                  <div class="dropdown-menu" uib-dropdown-menu>\n                    <div class="tableMenu">\n                      <div class="menuHeader"> Filter by activity </div>\n                      <div class="menuContent">\n                        <div class="md-checkbox">\n                          <input id="filter_usage_activeStacks" type="checkbox" ng-model="$ctrl.filters.state.showActiveStacks" ng-change="$ctrl.onFilterChange()" />\n                          <label for="filter_usage_activeStacks">Active stacks</label>\n                        </div>\n                        <div class="md-checkbox">\n                          <input id="filter_usage_unactiveStacks" type="checkbox" ng-model="$ctrl.filters.state.showUnactiveStacks" ng-change="$ctrl.onFilterChange()" />\n                          <label for="filter_usage_unactiveStacks">Inactive stacks</label>\n                        </div>\n                      </div>\n                      <div>\n                        <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;">Close</a>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Type\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Type\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Type\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Type\')"\n                ></table-column-header>\n              </th>\n              <th><table-column-header col-title="\'Control\'" can-sort="false"></table-column-header></th>\n              <th>\n                <table-column-header\n                  col-title="\'Created\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'ResourceControl.CreationDate\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'ResourceControl.CreationDate\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'ResourceControl.CreationDate\')"\n                ></table-column-header>\n              </th>\n              <th ng-if="$ctrl.columnVisibility.columns.updated.display">\n                <table-column-header\n                  col-title="\'Updated\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'ResourceControl.UpdateDate\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'ResourceControl.UpdateDate\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'ResourceControl.UpdateDate\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Ownership\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'ResourceControl.Ownership\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'ResourceControl.Ownership\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'ResourceControl.Ownership\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" ng-if="!$ctrl.offlineMode" authorization="PortainerStackCreate, PortainerStackDelete">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="!$ctrl.allowSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a\n                  ng-if="!$ctrl.offlineMode && $ctrl.createEnabled"\n                  ui-sref="docker.stacks.stack({ name: item.Name, id: item.Id, type: item.Type, regular: item.Regular, external: item.External, orphaned: item.Orphaned, orphanedRunning: item.OrphanedRunning })"\n                  >{{ item.Name }}</a\n                >\n                <span ng-if="$ctrl.offlineMode">{{ item.Name }}</span>\n                <span ng-if="item.Regular && item.Status == 2" class="label label-warning image-tag ml-2">Inactive</span>\n              </td>\n              <td>{{ item.Type === 1 ? \'Swarm\' : \'Compose\' }}</td>\n              <td>\n                <span\n                  ng-if="item.Orphaned"\n                  class="interactive vertical-center"\n                  tooltip-append-to-body="true"\n                  tooltip-placement="bottom"\n                  tooltip-class="portainer-tooltip"\n                  uib-tooltip="This stack was created inside an environment that is no longer registered inside Portainer."\n                >\n                  Orphaned\n                  <pr-icon icon="\'alert-circle\'" feather="true" class-name="\'ml-0.5\'" mode="\'warning\'"></pr-icon>\n                </span>\n                <span\n                  ng-if="item.External"\n                  class="interactive vertical-center"\n                  tooltip-append-to-body="true"\n                  tooltip-placement="bottom"\n                  tooltip-class="portainer-tooltip"\n                  uib-tooltip="This stack was created outside of Portainer. Control over this stack is limited."\n                >\n                  Limited\n                  <pr-icon icon="\'alert-circle\'" feather="true" class-name="\'ml-0.5\'" mode="\'warning\'"></pr-icon>\n                </span>\n                <span ng-if="item.Regular">Total</span>\n              </td>\n              <td>\n                <span ng-if="item.CreationDate">{{ item.CreationDate | getisodatefromtimestamp }} {{ item.CreatedBy ? \'by \' + item.CreatedBy : \'\' }}</span>\n                <span ng-if="!item.CreationDate"> - </span>\n              </td>\n              <td ng-if="$ctrl.columnVisibility.columns.updated.display">\n                <span ng-if="item.UpdateDate">{{ item.UpdateDate | getisodatefromtimestamp }} {{ item.UpdatedBy ? \'by \' + item.UpdatedBy : \'\' }}</span>\n                <span ng-if="!item.UpdateDate"> - </span>\n              </td>\n              <td>\n                <span class="vertical-center">\n                  <pr-icon ng-attr-icon="item.ResourceControl.Ownership | ownershipicon" feather="true" class-name="\'icon ml-0.5\'"></pr-icon>\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\n                </span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset" data-cy="stacks-loadingTableRow">\n              <td colspan="6" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0" data-cy="stacks-noStackTableRow">\n              <td colspan="6" class="text-center text-muted">No stack available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer pl-5" ng-if="$ctrl.dataset">\n        <div class="infoBar !ml-0" ng-if="$ctrl.state.selectedItemCount !== 0">\n          {{ $ctrl.state.selectedItemCount }}\n          item(s) selected\n        </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span class="mr-1"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},83287:function(e){var t="app/portainer/components/datatables/strings-datatable/strings-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap w-full relative">\n      <div class="toolBarTitle vertical-center">\n        <div class="widget-icon space-right">\n          <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n        </div>\n\n        {{ $ctrl.titleText }}\n      </div>\n      <div class="searchBar vertical-center">\n        <pr-icon icon="\'search\'" feather="true"></pr-icon>\n        <input\n          type="text"\n          class="searchInput"\n          ng-model="$ctrl.state.textFilter"\n          ng-change="$ctrl.onTextFilterChange()"\n          placeholder="Search..."\n          ng-model-options="{ debounce: 300 }"\n        />\n      </div>\n      <div class="actionBar">\n        <button\n          type="button"\n          class="btn btn-sm btn-dangerlight vertical-center"\n          ng-disabled="$ctrl.state.selectedItemCount === 0"\n          ng-click="$ctrl.onRemove($ctrl.state.selectedItems)"\n        >\n          <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n        </button>\n      </div>\n    </div>\n    <rd-widget-body classes="no-padding">\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <span class="md-checkbox">\n                  <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                  <label for="select_all"></label>\n                </span>\n                <table-column-header\n                  col-title="$ctrl.columnHeader"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                  style="display: inline-block"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n              ng-class="{ active: $ctrl.state.selectedItems.includes(item) }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input\n                    id="select_{{ $index }}"\n                    type="checkbox"\n                    ng-checked="$ctrl.state.selectedItems.includes(item)"\n                    ng-disabled="$ctrl.disableRemove(item)"\n                    ng-click="$ctrl.selectItem(item, $event)"\n                  />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.value }}\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td class="text-center text-muted">{{ $ctrl.emptyDatasetMessage }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},30908:function(e){var t="app/portainer/components/datatables/tags-datatable/tagsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search for a tag..."\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n        <div class="actionBar !gap-3">\n          <button type="button" class="btn btn-sm btn-dangerlight h-fit" ng-disabled="$ctrl.state.selectedItemCount === 0" ng-click="$ctrl.removeAction($ctrl.state.selectedItems)">\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n          </button>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <div class="vertical-center">\n                  <span class="md-checkbox">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Name\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Name\')"\n                  ></table-column-header>\n                </div>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.Name }}\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="1" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="1" class="text-center text-muted">No tag available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline vertical-center">\n            <span class="limitSelector">\n              <span class="space-right"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},10049:function(e){var t="app/portainer/components/datatables/titlebar/datatable-titlebar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="toolBar">\n  <div class="toolBarTitle">\n    <pr-icon icon="$ctrl.icon" feather="$ctrl.featherIcon" class-name="space-right"></pr-icon>\n    {{ $ctrl.title }}\n    <be-feature-indicator feature="$ctrl.feature"></be-feature-indicator>\n  </div>\n</div>\n')}]),e.exports=t},63978:function(e){var t="app/portainer/components/datatables/users-datatable/usersDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          </div>\n          {{ $ctrl.titleText }}\n        </div>\n\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search..."\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n\n        <div class="actionBar !gap-3" ng-show="$ctrl.isAdmin">\n          <button\n            type="button"\n            class="btn btn-sm btn-dangerlight h-fit vertical-center !ml-0"\n            ng-disabled="$ctrl.state.selectedItemCount === 0"\n            ng-click="$ctrl.removeAction($ctrl.state.selectedItems)"\n            data-cy="user-removeUserButton"\n          >\n            <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>Remove\n          </button>\n        </div>\n      </div>\n\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells" data-cy="user-userTable">\n          <thead>\n            <tr>\n              <th>\n                <div class="vertical-center">\n                  <span class="md-checkbox" ng-show="$ctrl.isAdmin">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Name\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Username\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Username\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Username\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Role\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'RoleName\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'RoleName\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'RoleName\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Authentication\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'AuthenticationMethod\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'AuthenticationMethod\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'AuthenticationMethod\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox" ng-show="$ctrl.isAdmin">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="!$ctrl.allowSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                <a ui-sref="portainer.users.user({id: item.Id})" ng-show="$ctrl.isAdmin">{{ item.Username }}</a>\n                <span ng-show="!$ctrl.isAdmin">{{ item.Username }}</span>\n              </td>\n              <td>\n                <span class="vertical-center">\n                  <pr-icon icon="\'svg-usercircle\'" ng-if="item.Role === 1 && !item.isTeamLeader"></pr-icon>\n                  <pr-icon icon="\'user\'" ng-if="item.Role !== 1 && item.isTeamLeader" feather="true"></pr-icon>\n                  <pr-icon icon="\'user-plus\'" ng-if="item.Role !== 1 && !item.isTeamLeader" feather="true"></pr-icon>\n                  {{ item.RoleName ? item.RoleName : \'-\' }}\n                </span>\n              </td>\n              <td>\n                <span ng-if="item.Id === 1 || ($ctrl.authenticationMethod !== 2 && $ctrl.authenticationMethod !== 3)">Internal</span>\n                <span ng-if="item.Id !== 1 && $ctrl.authenticationMethod === 2">LDAP</span>\n                <span ng-if="item.Id !== 1 && $ctrl.authenticationMethod === 3">OAuth</span>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No user available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},86943:function(e){var t="app/portainer/components/demo-feature-indicator/demo-feature-indicator.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row" ng-if="$ctrl.isDemo">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-exclamation-triangle" title-text="Feature not available"> </rd-widget-header>\n      <rd-widget-body>\n        <span class="small text-muted">{{ $ctrl.content }}</span>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},9062:function(e){var t="app/portainer/components/endpointSecurity/porEndpointSecurity.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  \x3c!-- tls-checkbox --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field\n        label="\'TLS\'"\n        label-class="\'col-sm-2\'"\n        checked="$ctrl.formData.TLS"\n        on-change="($ctrl.onToggleTLS)"\n        tooltip="\'Enable this option if you need to connect to the Docker environment with TLS.\'"\n      ></por-switch-field>\n    </div>\n  </div>\n  \x3c!-- !tls-checkbox --\x3e\n  <div class="col-sm-12 form-section-title" ng-if="$ctrl.formData.TLS"> TLS mode </div>\n  \x3c!-- note --\x3e\n  <div class="form-group" ng-if="$ctrl.formData.TLS">\n    <div class="col-sm-12">\n      <span class="small text-muted">\n        You can find out more information about how to protect a Docker environment with TLS in the\n        <a href="https://docs.docker.com/engine/security/https/" target="_blank">Docker documentation</a>.\n      </span>\n    </div>\n  </div>\n  <div class="form-group"></div>\n  \x3c!-- endpoint-tls-mode --\x3e\n  <div class="form-group" ng-if="$ctrl.formData.TLS">\n    <div class="col-sm-12">\n      <div class="boxselector_wrapper">\n        <div>\n          <input type="radio" id="tls_client_ca" ng-model="$ctrl.formData.TLSMode" value="tls_client_ca" />\n          <label for="tls_client_ca">\n            <div class="boxselector_header">\n              <pr-icon icon="\'shield\'" feather="true"></pr-icon>\n              TLS with server and client verification\n            </div>\n            <p>Use client certificates and server verification</p>\n          </label>\n        </div>\n        <div>\n          <input type="radio" id="tls_client_noca" ng-model="$ctrl.formData.TLSMode" value="tls_client_noca" />\n          <label for="tls_client_noca">\n            <div class="boxselector_header">\n              <pr-icon icon="\'shield\'" feather="true"></pr-icon>\n              TLS with client verification only\n            </div>\n            <p>Use client certificates without server verification</p>\n          </label>\n        </div>\n        <div>\n          <input type="radio" id="tls_ca" ng-model="$ctrl.formData.TLSMode" value="tls_ca" />\n          <label for="tls_ca">\n            <div class="boxselector_header">\n              <pr-icon icon="\'shield\'" feather="true"></pr-icon>\n              TLS with server verification only\n            </div>\n            <p>Only verify the server certificate</p>\n          </label>\n        </div>\n        <div>\n          <input type="radio" id="tls_only" ng-model="$ctrl.formData.TLSMode" value="tls_only" />\n          <label for="tls_only">\n            <div class="boxselector_header">\n              <pr-icon icon="\'shield\'" feather="true"></pr-icon>\n              TLS only\n            </div>\n            <p>No server/client verification</p>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !endpoint-tls-mode --\x3e\n  <div class="col-sm-12 form-section-title" ng-if="$ctrl.formData.TLS && $ctrl.formData.TLSMode !== \'tls_only\'"> Required TLS files </div>\n  \x3c!-- tls-file-upload --\x3e\n  <div ng-if="$ctrl.formData.TLS">\n    \x3c!-- tls-file-ca --\x3e\n    <div class="form-group" ng-if="$ctrl.formData.TLSMode === \'tls_client_ca\' || $ctrl.formData.TLSMode === \'tls_ca\'">\n      <label class="col-sm-3 col-lg-2 control-label text-left">TLS CA certificate</label>\n      <div class="col-sm-9 col-lg-10">\n        <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formData.TLSCACert">Select file</button>\n        <span class="space-left">\n          {{ $ctrl.formData.TLSCACert.name }}\n          <pr-icon icon="\'check\'" ng-if="$ctrl.formData.TLSCACert && $ctrl.formData.TLSCACert === $ctrl.endpoint.TLSConfig.TLSCACert" mode="\'success\'" feather="true"></pr-icon>\n          <pr-icon icon="\'x\'" ng-if="!$ctrl.formData.TLSCACert" mode="\'danger\'" feather="true"></pr-icon>\n        </span>\n      </div>\n    </div>\n    \x3c!-- !tls-file-ca --\x3e\n    \x3c!-- tls-files-cert-key --\x3e\n    <div ng-if="$ctrl.formData.TLSMode === \'tls_client_ca\' || $ctrl.formData.TLSMode === \'tls_client_noca\'">\n      \x3c!-- tls-file-cert --\x3e\n      <div class="form-group">\n        <label for="tls_cert" class="col-sm-3 col-lg-2 control-label text-left">TLS certificate</label>\n        <div class="col-sm-9 col-lg-10">\n          <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formData.TLSCert">Select file</button>\n          <span class="space-left">\n            {{ $ctrl.formData.TLSCert.name }}\n            <pr-icon icon="\'check\'" ng-if="$ctrl.formData.TLSCert && $ctrl.formData.TLSCert === $ctrl.endpoint.TLSConfig.TLSCert" mode="\'success\'" feather="true"></pr-icon>\n            <pr-icon icon="\'x\'" ng-if="!$ctrl.formData.TLSCert" mode="\'danger\'" feather="true"></pr-icon>\n          </span>\n        </div>\n      </div>\n      \x3c!-- !tls-file-cert --\x3e\n      \x3c!-- tls-file-key --\x3e\n      <div class="form-group">\n        <label class="col-sm-3 col-lg-2 control-label text-left">TLS key</label>\n        <div class="col-sm-9 col-lg-10">\n          <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formData.TLSKey">Select file</button>\n          <span class="space-left">\n            {{ $ctrl.formData.TLSKey.name }}\n            <pr-icon icon="\'check\'" ng-if="$ctrl.formData.TLSKey && $ctrl.formData.TLSKey === $ctrl.endpoint.TLSConfig.TLSKey" mode="\'success\'" feather="true"></pr-icon>\n            <pr-icon icon="\'x\'" ng-if="!$ctrl.formData.TLSKey" mode="\'danger\'" feather="true"></pr-icon>\n          </span>\n        </div>\n      </div>\n      \x3c!-- !tls-file-key --\x3e\n    </div>\n    \x3c!-- tls-files-cert-key --\x3e\n  </div>\n  \x3c!-- !tls-file-upload --\x3e\n</div>\n')}]),e.exports=t},94176:function(e){var t="app/portainer/components/environment-variables-panel/environment-variables-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="form-horizontal environment-variables-panel" name="$ctrl.envVarsForm">\n  <div class="form-group">\n    <div class="col-sm-12 form-section-title" style="margin-top: 10px; margin-left: 15px; width: 98%"> Environment variables </div>\n    <div class="col-sm-12 environment-variables-panel--explanation">\n      {{::$ctrl.explanation}}\n    </div>\n\n    <environment-variables-simple-mode\n      ng-if="$ctrl.mode == \'simple\'"\n      ng-model="$ctrl.ngModel"\n      on-change="($ctrl.handleSimpleChange)"\n      on-switch-mode-click="($ctrl.switchEnvMode)"\n      show-help-message="$ctrl.showHelpMessage"\n    ></environment-variables-simple-mode>\n\n    <div ng-if="$ctrl.mode == \'advanced\'" class="environment-variables-panel--advanced">\n      <div class="col-sm-12 text-clickable">\n        <button type="button" class="btn btn-link btn-sm hover:no-underline !ml-0 p-0 vertical-center" ng-click="$ctrl.switchEnvMode()">\n          <pr-icon icon="\'list\'" feather="true"></pr-icon> Simple mode\n        </button>\n      </div>\n      <div class="col-sm-12 small text-muted">\n        <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n        Switch to simple mode to define variables line by line, or load from .env file\n      </div>\n      <div class="form-group" style="margin-left: 1px">\n        <code-editor identifier="environment-variables-editor" placeholder="e.g. key=value" value="$ctrl.editorText" yml="false" on-change="($ctrl.editorUpdate)"></code-editor>\n      </div>\n      <div class="col-sm-12 small text-muted" ng-if="$ctrl.showHelpMessage">\n        <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n        Environment changes will not take effect until redeployment occurs manually or via webhook.\n      </div>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},52927:function(e){var t="app/portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/environment-variables-simple-mode-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="env-item mt-1" name="$ctrl.{{ $ctrl.formName }}">\n  <div class="col-sm-5">\n    <div class="input-group input-group-sm env-item-key w-full">\n      <span class="input-group-addon">name</span>\n      <input\n        type="text"\n        name="name"\n        class="form-control"\n        placeholder="e.g. FOO"\n        ng-model="$ctrl.variable.name"\n        ng-disabled="$ctrl.variable.added"\n        ng-change="$ctrl.onChangeName($ctrl.variable.name)"\n        required\n      />\n    </div>\n    <div class="form-group" style="margin-top: 5px" ng-show="$ctrl[$ctrl.formName].name.$invalid">\n      <div class="col-sm-12 small">\n        <div ng-messages="$ctrl[$ctrl.formName].name.$error">\n          <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Name is required. </p>\n          <p ng-message="pattern">\n            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n            This field must consist alphanumeric characters, \'-\' or \'_\', start with an alphabetic character, and end with an alphanumeric character (e.g. \'my-var\', or \'MY_VAR123\').\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="col-sm-6">\n    <div class="w-full env-item-value">\n      <div class="input-group input-group-sm">\n        <span class="input-group-addon">value</span>\n        <input\n          type="text"\n          class="form-control"\n          ng-model="$ctrl.variable.value"\n          placeholder="e.g. bar"\n          ng-trim="false"\n          name="value"\n          ng-change="$ctrl.onChangeValue($ctrl.variable.value)"\n        />\n      </div>\n    </div>\n    <div class="form-group" ng-show="$ctrl[$ctrl.formName].value.$invalid">\n      <div class="col-sm-12 small text-warning">\n        <div ng-messages="$ctrl[$ctrl.formName].value.$error">\n          <p ng-message="pattern"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Value is invalid. </p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div>\n    <button class="btn btn-dangerlight" type="button" ng-click="$ctrl.onRemove($ctrl.index)">\n      <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n    </button>\n  </div>\n</ng-form>\n')}]),e.exports=t},9277:function(e){var t="app/portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="environment-variables-simple-mode">\n  <div class="col-sm-12">\n    <button type="button" class="btn btn-link btn-sm hover:no-underline !ml-0 p-0" ng-click="$ctrl.onSwitchModeClick()">\n      <pr-icon icon="\'edit\'" feather="true"></pr-icon> Advanced mode\n    </button>\n  </div>\n  <div class="col-sm-12 small text-muted">\n    <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n    Switch to advanced mode to copy & paste multiple variables\n  </div>\n  <div class="col-sm-12 environment-variables-simple-mode--actions">\n    <button type="button" class="btn btn-sm btn-default" ng-click="$ctrl.add()"> <pr-icon icon="\'plus\'" feather="true"></pr-icon> Add an environment variable </button>\n    <button\n      type="button"\n      class="btn btn-sm btn-default"\n      ngf-select="$ctrl.addFromFile($file)"\n      ngf-accept="\'.env\'"\n      ngf-pattern="\'.env\'"\n      ngf-max-size="1MB"\n      ngf-model-invalid="errorFile"\n    >\n      <pr-icon icon="\'upload\'" feather="true"></pr-icon> Load variables from .env file\n    </button>\n    <span class="space-left" ng-if="errorFile.$error == \'maxSize\'">\n      <i class="fa fa-times red-icon space-right" aria-hidden="true"></i>\n      File too large! Try uploading a file smaller than 1MB\n    </span>\n  </div>\n  <div class="col-sm-12 form-inline env-items-list">\n    <environment-variables-simple-mode-item\n      ng-repeat="variable in $ctrl.ngModel"\n      variable="variable"\n      index="$index"\n      on-change="($ctrl.onChangeVariable)"\n      on-remove="($ctrl.remove)"\n    ></environment-variables-simple-mode-item>\n  </div>\n  <div class="col-sm-12 small text-muted" ng-if="$ctrl.ngModel.length > 0 && $ctrl.showHelpMessage">\n    <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n    Environment changes will not take effect until redeployment occurs manually or via webhook.\n  </div>\n</div>\n')}]),e.exports=t},49424:function(e){var t="app/portainer/components/form-components/file-upload-form/file-upload-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="file-upload-form" name="$ctrl.fileUploadForm">\n  <div class="col-sm-12 form-section-title"> Upload </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small" ng-transclude="description"> </span>\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <file-upload-field on-change="($ctrl.onChange)" required="($ctrl.ngRequired)" value="($ctrl.file)"></file-upload-field>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},57582:function(e){var t="app/portainer/components/form-components/web-editor-form/web-editor-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="$ctrl.webEditorForm">\n  <div class="web-editor overflow-auto">\n    <div ng-if="!$ctrl.hideTitle" class="col-sm-12 form-section-title pr-0"\n      >Web editor\n      <div class="text-muted small vertical-center float-right mt-0">\n        <span ng-if="$ctrl.BROWSER_OS_PLATFORM !== \'mac\'" class="vertical-center">Ctrl+F for search</span>\n        <span ng-if="$ctrl.BROWSER_OS_PLATFORM === \'mac\'" class="vertical-center">Cmd+F for search</span>\n        <portainer-tooltip\n          ng-if="$ctrl.BROWSER_OS_PLATFORM !== \'mac\'"\n          message="\'Ctrl+F - Start searching <br />\n              Ctrl+G - Find next <br />\n              Ctrl+Shift+G - Find previous <br />\n              Ctrl+Shift+F - Replace <br />\n              Ctrl+Shift+R - Replace all <br />\n              Alt+G - Jump to line <br />\n              Alt+F - Persistent search: <br />\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enter - Find next <br />\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shift+Enter - Find previous <br />\'"\n          class-name="\'[&>span]:!text-left\'"\n        >\n        </portainer-tooltip>\n        <portainer-tooltip\n          ng-if="$ctrl.BROWSER_OS_PLATFORM === \'mac\'"\n          message="\'Cmd+F - Start searching <br />\n              Cmd+G - Find next <br />\n              Cmd+Shift+G - Find previous <br />\n              Cmd+Option+F - Replace <br />\n              Cmd+Option+R - Replace all <br />\n              Option+G - Jump to line <br />\n              Option+F - Persistent search: <br />\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enter - Find next <br />\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shift+Enter - Find previous <br />\'"\n          class-name="\'[&>span]:!text-left\'"\n        >\n        </portainer-tooltip>\n      </div>\n    </div>\n    <div class="trancluded-item form-group col-sm-9 col-lg-10 text-muted small" ng-transclude="description"></div>\n    <div class="form-group">\n      <div class="col-sm-12 col-lg-12">\n        <code-editor\n          identifier="{{ $ctrl.identifier }}"\n          placeholder="{{ $ctrl.placeholder }}"\n          read-only="$ctrl.readOnly"\n          yml="$ctrl.yml"\n          value="$ctrl.value"\n          on-change="($ctrl.editorUpdate)"\n        ></code-editor>\n      </div>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},10852:function(e){var t="app/portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/git-form-additional-file-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="env-item form-horizontal" name="$ctrl.{{ $ctrl.formName }}">\n  <div class="form-group col-sm-12">\n    <div class="form-inline mt-3">\n      <div class="input-group col-sm-5 input-group-sm">\n        <span class="input-group-addon required">path</span>\n        <input type="text" name="name" class="form-control" ng-model="$ctrl.variable" ng-change="$ctrl.onChangePath($ctrl.variable)" required />\n      </div>\n      <button class="btn btn-dangerlight" type="button" ng-click="$ctrl.removeValue()" title="Remove">\n        <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n      </button>\n    </div>\n    <div ng-show="$ctrl[$ctrl.formName].name.$invalid">\n      <div class="small text-warning">\n        <div ng-messages="$ctrl[$ctrl.formName].name.$error" class="mt-1">\n          <p class="vertical-center" ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Path is required. </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},65568:function(e){var t="app/portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-files-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <div class="col-sm-12 p-0">\n    <div class="col-sm-3 col-lg-2">\n      <label class="control-label text-left">Additional paths</label>\n    </div>\n    <div class="col-sm-9 pt-1">\n      <span class="label label-default interactive vertical-center" ng-click="$ctrl.add()">\n        <pr-icon icon="\'plus\'" size="\'sm\'" mode="\'alt\'" feather="true"></pr-icon> <span>add file</span>\n      </span>\n    </div>\n  </div>\n  <div class="col-sm-12 form-inline">\n    <git-form-additional-file-item\n      ng-repeat="variable in $ctrl.model.AdditionalFiles track by $index"\n      variable="variable"\n      index="$index"\n      on-change="($ctrl.onChangeVariable)"\n    ></git-form-additional-file-item>\n  </div>\n</div>\n')}]),e.exports=t},98173:function(e){var t="app/portainer/components/forms/git-form/git-form-auth-fieldset/git-form-auth-fieldset.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <div class="col-sm-12">\n    <por-switch-field\n      checked="$ctrl.model.RepositoryAuthentication"\n      label="\'Authentication\'"\n      label-class="\'col-sm-3 col-lg-2\'"\n      name="\'authSwitch\'"\n      on-change="($ctrl.onChangeAuth)"\n      data-cy="\'component-gitAuthToggle\'"\n      switch-values="{on:\'Yes\',off:\'No\'}"\n    ></por-switch-field>\n  </div>\n</div>\n<div class="small mt-1 mb-3" ng-if="$ctrl.model.RepositoryAuthentication && $ctrl.showAuthExplanation">\n  <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n  <span class="text-muted">Enabling authentication will store the credentials and it is advisable to use a git service account</span>\n</div>\n<div ng-if="$ctrl.model.RepositoryAuthentication" class="row">\n  <div class="form-group">\n    <label for="repository_username" class="col-lg-2 col-sm-3 control-label text-left required"> Username </label>\n    <div class="col-sm-8">\n      <input\n        type="text"\n        class="form-control"\n        ng-model="$ctrl.model.RepositoryUsername"\n        name="repository_username"\n        placeholder="git username"\n        ng-change="$ctrl.onChangeUsername($ctrl.model.RepositoryUsername)"\n        data-cy="component-gitUsernameInput"\n      />\n    </div>\n  </div>\n  <div class="form-group flex">\n    <label for="repository_password" class="col-lg-2 col-sm-3 control-label text-left !pt-0">\n      <div class="required"> Personal Access Token </div>\n      <portainer-tooltip message="\'Provide a personal access token or password\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-8">\n      <input\n        type="password"\n        class="form-control"\n        ng-model="$ctrl.model.RepositoryPassword"\n        name="repository_password"\n        placeholder="*******"\n        ng-change="$ctrl.onChangePassword($ctrl.model.RepositoryPassword)"\n        ng-required="!$ctrl.isEdit"\n        data-cy="component-gitPasswordInput"\n      />\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},17560:function(e){var t="app/portainer/components/forms/git-form/git-form-auto-update-fieldset/git-form-auto-update-fieldset.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="autoUpdateForm">\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field\n        name="\'autoUpdate\'"\n        checked="$ctrl.model.RepositoryAutomaticUpdates"\n        label="\'Automatic Updates\'"\n        label-class="\'col-sm-3 col-lg-2\'"\n        on-change="($ctrl.onChangeAutoUpdate)"\n        switch-values="{on:\'Yes\',off:\'No\'}"\n      ></por-switch-field>\n    </div>\n  </div>\n  <div class="small vertical-center" ng-if="$ctrl.model.RepositoryAutomaticUpdates">\n    <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n    <span class="text-warning"\n      >Any changes to this stack or application made locally in Portainer will be overridden, which may cause service interruption. Do you wish to continue?</span\n    >\n  </div>\n  <div class="form-group mt-2" ng-if="$ctrl.model.RepositoryAutomaticUpdates">\n    <label for="repository_mechanism" class="col-lg-2 col-sm-3 control-label text-left"> Mechanism </label>\n    <div class="col-sm-8">\n      <div class="input-group col-sm-10 input-group-sm">\n        <div class="btn-group btn-group-sm">\n          <label class="btn btn-light" ng-click="$ctrl.onChangeMechanism($ctrl.model.RepositoryMechanism)" ng-model="$ctrl.model.RepositoryMechanism" uib-btn-radio="\'Interval\'"\n            >Polling</label\n          >\n          <label class="btn btn-light" ng-click="$ctrl.onChangeMechanism($ctrl.model.RepositoryMechanism)" ng-model="$ctrl.model.RepositoryMechanism" uib-btn-radio="\'Webhook\'"\n            >Webhook</label\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="$ctrl.model.RepositoryAutomaticUpdates && $ctrl.model.RepositoryMechanism === \'Webhook\'">\n    <label for="repository_mechanism" class="col-sm-3 col-lg-2 control-label text-left"> Webhook </label>\n    <div class="col-sm-8">\n      <span class="text-muted"> {{ $ctrl.model.RepositoryWebhookURL | truncatelr }} </span>\n      <button type="button" class="btn btn-sm btn-light btn-sm space-left vertical-center" ng-if="$ctrl.model.RepositoryWebhookURL" ng-click="$ctrl.copyWebhook()">\n        <pr-icon icon="\'copy\'" size="\'sm\'" feather="true"></pr-icon> Copy link\n      </button>\n      <span>\n        <pr-icon icon="\'check\'" mode="\'success\'" feather="true" style="display: none"></pr-icon>\n      </span>\n    </div>\n  </div>\n  <div class="form-group" ng-if="$ctrl.model.RepositoryAutomaticUpdates && $ctrl.model.RepositoryMechanism === \'Interval\'">\n    <label for="repository_fetch_interval" class="col-sm-3 col-lg-2 control-label text-left required"> Fetch interval </label>\n    <div class="col-sm-8">\n      <input\n        type="text"\n        class="form-control"\n        ng-change="$ctrl.onChangeInterval($ctrl.model.RepositoryFetchInterval)"\n        ng-model="$ctrl.model.RepositoryFetchInterval"\n        name="repository_fetch_interval"\n        placeholder="5m"\n        required\n        interval-format\n      />\n      <div class="help-group">\n        <div class="form-group col-md-12 pt-1" ng-show="autoUpdateForm.repository_fetch_interval.$touched && autoUpdateForm.repository_fetch_interval.$invalid">\n          <div class="small text-warning">\n            <div ng-messages="autoUpdateForm.repository_fetch_interval.$error">\n              <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> This field is required.</p>\n              <p ng-message="invalidIntervalFormat"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Please enter a valid time interval.</p>\n              <p ng-message="minimumInterval"> <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon> Minimum interval is 1m</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="$ctrl.showForcePullImage && $ctrl.model.RepositoryAutomaticUpdates">\n    <div class="col-sm-12">\n      <por-switch-field\n        name="\'forcePullImage\'"\n        feature-id="$ctrl.stackPullImageFeature"\n        checked="$ctrl.model.ForcePullImage"\n        label="\'Pull latest image\'"\n        label-class="\'col-sm-3 col-lg-2\'"\n      ></por-switch-field>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="$ctrl.model.RepositoryAutomaticUpdates">\n    <div class="col-sm-12">\n      <por-switch-field\n        name="\'forceUpdate\'"\n        feature-id="$ctrl.limitedFeature"\n        checked="$ctrl.model.RepositoryAutomaticUpdatesForce"\n        label="\'Force Redeployment\'"\n        label-class="\'col-sm-3 col-lg-2\'"\n        on-change="($ctrl.onChangeAutoUpdateForce)"\n      ></por-switch-field>\n    </div>\n  </div>\n  <div class="small vertical-center" ng-if="$ctrl.model.RepositoryAutomaticUpdates">\n    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n    <span class="text-muted">When enabled, enforces automatic deployment at each interval or webhook invocation.</span>\n  </div>\n  <div class="small vertical-center" ng-if="!$ctrl.model.RepositoryAutomaticUpdates">\n    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n    <span class="text-muted">When enabled, updates from the git repository will occur automatically at an interval or webhook.</span>\n  </div>\n</ng-form>\n')}]),e.exports=t},6942:function(e){var t="app/portainer/components/forms/git-form/git-form-compose-path-field/git-form-compose-path-field.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="pathForm">\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small vertical-center">\n      <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n      <span\n        >Indicate the path to the {{ $ctrl.deployMethod == \'compose\' ? \'Compose\' : \'Manifest\' }} file from the root of your repository.\n        <span ng-if="$ctrl.isDockerStandalone">\n          To enable rebuilding of an image if already present on Docker standalone environments, include<code>pull_policy: build</code>in your compose file as per\n          <a href="https://docs.docker.com/compose/compose-file/#pull_policy">Docker documentation</a>.</span\n        ></span\n      >\n    </span>\n  </div>\n  <div class="form-group">\n    <label for="stack_repository_path" class="col-lg-2 col-sm-3 control-label text-left required">{{ $ctrl.deployMethod == \'compose\' ? \'Compose\' : \'Manifest\' }} path</label>\n    <div class="col-sm-8">\n      <input\n        type="text"\n        class="form-control"\n        name="repoPathField"\n        ng-model="$ctrl.value"\n        ng-change="$ctrl.onChange($ctrl.value)"\n        id="stack_repository_path"\n        placeholder="{{ $ctrl.deployMethod == \'compose\' ? \'docker-compose.yml\' : \'manifest.yml\' }}"\n        required\n      />\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},48037:function(e){var t="app/portainer/components/forms/git-form/git-form-info-panel/git-form-info-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group" ng-class="$ctrl.className">\n  <div class="col-sm-12">\n    <p>\n      This {{ $ctrl.type }} was deployed from the git repository <code>{{ $ctrl.url }}</code>\n      .\n    </p>\n    <p>\n      Update\n      <code\n        >{{ $ctrl.configFilePath }}<span ng-if="$ctrl.additionalFiles.length > 0">, {{ $ctrl.additionalFiles.join(\',\') }}</span></code\n      >\n      in git and pull from here to update the {{ $ctrl.type }}.\n    </p>\n  </div>\n</div>\n')}]),e.exports=t},6605:function(e){var t="app/portainer/components/forms/git-form/git-form-ref-field/git-form-ref-field.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <span class="col-sm-12 text-muted small vertical-center">\n    <pr-icon icon="\'info\'" mode="\'primary\'" feather="true"></pr-icon>\n    <span>\n      Specify a reference of the repository using the following syntax: branches with <code>refs/heads/branch_name</code> or tags with <code>refs/tags/tag_name</code>. If not\n      specified, will use the default <code>HEAD</code> reference normally the <code>master</code> branch.\n    </span>\n  </span>\n</div>\n<div class="form-group">\n  <label for="stack_repository_reference_name" class="col-lg-2 col-sm-3 control-label text-left">Repository reference</label>\n  <div class="col-sm-8">\n    <input\n      type="text"\n      class="form-control"\n      ng-model="$ctrl.value"\n      id="stack_repository_reference_name"\n      placeholder="refs/heads/master"\n      ng-change="$ctrl.onChange($ctrl.value)"\n      data-cy="component-gitRefInput"\n    />\n  </div>\n</div>\n')}]),e.exports=t},53754:function(e){var t="app/portainer/components/forms/git-form/git-form-url-field/git-form-url-field.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <span class="col-sm-12 text-muted small"> You can use the URL of a git repository. </span>\n</div>\n<div class="form-group">\n  <label for="stack_repository_url" class="col-lg-2 col-sm-3 control-label text-left required">Repository URL</label>\n  <div class="col-sm-8">\n    <input\n      type="text"\n      name="repoUrlField"\n      class="form-control"\n      ng-model="$ctrl.value"\n      ng-change="$ctrl.onChange($ctrl.value)"\n      id="stack_repository_url"\n      placeholder="https://github.com/portainer/portainer-compose"\n      data-cy="component-gitUrlInput"\n      required\n    />\n  </div>\n</div>\n')}]),e.exports=t},23283:function(e){var t="app/portainer/components/forms/git-form/git-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="$ctrl.gitForm">\n  <div class="col-sm-12 form-section-title"> Git repository </div>\n  <git-form-auth-fieldset model="$ctrl.model" on-change="($ctrl.onChange)"></git-form-auth-fieldset>\n\n  <git-form-url-field value="$ctrl.model.RepositoryURL" on-change="($ctrl.onChangeURL)"></git-form-url-field>\n\n  <git-form-ref-field value="$ctrl.model.RepositoryReferenceName" on-change="($ctrl.onChangeRefName)"></git-form-ref-field>\n\n  <git-form-compose-path-field\n    value="$ctrl.model.ComposeFilePathInRepository"\n    on-change="($ctrl.onChangeComposePath)"\n    deploy-method="{{ $ctrl.deployMethod }}"\n    is-docker-standalone="$ctrl.isDockerStandalone"\n  ></git-form-compose-path-field>\n\n  <git-form-additional-files-panel ng-if="$ctrl.additionalFile" model="$ctrl.model" on-change="($ctrl.onChange)"></git-form-additional-files-panel>\n\n  <git-form-auto-update-fieldset\n    ng-if="$ctrl.autoUpdate"\n    model="$ctrl.model"\n    on-change="($ctrl.onChange)"\n    show-force-pull-image="$ctrl.showForcePullImage"\n  ></git-form-auto-update-fieldset>\n</ng-form>\n')}]),e.exports=t},69688:function(e){var t="app/portainer/components/forms/group-form/groupForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="endpointGroupForm">\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="group_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" name="group_name" ng-model="$ctrl.model.Name" placeholder="e.g. my-group" required auto-focus />\n      <div class="help-block" ng-show="endpointGroupForm.group_name.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="endpointGroupForm.group_name.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- description-input --\x3e\n  <div class="form-group">\n    <label for="group_description" class="col-sm-3 col-lg-2 control-label text-left">Description</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="group_description" ng-model="$ctrl.model.Description" placeholder="e.g. production environments..." />\n    </div>\n  </div>\n  \x3c!-- !description-input --\x3e\n  <div class="col-sm-12 form-section-title"> Metadata </div>\n\n  <tag-selector ng-if="$ctrl.model.TagIds" value="$ctrl.model.TagIds" on-change="($ctrl.onChangeTags)" allow-create="$ctrl.state.allowCreateTag"> </tag-selector>\n\n  \x3c!-- environments --\x3e\n  <div ng-if="$ctrl.model.Id !== 1">\n    <div class="col-sm-12 form-section-title"> Associated environments </div>\n    <div class="form-group">\n      <div class="col-sm-12 small text-muted">\n        You can select which environment should be part of this group by moving them to the associated environments table. Simply click on any environment entry to move it from one\n        table to the other.\n      </div>\n      <div class="col-sm-12" style="margin-top: 20px">\n        \x3c!-- available-endpoints --\x3e\n        <div class="table-row-container">\n          <div class="datatable table-in-row">\n            <group-association-table\n              loaded="$ctrl.loaded"\n              page-type="$ctrl.pageType"\n              table-type="available"\n              retrieve-page="$ctrl.getPaginatedEndpointsByGroup"\n              dataset="$ctrl.availableEndpoints"\n              entry-click="$ctrl.associateEndpoint"\n              pagination-state="$ctrl.state.available"\n              empty-dataset-message="No environment available"\n              title="Available environments"\n              cy-value="available-endpoints"\n            ></group-association-table>\n          </div>\n          \x3c!-- !available-endpoints --\x3e\n          \x3c!-- associated-endpoints --\x3e\n          <div class="table-in-row">\n            <group-association-table\n              loaded="$ctrl.loaded"\n              page-type="$ctrl.pageType"\n              table-type="associated"\n              retrieve-page="$ctrl.getPaginatedEndpointsByGroup"\n              dataset="$ctrl.associatedEndpoints"\n              entry-click="$ctrl.dissociateEndpoint"\n              pagination-state="$ctrl.state.associated"\n              empty-dataset-message="No associated environment"\n              has-backend-pagination="this.pageType !== \'create\'"\n              title="Associated environments"\n              cy-value="associated-endpoints"\n            ></group-association-table>\n          </div>\n        </div>\n        \x3c!-- !associated-endpoints --\x3e\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.model.Id === 1">\n    <div class="table-in-row">\n      <group-association-table\n        loaded="$ctrl.loaded"\n        page-type="$ctrl.pageType"\n        table-type="associated"\n        retrieve-page="$ctrl.getPaginatedEndpointsByGroup"\n        dataset="$ctrl.associatedEndpoints"\n        pagination-state="$ctrl.state.associated"\n        empty-dataset-message="No environment available"\n        title="Unassociated environments"\n      ></group-association-table>\n    </div>\n  </div>\n  \x3c!-- !endpoints --\x3e\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="button"\n        class="btn btn-primary btn-sm"\n        ng-click="$ctrl.formAction()"\n        ng-disabled="$ctrl.actionInProgress || !endpointGroupForm.$valid"\n        button-spinner="$ctrl.actionInProgress"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},5032:function(e){var t="app/portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form name="$ctrl.redeployGitForm">\n  <div class="col-sm-12 form-section-title"> Redeploy from git repository </div>\n  <div class="form-group text-muted">\n    <div class="col-sm-12">\n      <p> Pull the latest manifest from git and redeploy the application. </p>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <p>\n        <a class="small interactive" ng-click="$ctrl.state.showConfig = !$ctrl.state.showConfig">\n          <i ng-class="[\'fa space-right\', { \'fa-minus\': $ctrl.state.showConfig, \'fa-plus\': !$ctrl.state.showConfig }]" aria-hidden="true"></i>\n          {{ $ctrl.state.showConfig ? \'Hide\' : \'Advanced\' }} configuration\n        </a>\n      </p>\n    </div>\n  </div>\n  <git-form-ref-field ng-if="$ctrl.state.showConfig" value="$ctrl.formValues.RefName" on-change="($ctrl.onChangeRef)"></git-form-ref-field>\n  <git-form-auth-fieldset\n    ng-if="$ctrl.state.showConfig"\n    model="$ctrl.formValues"\n    is-edit="$ctrl.state.isEdit"\n    on-change="($ctrl.onChange)"\n    show-auth-explanation="true"\n  ></git-form-auth-fieldset>\n\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  \x3c!-- #Git buttons --\x3e\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.pullAndRedeployApplication()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="ctrl.state.redeployInProgress"\n    analytics-on\n    analytics-category="kubernetes"\n    analytics-event="kubernetes-application-edit-git-pull"\n  >\n    <span ng-show="!$ctrl.state.redeployInProgress"> <i class="fa fa-sync space-right" aria-hidden="true"></i> Pull and update application </span>\n    <span ng-show="$ctrl.state.redeployInProgress">In progress...</span>\n  </button>\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.saveGitSettings()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="$ctrl.state.saveGitSettingsInProgress"\n  >\n    <span ng-show="!$ctrl.state.saveGitSettingsInProgress"> Save settings </span>\n    <span ng-show="$ctrl.state.saveGitSettingsInProgress">In progress...</span>\n  </button>\n</form>\n')}]),e.exports=t},96927:function(e){var t="app/portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form name="$ctrl.redeployGitForm">\n  <div class="col-sm-12 form-section-title"> Redeploy from git repository </div>\n  <div class="form-group text-muted">\n    <div class="col-sm-12">\n      <p> Pull the latest manifest from git and redeploy the application. </p>\n    </div>\n  </div>\n  <git-form-auto-update-fieldset model="$ctrl.formValues.AutoUpdate" on-change="($ctrl.onChangeAutoUpdate)"></git-form-auto-update-fieldset>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <p>\n        <a class="small interactive" ng-click="$ctrl.state.showConfig = !$ctrl.state.showConfig">\n          <i ng-class="[\'fa space-right\', { \'fa-minus\': $ctrl.state.showConfig, \'fa-plus\': !$ctrl.state.showConfig }]" aria-hidden="true"></i>\n          {{ $ctrl.state.showConfig ? \'Hide\' : \'Advanced\' }} configuration\n        </a>\n      </p>\n    </div>\n  </div>\n  <git-form-ref-field ng-if="$ctrl.state.showConfig" value="$ctrl.formValues.RefName" on-change="($ctrl.onChangeRef)"></git-form-ref-field>\n  <git-form-auth-fieldset\n    ng-if="$ctrl.state.showConfig"\n    model="$ctrl.formValues"\n    is-edit="$ctrl.state.isEdit"\n    on-change="($ctrl.onChange)"\n    show-auth-explanation="true"\n  ></git-form-auth-fieldset>\n\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  \x3c!-- #Git buttons --\x3e\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.pullAndRedeployApplication()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || $ctrl.state.hasUnsavedChanges|| !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="$ctrl.state.redeployInProgress"\n    analytics-on\n    analytics-category="kubernetes"\n    analytics-event="kubernetes-application-edit-git-pull"\n  >\n    <span ng-show="!$ctrl.state.redeployInProgress"> <i class="fa fa-sync space-right" aria-hidden="true"></i> Pull and update application </span>\n    <span ng-show="$ctrl.state.redeployInProgress">In progress...</span>\n  </button>\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.saveGitSettings()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || !$ctrl.state.hasUnsavedChanges|| !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="$ctrl.state.saveGitSettingsInProgress"\n    analytics-on\n    analytics-category="kubernetes"\n    analytics-event="kubernetes-application-edit"\n    analytics-properties="$ctrl.buildAnalyticsProperties()"\n  >\n    <span ng-show="!$ctrl.state.saveGitSettingsInProgress"> Save settings </span>\n    <span ng-show="$ctrl.state.saveGitSettingsInProgress">In progress...</span>\n  </button>\n</form>\n')}]),e.exports=t},6693:function(e){var t="app/portainer/components/forms/registry-form-aws-ecr/registry-form-ecr.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="$ctrl.registryFormEcr" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Important notice </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small">\n      For information on how to generate an Access Key, follow the\n      <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_console" target="_blank">AWS guide</a>.\n    </span>\n  </div>\n\n  <div class="col-sm-12 form-section-title"> ECR connection details </div>\n\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="my-ecr-registry" required auto-focus />\n      <div class="help-block" ng-show="$ctrl.registryFormEcr.registry_name.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormEcr.registry_name.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n            <p ng-message="used" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              A registry with the same name already exists.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n\n  \x3c!-- url-input --\x3e\n  <div class="form-group">\n    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">\n      <span class="required">Registry URL</span>\n      <portainer-tooltip message="\'URL of an Amazon Elastic Container Registry, which contains an account id and region.\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        class="form-control"\n        id="registry_url"\n        name="registry_url"\n        ng-model="$ctrl.model.URL"\n        placeholder="aws-account-id.dkr.ecr.us-east-1.amazonaws.com/"\n        required\n      />\n      <div class="help-block" ng-show="$ctrl.registryFormEcr.registry_url.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormEcr.registry_url.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- url-input --\x3e\n\n  \x3c!-- authentication-checkbox --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field\n        label="\'Authentication\'"\n        label-class="\'col-sm-3 col-lg-2\'"\n        tooltip="\'Enable this option if you need to specify credentials to connect to a private registry.\'"\n        name="\'administrator\'"\n        checked="$ctrl.model.Authentication"\n        on-change="($ctrl.toggleAuthentication)"\n        label-class="\'col-sm-2\'"\n      ></por-switch-field>\n    </div>\n  </div>\n  \x3c!-- !authentication-checkbox --\x3e\n\n  <div ng-if="$ctrl.model.Authentication">\n    \x3c!-- aws-access-key --\x3e\n    <div class="form-group">\n      <label for="registry_access_key" class="col-sm-3 col-lg-2 control-label text-left required">AWS Access Key</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="text" class="form-control" id="registry_access_key" name="registry_access_key" ng-model="$ctrl.model.Username" required />\n        <div class="help-block" ng-show="$ctrl.registryFormEcr.registry_access_key.$invalid">\n          <div class="small text-warning">\n            <div ng-messages="$ctrl.registryFormEcr.registry_access_key.$error">\n              <p ng-message="required" class="vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                This field is required.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !aws-access-key --\x3e\n\n    \x3c!-- aws-secret-access-key --\x3e\n    <div class="form-group">\n      <label for="registry_secret_access_key" class="col-sm-3 col-lg-2 control-label text-left required">AWS Secret Access Key</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="password" class="form-control" id="registry_secret_access_key" name="registry_secret_access_key" ng-model="$ctrl.model.Password" required />\n        <div class="help-block" ng-show="$ctrl.registryFormEcr.registry_secret_access_key.$invalid">\n          <div class="small text-warning">\n            <div ng-messages="$ctrl.registryFormEcr.registry_secret_access_key.$error">\n              <p ng-message="required" class="vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                This field is required.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !aws-secret-access-key --\x3e\n\n    \x3c!-- region --\x3e\n    <div class="form-group">\n      <label for="registry_region" class="col-sm-3 col-lg-2 control-label text-left required">Region</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="text" class="form-control" id="registry_region" name="registry_region" placeholder="us-west-1" ng-model="$ctrl.model.Ecr.Region" required />\n        <div class="help-block" ng-show="$ctrl.registryFormEcr.registry_region.$invalid">\n          <div class="small text-warning">\n            <div ng-messages="$ctrl.registryFormEcr.registry_region.$error">\n              <p ng-message="required" class="vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                This field is required.\n              </p>\n              <p ng-message="used" class="vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                A registry with the same name already exists.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !region --\x3e\n  </div>\n\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !$ctrl.registryFormEcr.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'ecr\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},56440:function(e){var t="app/portainer/components/forms/registry-form-azure/registry-form-azure.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="$ctrl.registryFormAzure" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Azure registry details </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="my-azure-registry" required auto-focus />\n      <div class="help-block" ng-show="$ctrl.registryFormAzure.registry_name.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormAzure.registry_name.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n            <p ng-message="used" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              A registry with the same name already exists.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- url-input --\x3e\n  <div class="form-group">\n    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">\n      <span class="required">Registry URL</span>\n      <portainer-tooltip message="\'URL of an Azure Container Registry. Any protocol will be stripped.\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_url" name="registry_url" ng-model="$ctrl.model.URL" placeholder="myproject.azurecr.io" required />\n      <div class="help-block" ng-show="$ctrl.registryFormAzure.registry_url.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormAzure.registry_url.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- url-input --\x3e\n  \x3c!-- credentials-user --\x3e\n  <div class="form-group">\n    <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left required">Username</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />\n      <div class="help-block" ng-show="$ctrl.registryFormAzure.registry_username.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormAzure.registry_username.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-user --\x3e\n  \x3c!-- credentials-password --\x3e\n  <div class="form-group">\n    <label for="registry_password" class="col-sm-3 col-lg-2 control-label text-left required">Password</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />\n      <div class="help-block" ng-show="$ctrl.registryFormAzure.registry_password.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormAzure.registry_password.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-password --\x3e\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !$ctrl.registryFormAzure.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'azure\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},35778:function(e){var t="app/portainer/components/forms/registry-form-custom/registry-form-custom.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="$ctrl.registryFormCustom" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Important notice </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small">\n      Docker requires you to connect to a <a href="https://docs.docker.com/registry/deploying/#running-a-domain-registry" target="_blank">secure registry</a>. You can find more\n      information about how to connect to an insecure registry <a href="https://docs.docker.com/registry/insecure/" target="_blank">in the Docker documentation</a>.\n    </span>\n  </div>\n  <div class="col-sm-12 form-section-title"> Custom registry details </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="my-custom-registry" required auto-focus />\n      <div class="help-block" ng-show="$ctrl.registryFormCustom.registry_name.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormCustom.registry_name.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n            <p ng-message="used" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              A registry with the same name already exists.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- url-input --\x3e\n  <div class="form-group">\n    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left required">\n      Registry URL\n      <portainer-tooltip message="\'URL or IP address of a Docker registry. Any protocol and trailing slash will be stripped if present.\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_url" name="registry_url" ng-model="$ctrl.model.URL" placeholder="10.0.0.10:5000 or myregistry.domain.tld" required />\n      <div class="help-block" ng-show="$ctrl.registryFormCustom.registry_url.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormCustom.registry_url.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- url-input --\x3e\n  \x3c!-- authentication-checkbox --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field\n        label="\'Authentication\'"\n        label-class="\'col-sm-3 col-lg-2\'"\n        tooltip="\'Enable this option if you need to specify credentials to connect to this registry.\'"\n        name="\'administrator\'"\n        checked="$ctrl.model.Authentication"\n        on-change="($ctrl.toggleAuthentication)"\n        label-class="\'col-sm-2\'"\n      ></por-switch-field>\n    </div>\n  </div>\n  \x3c!-- !authentication-checkbox --\x3e\n  <div ng-if="$ctrl.model.Authentication">\n    \x3c!-- credentials-user --\x3e\n    <div class="form-group">\n      <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left required">Username</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />\n        <div class="help-block" ng-show="$ctrl.registryFormCustom.registry_username.$invalid">\n          <div class="small text-warning">\n            <div ng-messages="$ctrl.registryFormCustom.registry_username.$error">\n              <p ng-message="required" class="vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                This field is required.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !credentials-user --\x3e\n    \x3c!-- credentials-password --\x3e\n    <div class="form-group">\n      <label for="registry_password" class="col-sm-3 col-lg-2 control-label text-left required">Password</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />\n        <div class="help-block" ng-show="$ctrl.registryFormCustom.registry_password.$invalid">\n          <div class="small text-warning">\n            <div ng-messages="$ctrl.registryFormCustom.registry_password.$error">\n              <p ng-message="required" class="vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                This field is required.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !credentials-password --\x3e\n  </div>\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !$ctrl.registryFormCustom.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'custom\' }}"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},85683:function(e){var t="app/portainer/components/forms/registry-form-dockerhub/registry-form-dockerhub.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="$ctrl.registryFormDockerhub" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Important notice </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small">\n      <p>\n        For information on how to generate a DockerHub Access Token, follow the\n        <a href="https://docs.docker.com/docker-hub/access-tokens/" target="_blank">dockerhub guide</a>.\n      </p>\n    </span>\n  </div>\n  <div class="col-sm-12 form-section-title"> DockerHub account details </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="dockerhub-prod-us" required />\n      <div class="help-block" ng-show="$ctrl.registryFormDockerhub.registry_name.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormDockerhub.registry_name.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n            <p ng-message="used" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              A registry with the same name already exists.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- credentials-user --\x3e\n  <div class="form-group">\n    <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left required">DockerHub username</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />\n      <div class="help-block" ng-show="$ctrl.registryFormDockerhub.registry_username.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormDockerhub.registry_username.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-user --\x3e\n  \x3c!-- credentials-password --\x3e\n  <div class="form-group">\n    <label for="registry_password" class="col-sm-3 col-lg-2 control-label text-left required">DockerHub access token</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />\n      <div class="help-block" ng-show="$ctrl.registryFormDockerhub.registry_password.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormDockerhub.registry_password.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-password --\x3e\n\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !$ctrl.registryFormDockerhub.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'dockerhub\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},51338:function(e){var t="app/portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar vertical-center">\n        <div class="toolBarTitle vertical-center">\n          <pr-icon icon="$ctrl.titleIcon" feather="true" class-name="\'icon-blue\'"></pr-icon>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true" class="searchIcon"></pr-icon>\n          <input type="text" class="searchInput" ng-model="$ctrl.state.textFilter" ng-change="$ctrl.onTextFilterChange()" placeholder="Search..." auto-focus />\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <div class="vertical-center">\n                  <span class="md-checkbox vertical-center">\n                    <input id="select_all" type="checkbox" ng-model="$ctrl.state.selectAll" ng-change="$ctrl.selectAll()" />\n                    <label for="select_all"></label>\n                  </span>\n                  <table-column-header\n                    col-title="\'Namespace\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.state.orderBy === \'Namespace\'"\n                    is-sorted-desc="$ctrl.state.orderBy === \'Namespace\' && $ctrl.state.reverseOrder"\n                    ng-click="$ctrl.changeOrderBy(\'Namespace\')"\n                  ></table-column-header>\n                </div>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'PathWithNamespace\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'PathWithNamespace\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'PathWithNamespace\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'PathWithNamespace\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header col-title="\'Description\'" can-sort="false"></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <span class="md-checkbox">\n                  <input id="select_{{ $index }}" type="checkbox" ng-model="item.Checked" ng-click="$ctrl.selectItem(item, $event)" ng-disabled="$ctrl.disableSelection(item)" />\n                  <label for="select_{{ $index }}"></label>\n                </span>\n                {{ item.Namespace }}\n              </td>\n              <td>\n                {{ item.Name }}\n              </td>\n              <td>\n                {{ item.PathWithNamespace }}\n              </td>\n              <td>\n                {{ item.Description }}\n              </td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No projects available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()" data-cy="component-paginationSelect">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},62796:function(e){var t="app/portainer/components/forms/registry-form-gitlab/registry-form-gitlab.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="registryFormGitlab" ng-submit="$ctrl.retrieveRegistries()">\n  <div class="col-sm-12 form-section-title"> Important notice </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small">\n      <p>\n        For information on how to generate a Gitlab Personal Access Token, follow the\n        <a href="https://gitlab.com/help/user/profile/personal_access_tokens.md" target="_blank">gitlab guide</a>.\n      </p>\n    </span>\n  </div>\n  <div class="col-sm-12 form-section-title"> Gitlab registry connection details </div>\n  \x3c!-- credentials-user --\x3e\n  <div class="form-group">\n    <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left required">Username</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />\n      <div class="help-block" ng-show="registryFormGitlab.registry_username.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="registryFormGitlab.registry_username.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-user --\x3e\n  \x3c!-- credentials-pat --\x3e\n  <div class="form-group">\n    <label for="registry_perso_acc_token" class="col-sm-3 col-lg-2 control-label text-left required">Personal Access Token </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="password" class="form-control" id="registry_perso_acc_token" name="registry_perso_acc_token" ng-model="$ctrl.model.Token" required />\n      <div class="help-block" ng-show="registryFormGitlab.registry_perso_acc_token.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="registryFormGitlab.registry_perso_acc_token.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-pat --\x3e\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="button"\n        class="btn btn-link btn-sm hover:no-underline !ml-0 p-0"\n        ng-if="!$ctrl.state.overrideConfiguration"\n        ng-click="$ctrl.state.overrideConfiguration = true;"\n      >\n        <pr-icon icon="\'tool\'" feather="true"></pr-icon>\n        Override default configuration\n      </button>\n      <button\n        type="button"\n        class="btn btn-link btn-sm hover:no-underline !ml-0 p-0"\n        ng-if="$ctrl.state.overrideConfiguration"\n        ng-click="$ctrl.state.overrideConfiguration = false; $ctrl.resetDefaults()"\n      >\n        <pr-icon icon="\'settings\'" feather="true"></pr-icon>\n        Use default configuration\n      </button>\n    </div>\n  </div>\n\n  \x3c!-- url-input --\x3e\n  <div class="form-group" ng-if="$ctrl.state.overrideConfiguration">\n    <label for="instance_url" class="col-sm-3 col-lg-2 control-label text-left required">\n      Instance URL\n      <portainer-tooltip message="\'URL of Gitlab instance.\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="instance_url" name="instance_url" ng-model="$ctrl.model.Gitlab.InstanceURL" placeholder="https://gitlab.com" required />\n      <div class="help-block" ng-show="registryFormGitlab.instance_url.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="registryFormGitlab.instance_url.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !url-input --\x3e\n  \x3c!-- url-input --\x3e\n  <div class="form-group" ng-if="$ctrl.state.overrideConfiguration">\n    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left required">\n      Registry URL\n      <portainer-tooltip message="\'URL of Gitlab registry instance.\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_url" name="registry_url" ng-model="$ctrl.model.URL" placeholder="https://registry.gitlab.com" required />\n      <div class="help-block" ng-show="registryFormGitlab.registry_url.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="registryFormGitlab.registry_url.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !url-input --\x3e\n\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button type="submit" class="btn btn-primary btn-sm" ng-disabled="$ctrl.actionInProgress || !registryFormGitlab.$valid" button-spinner="$ctrl.actionInProgress">\n        <span ng-hide="$ctrl.actionInProgress">Retrieve projects</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n    </div>\n  </div>\n</form>\n<div class="form-horizontal" ng-if="$ctrl.projects">\n  <div class="col-sm-12 form-section-title"> Gitlab projects </div>\n  <div class="form-group">\n    <span class="col-sm-12 text-muted small"> Select the project\'s registries you want to manage. Portainer will create one registry for each selected project. </span>\n    <span class="col-sm-12 text-muted small vertical-center">\n      <pr-icon icon="\'alert-triangle\'" feather="true" class-name="\'icon-warning\'"></pr-icon>\n      If you can\'t select a project, make sure that registry feature is activated on it.\n    </span>\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <gitlab-projects-datatable\n        title-text="Gitlab projects"\n        title-icon="list"\n        dataset="$ctrl.projects"\n        table-key="gitlab_projects"\n        state="$ctrl.state.gitlab"\n        order-by="Name"\n      ></gitlab-projects-datatable>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        ng-click="$ctrl.createRegistries()"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !$ctrl.state.gitlab.selectedItemCount"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'gitlab\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">Create registries</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</div>\n')}]),e.exports=t},64837:function(e){var t="app/portainer/components/forms/registry-form-proget/registry-form-proget.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="$ctrl.registryFormProGet" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Important notice </div>\n  <div class="form-group">\n    <div class="col-sm-12 text-muted small">\n      Any Portainer user that has access to this registry will be able to use the Registry Manager features against the content of any Feed in the ProGet registry that the ProGet\n      user has access to.\n    </div>\n  </div>\n  <div class="col-sm-12 form-section-title"> ProGet registry details </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="proget-registry" required auto-focus />\n      <div class="help-block" ng-show="$ctrl.registryFormProGet.registry_name.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormProGet.registry_name.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n            <p ng-message="used" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              A registry with the same name already exists.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- url-input --\x3e\n  <div class="form-group">\n    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">\n      <span class="required">Registry URL</span>\n      <portainer-tooltip message="\'The URL of the ProGet registry including the Feed name\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_url" name="registry_url" ng-model="$ctrl.model.URL" placeholder="proget.example.com/example-registry" required />\n      <div class="help-block" ng-show="$ctrl.registryFormProGet.registry_url.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormProGet.registry_url.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- url-input --\x3e\n  \x3c!-- base-url-input --\x3e\n  <div class="form-group">\n    <label for="registry_base_url" class="col-sm-3 col-lg-2 control-label text-left">\n      <span class="required">Base URL</span>\n      <portainer-tooltip message="\'The base URL of the ProGet registry\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_base_url" name="registry_base_url" ng-model="$ctrl.model.BaseURL" placeholder="proget.example.com" required />\n      <div class="help-block" ng-show="$ctrl.registryFormProGet.registry_base_url.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormProGet.registry_base_url.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !base-url-input --\x3e\n  <div>\n    \x3c!-- credentials-user --\x3e\n    <div class="form-group">\n      <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left required">Username</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />\n        <div class="help-block" ng-show="$ctrl.registryFormProGet.registry_username.$invalid">\n          <div class="small text-warning">\n            <div ng-messages="$ctrl.registryFormProGet.registry_username.$error">\n              <p ng-message="required" class="vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                This field is required.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !credentials-user --\x3e\n    \x3c!-- credentials-password --\x3e\n    <div class="form-group">\n      <label for="registry_password" class="col-sm-3 col-lg-2 control-label text-left required">Password</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />\n        <div class="help-block" ng-show="$ctrl.registryFormProGet.registry_password.$invalid">\n          <div class="small text-warning">\n            <div ng-messages="$ctrl.registryFormProGet.registry_password.$error">\n              <p ng-message="required" class="vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                This field is required.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !credentials-password --\x3e\n  </div>\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !$ctrl.registryFormProGet.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'proget\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},26548:function(e){var t="app/portainer/components/forms/registry-form-quay/registry-form-quay.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-horizontal" name="$ctrl.registryFormQuay" ng-submit="$ctrl.formAction()">\n  <div class="col-sm-12 form-section-title"> Quay account details </div>\n  \x3c!-- name-input --\x3e\n  <div class="form-group">\n    <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="Quay" required />\n      <div class="help-block" ng-show="$ctrl.registryFormQuay.registry_name.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormQuay.registry_name.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n            <p ng-message="used" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              A registry with the same name already exists.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !name-input --\x3e\n  \x3c!-- credentials-user --\x3e\n  <div class="form-group">\n    <label for="registry_username" class="col-sm-3 col-lg-2 control-label text-left required">Username</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required auto-focus />\n      <div class="help-block" ng-show="$ctrl.registryFormQuay.registry_username.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormQuay.registry_username.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-user --\x3e\n  \x3c!-- credentials-password --\x3e\n  <div class="form-group">\n    <label for="registry_password" class="col-sm-3 col-lg-2 control-label text-left required">Password</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />\n      <div class="help-block" ng-show="$ctrl.registryFormQuay.registry_password.$invalid">\n        <div class="small text-warning">\n          <div ng-messages="$ctrl.registryFormQuay.registry_password.$error">\n            <p ng-message="required" class="vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n              This field is required.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !credentials-password --\x3e\n\n  \x3c!-- organization-checkbox --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field\n        label="\'Use organisation registry\'"\n        checked="$ctrl.model.Quay.useOrganisation"\n        on-change="($ctrl.toggleOrganisation)"\n        label-class="\'col-sm-2\'"\n      ></por-switch-field>\n    </div>\n  </div>\n  \x3c!-- !organisation-checkbox --\x3e\n  <div ng-if="$ctrl.model.Quay.useOrganisation">\n    \x3c!-- organisation_name --\x3e\n    <div class="form-group">\n      <label for="organisation_name" class="col-sm-3 col-lg-2 control-label text-left required">Organisation name</label>\n      <div class="col-sm-9 col-lg-10">\n        <input type="text" class="form-control" id="organisation_name" name="organisation_name" ng-model="$ctrl.model.Quay.organisationName" required />\n        <div class="help-block" ng-show="$ctrl.registryFormQuay.organisation_name.$invalid">\n          <div class="small text-warning">\n            <div ng-messages="$ctrl.registryFormQuay.organisation_name.$error">\n              <p ng-message="required" class="vertical-center">\n                <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon>\n                This field is required.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- !organisation_name --\x3e\n  </div>\n\n  \x3c!-- actions --\x3e\n  <div class="col-sm-12 form-section-title"> Actions </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-sm"\n        ng-disabled="$ctrl.actionInProgress || !$ctrl.registryFormQuay.$valid"\n        button-spinner="$ctrl.actionInProgress"\n        analytics-on\n        analytics-category="portainer"\n        analytics-event="portainer-registry-creation"\n        analytics-properties="{ metadata: { type: \'quay\' } }"\n      >\n        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>\n        <span ng-show="$ctrl.actionInProgress">In progress...</span>\n      </button>\n    </div>\n  </div>\n  \x3c!-- !actions --\x3e\n</form>\n')}]),e.exports=t},11361:function(e){var t="app/portainer/components/forms/stack-from-template-form/stackFromTemplateForm.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12">\n  <rd-widget>\n    <rd-widget-custom-header icon="$ctrl.template.Logo" title-text="$ctrl.template.Title"></rd-widget-custom-header>\n    <rd-widget-body classes="padding">\n      <form class="form-horizontal" name="stackTemplateForm">\n        \x3c!-- description --\x3e\n        <div ng-if="$ctrl.template.Note">\n          <div class="form-section-title"> Information </div>\n          <div class="col-sm-12 form-group">\n            <div class="template-note" ng-bind-html="$ctrl.template.Note"></div>\n          </div>\n        </div>\n        \x3c!-- !description --\x3e\n        <div class="form-section-title"> Configuration </div>\n        \x3c!-- name-input --\x3e\n        <div class="form-group">\n          <label for="template_name" class="col-sm-2 control-label text-left">Name</label>\n          <div class="col-sm-6">\n            <input type="text" name="template_name" class="form-control" ng-model="$ctrl.formValues.name" ng-pattern="$ctrl.nameRegex" placeholder="e.g. myStack" required />\n          </div>\n        </div>\n        <div class="form-group" ng-if="stackTemplateForm.template_name.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="stackTemplateForm.template_name.$error">\n              <p ng-message="pattern">\n                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                <span>This field must consist of lower case alphanumeric characters, \'_\' or \'-\' (e.g. \'my-name\', or \'abc-123\').</span>\n              </p>\n              <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field is required.</p>\n            </div>\n          </div>\n        </div>\n        \x3c!-- !name-input --\x3e\n        \x3c!-- env --\x3e\n        <div ng-repeat="var in $ctrl.template.Env" ng-if="!var.preset || var.select" class="form-group">\n          <label for="field_{{ $index }}" class="col-sm-2 control-label text-left">\n            {{ var.label }}\n            <portainer-tooltip ng-if="var.description" message="var.description"></portainer-tooltip>\n          </label>\n          <div class="col-sm-6">\n            <input type="text" class="form-control" ng-if="!var.select" ng-model="var.value" id="field_{{ $index }}" />\n            <select class="form-control" ng-if="var.select" ng-model="var.value" id="field_{{ $index }}">\n              <option selected disabled hidden value="">Select value</option>\n              <option ng-repeat="choice in var.select" value="{{ choice.value }}">{{ choice.text }}</option>\n            </select>\n          </div>\n        </div>\n        \x3c!-- !env --\x3e\n        <ng-transclude ng-transclude-slot="advanced"></ng-transclude>\n\n        \x3c!-- access-control --\x3e\n        <por-access-control-form form-data="$ctrl.formValues.AccessControlData"></por-access-control-form>\n        \x3c!-- !access-control --\x3e\n        \x3c!-- actions --\x3e\n        <div class="form-section-title"> Actions </div>\n        <div class="form-group">\n          <div class="col-sm-12">\n            <button\n              type="button"\n              class="btn btn-primary"\n              ng-disabled="$ctrl.state.actionInProgress || !$ctrl.formValues.name || !$ctrl.state.deployable || stackTemplateForm.$invalid"\n              ng-click="$ctrl.createTemplate()"\n              button-spinner="$ctrl.state.actionInProgress"\n            >\n              <span ng-hide="$ctrl.state.actionInProgress">Deploy the stack</span>\n              <span ng-show="$ctrl.state.actionInProgress">Deployment in progress...</span>\n            </button>\n            <button type="button" class="btn btn-default" ng-click="$ctrl.unselectTemplate($ctrl.template)">Hide</button>\n            <div class="cols-sm-12 small text-danger space-left mt-1" ng-if="$ctrl.state.formValidationError">{{ $ctrl.state.formValidationError }}</div>\n            <div class="cols-sm-12 small text-danger space-left mt-1" ng-if="!$ctrl.state.deployable">This template type cannot be deployed on this environment.</div>\n          </div>\n        </div>\n        \x3c!-- !actions --\x3e\n      </form>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},8849:function(e){var t="app/portainer/components/forms/stack-redeploy-git-form/stack-redeploy-git-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form name="$ctrl.redeployGitForm" class="form-horizontal my-8">\n  <div class="col-sm-12 form-section-title"> Redeploy from git repository </div>\n  <git-form-info-panel\n    class-name="text-muted small"\n    url="$ctrl.model.URL"\n    type="stack"\n    config-file-path="$ctrl.model.ConfigFilePath"\n    additional-files="$ctrl.stack.AdditionalFiles"\n  ></git-form-info-panel>\n\n  <git-form-auto-update-fieldset\n    model="$ctrl.formValues.AutoUpdate"\n    on-change="($ctrl.onChangeAutoUpdate)"\n    show-force-pull-image="$ctrl.stack.Type !== 3"\n  ></git-form-auto-update-fieldset>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <p>\n        <a class="small interactive" ng-click="$ctrl.state.showConfig = !$ctrl.state.showConfig">\n          <i ng-class="{ \'fa fa-minus space-right\': $ctrl.state.showConfig, \'fa fa-plus space-right\': !$ctrl.state.showConfig }" aria-hidden="true"></i>\n          {{ $ctrl.state.showConfig ? \'Hide\' : \'Advanced\' }} configuration\n        </a>\n      </p>\n    </div>\n  </div>\n  <git-form-ref-field ng-if="$ctrl.state.showConfig" value="$ctrl.formValues.RefName" on-change="($ctrl.onChangeRef)"></git-form-ref-field>\n  <git-form-auth-fieldset\n    ng-if="$ctrl.state.showConfig"\n    is-edit="$ctrl.state.isEdit"\n    model="$ctrl.formValues"\n    on-change="($ctrl.onChange)"\n    show-auth-explanation="true"\n  ></git-form-auth-fieldset>\n  <environment-variables-panel\n    ng-model="$ctrl.formValues.Env"\n    explanation="These values will be used as substitutions in the stack file"\n    on-change="($ctrl.onChangeEnvVar)"\n    show-help-message="true"\n  ></environment-variables-panel>\n  <option-panel ng-if="$ctrl.stack.Type === 1 && $ctrl.endpoint.apiVersion >= 1.27" ng-model="$ctrl.formValues.Option" on-change="($ctrl.onChangeOption)"></option-panel>\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.submit()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || $ctrl.state.hasUnsavedChanges || !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="$ctrl.state.redeployInProgress"\n    analytics-on\n    analytics-event="docker-stack-pull-redeploy"\n    analytics-category="docker"\n  >\n    <span ng-hide="$ctrl.state.redeployInProgress"> <i class="fa fa-sync space-right" aria-hidden="true"></i> Pull and redeploy </span>\n    <span ng-show="$ctrl.state.redeployInProgress">In progress...</span>\n  </button>\n\n  <button\n    class="btn btn-sm btn-primary"\n    ng-click="$ctrl.saveGitSettings()"\n    ng-disabled="$ctrl.isSubmitButtonDisabled() || !$ctrl.state.hasUnsavedChanges || !$ctrl.redeployGitForm.$valid"\n    style="margin-top: 7px; margin-left: 0"\n    button-spinner="$ctrl.state.inProgress"\n    analytics-on\n    analytics-event="docker-stack-update-git-settings"\n    analytics-category="docker"\n    analytics-properties="$ctrl.buildAnalyticsProperties()"\n  >\n    <span ng-hide="$ctrl.state.inProgress"> Save settings </span>\n    <span ng-show="$ctrl.state.inProgress">In progress...</span>\n  </button>\n</form>\n')}]),e.exports=t},17775:function(e){var t="app/portainer/components/group-association-table/groupAssociationTable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <div class="toolBar">\n    <div class="toolBarTitle">{{ $ctrl.title }}</div>\n    <div class="searchBar vertical-center">\n      <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n      <input\n        type="text"\n        class="searchInput"\n        ng-model="$ctrl.paginationState.filter"\n        ng-change="$ctrl.onTextFilterChange()"\n        ng-model-options="{ debounce: 300 }"\n        placeholder="Search..."\n      />\n    </div>\n  </div>\n  <table class="table table-hover" data-cy="{{ $ctrl.cyValue }}">\n    <thead>\n      <tr>\n        <th> Name </th>\n        <th ng-if="$ctrl.showGroups"> Group </th>\n        <th ng-if="$ctrl.showTags"> Tags </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr\n        ng-if="!$ctrl.hasBackendPagination"\n        ng-click="$ctrl.entryClick(item)"\n        class="interactive"\n        dir-paginate="item in $ctrl.dataset | filter:$ctrl.paginationState.filter | itemsPerPage: $ctrl.paginationState.limit"\n        pagination-id="$ctrl.tableType"\n      >\n        <td>\n          {{ item.Name | truncate: 64 }}\n        </td>\n        <td ng-if="$ctrl.showGroups">\n          {{ $ctrl.groupIdToGroupName(item.GroupId) | truncate: 64 }}\n        </td>\n        <td ng-if="$ctrl.showTags">\n          {{ $ctrl.tagIdsToTagNames(item.TagIds) | arraytostr | truncate: 64 }}\n        </td>\n      </tr>\n      <tr\n        ng-if="$ctrl.hasBackendPagination"\n        ng-click="$ctrl.entryClick(item)"\n        class="interactive"\n        dir-paginate="item in $ctrl.dataset | itemsPerPage: $ctrl.paginationState.limit"\n        pagination-id="$ctrl.tableType"\n        total-items="$ctrl.paginationState.totalCount"\n      >\n        <td>\n          {{ item.Name | truncate: 64 }}\n        </td>\n        <td ng-if="$ctrl.showGroups">\n          {{ $ctrl.groupIdToGroupName(item.GroupId) | truncate: 64 }}\n        </td>\n        <td ng-if="$ctrl.showTags">\n          {{ $ctrl.tagIdsToTagNames(item.TagIds) | truncate: 64 }}\n        </td>\n      </tr>\n\n      <tr ng-if="!$ctrl.dataset">\n        <td colspan="3" class="text-center text-muted">Loading...</td>\n      </tr>\n      <tr ng-if="$ctrl.dataset.length === 0">\n        <td colspan="3" class="text-center text-muted">{{ $ctrl.emptyDatasetMessage }}</td>\n      </tr>\n    </tbody>\n  </table>\n  <div class="footer" ng-if="$ctrl.dataset">\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span class="space-right"> Items per page </span>\n          <select ng-model="$ctrl.paginationState.limit" ng-change="$ctrl.onPaginationLimitChanged()">\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls pagination-id="$ctrl.tableType" max-size="5" on-page-change="$ctrl.onPageChanged(newPageNumber, oldPageNumber)"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},94081:function(e){var t="app/portainer/components/information-panel-offline/informationPanelOffline.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<information-panel title-text="Offline mode" cant-dismiss="true">\n  <span class="small">\n    <p class="text-muted">\n      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n      This environment is currently offline (read-only). Data shown is based on the latest available snapshot.\n    </p>\n    <p class="text-muted">\n      <i class="fa fa-clock" aria-hidden="true" style="margin-right: 2px"></i>\n      Last snapshot: {{ $ctrl.snapshotTime | getisodatefromtimestamp }}\n    </p>\n    <button type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.triggerSnapshot()" ng-if="$ctrl.showRefreshButton">\n      <i class="fa fa-sync space-right" aria-hidden="true"></i>Refresh\n    </button>\n  </span>\n</information-panel>\n')}]),e.exports=t},50182:function(e){var t="app/portainer/components/option-panel/option-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="form-horizontal" name="$ctrl.optionForm">\n  <div class="form-group">\n    <div class="col-sm-12 form-section-title" style="margin-top: 10px; margin-left: 15px; width: 98%"> Options </div>\n\n    \x3c!-- Prune service --\x3e\n    <div class="col-sm-12">\n      <label class="control-label text-left">\n        Prune services\n        <portainer-tooltip position="\'top\'" message="\'Prune services that are no longer referenced.\'"></portainer-tooltip>\n      </label>\n      <label class="switch" style="margin-left: 20px"> <input type="checkbox" ng-model="$ctrl.ngModel.Prune" ng-change="$ctrl.switchPruneService()" /><i></i> </label>\n    </div>\n    \x3c!-- !Prune service --\x3e\n  </div>\n</ng-form>\n')}]),e.exports=t},52273:function(e,t,n){var r='\x3c!-- extension --\x3e\n<div class="blocklist-item" ng-click="$ctrl.goTo($ctrl.model)">\n  <div class="blocklist-item-box">\n    \x3c!-- extension-image --\x3e\n    <span class="blocklist-item-logo">\n      <img class="blocklist-item-logo" ng-if="$ctrl.model.Id == 1 || $ctrl.model.Id == 2 || $ctrl.model.Id == 3" src="'+n(21306)+'" />\n      <img class="blocklist-item-logo" ng-if="$ctrl.model.Id == 4 || $ctrl.model.Id == 5" src="'+n(6186)+'" />\n    </span>\n    \x3c!-- !extension-image --\x3e\n    \x3c!-- extension-details --\x3e\n    <span class="col-sm-12">\n      \x3c!-- blocklist-item-line1 --\x3e\n      <div class="blocklist-item-line">\n        <span>\n          <span class="blocklist-item-title">\n            {{ $ctrl.model.Name }}\n          </span>\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line1 --\x3e\n      \x3c!-- blocklist-item-line2 --\x3e\n      <div class="blocklist-item-line">\n        <span>\n          <span class="blocklist-item-desc">\n            {{ $ctrl.model.ShortDescription }}\n          </span>\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line2 --\x3e\n    </span>\n    \x3c!-- !extension-details --\x3e\n  </div>\n  \x3c!-- !extension --\x3e\n</div>\n',a="app/portainer/components/product-list/product-item/productItem.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(a,r)}]),e.exports=a},2050:function(e){var t="app/portainer/components/product-list/productList.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle"> <i class="fa fa-bolt" aria-hidden="true" style="margin-right: 2px"></i> {{ $ctrl.titleText }} </div>\n      </div>\n\n      <div class="blocklist">\n        <product-item ng-repeat="product in $ctrl.products" model="product" go-to="$ctrl.goTo"></product-item>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},22746:function(e){var t="app/portainer/components/registry-details/registry-details.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row" ng-if="$ctrl.registry">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="radio" feather-icon="true" title-text="Registry"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td style="padding-left: 20px">Name</td>\n              <td>\n                {{ $ctrl.registry.Name }}\n              </td>\n            </tr>\n            <tr>\n              <td style="padding-left: 20px">URL</td>\n              <td>\n                {{ $ctrl.registry.URL }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},63010:function(e){var t="app/portainer/components/sensitive-details/sensitive-details.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="sensitive-details-container">\n  <div class="text-wrap">{{ $ctrl.key }}</div>\n  <show-hide class="show-hide-container" value="$ctrl.value" use-asterisk="true"></show-hide>\n  <copy-button value="$ctrl.value"></copy-button>\n</div>\n')}]),e.exports=t},39773:function(e){var t="app/portainer/components/show-hide/show-hide.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="small text-muted text-wrap">\n  <span ng-if="!$ctrl.show && $ctrl.useAsterisk">********</span>\n  <span ng-if="$ctrl.show">{{ $ctrl.value }}</span>\n</div>\n\n<button type="button" class="btn btn-link nopadding" ng-click="$ctrl.show = !$ctrl.show" title="Show/Hide value">\n  <div ng-if="!$ctrl.show">\n    <pr-icon icon="\'eye-off\'" feather="true"></pr-icon>\n    Show</div\n  >\n  <div ng-if="$ctrl.show">\n    <pr-icon icon="\'eye\'" feather="true"></pr-icon>\n    Hide</div\n  >\n</button>\n')}]),e.exports=t},55419:function(e){var t="app/portainer/components/slider/slider.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <rzslider rz-slider-options="$ctrl.options" rz-slider-model="$ctrl.model"></rzslider>\n</div>\n')}]),e.exports=t},78196:function(e){var t="app/portainer/components/stack-duplication-form/stack-duplication-form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div authorization="PortainerStackMigrate">\n  <div class="col-sm-12 form-section-title"> Stack duplication / migration </div>\n  <rd-widget>\n    <rd-widget-body>\n      <form class="form-horizontal" name="dupStackForm">\n        <div class="form-group">\n          <span class="small" style="margin-top: 10px">\n            <p class="text-muted"> This feature allows you to duplicate or migrate this stack. </p>\n          </span>\n        </div>\n\n        <div class="form-group">\n          <input\n            class="form-control"\n            placeholder="Stack name (optional for migration)"\n            aria-placeholder="Stack name"\n            name="new_stack_name"\n            ng-pattern="$ctrl.STACK_NAME_VALIDATION_REGEX"\n            ng-model="$ctrl.formValues.newName"\n          />\n        </div>\n        <div class="form-group" ng-show="dupStackForm.new_stack_name.$invalid">\n          <div class="col-sm-12 small text-warning">\n            <div ng-messages="dupStackForm.new_stack_name.$error">\n              <p ng-message="pattern">\n                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n                <span>This field must consist of lower case alphanumeric characters, \'_\' or \'-\' (e.g. \'my-name\', or \'abc-123\').</span>\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div class="form-group" ng-if="$ctrl.endpoints && $ctrl.groups">\n          <por-select value="$ctrl.formValues.endpointId" on-change="($ctrl.onChangeEnvironment)" options="$ctrl.environmentSelectorOptions"></por-select>\n        </div>\n\n        <div class="form-group">\n          <button\n            class="btn btn-sm btn-primary"\n            ng-click="$ctrl.migrateStack()"\n            ng-disabled="$ctrl.isMigrationButtonDisabled()"\n            style="margin-top: 7px; margin-left: 0"\n            button-spinner="$ctrl.state.migrationInProgress"\n          >\n            <span ng-hide="$ctrl.state.migrationInProgress"> <i class="fa fa-long-arrow-alt-right space-right" aria-hidden="true"></i> Migrate </span>\n            <span ng-show="$ctrl.state.migrationInProgress">Migration in progress...</span>\n          </button>\n          <button\n            class="btn btn-sm btn-primary"\n            ng-click="$ctrl.duplicateStack()"\n            ng-disabled="!$ctrl.isFormValidForDuplication() || $ctrl.state.duplicationInProgress || $ctrl.state.migrationInProgress"\n            style="margin-top: 7px; margin-left: 0"\n            button-spinner="$ctrl.state.duplicationInProgress"\n          >\n            <span ng-hide="$ctrl.state.duplicationInProgress"> <i class="fa fa-clone space-right" aria-hidden="true"></i> Duplicate </span>\n            <span ng-show="$ctrl.state.duplicationInProgress">Duplication in progress...</span>\n          </button>\n        </div>\n\n        <div class="form-group">\n          <div ng-if="$ctrl.yamlError && $ctrl.isEndpointSelected()">\n            <span class="text-danger small">{{ $ctrl.yamlError }}</span>\n          </div>\n        </div>\n      </form>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},80240:function(e){var t="app/portainer/components/status-indicator/status-indicator.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<i aria-hidden="true" ng-class="[\'status-indicator\', { ok: $ctrl.ok }]"></i>\n')}]),e.exports=t},76339:function(e){var t="app/portainer/components/template-list/template-item/templateItem.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'\x3c!-- template --\x3e\n<div ng-class="{ \'blocklist-item--selected\': $ctrl.model.Selected }" class="blocklist-item template-item !mr-0 !my-0" ng-click="$ctrl.onSelect($ctrl.model)">\n  <div class="blocklist-item-box">\n    \x3c!-- template-image --\x3e\n    <div class="vertical-center justify-center min-w-[56px]">\n      <fallback-image\n        src="$ctrl.model.Logo"\n        fallback-icon="\'svg-rocket\'"\n        class-name="\'blocklist-item-logo\'"\n        fallback-class-name="\'!h-14 !w-14 [&>*]:!h-8 [&>*]:!w-auto icon-nested-blue\'"\n        fallback-mode="\'primary\'"\n      ></fallback-image>\n    </div>\n    \x3c!-- !template-image --\x3e\n    \x3c!-- template-details --\x3e\n    <div class="col-sm-12 template-item-details">\n      \x3c!-- blocklist-item-line1 --\x3e\n      <div class="blocklist-item-line gap-2">\n        <span class="blocklist-item-title">\n          {{ $ctrl.model.Title }}\n        </span>\n        <div class="inline-flex items-center space-left blocklist-item-subtitle">\n          <div ng-if="$ctrl.model.Type != 3" class="vertical-center">\n            <i class="fab fa-linux space-right" aria-hidden="true" ng-if="$ctrl.model.Platform === 1 || $ctrl.model.Platform === \'linux\' || !$ctrl.model.Platform"></i>\n            <span ng-if="!$ctrl.model.Platform"> &amp; </span>\n            <pr-icon\n              icon="\'svg-microsoft\'"\n              ng-if="$ctrl.model.Platform === 2 || $ctrl.model.Platform === \'windows\' || !$ctrl.model.Platform"\n              class-name="\'[&>*]:flex [&>*]:items-center\'"\n              size="\'lg\'"\n            ></pr-icon>\n          </div>\n          <div ng-if="$ctrl.model.Type === 3" class="vertical-center">\n            <pr-icon icon="\'svg-kubernetes\'" size="\'lg\'" class="align-bottom" class-name="\'[&>*]:flex [&>*]:items-center\'"></pr-icon>\n          </div>\n          {{ $ctrl.typeLabel }}\n        </div>\n      </div>\n      \x3c!-- !blocklist-item-line1 --\x3e\n      <span class="blocklist-item-actions" ng-transclude="actions"></span>\n      \x3c!-- blocklist-item-line2 --\x3e\n      <div class="blocklist-item-line template-item-details-sub">\n        <span class="blocklist-item-desc">\n          {{ $ctrl.model.Description }}\n        </span>\n        <span class="small text-muted" ng-if="$ctrl.model.Categories.length > 0">\n          {{ $ctrl.model.Categories.join(\', \') }}\n        </span>\n      </div>\n      \x3c!-- !blocklist-item-line2 --\x3e\n    </div>\n    \x3c!-- !template-details --\x3e\n  </div>\n  \x3c!-- !template --\x3e\n</div>\n')}]),e.exports=t},14309:function(e){var t="app/portainer/components/template-list/templateList.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-header icon="{{ $ctrl.titleIcon }}" feather-icon="true" title-text="{{ $ctrl.titleText }}"></rd-widget-header>\n    <rd-widget-body classes="no-padding">\n      <div class="actionBar">\n        <div class="row">\n          <div class="col-sm-12">\n            <button type="button" class="btn btn-sm btn-primary" ui-sref="docker.templates.new" ng-if="$ctrl.showAddAction">\n              <i class="fa fa-plus space-right" aria-hidden="true"></i>Add template\n            </button>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-sm-3">\n            <template-list-dropdown\n              options="$ctrl.state.categories"\n              on-change="($ctrl.applyCategoriesFilter)"\n              placeholder="\'Category\'"\n              value="$ctrl.state.selectedCategory"\n            ></template-list-dropdown>\n          </div>\n          <div class="col-sm-3">\n            <template-list-dropdown\n              options="$ctrl.state.typeFilters"\n              on-change="($ctrl.applyTypeFilter)"\n              placeholder="\'Type\'"\n              value="$ctrl.state.filterByType"\n            ></template-list-dropdown>\n          </div>\n          <div class="col-sm-3 col-sm-offset-3">\n            <template-list-sort\n              on-change="($ctrl.changeOrderBy)"\n              on-descending="($ctrl.invertOrder)"\n              options="$ctrl.state.orderByFields"\n              sort-by-button="true"\n              sort-by-descending="$ctrl.state.orderDesc"\n              placeholder="\'Sort By\'"\n              value="$ctrl.state.selectedOrderBy"\n            ></template-list-sort>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-sm-12">\n            <div class="searchBar items-center flex gap-1">\n              <pr-icon icon="\'search\'" feather="true" class-name="\'searchIcon\'"></pr-icon>\n              <input\n                type="text"\n                class="searchInput"\n                ng-model="$ctrl.state.textFilter"\n                ng-change="$ctrl.onTextFilterChange()"\n                placeholder="Search..."\n                auto-focus\n                ng-model-options="{ debounce: 300 }"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="blocklist !px-[20px] gap-y-2 !pb-[20px]">\n        <template-item\n          ng-repeat="template in $ctrl.templates | filter: $ctrl.filterByTemplateType | filter:$ctrl.filterByCategory | filter:$ctrl.state.textFilter"\n          model="template"\n          type-label="{{ template.Type === 1 ? \'container\' : \'stack\' }}"\n          on-select="($ctrl.selectAction)"\n        >\n          <template-item-actions ng-if="template.Type === 2 || template.Type === 3">\n            <button ng-click="$event.stopPropagation(); $ctrl.duplicateTemplate(template)" class="btn btn-primary btn-xs"> Copy as Custom </button>\n          </template-item-actions>\n        </template-item>\n        <div ng-if="!$ctrl.templates" class="text-center text-muted"> Loading... </div>\n        <div\n          ng-if="($ctrl.templates | filter: $ctrl.filterByTemplateType | filter: $ctrl.filterByCategory | filter: $ctrl.state.textFilter).length === 0"\n          class="text-center text-muted"\n        >\n          No templates available.\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},42662:function(e){var t="app/portainer/components/theme/theme-settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="mt-6">\n  <rd-widget>\n    <rd-widget-header icon="sliders" feather-icon="true" title-text="User theme"></rd-widget-header>\n    <rd-widget-body>\n      <form class="form-horizontal">\n        <box-selector radio-name="\'theme\'" value="$ctrl.state.userTheme" options="$ctrl.state.availableThemes" on-change="($ctrl.setTheme)"></box-selector>\n      </form>\n      <p class="mt-2 vertical-center">\n        <pr-icon icon="\'alert-circle\'" class-name="\'icon-primary\'" feather="true"></pr-icon>\n        Dark and High-contrast theme are experimental. Some UI components might not display properly.\n      </p>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},91539:function(e){var t="app/portainer/environments/azure-endpoint-config/azureEndpointConfig.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div class="col-sm-12 form-section-title"> Azure configuration </div>\n  \x3c!-- applicationId-input --\x3e\n  <div class="form-group">\n    <label for="azure_credential_appid" class="col-sm-3 col-lg-2 control-label text-left">Application ID</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" name="azure_credential_appid" ng-model="$ctrl.applicationId" placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" required />\n    </div>\n  </div>\n  \x3c!-- !applicationId-input --\x3e\n  \x3c!-- tenantId-input --\x3e\n  <div class="form-group">\n    <label for="azure_credential_tenantid" class="col-sm-3 col-lg-2 control-label text-left">Tenant ID</label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" name="azure_credential_tenantid" ng-model="$ctrl.tenantId" placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" required />\n    </div>\n  </div>\n  \x3c!-- !tenantId-input --\x3e\n  \x3c!-- authenticationkey-input --\x3e\n  <div class="form-group">\n    <label for="azure_credential_authkey" class="col-sm-3 col-lg-2 control-label text-left">Authentication key</label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        class="form-control"\n        name="azure_credential_authkey"\n        ng-model="$ctrl.authenticationKey"\n        placeholder="cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk="\n        required\n      />\n    </div>\n  </div>\n  \x3c!-- !authenticationkey-input --\x3e\n</div>\n')}]),e.exports=t},59154:function(e){var t="app/portainer/oauth/components/oauth-providers-selector/oauth-providers-selector.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Provider </div>\n\n<box-selector value="$ctrl.value" options="$ctrl.options" on-change="($ctrl.onChange)" radio-name="\'oauth_provider\'"></box-selector>\n')}]),e.exports=t},11318:function(e){var t="app/portainer/oauth/components/oauth-settings/oauth-settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form name="oauthSettingsForm">\n  <div class="col-sm-12 form-section-title"> Single Sign-On </div>\n\n  \x3c!-- SSO --\x3e\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field\n        label="\'Use SSO\'"\n        tooltip="\'When using SSO the OAuth provider is not forced to prompt for credentials.\'"\n        name="\'use-sso\'"\n        checked="$ctrl.settings.SSO"\n        on-change="($ctrl.updateSSO)"\n      ></por-switch-field>\n    </div>\n  </div>\n  \x3c!-- !SSO --\x3e\n\n  \x3c!-- HideInternalAuth --\x3e\n  <div class="form-group" ng-if="$ctrl.settings.SSO">\n    <div class="col-sm-12">\n      <por-switch-field\n        label="\'Hide internal authentication prompt\'"\n        name="\'hide-internal-auth\'"\n        feature-id="$ctrl.limitedFeature"\n        checked="$ctrl.settings.HideInternalAuth"\n        on-change="($ctrl.onChangeHideInternalAuth)"\n      ></por-switch-field>\n    </div>\n  </div>\n  \x3c!-- !HideInternalAuth --\x3e\n\n  <auto-user-provision-toggle ng-model="$ctrl.settings.OAuthAutoCreateUsers">\n    <field-description>\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with the standard user role. If disabled, users must be created beforehand in Portainer\n      in order to login.\n    </field-description>\n  </auto-user-provision-toggle>\n\n  <div ng-if="$ctrl.settings.OAuthAutoCreateUsers">\n    <div class="form-group">\n      <span class="col-sm-12 text-muted small">\n        <p>The users created by the automatic provisioning feature can be added to a default team on creation.</p>\n        <p>\n          By assigning newly created users to a team, they will be able to access the environments associated to that team. This setting is optional and if not set, newly created\n          users won\'t be able to access any environments.\n        </p>\n      </span>\n    </div>\n    <div class="form-group">\n      <label class="col-sm-3 col-lg-2 control-label text-left">Default team</label>\n      <span class="small text-muted" style="margin-left: 20px" ng-if="$ctrl.teams.length === 0">\n        You have not yet created any teams. Head over to the <a ui-sref="portainer.teams">Teams view</a> to manage teams.\n      </span>\n\n      <div class="col-sm-9" ng-if="$ctrl.teams.length > 0">\n        <div class="col-sm-12 small text-muted">\n          <p class="vertical-center">\n            <pr-icon icon="\'info\'" feather="true" mode="\'primary\'"></pr-icon>\n            The default team option will be disabled when automatic team membership is enabled\n          </p>\n        </div>\n        <div class="col-xs-12 vertical-center">\n          <select\n            class="form-control"\n            ng-disabled="$ctrl.settings.OAuthAutoMapTeamMemberships"\n            ng-model="$ctrl.settings.DefaultTeamID"\n            ng-options="team.Id as team.Name for team in $ctrl.teams"\n          >\n            <option value="">No team</option>\n          </select>\n          <button\n            type="button"\n            class="btn btn-md btn-danger"\n            ng-click="$ctrl.settings.DefaultTeamID = null"\n            ng-disabled="!$ctrl.settings.DefaultTeamID || $ctrl.settings.OAuthAutoMapTeamMemberships"\n            ng-if="$ctrl.teams.length > 0"\n          >\n            <pr-icon icon="\'x\'" feather="true" size="\'md\'"></pr-icon>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="col-sm-12 form-section-title"> Team membership </div>\n  <div class="form-group">\n    <div class="col-sm-12 text-muted small"> Automatic team membership synchronizes the team membership based on a custom claim in the token from the OAuth provider. </div>\n  </div>\n  <div class="form-group">\n    <div class="col-sm-12">\n      <por-switch-field\n        label="\'Automatic team membership\'"\n        name="\'tls\'"\n        feature-id="$ctrl.limitedFeature"\n        checked="$ctrl.settings.OAuthAutoMapTeamMemberships"\n        on-change="($ctrl.onToggleAutoTeamMembership)"\n      ></por-switch-field>\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.settings.OAuthAutoMapTeamMemberships">\n    <div class="form-group">\n      <label class="col-sm-3 col-lg-2 control-label text-left">\n        Claim name\n        <portainer-tooltip message="\'The OpenID Connect UserInfo Claim name that contains the team identifier the user belongs to.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <div class="col-xs-11 col-lg-10">\n          <input type="text" class="form-control" id="oauth_token_claim_name" ng-model="$ctrl.settings.TeamMemberships.OAuthClaimName" placeholder="groups" />\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-sm-3 col-lg-2 control-label text-left"> Statically assigned teams </label>\n      <div class="col-sm-9 col-lg-10">\n        <span class="label label-default interactive vertical-center ml-4" ng-click="$ctrl.addTeamMembershipMapping()">\n          <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n          add team mapping\n        </span>\n\n        <div class="col-sm-12 form-inline" ng-repeat="mapping in $ctrl.settings.TeamMemberships.OAuthClaimMappings" style="margin-top: 0.75em">\n          <div class="input-group input-group-sm col-sm-5">\n            <span class="input-group-addon">claim value regex</span>\n            <input type="text" class="form-control" ng-model="mapping.ClaimValRegex" />\n          </div>\n          <span style="margin: 0px 0.5em">maps to</span>\n          <div class="input-group input-group-sm col-sm-3 col-lg-4">\n            <span class="input-group-addon">team</span>\n            <select\n              class="form-control"\n              ng-init="mapping.Team = mapping.Team || $ctrl.settings.DefaultTeamID"\n              ng-model="mapping.Team"\n              ng-options="team.Id as team.Name for team in $ctrl.teams"\n            >\n              <option selected value="">Select a team</option>\n            </select>\n          </div>\n          <button type="button" class="btn btn-md btn-danger" ng-click="$ctrl.removeTeamMembership($index)">\n            <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n          </button>\n\n          <div>\n            <div class="small text-warning vertical-center mt-1" ng-show="!mapping.ClaimValRegex">\n              <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n              Claim value regex is required.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="col-sm-12 text-muted small" style="margin-bottom: 0.5em"> The default team will be assigned when the user does not belong to any other team </div>\n      <label class="col-sm-3 col-lg-2 control-label text-left">Default team</label>\n      <span class="small text-muted" style="margin-left: 20px" ng-if="$ctrl.teams.length === 0">\n        You have not yet created any teams. Head over to the <a ui-sref="portainer.teams">Teams view</a> to manage teams.\n      </span>\n\n      <div class="col-sm-9" ng-if="$ctrl.teams.length > 0">\n        <div class="col-xs-11">\n          <select class="form-control" ng-model="$ctrl.settings.DefaultTeamID" ng-options="team.Id as team.Name for team in $ctrl.teams">\n            <option value="">No team</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <oauth-providers-selector on-change="($ctrl.onSelectProvider)" value="$ctrl.state.provider"></oauth-providers-selector>\n\n  <div class="col-sm-12 form-section-title">OAuth Configuration</div>\n\n  <div class="form-group" ng-if="$ctrl.state.provider == \'microsoft\'">\n    <label for="oauth_microsoft_tenant_id" class="col-sm-3 col-lg-2 control-label text-left">\n      Tenant ID\n      <portainer-tooltip message="\'ID of the Azure Directory you wish to authenticate against. Also known as the Directory ID\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        class="form-control"\n        id="oauth_microsoft_tenant_id"\n        placeholder="xxxxxxxxxxxxxxxxxxxx"\n        ng-model="$ctrl.state.microsoftTenantID"\n        ng-change="$ctrl.onMicrosoftTenantIDChange()"\n        limited-feature-dir="{{::$ctrl.limitedFeature}}"\n        limited-feature-class="limited-be"\n        limited-feature-disabled\n        limited-feature-tabindex="-1"\n        required\n      />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="oauth_client_id" class="col-sm-3 col-lg-2 control-label text-left">\n      {{ $ctrl.state.provider == \'microsoft\' ? \'Application ID\' : \'Client ID\' }}\n      <portainer-tooltip message="\'Public identifier of the OAuth application\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="text"\n        id="oauth_client_id"\n        ng-model="$ctrl.settings.ClientID"\n        placeholder="xxxxxxxxxxxxxxxxxxxx"\n        ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n        ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        tabindex="{{ $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' ? -1 : 0 }}"\n      />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="oauth_client_secret" class="col-sm-3 col-lg-2 control-label text-left">\n      {{ $ctrl.state.provider == \'microsoft\' ? \'Application key\' : \'Client secret\' }}\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input\n        type="password"\n        class="form-control"\n        id="oauth_client_secret"\n        ng-model="$ctrl.settings.ClientSecret"\n        placeholder="xxxxxxxxxxxxxxxxxxxx"\n        autocomplete="new-password"\n        ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n        ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        tabindex="{{ $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' ? -1 : 0 }}"\n      />\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.state.provider == \'custom\' || $ctrl.state.overrideConfiguration">\n    <div class="form-group">\n      <label for="oauth_authorization_uri" class="col-sm-3 col-lg-2 control-label text-left">\n        Authorization URL\n        <portainer-tooltip message="\'URL used to authenticate against the OAuth provider. Will redirect the user to the OAuth provider login view\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_authorization_uri"\n          ng-model="$ctrl.settings.AuthorizationURI"\n          placeholder="https://example.com/oauth/authorize"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_access_token_uri" class="col-sm-3 col-lg-2 control-label text-left">\n        Access token URL\n        <portainer-tooltip message="\'URL used by Portainer to exchange a valid OAuth authentication code for an access token\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_access_token_uri"\n          ng-model="$ctrl.settings.AccessTokenURI"\n          placeholder="https://example.com/oauth/token"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_resource_uri" class="col-sm-3 col-lg-2 control-label text-left">\n        Resource URL\n        <portainer-tooltip message="\'URL used by Portainer to retrieve information about the authenticated user\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_resource_uri"\n          ng-model="$ctrl.settings.ResourceURI"\n          placeholder="https://example.com/user"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_redirect_uri" class="col-sm-3 col-lg-2 control-label text-left">\n        Redirect URL\n        <portainer-tooltip\n          message="\'URL used by the OAuth provider to redirect the user after successful authentication. Should be set to your Portainer instance URL\'"\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_redirect_uri"\n          ng-model="$ctrl.settings.RedirectURI"\n          placeholder="http://yourportainer.com/"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_logout_url" class="col-sm-3 col-lg-2 control-label text-left">\n        Logout URL\n        <portainer-tooltip\n          message="\'URL used by Portainer to redirect the user to the OAuth provider in order to log the user out of the identity provider session.\'"\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_logout_url"\n          ng-model="$ctrl.settings.LogoutURI"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_user_identifier" class="col-sm-3 col-lg-2 control-label text-left">\n        User identifier\n        <portainer-tooltip\n          message="\'Identifier that will be used by Portainer to create an account for the authenticated user. Retrieved from the resource server specified via the Resource URL field\'"\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_user_identifier"\n          ng-model="$ctrl.settings.UserIdentifier"\n          placeholder="id"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="oauth_scopes" class="col-sm-3 col-lg-2 control-label text-left">\n        Scopes\n        <portainer-tooltip\n          message="\'Scopes required by the OAuth provider to retrieve information about the authenticated user. Refer to your OAuth provider documentation for more information about this\'"\n        ></portainer-tooltip>\n      </label>\n      <div class="col-sm-9 col-lg-10">\n        <input\n          type="text"\n          class="form-control"\n          id="oauth_scopes"\n          ng-model="$ctrl.settings.Scopes"\n          placeholder="id,email,name"\n          ng-class="[\'form-control\', { \'limited-be\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\' }]"\n          ng-disabled="$ctrl.isLimitedToBE && $ctrl.state.provider !== \'custom\'"\n        />\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group" ng-if="$ctrl.state.provider != \'custom\'">\n    <div class="col-sm-12">\n      <a class="small interactive vertical-center" ng-if="!$ctrl.state.overrideConfiguration" ng-click="$ctrl.state.overrideConfiguration = true;">\n        <pr-icon icon="\'tool\'" feather="true"></pr-icon>\n        Override default configuration\n      </a>\n      <a class="small interactive vertical-center" ng-if="$ctrl.state.overrideConfiguration" ng-click="$ctrl.useDefaultProviderConfiguration($ctrl.state.provider)">\n        <pr-icon icon="\'settings\'" feather="true"></pr-icon>\n        Use default configuration\n      </a>\n    </div>\n  </div>\n  <save-auth-settings-button\n    on-save-settings="($ctrl.onSaveSettings)"\n    save-button-state="($ctrl.saveButtonState)"\n    save-button-disabled="!$ctrl.isOAuthTeamMembershipFormValid() || oauthSettingsForm.$invalid"\n    limited-feature-id="$ctrl.limitedFeature"\n    limited-feature-class="$ctrl.limitedFeatureClass"\n    class-name="\'oauth-save-settings-button\'"\n  ></save-auth-settings-button>\n</ng-form>\n')}]),e.exports=t},27707:function(e){var t="app/portainer/rbac/components/access-viewer/access-viewer-datatable/access-viewer-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable access-viewer-datatable">\n  <div class="toolBar vertical-center pl-0 pr-0">\n    <div class="toolBarTitle vertical-center">\n      <div>\n        <div class="form-section-title mb-1">Access</div>\n        <div class="vertical-center">\n          <pr-icon icon="\'info\'" mode="\'primary\'" feather="true" size="\'sm\'" class="vertical-center"></pr-icon>\n          <span class="small text-muted"> Effective role for each environment will be displayed for the selected user </span>\n        </div>\n      </div>\n    </div>\n    <div class="searchBar vertical-center">\n      <pr-icon icon="\'search\'" class="vertical-center" feather="true"></pr-icon>\n      <input\n        type="text"\n        class="searchInput ml-1"\n        ng-model="$ctrl.state.textFilter"\n        ng-change="$ctrl.onTextFilterChange()"\n        placeholder="Search..."\n        ng-model-options="{ debounce: 300 }"\n      />\n    </div>\n  </div>\n  <div class="table-responsive">\n    <table class="table table-hover nowrap-cells">\n      <thead>\n        <tr>\n          <th>\n            <table-column-header\n              col-title="\'Environment\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'EndpointName\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'EndpointName\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'EndpointName\')"\n            ></table-column-header>\n          </th>\n          <th>\n            <table-column-header\n              col-title="\'Role\'"\n              can-sort="true"\n              is-sorted="$ctrl.state.orderBy === \'RoleName\'"\n              is-sorted-desc="$ctrl.state.orderBy === \'RoleName\' && $ctrl.state.reverseOrder"\n              ng-click="$ctrl.changeOrderBy(\'RoleName\')"\n            ></table-column-header>\n          </th>\n          <th>Access origin</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n        >\n          <td>{{ item.EndpointName }}</td>\n          <td>{{ item.RoleName }}</td>\n          <td\n            >{{ item.TeamName ? \'Team\' : \'User\' }} <code ng-if="item.TeamName">{{ item.TeamName }}</code> access defined on {{ item.AccessLocation }}\n            <code ng-if="item.GroupName">{{ item.GroupName }}</code>\n            <a ng-if="!item.GroupName && $ctrl.isAdmin" ui-sref="portainer.endpoints.endpoint.access({id: item.EndpointId})"\n              ><pr-icon icon="\'users\'" feather="true"></pr-icon> Manage access\n            </a>\n            <a ng-if="item.GroupName && $ctrl.isAdmin" ui-sref="portainer.groups.group.access({id: item.GroupId})"\n              ><pr-icon icon="\'users\'" feather="true"></pr-icon> Manage access\n            </a>\n          </td>\n        </tr>\n        <tr ng-if="!$ctrl.dataset">\n          <td colspan="3" class="text-center text-muted">Select a user to show associated access and role</td>\n        </tr>\n        <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n          <td colspan="3" class="text-center text-muted">The selected user does not have access to any environment(s)</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="footer" ng-if="$ctrl.dataset">\n    <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n    <div class="paginationControls">\n      <form class="form-inline">\n        <span class="limitSelector">\n          <span style="margin-right: 5px"> Items per page </span>\n          <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n            <option value="0">All</option>\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="50">50</option>\n            <option value="100">100</option>\n          </select>\n        </span>\n        <dir-pagination-controls max-size="5"></dir-pagination-controls>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},98538:function(e){var t="app/portainer/rbac/components/access-viewer/access-viewer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12" style="margin-bottom: 0px">\n  <rd-widget>\n    <rd-widget-header icon="svg-userlock" feather-icon="true">\n      <header-title>\n        Effective access viewer\n        <be-feature-indicator feature="$ctrl.limitedFeature" class="space-left"></be-feature-indicator>\n      </header-title>\n    </rd-widget-header>\n    <rd-widget-body>\n      <form class="form-horizontal">\n        <div class="col-sm-12 form-section-title"> User </div>\n        <div class="form-group">\n          <div class="col-sm-12">\n            <span class="small text-muted" ng-if="$ctrl.users.length === 0"> No user available </span>\n\n            <por-select ng-if="$ctrl.users.length > 0" value="$ctrl.selectedUserId" options="$ctrl.users" on-change="($ctrl.onUserSelect)" placeholder="\'Select a user\'">\n            </por-select>\n          </div>\n        </div>\n        <access-viewer-datatable table-key="access_viewer" dataset="$ctrl.userRoles" order-by="EndpointName" is-admin="$ctrl.isAdmin"> </access-viewer-datatable>\n      </form>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},71450:function(e){var t="app/portainer/rbac/components/roles-datatable/roles-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar vertical-center">\n        <div class="toolBarTitle vertical-center">\n          <pr-icon icon="$ctrl.titleIcon" feather="true" class="vertical-center" class-name="\'icon-white icon-primary icon-nested-blue\'"></pr-icon>{{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" class="vertical-center" feather="true"></pr-icon>\n          <input\n            type="text"\n            class="searchInput ml-1"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header\n                  col-title="\'Description\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Description\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Description\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Description\')"\n                ></table-column-header>\n              </th>\n              <th class="be-visual-indicator-col"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>{{ item.Name }}</td>\n              <td>{{ item.Description }}</td>\n              <td class="be-visual-indicator-col" ng-switch on="$ctrl.isDefaultItem(item)">\n                <span ng-switch-when="false">\n                  <be-feature-indicator feature="$ctrl.limitedFeature"></be-feature-indicator>\n                </span>\n                <b ng-switch-when="true">Default</b>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="3" class="text-center text-muted">No role available.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="infoBar" ng-if="$ctrl.state.selectedItemCount !== 0"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},49458:function(e){var t="app/portainer/rbac/views/roles/roles.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Roles\'" breadcrumbs="[\'Role management\']" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <roles-datatable title-text="Roles" title-icon="svg-filecode" dataset="$ctrl.roles" table-key="roles"></roles-datatable>\n  </div>\n</div>\n\n<div class="row">\n  <access-viewer> </access-viewer>\n</div>\n')}]),e.exports=t},50551:function(e){var t="app/portainer/settings/authentication/auto-user-provision-toggle/auto-user-provision-toggle.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Automatic user provisioning </div>\n<div class="form-group">\n  <span class="col-sm-12 text-muted small" ng-transclude="description"> </span>\n</div>\n<div class="form-group">\n  <div class="col-sm-12 vertical-center">\n    <label for="tls" class="control-label text-left !pt-0"> Automatic user provisioning </label>\n    <label class="switch ml-6 my-0">\n      <input type="checkbox" ng-model="$ctrl.ngModel" />\n      <span class="slider round"></span>\n    </label>\n  </div>\n</div>\n')}]),e.exports=t},22555:function(e){var t="app/portainer/settings/authentication/ldap/ad-settings/ad-settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form class="ad-settings" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-class="limited-be">\n  <div class="overlay">\n    <div class="limited-be-link vertical-center"\n      ><be-feature-indicator feature="$ctrl.limitedFeatureId"></be-feature-indicator\n      ><portainer-tooltip message="\'This feature is currently limited to Business Edition users only. \'"></portainer-tooltip\n    ></div>\n    <div class="limited-be-content">\n      <auto-user-provision-toggle ng-model="$ctrl.settings.AutoCreateUsers">\n        <field-description>\n          With automatic user provisioning enabled, Portainer will create user(s) automatically with standard user role and assign them to team(s) which matches to LDAP group\n          name(s). If disabled, users must be created in Portainer beforehand.\n        </field-description>\n      </auto-user-provision-toggle>\n\n      <div>\n        <div class="col-sm-12 form-section-title"> Information </div>\n        <div class="form-group col-sm-12 text-muted small">\n          When using Microsoft AD authentication, Portainer will delegate user authentication to the Domain Controller(s) configured below; if there is no connectivity, Portainer\n          will fallback to internal authentication.\n        </div>\n      </div>\n\n      <div class="col-sm-12 form-section-title"> AD configuration </div>\n\n      <div class="form-group">\n        <div class="col-sm-12 small text-muted">\n          <p class="vertical-center">\n            <pr-icon icon="\'info\'" feather="true" mode="\'primary\'"></pr-icon>\n            You can configure multiple AD Controllers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all\n            use the same certificates).\n          </p>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label for="ldap_url" class="col-sm-3 col-lg-2 control-label text-left" style="display: flex; flex-wrap: wrap">\n          AD Controller\n          <button\n            type="button"\n            class="label label-default interactive vertical-center"\n            style="border: 0"\n            ng-click="$ctrl.addLDAPUrl()"\n            limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n            limited-feature-tabindex="-1"\n          >\n            <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n            Add additional server\n          </button>\n        </label>\n        <div class="col-sm-9 col-lg-10">\n          <div ng-repeat="url in $ctrl.settings.URLs track by $index" style="display: flex; margin-bottom: 10px">\n            <input\n              type="text"\n              class="form-control"\n              id="ldap_url"\n              ng-model="$ctrl.settings.URLs[$index]"\n              placeholder="e.g. 10.0.0.10:389 or myldap.domain.tld:389"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            />\n            <button\n              ng-if="$index > 0"\n              class="btn btn-sm btn-danger"\n              type="button"\n              ng-click="$ctrl.removeLDAPUrl($index)"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            >\n              <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label for="ldap_username" class="col-sm-3 control-label text-left">\n          Service Account\n          <portainer-tooltip message="\'Account that will be used to search for users.\'"></portainer-tooltip>\n        </label>\n        <div class="col-sm-9">\n          <input\n            type="text"\n            class="form-control"\n            id="ldap_username"\n            ng-model="$ctrl.settings.ReaderDN"\n            placeholder="reader@domain.tld"\n            ng-change="$ctrl.onAccountChange($ctrl.settings.ReaderDN)"\n            limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n            limited-feature-tabindex="-1"\n          />\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label for="ldap_password" class="col-sm-3 control-label text-left">\n          Service Account Password\n          <portainer-tooltip message="\'If you do not enter a password, Portainer will leave the current password unchanged.\'"></portainer-tooltip>\n        </label>\n        <div class="col-sm-9">\n          <input\n            type="password"\n            class="form-control"\n            id="ldap_password"\n            ng-model="$ctrl.settings.Password"\n            placeholder="password"\n            autocomplete="new-password"\n            limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n            limited-feature-tabindex="-1"\n          />\n        </div>\n      </div>\n\n      <ldap-connectivity-check\n        ng-if="!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS"\n        settings="$ctrl.settings"\n        state="$ctrl.state"\n        connectivity-check="$ctrl.connectivityCheck"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></ldap-connectivity-check>\n\n      <ldap-settings-security\n        title="AD Connectivity Security"\n        settings="$ctrl.settings"\n        tlsca-cert="$ctrl.tlscaCert"\n        upload-in-progress="$ctrl.state.uploadInProgress"\n        on-tlsca-cert-change="($ctrl.onTlscaCertChange)"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></ldap-settings-security>\n\n      <ldap-connectivity-check\n        ng-if="$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS"\n        settings="$ctrl.settings"\n        state="$ctrl.state"\n        connectivity-check="$ctrl.connectivityCheck"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></ldap-connectivity-check>\n\n      <ldap-user-search\n        style="margin-top: 5px"\n        show-username-format="true"\n        settings="$ctrl.settings.SearchSettings"\n        domain-suffix="{{ $ctrl.domainSuffix }}"\n        base-filter="(objectClass=user)"\n        on-search-click="($ctrl.searchUsers)"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></ldap-user-search>\n\n      <ldap-group-search\n        style="margin-top: 5px"\n        settings="$ctrl.settings.GroupSearchSettings"\n        domain-suffix="{{ $ctrl.domainSuffix }}"\n        base-filter="(objectClass=group)"\n        on-search-click="($ctrl.searchGroups)"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></ldap-group-search>\n\n      <ldap-custom-admin-group\n        style="margin-top: 5px"\n        settings="$ctrl.settings"\n        on-search-click="($ctrl.onSearchAdminGroupsClick)"\n        selected-admin-groups="$ctrl.selectedAdminGroups"\n        default-admin-group-search-filter="\'(objectClass=groupOfNames)\'"\n        limited-feature-id="$ctrl.limitedFeatureId"\n        is-limited-feature-self-contained="false"\n      ></ldap-custom-admin-group>\n\n      <ldap-settings-test-login settings="$ctrl.settings" limited-feature-id="$ctrl.limitedFeatureId" is-limited-feature-self-contained="false"></ldap-settings-test-login>\n      <save-auth-settings-button\n        on-save-settings="($ctrl.onSaveSettings)"\n        save-button-state="($ctrl.saveButtonState)"\n        limited-feature-id="$ctrl.limitedFeatureId"\n        save-button-disabled="($ctrl.isSaveSettingButtonDisabled())"\n      ></save-auth-settings-button>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},10386:function(e){var t="app/portainer/settings/authentication/ldap/ldap-connectivity-check/ldap-connectivity-check.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <label for="ldap_password" class="col-sm-3 col-lg-2 control-label text-left vertical-center">\n    Connectivity check\n    <pr-icon icon="\'check\'" feather="true" mode="\'success\'" ng-if="$ctrl.state.successfulConnectivityCheck"></pr-icon>\n    <pr-icon icon="\'x\'" feather="true" mode="\'danger\'" ng-if="$ctrl.state.failedConnectivityCheck"></pr-icon>\n  </label>\n  <div class="col-sm-9 col-lg-10">\n    <button\n      type="button"\n      class="btn btn-primary btn-sm"\n      ng-disabled="($ctrl.state.connectivityCheckInProgress) || (!$ctrl.settings.URLs.length) || ((!$ctrl.settings.ReaderDN || !$ctrl.settings.Password) && !$ctrl.settings.AnonymousMode)"\n      ng-click="$ctrl.connectivityCheck()"\n      button-spinner="$ctrl.state.connectivityCheckInProgress"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      <span ng-hide="$ctrl.state.connectivityCheckInProgress">Test connectivity</span>\n      <span ng-show="$ctrl.state.connectivityCheckInProgress">Testing connectivity...</span>\n    </button>\n  </div>\n</div>\n')}]),e.exports=t},57498:function(e){var t="app/portainer/settings/authentication/ldap/ldap-custom-admin-group/ldap-custom-admin-group.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title ldap-custom-admin-group-title" ng-style="$ctrl.isLimitedFeatureSelfContained && { \'padding-bottom\': \'15px\' }">\n  Auto-populate team admins <be-feature-indicator feature="$ctrl.limitedFeatureId" class="space-left" ng-if="$ctrl.isLimitedFeatureSelfContained"></be-feature-indicator>\n</div>\n\n<rd-widget ng-repeat="config in $ctrl.settings.AdminGroupSearchSettings | limitTo: (1 - $ctrl.settings.AdminGroupSearchSettings)">\n  <rd-widget-body>\n    <div class="form-group mb-3" ng-if="$index > 0">\n      <span class="col-sm-12 text-muted small"> Extra search configuration </span>\n    </div>\n\n    <div class="form-group">\n      <label for="ldap_admin_group_basedn_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group Base DN\n        <portainer-tooltip message="\'The distinguished name of the element from which the LDAP server will search for groups.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-4">\n        <input\n          type="text"\n          class="form-control"\n          id="ldap_admin_group_basedn_{{ $index }}"\n          ng-model="config.GroupBaseDN"\n          placeholder="dc=ldap,dc=domain,dc=tld"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-class=" {{ $ctrl.isLimitedFeatureSelfContained && \'limited-be\' }}"\n          ng-disabled="{{ $ctrl.isLimitedFeatureSelfContained }}"\n          limited-feature-tabindex="-1"\n        />\n      </div>\n\n      <label for="ldap_admin_group_att_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group Membership Attribute\n        <portainer-tooltip message="\'LDAP attribute which denotes the group membership.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-4">\n        <input\n          type="text"\n          class="form-control"\n          id="ldap_admin_group_att_{{ $index }}"\n          ng-model="config.GroupAttribute"\n          placeholder="member"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-class=" {{ $ctrl.isLimitedFeatureSelfContained && \'limited-be\' }}"\n          ng-disabled="{{ $ctrl.isLimitedFeatureSelfContained }}"\n          limited-feature-tabindex="-1"\n        />\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="ldap_admin_group_filter_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group Filter\n        <portainer-tooltip message="\'The LDAP search filter used to select group elements, optional.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-10 vertical-center">\n        <input\n          type="text"\n          class="form-control"\n          id="ldap_admin_group_filter_{{ $index }}"\n          ng-model="config.GroupFilter"\n          placeholder="(objectClass=groupOfNames)"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-class=" {{ $ctrl.isLimitedFeatureSelfContained && \'limited-be\' }}"\n          ng-disabled="{{ $ctrl.isLimitedFeatureSelfContained }}"\n          limited-feature-tabindex="-1"\n        />\n        <button class="btn btn-md btn-danger" type="button" ng-click="$ctrl.onRemoveClick($index)" ng-if="$index > 0">\n          <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n        </button>\n      </div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n\n<div class="form-group mt-3">\n  <div class="col-sm-12">\n    <button\n      class="label label-default interactive no-border vertical-center"\n      ng-click="$ctrl.onAddClick()"\n      limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n      limited-feature-class=" {{ $ctrl.isLimitedFeatureSelfContained && \'limited-be\' }}"\n      limited-feature-disabled\n    >\n      <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n      add group search configuration\n    </button>\n  </div>\n  <div class="col-sm-12 vertical-center mt-2">\n    <button\n      class="btn btm-sm btn-primary"\n      type="button"\n      ng-click="$ctrl.search()"\n      limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n      limited-feature-class=" {{ $ctrl.isLimitedFeatureSelfContained && \'limited-be\' }}"\n      ng-disabled="{{ $ctrl.isLimitedFeatureSelfContained }}"\n      limited-feature-tabindex="-1"\n    >\n      Fetch Admin Group(s)\n    </button>\n    <span ng-if="$ctrl.groups && $ctrl.groups.length === 0" class="ml-6 vertical-center">\n      <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n      No groups found\n    </span>\n  </div>\n</div>\n\n<div class="form-group">\n  <div class="col-sm-12 vertical-center">\n    <label for="admin-auto-populate" class="control-label text-left text-muted !pt-0" ng-class="{ \'text-muted\': !$ctrl.enableAssignAdminGroup }">\n      Assign admin rights to group(s)\n    </label>\n    <label class="switch ml-7 my-0" ng-class="{ \'business limited\': $ctrl.isLimitedFeatureSelfContained }">\n      <input id="admin-auto-populate" ng-disabled="!$ctrl.enableAssignAdminGroup" name="admin-auto-populate" type="checkbox" ng-model="$ctrl.settings.AdminAutoPopulate" />\n      <span class="slider round before:content-[\'\']"></span>\n    </label>\n  </div>\n</div>\n\n<div class="form-group" ng-if="$ctrl.settings.AdminAutoPopulate && $ctrl.groups">\n  <label for="group-access" class="control-label text-left col-sm-2"> Select Group(s) </label>\n  <div class="col-sm-8">\n    <por-select\n      data-cy="\'group-access-selector\'"\n      input-id="\'group-access\'"\n      value="$ctrl.selectedAdminGroups"\n      on-change="($ctrl.onAdminGroupChange)"\n      options="$ctrl.groups"\n      placeholder="\'Select one or more groups\'"\n      is-multi="true"\n    >\n    </por-select>\n  </div>\n</div>\n')}]),e.exports=t},64042:function(e){var t="app/portainer/settings/authentication/ldap/ldap-custom-group-search/ldap-custom-group-search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title" style="float: initial"> Group search configurations </div>\n\n<rd-widget ng-repeat="config in $ctrl.settings | limitTo: (1 - $ctrl.settings)" style="display: block; margin-bottom: 10px">\n  <rd-widget-body>\n    <div class="form-group" ng-if="$index > 0" style="margin-bottom: 10px">\n      <span class="col-sm-12 text-muted small"> Extra search configuration </span>\n    </div>\n\n    <div class="form-group">\n      <label for="ldap_group_basedn_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group Base DN\n        <portainer-tooltip message="\'The distinguished name of the element from which the LDAP server will search for groups.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-4">\n        <input type="text" class="form-control" id="ldap_group_basedn_{{ $index }}" ng-model="config.GroupBaseDN" placeholder="dc=ldap,dc=domain,dc=tld" />\n      </div>\n\n      <label for="ldap_group_att_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group Membership Attribute\n        <portainer-tooltip message="\'LDAP attribute which denotes the group membership.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-4">\n        <input type="text" class="form-control" id="ldap_group_att_{{ $index }}" ng-model="config.GroupAttribute" placeholder="member" />\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="ldap_group_filter_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Group Filter\n        <portainer-tooltip message="\'The LDAP search filter used to select group elements, optional.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-10 vertical-center">\n        <input type="text" class="form-control" id="ldap_group_filter_{{ $index }}" ng-model="config.GroupFilter" placeholder="(objectClass=account)" />\n        <button class="btn btn-md btn-danger" type="button" ng-click="$ctrl.onRemoveClick($index)" ng-if="$index > 0">\n          <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n        </button>\n      </div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n\n<div class="form-group" style="margin-top: 10px">\n  <div class="col-sm-12">\n    <button class="label label-default interactive vertical-center" style="border: 0" ng-click="$ctrl.onAddClick()">\n      <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n      add group search configuration\n    </button>\n  </div>\n  <div class="col-sm-12" style="margin-top: 10px">\n    <button\n      class="btn btm-sm btn-primary"\n      type="button"\n      ng-click="$ctrl.search()"\n      limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n      limited-feature-tabindex="-1"\n      limited-feature-disabled\n      limited-feature-class="limited-be"\n    >\n      Display User/Group matching\n    </button>\n    <be-feature-indicator feature="$ctrl.limitedFeatureId" class="space-left"></be-feature-indicator>\n  </div>\n</div>\n\n<div ng-if="$ctrl.showTable">\n  <div class="form-group col-sm-12">\n    <ldap-groups-datatable dataset="$ctrl.groups" title-text="Groups" title-icon="users" table-key="ldapGroups"></ldap-groups-datatable>\n  </div>\n</div>\n')}]),e.exports=t},65048:function(e){var t="app/portainer/settings/authentication/ldap/ldap-custom-user-search/ldap-custom-user-search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title" style="float: initial"> User search configurations </div>\n\n<rd-widget ng-repeat="config in $ctrl.settings | limitTo: (1 - $ctrl.settings)" style="display: block; margin-bottom: 10px">\n  <rd-widget-body>\n    <div class="form-group" ng-if="$index > 0" style="margin-bottom: 10px">\n      <span class="col-sm-12 text-muted small"> Extra search configuration </span>\n    </div>\n\n    <div class="form-group">\n      <label for="ldap_basedn_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Base DN\n        <portainer-tooltip message="\'The distinguished name of the element from which the LDAP server will search for users.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-4">\n        <input type="text" class="form-control" id="ldap_basedn_{{ $index }}" ng-model="config.BaseDN" placeholder="dc=ldap,dc=domain,dc=tld" />\n      </div>\n\n      <label for="ldap_username_att_{{ $index }}" class="col-sm-4 col-md-3 col-lg-2 control-label text-left">\n        Username attribute\n        <portainer-tooltip message="\'LDAP attribute which denotes the username.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-3 col-lg-4">\n        <input type="text" class="form-control" id="ldap_username_att_{{ $index }}" ng-model="config.UserNameAttribute" placeholder="uid" />\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="ldap_filter_{{ $index }}" class="col-sm-4 col-md-2 control-label text-left">\n        Filter\n        <portainer-tooltip message="\'The LDAP search filter used to select user elements, optional.\'"></portainer-tooltip>\n      </label>\n      <div class="col-sm-8 col-md-10 vertical-center">\n        <input type="text" class="form-control" id="ldap_filter_{{ $index }}" ng-model="config.Filter" placeholder="(objectClass=account)" />\n        <button class="btn btn-md btn-danger" type="button" ng-click="$ctrl.onRemoveClick($index)" ng-if="$index > 0">\n          <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n        </button>\n      </div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n\n<div class="form-group" style="margin-top: 10px">\n  <div class="col-sm-12">\n    <button class="label label-default interactive vertical-center" style="border: 0" ng-click="$ctrl.onAddClick()">\n      <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n      add user search configuration\n    </button>\n  </div>\n  <div class="col-sm-12" style="margin-top: 10px">\n    <button\n      class="btn btm-sm btn-primary"\n      type="button"\n      ng-click="$ctrl.search()"\n      limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n      limited-feature-disabled\n      limited-feature-class="limited-be"\n      limited-feature-tabindex="-1"\n    >\n      Display Users\n    </button>\n    <be-feature-indicator feature="$ctrl.limitedFeatureId" class="space-left"></be-feature-indicator>\n  </div>\n</div>\n\n<div ng-if="$ctrl.showTable">\n  <div class="form-group col-sm-12">\n    <ldap-users-datatable dataset="$ctrl.users" title-text="Users" title-icon="users" table-key="ldapUsers" order-by="" reverse-order=""></ldap-users-datatable>\n  </div>\n</div>\n')}]),e.exports=t},79557:function(e){var t="app/portainer/settings/authentication/ldap/ldap-group-search-item/ldap-group-search-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <rd-widget-body>\n    <div ng-if="$ctrl.index > 0" style="margin-bottom: 10px">\n      <span class="text-muted small"> Extra search configuration </span>\n      <button\n        class="btn btn-sm btn-danger"\n        type="button"\n        ng-click="$ctrl.onRemoveClick($ctrl.index)"\n        limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n        limited-feature-tabindex="-1"\n      >\n        <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n      </button>\n    </div>\n\n    <ldap-settings-dn-builder\n      label="Group Search Path (optional)"\n      suffix="{{ $ctrl.domainSuffix }}"\n      ng-model="$ctrl.config.GroupBaseDN"\n      on-change="($ctrl.onChangeBaseDN)"\n      limited-feature-id="$ctrl.limitedFeatureId"\n    ></ldap-settings-dn-builder>\n\n    <div class="form-group">\n      <label class="col-sm-4 col-md-2 control-label text-left"> Group Base DN </label>\n      <div class="col-sm-8 col-md-10">\n        {{ $ctrl.config.GroupBaseDN }}\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="col-sm-12 vertical-center" style="margin-bottom: 5px">\n        <label class="control-label text-left !pt-0">Groups</label>\n        <span class="label label-default interactive vertical-center" style="margin-left: 10px" ng-click="$ctrl.addGroup()">\n          <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n          add another group\n        </span>\n      </div>\n      <div class="col-sm-12" ng-if="$ctrl.groups.length">\n        <rd-widget>\n          <rd-widget-body>\n            <div class="form-group no-margin-last-child" ng-repeat="entry in $ctrl.groups">\n              <div class="col-sm-4">\n                <select\n                  class="form-control"\n                  ng-model="entry.type"\n                  ng-change="$ctrl.onGroupsChange()"\n                  limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n                  limited-feature-tabindex="-1"\n                >\n                  <option value="ou">OU Name</option>\n                  <option value="cn">Folder Name</option>\n                </select>\n              </div>\n              <div class="col-sm-5">\n                <input\n                  class="form-control"\n                  ng-model="entry.value"\n                  ng-change="$ctrl.onGroupsChange()"\n                  limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n                  limited-feature-tabindex="-1"\n                />\n              </div>\n              <div class="col-sm-3 text-right">\n                <button\n                  class="btn btn-md btn-danger"\n                  type="button"\n                  ng-click="$ctrl.removeGroup($index)"\n                  limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n                  limited-feature-tabindex="-1"\n                >\n                  <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n                </button>\n              </div>\n            </div>\n          </rd-widget-body>\n        </rd-widget>\n      </div>\n    </div>\n\n    <div class="form-group no-margin-last-child">\n      <label class="col-sm-4 col-md-2 control-label text-left"> Group Filter </label>\n      <div class="col-sm-8 col-md-10">\n        {{ $ctrl.config.GroupFilter }}\n      </div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},3057:function(e){var t="app/portainer/settings/authentication/ldap/ldap-group-search/ldap-group-search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title" style="float: initial"> Group search configurations </div>\n\n<div style="margin-top: 10px" ng-repeat="config in $ctrl.settings | limitTo: (1 - $ctrl.settings)">\n  <ldap-group-search-item\n    config="config"\n    domain-suffix="{{ $ctrl.domainSuffix }}"\n    index="$index"\n    base-filter="{{ $ctrl.baseFilter }}"\n    on-remove-click="($ctrl.onRemoveClick)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-group-search-item>\n</div>\n\n<div class="form-group" style="margin-top: 10px">\n  <div class="col-sm-12">\n    <button\n      class="label label-default interactive vertical-center"\n      style="border: 0"\n      ng-click="$ctrl.onAddClick()"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n      add group search configuration\n    </button>\n  </div>\n  <div class="col-sm-12" style="margin-top: 10px">\n    <button class="btn btm-sm btn-primary" type="button" ng-click="$ctrl.search()" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1">\n      Display User/Group matching\n    </button>\n  </div>\n</div>\n\n<div ng-if="$ctrl.showTable">\n  <div class="form-group col-sm-12">\n    <ldap-groups-datatable dataset="$ctrl.groups" title-text="Groups" title-icon="users" table-key="ldapGroups"></ldap-groups-datatable>\n  </div>\n</div>\n')}]),e.exports=t},30629:function(e){var t="app/portainer/settings/authentication/ldap/ldap-groups-datatable/ldap-groups-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'User Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n              <th>\n                <table-column-header col-title="\'Groups\'" can-sort="false"></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                {{ item.Name }}\n              </td>\n              <td>\n                <p ng-repeat="group in item.Groups" style="margin: 0">{{ group }}</p>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No groups found.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},15933:function(e){var t="app/portainer/settings/authentication/ldap/ldap-settings-custom/ldap-settings-custom.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <div class="col-sm-12 form-section-title"> Information </div>\n  <div class="form-group col-sm-12 text-muted small">\n    When using LDAP authentication, Portainer will delegate user authentication to a LDAP server and fallback to internal authentication if LDAP authentication fails.\n  </div>\n</div>\n\n<div class="col-sm-12 form-section-title"> LDAP configuration </div>\n\n<div class="form-group">\n  <div class="col-sm-12 small text-muted">\n    <p class="vertical-center">\n      <pr-icon icon="\'info\'" feather="true" mode="\'primary\'"></pr-icon>\n      You can configure multiple LDAP Servers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use the\n      same certificates).\n    </p>\n  </div>\n</div>\n\n<div class="form-group">\n  <label for="ldap_url" class="col-sm-3 col-lg-2 control-label text-left flex flex-wrap">\n    LDAP Server\n    <button\n      type="button"\n      class="label label-default interactive no-border vertical-center"\n      ng-click="$ctrl.addLDAPUrl()"\n      limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n      limited-feature-disabled\n      limited-feature-class="limited-be"\n    >\n      <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n      Add additional server\n    </button>\n  </label>\n  <div class="col-sm-9 col-lg-10">\n    <div class="mb-3 flex" ng-repeat="url in $ctrl.settings.URLs track by $index">\n      <input type="text" class="form-control" id="ldap_url" ng-model="$ctrl.settings.URLs[$index]" placeholder="e.g. 10.0.0.10:389 or myldap.domain.tld:389" required />\n      <button ng-if="$index > 0" class="btn btn-sm btn-danger" type="button" ng-click="$ctrl.removeLDAPUrl($index)">\n        <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n      </button>\n    </div>\n  </div>\n</div>\n\n<div class="form-group">\n  <label for="anonymous_mode" class="control-label text-left col-sm-3 col-lg-2">\n    Anonymous mode\n    <portainer-tooltip message="\'Enable this option if the server is configured for Anonymous access.\'"></portainer-tooltip>\n  </label>\n  <div class="col-sm-9 col-lg-10">\n    <label class="switch">\n      <input type="checkbox" id="anonymous_mode" ng-model="$ctrl.settings.AnonymousMode" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1" />\n      <span class="slider round"></span>\n    </label>\n  </div>\n</div>\n\x3c!-- !Anonymous mode--\x3e\n\n<div ng-if="!$ctrl.settings.AnonymousMode">\n  <div class="form-group">\n    <label for="ldap_username" class="col-sm-3 col-lg-2 control-label text-left">\n      Reader DN\n      <portainer-tooltip message="\'Account that will be used to search for users.\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="text" class="form-control" id="ldap_username" ng-model="$ctrl.settings.ReaderDN" placeholder="cn=user,dc=domain,dc=tld" />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="ldap_password" class="col-sm-3 col-lg-2 control-label text-left">\n      Password\n      <portainer-tooltip message="\'If you do not enter a password, Portainer will leave the current password unchanged.\'"></portainer-tooltip>\n    </label>\n    <div class="col-sm-9 col-lg-10">\n      <input type="password" class="form-control" id="ldap_password" ng-model="$ctrl.settings.Password" placeholder="password" autocomplete="new-password" />\n    </div>\n  </div>\n</div>\n\n<ldap-connectivity-check\n  ng-if="!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS"\n  settings="$ctrl.settings"\n  state="$ctrl.state"\n  connectivity-check="$ctrl.connectivityCheck"\n></ldap-connectivity-check>\n\n<ldap-settings-security\n  settings="$ctrl.settings"\n  tlsca-cert="$ctrl.tlscaCert"\n  upload-in-progress="$ctrl.state.uploadInProgress"\n  on-tlsca-cert-change="($ctrl.onTlscaCertChange)"\n></ldap-settings-security>\n\n<ldap-connectivity-check\n  ng-if="$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS"\n  settings="$ctrl.settings"\n  state="$ctrl.state"\n  connectivity-check="$ctrl.connectivityCheck"\n></ldap-connectivity-check>\n\n<div class="space-y-10">\n  <ldap-custom-user-search\n    class="block"\n    settings="$ctrl.settings.SearchSettings"\n    on-search-click="($ctrl.onSearchUsersClick)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-custom-user-search>\n\n  <ldap-custom-group-search\n    class="block"\n    settings="$ctrl.settings.GroupSearchSettings"\n    on-search-click="($ctrl.onSearchGroupsClick)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-custom-group-search>\n\n  <ldap-custom-admin-group\n    class="block"\n    settings="$ctrl.settings"\n    on-search-click="($ctrl.onSearchAdminGroupsClick)"\n    selected-admin-groups="$ctrl.selectedAdminGroups"\n    default-admin-group-search-filter="\'(objectClass=groupOfNames)\'"\n    limited-feature-id="$ctrl.limitedFeatureId"\n    is-limited-feature-self-contained="true"\n  ></ldap-custom-admin-group>\n\n  <ldap-settings-test-login\n    class="block"\n    settings="$ctrl.settings"\n    limited-feature-id="$ctrl.limitedFeatureId"\n    show-be-indicator-if-needed="true"\n    is-limited-feature-self-contained="true"\n  ></ldap-settings-test-login>\n</div>\n\n<save-auth-settings-button\n  on-save-settings="($ctrl.onSaveSettings)"\n  save-button-state="($ctrl.saveButtonState)"\n  save-button-disabled="!$ctrl.saveButtonDisabled()"\n  limited-feature-dir="{{ $ctrl.limitedFeatureId }}"\n></save-auth-settings-button>\n')}]),e.exports=t},34778:function(e){var t="app/portainer/settings/authentication/ldap/ldap-settings-dn-builder/ldap-settings-dn-builder.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group ldap-dn-builder">\n  <div class="col-sm-12" style="margin-bottom: 5px">\n    <label class="control-label text-left">{{ $ctrl.label || \'DN entries\' }}</label>\n    <button\n      type="button"\n      class="label label-default interactive vertical-center"\n      style="margin-left: 10px; border: 0"\n      ng-click="$ctrl.addEntry()"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n      add another entry\n    </button>\n  </div>\n  <div class="col-sm-12" ng-if="$ctrl.entries.length">\n    <rd-widget>\n      <rd-widget-body>\n        <div class="form-group no-margin-last-child" ng-repeat="entry in $ctrl.entries">\n          <div class="col-sm-4">\n            <select class="form-control" ng-model="entry.type" ng-change="$ctrl.onEntriesChange()" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1">\n              <option value="ou">OU Name</option>\n              <option value="cn">Folder Name</option>\n            </select>\n          </div>\n          <div class="col-sm-5">\n            <input\n              class="form-control"\n              ng-model="entry.value"\n              ng-change="$ctrl.onEntriesChange()"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            />\n          </div>\n          <div class="col-sm-3 text-right">\n            <button\n              class="btn btn-md btn-primary"\n              type="button"\n              ng-disabled="$first"\n              ng-click="$ctrl.moveUp($index)"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            >\n              <pr-icon icon="\'arrow-up\'" feather="true" size="\'md\'"></pr-icon>\n            </button>\n            <button\n              class="btn btn-md btn-primary"\n              type="button"\n              ng-disabled="$last"\n              ng-click="$ctrl.moveDown($index)"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            >\n              <pr-icon icon="\'arrow-down\'" feather="true" size="\'md\'"></pr-icon>\n            </button>\n            <button\n              class="btn btn-md btn-danger"\n              type="button"\n              ng-click="$ctrl.removeEntry($index)"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            >\n              <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n            </button>\n          </div>\n        </div>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},88006:function(e){var t="app/portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/ldap-settings-group-dn-builder.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group">\n  <label for="group-name-input" class="col-sm-4 control-label text-left"> Group Name </label>\n  <div class="col-sm-7" style="padding-left: 0">\n    <input\n      type="text"\n      class="form-control"\n      id="group-name-input"\n      ng-model="$ctrl.groupName"\n      ng-change="$ctrl.onGroupNameChange()"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    />\n  </div>\n  <div class="col-sm-1">\n    <button\n      type="button"\n      class="btn btn-danger btn-md vertical-center"\n      ng-if="$ctrl.onRemoveClick"\n      ng-click="$ctrl.onRemoveClick()"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n    </button>\n  </div>\n</div>\n\n<ldap-settings-dn-builder\n  ng-model="$ctrl.entries"\n  label="Path to group"\n  suffix="{{ $ctrl.suffix }}"\n  on-change="($ctrl.onEntriesChange)"\n  on-remove-click="($ctrl.removeGroup)"\n  limited-feature-id="$ctrl.limitedFeatureId"\n></ldap-settings-dn-builder>\n')}]),e.exports=t},69939:function(e){var t="app/portainer/settings/authentication/ldap/ldap-settings-openldap/ldap-settings-openldap.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<ng-form limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-class="limited-be" class="ldap-settings-openldap">\n  <div class="overlay">\n    <div class="limited-be-link vertical-center"\n      ><be-feature-indicator feature="$ctrl.limitedFeatureId"></be-feature-indicator\n      ><portainer-tooltip message="\'This feature is currently limited to Business Edition users only. \'"></portainer-tooltip\n    ></div>\n    <div class="limited-be-content">\n      <div>\n        <div class="col-sm-12 form-section-title"> Information </div>\n        <div class="form-group col-sm-12 text-muted small">\n          When using LDAP authentication, Portainer will delegate user authentication to a LDAP server and fallback to internal authentication if LDAP authentication fails.\n        </div>\n      </div>\n\n      <div class="col-sm-12 form-section-title"> LDAP configuration </div>\n\n      <div class="form-group">\n        <div class="col-sm-12 small text-muted">\n          <p class="vertical-center">\n            <pr-icon icon="\'info\'" feather="true" mode="\'primary\'"></pr-icon>\n            You can configure multiple LDAP Servers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use\n            the same certificates).\n          </p>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label for="ldap_url" class="col-sm-3 col-lg-2 control-label text-left" style="display: flex; flex-wrap: wrap">\n          LDAP Server\n          <button\n            type="button"\n            class="label label-default interactive vertical-center"\n            style="border: 0"\n            ng-click="$ctrl.addLDAPUrl()"\n            limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n            limited-feature-tabindex="-1"\n          >\n            <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n            Add additional server\n          </button>\n        </label>\n        <div class="col-sm-9 col-lg-10">\n          <div ng-repeat="url in $ctrl.settings.URLs track by $index" style="display: flex; margin-bottom: 10px">\n            <input\n              type="text"\n              class="form-control"\n              id="ldap_url"\n              ng-model="$ctrl.settings.URLs[$index]"\n              placeholder="e.g. 10.0.0.10:389 or myldap.domain.tld:389"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            />\n            <button\n              ng-if="$index > 0"\n              class="btn btn-sm btn-danger"\n              type="button"\n              ng-click="$ctrl.removeLDAPUrl($index)"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            >\n              <pr-icon icon="\'trash-2\'" feather="true" size="\'md\'"></pr-icon>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Anonymous mode--\x3e\n      <div class="form-group">\n        <div class="col-sm-12">\n          <label for="anonymous_mode" class="control-label text-left col-sm-3 col-lg-2">\n            Anonymous mode\n            <portainer-tooltip message="\'Enable this option if the server is configured for Anonymous access.\'"></portainer-tooltip>\n          </label>\n\n          <div class="col-sm-9 col-lg-10">\n            <label class="switch">\n              <input type="checkbox" id="anonymous_mode" ng-model="$ctrl.settings.AnonymousMode" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1" />\n              <span class="slider round"></span>\n            </label>\n          </div>\n        </div>\n      </div>\n      \x3c!-- !Anonymous mode--\x3e\n\n      <div ng-if="!$ctrl.settings.AnonymousMode">\n        <div class="form-group">\n          <label for="ldap_username" class="col-sm-3 col-lg-2 control-label text-left">\n            Reader DN\n            <portainer-tooltip message="\'Account that will be used to search for users.\'"></portainer-tooltip>\n          </label>\n          <div class="col-sm-9 col-lg-10">\n            <input\n              type="text"\n              class="form-control"\n              id="ldap_username"\n              ng-model="$ctrl.settings.ReaderDN"\n              placeholder="cn=user,dc=domain,dc=tld"\n              ng-change="$ctrl.onAccountChange($ctrl.settings.ReaderDN)"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            />\n          </div>\n        </div>\n\n        <div class="form-group">\n          <label for="ldap_password" class="col-sm-3 col-lg-2 control-label text-left">\n            Password\n            <portainer-tooltip message="\'If you do not enter a password, Portainer will leave the current password unchanged.\'"></portainer-tooltip>\n          </label>\n          <div class="col-sm-9">\n            <input\n              type="password"\n              class="form-control"\n              id="ldap_password"\n              ng-model="$ctrl.settings.Password"\n              placeholder="password"\n              autocomplete="new-password"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div class="form-group" ng-if="$ctrl.settings.AnonymousMode">\n        <label for="ldap_domain_root" class="col-sm-3 col-lg-2 control-label text-left"> Domain root </label>\n        <div class="col-sm-9">\n          <input\n            type="text"\n            class="form-control"\n            id="ldap_domain_root"\n            ng-model="$ctrl.domainSuffix"\n            placeholder="dc=domain,dc=tld"\n            limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n            limited-feature-tabindex="-1"\n          />\n        </div>\n      </div>\n\n      <ldap-connectivity-check\n        ng-if="!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS"\n        settings="$ctrl.settings"\n        state="$ctrl.state"\n        connectivity-check="$ctrl.connectivityCheck"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></ldap-connectivity-check>\n\n      <ldap-settings-security\n        title="Connectivity Security"\n        settings="$ctrl.settings"\n        tlsca-cert="$ctrl.tlscaCert"\n        upload-in-progress="$ctrl.state.uploadInProgress"\n        on-tlsca-cert-change="($ctrl.onTlscaCertChange)"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></ldap-settings-security>\n\n      <ldap-connectivity-check\n        ng-if="$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS"\n        settings="$ctrl.settings"\n        state="$ctrl.state"\n        connectivity-check="$ctrl.connectivityCheck"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></ldap-connectivity-check>\n\n      <ldap-user-search\n        style="margin-top: 5px"\n        settings="$ctrl.settings.SearchSettings"\n        domain-suffix="{{ $ctrl.domainSuffix }}"\n        base-filter="(objectClass=inetOrgPerson)"\n        on-search-click="($ctrl.onSearchUsersClick)"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></ldap-user-search>\n\n      <ldap-group-search\n        style="margin-top: 5px"\n        settings="$ctrl.settings.GroupSearchSettings"\n        domain-suffix="{{ $ctrl.domainSuffix }}"\n        base-filter="(objectClass=groupOfNames)"\n        on-search-click="($ctrl.onSearchGroupsClick)"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></ldap-group-search>\n\n      <ldap-settings-test-login settings="$ctrl.settings" limited-feature-id="$ctrl.limitedFeatureId"></ldap-settings-test-login>\n      <save-auth-settings-button\n        on-save-settings="($ctrl.onSaveSettings)"\n        save-button-state="($ctrl.saveButtonState)"\n        save-button-disabled="!$ctrl.saveButtonDisabled()"\n        limited-feature-id="$ctrl.limitedFeatureId"\n      ></save-auth-settings-button>\n    </div>\n  </div>\n</ng-form>\n')}]),e.exports=t},39720:function(e){var t="app/portainer/settings/authentication/ldap/ldap-settings-security/ldap-settings-security.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title">\n  {{ $ctrl.title || \'LDAP security\' }}\n</div>\n\n\x3c!-- starttls --\x3e\n<div class="form-group" ng-if="!$ctrl.settings.TLSConfig.TLS">\n  <label for="tls" class="control-label col-sm-3 col-lg-2 text-left" style="padding-top: 0">\n    Use StartTLS\n    <portainer-tooltip message="\'Enable this option if want to use StartTLS to secure the connection to the server. Ignored if Use TLS is selected.\'"></portainer-tooltip>\n  </label>\n  <div class="col-sm-9 col-lg-10">\n    <label class="switch">\n      <input type="checkbox" ng-model="$ctrl.settings.StartTLS" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1" />\n      <span class="slider round"></span>\n    </label>\n  </div>\n</div>\n\x3c!-- !starttls --\x3e\n\n\x3c!-- tls-checkbox --\x3e\n<div class="form-group" ng-if="!$ctrl.settings.StartTLS">\n  <label for="tls" class="control-label col-sm-3 col-lg-2 text-left" style="padding-top: 0">\n    Use TLS\n    <portainer-tooltip message="\'Enable this option if you need to specify TLS certificates to connect to the LDAP server.\'"></portainer-tooltip>\n  </label>\n  <div class="col-sm-9 col-lg-10">\n    <label class="switch">\n      <input type="checkbox" ng-model="$ctrl.settings.TLSConfig.TLS" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1" />\n      <span class="slider round"></span>\n    </label>\n  </div>\n</div>\n\x3c!-- !tls-checkbox --\x3e\n\n\x3c!-- tls-skip-verify --\x3e\n<div class="form-group">\n  <label for="tls" class="control-label col-sm-3 col-lg-2 text-left" style="padding-top: 0">\n    Skip verification of server certificate\n    <portainer-tooltip message="\'Skip the verification of the server TLS certificate. Not recommended on unsecured networks.\'"></portainer-tooltip>\n  </label>\n  <div class="col-sm-9 col-lg-10">\n    <label class="switch">\n      <input type="checkbox" ng-model="$ctrl.settings.TLSConfig.TLSSkipVerify" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1" />\n      <span class="slider round"></span>\n    </label>\n  </div>\n</div>\n\x3c!-- !tls-skip-verify --\x3e\n\n\x3c!-- ca-input --\x3e\n<div class="form-group" ng-if="$ctrl.settings.TLSConfig.TLS || ($ctrl.settings.StartTLS && !$ctrl.settings.TLSConfig.TLSSkipVerify)">\n  <label class="col-sm-3 col-lg-2 control-label text-left">TLS CA certificate</label>\n  <div class="col-sm-9 col-lg-10 vertical-center">\n    <button\n      type="button"\n      class="btn btn-sm btn-primary"\n      ngf-select="$ctrl.onTlscaCertChange($file)"\n      ng-model="$ctrl.tlscaCert"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      Select file\n    </button>\n    <span class="vertical-center">\n      {{ $ctrl.tlscaCert.name }}\n      <pr-icon icon="\'check\'" feather="true" class="icon-success" ng-if="$ctrl.tlscaCert && $ctrl.tlscaCert === $ctrl.settings.TLSConfig.TLSCACert"></pr-icon>\n      <pr-icon icon="\'x\'" feather="true" class="icon-danger" ng-if="!$ctrl.tlscaCert"></pr-icon>\n      <pr-icon icon="\'fa fa-circle-notch fa-spin\'" ng-if="$ctrl.uploadInProgress"></pr-icon>\n    </span>\n  </div>\n</div>\n\x3c!-- !ca-input --\x3e\n')}]),e.exports=t},25649:function(e){var t="app/portainer/settings/authentication/ldap/ldap-settings-test-login/ldap-settings-test-login.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title" ng-style="$ctrl.isLimitedFeatureSelfContained && { \'padding-bottom\': \'15px\' }">\n  Test login\n  <be-feature-indicator\n    ng-if="$ctrl.showBeIndicatorIfNeeded"\n    feature="$ctrl.limitedFeatureId"\n    class="space-left"\n    ng-if="$ctrl.isLimitedFeatureSelfContained"\n  ></be-feature-indicator>\n</div>\n<div class="form-inline">\n  <div class="form-group" style="margin: 0">\n    <label for="ldap_test_username" style="font-size: 0.9em; margin-right: 5px"> Username </label>\n    <input\n      type="text"\n      class="form-control"\n      id="ldap_test_username"\n      ng-model="$ctrl.username"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-class=" {{ $ctrl.isLimitedFeatureSelfContained && \'limited-be\' }}"\n      ng-disabled="{{ $ctrl.isLimitedFeatureSelfContained }}"\n      limited-feature-tabindex="-1"\n    />\n  </div>\n\n  <div class="form-group no-margin">\n    <label for="ldap_test_password"> Password </label>\n    <input\n      type="password"\n      class="form-control"\n      id="ldap_test_password"\n      ng-model="$ctrl.password"\n      autocomplete="new-password"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-class=" {{ $ctrl.isLimitedFeatureSelfContained && \'limited-be\' }}"\n      ng-disabled="{{ $ctrl.isLimitedFeatureSelfContained }}"\n      limited-feature-tabindex="-1"\n    />\n  </div>\n\n  <div class="form-group !ml-0">\n    <div class="vertical-center">\n      <button\n        type="submit"\n        class="btn btn-primary"\n        ng-disabled="$ctrl.state.testStatus === $ctrl.TEST_STATUS.LOADING || !$ctrl.username || !$ctrl.password"\n        ng-click="$ctrl.testLogin($ctrl.username, $ctrl.password)"\n        limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n        limited-feature-class=" {{ $ctrl.isLimitedFeatureSelfContained && \'limited-be\' }}"\n        limited-feature-tabindex="-1"\n      >\n        <span ng-if="$ctrl.state.testStatus !== $ctrl.TEST_STATUS.LOADING">Test</span>\n        <span ng-if="$ctrl.state.testStatus === $ctrl.TEST_STATUS.LOADING">Testing...</span>\n      </button>\n      <pr-icon icon="\'check\'" feather="true" class="icon-success" ng-if="$ctrl.state.testStatus === $ctrl.TEST_STATUS.SUCCESS"></pr-icon>\n      <pr-icon icon="\'x\'" feather="true" class="icon-danger" ng-if="$ctrl.state.testStatus === $ctrl.TEST_STATUS.FAILURE"></pr-icon>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},75634:function(e){var t="app/portainer/settings/authentication/ldap/ldap-settings/ldap-settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div>\n  <auto-user-provision-toggle ng-model="$ctrl.settings.AutoCreateUsers">\n    <field-description>\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with standard user role and assign them to team(s) which matches to LDAP group name(s).\n      If disabled, users must be created in Portainer beforehand.\n    </field-description>\n  </auto-user-provision-toggle>\n\n  <div class="col-sm-12 form-section-title"> Server Type </div>\n\n  <box-selector\n    style="margin-bottom: 0"\n    radio-name="\'ldap-server-type-selector\'"\n    value="$ctrl.settings.ServerType"\n    options="$ctrl.boxSelectorOptions"\n    on-change="($ctrl.onChangeServerType)"\n  ></box-selector>\n\n  <ldap-settings-custom\n    ng-if="$ctrl.settings.ServerType === $ctrl.SERVER_TYPES.CUSTOM"\n    settings="$ctrl.settings"\n    tlsca-cert="$ctrl.tlscaCert"\n    state="$ctrl.state"\n    on-tlsca-cert-change="($ctrl.onTlscaCertChange)"\n    connectivity-check="$ctrl.connectivityCheck"\n    on-search-users-click="($ctrl.searchUsers)"\n    on-search-groups-click="($ctrl.searchGroups)"\n    on-save-settings="($ctrl.onSaveSettings)"\n    save-button-state="($ctrl.saveButtonState)"\n    save-button-disabled="$ctrl.isLdapFormValid"\n  ></ldap-settings-custom>\n  <ldap-settings-open-ldap\n    ng-if="$ctrl.settings.ServerType === $ctrl.SERVER_TYPES.OPEN_LDAP"\n    settings="$ctrl.settings"\n    tlsca-cert="$ctrl.tlscaCert"\n    state="$ctrl.state"\n    on-tlsca-cert-change="($ctrl.onTlscaCertChange)"\n    connectivity-check="$ctrl.connectivityCheck"\n    on-search-users-click="($ctrl.searchUsers)"\n    on-search-groups-click="($ctrl.searchGroups)"\n    on-save-settings="($ctrl.onSaveSettings)"\n    save-button-state="($ctrl.saveButtonState)"\n    save-button-disabled="$ctrl.isLdapFormValid"\n  ></ldap-settings-open-ldap>\n</div>\n')}]),e.exports=t},25972:function(e){var t="app/portainer/settings/authentication/ldap/ldap-user-search-item/ldap-user-search-item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<rd-widget>\n  <rd-widget-body>\n    <div ng-if="$ctrl.index > 0" style="margin-bottom: 10px">\n      <span class="text-muted small"> Extra search configuration </span>\n      <button\n        ng-if="$ctrl.index > 0"\n        class="btn btn-sm btn-danger"\n        type="button"\n        ng-click="$ctrl.onRemoveClick($ctrl.index)"\n        limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n        limited-feature-tabindex="-1"\n      >\n        <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n      </button>\n    </div>\n\n    <div class="form-group" ng-if="$ctrl.showUsernameFormat">\n      <div class="col-sm-4" style="margin-bottom: 5px">\n        <label class="control-label text-left">Username Format</label>\n      </div>\n      <div class="col-sm-8">\n        <div class="input-group">\n          <div class="input-group-btn">\n            <button\n              class="btn btn-primary"\n              ng-model="$ctrl.config.UserNameAttribute"\n              uib-btn-radio="\'sAMAccountName\'"\n              style="margin-left: 0px"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n              >username</button\n            >\n            <button\n              class="btn btn-primary"\n              ng-model="$ctrl.config.UserNameAttribute"\n              uib-btn-radio="\'userPrincipalName\'"\n              limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n              limited-feature-tabindex="-1"\n              >user@domainname</button\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-sm-4 control-label text-left"> Root Domain </label>\n      <div class="col-sm-8">\n        {{ $ctrl.config.BaseDN }}\n      </div>\n    </div>\n\n    <ldap-settings-dn-builder\n      ng-model="$ctrl.config.BaseDN"\n      label="User Search Path (optional)"\n      suffix="{{ $ctrl.domainSuffix }}"\n      on-change="($ctrl.onBaseDNChange)"\n      limited-feature-id="$ctrl.limitedFeatureId"\n    ></ldap-settings-dn-builder>\n\n    <div class="form-group no-margin-last-child">\n      <div class="col-sm-12" style="margin-bottom: 5px">\n        <label class="control-label text-left">Allowed Groups (optional)</label>\n        <button\n          type="button"\n          class="label label-default interactive vertical-center"\n          style="margin-left: 10px; border: 0"\n          ng-click="$ctrl.addGroup()"\n          limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n          limited-feature-tabindex="-1"\n        >\n          <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n          add another group\n        </button>\n      </div>\n      <div class="col-sm-12">\n        <div ng-repeat="group in $ctrl.groups track by $index" style="margin-bottom: 10px">\n          <rd-widget>\n            <rd-widget-body>\n              <ldap-settings-group-dn-builder\n                ng-model="group"\n                index="$index"\n                suffix="{{ $ctrl.domainSuffix }}"\n                on-change="($ctrl.onGroupChange)"\n                on-remove-click="($ctrl.removeGroup)"\n                limited-feature-id="$ctrl.limitedFeatureId"\n              ></ldap-settings-group-dn-builder>\n            </rd-widget-body>\n          </rd-widget>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-sm-4 control-label text-left"> User Filter </label>\n      <div class="col-sm-8">\n        {{ $ctrl.config.Filter }}\n      </div>\n    </div>\n  </rd-widget-body>\n</rd-widget>\n')}]),e.exports=t},36452:function(e){var t="app/portainer/settings/authentication/ldap/ldap-user-search/ldap-user-search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title" style="float: initial"> User search configurations </div>\n\n<div style="margin-top: 10px" ng-repeat="config in $ctrl.settings | limitTo: (1 - $ctrl.settings)">\n  <ldap-user-search-item\n    index="$index"\n    config="config"\n    domain-suffix="{{ $ctrl.domainSuffix }}"\n    show-username-format="$ctrl.showUsernameFormat"\n    base-filter="{{ $ctrl.baseFilter }}"\n    on-remove-click="($ctrl.onRemoveClick)"\n    limited-feature-id="$ctrl.limitedFeatureId"\n  ></ldap-user-search-item>\n</div>\n\n<div class="form-group" style="margin-top: 10px">\n  <div class="col-sm-12">\n    <button\n      class="label label-default interactive vertical-center"\n      style="border: 0"\n      ng-click="$ctrl.onAddClick()"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-tabindex="-1"\n    >\n      <pr-icon icon="\'plus-circle\'" feather="true"></pr-icon>\n      add user search configuration\n    </button>\n  </div>\n  <div class="col-sm-12" style="margin-top: 10px">\n    <button class="btn btm-sm btn-primary" type="button" ng-click="$ctrl.search()" limited-feature-dir="{{::$ctrl.limitedFeatureId}}" limited-feature-tabindex="-1">\n      Display Users\n    </button>\n  </div>\n</div>\n\n<div ng-if="$ctrl.showTable">\n  <div class="form-group col-sm-12">\n    <ldap-users-datatable dataset="$ctrl.users" title-text="Users" title-icon="users" table-key="ldapUsers" order-by="" reverse-order=""></ldap-users-datatable>\n  </div>\n</div>\n')}]),e.exports=t},30235:function(e){var t="app/portainer/settings/authentication/ldap/ldap-users-datatable/ldap-users-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar">\n        <div class="toolBarTitle vertical-center">\n          <pr-icon icon="$ctrl.titleIcon" feather="true"></pr-icon>\n          {{ $ctrl.titleText }}\n        </div>\n        <div class="searchBar vertical-center">\n          <pr-icon icon="\'search\'" feather="true"></pr-icon>\n          <input\n            type="text"\n            class="searchInput"\n            ng-model="$ctrl.state.textFilter"\n            ng-change="$ctrl.onTextFilterChange()"\n            placeholder="Search..."\n            auto-focus\n            ng-model-options="{ debounce: 300 }"\n          />\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <table-column-header\n                  col-title="\'Name\'"\n                  can-sort="true"\n                  is-sorted="$ctrl.state.orderBy === \'Name\'"\n                  is-sorted-desc="$ctrl.state.orderBy === \'Name\' && $ctrl.state.reverseOrder"\n                  ng-click="$ctrl.changeOrderBy(\'Name\')"\n                ></table-column-header>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index"\n              ng-class="{ active: item.Checked }"\n            >\n              <td>\n                <a ui-sref="portainer.groups.group({id: item.Id})">{{ item }}</a>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.dataset">\n              <td colspan="3" class="text-center text-muted">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.filteredDataSet.length === 0">\n              <td colspan="5" class="text-center text-muted">No users found.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.dataset">\n        <div class="paginationControls">\n          <form class="form-inline">\n            <span class="limitSelector">\n              <span style="margin-right: 5px"> Items per page </span>\n              <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">\n                <option value="0">All</option>\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n              </select>\n            </span>\n            <dir-pagination-controls max-size="5"></dir-pagination-controls>\n          </form>\n        </div>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},83133:function(e){var t="app/portainer/settings/authentication/save-auth-settings-button/save-auth-settings-button.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Actions </div>\n<div class="form-group">\n  <div class="col-sm-12">\n    <button\n      type="button"\n      ng-class="[$ctrl.className, \'btn btn-primary btn-sm\']"\n      ng-click="$ctrl.onSaveSettings()"\n      ng-disabled="$ctrl.saveButtonDisabled || $ctrl.saveButtonState"\n      button-spinner="$ctrl.saveButtonState"\n      limited-feature-dir="{{::$ctrl.limitedFeatureId}}"\n      limited-feature-class="{{::$ctrl.limitedFeatureClass}}"\n    >\n      <span ng-hide="$ctrl.saveButtonState">Save settings</span>\n      <span ng-show="$ctrl.saveButtonState">Saving...</span>\n    </button>\n  </div>\n</div>\n')}]),e.exports=t},83791:function(e){var t="app/portainer/settings/general/ssl-certificate/ssl-certificate.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="key" feather-icon="true" title-text="SSL certificate"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" name="$ctrl.sslForm">\n          <span class="small">\n            <p class="text-muted vertical-center">\n              <pr-icon icon="\'alert-circle\'" feather="true" class-name="\'icon-warning =vertical-center\'"></pr-icon>\n              Forcing HTTPs only will cause Portainer to stop listening on the HTTP port. Any edge agent environment that is using HTTP will no longer be available.\n            </p>\n          </span>\n          <div class="form-group">\n            <por-switch-field\n              checked="$ctrl.formValues.forceHTTPS"\n              label="\'Force HTTPS only\'"\n              on-change="($ctrl.onChangeForceHTTPS)"\n              field-class="\'col-sm-12\'"\n              label-class="\'col-sm-2\'"\n            ></por-switch-field>\n          </div>\n\n          <div class="form-group">\n            <span class="col-sm-12 control-label"> Provide a new SSL Certificate to replace the existing one that is used for HTTPS connections. </span>\n          </div>\n\n          <div class="form-group">\n            <span class="col-sm-12"> Upload a X.509 certificate, commonly a crt, a cer, or a pem file. </span>\n          </div>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formValues.certFile" ngf-pattern="$ctrl.certFilePattern" name="certFile"> Select file </button>\n              <span style="margin-left: 5px">\n                {{ $ctrl.formValues.certFile.name }}\n                <pr-icon icon="\'x-circle\'" feather="true" class-name="\'icon-danger\'" ng-if="!$ctrl.formValues.certFile"></pr-icon>\n              </span>\n            </div>\n          </div>\n          <div class="form-group col-md-12" ng-show="$ctrl.sslForm.certFile.$invalid">\n            <div class="small text-warning">\n              <div ng-messages="$ctrl.sslForm.certFile.$error">\n                <p ng-message="pattern"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> File type is invalid.</p>\n              </div>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <span class="col-sm-12"> Upload a private key, commonly a key, or a pem file. </span>\n          </div>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formValues.keyFile" ngf-pattern="$ctrl.keyFilePattern" name="keyFile"> Select file </button>\n              <span style="margin-left: 5px">\n                {{ $ctrl.formValues.keyFile.name }}\n                <pr-icon icon="\'x-circle\'" feather="true" class-name="\'icon-danger\'" ng-if="!$ctrl.formValues.keyFile"></pr-icon>\n              </span>\n            </div>\n          </div>\n          <div class="form-group col-md-12" ng-show="$ctrl.sslForm.keyFile.$invalid">\n            <div class="small text-warning">\n              <div ng-messages="$ctrl.sslForm.keyFile.$error">\n                <p ng-message="pattern"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> File type is invalid.</p>\n              </div>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.state.actionInProgress || !$ctrl.isFormChanged()"\n                ng-click="$ctrl.save()"\n                button-spinner="$ctrl.state.actionInProgress"\n                analytics-on\n                analytics-if="$ctrl.wasHTTPsChanged()"\n                analytics-category="portainer"\n                analytics-event="portainer-settings-edit"\n                analytics-properties="{ metadata: { forceHTTPS: $ctrl.formValues.forceHTTPS } }"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress || $ctrl.state.reloadingPage">Apply changes</span>\n                <span ng-show="$ctrl.state.actionInProgress">Saving in progress...</span>\n                <span ng-show="$ctrl.state.reloadingPage">Reloading Page...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},79765:function(e){var t="app/portainer/user-activity/activity-logs-view/activity-logs-datatable/activity-logs-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable datatable-empty">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="\'svg-clockrewind\'"></pr-icon>\n          </div>\n\n          Activity Logs\n          <be-feature-indicator feature="$ctrl.feature"></be-feature-indicator>\n        </div>\n        <div class="vertical-center">\n          <datatable-searchbar on-change="($ctrl.onChangeKeyword)" value="$ctrl.keyword"></datatable-searchbar>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover">\n          <thead>\n            <tr>\n              <th class="small-column">\n                <div class="vertical-center">\n                  <table-column-header\n                    col-title="\'Time\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.sort.key === \'Timestamp\'"\n                    is-sorted-desc="$ctrl.sort.key === \'Timestamp\' && $ctrl.sort.desc"\n                    ng-click="$ctrl.changeSort(\'Timestamp\')"\n                  >\n                  </table-column-header>\n                </div>\n              </th>\n              <th class="small-column">\n                <div class="vertical-center">\n                  <table-column-header\n                    col-title="\'User\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.sort.key === \'Username\'"\n                    is-sorted-desc="$ctrl.sort.key === \'Username\' && $ctrl.sort.desc"\n                    ng-click="$ctrl.changeSort(\'Username\')"\n                  >\n                  </table-column-header>\n                </div>\n              </th>\n              <th class="small-column">\n                <div class="vertical-center">\n                  <table-column-header\n                    col-title="\'Environment\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.sort.key === \'Context\'"\n                    is-sorted-desc="$ctrl.sort.key === \'Context\' && $ctrl.sort.desc"\n                    ng-click="$ctrl.changeSort(\'Context\')"\n                  >\n                  </table-column-header>\n                </div>\n              </th>\n\n              <th>\n                <div class="vertical-center">\n                  <table-column-header col-title="\'Action\'" can-sort="false"> </table-column-header>\n                </div>\n              </th>\n              <th>\n                <div class="vertical-center">\n                  <table-column-header col-title="\'Payload\'" can-sort="false"> </table-column-header>\n                </div>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr dir-paginate-start="item in $ctrl.logs | itemsPerPage: $ctrl.limit" total-items="$ctrl.totalItems" current-page="$ctrl.currentPage">\n              <td></td>\n              <td></td>\n              <td></td>\n              <td></td>\n              <td></td>\n            </tr>\n            <tr dir-paginate-end ng-show="item.Expanded">\n              <td colspan="5">\n                <json-tree object="item.payload" root-name="containerInfo.Id" start-expanded="true"></json-tree>\n              </td>\n            </tr>\n            <tr ng-if="!$ctrl.logs">\n              <td class="text-center text-muted" colspan="5">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.logs.length === 0">\n              <td class="text-center text-muted" colspan="8"> No logs available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.logs">\n        <datatable-pagination limit="$ctrl.limit" on-change-limit="($ctrl.handleChangeLimit)" on-change-page="($ctrl.onChangePage)"></datatable-pagination>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},28459:function(e){var t="app/portainer/user-activity/activity-logs-view/activity-logs-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'User Activity\'" breadcrumbs="[\'Activity Logs\']" reload="true"> </page-header>\n\n<div class="be-indicator-container limited-be">\n  <div class="overlay">\n    <div class="limited-be-link vertical-center"\n      ><be-feature-indicator feature="$ctrl.limitedFeature"></be-feature-indicator\n      ><portainer-tooltip message="\'This feature is currently limited to Business Edition users only. \'"></portainer-tooltip\n    ></div>\n    <div class="limited-be-content">\n      <rd-widget>\n        <rd-widget-body>\n          <div class="form-horizontal">\n            <div class="form-group">\n              <label for="dateRangeInput" class="col-sm-2 control-label text-left">Date Range</label>\n              <div class="col-sm-6">\n                <input type="text" class="form-control" disabled />\n              </div>\n            </div>\n          </div>\n          <p class="text-muted small vertical-center">\n            <pr-icon icon="\'info\'" feather="true" class-name="\'icon icon-sm icon-primary\'"></pr-icon>\n            Portainer user activity logs have a maximum retention of 7 days.\n          </p>\n          <div>\n            <button type="button" class="btn btn-sm btn-primary" limited-feature-dir="{{::$ctrl.limitedFeature}}" limited-feature-class="limited-be" limited-feature-disabled>\n              <pr-icon icon="\'download\'" feather="true" icon-class="\'icon icon-sm\'"></pr-icon>\n              Export as CSV\n            </button>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n\n<div class="be-indicator-container limited-be">\n  <div class="overlay">\n    <div class="limited-be-link vertical-center"\n      ><be-feature-indicator feature="$ctrl.limitedFeature"></be-feature-indicator\n      ><portainer-tooltip message="\'This feature is currently limited to Business Edition users only. \'"></portainer-tooltip\n    ></div>\n    <div class="limited-be-content">\n      <div class="row">\n        <activity-logs-datatable\n          logs="$ctrl.state.logs"\n          keyword="$ctrl.state.keyword"\n          sort="$ctrl.state.sort"\n          limit="$ctrl.state.limit"\n          context-filter="$ctrl.state.contextFilter"\n          total-items="$ctrl.state.totalItems"\n          current-page="$ctrl.state.currentPage"\n          feature="{{:: $ctrl.limitedFeature}}"\n          on-change-keyword="($ctrl.onChangeKeyword)"\n          on-change-sort="($ctrl.onChangeSort)"\n          on-change-limit="($ctrl.onChangeLimit)"\n          on-change-page="($ctrl.onChangePage)"\n        ></activity-logs-datatable>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},28572:function(e){var t="app/portainer/user-activity/auth-logs-view/auth-logs-datatable/auth-logs-datatable.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="datatable datatable-empty">\n  <rd-widget>\n    <rd-widget-body classes="no-padding">\n      <div class="toolBar vertical-center !gap-x-5 !gap-y-1 flex-wrap">\n        <div class="toolBarTitle vertical-center">\n          <div class="widget-icon space-right">\n            <pr-icon icon="\'svg-clockrewind\'"></pr-icon>\n          </div>\n\n          Authentication Events\n          <be-feature-indicator feature="$ctrl.feature"></be-feature-indicator>\n        </div>\n        <div class="vertical-center">\n          <datatable-searchbar on-change="($ctrl.onChangeKeyword)"></datatable-searchbar>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-hover nowrap-cells">\n          <thead>\n            <tr>\n              <th>\n                <div class="vertical-center">\n                  <table-column-header\n                    col-title="\'Time\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.sort.key === \'Timestamp\'"\n                    is-sorted-desc="$ctrl.sort.key === \'Timestamp\' && $ctrl.sort.desc"\n                    ng-click="$ctrl.changeSort(\'Timestamp\')"\n                  >\n                  </table-column-header>\n                </div>\n              </th>\n              <th>\n                <div class="vertical-center">\n                  <table-column-header\n                    col-title="\'Origin\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.sort.key === \'Origin\'"\n                    is-sorted-desc="$ctrl.sort.key === \'Origin\' && $ctrl.sort.desc"\n                    ng-click="$ctrl.changeSort(\'Origin\')"\n                  >\n                  </table-column-header>\n                </div>\n              </th>\n              <th>\n                <div class="vertical-center">\n                  <table-column-header\n                    col-title="\'Context\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.sort.key === \'Context\'"\n                    is-sorted-desc="$ctrl.sort.key === \'Context\' && $ctrl.sort.desc"\n                    ng-click="$ctrl.changeSort(\'Context\')"\n                  >\n                  </table-column-header>\n                  <datatable-filter labels="$ctrl.contextFilterLabels" filter-key="context" state="$ctrl.contextFilter" on-change="($ctrl.onChangeContextFilter)">\n                  </datatable-filter>\n                </div>\n              </th>\n              <th>\n                <div class="vertical-center">\n                  <table-column-header\n                    col-title="\'User\'"\n                    can-sort="true"\n                    is-sorted="$ctrl.sort.key === \'Username\'"\n                    is-sorted-desc="$ctrl.sort.key === \'Username\' && $ctrl.sort.desc"\n                    ng-click="$ctrl.changeSort(\'Username\')"\n                  >\n                  </table-column-header>\n                </div>\n              </th>\n              <th>\n                <div class="vertical-center">\n                  <table-column-header col-title="\'Result\'" can-sort="false"> </table-column-header>\n                  <datatable-filter labels="$ctrl.typeFilterLabels" filter-key="type" state="$ctrl.typeFilter" on-change="($ctrl.onChangeTypeFilter)"> </datatable-filter>\n                </div>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr dir-paginate="item in $ctrl.logs | itemsPerPage: $ctrl.limit" total-items="$ctrl.totalItems" current-page="$ctrl.currentPage">\n              <td></td>\n              <td></td>\n              <td></td>\n              <td></td>\n              <td></td>\n            </tr>\n            <tr ng-if="!$ctrl.logs">\n              <td class="text-center text-muted" colspan="5">Loading...</td>\n            </tr>\n            <tr ng-if="$ctrl.state.logs.length === 0">\n              <td class="text-center text-muted" colspan="8"> No logs available. </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="footer" ng-if="$ctrl.logs">\n        <datatable-pagination limit="$ctrl.limit" on-change-limit="($ctrl.handleChangeLimit)" on-change-page="($ctrl.onChangePage)"></datatable-pagination>\n      </div>\n    </rd-widget-body>\n  </rd-widget>\n</div>\n')}]),e.exports=t},22261:function(e){var t="app/portainer/user-activity/auth-logs-view/auth-logs-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'User Activity\'" breadcrumbs="[\'User authentication activity\']" reload="true"> </page-header>\n\n<div class="be-indicator-container limited-be">\n  <div class="overlay">\n    <div class="limited-be-link vertical-center"\n      ><be-feature-indicator feature="$ctrl.limitedFeature"></be-feature-indicator\n      ><portainer-tooltip message="\'This feature is currently limited to Business Edition users only. \'"></portainer-tooltip\n    ></div>\n    <div class="limited-be-content">\n      <rd-widget>\n        <rd-widget-body>\n          <div class="form-horizontal">\n            <div class="form-group">\n              <label for="dateRangeInput" class="col-sm-2 control-label text-left">Date Range</label>\n              <div class="col-sm-6">\n                <input type="text" class="form-control" disabled />\n              </div>\n            </div>\n          </div>\n          <p class="text-muted small vertical-center">\n            <pr-icon icon="\'info\'" feather="true" class-name="\'icon icon-sm icon-primary\'"></pr-icon>\n            Portainer user authentication activity logs have a maximum retention of 7 days.\n          </p>\n          <div>\n            <button type="button" class="btn btn-sm btn-primary" limited-feature-dir="{{::$ctrl.limitedFeature}}" limited-feature-class="limited-be" limited-feature-disabled\n              ><pr-icon icon="\'download\'" feather="true" icon-class="\'icon icon-sm\'"></pr-icon>Export as CSV\n            </button>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n\n<div class="be-indicator-container limited-be">\n  <div class="overlay">\n    <div class="limited-be-link vertical-center"\n      ><be-feature-indicator feature="$ctrl.limitedFeature"></be-feature-indicator\n      ><portainer-tooltip message="\'This feature is currently limited to Business Edition users only. \'"></portainer-tooltip\n    ></div>\n    <div class="limited-be-content">\n      <div class="row">\n        <auth-logs-datatable\n          logs="$ctrl.state.logs"\n          keyword="$ctrl.state.keyword"\n          sort="$ctrl.state.sort"\n          limit="$ctrl.state.limit"\n          context-filter="$ctrl.state.contextFilter"\n          type-filter="$ctrl.state.typeFilter"\n          total-items="$ctrl.state.totalItems"\n          current-page="$ctrl.state.currentPage"\n          feature="{{:: $ctrl.limitedFeature}}"\n          on-change-context-filter="($ctrl.onChangeContextFilter)"\n          on-change-type-filter="($ctrl.onChangeTypeFilter)"\n          on-change-keyword="($ctrl.onChangeKeyword)"\n          on-change-sort="($ctrl.onChangeSort)"\n          on-change-limit="($ctrl.onChangeLimit)"\n          on-change-page="($ctrl.onChangePage)"\n        ></auth-logs-datatable>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},27452:function(e){var t="app/portainer/views/account/account.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'User settings\'" breadcrumbs="[\'User settings\']"> </page-header>\n\n<demo-feature-indicator ng-if="isDemoUser" content="\'You cannot change the password of this account in the demo version of Portainer.\'"> </demo-feature-indicator>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="lock" feather-icon="true" title-text="Change user password"></rd-widget-header>\n      <rd-widget-body>\n        <form name="form" class="form-horizontal" style="margin-top: 15px">\n          \x3c!-- current-password-input --\x3e\n          <div class="form-group">\n            <label for="current_password" class="col-sm-2 control-label text-left required">Current password</label>\n            <div class="col-sm-8">\n              <input type="password" class="form-control" ng-model="formValues.currentPassword" id="current_password" />\n            </div>\n          </div>\n          \x3c!-- !current-password-input --\x3e\n          \x3c!-- new-password-input --\x3e\n          <div class="form-group">\n            <label for="new_password" class="col-sm-2 control-label text-left required">New password</label>\n            <div class="col-sm-8">\n              <input type="password" class="form-control" ng-model="formValues.newPassword" ng-minlength="requiredPasswordLength" id="new_password" name="new_password" />\n            </div>\n          </div>\n          \x3c!-- !new-password-input --\x3e\n\n          \x3c!-- confirm-password-input --\x3e\n          <div class="form-group">\n            <label for="confirm_password" class="col-sm-2 control-label text-left required">Confirm password</label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <input type="password" class="form-control" ng-model="formValues.confirmPassword" id="confirm_password" />\n                <span class="input-group-addon">\n                  <pr-icon icon="\'check\'" feather="true" class="icon-success" ng-if="formValues.newPassword === formValues.confirmPassword"></pr-icon>\n                  <pr-icon icon="\'x\'" feather="true" class="icon-danger" ng-if="!(formValues.newPassword === formValues.confirmPassword)"></pr-icon>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-3 col-lg-2"></div>\n            <div class="col-sm-8">\n              <password-check-hint password-valid="form.new_password.$valid && formValues.newPassword" force-change-password="forceChangePassword"></password-check-hint>\n            </div>\n          </div>\n          \x3c!-- !confirm-password-input --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="isDemoUser || (AuthenticationMethod !== 1 && !isInitialAdmin) || !formValues.currentPassword || !formValues.newPassword || form.$invalid || formValues.newPassword !== formValues.confirmPassword"\n                ng-click="updatePassword()"\n              >\n                Update password\n              </button>\n              <button type="submit" class="btn btn-primary btn-sm" ng-click="skipPasswordChange()" ng-if="forceChangePassword && timesPasswordChangeSkipped < 2">\n                Remind me later\n              </button>\n              <span class="text-muted small vertical-center" style="margin-left: 5px" ng-if="AuthenticationMethod === 2 && !isInitialAdmin">\n                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                You cannot change your password when using LDAP authentication.\n              </span>\n              <span class="text-muted small vertical-center" style="margin-left: 5px" ng-if="AuthenticationMethod === 3 && !isInitialAdmin">\n                <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                You cannot change your password when using OAuth authentication.\n              </span>\n            </div>\n          </div>\n          <div ng-if="userRole === 1">\n            <p class="text-muted vertical-center">\n              <pr-icon icon="\'alert-circle\'" class-name="\'icon-primary\'" feather="true"></pr-icon>\n              Minimum password length is set <a ui-sref="portainer.settings.authentication">here.</a>\n            </p>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n    <access-tokens-datatable\n      title-text="Access tokens"\n      title-icon="key"\n      dataset="tokens"\n      table-key="tokens"\n      order-by="Description"\n      remove-action="removeAction"\n      ui-can-exit="uiCanExit"\n    ></access-tokens-datatable>\n    <theme-settings></theme-settings>\n  </div>\n</div>\n')}]),e.exports=t},48675:function(e){var t="app/portainer/views/account/create-user-access-token/create-user-access-token.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create access token\'" breadcrumbs="[{label:\'User settings\', link:\'portainer.account\'}, \'Add access token\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    \x3c!-- mount react feature/view --\x3e\n    <create-access-token user-id="$ctrl.state.userId" on-submit="($ctrl.onSubmit)" on-success="($ctrl.onSuccess)" on-error="($ctrl.onError)"></create-access-token>\n  </div>\n</div>\n')}]),e.exports=t},6167:function(e,t,n){var r='<div class="page-wrapper">\n  \x3c!-- login box --\x3e\n  <div class="container simple-box">\n    <div class="col-sm-4 col-sm-offset-4">\n      \x3c!-- login box logo --\x3e\n      <div class="row">\n        <img ng-if="!ctrl.logo" src="'+n(325)+'" class="simple-box-logo" alt="Portainer" />\n        <img ng-if="ctrl.logo" ng-src="{{ ctrl.logo }}" class="simple-box-logo" />\n      </div>\n      \x3c!-- !login box logo --\x3e\n\n      <div class="row text-center p-5">\n        <p class="text-xl">Log in to your account</p>\n        <p class="text-md text-muted fw-bold">Welcome back! Please enter your details</p>\n      </div>\n\n      \x3c!-- login panel --\x3e\n      <div class="panel panel-default" ng-if="!ctrl.state.loginInProgress">\n        <div class="panel-body">\n          \x3c!-- login form --\x3e\n          <form class="simple-box-form form-horizontal">\n            <div class="form-group">\n              <div class="col-sm-12" style="display: flex; justify-content: center" ng-if="ctrl.state.showOAuthLogin">\n                <a ng-href="{{ ctrl.OAuthLoginURI }}">\n                  <div class="btn btn-primary btn-lg btn-block" ng-if="ctrl.state.OAuthProvider === \'Microsoft\'">\n                    <i class="fab fa-microsoft" aria-hidden="true"></i> Login with Microsoft\n                  </div>\n                  <div class="btn btn-primary btn-lg btn-block" ng-if="ctrl.state.OAuthProvider === \'Google\'">\n                    <i class="fab fa-google" aria-hidden="true"></i> Login with Google\n                  </div>\n                  <div class="btn btn-primary btn-lg btn-block" ng-if="ctrl.state.OAuthProvider === \'Github\'">\n                    <i class="fab fa-github" aria-hidden="true"></i> Login with Github\n                  </div>\n                  <div class="btn btn-primary btn-lg btn-block" ng-if="ctrl.state.OAuthProvider === \'OAuth\'">\n                    <i class="fa fa-sign-in-alt" aria-hidden="true"></i> Login with OAuth\n                  </div>\n                </a>\n              </div>\n            </div>\n\n            \x3c!-- divider --\x3e\n            <div class="form-group" ng-if="ctrl.state.showOAuthLogin">\n              <div class="col-sm-12" style="display: flex; align-items: center; justify-content: center">\n                <div class="striketext small text-muted" style="display: flex; align-items: center; justify-content: center; width: 90%">or</div>\n              </div>\n            </div>\n\n            \x3c!-- use internal auth button --\x3e\n            <div class="form-group" ng-if="ctrl.state.showOAuthLogin && !ctrl.state.showStandardLogin">\n              <div class="col-sm-12" style="display: flex; justify-content: center">\n                <div class="btn btn-primary btn-md btn-block" style="margin-left: 2px" ng-click="ctrl.toggleStandardLogin()"> Use internal authentication </div>\n              </div>\n            </div>\n\n            \x3c!-- !username input --\x3e\n            <div ng-if="ctrl.state.showStandardLogin">\n              <div class="pb-2">Username</div>\n              <input\n                id="username"\n                type="text"\n                class="form-control"\n                name="username"\n                ng-model="ctrl.formValues.Username"\n                auto-focus\n                data-cy="auth-usernameInput"\n                placeholder="Enter your username"\n              />\n            </div>\n\n            \x3c!-- password input --\x3e\n            <div ng-if="ctrl.state.showStandardLogin">\n              <div class="pb-2">Password</div>\n              <div class="relative">\n                <input\n                  id="password"\n                  ng-attr-type="{{ ctrl.state.passwordInputType }}"\n                  class="form-control pr-10"\n                  name="password"\n                  ng-model="ctrl.formValues.Password"\n                  autocomplete="off"\n                  data-cy="auth-passwordInput"\n                  placeholder="Enter your password"\n                  ng-trim="false"\n                />\n                <button\n                  data-cy="auth-passwordInputToggle"\n                  type="button"\n                  ng-click="ctrl.toggleShowPassword()"\n                  class="absolute top-0 right-0 h-[34px] w-[50px] border-none flex justify-center items-center bg-transparent"\n                  tooltip-append-to-body="true"\n                  tooltip-placement="top"\n                  tooltip-class="portainer-tooltip"\n                  uib-tooltip="{{ ctrl.state.passwordInputType === \'password\' ? \'Show password\' : \'Hide password\' }}"\n                >\n                  <pr-icon icon="ctrl.state.passwordInputType === \'password\' ? \'eye-off\' : \'eye\'" feather="true" size="\'md\'"></pr-icon>\n                </button>\n              </div>\n            </div>\n\n            <div class="form-group overflow-auto" ng-if="ctrl.state.showStandardLogin">\n              \x3c!-- login button --\x3e\n              <div class="col-sm-12 d-flex py-1">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-lg btn-block"\n                  ng-click="ctrl.authenticateUser()"\n                  button-spinner="ctrl.state.loginInProgress"\n                  ng-disabled="ctrl.state.loginInProgress"\n                  data-cy="auth-loginButton"\n                >\n                  <span ng-hide="ctrl.state.loginInProgress">Login</span>\n                  <span ng-show="ctrl.state.loginInProgress">Login in progress...</span>\n                </button>\n              </div>\n            </div>\n          </form>\n          \x3c!-- !login form --\x3e\n\n          \x3c!-- error message --\x3e\n          <div class="pull-right" ng-if="ctrl.state.AuthenticationError">\n            <i class="fa fa-exclamation-triangle red-icon" aria-hidden="true" style="margin-right: 2px"></i>\n            <span class="small text-danger">{{ ctrl.state.AuthenticationError }}</span>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- !login panel --\x3e\n      <div class="panel panel-default" ng-show="ctrl.state.loginInProgress">\n        <div class="panel-body">\n          <div class="form-group text-center">\n            <span class="small text-muted">Authentication in progress... <span button-spinner="true"></span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- !login box --\x3e\n</div>\n',a="app/portainer/views/auth/auth.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(a,r)}]),e.exports=a},53068:function(e){var t="app/portainer/views/custom-templates/create-custom-template-view/createCustomTemplateView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create Custom template\'" breadcrumbs="[{label:\'Custom Templates\', link:\'docker.templates.custom\'}, \'Create Custom template\']"> </page-header>\n\n<div class="row" ng-if="!$ctrl.state.loading">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="customTemplateForm">\n          <custom-template-common-fields\n            form-values="$ctrl.formValues"\n            show-platform-field="true"\n            show-type-field="true"\n            name-regex="$ctrl.state.templateNameRegex"\n          ></custom-template-common-fields>\n\n          \x3c!-- build-method --\x3e\n          <div ng-if="!$ctrl.state.fromStack">\n            <div class="col-sm-12 form-section-title"> Build method </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <div class="boxselector_wrapper">\n                  <div>\n                    <input type="radio" id="method_editor" ng-model="$ctrl.state.Method" value="editor" ng-change="$ctrl.onChangeMethod()" />\n                    <label for="method_editor">\n                      <div class="boxselector_header">\n                        <pr-icon icon="\'edit\'" feather="true"></pr-icon>\n                        Web editor\n                      </div>\n                      <p>Use our Web editor</p>\n                    </label>\n                  </div>\n                  <div>\n                    <input type="radio" id="method_upload" ng-model="$ctrl.state.Method" value="upload" ng-change="$ctrl.onChangeMethod()" />\n                    <label for="method_upload">\n                      <div class="boxselector_header">\n                        <pr-icon icon="\'upload\'" feather="true"></pr-icon>\n                        Upload\n                      </div>\n                      <p>Upload from your computer</p>\n                    </label>\n                  </div>\n                  <div>\n                    <input type="radio" id="method_repository" ng-model="$ctrl.state.Method" value="repository" ng-change="$ctrl.onChangeMethod()" />\n                    <label for="method_repository">\n                      <div class="boxselector_header">\n                        <pr-icon icon="\'git-pull-request\'" feather="true"></pr-icon>\n                        Repository\n                      </div>\n                      <p>Use a git repository</p>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !build-method --\x3e\n          \x3c!-- web-editor --\x3e\n          <web-editor-form\n            ng-if="$ctrl.state.Method === \'editor\'"\n            identifier="custom-template-creation-editor"\n            value="$ctrl.formValues.FileContent"\n            on-change="($ctrl.editorUpdate)"\n            ng-required="true"\n            yml="true"\n            placeholder="# Define or paste the content of your docker compose file here"\n          >\n            <editor-description>\n              <span class="col-sm-12 text-muted">\n                You can get more information about Compose file format in the\n                <a href="https://docs.docker.com/compose/compose-file/" target="_blank"> official documentation </a>\n                .\n              </span>\n            </editor-description>\n          </web-editor-form>\n          \x3c!-- !web-editor --\x3e\n          \x3c!-- upload --\x3e\n          <div ng-show="$ctrl.state.Method === \'upload\'">\n            <div class="col-sm-12 form-section-title"> Upload </div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small"> You can upload a Compose file from your computer. </span>\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button type="button" class="btn btn-sm btn-primary" ngf-select ng-model="$ctrl.formValues.File"> Select file </button>\n                <span class="space-left">\n                  {{ $ctrl.formValues.File.name }}\n                  <span ng-if="$ctrl.formValues.File">\n                    <pr-icon icon="\'x\'" feather="true" mode="\'danger\'"></pr-icon>\n                  </span>\n                </span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !upload --\x3e\n          \x3c!-- repository --\x3e\n          <git-form ng-if="$ctrl.state.Method === \'repository\'" model="$ctrl.formValues" on-change="($ctrl.handleChange)"></git-form>\n\n          <div class="form-group" ng-if="!$ctrl.state.isTemplateValid">\n            <div class="col-sm-12">\n              <div class="small text-warning">\n                <pr-icon icon="\'alert-triangle\'" feather="true" class-name="space-right"></pr-icon>\n                Template is invalid.\n              </div>\n            </div>\n          </div>\n\n          <custom-templates-variables-definition-field\n            ng-if="$ctrl.isTemplateVariablesEnabled"\n            value="$ctrl.formValues.Variables"\n            on-change="($ctrl.onVariablesChange)"\n            is-variables-names-from-parent="$ctrl.state.Method === \'editor\'"\n          ></custom-templates-variables-definition-field>\n\n          \x3c!-- !repository --\x3e\n          <por-access-control-form form-data="$ctrl.formValues.AccessControlData"></por-access-control-form>\n\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm !ml-0"\n                ng-disabled="$ctrl.state.actionInProgress || customTemplateForm.$invalid\n              || ($ctrl.state.Method === \'editor\' && !$ctrl.formValues.FileContent)\n              || ($ctrl.state.Method === \'upload\' && !$ctrl.formValues.File)\n              || ($ctrl.state.Method === \'repository\' && ((!$ctrl.formValues.RepositoryURL || !$ctrl.formValues.ComposeFilePathInRepository) || ($ctrl.formValues.RepositoryAuthentication && (!$ctrl.formValues.RepositoryUsername || !$ctrl.formValues.RepositoryPassword))))\n              || !$ctrl.formValues.Title\n              || !$ctrl.state.isTemplateValid"\n                ng-click="$ctrl.createCustomTemplate()"\n                button-spinner="$ctrl.state.actionInProgress"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress">Create custom template</span>\n                <span ng-show="$ctrl.state.actionInProgress">Creation in progress...</span>\n              </button>\n              <span class="text-danger space-left" ng-if="$ctrl.state.formValidationError">\n                {{ $ctrl.state.formValidationError }}\n              </span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},4662:function(e){var t="app/portainer/views/custom-templates/custom-templates-view/customTemplatesView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Custom Templates\'" breadcrumbs="[\'Custom Templates\']" reload="true"> </page-header>\n\n<div class="row">\n  <stack-from-template-form\n    ng-if="$ctrl.state.selectedTemplate"\n    template="$ctrl.state.selectedTemplate"\n    form-values="$ctrl.formValues"\n    name-regex="$ctrl.state.templateNameRegex"\n    state="$ctrl.state"\n    create-template="$ctrl.createStack"\n    unselect-template="$ctrl.unselectTemplate"\n  >\n    <advanced-form>\n      <custom-templates-variables-field\n        ng-if="$ctrl.isTemplateVariablesEnabled"\n        definitions="$ctrl.state.selectedTemplate.Variables"\n        value="$ctrl.formValues.variables"\n        on-change="($ctrl.onChangeTemplateVariables)"\n      ></custom-templates-variables-field>\n\n      <div class="form-group">\n        <div class="col-sm-12">\n          <a class="small interactive vertical-center" ng-show="!$ctrl.state.showAdvancedOptions" ng-click="$ctrl.state.showAdvancedOptions = true;">\n            <pr-icon icon="\'plus\'" class-name="space-right" feather="true"></pr-icon> Customize stack\n          </a>\n          <a class="small interactive vertical-center" ng-show="$ctrl.state.showAdvancedOptions" ng-click="$ctrl.state.showAdvancedOptions = false;">\n            <pr-icon icon="\'minus\'" class-name="space-right" feather="true"></pr-icon> Hide custom stack\n          </a>\n        </div>\n      </div>\n      \x3c!-- web-editor --\x3e\n      <web-editor-form\n        ng-if="$ctrl.state.showAdvancedOptions"\n        identifier="custom-template-creation-editor"\n        value="$ctrl.formValues.fileContent"\n        on-change="($ctrl.editorUpdate)"\n        ng-required="true"\n        yml="true"\n        placeholder="# Define or paste the content of your docker compose file here"\n      >\n        <editor-description>\n          <span class="col-sm-12 text-muted">\n            You can get more information about Compose file format in the\n            <a href="https://docs.docker.com/compose/compose-file/" target="_blank"> official documentation </a>\n            .\n          </span>\n        </editor-description>\n      </web-editor-form>\n      \x3c!-- !web-editor --\x3e\n    </advanced-form>\n  </stack-from-template-form>\n</div>\n<div class="row">\n  <div class="col-sm-12">\n    <custom-templates-list\n      ng-if="$ctrl.templates"\n      title-text="Templates"\n      title-icon="edit"\n      templates="$ctrl.templates"\n      table-key="customTemplates"\n      create-path="docker.templates.custom.new"\n      edit-path="docker.templates.custom.edit"\n      is-edit-allowed="$ctrl.isEditAllowed"\n      on-select-click="($ctrl.selectTemplate)"\n      on-delete-click="($ctrl.confirmDelete)"\n    ></custom-templates-list>\n  </div>\n</div>\n')}]),e.exports=t},63928:function(e){var t="app/portainer/views/custom-templates/edit-custom-template-view/editCustomTemplateView.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Edit Custom Template\'" breadcrumbs="[{label:\'Custom templates\', link:\'docker.templates.custom\'}, $ctrl.formValues.Title]" reload="true"> </page-header>\n\n<div class="row" ng-if="$ctrl.formValues">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="customTemplateForm">\n          <custom-template-common-fields form-values="$ctrl.formValues" show-platform-field="true" show-type-field="true"></custom-template-common-fields>\n\n          \x3c!-- web-editor --\x3e\n          <web-editor-form\n            identifier="custom-template-creation-editor"\n            value="$ctrl.formValues.FileContent"\n            on-change="($ctrl.editorUpdate)"\n            ng-required="true"\n            yml="true"\n            placeholder="# Define or paste the content of your docker compose file here"\n          >\n            <editor-description>\n              <span class="col-sm-12 text-muted">\n                You can get more information about Compose file format in the\n                <a href="https://docs.docker.com/compose/compose-file/" target="_blank"> official documentation </a>\n                .\n              </span>\n            </editor-description>\n          </web-editor-form>\n          \x3c!-- !web-editor --\x3e\n\n          <div class="form-group" ng-if="!$ctrl.state.isTemplateValid">\n            <div class="col-sm-12">\n              <div class="small text-warning">\n                <pr-icon icon="\'alert-triangle\'" feather="true" class-name="space-right"></pr-icon>\n                Template is invalid.\n              </div>\n            </div>\n          </div>\n\n          <custom-templates-variables-definition-field\n            ng-if="$ctrl.isTemplateVariablesEnabled"\n            value="$ctrl.formValues.Variables"\n            on-change="($ctrl.onVariablesChange)"\n            is-variables-names-from-parent="true"\n          ></custom-templates-variables-definition-field>\n\n          <por-access-control-form form-data="$ctrl.formValues.AccessControlData" resource-control="$ctrl.formValues.ResourceControl"></por-access-control-form>\n\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm !ml-0"\n                ng-disabled="$ctrl.actionInProgress || customTemplateForm.$invalid\n                  || !$ctrl.formValues.Title\n                  || !$ctrl.formValues.FileContent\n                  || !$ctrl.state.isTemplateValid\n                  "\n                ng-click="$ctrl.submitAction()"\n                button-spinner="$ctrl.actionInProgress"\n              >\n                <span ng-hide="$ctrl.actionInProgress">Update the template</span>\n                <span ng-show="$ctrl.actionInProgress">Update in progress...</span>\n              </button>\n              <span class="text-danger space-left" ng-if="$ctrl.state.formValidationError">\n                {{ $ctrl.state.formValidationError }}\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},62833:function(e){var t="app/portainer/views/devices/import/importDevice.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'FDO Device Configuration\'" breadcrumbs="[{label:\'Environments\', link:\'portainer.endpoints\'}, \'Import FDO Device\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-magic" title-text="Import Device Set up"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" name="fdoForm">\n          \x3c!-- info --\x3e\n          <span class="small">\n            <p class="text-muted" style="margin-top: 10px">\n              <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n              You are setting up a Portainer Edge Agent that will initiate the communications with the Portainer instance and your FDO Devices.\n            </p>\n          </span>\n          \x3c!-- !info --\x3e\n          \x3c!-- import voucher --\x3e\n          <div class="col-sm-12 form-section-title"> Import Voucher </div>\n          <div>\n            <div class="form-group" ng-show="!state.vouchersUploaded">\n              <span class="small col-sm-12">\n                <p class="text-muted" style="margin-top: 10px">\n                  <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                  Import one or more Manufacturer\'s Ownership Vouchers to initiate device attestation\n                </p>\n              </span>\n              <div class="col-sm-8">\n                <button\n                  style="margin-left: 0px !important"\n                  class="btn btn-sm btn-primary"\n                  ngf-select="onVoucherFilesChange()"\n                  ng-model="formValues.VoucherFiles"\n                  name="VoucherFiles"\n                  ng-disabled="state.vouchersUploading"\n                  button-spinner="state.vouchersUploading"\n                  multiple\n                >\n                  <span ng-hide="state.vouchersUploading">Upload <i class="fa fa-upload" aria-hidden="true" style="margin-left: 5px"></i></span>\n                  <span ng-show="state.vouchersUploading">Uploading Voucher...</span>\n                </button>\n              </div>\n            </div>\n            <div class="form-group" ng-show="state.vouchersUploading">\n              <div class="col-sm-12 small text-success">\n                <p>Connecting to the Owner service...</p>\n              </div>\n            </div>\n            <div class="form-group" ng-show="state.vouchersUploaded">\n              <div class="col-sm-12">\n                <p>Ownership Voucher Uploaded <i class="fa fa-check green-icon" aria-hidden="true" style="margin-left: 5px"></i></p>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !import voucher --\x3e\n          \x3c!-- device details --\x3e\n          <div class="col-sm-12 form-section-title"> Device details </div>\n          <div>\n            <span class="small">\n              <p class="text-muted" style="margin-top: 10px">\n                <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                Device name will serve as your reference name in Portainer\n              </p>\n            </span>\n            \x3c!-- device name input --\x3e\n            <div class="form-group">\n              <label for="device_name" class="col-sm-3 col-lg-2 control-label text-left">Device Name</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="device_name"\n                  placeholder="e.g. FDO-Test01"\n                  ng-model="formValues.DeviceName"\n                  ng-required="state.vouchersUploaded"\n                  ng-disabled="!state.vouchersUploaded"\n                  auto-focus\n                  data-cy="deviceImport-deviceNameInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="fdoForm.device_name.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="fdoForm.device_name.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field is required.</p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !device name input --\x3e\n            \x3c!-- suffix input --\x3e\n            <span class="small">\n              <p class="text-muted" style="margin-top: 10px">\n                <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                Suffix starting number will be appended to the end of the Device name, if initiating multiple devices this will be incrementally increased\n              </p>\n            </span>\n            <div class="form-group">\n              <label for="suffix" class="col-sm-3 col-lg-2 control-label text-left"> Suffix starting number </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="suffix"\n                  ng-model="formValues.Suffix"\n                  ng-required="state.vouchersUploaded"\n                  ng-disabled="!state.vouchersUploaded"\n                  ng-pattern="/^[0-9]+$/"\n                  placeholder="1"\n                  required\n                  data-cy="deviceImport-suffixInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="fdoForm.suffix.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="fdoForm.suffix.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field is required.</p>\n                  <p ng-message="pattern"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field needs to be a positive integer number.</p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !suffix input --\x3e\n            \x3c!-- portainer-instance-input --\x3e\n            <div class="form-group">\n              <label for="endpoint_url" class="col-sm-3 col-lg-2 control-label text-left">\n                Portainer server URL\n                <portainer-tooltip message="\'URL of the Portainer instance that the agent will use to initiate the communications.\'"></portainer-tooltip>\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  name="endpoint_url"\n                  ng-model="formValues.PortainerURL"\n                  ng-required="state.vouchersUploaded"\n                  ng-disabled="!state.vouchersUploaded"\n                  placeholder="e.g. https://10.0.0.10:9443"\n                  required\n                  data-cy="deviceImport-portainerServerUrlInput"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="fdoForm.endpoint_url.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="fdoForm.endpoint_url.$error">\n                  <p ng-message="required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> This field is required.</p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !portainer-instance-input --\x3e\n          </div>\n          \x3c!-- device profile input --\x3e\n          <div class="form-group">\n            <label for="device_profile" class="col-sm-3 col-lg-2 control-label text-left">Device Profile</label>\n            <div class="col-sm-9 col-lg-10">\n              <select id="device_profile" ng-model="formValues.DeviceProfile" class="form-control" ng-required="state.vouchersUploaded" ng-disabled="!state.vouchersUploaded">\n                <option selected disabled hidden value="">Select a profile for your device</option>\n                <option ng-repeat="profile in profiles | orderBy: \'name\'" ng-value="profile.id">{{ profile.name }}</option>\n              </select>\n            </div>\n          </div>\n          \x3c!-- !device profile input --\x3e\n          \x3c!-- !device details --\x3e\n          \x3c!-- tags --\x3e\n          <div class="col-sm-12 form-section-title"> Set up Tags </div>\n          <div>\n            <span class="small">\n              <p class="text-muted" style="margin-top: 10px">\n                <i class="fa fa-exclamation-circle blue-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                This is just an option if your device is under a certain group\n              </p>\n            </span>\n            \x3c!-- group --\x3e\n            <div class="form-group">\n              <label for="device_group" class="col-sm-3 col-lg-2 control-label text-left"> Group </label>\n              <div class="col-sm-9 col-lg-10">\n                <select\n                  class="form-control"\n                  ng-options="group.Id as group.Name for group in groups"\n                  ng-model="formValues.GroupId"\n                  id="device_group"\n                  ng-required="state.vouchersUploaded"\n                  ng-disabled="!state.vouchersUploaded"\n                  data-cy="deviceImport-deviceGroup"\n                ></select>\n              </div>\n            </div>\n            \x3c!-- !group --\x3e\n\n            <tag-selector ng-if="formValues" value="formValues.TagIds" allow-create="state.allowCreateTag" on-change="(onChangeTags)"> </tag-selector>\n\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-click="createEndpointAndConfigureDevice()"\n                  ng-disabled="state.actionInProgress || !state.vouchersUploaded || !fdoForm.$valid"\n                  button-spinner="state.actionInProgress"\n                  data-cy="deviceImport-saveDeviceButton"\n                >\n                  <span ng-hide="state.actionInProgress">Save Configuration</span>\n                  <span ng-show="state.actionInProgress">Saving...</span>\n                </button>\n                <a type="button" class="btn btn-default btn-sm" ui-sref="portainer.endpoints">Cancel</a>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},64306:function(e){var t="app/portainer/views/devices/profiles/add/addProfile.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create profile\'" breadcrumbs="[{label:\'Settings\', link:\'portainer.settings\'}, \'Edge Compute\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="createProfileForm">\n          \x3c!-- name-input --\x3e\n          <div class="col-sm-12 form-section-title">Device Profile Details </div>\n          <div class="form-group">\n            <label for="stack_name" class="col-sm-1 control-label text-left">Name</label>\n            <div class="col-sm-11">\n              <input type="text" class="form-control" ng-model="formValues.name" id="profile_name" name="profile_name" placeholder="e.g. myprofile" auto-focus />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- build-method --\x3e\n          <div class="col-sm-12 form-section-title"> Profile configuration </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <div class="boxselector_wrapper">\n                <div>\n                  <input type="radio" id="method_editor" ng-model="state.method" value="editor" />\n                  <label for="method_editor">\n                    <div class="boxselector_header">\n                      <pr-icon icon="\'edit\'" feather="true"></pr-icon>\n                      Web editor\n                    </div>\n                    <p>Use our Web editor</p>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !build-method --\x3e\n\n          <web-editor-form\n            ng-if="state.method === \'editor\'"\n            identifier="profile-creation-editor"\n            value="formValues.profileFileContent"\n            on-change="(onChangeFileContent)"\n            ng-required="true"\n            placeholder="#"\n          >\n          </web-editor-form>\n\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <a type="button" class="btn btn-default btn-sm" ui-sref="portainer.settings.edgeCompute">Cancel</a>\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress\n              || !createProfileForm.$valid\n              || !formValues.profileFileContent\n              || !formValues.name"\n                ng-click="createProfileAsync()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Save Profile</span>\n                <span ng-show="state.actionInProgress">Saving...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},71149:function(e){var t="app/portainer/views/devices/profiles/edit/editProfile.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Edit profile\'" breadcrumbs="[{label:\'Settings\', link:\'portainer.settings\'}, \'Edge Compute\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="editProfileForm">\n          \x3c!-- name-input --\x3e\n          <div class="col-sm-12 form-section-title">Device Profile Details </div>\n          <div class="form-group">\n            <label for="stack_name" class="col-sm-1 control-label text-left">Name</label>\n            <div class="col-sm-11">\n              <input type="text" class="form-control" ng-model="formValues.name" id="profile_name" name="profile_name" placeholder="e.g. myprofile" auto-focus />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- build-method --\x3e\n          <div class="col-sm-12 form-section-title"> Profile configuration </div>\n          <div class="form-group"></div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <div class="boxselector_wrapper">\n                <div>\n                  <input type="radio" id="method_editor" ng-model="state.method" value="editor" />\n                  <label for="method_editor">\n                    <div class="boxselector_header">\n                      <pr-icon icon="\'edit\'" feather="true"></pr-icon>\n                      Web editor\n                    </div>\n                    <p>Use our Web editor</p>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !build-method --\x3e\n\n          <web-editor-form\n            ng-if="state.method === \'editor\'"\n            identifier="profile-creation-editor"\n            value="formValues.profileFileContent"\n            on-change="(onChangeFileContent)"\n            ng-required="true"\n            placeholder="#"\n          >\n          </web-editor-form>\n\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <a type="button" class="btn btn-default btn-sm" ui-sref="portainer.settings.edgeCompute">Cancel</a>\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress\n              || !editProfileForm.$valid\n              || !formValues.profileFileContent\n              || !formValues.name"\n                ng-click="updateProfileAsync()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Update Profile</span>\n                <span ng-show="state.actionInProgress">Saving...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},56058:function(e){var t="app/portainer/views/endpoint-registries/registries.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Environment registries\'" breadcrumbs="[\'Registry management\']" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <registries-datatable\n      title-text="Registries"\n      title-icon="radio"\n      dataset="$ctrl.registries"\n      table-key="endpointRegistries"\n      order-by="Name"\n      endpoint-type="$ctrl.endpointType"\n      can-manage-access="$ctrl.canManageAccess"\n      can-browse="$ctrl.canBrowse"\n    ></registries-datatable>\n  </div>\n</div>\n')}]),e.exports=t},11813:function(e){var t="app/portainer/views/endpoints/access/endpointAccess.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Environment access\'"\n  breadcrumbs="[\n    { label:\'Environments\', link:\'portainer.endpoints\' },\n    {\n      label:ctrl.endpoint.Name,\n      link: \'portainer.endpoints.endpoint\',\n      linkParams:{id: ctrl.endpoint.Id}\n    }, \'Access management\']"\n>\n</page-header>\n\n<div class="row" ng-if="ctrl.endpoint">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="hard-drive" feather-icon="true" title-text="Environment"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Name</td>\n              <td>\n                {{ ctrl.endpoint.Name }}\n              </td>\n            </tr>\n            <tr>\n              <td>URL</td>\n              <td>\n                {{ ctrl.endpoint.URL | stripprotocol }}\n              </td>\n            </tr>\n            <tr>\n              <td>Group</td>\n              <td>\n                <a ui-sref="portainer.groups.group({ id: ctrl.group.Id })">{{ ctrl.group.Name }}</a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<por-access-management\n  ng-if="ctrl.endpoint && ctrl.group"\n  access-controlled-entity="ctrl.endpoint"\n  action-in-progress="ctrl.state.actionInProgress"\n  entity-type="endpoint"\n  inherit-from="ctrl.group"\n  update-access="ctrl.updateAccess"\n  limited-feature="ctrl.limitedFeature"\n>\n</por-access-management>\n')}]),e.exports=t},32072:function(e){var t="app/portainer/views/endpoints/edit/endpoint.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header ng-if="endpoint" title="\'Environment details\'" breadcrumbs="[{label:\'Environments\', link:\'portainer.endpoints\'}, endpoint.Name]" reload="true"> </page-header>\n\n<div class="row">\n  <div ng-if="state.edgeEndpoint">\n    <information-panel ng-if="state.edgeAssociated" title-text="Edge information">\n      <span class="small text-muted">\n        <p class="vertical-center">\n          <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n          This Edge environment is associated to an Edge environment {{ state.kubernetesEndpoint ? \'(Kubernetes)\' : \'(Docker)\' }}.\n        </p>\n        <p>\n          Edge key: <code>{{ endpoint.EdgeKey }}</code>\n        </p>\n        <p>\n          Edge identifier: <code>{{ endpoint.EdgeID }}</code>\n        </p>\n        <p>\n          <button\n            type="button"\n            class="btn btn-primary btn-sm"\n            ng-disabled="state.actionInProgress"\n            ng-click="onDisassociateEndpoint()"\n            button-spinner="state.actionInProgress"\n            analytics-on\n            analytics-event="edge-endpoint-disassociate"\n            analytics-category="edge"\n          >\n            <span ng-hide="state.actionInProgress">Disassociate</span>\n          </button>\n        </p>\n      </span>\n    </information-panel>\n\n    <div class="col-sm-12" ng-if="!state.edgeAssociated">\n      <rd-widget>\n        <rd-widget-body>\n          <div class="col-sm-12 form-section-title">Deploy an agent</div>\n          <span class="small text-muted">\n            <p class="vertical-center">\n              <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n              Refer to the platform related command below to deploy the Edge agent in your remote cluster.\n            </p>\n            <p>\n              The agent will communicate with Portainer via <u>{{ edgeKeyDetails.instanceURL }}</u> and <u>tcp://{{ edgeKeyDetails.tunnelServerAddr }}</u>\n            </p>\n          </span>\n\n          <div class="col-sm-12 form-section-title"> Edge agent deployment script </div>\n          <edge-script-form\n            edge-info="{ key: endpoint.EdgeKey, id: endpoint.EdgeID }"\n            commands="state.edgeScriptCommands"\n            is-nomad-token-visible="state.showNomad"\n            hide-async-mode="!endpoint.IsEdgeDevice"\n          ></edge-script-form>\n\n          <span class="small text-muted">\n            <div class="col-sm-12 form-section-title" style="margin-top: 25px"> Join token </div>\n            <p class="vertical-center">\n              <pr-icon icon="\'alert-circle\'" mode="\'primary\'" feather="true"></pr-icon>\n              For those pre-staging the edge agent, use the following join token to associate the Edge agent with this environment.\n            </p>\n            <p> You can read more about pre-staging in the userguide available <a href="https://downloads.portainer.io/edge_agent_guide.pdf">here.</a> </p>\n            <div style="margin-top: 10px; overflow-wrap: break-word">\n              <code>\n                {{ endpoint.EdgeKey }}\n              </code>\n              <div class="mt-2">\n                <span class="btn btn-primary btn-sm" ng-click="copyEdgeAgentKey()">\n                  <pr-icon icon="\'copy\'" feather="true"></pr-icon>\n                  Copy token\n                </span>\n                <span id="copyNotificationEdgeKey" class="vertical-center" style="margin-left: 7px; display: none; color: #23ae89">\n                  <pr-icon icon="\'check\'" feather="true"></pr-icon>\n                  copied\n                </span>\n              </div>\n            </div>\n          </span>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n\n  <information-panel ng-if="state.kubernetesEndpoint && (!state.edgeEndpoint || state.edgeAssociated)" title-text="Kubernetes features configuration">\n    <span class="small text-muted vertical-center">\n      <pr-icon icon="\'tool\'" mode="\'primary\'" feather="true"></pr-icon>\n      You should configure the features available in this Kubernetes environment in the\n      <a ui-sref="kubernetes.cluster.setup({endpointId: endpoint.Id})">Kubernetes configuration</a> view.\n    </span>\n  </information-panel>\n</div>\n\n<div class="row mt-4">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="col-sm-12 form-section-title"> Configuration </div>\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="container_name" class="col-sm-3 col-lg-2 control-label text-left">Name</label>\n            <div class="col-sm-9 col-lg-10">\n              <input type="text" class="form-control" id="container_name" ng-model="endpoint.Name" placeholder="e.g. kubernetes-cluster01 / docker-prod01" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- endpoint-url-input --\x3e\n          <div class="form-group" ng-if="!state.edgeEndpoint">\n            <label for="endpoint_url" class="col-sm-3 col-lg-2 control-label text-left">\n              <span ng-if="!state.agentEndpoint">Environment URL</span>\n              <span ng-if="state.agentEndpoint">Environment address</span>\n              <portainer-tooltip\n                ng-if="!state.agentEndpoint"\n                message="\'URL or IP address of a Docker host. The Docker API must be exposed over a TCP port. Please refer to the Docker documentation to configure it.\'"\n              >\n              </portainer-tooltip>\n              <portainer-tooltip ng-if="state.agentEndpoint" message="\'The address for the Portainer agent in the format <HOST>:<PORT> or <IP>:<PORT>\'"> </portainer-tooltip>\n            </label>\n            <div class="col-sm-9 col-lg-10">\n              <input\n                ng-disabled="endpointType === \'local\' || state.azureEndpoint"\n                type="text"\n                class="form-control"\n                id="endpoint_url"\n                ng-model="endpoint.URL"\n                placeholder="e.g. 10.0.0.10:2375 or mydocker.mydomain.com:2375"\n              />\n            </div>\n          </div>\n          \x3c!-- !endpoint-url-input --\x3e\n          \x3c!-- endpoint-public-url-input --\x3e\n          <div class="form-group" ng-if="!state.azureEndpoint">\n            <label for="endpoint_public_url" class="col-sm-3 col-lg-2 control-label text-left">\n              Public IP\n              <portainer-tooltip message="\'URL or IP address where exposed containers will be reachable. This field is optional and will default to the environment URL.\'">\n              </portainer-tooltip>\n            </label>\n            <div class="col-sm-9 col-lg-10">\n              <input type="text" class="form-control" id="endpoint_public_url" ng-model="endpoint.PublicURL" placeholder="e.g. 10.0.0.10 or mydocker.mydomain.com" />\n            </div>\n          </div>\n\n          <div ng-if="endpoint && state.edgeEndpoint">\n            <div class="col-sm-12 form-section-title"> Check-in Intervals </div>\n            <edge-checkin-interval-field value="endpoint.EdgeCheckinInterval" on-change="(onChangeCheckInInterval)"></edge-checkin-interval-field>\n          </div>\n\n          \x3c!-- !endpoint-public-url-input --\x3e\n          <azure-endpoint-config\n            ng-if="state.azureEndpoint"\n            application-id="endpoint.AzureCredentials.ApplicationID"\n            tenant-id="endpoint.AzureCredentials.TenantID"\n            authentication-key="endpoint.AzureCredentials.AuthenticationKey"\n          ></azure-endpoint-config>\n          <div class="col-sm-12 form-section-title"> Metadata </div>\n          \x3c!-- group --\x3e\n          <div class="form-group">\n            <label for="endpoint_group" class="col-sm-3 col-lg-2 control-label text-left"> Group </label>\n            <div class="col-sm-9 col-lg-10">\n              <select ng-options="group.Id as group.Name for group in groups" ng-model="endpoint.GroupId" id="endpoint_group" class="form-control"></select>\n            </div>\n          </div>\n          \x3c!-- !group --\x3e\n\n          <tag-selector ng-if="endpoint" value="endpoint.TagIds" allow-create="state.allowCreate" on-change="(onChangeTags)"></tag-selector>\n\n          \x3c!-- endpoint-security --\x3e\n          <div ng-if="endpointType === \'remote\' && !state.azureEndpoint && !state.kubernetesEndpoint && !state.edgeEndpoint && endpoint.Type !== 6">\n            <div class="col-sm-12 form-section-title"> Security </div>\n            <por-endpoint-security form-data="formValues.SecurityFormData" endpoint="endpoint"></por-endpoint-security>\n          </div>\n          \x3c!-- !endpoint-security --\x3e\n          \x3c!-- open-amt info --\x3e\n          <div ng-if="state.showAMTInfo">\n            <div class="col-sm-12 form-section-title"> Open Active Management Technology </div>\n\n            <div class="form-group">\n              <label for="endpoint_managementinfoVersion" class="col-sm-3 col-lg-2 control-label text-left"> AMT Version </label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="text" ng-disabled="true" class="form-control" id="endpoint_managementinfoVersion" ng-model="endpoint.ManagementInfo[\'AMT\']" placeholder="Loading..." />\n              </div>\n            </div>\n\n            <div class="form-group">\n              <label for="endpoint_managementinfoUUID" class="col-sm-3 col-lg-2 control-label text-left"> UUID </label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="text" ng-disabled="true" class="form-control" id="endpoint_managementinfoUUID" ng-model="endpoint.ManagementInfo[\'UUID\']" placeholder="Loading..." />\n              </div>\n            </div>\n\n            <div class="form-group">\n              <label for="endpoint_managementinfoBuildNumber" class="col-sm-3 col-lg-2 control-label text-left"> Build Number </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  ng-disabled="true"\n                  class="form-control"\n                  id="endpoint_managementinfoBuildNumber"\n                  ng-model="endpoint.ManagementInfo[\'Build Number\']"\n                  placeholder="Loading..."\n                />\n              </div>\n            </div>\n\n            <div class="form-group">\n              <label for="endpoint_managementinfoControlMode" class="col-sm-3 col-lg-2 control-label text-left"> Control Mode </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  ng-disabled="true"\n                  class="form-control"\n                  id="endpoint_managementinfoControlMode"\n                  ng-model="endpoint.ManagementInfo[\'Control Mode\']"\n                  placeholder="Loading..."\n                />\n              </div>\n            </div>\n\n            <div class="form-group">\n              <label for="endpoint_managementinfoDNSSuffix" class="col-sm-3 col-lg-2 control-label text-left"> DNS Suffix </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  ng-disabled="true"\n                  class="form-control"\n                  id="endpoint_managementinfoDNSSuffix"\n                  ng-model="endpoint.ManagementInfo[\'DNS Suffix\']"\n                  placeholder="Loading..."\n                />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !open-amt info --\x3e\n          \x3c!-- gpus info --\x3e\n          <div class="col-sm-12 form-section-title">Hardware acceleration</div>\n          <gpus-list ng-if="endpoint && endpoint.Gpus" value="endpoint.Gpus" on-change="(onGpusChange)"></gpus-list>\n          \x3c!-- gpus info --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !endpoint.Name || !endpoint.URL || (endpoint.TLS && ((endpoint.TLSVerify && !formValues.TLSCACert) || (endpoint.TLSClientCert && (!formValues.TLSCert || !formValues.TLSKey))))"\n                ng-click="updateEndpoint()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Update environment</span>\n                <span ng-show="state.actionInProgress">Updating environment...</span>\n              </button>\n              <a type="button" class="btn btn-default btn-sm" ui-sref="portainer.endpoints">Cancel</a>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},77697:function(e){var t="app/portainer/views/endpoints/endpoints.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Environments\'" breadcrumbs="[\'Environment management\']" reload="true"> </page-header>\n\n<view-loading ng-if="$ctrl.state.loadingMessage" message="$ctrl.state.loadingMessage"></view-loading>\n\n<div class="row" ng-if="!$ctrl.state.loadingMessage">\n  <div class="col-sm-12">\n    <endpoints-datatable\n      title-text="Environments"\n      title-icon="hard-drive"\n      table-key="$ctrl.endpoints"\n      order-by="Name"\n      remove-action="$ctrl.removeAction"\n      retrieve-page="$ctrl.getPaginatedEndpoints"\n      set-loading-message="$ctr.setLoadingMessage"\n    ></endpoints-datatable>\n  </div>\n</div>\n')}]),e.exports=t},54658:function(e){var t="app/portainer/views/endpoints/kvm/endpointKVM.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'KVM Control\'"\n  breadcrumbs="[\n    { label:\'Environments\', link:\'portainer.endpoints\' },\n    { \n      label:$state.endpoint.Name,\n      link: \'portainer.endpoints.endpoint\', \n      linkParams:{id: $state.endpoint.Id}\n    }, \n    $state.deviceName,\n    \'KVM Control\']"\n>\n</page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <div class="datatable" ng-class="{ \'kvm-maximized\': $state.maximized }">\n      <rd-widget>\n        <rd-widget-body classes="no-padding">\n          <div class="toolBar">\n            <div class="toolBarTitle">KVM Control</div>\n            <i class="interactive fa fa-times fa-lg pull-right" aria-hidden="true" ui-sref="edge.devices"></i>\n            <i ng-click="maximize()" title="Maximize" class="interactive fa fa-window-maximize fa-lg pull-right" style="margin-right: 10px" aria-hidden="true"></i>\n            <i ng-click="minimize()" title="Minimize" class="interactive fa fa-window-minimize fa-lg pull-right" style="margin-right: 10px" aria-hidden="true"></i>\n          </div>\n          <div class="actionBar">\n            <kvm-control device-id="$state.deviceId" server="$state.mpsServer" token="$state.mpsToken"> </kvm-control>\n          </div>\n        </rd-widget-body>\n      </rd-widget>\n    </div>\n  </div>\n</div>\n')}]),e.exports=t},83178:function(e){var t="app/portainer/views/groups/access/groupAccess.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header\n  title="\'Environment group access\'"\n  breadcrumbs="[\n    { label:\'Groups\', link:\'portainer.groups\' },\n    { \n      label:group.Name,\n      link: \'portainer.groups.group\', \n      linkParams:{id: group.Id}\n    }, \'Access management\']"\n>\n</page-header>\n\n<div class="row" ng-if="group">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="fa-object-group" title-text="Group"></rd-widget-header>\n      <rd-widget-body classes="no-padding">\n        <table class="table">\n          <tbody>\n            <tr>\n              <td>Name</td>\n              <td>\n                {{ group.Name }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<por-access-management\n  ng-if="group"\n  access-controlled-entity="group"\n  entity-type="group"\n  action-in-progress="state.actionInProgress"\n  update-access="updateAccess"\n  limited-feature="limitedFeature"\n></por-access-management>\n')}]),e.exports=t},48508:function(e){var t="app/portainer/views/groups/create/creategroup.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create environment group\'" breadcrumbs="[{label:\'Environment groups\', link:\'portainer.groups\'}, \'Add group\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <group-form\n          loaded="loaded"\n          page-type="create"\n          model="model"\n          available-endpoints="availableEndpoints"\n          associated-endpoints="associatedEndpoints"\n          add-label-action="addLabel"\n          remove-label-action="removeLabel"\n          form-action="create"\n          form-action-label="Create the group"\n          action-in-progress="state.actionInProgress"\n        ></group-form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},55150:function(e){var t="app/portainer/views/groups/edit/group.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Environment group details\'" breadcrumbs="[{label:\'Groups\', link:\'portainer.groups\'}, group.Name]"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <group-form\n          loaded="loaded"\n          page-type="edit"\n          model="group"\n          available-endpoints="availableEndpoints"\n          associated-endpoints="associatedEndpoints"\n          add-label-action="addLabel"\n          remove-label-action="removeLabel"\n          form-action="update"\n          form-action-label="Update the group"\n          action-in-progress="state.actionInProgress"\n        ></group-form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},9391:function(e){var t="app/portainer/views/groups/groups.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Environment groups\'" breadcrumbs="[\'Environment group management\']" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <groups-datatable\n      title-text="Environment groups"\n      title-icon="svg-objectgroup"\n      dataset="groups"\n      table-key="groups"\n      order-by="Name"\n      remove-action="removeAction"\n    ></groups-datatable>\n  </div>\n</div>\n')}]),e.exports=t},45564:function(e,t,n){var r='<div class="page-wrapper">\n  \x3c!-- simple box --\x3e\n  <div class="container simple-box">\n    <div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1">\n      \x3c!-- simple box logo --\x3e\n      <div class="row">\n        <img ng-if="logo" ng-src="{{ logo }}" class="simple-box-logo" />\n        <img ng-if="!logo" src="'+n(325)+'" class="simple-box-logo" alt="Portainer" />\n      </div>\n      \x3c!-- !simple box logo --\x3e\n      \x3c!-- init password panel --\x3e\n      <div class="panel panel-default">\n        <div class="panel-body">\n          \x3c!-- toggle --\x3e\n          <div>\n            <a ng-click="togglePanel()" class="vertical-center">\n              <span>\n                <pr-icon icon="\'chevron-down\'" feather="true" ng-if="state.showInitPassword" size="\'lg\'" class-name="\'icon-primary\'"></pr-icon>\n                <pr-icon icon="\'chevron-right\'" feather="true" ng-if="!state.showInitPassword" size="\'lg\'" class-name="\'icon-primary\'"></pr-icon>\n              </span>\n              <span class="form-section-title">New Portainer installation</span>\n            </a>\n          </div>\n          \x3c!-- !toggle --\x3e\n\n          \x3c!-- init password form --\x3e\n          <form name="form" class="simple-box-form form-horizontal padding-top" ng-if="state.showInitPassword">\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted"> Please create the initial administrator user. </span>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            \x3c!-- username-input --\x3e\n            <div class="form-group">\n              <label for="username" class="col-sm-4 control-label text-left"> Username </label>\n              <div class="col-sm-8">\n                <input type="text" class="form-control" id="username" ng-model="formValues.Username" placeholder="e.g. admin" />\n              </div>\n            </div>\n            \x3c!-- !username-input --\x3e\n            \x3c!-- new-password-input --\x3e\n            <div class="form-group">\n              <label for="password" class="col-sm-4 control-label text-left">Password</label>\n              <div class="col-sm-8">\n                <input type="password" class="form-control" ng-model="formValues.Password" id="password" name="password" ng-minlength="requiredPasswordLength" auto-focus />\n              </div>\n            </div>\n            \x3c!-- !new-password-input --\x3e\n            \x3c!-- confirm-password-input --\x3e\n            <div class="form-group">\n              <label for="confirm_password" class="col-sm-4 control-label text-left">Confirm password</label>\n              <div class="col-sm-8">\n                <div class="input-group">\n                  <input type="password" class="form-control" ng-model="formValues.ConfirmPassword" id="confirm_password" />\n                  <span class="input-group-addon"\n                    ><i\n                      ng-class="\n                        { true: \'fa fa-check green-icon\', false: \'fa fa-times red-icon\' }[\n                          form.password.$viewValue !== \'\' && form.password.$viewValue === formValues.ConfirmPassword\n                        ]\n                      "\n                      aria-hidden="true"\n                    ></i\n                  ></span>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !confirm-password-input --\x3e\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-12 text-warning">\n                <p class="vertical-center">\n                  <pr-icon icon="\'alert-triangle\'" feather="true" mode="\'warning\'"></pr-icon>\n                  <span>The password must be at least {{ requiredPasswordLength }} characters long.</span>\n                  <pr-icon class="fa green-icon" icon="\'check\'" feather="true" ng-if="form.password.$valid && formValues.Password"></pr-icon>\n                </p>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="state.actionInProgress || form.$invalid || !formValues.Password || !formValues.ConfirmPassword ||  form.password.$viewValue !== formValues.ConfirmPassword"\n                  ng-click="createAdminUser()"\n                  button-spinner="state.actionInProgress"\n                >\n                  <span ng-hide="state.actionInProgress">Create user</span>\n                  <span ng-show="state.actionInProgress">Creating user...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n            \x3c!-- enableTelemetry--\x3e\n            <div class="form-group">\n              <div class="col-sm-12 vertical-center">\n                <input type="checkbox" name="toggle_enableTelemetry" ng-model="formValues.enableTelemetry" />\n                <span class="text-muted small"\n                  >Allow collection of anonymous statistics. You can find more information about this in our\n                  <a class="hyperlink" href="https://www.portainer.io/documentation/in-app-analytics-and-privacy-policy/" target="_blank">privacy policy</a>.</span\n                >\n              </div>\n            </div>\n            \x3c!-- !enableTelemetry--\x3e\n          </form>\n          \x3c!-- !init password form --\x3e\n        </div>\n      </div>\n      \x3c!-- !init password panel --\x3e\n\n      \x3c!-- restore backup panel --\x3e\n      <div class="panel panel-default">\n        <div class="panel-body">\n          \x3c!-- toggle --\x3e\n          <div>\n            <a ng-click="togglePanel()" data-cy="init-installPortainerFromBackup" class="vertical-center">\n              <span\n                ><pr-icon icon="\'chevron-down\'" feather="true" ng-if="state.showRestorePortainer" size="\'lg\'" class-name="\'icon-primary\'"></pr-icon>\n                <pr-icon icon="\'chevron-right\'" feather="true" ng-if="!state.showRestorePortainer" size="\'lg\'" class-name="\'icon-primary\'"></pr-icon\n              ></span>\n              <span class="form-section-title">Restore Portainer from backup</span>\n            </a>\n          </div>\n          \x3c!-- !toggle --\x3e\n\n          \x3c!-- restore form --\x3e\n          <form class="simple-box-form form-horizontal padding-top" ng-if="state.showRestorePortainer">\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-9">\n                <span class="small text-muted">\n                  This will restore the Portainer metadata which contains information about the environments, stacks and applications, as well as the configured users.\n                </span>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <div class="boxselector_wrapper">\n                  <div>\n                    <input type="radio" id="restore_file" checked="checked" />\n                    <label for="restore_file" data-cy="init-selectLocalFile">\n                      <div class="boxselector_header">\n                        <pr-icon icon="\'upload\'" feather="true"></pr-icon>\n                        Upload backup file\n                      </div>\n                      <p></p>\n                    </label>\n                  </div>\n                  <div>\n                    <input type="radio" id="restore_s3" disabled />\n                    <label for="restore_s3" class="boxselector_disabled">\n                      <div class="boxselector_header">\n                        <pr-icon icon="\'download\'" feather="true"></pr-icon>\n                        Retrieve from S3\n                      </div>\n                      <p\n                        >This feature is available in\n                        <a class="hyperlink" href="https://www.portainer.io/business-upsell?from=restore-s3-form" target="_blank"> Portainer Business Edition</a></p\n                      >\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted"> You can upload a backup file from your computer. </span>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            \x3c!-- select-file-input --\x3e\n            <div class="form-group">\n              <div class="col-sm-12 vertical-center">\n                <button\n                  class="btn btn-sm btn-primary"\n                  ngf-select\n                  accept=".gz,.encrypted"\n                  ngf-accept="\'application/x-tar,application/x-gzip\'"\n                  ng-model="formValues.BackupFile"\n                  auto-focus\n                  data-cy="init-selectBackupFileButton"\n                  >Select file</button\n                >\n                <span class="space-left vertical-center">\n                  {{ formValues.BackupFile.name }}\n                  <pr-icon icon="\'x-circle\'" class-name="\'icon-danger\'" feather="true" ng-if="!formValues.BackupFile"></pr-icon>\n                </span>\n              </div>\n            </div>\n            \x3c!-- !select-file-input --\x3e\n            \x3c!-- password-input --\x3e\n            <div class="form-group">\n              <label for="password" class="col-sm-3 control-label text-left">\n                Password\n                <portainer-tooltip\n                  message="\'If the backup is password protected, provide the password in order to extract the backup file, otherwise this field can be left empty.\'"\n                ></portainer-tooltip>\n              </label>\n              <div class="col-sm-4">\n                <input type="password" class="form-control" ng-model="formValues.Password" id="password" data-cy="init-backupPasswordInput" />\n              </div>\n            </div>\n            \x3c!-- !password-input --\x3e\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted"> You are about to restore Portainer from this backup. </span>\n              </div>\n              <div class="col-sm-12">\n                <span class="small text-muted"> After restoring has completed, please log in as a user that was known by the Portainer that was restored. </span>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="!formValues.BackupFile || state.backupInProgress"\n                  ng-click="uploadBackup()"\n                  button-spinner="state.backupInProgress"\n                  data-cy="init-restorePortainerButton"\n                >\n                  <span ng-hide="state.backupInProgress">Restore Portainer</span>\n                  <span ng-show="state.backupInProgress">Restoring Portainer...</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n          \x3c!-- !restore backup form --\x3e\n        </div>\n      </div>\n      \x3c!-- !restore backup panel --\x3e\n    </div>\n  </div>\n  \x3c!-- !simple box --\x3e\n</div>\n',a="app/portainer/views/init/admin/initAdmin.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(a,r)}]),e.exports=a},65535:function(e){var t="app/portainer/views/init/endpoint/includes/agent.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Information </div>\n<div class="form-group">\n  <div class="col-sm-12">\n    <span class="small">\n      <p class="text-primary"> Connect directly to a Portainer agent running inside a Docker or Kubernetes environment. </p>\n    </span>\n  </div>\n</div>\n<div class="col-sm-12 form-section-title"> Environment </div>\n\x3c!-- name-input --\x3e\n<div class="form-group">\n  <label for="endpoint_name" class="col-sm-4 col-lg-3 control-label text-left">Name</label>\n  <div class="col-sm-8 col-lg-9">\n    <input type="text" class="form-control" id="endpoint_name" ng-model="ctrl.formValues.Name" placeholder="e.g. prod-cluster-01" />\n  </div>\n</div>\n\x3c!-- !name-input --\x3e\n\x3c!-- endpoint-url-input --\x3e\n<div class="form-group">\n  <label for="endpoint_url" class="col-sm-4 col-lg-3 control-label text-left">\n    Agent URL\n    <portainer-tooltip message="\'URL or IP address of a Portainer agent.\'"> </portainer-tooltip>\n  </label>\n  <div class="col-sm-8 col-lg-9">\n    <input type="text" class="form-control" id="endpoint_url" ng-model="ctrl.formValues.URL" placeholder="e.g. 10.0.0.10:9001" />\n  </div>\n</div>\n\x3c!-- !endpoint-url-input --\x3e\n')}]),e.exports=t},31714:function(e){var t="app/portainer/views/init/endpoint/includes/localDocker.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Information </div>\n<div class="form-group">\n  <div class="col-sm-12">\n    <span class="small">\n      <p class="text-primary"> Manage the Docker environment where Portainer is running. </p>\n      <p class="text-muted">\n        <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n        Ensure that you have started the Portainer container with the following Docker flag:\n      </p>\n      <p class="text-muted"> <code>-v "/var/run/docker.sock:/var/run/docker.sock"</code> (Linux). </p>\n      <p class="text-muted"> or </p>\n      <p class="text-muted"> <code>-v \\\\.\\pipe\\docker_engine:\\\\.\\pipe\\docker_engine</code> (Windows). </p>\n    </span>\n  </div>\n</div>\n')}]),e.exports=t},6367:function(e){var t="app/portainer/views/init/endpoint/includes/localKubernetes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="col-sm-12 form-section-title"> Information </div>\n<div class="form-group">\n  <div class="col-sm-12">\n    <span class="small">\n      <p class="text-primary"> Manage the Kubernetes environment where Portainer is running. </p>\n    </span>\n  </div>\n</div>\n')}]),e.exports=t},86573:function(e,t,n){var r='<div class="page-wrapper">\n  \x3c!-- simple box --\x3e\n  <div class="container simple-box">\n    <div class="col-sm-12">\n      \x3c!-- simple box logo --\x3e\n      <div class="row">\n        <img ng-if="ctrl.logo" ng-src="{{ ctrl.logo }}" class="simple-box-logo" />\n        <img ng-if="!ctrl.logo" src="'+n(325)+'" class="simple-box-logo" alt="Portainer" />\n      </div>\n      \x3c!-- !simple box logo --\x3e\n      \x3c!-- init-environment panel --\x3e\n      <div class="panel panel-default">\n        <div class="panel-body">\n          \x3c!-- init-environment form --\x3e\n          <form class="simple-box-form form-horizontal">\n            \x3c!-- note --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <span class="small text-muted"> Connect Portainer to the container environment you want to manage. </span>\n              </div>\n            </div>\n            \x3c!-- !note --\x3e\n            \x3c!-- environment-type --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <div class="boxselector_wrapper">\n                  <div ng-repeat="type in ctrl.endpointSections">\n                    <input type="radio" id="{{ type.Id }}" ng-model="ctrl.formValues.ConnectionType" ng-value="type.Value" />\n                    <label for="{{ type.Id }}">\n                      <div class="boxselector_header">\n                        <i ng-class="type.Classes" aria-hidden="true" style="margin-right: 2px"></i>\n                        {{ type.Title }}\n                      </div>\n                      <p>{{ type.Description }}</p>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !environment-type  --\x3e\n            \x3c!-- environment-type-details --\x3e\n            <div ng-if="ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.DOCKER_LOCAL">\n              <ng-include src="\'app/portainer/views/init/endpoint/includes/localDocker.html\'"></ng-include>\n            </div>\n            <div ng-if="ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL">\n              <ng-include src="\'app/portainer/views/init/endpoint/includes/localKubernetes.html\'"></ng-include>\n            </div>\n            <div ng-if="ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.AGENT">\n              <ng-include src="\'app/portainer/views/init/endpoint/includes/agent.html\'"></ng-include>\n            </div>\n            \x3c!-- !environment-type-details --\x3e\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="ctrl.isConnectButtonDisabled()"\n                  ng-click="ctrl.createEndpoint()"\n                  button-spinner="ctrl.state.actionInProgress"\n                >\n                  <span ng-hide="ctrl.state.actionInProgress"><i class="fa fa-bolt" aria-hidden="true"></i> Connect</span>\n                  <span ng-show="ctrl.state.actionInProgress">Connecting...</span>\n                </button>\n                <button type="submit" class="btn btn-sm btn-default" ng-click="ctrl.skipEndpointCreation()" button-spinner="ctrl.state.actionInProgress">\n                  <span ng-hide="ctrl.state.actionInProgress"><i class="fa fa-share" aria-hidden="true"></i> Skip</span>\n                </button>\n              </div>\n            </div>\n            \x3c!-- !actions --\x3e\n          </form>\n          \x3c!-- !init-environment form --\x3e\n        </div>\n      </div>\n      \x3c!-- !init-environment panel --\x3e\n    </div>\n  </div>\n  \x3c!-- !simple box --\x3e\n</div>\n',a="app/portainer/views/init/endpoint/initEndpoint.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(a,r)}]),e.exports=a},94818:function(e,t,n){var r='<div class="page-wrapper">\n  \x3c!-- login box --\x3e\n  <div class="container simple-box">\n    <div class="col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3">\n      \x3c!-- login box logo --\x3e\n      <div class="row">\n        <img ng-if="!ctrl.logo" src="'+n(325)+'" class="simple-box-logo" alt="Portainer" />\n        <img ng-if="ctrl.logo" ng-src="{{ ctrl.logo }}" class="simple-box-logo" />\n      </div>\n      <div class="row text-center">\n        Logout in progress...\n        <i class="fa fa-cog fa-spin space-left"></i>\n      </div>\n    </div>\n  </div>\n</div>\n',a="app/portainer/views/logout/logout.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(a,r)}]),e.exports=a},83827:function(e){var t="app/portainer/views/registries/create/createRegistry.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create registry\'" breadcrumbs="[{label:\'Registries\', link:\'portainer.registries\'}, \'Add registry\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          <div class="col-sm-12 form-section-title"> Registry provider </div>\n\n          <box-selector radio-name="\'availableRegistry\'" value="$ctrl.state.registryValue" options="$ctrl.state.availableRegistry" on-change="($ctrl.setRegistry)"></box-selector>\n\n          <registry-form-quay\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.QUAY"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n            name-is-used="($ctrl.nameIsUsed)"\n          ></registry-form-quay>\n\n          <registry-form-azure\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.AZURE"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n            name-is-used="($ctrl.nameIsUsed)"\n          ></registry-form-azure>\n\n          <registry-form-custom\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.CUSTOM"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n            name-is-used="($ctrl.nameIsUsed)"\n          ></registry-form-custom>\n\n          <registry-form-ecr\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.ECR"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n            name-is-used="($ctrl.nameIsUsed)"\n          ></registry-form-ecr>\n\n          <registry-form-proget\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.PROGET"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n            name-is-used="($ctrl.nameIsUsed)"\n          ></registry-form-proget>\n\n          <registry-form-gitlab\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.GITLAB"\n            model="$ctrl.model"\n            retrieve-registries="$ctrl.retrieveGitlabRegistries"\n            create-registries="$ctrl.createGitlabRegistries"\n            projects="$ctrl.gitlabProjects"\n            state="$ctrl.state"\n            action-in-progress="$ctrl.state.actionInProgress"\n            reset-defaults="$ctrl.useDefaultGitlabConfiguration"\n          ></registry-form-gitlab>\n          <registry-form-dockerhub\n            ng-if="$ctrl.model.Type === $ctrl.RegistryTypes.DOCKERHUB"\n            model="$ctrl.model"\n            form-action="$ctrl.createRegistry"\n            form-action-label="Add registry"\n            action-in-progress="$ctrl.state.actionInProgress"\n            name-is-used="($ctrl.nameIsUsed)"\n          ></registry-form-dockerhub>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},2800:function(e){var t="app/portainer/views/registries/edit/registry.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Registry details\'" breadcrumbs="[{label:\'Registries\', link:\'portainer.registries\'}, $ctrl.registry.Name]"> </page-header>\n\n<div class="row" ng-if="!$ctrl.state.loading">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="editRegistry">\n          \x3c!-- provider --\x3e\n          <div class="form-group">\n            <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left">Provider</label>\n            <div class="col-sm-9 col-lg-10">\n              <input type="text" class="form-control" ng-model="$ctrl.provider" disabled />\n            </div>\n          </div>\n\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="registry_name" class="col-sm-3 col-lg-2 control-label text-left required">Name</label>\n            <div class="col-sm-9 col-lg-10">\n              <input\n                type="text"\n                class="form-control"\n                id="registry_name"\n                name="registry_name"\n                ng-model="$ctrl.registry.Name"\n                placeholder="e.g. my-registry"\n                ng-change="$ctrl.onChangeName()"\n                required\n              />\n            </div>\n          </div>\n          <div class="form-group" ng-show="$ctrl.state.nameAlreadyExists">\n            <div class="col-sm-12 small text-warning">\n              <div>\n                <p class="vertical-center">\n                  <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  A registry with the same name already exists.\n                </p>\n              </div>\n            </div>\n          </div>\n          <div class="form-group" ng-show="editRegistry.registry_name.$invalid">\n            <div class="col-sm-12 small text-warning">\n              <div ng-messages="editRegistry.registry_name.$error">\n                <p ng-message="required" class="vertical-center">\n                  <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  This field is required.\n                </p>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- registry-url-input --\x3e\n          <div class="form-group">\n            <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">\n              <span class="required">Registry URL</span>\n              <portainer-tooltip message="\'URL or IP address of a Docker registry. Any protocol or trailing slash will be stripped if present.\'"> </portainer-tooltip>\n            </label>\n            <div class="col-sm-9 col-lg-10">\n              <input\n                type="text"\n                class="form-control"\n                id="registry_url"\n                name="registry_url"\n                ng-model="$ctrl.registry.URL"\n                placeholder="e.g. 10.0.0.10:5000 or myregistry.domain.tld"\n                ng-disabled="$ctrl.registry.Type === $ctrl.RegistryTypes.DOCKERHUB || $ctrl.registry.Type === $ctrl.RegistryTypes.QUAY || $ctrl.registry.Type === $ctrl.RegistryTypes.GITLAB"\n                required\n              />\n            </div>\n          </div>\n          <div class="form-group" ng-show="editRegistry.registry_url.$invalid">\n            <div class="col-sm-12 small text-warning">\n              <div ng-messages="editRegistry.registry_url.$error">\n                <p ng-message="required" class="vertical-center">\n                  <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                  This field is required.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- base-url-input --\x3e\n          <div ng-if="$ctrl.registry.Type === $ctrl.RegistryTypes.PROGET">\n            <div class="form-group">\n              <label for="registry_base_url" class="col-sm-3 col-lg-2 control-label text-left">\n                <span class="required">Base URL</span>\n                <portainer-tooltip message="\'The base URL of the ProGet registry.\'"> </portainer-tooltip>\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  id="registry_base_url"\n                  name="registry_base_url"\n                  ng-model="$ctrl.registry.BaseURL"\n                  placeholder="e.g. 10.0.0.10:5000 or myregistry.domain.tld"\n                  required\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="editRegistry.registry_base_url.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="editRegistry.registry_base_url.$error">\n                  <p ng-message="required" class="vertical-center">\n                    <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                    This field is required.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !registry-url-input --\x3e\n\n          \x3c!-- authentication-checkbox --\x3e\n          <div\n            class="form-group"\n            ng-if="\n              $ctrl.registry.Type !== $ctrl.RegistryTypes.DOCKERHUB &&\n              $ctrl.registry.Type !== $ctrl.RegistryTypes.QUAY &&\n              $ctrl.registry.Type !== $ctrl.RegistryTypes.PROGET &&\n              $ctrl.registry.Type !== $ctrl.RegistryTypes.AZURE &&\n              $ctrl.registry.Type !== $ctrl.RegistryTypes.GITLAB\n            "\n          >\n            <label for="registry_auth" class="col-sm-3 col-lg-2 control-label text-left">\n              Authentication\n              <portainer-tooltip message="\'Enable this option if you need to specify credentials to connect to this registry.\'"> </portainer-tooltip>\n            </label>\n            <div class="col-sm-9 col-lg-10">\n              <por-switch-field checked="$ctrl.registry.Authentication" on-change="($ctrl.toggleAuthentication)" switch-values="{on:\'Yes\',off:\'No\'}"></por-switch-field>\n            </div>\n          </div>\n          \x3c!-- !authentication-checkbox --\x3e\n\n          \x3c!-- authentication-credentials --\x3e\n          <div ng-if="$ctrl.registry.Authentication">\n            \x3c!-- credentials-user --\x3e\n            <div class="form-group">\n              <label for="credentials_username" class="col-sm-3 col-lg-2 control-label text-left required">\n                {{ $ctrl.registry.Type === $ctrl.RegistryTypes.ECR ? \'AWS Access Key\' : \'Username\' }}\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input type="text" class="form-control" id="credentials_username" name="credentials_username" ng-model="$ctrl.registry.Username" required />\n              </div>\n            </div>\n            <div class="form-group" ng-show="editRegistry.credentials_username.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="editRegistry.credentials_username.$error">\n                  <p ng-message="required" class="vertical-center">\n                    <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                    This field is required.\n                  </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !credentials-user --\x3e\n            \x3c!-- credentials-password --\x3e\n            <div class="form-group">\n              <label for="credentials_password" class="col-sm-3 col-lg-2 control-label text-left">\n                {{ $ctrl.passwordLabel() }}\n              </label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="password"\n                  class="form-control"\n                  id="credentials_password"\n                  name="credentials_password"\n                  placeholder="*******"\n                  ng-model="$ctrl.Password"\n                  autocomplete="off"\n                />\n              </div>\n            </div>\n            <div class="form-group" ng-show="editRegistry.credentials_password.$invalid">\n              <div class="col-sm-12 small text-warning">\n                <div ng-messages="editRegistry.credentials_password.$error">\n                  <p ng-message="required" class="vertical-center">\n                    <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                    This field is required.\n                  </p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- region --\x3e\n            <div ng-if="$ctrl.registry.Type == $ctrl.RegistryTypes.ECR">\n              <div class="form-group">\n                <label for="registry_region" class="col-sm-3 col-lg-2 control-label text-left required">Region</label>\n                <div class="col-sm-9 col-lg-10">\n                  <input type="text" class="form-control" id="registry_region" name="registry_region" ng-model="$ctrl.registry.Ecr.Region" placeholder="us-west-1" required />\n                </div>\n              </div>\n              <div class="form-group" ng-show="editRegistry.registry_region.$invalid">\n                <div class="col-sm-12 small text-warning">\n                  <div ng-messages="editRegistry.registry_region.$error">\n                    <p ng-message="required" class="vertical-center">\n                      <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                      This field is required.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !region --\x3e\n            \x3c!-- !credentials-password --\x3e\n          </div>\n          \x3c!-- !authentication-credentials --\x3e\n\n          <div ng-if="$ctrl.registry.Type == $ctrl.RegistryTypes.QUAY">\n            \x3c!-- organisation-checkbox --\x3e\n            <div class="form-group">\n              <label class="col-sm-3 col-lg-2 control-label text-left"> Use organisation registry </label>\n              <div class="col-sm-9 col-lg-10">\n                <por-switch-field\n                  checked="$ctrl.registry.Quay.UseOrganisation"\n                  on-change="($ctrl.toggleQuayUseOrganisation)"\n                  switch-values="{on:\'Yes\',off:\'No\'}"\n                ></por-switch-field>\n              </div>\n            </div>\n            \x3c!-- !organisation-checkbox --\x3e\n            <div ng-if="$ctrl.registry.Quay.UseOrganisation">\n              \x3c!-- organisation_name --\x3e\n              <div class="form-group">\n                <label for="organisation_name" class="col-sm-3 col-lg-2 control-label text-left required">Organisation name</label>\n                <div class="col-sm-9 col-lg-10">\n                  <input type="text" class="form-control" id="organisation_name" name="organisation_name" ng-model="$ctrl.registry.Quay.OrganisationName" required />\n                </div>\n              </div>\n              <div class="form-group" ng-show="editRegistry.organisation_name.$invalid">\n                <div class="col-sm-12 small text-warning">\n                  <div ng-messages="editRegistry.organisation_name.$error">\n                    <p ng-message="required" class="vertical-center">\n                      <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                      This field is required.\n                    </p>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !organisation_name --\x3e\n            </div>\n          </div>\n\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="$ctrl.isUpdateButtonDisabled() || editRegistry.$invalid"\n                ng-click="$ctrl.updateRegistry()"\n                button-spinner="$ctrl.state.actionInProgress"\n              >\n                <span ng-hide="$ctrl.state.actionInProgress">Update registry</span>\n                <span ng-show="$ctrl.state.actionInProgress">Updating registry...</span>\n              </button>\n              <a type="button" class="btn btn-default btn-sm" ui-sref="portainer.registries">Cancel</a>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},68970:function(e){var t="app/portainer/views/registries/registries.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Registries\'" breadcrumbs="[\'Registry management\']" reload="true"> </page-header>\n\n<information-panel title-text="Information">\n  <span class="small text-muted"> View registries via an environment to manage access for user(s) and/or team(s) </span>\n</information-panel>\n\n<div class="row">\n  <div class="col-sm-12">\n    <registries-datatable\n      title-text="Registries"\n      title-icon="radio"\n      dataset="registries"\n      table-key="registries"\n      order-by="Name"\n      remove-action="removeAction"\n      can-browse="canBrowse"\n    ></registries-datatable>\n  </div>\n</div>\n')}]),e.exports=t},61233:function(e){var t="app/portainer/views/settings/authentication/settingsAuthentication.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Authentication settings\'" breadcrumbs="[{label:\'Settings\', link:\'portainer.settings\'}, \'Authentication\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="users" feather-icon="true" title-text="Authentication"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" name="authSettingsForm">\n          <div class="col-sm-12 form-section-title"> Configuration </div>\n          <div class="form-group">\n            <label for="user_timeout" class="col-sm-2 control-label text-left">\n              Session lifetime\n              <portainer-tooltip message="\'Time before users are forced to relogin.\'"></portainer-tooltip>\n            </label>\n            <div class="col-sm-10">\n              <select\n                id="user_timeout"\n                class="form-control"\n                ng-model="settings.UserSessionTimeout"\n                ng-options="opt.value as opt.key for opt in state.availableUserSessionTimeoutOptions"\n              ></select>\n            </div>\n          </div>\n          <div class="form-group">\n            <span class="col-sm-12 text-muted small vertical-center">\n              <pr-icon icon="\'alert-triangle\'" feather="true" class-name="\'icon-sm icon-yellow\'"></pr-icon>\n              Changing from default is only recommended if you have additional layers of authentication in front of Portainer.\n            </span>\n          </div>\n\n          <div class="col-sm-12 form-section-title"> Authentication method </div>\n\n          <box-selector radio-name="\'authOptions\'" value="authMethod" options="authOptions" on-change="(onChangeAuthMethod)"></box-selector>\n\n          <internal-auth\n            ng-if="authenticationMethodSelected(1)"\n            on-save-settings="(saveSettings)"\n            is-loading="state.actionInProgress"\n            value="settings.InternalAuthSettings"\n            on-change="(onChangePasswordLength)"\n          ></internal-auth>\n\n          <ldap-settings\n            ng-if="authenticationMethodSelected(2)"\n            settings="formValues.ldap.ldapSettings"\n            tlsca-cert="formValues.TLSCACert"\n            state="state"\n            connectivity-check="LDAPConnectivityCheck"\n            on-save-settings="(saveSettings)"\n            save-button-state="state.actionInProgress"\n            is-ldap-form-valid="isLDAPFormValid"\n          ></ldap-settings>\n\n          <ad-settings\n            ng-if="authenticationMethodSelected(4)"\n            settings="formValues.ldap.adSettings"\n            tlsca-cert="formValues.TLSCACert"\n            state="state"\n            connectivity-check="LDAPConnectivityCheck"\n            on-save-settings="(saveSettings)"\n            save-button-state="state.actionInProgress"\n            is-ldap-form-valid="isLDAPFormValid()"\n          ></ad-settings>\n\n          <oauth-settings\n            ng-if="authenticationMethodSelected(3)"\n            settings="OAuthSettings"\n            teams="teams"\n            on-save-settings="(saveSettings)"\n            save-button-state="state.actionInProgress"\n          ></oauth-settings>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},93149:function(e){var t="app/portainer/views/settings/edge-compute/settingsEdgeCompute.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Settings\'" breadcrumbs="[{label:\'Settings\', link:\'portainer.settings\'}, \'Edge Compute\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12" ng-if="$ctrl.settings">\n    <settings-edge-compute on-submit="($ctrl.onSubmitEdgeCompute)" settings="($ctrl.settings)"></settings-edge-compute>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12" ng-if="$ctrl.settings">\n    <settings-open-amt on-submit="($ctrl.onSubmitOpenAMT)" settings="($ctrl.settings)"></settings-open-amt>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12" ng-if="$ctrl.settings">\n    <settings-fdo on-submit="($ctrl.onSubmitFDO)" settings="($ctrl.settings)"></settings-fdo>\n  </div>\n</div>\n')}]),e.exports=t},12811:function(e){var t="app/portainer/views/settings/settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Settings\'" breadcrumbs="[\'Settings\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="settings" feather-icon="true" title-text="Application settings"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal">\n          \x3c!-- snapshot-interval --\x3e\n          <div class="form-group">\n            <label for="snapshot_interval" class="col-sm-2 control-label text-left">Snapshot interval</label>\n            <div class="col-sm-8">\n              <input type="text" class="form-control" ng-model="settings.SnapshotInterval" id="snapshot_interval" placeholder="e.g. 15m" />\n            </div>\n          </div>\n          \x3c!-- !snapshot-interval --\x3e\n          \x3c!-- logo --\x3e\n          <div class="form-group">\n            <por-switch-field\n              label="\'Use custom logo\'"\n              checked="formValues.customLogo"\n              name="\'toggle_logo\'"\n              disabled="state.isDemo"\n              on-change="(onToggleCustomLogo)"\n              field-class="\'col-sm-12\'"\n              label-class="\'col-sm-2\'"\n            ></por-switch-field>\n            <div class="col-sm-12" ng-if="state.isDemo" style="margin-top: 10px">\n              <span class="small text-muted">You cannot use this feature in the demo version of Portainer.</span>\n            </div>\n          </div>\n\n          <div ng-if="formValues.customLogo">\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small"> You can specify the URL to your logo here. For an optimal display, logo dimensions should be 155px by 55px. </span>\n            </div>\n            <div class="form-group">\n              <label for="logo_url" class="col-sm-2 control-label text-left"> URL </label>\n              <div class="col-sm-8">\n                <input type="text" class="form-control" ng-model="settings.LogoURL" id="logo_url" placeholder="https://mycompany.com/logo.png" />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !logo --\x3e\n\n          <div class="form-group">\n            <por-switch-field\n              label="\'Allow the collection of anonymous statistics\'"\n              checked="formValues.enableTelemetry"\n              name="\'toggle_enableTelemetry\'"\n              on-change="(onToggleEnableTelemetry)"\n              disabled="state.isDemo"\n              field-class="\'col-sm-12\'"\n              label-class="\'col-sm-2\'"\n            ></por-switch-field>\n            <div class="col-sm-12" ng-if="state.isDemo" style="margin-top: 10px">\n              <span class="small text-muted">You cannot use this feature in the demo version of Portainer.</span>\n            </div>\n            <div class="col-sm-12 text-muted small" style="margin-top: 10px">\n              You can find more information about this in our\n              <a href="https://www.portainer.io/documentation/in-app-analytics-and-privacy-policy/" target="_blank">privacy policy</a>.\n            </div>\n          </div>\n\n          \x3c!-- login screen banner --\x3e\n          <div class="form-group">\n            <por-switch-field\n              label="\'Login screen banner\'"\n              name="\'toggle_login_banner\'"\n              feature-id="customBannerFeatureId"\n              checked="$formValues.customLoginBanner"\n              on-change="(onToggleCustomLoginBanner)"\n              field-class="\'col-sm-12\'"\n              label-class="\'col-sm-2\'"\n            ></por-switch-field>\n          </div>\n          \x3c!-- !login screen banner --\x3e\n\n          \x3c!-- templates --\x3e\n          <div class="col-sm-12 form-section-title"> App Templates </div>\n          <div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                You can specify the URL to your own template definitions file here. See\n                <a href="https://docs.portainer.io/advanced/app-templates/build" target="_blank">Portainer documentation</a> for more details.\n              </span>\n            </div>\n            <div class="form-group">\n              <label for="templates_url" class="col-sm-2 control-label text-left"> URL </label>\n              <div class="col-sm-8">\n                <input\n                  type="text"\n                  class="form-control"\n                  ng-model="settings.TemplatesURL"\n                  id="templates_url"\n                  placeholder="https://myserver.mydomain/templates.json"\n                  required\n                  data-cy="settings-templateUrl"\n                />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !templates --\x3e\n          \x3c!-- helm charts --\x3e\n          <div class="col-sm-12 form-section-title"> Helm Repository </div>\n          <div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small">\n                You can specify the URL to your own helm repository here. See the\n                <a href="https://helm.sh/docs/topics/chart_repository/" target="_blank">official documentation</a> for more details.\n              </span>\n            </div>\n            <div class="form-group">\n              <label for="helmrepository_url" class="col-sm-2 control-label text-left"> URL </label>\n              <div class="col-sm-8">\n                <input type="text" class="form-control" ng-model="settings.HelmRepositoryURL" id="helmrepository_url" placeholder="https://charts.bitnami.com/bitnami" />\n              </div>\n            </div>\n          </div>\n          \x3c!-- !helm charts --\x3e\n          \x3c!-- host-filesystem --\x3e\n          \x3c!-- kube --\x3e\n          <div class="col-sm-12 form-section-title"> Kubernetes </div>\n          <div class="form-group">\n            <label for="kubeconfig_expiry" class="col-sm-2 control-label text-left"> Kubeconfig expiry </label>\n            <div class="col-sm-8">\n              <select\n                id="kubeconfig_expiry"\n                class="form-control"\n                ng-model="settings.KubeconfigExpiry"\n                ng-options="opt.value as opt.key for opt in state.availableKubeconfigExpiryOptions"\n              ></select>\n            </div>\n          </div>\n          \x3c!-- ! kube  --\x3e\n          \x3c!-- actions --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-click="saveApplicationSettings()"\n                ng-disabled="state.actionInProgress || !settings.TemplatesURL"\n                button-spinner="state.actionInProgress"\n                data-cy="settings-saveSettingsButton"\n              >\n                <span ng-hide="state.actionInProgress">Save settings</span>\n                <span ng-show="state.actionInProgress">Saving...</span>\n              </button>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<ssl-certificate-settings ng-show="state.showHTTPS"></ssl-certificate-settings>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="box" feather-icon="true" title-text="Hidden containers"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" ng-submit="addFilteredContainerLabel()" name="addTagForm">\n          <div class="form-group">\n            <span class="col-sm-12 text-muted small"> You can hide containers with specific labels from Portainer UI. You need to specify the label name and value. </span>\n          </div>\n          <div class="form-group">\n            <label for="header_name" class="col-sm-1 control-label text-left">Name</label>\n            <div class="col-sm-11 col-md-4">\n              <input type="text" required class="form-control" id="header_name" name="label_name" ng-model="formValues.labelName" placeholder="e.g. com.example.foo" />\n            </div>\n            <label for="header_value" class="col-sm-1 control-label text-left">Value</label>\n            <div class="col-sm-11 col-md-4">\n              <input type="text" class="form-control" id="header_value" ng-model="formValues.labelValue" placeholder="e.g. bar" />\n            </div>\n            <div class="col-sm-12 col-md-2">\n              <button type="submit" class="btn btn-primary btn-sm" ng-disabled="!formValues.labelName"><i class="fa fa-plus space-right" aria-hidden="true"></i>Add filter</button>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12 table-responsive">\n              <table class="table table-hover">\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Value</th>\n                    <th></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="label in settings.BlackListedLabels">\n                    <td>{{ label.name }}</td>\n                    <td>{{ label.value }}</td>\n                    <td>\n                      <button type="button" class="btn btn-danger btn-xs" ng-click="removeFilteredContainerLabel($index)">\n                        <i class="fa fa-trash-alt space-right" aria-hidden="true"></i>Remove</button\n                      >\n                    </td>\n                  </tr>\n                  <tr ng-if="settings.BlackListedLabels.length === 0">\n                    <td colspan="3" class="text-center text-muted">No filter available.</td>\n                  </tr>\n                  <tr ng-if="!settings.BlackListedLabels">\n                    <td colspan="3" class="text-center text-muted">Loading...</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          \x3c!-- !filtered-labels --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="download" feather-icon="true" title-text="Backup Portainer"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" ng-submit="backupPortainer()" name="backupPortainerForm">\n          <div class="col-sm-12 form-section-title"> Backup configuration </div>\n\n          <box-selector options="backupOptions" value="formValues.backupFormType" on-change="(onBackupOptionsChange)" radio-name="\'backupOptions\'"></box-selector>\n\n          <div ng-if="formValues.backupFormType === BACKUP_FORM_TYPES.S3">\n            \x3c!-- Schedule automatic backups --\x3e\n            <div class="form-group mt-3">\n              <por-switch-field\n                label="\'Schedule automatic backups\'"\n                name="\'s3-backup-setting\'"\n                feature-id="s3BackupFeatureId"\n                checked="formValues.scheduleAutomaticBackups"\n                field-class="\'col-sm-12\'"\n                label-class="\'col-sm-2\'"\n                on-change="(onToggleAutoBackups)"\n              ></por-switch-field>\n            </div>\n            \x3c!-- !Schedule automatic backups --\x3e\n            \x3c!-- Cron rule  --\x3e\n            <div class="form-group" ng-if="formValues.scheduleAutomaticBackups">\n              <label for="cron_rule" class="col-sm-2 col-lg-2 control-label text-left">Cron rule</label>\n              <div class="col-sm-10 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  placeholder="0 2 * * *"\n                  id="cron_rule"\n                  name="cron_rule"\n                  ng-model="formValues.cronRule"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                  required\n                  cronRule\n                />\n              </div>\n            </div>\n            \x3c!-- !Cron rule  --\x3e\n            \x3c!-- Access key id  --\x3e\n            <div class="form-group">\n              <label for="access_key_id" class="col-sm-2 col-lg-2 control-label text-left">Access Key ID</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  id="access_key_id"\n                  name="access_key_id"\n                  ng-model="formValues.accessKeyId"\n                  ng-required="formValues.scheduleAutomaticBackups"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                />\n              </div>\n            </div>\n            \x3c!-- !Access key id  --\x3e\n            \x3c!-- Secret access key --\x3e\n            <div class="form-group">\n              <label for="secret_access_key" class="col-sm-3 col-lg-2 control-label text-left">Secret Access Key</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="password"\n                  class="form-control"\n                  id="secret_access_key"\n                  name="secret_access_key"\n                  ng-model="formValues.secretAccessKey"\n                  ng-required="formValues.scheduleAutomaticBackups"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                />\n              </div>\n            </div>\n            \x3c!-- !Secret access key --\x3e\n            \x3c!-- Region --\x3e\n            <div class="form-group">\n              <label for="region" class="col-sm-3 col-lg-2 control-label text-left">Region</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  placeholder="us-west-1"\n                  id="region"\n                  name="region"\n                  ng-model="formValues.region"\n                  ng-required="formValues.scheduleAutomaticBackups"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                />\n              </div>\n            </div>\n            \x3c!-- !Region --\x3e\n            \x3c!-- Bucket name --\x3e\n            <div class="form-group">\n              <label for="bucket_name" class="col-sm-3 col-lg-2 control-label text-left">Bucket name</label>\n              <div class="col-sm-9 col-lg-10">\n                <input\n                  type="text"\n                  class="form-control"\n                  id="bucket_name"\n                  name="bucket_name"\n                  ng-model="formValues.bucketName"\n                  ng-required="formValues.scheduleAutomaticBackups"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                />\n              </div>\n            </div>\n            \x3c!-- !Bucket name --\x3e\n            <div class="col-sm-12 form-section-title"> Security settings </div>\n            \x3c!-- Password protect S3 --\x3e\n            <div class="form-group">\n              <label for="password_protect" class="col-sm-2 control-label text-left">Password protect</label>\n              <div class="col-sm-8">\n                <label class="switch">\n                  <input\n                    type="checkbox"\n                    id="password_protect_s3"\n                    name="password_protect_s3"\n                    ng-model="formValues.passwordProtectS3"\n                    data-cy="settings-passwordProtectToggleS3"\n                    disabled\n                  /><span class="slider round"></span>\n                </label>\n              </div>\n            </div>\n            \x3c!-- !Password protect S3 --\x3e\n            \x3c!-- Password S3 --\x3e\n            <div class="form-group" ng-if="formValues.passwordProtectS3">\n              <label for="password" class="col-sm-2 control-label text-left">Password</label>\n              <div class="col-sm-3">\n                <input type="password" class="form-control" ng-model="formValues.passwordS3" id="password_S3" name="password_S3" required data-cy="settings-backups3pw" />\n              </div>\n            </div>\n            <div class="form-group col-md-12" ng-show="backupPortainerForm.password_S3.$invalid">\n              <div class="small text-warning">\n                <div ng-messages="backupPortainerForm.password_S3.$error">\n                  <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon> This field is required.</p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !Password S3 --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="backupPortainerForm.$invalid"\n                  ng-click="exportBackup()"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                >\n                  <span> <i class="fa fa-upload" aria-hidden="true"></i> Export backup</span>\n                </button>\n              </div>\n            </div>\n            <div class="form-group">\n              <hr />\n              <div class="col-sm-12">\n                <button\n                  type="submit"\n                  class="btn btn-primary btn-sm"\n                  ng-disabled="backupPortainerForm.$invalid ||state.backupInProgress"\n                  ng-click="saveS3BackupSettings()"\n                  limited-feature-dir="{{::s3BackupFeatureId}}"\n                  limited-feature-disabled\n                  limited-feature-class="limited-be"\n                >\n                  <span>Save backup settings</span>\n                </button>\n              </div>\n            </div>\n          </div>\n          <div ng-if="formValues.backupFormType === BACKUP_FORM_TYPES.FILE">\n            <div class="col-sm-12 form-section-title"> Security settings </div>\n            \x3c!-- Password protect --\x3e\n            <div class="form-group">\n              <label for="password_protect" class="col-sm-2 control-label text-left">Password protect</label>\n              <div class="col-sm-2">\n                <label class="switch" data-cy="settings-passwordProtectLocal">\n                  <input type="checkbox" id="password_protect" name="password_protect" ng-model="formValues.passwordProtect" /><span class="slider round"></span>\n                </label>\n              </div>\n            </div>\n            \x3c!-- !Password protect --\x3e\n\n            \x3c!-- Password --\x3e\n            <div class="form-group" ng-if="formValues.passwordProtect">\n              <label for="password" class="col-sm-2 control-label text-left">Password</label>\n              <div class="col-sm-3">\n                <input type="password" class="form-control" ng-model="formValues.password" id="password" name="password" required data-cy="settings-backupLocalPassword" />\n              </div>\n            </div>\n            <div class="form-group col-md-12" ng-show="backupPortainerForm.password.$invalid">\n              <div class="small text-warning">\n                <div ng-messages="backupPortainerForm.password.$error">\n                  <p ng-message="required"> <pr-icon icon="\'alert-triangle\'" feather="true"></pr-icon> This field is required.</p>\n                </div>\n              </div>\n            </div>\n            \x3c!-- !Password --\x3e\n\n            \x3c!-- actions --\x3e\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button\n                  type="button"\n                  class="btn btn-primary btn-sm"\n                  ng-click="downloadBackup()"\n                  ng-disabled="backupPortainerForm.$invalid || state.backupInProgress || state.featureLimited"\n                  button-spinner="state.backupInProgress"\n                  data-cy="settings-downloadLocalBackup"\n                >\n                  <span ng-hide="state.backupInProgress">Download backup</span>\n                  <span ng-show="state.backupInProgress">Downloading backup</span>\n                </button>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},24021:function(e){var t="app/portainer/views/stacks/create/createstack.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Create stack\'" breadcrumbs="[{label:\'Stacks\', link:\'docker.stacks\'}, \'Add stack\']"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <form class="form-horizontal" name="createStackForm">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="stack_name" class="col-sm-1 control-label text-left">Name</label>\n            <div class="col-sm-11">\n              <input\n                type="text"\n                class="form-control"\n                ng-model="formValues.Name"\n                id="stack_name"\n                name="stack_name"\n                placeholder="e.g. mystack"\n                auto-focus\n                ng-pattern="STACK_NAME_VALIDATION_REGEX"\n              />\n              <div class="help-block" ng-show="createStackForm.stack_name.$invalid">\n                <div class="small text-warning">\n                  <div ng-messages="createStackForm.stack_name.$error">\n                    <p ng-message="pattern">\n                      <span><pr-icon icon="\'alert-triangle\'" class-name="\'icon-sm icon-warning\'" feather="true"></pr-icon></span>\n                      This field must consist of lower case alphanumeric characters, \'_\' or \'-\' (e.g. \'my-name\', or \'abc-123\').\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="form-group">\n            <span class="col-sm-12 text-muted small" ng-if="state.StackType === 1">\n              This stack will be deployed using the equivalent of the <code>docker stack deploy</code> command.\n            </span>\n            <div class="col-sm-12 text-muted small" ng-if="state.StackType === 2 && composeSyntaxMaxVersion == 2">\n              <div style="margin-bottom: 7px">\n                This stack will be deployed using the equivalent of <code>docker compose</code>. Only Compose file format version <b>2</b> is supported at the moment.\n              </div>\n              <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n              Note: Due to a limitation of libcompose, the name of the stack will be standardized to remove all special characters and uppercase letters.\n            </div>\n            <span class="col-sm-12 text-muted small" ng-if="state.StackType === 2 && composeSyntaxMaxVersion > 2">\n              This stack will be deployed using <code>docker compose</code>.\n            </span>\n          </div>\n          \x3c!-- build-method --\x3e\n          <div class="col-sm-12 form-section-title"> Build method </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <div class="boxselector_wrapper">\n                <div>\n                  <input type="radio" id="method_editor" ng-model="state.Method" value="editor" />\n                  <label for="method_editor">\n                    <div class="boxselector_header">\n                      <pr-icon icon="\'edit\'" feather="true"></pr-icon>\n                      Web editor\n                    </div>\n                    <p>Use our Web editor</p>\n                  </label>\n                </div>\n                <div>\n                  <input type="radio" id="method_upload" ng-model="state.Method" value="upload" />\n                  <label for="method_upload">\n                    <div class="boxselector_header">\n                      <pr-icon icon="\'upload\'" feather="true"></pr-icon>\n                      Upload\n                    </div>\n                    <p>Upload from your computer</p>\n                  </label>\n                </div>\n                <div>\n                  <input type="radio" id="method_repository" ng-model="state.Method" value="repository" />\n                  <label for="method_repository">\n                    <div class="boxselector_header">\n                      <pr-icon icon="\'git-pull-request\'" feather="true"></pr-icon>\n                      Repository\n                    </div>\n                    <p>Use a git repository</p>\n                  </label>\n                </div>\n                <div>\n                  <input type="radio" id="method_template" ng-model="state.Method" value="template" />\n                  <label for="method_template">\n                    <div class="boxselector_header">\n                      <pr-icon icon="\'edit\'" feather="true"></pr-icon>\n                      Custom template\n                    </div>\n                    <p>Use a custom template</p>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !build-method --\x3e\n\n          \x3c!-- upload --\x3e\n          <div ng-show="state.Method === \'upload\'">\n            <div class="col-sm-12 form-section-title"> Upload </div>\n            <div class="form-group">\n              <span class="col-sm-12 text-muted small"> You can upload a Compose file from your computer. </span>\n              <div class="col-sm-12" ng-if="state.uploadYamlValidationError"\n                ><span class="text-danger small">{{ state.uploadYamlValidationError }}</span></div\n              >\n            </div>\n            <div class="form-group">\n              <div class="col-sm-12">\n                <button type="button" class="btn btn-sm btn-light" ngf-select="uploadFile($file)">\n                  <pr-icon icon="\'upload\'" feather="true"></pr-icon>\n                  Select file</button\n                >\n                <span style="margin-left: 5px">\n                  {{ formValues.StackFile.name }}\n                  <i class="fa fa-times red-icon" ng-if="!formValues.StackFile" aria-hidden="true"></i>\n                </span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !upload --\x3e\n          <git-form\n            ng-if="state.Method === \'repository\'"\n            model="formValues"\n            on-change="(onChangeFormValues)"\n            additional-file="true"\n            auto-update="true"\n            show-force-pull-image="true"\n            show-auth-explanation="true"\n            path-text-title="Compose path"\n            path-placeholder="docker-compose.yml"\n          ></git-form>\n\n          <div ng-show="state.Method === \'template\'">\n            <custom-template-selector\n              new-template-path="docker.templates.custom.new"\n              stack-type="state.StackType"\n              on-change="(onChangeTemplateId)"\n              value="state.selectedTemplateId"\n            ></custom-template-selector>\n\n            <custom-templates-variables-field\n              ng-if="isTemplateVariablesEnabled && state.selectedTemplate"\n              definitions="state.selectedTemplate.Variables"\n              value="formValues.Variables"\n              on-change="(onChangeTemplateVariables)"\n            ></custom-templates-variables-field>\n          </div>\n\n          <web-editor-form\n            ng-if="state.Method === \'editor\' || (state.Method === \'template\' && state.selectedTemplateId)"\n            identifier="stack-creation-editor"\n            value="formValues.StackFileContent"\n            on-change="(onChangeFileContent)"\n            ng-required="true"\n            yml="true"\n            placeholder="# Define or paste the content of your docker compose file here"\n          >\n            <editor-description>\n              <span class="col-sm-12 text-muted small">\n                You can get more information about Compose file format in the <a href="https://docs.docker.com/compose/compose-file/" target="_blank">official documentation</a>.\n              </span>\n              <div class="col-sm-12" ng-if="state.editorYamlValidationError">\n                <span class="text-danger small">{{ state.editorYamlValidationError }}</span>\n              </div>\n            </editor-description>\n          </web-editor-form>\n\n          <div ng-if="state.Method !== \'repository\' && isAdmin && applicationState.endpoint.type !== 4">\n            <div class="col-sm-12 form-section-title">\n              Webhooks\n              <por-switch-field\n                name="EnableWebhook"\n                checked="formValues.EnableWebhook"\n                label-class="\'col-sm-2\'"\n                tooltip="\'Create a webhook (or callback URI) to automate the update of this stack. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this stack.\'"\n                label="\'Create a Stack webhook\'"\n                on-change="(onEnableWebhookChange)"\n                feature-id="\'stack-webhook\'"\n              ></por-switch-field>\n            </div>\n          </div>\n\n          \x3c!-- environment-variables --\x3e\n          <environment-variables-panel ng-model="formValues.Env" explanation="These values will be used as substitutions in the stack file" on-change="(handleEnvVarChange)">\n          </environment-variables-panel>\n          \x3c!-- !environment-variables --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- actions --\x3e\n          <div class="col-sm-12 form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress\n              || !createStackForm.$valid\n              || ((state.Method === \'editor\' || state.Method === \'template\') && (!formValues.StackFileContent || state.editorYamlValidationError))\n              || (state.Method === \'upload\' && (!formValues.StackFile || state.uploadYamlValidationError))\n              || (state.Method === \'repository\' && ((!formValues.RepositoryURL || !formValues.ComposeFilePathInRepository) || (formValues.RepositoryAuthentication && !formValues.RepositoryPassword)))\n              || !formValues.Name"\n                ng-click="deployStack()"\n                button-spinner="state.actionInProgress"\n                analytics-on\n                analytics-category="docker"\n                analytics-event="docker-stack-create"\n                analytics-properties="buildAnalyticsProperties()"\n              >\n                <span ng-hide="state.actionInProgress">Deploy the stack</span>\n                <span ng-show="state.actionInProgress">Deployment in progress...</span>\n              </button>\n              <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},68156:function(e){var t="app/portainer/views/stacks/edit/stack.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Stack details\'" breadcrumbs="[{label:\'Stacks\', link:\'docker.stacks\'}, stackName]" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-body>\n        <uib-tabset active="state.activeTab">\n          \x3c!-- tab-info --\x3e\n          <uib-tab index="0">\n            <uib-tab-heading> <i class="fa fa-th-list" aria-hidden="true"></i> Stack </uib-tab-heading>\n            <div style="margin-top: 10px">\n              \x3c!-- stack-information --\x3e\n              <div ng-if="external || orphaned">\n                <div class="col-sm-12 form-section-title"> Information </div>\n                <div class="form-group">\n                  <span class="small">\n                    <p class="text-muted">\n                      <i class="fa fa-exclamation-circle orange-icon" aria-hidden="true" style="margin-right: 2px"></i>\n                      <span ng-if="external">This stack was created outside of Portainer. Control over this stack is limited.</span>\n                      <span ng-if="orphaned">This stack is orphaned. You can re-associate it with the current environment using the "Associate to this environment" feature.</span>\n                    </p>\n                  </span>\n                </div>\n              </div>\n              \x3c!-- !stack-information --\x3e\n              \x3c!-- stack-details --\x3e\n              <div>\n                <div class="col-sm-12 form-section-title"> Stack details </div>\n                <div class="form-group">\n                  {{ stackName }}\n\n                  <button\n                    authorization="PortainerStackUpdate"\n                    ng-if="regular && stack.Status === 2"\n                    ng-disabled="state.actionInProgress"\n                    class="btn btn-xs btn-success"\n                    ng-click="startStack()"\n                  >\n                    <i class="fa fa-play space-right" aria-hidden="true"></i>\n                    Start this stack\n                  </button>\n\n                  <button\n                    ng-if="regular && stack.Status === 1"\n                    authorization="PortainerStackUpdate"\n                    ng-disabled="state.actionInProgress"\n                    class="btn btn-xs btn-light"\n                    ng-click="stopStack()"\n                  >\n                    <pr-icon icon="\'stop-circle\'" feather="true"></pr-icon>\n                    Stop this stack\n                  </button>\n\n                  <button authorization="PortainerStackDelete" class="btn btn-xs btn-light" ng-click="removeStack()" ng-if="!external || stack.Type == 1">\n                    <pr-icon icon="\'trash-2\'" feather="true"></pr-icon>\n                    Delete this stack\n                  </button>\n\n                  <button\n                    ng-if="regular && stackFileContent"\n                    class="btn btn-primary btn-xs"\n                    ui-sref="docker.templates.custom.new({fileContent: stackFileContent, type: stack.Type})"\n                  >\n                    <pr-icon icon="\'plus\'" feather="true"></pr-icon>\n                    Create template from stack\n                  </button>\n                  <button\n                    authorization="PortainerStackUpdate"\n                    ng-if="regular && stackFileContent && !stack.FromAppTemplate && stack.GitConfig"\n                    ng-disabled="state.actionInProgress"\n                    ng-click="detachStackFromGit()"\n                    button-spinner="state.actionInProgress"\n                    class="btn btn-primary btn-xs"\n                  >\n                    <i class="fa fa-arrow-right space-right" aria-hidden="true"></i>\n                    <span ng-hide="state.actionInProgress">Detach from Git</span>\n                    <span ng-show="state.actionInProgress">Detachment in progress...</span>\n                  </button>\n                </div>\n              </div>\n              \x3c!-- !stack-details --\x3e\n\n              \x3c!-- associate --\x3e\n              <div ng-if="orphaned">\n                <div class="col-sm-12 form-section-title"> Associate to this environment </div>\n                <p class="small text-muted"> This feature allows you to re-associate this stack to the current environment. </p>\n                <form class="form-horizontal">\n                  <por-access-control-form form-data="formValues.AccessControlData" hide-title="true"></por-access-control-form>\n                  <div class="form-group">\n                    <div class="col-sm-12">\n                      <button\n                        type="button"\n                        class="btn btn-primary btn-sm"\n                        ng-disabled="state.actionInProgress"\n                        ng-click="associateStack()"\n                        button-spinner="state.actionInProgress"\n                        style="margin-left: -5px"\n                      >\n                        <i class="fa fa-sync" aria-hidden="true" style="margin-right: 3px"></i>\n                        <span ng-hide="state.actionInProgress">Associate</span>\n                        <span ng-show="state.actionInProgress">Association in progress...</span>\n                      </button>\n                      <span class="text-danger" ng-if="state.formValidationError" style="margin-left: 5px">{{ state.formValidationError }}</span>\n                    </div>\n                  </div>\n                </form>\n              </div>\n              \x3c!-- !associate --\x3e\n              <stack-redeploy-git-form\n                ng-if="stack.GitConfig && !stack.FromAppTemplate && !state.actionInProgress"\n                model="stack.GitConfig"\n                stack="stack"\n                authorization="PortainerStackUpdate"\n                endpoint="applicationState.endpoint"\n              >\n              </stack-redeploy-git-form>\n              <stack-duplication-form\n                ng-if="regular && endpoints.length > 0"\n                endpoints="endpoints"\n                groups="groups"\n                current-endpoint-id="endpoint.Id"\n                on-duplicate="duplicateStack(name, endpointId)"\n                on-migrate="migrateStack(name, endpointId)"\n                yaml-error="state.yamlError"\n              >\n              </stack-duplication-form>\n            </div>\n          </uib-tab>\n          \x3c!-- !tab-info --\x3e\n          \x3c!-- tab-file --\x3e\n          <uib-tab index="1" select="showEditor()" ng-if="!external && (!stack.GitConfig || stack.FromAppTemplate)">\n            <uib-tab-heading> <i class="fa fa-pencil-alt space-right" aria-hidden="true"></i> Editor </uib-tab-heading>\n            <form class="form-horizontal" ng-if="state.showEditorTab" style="margin-top: 10px" name="stackUpdateForm">\n              <div class="form-group">\n                <span class="col-sm-12 text-muted small" style="margin-bottom: 7px" ng-if="stackType == STACK_TYPES.DockerCompose && composeSyntaxMaxVersion == 2">\n                  This stack will be deployed using the equivalent of <code>docker compose</code>. Only Compose file format version <b>2</b> is supported at the moment.\n                </span>\n                <span class="col-sm-12 text-muted small" style="margin-bottom: 7px" ng-if="stackType == STACK_TYPES.DockerCompose && composeSyntaxMaxVersion > 2">\n                  This stack will be deployed using <code>docker compose</code>.\n                </span>\n                <span class="col-sm-12 text-muted small">\n                  You can get more information about Compose file format in the <a href="https://docs.docker.com/compose/compose-file/" target="_blank">official documentation</a>.\n                </span>\n                <div class="col-sm-12" ng-if="state.yamlError">\n                  <span class="text-danger small">{{ state.yamlError }}</span>\n                </div>\n              </div>\n              <div class="form-group">\n                <div class="col-sm-12">\n                  <code-editor\n                    read-only="orphaned"\n                    identifier="stack-editor"\n                    placeholder="# Define or paste the content of your docker compose file here"\n                    yml="true"\n                    on-change="(editorUpdate)"\n                    value="stackFileContent"\n                  ></code-editor>\n                </div>\n              </div>\n\n              <div ng-if="isAdmin && applicationState.endpoint.type !== 4">\n                <div class="col-sm-12 form-section-title">\n                  Webhooks\n                  <por-switch-field\n                    name="EnableWebhook"\n                    checked="formValues.EnableWebhook"\n                    label-class="\'col-sm-2\'"\n                    tooltip="\'Create a webhook (or callback URI) to automate the update of this stack. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this stack.\'"\n                    label="\'Create a Stack webhook\'"\n                    feature-id="\'stack-webhook\'"\n                  ></por-switch-field>\n                </div>\n              </div>\n\n              \x3c!-- environment-variables --\x3e\n              <div ng-if="stack">\n                <environment-variables-panel\n                  ng-model="formValues.Env"\n                  explanation="These values will be used as substitutions in the stack file"\n                  on-change="(handleEnvVarChange)"\n                  show-help-message="true"\n                ></environment-variables-panel>\n              </div>\n              \x3c!-- !environment-variables --\x3e\n              \x3c!-- options --\x3e\n              <div ng-if="stack.Type === 1 && applicationState.endpoint.apiVersion >= 1.27" authorization="PortainerStackUpdate">\n                <div class="col-sm-12 form-section-title"> Options </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <por-switch-field\n                      name="prune"\n                      checked="formValues.Prune"\n                      tooltip="\'Prune services that are no longer referenced.\'"\n                      label-class="\'col-sm-2\'"\n                      label="\'Prune services\'"\n                      on-change="(onPruneChange)"\n                    ></por-switch-field>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- !options --\x3e\n              <div authorization="PortainerStackUpdate">\n                <div class="col-sm-12 form-section-title"> Actions </div>\n                <div class="form-group">\n                  <div class="col-sm-12">\n                    <button\n                      type="button"\n                      class="btn btn-sm btn-primary"\n                      ng-disabled="state.actionInProgress || state.yamlError || !stackUpdateForm.$valid || !stackFileContent || orphaned"\n                      ng-click="deployStack()"\n                      button-spinner="state.actionInProgress"\n                    >\n                      <span ng-hide="state.actionInProgress">Update the stack</span>\n                      <span ng-show="state.actionInProgress">Deployment in progress...</span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </uib-tab>\n          \x3c!-- !tab-file --\x3e\n        </uib-tabset>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<stack-containers-datatable\n  ng-if="stackType !== STACK_TYPES.DockerSwarm && (!orphaned || orphanedRunning)"\n  stack-name="stackName"\n  environment="endpoint"\n></stack-containers-datatable>\n\n<div class="row" ng-if="services && (!orphaned || orphanedRunning)">\n  <div class="col-sm-12">\n    <services-datatable\n      title-text="Services"\n      title-icon="list"\n      dataset="services"\n      table-key="stack-services"\n      order-by="Name"\n      nodes="nodes"\n      agent-proxy="applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\'"\n      show-ownership-column="false"\n      show-update-action="applicationState.endpoint.apiVersion >= 1.25"\n      show-task-logs-button="applicationState.endpoint.apiVersion >= 1.30"\n      show-add-action="false"\n      show-stack-column="false"\n      not-auto-focus="true"\n      endpoint-public-url="endpoint.PublicURL"\n      endpoint-id="endpoint.Id"\n    ></services-datatable>\n  </div>\n</div>\n\n\x3c!-- access-control-panel --\x3e\n<access-control-panel\n  ng-if="stack && !orphaned"\n  resource-id="stack.EndpointId + \'_\' + stack.Name"\n  resource-control="stack.ResourceControl"\n  resource-type="resourceType"\n  environment-id="stack.EndpointId"\n  on-update-success="(onUpdateResourceControlSuccess)"\n>\n</access-control-panel>\n\x3c!-- !access-control-panel --\x3e\n')}]),e.exports=t},25872:function(e){var t="app/portainer/views/stacks/stacks.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Stacks list\'" breadcrumbs="[\'Stacks\']" reload="true"> </page-header>\n\n<information-panel-offline ng-if="offlineMode"></information-panel-offline>\n<div class="row">\n  <div class="col-sm-12">\n    <stacks-datatable\n      title-text="Stacks"\n      title-icon="fa-th-list"\n      dataset="stacks"\n      table-key="stacks"\n      order-by="Name"\n      remove-action="removeAction"\n      offline-mode="offlineMode"\n      refresh-callback="getStacks"\n      create-enabled="createEnabled"\n    ></stacks-datatable>\n  </div>\n</div>\n')}]),e.exports=t},57642:function(e){var t="app/portainer/views/tags/tags.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Tags\'" breadcrumbs="[\'Tag management\']" reload="true"> </page-header>\n\n<div class="row">\n  <div class="col-sm-12">\n    <rd-widget>\n      <rd-widget-header icon="plus" feather-icon="true" title-text="Add a new tag"> </rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" name="tagCreationForm" ng-submit="createTag()">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="name" class="col-sm-2 control-label text-left required"> Name </label>\n            <div class="col-sm-10">\n              <input\n                type="text"\n                class="form-control"\n                name="name"\n                ng-model="formValues.Name"\n                ng-change="checkNameValidity(tagCreationForm)"\n                placeholder="org/acme"\n                required\n                auto-focus\n              />\n              <div class="help-block" ng-show="tagCreationForm.name.$invalid">\n                <div class="small text-warning">\n                  <div ng-messages="tagCreationForm.name.$error">\n                    <p ng-message="required" class="vertical-center">\n                      <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                      This field is required.\n                    </p>\n                    <p ng-message="validName" class="vertical-center">\n                      <pr-icon icon="\'alert-triangle\'" mode="\'warning\'" feather="true"></pr-icon>\n                      This tag already exists.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !tagCreationForm.$valid"\n                ng-click="createTag()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress" class="vertical-center">\n                  <pr-icon icon="\'plus\'" feather="true"></pr-icon>\n                  Create tag\n                </span>\n                <span ng-show="state.actionInProgress">Creating tag...</span>\n              </button>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <tags-datatable title-text="Tags" title-icon="svg-tag2" dataset="tags" table-key="tags" order-by="Name" remove-action="removeAction"></tags-datatable>\n  </div>\n</div>\n')}]),e.exports=t},61242:function(e){var t="app/portainer/views/templates/templates.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header id="\'view-top\'" title="\'Application templates list\'" breadcrumbs="[\'Templates\']"> </page-header>\n\n<div class="row">\n  \x3c!-- stack-form --\x3e\n  <stack-from-template-form\n    ng-if="state.selectedTemplate && (state.selectedTemplate.Type === 2 || state.selectedTemplate.Type === 3)"\n    template="state.selectedTemplate"\n    form-values="formValues"\n    state="state"\n    create-template="createTemplate"\n    unselect-template="unselectTemplate"\n  >\n  </stack-from-template-form>\n  \x3c!-- !stack-form --\x3e\n  \x3c!-- container-form --\x3e\n  <div class="col-sm-12" ng-if="state.selectedTemplate && state.selectedTemplate.Type === 1">\n    <rd-widget>\n      <rd-widget-custom-header icon="state.selectedTemplate.Logo" title-text="state.selectedTemplate.Title"></rd-widget-custom-header>\n      <rd-widget-body classes="padding">\n        <form class="form-horizontal" name="selectedTemplateType1">\n          \x3c!-- description --\x3e\n          <div ng-if="state.selectedTemplate.Note">\n            <div class="form-section-title"> Information </div>\n            <div class="col-sm-12 form-group">\n              <div class="template-note" ng-bind-html="state.selectedTemplate.Note"></div>\n            </div>\n          </div>\n          \x3c!-- !description --\x3e\n          <div class="form-section-title"> Configuration </div>\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="container_name" class="col-sm-2 control-label text-left">Name</label>\n            <div class="col-sm-6">\n              <input type="text" name="container_name" class="form-control" ng-model="formValues.name" placeholder="e.g. web (optional)" />\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- network-input --\x3e\n          <div class="form-group">\n            <label for="container_network" class="col-sm-2 control-label text-left">Network</label>\n            <div class="col-sm-6">\n              <select class="form-control" ng-options="net.Name for net in availableNetworks | orderBy: \'Name\'" ng-model="formValues.network">\n                <option disabled hidden value="">Select a network</option>\n              </select>\n            </div>\n          </div>\n          \x3c!-- !network-input --\x3e\n          \x3c!-- env --\x3e\n          <div ng-repeat="var in state.selectedTemplate.Env" ng-if="!var.preset || var.select" class="form-group">\n            <label for="field_{{ $index }}" class="col-sm-2 control-label text-left">\n              {{ var.label }}\n              <portainer-tooltip ng-if="var.description" message="var.description"></portainer-tooltip>\n            </label>\n            <div class="col-sm-6">\n              <input type="text" class="form-control" ng-if="!var.select" ng-model="var.value" id="field_{{ $index }}" />\n              <select class="form-control" ng-if="var.select" ng-model="var.value" id="field_{{ $index }}">\n                <option selected disabled hidden value="">Select value</option>\n                <option ng-repeat="choice in var.select" value="{{ choice.value }}">{{ choice.text }}</option>\n              </select>\n            </div>\n          </div>\n          \x3c!-- !env --\x3e\n          \x3c!-- access-control --\x3e\n          <por-access-control-form form-data="formValues.AccessControlData"></por-access-control-form>\n          \x3c!-- !access-control --\x3e\n          <div class="form-group col-sm-12">\n            <a class="small interactive vertical-center" ng-if="!state.showAdvancedOptions" ng-click="state.showAdvancedOptions = true;">\n              <pr-icon icon="\'plus\'" feather="true"></pr-icon> Show advanced options\n            </a>\n            <a class="small interactive vertical-center" ng-if="state.showAdvancedOptions" ng-click="state.showAdvancedOptions = false;">\n              <pr-icon icon="\'minus\'" feather="true"></pr-icon> Hide advanced options\n            </a>\n          </div>\n          <div ng-if="state.showAdvancedOptions">\n            \x3c!-- port-mapping --\x3e\n            <div class="form-group mt-2">\n              <div class="col-sm-12">\n                <label class="control-label text-left">Port mapping</label>\n                <div class="mt-1" ng-if="state.selectedTemplate.Ports.length > 0">\n                  <div class="small text-muted">Portainer will automatically assign a port if you leave the host port empty.</div>\n                  <div class="form-inline mt-2" ng-repeat="portBinding in state.selectedTemplate.Ports">\n                    \x3c!-- host-port --\x3e\n                    <div class="input-group col-sm-4 input-group-sm">\n                      <span class="input-group-addon">host</span>\n                      <input type="text" class="form-control" ng-model="portBinding.hostPort" placeholder="e.g. 80 or 1.2.3.4:80 (optional)" />\n                    </div>\n                    \x3c!-- !host-port --\x3e\n                    <pr-icon icon="\'arrow-right\'" feather="true"></pr-icon>\n                    \x3c!-- container-port --\x3e\n                    <div class="input-group col-sm-4 input-group-sm">\n                      <span class="input-group-addon">container</span>\n                      <input type="text" class="form-control" ng-model="portBinding.containerPort" placeholder="e.g. 80" />\n                    </div>\n                    \x3c!-- !container-port --\x3e\n                    \x3c!-- protocol-actions --\x3e\n                    <div class="input-group col-sm-3 input-group-sm">\n                      <div class="btn-group btn-group-sm">\n                        <label class="btn btn-light" ng-model="portBinding.protocol" uib-btn-radio="\'tcp\'">TCP</label>\n                        <label class="btn btn-light" ng-model="portBinding.protocol" uib-btn-radio="\'udp\'">UDP</label>\n                      </div>\n                      <button class="btn btn-light" type="button" ng-click="removePortBinding($index)">\n                        <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                      </button>\n                    </div>\n                    \x3c!-- !protocol-actions --\x3e\n                  </div>\n                </div>\n                <div class="small interactive text-muted mt-2" ng-click="addPortBinding()"> <pr-icon icon="\'plus\'" feather="true"></pr-icon> Add map additional port </div>\n              </div>\n            </div>\n            \x3c!-- !port-mapping --\x3e\n            \x3c!-- volume-mapping --\x3e\n            <div class="form-group mt-4">\n              <div class="col-sm-12">\n                <label class="control-label text-left">Volume mapping</label>\n                <div class="mt-1" ng-if="state.selectedTemplate.Volumes.length > 0">\n                  <div class="small text-muted">Portainer will automatically create and map a local volume when using the <b>auto</b> option.</div>\n                  <div class="mt-2" ng-repeat="volume in state.selectedTemplate.Volumes">\n                    \x3c!-- volume-line1 --\x3e\n                    <div class="form-inline">\n                      \x3c!-- container-path --\x3e\n                      <div class="input-group input-group-sm col-sm-6">\n                        <span class="input-group-addon">container</span>\n                        <input type="text" class="form-control" ng-model="volume.container" placeholder="e.g. /path/in/container" />\n                      </div>\n                      \x3c!-- !container-path --\x3e\n                      \x3c!-- volume-type --\x3e\n                      <div class="input-group col-sm-5 space-left">\n                        <div class="btn-group btn-group-sm">\n                          <label class="btn btn-light" ng-model="volume.type" uib-btn-radio="\'auto\'" ng-click="volume.bind = \'\'">Auto</label>\n                          <label class="btn btn-light" ng-model="volume.type" uib-btn-radio="\'volume\'" ng-click="volume.bind = \'\'">Volume</label>\n                          <label class="btn btn-light" ng-model="volume.type" uib-btn-radio="\'bind\'" ng-click="volume.bind = \'\'" ng-if="isAdmin || allowBindMounts">Bind</label>\n                        </div>\n                        <button class="btn btn-light" type="button" ng-click="removeVolume($index)">\n                          <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                        </button>\n                      </div>\n                      \x3c!-- !volume-type --\x3e\n                    </div>\n                    \x3c!-- !volume-line1 --\x3e\n                    \x3c!-- volume-line2 --\x3e\n                    <div class="form-inline mt-1" ng-if="volume.type !== \'auto\'">\n                      <pr-icon icon="\'arrow-right\'" feather="true"></pr-icon>\n                      \x3c!-- volume --\x3e\n                      <div class="input-group input-group-sm col-sm-6" ng-if="volume.type === \'volume\'">\n                        <div class="col-sm-12 input-group">\n                          <span class="input-group-addon">volume</span>\n                          <div class="col-sm-12 input-group">\n                            <select class="form-control" ng-model="volume.bind" ng-options="vol.Name as vol.Name for vol in availableVolumes">\n                              <option value="" disabled selected>Select a volume</option>\n                            </select>\n                          </div>\n                        </div>\n                      </div>\n                      \x3c!-- !volume --\x3e\n                      \x3c!-- bind --\x3e\n                      <div class="input-group input-group-sm col-sm-6" ng-if="volume.type === \'bind\'">\n                        <span class="input-group-addon">host</span>\n                        <input type="text" class="form-control" ng-model="volume.bind" placeholder="e.g. /path/on/host" />\n                      </div>\n                      \x3c!-- !bind --\x3e\n                      \x3c!-- read-only --\x3e\n                      <div class="input-group input-group-sm col-sm-5 space-left">\n                        <div class="btn-group btn-group-sm">\n                          <label class="btn btn-light" ng-model="volume.readonly" uib-btn-radio="false">Writable</label>\n                          <label class="btn btn-light" ng-model="volume.readonly" uib-btn-radio="true">Read-only</label>\n                        </div>\n                      </div>\n                      \x3c!-- !read-only --\x3e\n                    </div>\n                    \x3c!-- !volume-line2 --\x3e\n                  </div>\n                </div>\n                <div class="small interactive text-muted mt-2" ng-click="addVolume()"> <pr-icon icon="\'plus\'" feather="true"></pr-icon> Add map additional volume </div>\n              </div>\n            </div>\n            \x3c!-- !volume-mapping --\x3e\n            \x3c!-- extra-host --\x3e\n            <div class="form-group mt-4">\n              <div class="col-sm-12">\n                <label class="control-label text-left">Hosts file entries</label>\n                \x3c!-- extra-host-input-list --\x3e\n                <div class="mt-1" ng-if="state.selectedTemplate.Hosts.length > 0">\n                  <div class="form-inline mt-2" ng-repeat="(idx, host) in state.selectedTemplate.Hosts track by $index">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="state.selectedTemplate.Hosts[idx]" placeholder="e.g. host:IP" />\n                    </div>\n                    <button class="btn btn-light" type="button" ng-click="removeExtraHost($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                <div class="small interactive text-muted mt-2" ng-click="addExtraHost()"> <pr-icon icon="\'plus\'" feather="true"></pr-icon> Add additional entry </div>\n              </div>\n            </div>\n            \x3c!-- !extra-host --\x3e\n            \x3c!-- labels --\x3e\n            <div class="form-group mt-4">\n              <div class="col-sm-12">\n                <label class="control-label text-left">Labels</label>\n                \x3c!-- labels-input-list --\x3e\n                <div class="mt-1" ng-if="state.selectedTemplate.Labels.length > 0">\n                  <div class="form-inline mt-2" ng-repeat="label in state.selectedTemplate.Labels">\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">name</span>\n                      <input type="text" class="form-control" ng-model="label.name" placeholder="e.g. com.example.foo" />\n                    </div>\n                    <div class="input-group col-sm-5 input-group-sm">\n                      <span class="input-group-addon">value</span>\n                      <input type="text" class="form-control" ng-model="label.value" placeholder="e.g. bar" />\n                    </div>\n                    <button class="btn btn-light" type="button" ng-click="removeLabel($index)">\n                      <pr-icon icon="\'trash-2\'" feather="true" class-name="\'icon-secondary icon-md\'"></pr-icon>\n                    </button>\n                  </div>\n                </div>\n                \x3c!-- !labels-input-list --\x3e\n                <div class="small interactive text-muted mt-2" ng-click="addLabel()"> <pr-icon icon="\'plus\'" feather="true"></pr-icon> Add label </div>\n              </div>\n            </div>\n            \x3c!-- !labels --\x3e\n            \x3c!-- hostname --\x3e\n            <div class="form-group mt-4">\n              <label for="container_hostname" class="col-sm-2 control-label text-left">Hostname</label>\n              <div class="col-sm-6">\n                <input type="text" name="container_hostname" class="form-control" ng-model="state.selectedTemplate.Hostname" placeholder="leave empty to use docker default" />\n              </div>\n            </div>\n            \x3c!-- !hostname --\x3e\n          </div>\n          \x3c!-- !advanced-options --\x3e\n          \x3c!-- actions --\x3e\n          <div class="form-section-title"> Actions </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary"\n                ng-disabled="state.actionInProgress || !formValues.network"\n                ng-click="createTemplate()"\n                button-spinner="state.actionInProgress"\n              >\n                <span ng-hide="state.actionInProgress">Deploy the container</span>\n                <span ng-show="state.actionInProgress">Deployment in progress...</span>\n              </button>\n              <button type="button" class="btn btn-default" ng-click="unselectTemplate(state.selectedTemplate)">Hide</button>\n              <span class="text-danger space-left" ng-if="state.formValidationError">{{ state.formValidationError }}</span>\n            </div>\n          </div>\n          \x3c!-- !actions --\x3e\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n  \x3c!-- container-form --\x3e\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <template-list\n      ng-if="templates"\n      title-text="Templates"\n      title-icon="edit"\n      templates="templates"\n      table-key="templates"\n      select-action="selectTemplate"\n      show-swarm-stacks="applicationState.endpoint.mode.provider === \'DOCKER_SWARM_MODE\' && applicationState.endpoint.mode.role === \'MANAGER\' && applicationState.endpoint.apiVersion >= 1.25"\n    ></template-list>\n  </div>\n</div>\n')}]),e.exports=t},98864:function(e){var t="app/portainer/views/users/edit/user.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'User details\'" breadcrumbs="[{label:\'Users\', link:\'portainer.users\'}, formValues.username]"> </page-header>\n\n<div class="row">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="user" feather-icon="true" title-text="User details"></rd-widget-header>\n      <rd-widget-body>\n        <form class="form-horizontal" style="margin-top: 15px">\n          <div class="form-group">\n            <label for="username_field" class="col-sm-2 control-label text-left required">Username</label>\n            <div class="col-sm-8">\n              <input class="form-control" ng-model="formValues.username" id="username_field" />\n            </div>\n          </div>\n\n          <div class="form-group" ng-if="isAdmin">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-3 col-lg-2 control-label text-left\'"\n                checked="formValues.Administrator"\n                label="\'Administrator\'"\n                tooltip="\'Administrators have access to Portainer settings management as well as full control over all defined environments and their resources.\'"\n                on-change="(handleAdministratorChange)"\n              ></por-switch-field>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <div class="col-sm-4">\n              <button class="btn btn-primary btn-sm" ng-disabled="!isSubmitEnabled()" ng-click="updateUser()">Save</button>\n              <button class="btn btn-danger btn-sm vertical-center" ng-disabled="isDeleteDisabled()" ng-click="deleteUser()">\n                <pr-icon icon="\'trash-2\'" feather="true" size="\'sm\'" class="vertical-center"></pr-icon>Delete this user\n              </button>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row" ng-if="AuthenticationMethod === 1">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="lock" feather-icon="true" title-text="Change user password"></rd-widget-header>\n      <rd-widget-body>\n        <form name="form" class="form-horizontal" style="margin-top: 15px">\n          \x3c!-- new-password-input --\x3e\n          <div class="form-group">\n            <label for="new_password" class="col-sm-2 control-label text-left required">New password</label>\n            <div class="col-sm-8">\n              <input type="password" class="form-control" ng-model="formValues.newPassword" id="new_password" name="new_password" ng-minlength="requiredPasswordLength" />\n            </div>\n          </div>\n          \x3c!-- !new-password-input --\x3e\n          \x3c!-- confirm-password-input --\x3e\n          <div class="form-group">\n            <label for="confirm_password" class="col-sm-2 control-label text-left required">Confirm password</label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <input type="password" class="form-control" ng-model="formValues.confirmPassword" id="confirm_password" />\n                <span class="input-group-addon">\n                  <pr-icon\n                    icon="\'check\'"\n                    feather="true"\n                    class="icon-success"\n                    ng-if="form.new_password.$viewValue !== \'\' && form.new_password.$viewValue === formValues.confirmPassword"\n                  ></pr-icon>\n                  <pr-icon\n                    icon="\'x\'"\n                    feather="true"\n                    class="icon-danger"\n                    ng-if="!(form.new_password.$viewValue !== \'\' && form.new_password.$viewValue === formValues.confirmPassword)"\n                  ></pr-icon>\n                </span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !confirm-password-input --\x3e\n          <password-check-hint password-valid="form.new_password.$valid && formValues.newPassword"></password-check-hint>\n          <div class="form-group">\n            <div class="col-sm-2">\n              <button\n                type="submit"\n                class="btn btn-primary btn-sm"\n                ng-disabled="form.new_password.$viewValue === \'\' || form.$invalid || !formValues.newPassword || !formValues.confirmPassword || form.new_password.$viewValue !== formValues.confirmPassword"\n                ng-click="updatePassword()"\n                >Update password</button\n              >\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n')}]),e.exports=t},3799:function(e){var t="app/portainer/views/users/users.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<page-header title="\'Users\'" breadcrumbs="[\'User management\']" reload="true"> </page-header>\n\n<div class="row" ng-if="isAdmin">\n  <div class="col-lg-12 col-md-12 col-xs-12">\n    <rd-widget>\n      <rd-widget-header icon="plus" feather-icon="true" title-text="Add a new user"> </rd-widget-header>\n      <rd-widget-body>\n        <form name="form" class="form-horizontal">\n          \x3c!-- name-input --\x3e\n          <div class="form-group">\n            <label for="username" class="col-sm-3 col-lg-2 control-label text-left required">\n              Username\n              <portainer-tooltip ng-if="AuthenticationMethod === 2" message="\'Username must exactly match username defined in external LDAP source.\'"></portainer-tooltip>\n            </label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <input\n                  type="text"\n                  class="form-control"\n                  id="username"\n                  ng-model="formValues.Username"\n                  ng-change="checkUsernameValidity()"\n                  placeholder="e.g. jdoe"\n                  auto-focus\n                  data-cy="user-usernameInput"\n                />\n                <span class="input-group-addon">\n                  <pr-icon class="fa green-icon" icon="\'check\'" feather="true" aria-hidden="true" ng-if="state.validUsername"></pr-icon>\n                  <pr-icon class="fa red-icon" icon="\'x\'" feather="true" aria-hidden="true" ng-if="!state.validUsername"></pr-icon>\n                </span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !name-input --\x3e\n          \x3c!-- new-password-input --\x3e\n          <div class="form-group" ng-if="AuthenticationMethod === 1">\n            <label for="password" class="col-sm-3 col-lg-2 control-label text-left required">Password</label>\n            <div class="col-sm-8">\n              <input\n                type="password"\n                class="form-control"\n                ng-model="formValues.Password"\n                id="password"\n                name="password"\n                ng-minlength="requiredPasswordLength"\n                data-cy="user-passwordInput"\n              />\n            </div>\n          </div>\n          \x3c!-- !new-password-input --\x3e\n          \x3c!-- confirm-password-input --\x3e\n          <div class="form-group" ng-if="AuthenticationMethod === 1">\n            <label for="confirm_password" class="col-sm-3 col-lg-2 control-label text-left required">Confirm password</label>\n            <div class="col-sm-8">\n              <div class="input-group">\n                <input\n                  type="password"\n                  class="form-control form-control--has-icon"\n                  ng-model="formValues.ConfirmPassword"\n                  id="confirm_password"\n                  data-cy="user-passwordConfirmInput"\n                />\n                <span class="input-group-addon">\n                  <pr-icon\n                    class="fa green-icon"\n                    icon="\'check\'"\n                    feather="true"\n                    aria-hidden="true"\n                    ng-if="form.password.$viewValue !== \'\' && form.password.$viewValue === formValues.ConfirmPassword"\n                  ></pr-icon>\n                  <pr-icon\n                    class="fa red-icon"\n                    icon="\'x\'"\n                    feather="true"\n                    aria-hidden="true"\n                    ng-if="!(form.password.$viewValue !== \'\' && form.password.$viewValue === formValues.ConfirmPassword)"\n                  ></pr-icon>\n                </span>\n              </div>\n            </div>\n          </div>\n          \x3c!-- !confirm-password-input --\x3e\n\n          \x3c!-- password-check-hint --\x3e\n          <div class="form-group" ng-if="AuthenticationMethod === 1">\n            <div class="col-sm-3 col-lg-2"></div>\n            <div class="col-sm-8">\n              <password-check-hint password-valid="form.password.$valid && formValues.Password"></password-check-hint>\n            </div>\n          </div>\n          \x3c!-- ! password-check-hint  --\x3e\n\n          \x3c!-- admin-checkbox --\x3e\n          <div class="form-group" ng-if="isAdmin">\n            <div class="col-sm-12">\n              <por-switch-field\n                label-class="\'col-sm-3 col-lg-2 control-label text-left\'"\n                checked="formValues.Administrator"\n                label="\'Administrator\'"\n                tooltip="\'Administrators have access to Portainer settings management as well as full control over all defined environments and their resources.\'"\n                on-change="(handleAdministratorChange)"\n              ></por-switch-field>\n            </div>\n          </div>\n          \x3c!-- !admin-checkbox --\x3e\n          \x3c!-- teams --\x3e\n          <div class="form-group" ng-if="!formValues.Administrator">\n            <label class="col-sm-3 col-lg-2 control-label text-left" for="teams-selector">Add to team(s)</label>\n            <div class="col-sm-8">\n              <span class="small text-muted" ng-if="teams.length === 0">\n                You don\'t seem to have any teams to add users into. Head over to the <a ui-sref="portainer.teams">Teams view</a> to create some.\n              </span>\n              <teams-selector\n                ng-if="teams.length > 0"\n                value="formValues.TeamIds"\n                teams="teams"\n                placeholder="\'Select one or more teams\'"\n                data-cy="\'user-teamSelect\'"\n                on-change="(onChangeTeamIds)"\n                input-id="\'teams-selector\'"\n              ></teams-selector>\n            </div>\n          </div>\n          \x3c!-- !teams --\x3e\n          <div class="form-group" ng-if="isAdmin && !formValues.Administrator && formValues.Teams.length === 0">\n            <div class="col-sm-12">\n              <span class="small text-muted vertical-center">\n                <pr-icon class="vertical-center" icon="\'alert-circle\'" feather="true" aria-hidden="true" mode="\'primary\'" size="\'md\'"></pr-icon>\n                <span\n                  >Note: non-administrator users who aren\'t in a team don\'t have access to any environments by default. Head over to the\n                  <a ui-sref="portainer.endpoints">Environments view</a> to manage their accesses.</span\n                >\n              </span>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-sm-12">\n              <button\n                type="button"\n                class="btn btn-primary btn-sm"\n                ng-disabled="state.actionInProgress || !state.validUsername || formValues.Username === \'\' || (AuthenticationMethod === 1 && (!formValues.Password || form.$invalid || formValues.Password !== formValues.ConfirmPassword))"\n                ng-click="addUser()"\n                button-spinner="state.actionInProgress"\n                data-cy="user-createUserButton"\n              >\n                <span ng-hide="state.actionInProgress" class="vertical-center icon-white">\n                  <pr-icon icon="\'plus\'" feather="true" aria-hidden="true" size="\'md\'"></pr-icon> Create user</span\n                >\n                <span ng-show="state.actionInProgress">Creating user...</span>\n              </button>\n              <span class="text-danger" ng-if="state.userCreationError">\n                <pr-icon icon="\'alert-circle\'" feather="true" aria-hidden="true" mode="\'primary\'" size="\'md\'"></pr-icon> {{ state.userCreationError }}\n              </span>\n            </div>\n          </div>\n        </form>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-sm-12">\n    <users-datatable\n      title-text="Users"\n      title-icon="user"\n      dataset="users"\n      table-key="users"\n      order-by="Username"\n      authentication-method="AuthenticationMethod"\n      remove-action="removeAction"\n      is-admin="isAdmin"\n    ></users-datatable>\n  </div>\n</div>\n')}]),e.exports=t},69962:function(e,t,n){"use strict";e.exports=n.p+"d3a18c5002453f58c8b9.png"},94233:function(e,t,n){"use strict";e.exports=n.p+"51906a7e4bd0e1d9e771.png"},51070:function(e,t,n){"use strict";e.exports=n.p+"19c2b168a8d85994e14e.png"},21306:function(e,t,n){"use strict";e.exports=n.p+"9d07a3ace464cfd6e27c.png"},6186:function(e,t,n){"use strict";e.exports=n.p+"c2c179f41199d25e0055.png"},61311:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iNDciIHZpZXdCb3g9IjAgMCAzOCA0NyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZGRfMTA4M181MDUwNSkiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjAxNTQgMTEuMDU3NkgxNC40MTE2VjE0LjE4MjRIMTUuMDE1NFYxMS4wNTc2WiIgZmlsbD0iIzEzQkVGOSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE3LjYxMTggMTEuMDU3NkgxNy4wMDhWMTQuMTgyNEgxNy42MTE4VjExLjA1NzZaIiBmaWxsPSIjMTNCRUY5Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjEuMTU5MyA1LjA5NDkyTDIwLjU0MDQgNC4wMjMxM0wxMC4yMTUgOS45ODU4OEwxMC44MzQgMTEuMDU3N0wyMS4xNTkzIDUuMDk0OTJaIiBmaWxsPSIjMTNCRUY5Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjEuMDk4OSA1LjA5NDkyTDIxLjcxNzggNC4wMjMxM0wzMi4wNDMyIDkuOTg1ODhMMzEuNDI0MyAxMS4wNTc3TDIxLjA5ODkgNS4wOTQ5MloiIGZpbGw9IiMxM0JFRjkiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMy44Njk4IDExLjA3MjdWOS44MzQ5SDUuNTgwN1YxMS4wNzI3SDMzLjg2OThaIiBmaWxsPSIjMTNCRUY5Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjIuNjY4OCAyOC41NTM0VjEwLjIxMjNIMjMuOTA2N1YyOS40NDRDMjMuNTc0NiAyOS4wNjY2IDIzLjE1MTkgMjguNzk0OSAyMi42Njg4IDI4LjU1MzRaIiBmaWxsPSIjMTNCRUY5Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjAuNTU1NSAyOC4yMzY0VjIuMzYyNjFIMjEuNzkzM1YyOC4zODczQzIxLjQ0NjEgMjguMjIxMyAyMC42MDA4IDI4LjIzNjQgMjAuNTU1NSAyOC4yMzY0WiIgZmlsbD0iIzEzQkVGOSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTguODI2MjUgMzAuODE3N0M3LjMxNjY5IDI5LjcwMDYgNi4zMjAzOSAyNy45MTkzIDYuMzIwMzkgMjUuODk2NUM2LjMyMDM5IDI0LjgyNDcgNi42MDcyIDIzLjc2ODEgNy4xMzU1NSAyMi44NDcySDE3LjcwMjRDMTguMjQ1OSAyMy43NjgxIDE4LjUxNzYgMjQuODI0NyAxOC41MTc2IDI1Ljg5NjVDMTguNTE3NiAyNi44MzI1IDE4LjM5NjggMjcuNzA4IDE4LjAxOTQgMjguNDkzQzE3LjIxOTQgMjcuNzIzMSAxNi4wNDE5IDI3LjM5MSAxNC44NDk0IDI3LjM5MUMxMi43MzYgMjcuMzkxIDEwLjkyNDUgMjguNzA0MyAxMC40NTY2IDMwLjY2NjdDMTAuMjkwNSAzMC42NTE2IDEwLjE4NDggMzAuNjM2NSAxMC4wMTg4IDMwLjYzNjVDOS42MTEyMiAzMC42NTE2IDkuMjE4NzMgMzAuNzEyIDguODI2MjUgMzAuODE3N1oiIGZpbGw9IiMxM0JFRjkiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC4wMTkxIDE1LjU3MTJIMTAuODE4OFYxOC43ODY1SDE0LjAxOTFWMTUuNTcxMloiIGZpbGw9IiMxM0JFRjkiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC40MTEzIDE1LjU3MTJINy4yMTEwMVYxOC43ODY1SDEwLjQxMTNWMTUuNTcxMloiIGZpbGw9IiMxM0JFRjkiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC40MTEzIDE5LjE0ODlINy4yMTEwMVYyMi4zNjQySDEwLjQxMTNWMTkuMTQ4OVoiIGZpbGw9IiMxM0JFRjkiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC4wMTkxIDE5LjE0ODlIMTAuODE4OFYyMi4zNjQySDE0LjAxOTFWMTkuMTQ4OVoiIGZpbGw9IiMxM0JFRjkiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNy42MTE4IDE5LjE0ODlIMTQuNDExNlYyMi4zNjQySDE3LjYxMThWMTkuMTQ4OVoiIGZpbGw9IiMxM0JFRjkiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNy42MTE4IDEzLjg1MDNIMTQuNDExNlYxNy4wNjU3SDE3LjYxMThWMTMuODUwM1oiIGZpbGw9IiMxM0JFRjkiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC45ODQ5IDMxLjMwMDdDMTEuNDIyNyAyOS40NDQgMTMuMDk4MyAyOC4wNTUyIDE1LjA5MDkgMjguMDU1MkMxNi4zNzQgMjguMDU1MiAxNy41MjEzIDI4LjYyODggMTguMzA2MiAyOS41MzQ1QzE4Ljk4NTUgMjkuMDY2NiAxOS44MDA3IDI4Ljc5NDkgMjAuNjkxMyAyOC43OTQ5QzIzLjAxNiAyOC43OTQ5IDI0LjkwMyAzMC42ODE4IDI0LjkwMyAzMy4wMDY1QzI0LjkwMyAzMy40ODk2IDI0LjgyNzUgMzMuOTQyNCAyNC42NzY2IDM0LjM4MDJDMjUuMTg5OCAzNS4wNzQ2IDI1LjUwNjggMzUuOTUwMSAyNS41MDY4IDM2Ljg4NjFDMjUuNTA2OCAzOS4yMTA4IDIzLjYxOTkgNDEuMDk3NyAyMS4yOTUyIDQxLjA5NzdDMjAuMjY4NyA0MS4wOTc3IDE5LjMzMjcgNDAuNzM1NCAxOC42MDgxIDQwLjEzMTZDMTcuODM4MyA0MS4yMDM0IDE2LjU4NTMgNDEuOTEyOSAxNS4xNjY0IDQxLjkxMjlDMTMuNTM2IDQxLjkxMjkgMTIuMTE3MSA0MC45NzcgMTEuNDA3NiAzOS42MTg0QzExLjEyMDggMzkuNjc4NyAxMC44MzM5IDM5LjcwODkgMTAuNTMyIDM5LjcwODlDOC4yMDczMSAzOS43MDg5IDYuMzA1MjcgMzcuODIyIDYuMzA1MjcgMzUuNDk3M0M2LjMwNTI3IDMzLjE3MjYgOC4xOTIyMiAzMS4yODU2IDEwLjUzMiAzMS4yODU2QzEwLjY4MyAzMS4yNzA1IDEwLjgzMzkgMzEuMjcwNSAxMC45ODQ5IDMxLjMwMDdaIiBmaWxsPSIjMTNCRUY5Ii8+CjwvZz4KPGRlZnM+CjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZGRfMTA4M181MDUwNSIgeD0iMCIgeT0iMCIgd2lkdGg9IjM4IiBoZWlnaHQ9IjQ3IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjEiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMSIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwLjA2Mjc0NTEgMCAwIDAgMCAwLjA5NDExNzYgMCAwIDAgMCAwLjE1Njg2MyAwIDAgMCAwLjA2IDAiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTA4M181MDUwNSIvPgo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4KPGZlT2Zmc2V0IGR5PSIxIi8+CjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEuNSIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwLjA2Mjc0NTEgMCAwIDAgMCAwLjA5NDExNzYgMCAwIDAgMCAwLjE1Njg2MyAwIDAgMCAwLjEgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzEwODNfNTA1MDUiIHJlc3VsdD0iZWZmZWN0Ml9kcm9wU2hhZG93XzEwODNfNTA1MDUiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QyX2Ryb3BTaGFkb3dfMTA4M181MDUwNSIgcmVzdWx0PSJzaGFwZSIvPgo8L2ZpbHRlcj4KPC9kZWZzPgo8L3N2Zz4K"},93261:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCAzNiA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTguMzM5MTEgNy45NTUwMkgxNS43NDEzTDguMDU3NyAzMS4yMjI1QzcuOTc4NyAzMS40NjE5IDcuODI4NDcgMzEuNjY5NSA3LjYyNzQ2IDMxLjgxNjVDNy40MjcxNSAzMS45NjM2IDcuMTg1OTQgMzIuMDQyOCA2LjkzOTA4IDMyLjA0MjhIMS4xNzg4NUMwLjk5MTk0MiAzMi4wNDI4IDAuODA3MTUyIDMxLjk5NzQgMC42NDA2OTkgMzEuOTEwMkMwLjQ3NDI0NyAzMS44MjMgMC4zMzAzNjUgMzEuNjk2MSAwLjIyMTA0MiAzMS41NDExQzAuMTExNzIgMzEuMzg2MiAwLjA0MDQ4NCAzMS4yMDYgMC4wMTI5NzcgMzEuMDE3MUMtMC4wMTQ1Mjk5IDMwLjgyODMgMC4wMDE2OTIzIDMwLjYzNTEgMC4wNjE2NDMzIDMwLjQ1MzRMNy4yMjEyIDguNzc2MDRDNy4zMDAyIDguNTM2NzIgNy40NTA0MyA4LjMyOTEzIDcuNjUxNDQgOC4xODIwOEM3Ljg1MTc1IDguMDM1MDMgOC4wOTI5NiA3Ljk1NTc0IDguMzM5ODIgNy45NTU3NEw4LjMzOTExIDcuOTU1MDJaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfNzk2OV8zOTQyMDEpIi8+CjxwYXRoIGQ9Ik0xOS4wOTU5IDIzLjU2MTZINy4zNTgxN0M3LjI0ODg1IDIzLjU2MTYgNy4xNDIzNSAyMy41OTQ4IDcuMDUyMDcgMjMuNjU3NUM2Ljk2MTc5IDIzLjcyMDIgNi44OTE5NiAyMy44MDk2IDYuODUyNDcgMjMuOTEyN0M2LjgxMjI3IDI0LjAxNjUgNi44MDM4IDI0LjEzMDQgNi44Mjc3OCAyNC4yMzg1QzYuODUxNzYgMjQuMzQ3MyA2LjkwNzQ4IDI0LjQ0NjEgNi45ODcxOCAyNC41MjE4TDE0LjUyOTcgMzEuNzE2M0MxNC43NDkxIDMxLjkyNjEgMTUuMDM4MiAzMi4wNDIxIDE1LjMzODcgMzIuMDQyMUgyMS45ODQ4TDE5LjA5NTkgMjMuNTYwMlYyMy41NjE2WiIgZmlsbD0iIzAwNzhENCIvPgo8cGF0aCBkPSJNOC4zMzk1MyA3Ljk1NTAyQzguMDg5ODUgNy45NTQzIDcuODQ2NTIgOC4wMzUwMyA3LjY0NDggOC4xODQ5N0M3LjQ0MzA4IDguMzM1NjIgNy4yOTM1NiA4LjU0NzU0IDcuMjE4OCA4Ljc5MTE4TDAuMDcxMjIxMiAzMC40MzQ3QzAuMDA3MDM4MzYgMzAuNjE2MyAtMC4wMTI3MTAzIDMwLjgxMTcgMC4wMTI2ODA3IDMxLjAwMjdDMC4wMzgwNzE3IDMxLjE5NDQgMC4xMDg2MDIgMzEuMzc2OCAwLjIxNzIyIDMxLjUzNDdDMC4zMjY1NDIgMzEuNjkyNSAwLjQ3MTEzIDMxLjgyMTYgMC42Mzg5OTMgMzEuOTEwMkMwLjgwNjg1NSAzMS45OTg5IDAuOTkzMDU3IDMyLjA0NSAxLjE4MjA4IDMyLjA0NDNINy4wOTExNEM3LjMxMTE5IDMyLjAwMzkgNy41MTcxNCAzMS45MDUyIDcuNjg3MTIgMzEuNzU2N0M3Ljg1NzggMzEuNjA4OSA3Ljk4NjE3IDMxLjQxNzIgOC4wNjAyMyAzMS4yMDE3TDkuNDg1NjUgMjYuOTA5MUwxNC41NzczIDMxLjc2MjVDMTQuNzkwMyAzMS45NDI3IDE1LjA1ODMgMzIuMDQyOSAxNS4zMzU1IDMyLjA0NUgyMS45NTY5TDE5LjA1MjQgMjMuNTYzMUwxMC41ODY2IDIzLjU2NTJMMTUuNzY4NSA3Ljk1NTAySDguMzM5NTNaIiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfNzk2OV8zOTQyMDEpIi8+CjxwYXRoIGQ9Ik0xNy43OTM1IDguNzc0NkMxNy43MTQ1IDguNTM2IDE3LjU2NDMgOC4zMjg0IDE3LjM2NCA4LjE4MTM2QzE3LjE2MzcgOC4wMzQzMSAxNi45MjMxIDcuOTU1MDIgMTYuNjc3IDcuOTU1MDJIOC40Mjc3M0M4LjY3NDU5IDcuOTU1MDIgOC45MTQzOSA4LjAzNDMxIDkuMTE0NyA4LjE4MTM2QzkuMzE1MDEgOC4zMjg0IDkuNDY1MjQgOC41MzYgOS41NDQyMyA4Ljc3NDZMMTYuNzAzOCAzMC40NTQyQzE2Ljc2MzcgMzAuNjM1MSAxNi43ODA3IDMwLjgyODMgMTYuNzUyNSAzMS4wMTc4QzE2LjcyNSAzMS4yMDY3IDE2LjY1MzcgMzEuMzg2OSAxNi41NDQ0IDMxLjU0MTlDMTYuNDM1MSAzMS42OTY5IDE2LjI5MTkgMzEuODIzNyAxNi4xMjQ3IDMxLjkxMDlDMTUuOTU4MyAzMS45OTgyIDE1Ljc3NDIgMzIuMDQzNiAxNS41ODY2IDMyLjA0MzZIMjMuODM1OEMyNC4wMjI4IDMyLjA0MzYgMjQuMjA3NSAzMS45OTgyIDI0LjM3NCAzMS45MTA5QzI0LjU0MDQgMzEuODIzNyAyNC42ODQzIDMxLjY5NjkgMjQuNzkyOSAzMS41NDE5QzI0LjkwMjMgMzEuMzg2OSAyNC45NzM1IDMxLjIwNjcgMjUuMDAxIDMxLjAxNzhDMjUuMDI4NSAzMC44MjkgMjUuMDEyMyAzMC42MzU4IDI0Ljk1MjMgMzAuNDU0MkwxNy43OTM1IDguNzc0NloiIGZpbGw9InVybCgjcGFpbnQyX2xpbmVhcl83OTY5XzM5NDIwMSkiLz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl83OTY5XzM5NDIwMSIgeDE9IjExLjAzNzYiIHkxPSI5Ljc0MDUiIHgyPSIzLjA0NDMiIHkyPSIzMi44NDQiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzExNEE4QiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwNjY5QkMiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzc5NjlfMzk0MjAxIiB4MT0iMTMuNDM4MiIgeTE9IjIwLjU1NjUiIHgyPSIxMS42NTIzIiB5Mj0iMjEuMTQ3MSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLW9wYWNpdHk9IjAuMyIvPgo8c3RvcCBvZmZzZXQ9IjAuMDciIHN0b3Atb3BhY2l0eT0iMC4yIi8+CjxzdG9wIG9mZnNldD0iMC4zMiIgc3RvcC1vcGFjaXR5PSIwLjEiLz4KPHN0b3Agb2Zmc2V0PSIwLjYyIiBzdG9wLW9wYWNpdHk9IjAuMDUiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLW9wYWNpdHk9IjAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDJfbGluZWFyXzc5NjlfMzk0MjAxIiB4MT0iMTIuNTE1NyIgeTE9IjkuMDQyMDIiIHgyPSIyMS4yODEyIiB5Mj0iMzEuODkyMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjM0NDQkY0Ii8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzI4OTJERiIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo="},84670:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCAzNiA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM1LjQ5MjIgMTUuOTI0NkMzNS4zOTIyIDE1LjgzOTggMzQuNDk0NSAxNS4xNDM1IDMyLjU2NjYgMTUuMTQzNUMzMi4wNjgxIDE1LjE0MzUgMzEuNTUyNiAxNS4xOTQyIDMxLjA1NDIgMTUuMjc5OEMzMC42ODgzIDEyLjY4MDggMjguNTc3NCAxMS40MjM2IDI4LjQ5NDUgMTEuMzU2M0wyNy45NzkgMTEuMDUwNUwyNy42NDY0IDExLjU0MzJDMjcuMjMwOSAxMi4yMDU1IDI2LjkxNTQgMTIuOTUzMyAyNi43MzI1IDEzLjcxNzdDMjYuMzgzNiAxNS4xOTU4IDI2LjU5OTEgMTYuNTg4NCAyNy4zMzA5IDE3Ljc3NzRDMjYuNDQ5NSAxOC4yODY3IDI1LjAyMDEgMTguNDA1NSAyNC43MjA4IDE4LjQyM0gxLjExNjE0QzAuNTAxNDA4IDE4LjQyMyAwLjAwMjE4MTg4IDE4LjkzMjMgMC4wMDIxODE4OCAxOS41NjEzQy0wLjAzMTE1MTUgMjEuNjY3NiAwLjMxNzY4NiAyMy43NzM5IDEuMDMyNDIgMjUuNzYxM0MxLjg0NzE1IDI3LjkzNTggMy4wNjAzMyAyOS41NDk0IDQuNjIzMTIgMzAuNTM0OEM2LjM4NTE0IDMxLjYzOSA5LjI2MTEyIDMyLjI2NzIgMTIuNTAyMiAzMi4yNjcyQzEzLjk2NSAzMi4yNjcyIDE1LjQyNzggMzIuMTMwOSAxNi44NzQzIDMxLjg1OTJDMTguODg1OSAzMS40ODUzIDIwLjgxMzkgMzAuNzcyNCAyMi41OTI5IDI5LjczNjNDMjQuMDU1NyAyOC44Njk3IDI1LjM2ODkgMjcuNzY2MyAyNi40ODI5IDI2LjQ3NTFDMjguMzYxMiAyNC4zMTgxIDI5LjQ3NTEgMjEuOTA2IDMwLjI4OTggMTkuNzY1NkgzMC42MjI0QzMyLjY2NzQgMTkuNzY1NiAzMy45MzAyIDE4LjkzMzEgMzQuNjI4NiAxOC4yMjAyQzM1LjA5MzcgMTcuNzc4MiAzNS40NDMzIDE3LjIzNDggMzUuNjkyMiAxNi42MjMyTDM1Ljg0MTggMTYuMTgxMkwzNS40OTMgMTUuOTI2MkwzNS40OTIyIDE1LjkyNDZaIiBmaWxsPSIjMDA5MUUyIi8+CjxwYXRoIGQ9Ik0zLjMwOTMxIDE3LjcyNTFINi40Njc0NkM2LjYxNzA3IDE3LjcyNTEgNi43NTA0MSAxNy42MDYyIDYuNzUwNDEgMTcuNDM1OVYxNC41NDg2QzYuNzUwNDEgMTQuMzk1NyA2LjYzNDEzIDE0LjI2MDMgNi40Njc0NiAxNC4yNjAzSDMuMzA5MzFDMy4xNTk3IDE0LjI2MDMgMy4wMjYzNyAxNC4zNzkxIDMuMDI2MzcgMTQuNTQ4NlYxNy40MzU5QzMuMDQyNjUgMTcuNjA1NSAzLjE1OTcgMTcuNzI1MSAzLjMwOTMxIDE3LjcyNTFaIiBmaWxsPSIjMDA5MUUyIi8+CjxwYXRoIGQ9Ik03LjY2NTc2IDE3LjcyNTFIMTAuODIzOUMxMC45NzM1IDE3LjcyNTEgMTEuMTA2MSAxNy42MDYyIDExLjEwNjEgMTcuNDM1OVYxNC41NDg2QzExLjEwNjEgMTQuMzk1NyAxMC45ODk4IDE0LjI2MDMgMTAuODIzOSAxNC4yNjAzSDcuNjY1NzZDNy41MTYxNSAxNC4yNjAzIDcuMzgyODEgMTQuMzc5MSA3LjM4MjgxIDE0LjU0ODZWMTcuNDM1OUM3LjM5OTA5IDE3LjYwNTUgNy41MTYxNSAxNy43MjUxIDcuNjY1NzYgMTcuNzI1MVoiIGZpbGw9IiMwMDkxRTIiLz4KPHBhdGggZD0iTTEyLjEwNDIgMTcuNzI1MUgxNS4yNjI0QzE1LjQxMiAxNy43MjUxIDE1LjU0NTMgMTcuNjA2MiAxNS41NDUzIDE3LjQzNTlWMTQuNTQ4NkMxNS41NDUzIDE0LjM5NTcgMTUuNDI5IDE0LjI2MDMgMTUuMjYyNCAxNC4yNjAzSDEyLjEwNDJDMTEuOTU0NiAxNC4yNjAzIDExLjgyMTMgMTQuMzc5MSAxMS44MjEzIDE0LjU0ODZWMTcuNDM1OUMxMS44MjEzIDE3LjYwNTUgMTEuOTM3NiAxNy43MjUxIDEyLjEwNDIgMTcuNzI1MVoiIGZpbGw9IiMwMDkxRTIiLz4KPHBhdGggZD0iTTE2LjQ3NTMgMTcuNzI1MUgxOS42MzM1QzE5Ljc4MzEgMTcuNzI1MSAxOS45MTY0IDE3LjYwNjIgMTkuOTE2NCAxNy40MzU5VjE0LjU0ODZDMTkuOTE2NCAxNC4zOTU3IDE5LjgwMDEgMTQuMjYwMyAxOS42MzM1IDE0LjI2MDNIMTYuNDc1M0MxNi4zMjU3IDE0LjI2MDMgMTYuMTkyNCAxNC4zNzkxIDE2LjE5MjQgMTQuNTQ4NlYxNy40MzU5QzE2LjE5MjQgMTcuNjA1NSAxNi4zMjU3IDE3LjcyNTEgMTYuNDc1MyAxNy43MjUxVjE3LjcyNTFaIiBmaWxsPSIjMDA5MUUyIi8+CjxwYXRoIGQ9Ik03LjY2NTc2IDEzLjU5NzJIMTAuODIzOUMxMC45NzM1IDEzLjU5NzIgMTEuMTA2MSAxMy40NjA5IDExLjEwNjEgMTMuMzA4MVYxMC40MjA3QzExLjEwNjEgMTAuMjY3OCAxMC45ODk4IDEwLjEzMTYgMTAuODIzOSAxMC4xMzE2SDcuNjY1NzZDNy41MTYxNSAxMC4xMzE2IDcuMzgyODEgMTAuMjUwNCA3LjM4MjgxIDEwLjQyMDdWMTMuMzA4MUM3LjM5OTA5IDEzLjQ2MDkgNy41MTYxNSAxMy41OTcyIDcuNjY1NzYgMTMuNTk3MloiIGZpbGw9IiMwMDkxRTIiLz4KPHBhdGggZD0iTTEyLjEwNDIgMTMuNTk3MkgxNS4yNjI0QzE1LjQxMiAxMy41OTcyIDE1LjU0NTMgMTMuNDYwOSAxNS41NDUzIDEzLjMwODFWMTAuNDIwN0MxNS41NDUzIDEwLjI2NzggMTUuNDI5IDEwLjEzMTYgMTUuMjYyNCAxMC4xMzE2SDEyLjEwNDJDMTEuOTU0NiAxMC4xMzE2IDExLjgyMTMgMTAuMjUwNCAxMS44MjEzIDEwLjQyMDdWMTMuMzA4MUMxMS44MjEzIDEzLjQ2MDkgMTEuOTM3NiAxMy41OTcyIDEyLjEwNDIgMTMuNTk3MloiIGZpbGw9IiMwMDkxRTIiLz4KPHBhdGggZD0iTTE2LjQ3NTMgMTMuNTk3MkgxOS42MzM1QzE5Ljc4MzEgMTMuNTk3MiAxOS45MTY0IDEzLjQ2MDkgMTkuOTE2NCAxMy4zMDgxVjEwLjQyMDdDMTkuOTE2NCAxMC4yNjc4IDE5Ljc4MzEgMTAuMTMxNiAxOS42MzM1IDEwLjEzMTZIMTYuNDc1M0MxNi4zMjU3IDEwLjEzMTYgMTYuMTkyNCAxMC4yNTA0IDE2LjE5MjQgMTAuNDIwN1YxMy4zMDgxQzE2LjE5MjQgMTMuNDYwOSAxNi4zMjU3IDEzLjU5NzIgMTYuNDc1MyAxMy41OTcyVjEzLjU5NzJaIiBmaWxsPSIjMDA5MUUyIi8+CjxwYXRoIGQ9Ik0xNi40NzUzIDkuNDUyNzlIMTkuNjMzNUMxOS43ODMxIDkuNDUyNzkgMTkuOTE2NCA5LjMzMzk3IDE5LjkxNjQgOS4xNjM2NlY2LjI3NjMxQzE5LjkxNjQgNi4xMjM0MyAxOS43ODMxIDUuOTg3MTggMTkuNjMzNSA1Ljk4NzE4SDE2LjQ3NTNDMTYuMzI1NyA1Ljk4NzE4IDE2LjE5MjQgNi4xMDYgMTYuMTkyNCA2LjI3NjMxVjkuMTYzNjZDMTYuMTkyNCA5LjMxNjU0IDE2LjMyNTcgOS40NTI3OSAxNi40NzUzIDkuNDUyNzlWOS40NTI3OVoiIGZpbGw9IiMwMDkxRTIiLz4KPHBhdGggZD0iTTIwLjg4MjYgMTcuNzI1MUgyNC4wNDA3QzI0LjE5MDMgMTcuNzI1MSAyNC4zMjM3IDE3LjYwNjIgMjQuMzIzNyAxNy40MzU5VjE0LjU0ODZDMjQuMzIzNyAxNC4zOTU3IDI0LjIwNzQgMTQuMjYwMyAyNC4wNDA3IDE0LjI2MDNIMjAuODgyNkMyMC43MzI5IDE0LjI2MDMgMjAuNTk5NiAxNC4zNzkxIDIwLjU5OTYgMTQuNTQ4NlYxNy40MzU5QzIwLjYxNTkgMTcuNjA1NSAyMC43MzI5IDE3LjcyNTEgMjAuODgyNiAxNy43MjUxWiIgZmlsbD0iIzAwOTFFMiIvPgo8L3N2Zz4K"},325:function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyNS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCA5NDAgMzAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA5NDAgMzAwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojMTNCRUY5O30NCgkuc3Qxe2ZpbGw6IzEzQkVGOTt9DQo8L3N0eWxlPg0KPGc+DQoJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSI4NC4zLDc2LjYgODAuMyw3Ni42IDgwLjMsOTcuMyA4NC4zLDk3LjMgODQuMyw3Ni42IAkiLz4NCgk8cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEwMS41LDc2LjYgOTcuNSw3Ni42IDk3LjUsOTcuMyAxMDEuNSw5Ny4zIDEwMS41LDc2LjYgCSIvPg0KCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMTI1LDM3LjEgMTIwLjksMzAgNTIuNSw2OS41IDU2LjYsNzYuNiAxMjUsMzcuMSAJIi8+DQoJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIxMjQuNiwzNy4xIDEyOC43LDMwIDE5Ny4xLDY5LjUgMTkzLDc2LjYgMTI0LjYsMzcuMSAJIi8+DQoJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIyMDkuMiw3Ni43IDIwOS4yLDY4LjUgMjEuOCw2OC41IDIxLjgsNzYuNyAyMDkuMiw3Ni43IAkiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTM1LDE5Mi41VjcxaDguMnYxMjcuNEMxNDEsMTk1LjksMTM4LjIsMTk0LjEsMTM1LDE5Mi41TDEzNSwxOTIuNXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTIxLDE5MC40VjE5aDguMnYxNzIuNEMxMjYuOSwxOTAuMywxMjEuMywxOTAuNCwxMjEsMTkwLjRMMTIxLDE5MC40eiIvPg0KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00My4zLDIwNy41Yy0xMC03LjQtMTYuNi0xOS4yLTE2LjYtMzIuNmMwLTcuMSwxLjktMTQuMSw1LjQtMjAuMmg3MGMzLjYsNi4xLDUuNCwxMy4xLDUuNCwyMC4yDQoJCWMwLDYuMi0wLjgsMTItMy4zLDE3LjJjLTUuMy01LjEtMTMuMS03LjMtMjEtNy4zYy0xNCwwLTI2LDguNy0yOS4xLDIxLjdjLTEuMS0wLjEtMS44LTAuMi0yLjktMC4yDQoJCUM0OC41LDIwNi40LDQ1LjksMjA2LjgsNDMuMywyMDcuNUw0My4zLDIwNy41eiIvPg0KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMTkuOCwxMTUuNWMtMTAuNiwwLTE5LjksNC45LTI2LjMsMTIuNXYtMTEuNGgtMTAuNnYxMDEuM2gxMC42di00Mi43YzYuMyw3LjgsMTUuNywxMi44LDI2LjMsMTIuOA0KCQljMTkuOCwwLDM2LjEtMTYuOSwzNi4xLTM2LjRDMjU1LjksMTMxLjgsMjM5LjYsMTE1LjUsMjE5LjgsMTE1LjVMMjE5LjgsMTE1LjV6IE0yMjAuMSwxNzcuNWMtMTMuOCwwLTI2LTEyLjItMjYtMjYNCgkJYzAtMTQuMSwxMi4yLTI1LjYsMjYtMjUuNmMxNC4xLDAsMjQuNywxMS41LDI0LjcsMjUuNkMyNDQuOCwxNjUuMywyMzQuMiwxNzcuNSwyMjAuMSwxNzcuNUwyMjAuMSwxNzcuNXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzAyLjMsMTg3LjljMTkuOCwwLDM2LjEtMTYuOSwzNi4xLTM2LjRjMC0xOS44LTE2LjMtMzYuMS0zNi4xLTM2LjFjLTE5LjgsMC0zNi4xLDE2LjMtMzYuMSwzNi4xDQoJCUMyNjYuMiwxNzEsMjgyLjUsMTg3LjksMzAyLjMsMTg3LjlMMzAyLjMsMTg3Ljl6IE0zMDIuMywxMjUuOWMxNC4xLDAsMjUsMTEuNSwyNSwyNS42YzAsMTMuOC0xMC45LDI2LTI1LDI2Yy0xNC4xLDAtMjUtMTIuMi0yNS0yNg0KCQlDMjc3LjMsMTM3LjUsMjg4LjIsMTI1LjksMzAyLjMsMTI1LjlMMzAyLjMsMTI1Ljl6Ii8+DQoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTM2NS42LDExNi42SDM1NXY2OS42aDEwLjZ2LTM4LjVjMC0xNC4yLDExLjItMjEuOCwyMy42LTIxLjh2LTEwLjRjLTkuNiwwLTE3LjksNC4xLTIzLjYsMTAuNlYxMTYuNg0KCQlMMzY1LjYsMTE2LjZ6Ii8+DQoJPHBvbHlnb24gY2xhc3M9InN0MSIgcG9pbnRzPSI0MzMuOCwxMjYuMiA0MzMuOCwxMTYuNiA0MTguMSwxMTYuNiA0MTguMSw4OS4yIDQwNy41LDg5LjIgNDA3LjUsMTE2LjYgMzk3LjEsMTE2LjYgMzk3LjEsMTI2LjIgDQoJCTQwNy41LDEyNi4yIDQwNy41LDE4Ni4yIDQxOC4xLDE4Ni4yIDQxOC4xLDEyNi4yIDQzMy44LDEyNi4yIAkiLz4NCgk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNDc4LjYsMTg3LjljMTAuNiwwLDE5LjktNS4xLDI2LjMtMTIuOHYxMS40aDEwLjZ2LTY5LjloLTEwLjZWMTI4Yy02LjMtNy42LTE1LjctMTIuNS0yNi4zLTEyLjUNCgkJYy0xOS44LDAtMzYuMSwxNi4zLTM2LjEsMzYuMUM0NDIuNSwxNzEsNDU4LjgsMTg3LjksNDc4LjYsMTg3LjlMNDc4LjYsMTg3Ljl6IE00NzguMiwxNzcuNWMtMTQuMSwwLTI0LjctMTIuMi0yNC43LTI2DQoJCWMwLTE0LjEsMTAuNi0yNS42LDI0LjctMjUuNmMxMy44LDAsMjYsMTEuNSwyNiwyNS42QzUwNC4yLDE2NS4zLDQ5MiwxNzcuNSw0NzguMiwxNzcuNUw0NzguMiwxNzcuNXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNTQzLjYsMTAyLjVjNCwwLDcuNC0zLjMsNy40LTcuNmMwLTMuOC0zLjUtNy4zLTcuNC03LjNjLTQuMywwLTcuNiwzLjUtNy42LDcuMw0KCQlDNTM2LDk5LjIsNTM5LjMsMTAyLjUsNTQzLjYsMTAyLjVMNTQzLjYsMTAyLjV6IE01MzguMiwxODYuMmgxMS4xdi02OS42aC0xMS4xVjE4Ni4yTDUzOC4yLDE4Ni4yeiIvPg0KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik01NzEuNiwxODYuMmgxMC42di0zN2MwLTE1LjcsOC43LTIzLjYsMjIuOC0yMy4zYzExLjYsMCwxNy45LDYuOCwxNy45LDIwLjZ2MzkuN2gxMC42di0zOS43DQoJCWMwLTIyLjItOC41LTMxLTI4LjUtMzFjLTkuNSwwLTE3LjIsMy41LTIyLjgsOS41di04LjRoLTEwLjZWMTg2LjJMNTcxLjYsMTg2LjJ6Ii8+DQoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTcyMC43LDE1MS41YzAtMTkuOC0xNi4zLTM2LjEtMzYuMS0zNi4xYy0xOS44LDAtMzYuMSwxNi4zLTM2LjEsMzYuMWMwLDE5LjUsMTYuMywzNi40LDM2LjEsMzYuNA0KCQljMTQuMSwwLDI2LjYtOC4xLDMyLjQtMjAuMWgtMTMuMWMtNC40LDUuNy0xMS4yLDkuNy0xOS4zLDkuN2MtMTIuMywwLTIyLjMtOS41LTI0LjUtMjFoNjAuNkw3MjAuNywxNTEuNUw3MjAuNywxNTEuNXoNCgkJIE02ODQuNiwxMjUuOWMxMi4yLDAsMjIuMiw4LjksMjQuNSwyMC40aC00OS4xQzY2Mi40LDEzNC44LDY3Mi4zLDEyNS45LDY4NC42LDEyNS45TDY4NC42LDEyNS45eiIvPg0KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03NDcuOSwxMTYuNmgtMTAuNnY2OS42aDEwLjZ2LTM4LjVjMC0xNC4yLDExLjItMjEuOCwyMy42LTIxLjh2LTEwLjRjLTkuNywwLTE3LjksNC4xLTIzLjYsMTAuNlYxMTYuNg0KCQlMNzQ3LjksMTE2LjZ6Ii8+DQoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTc4Ny41LDE4N2M0LjcsMCw4LjctNCw4LjctOC45YzAtNC43LTQtOC43LTguNy04LjdjLTQuOSwwLTguOSw0LTguOSw4LjdDNzc4LjYsMTgzLDc4Mi42LDE4Nyw3ODcuNSwxODcNCgkJTDc4Ny41LDE4N3oiLz4NCgk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNODIzLjUsMTAyLjVjNCwwLDcuNC0zLjMsNy40LTcuNmMwLTMuOC0zLjUtNy4zLTcuNC03LjNjLTQuMywwLTcuNiwzLjUtNy42LDcuMw0KCQlDODE2LDk5LjIsODE5LjMsMTAyLjUsODIzLjUsMTAyLjVMODIzLjUsMTAyLjV6IE04MTguMiwxODYuMmgxMS4xdi02OS42aC0xMS4xVjE4Ni4yTDgxOC4yLDE4Ni4yeiIvPg0KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04ODIuMSwxODcuOWMxOS44LDAsMzYuMS0xNi45LDM2LjEtMzYuNGMwLTE5LjgtMTYuMy0zNi4xLTM2LjEtMzYuMWMtMTkuOCwwLTM2LjEsMTYuMy0zNi4xLDM2LjENCgkJQzg0NiwxNzEsODYyLjMsMTg3LjksODgyLjEsMTg3LjlMODgyLjEsMTg3Ljl6IE04ODIuMSwxMjUuOWMxNC4xLDAsMjUsMTEuNSwyNSwyNS42YzAsMTMuOC0xMC45LDI2LTI1LDI2Yy0xNC4xLDAtMjUtMTIuMi0yNS0yNg0KCQlDODU3LjEsMTM3LjUsODY4LDEyNS45LDg4Mi4xLDEyNS45TDg4Mi4xLDEyNS45eiIvPg0KCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iNzcuNywxMDYuNSA1Ni41LDEwNi41IDU2LjUsMTI3LjggNzcuNywxMjcuOCA3Ny43LDEwNi41IAkiLz4NCgk8cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjUzLjgsMTA2LjUgMzIuNiwxMDYuNSAzMi42LDEyNy44IDUzLjgsMTI3LjggNTMuOCwxMDYuNSAJIi8+DQoJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSI1My44LDEzMC4yIDMyLjYsMTMwLjIgMzIuNiwxNTEuNSA1My44LDE1MS41IDUzLjgsMTMwLjIgCSIvPg0KCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iNzcuNywxMzAuMiA1Ni41LDEzMC4yIDU2LjUsMTUxLjUgNzcuNywxNTEuNSA3Ny43LDEzMC4yIAkiLz4NCgk8cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEwMS41LDEzMC4yIDgwLjMsMTMwLjIgODAuMywxNTEuNSAxMDEuNSwxNTEuNSAxMDEuNSwxMzAuMiAJIi8+DQoJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIxMDEuNSw5NS4xIDgwLjMsOTUuMSA4MC4zLDExNi40IDEwMS41LDExNi40IDEwMS41LDk1LjEgCSIvPg0KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01Ny42LDIxMC43YzIuOS0xMi4zLDE0LTIxLjUsMjcuMi0yMS41YzguNSwwLDE2LjEsMy44LDIxLjMsOS44YzQuNS0zLjEsOS45LTQuOSwxNS44LTQuOQ0KCQljMTUuNCwwLDI3LjksMTIuNSwyNy45LDI3LjljMCwzLjItMC41LDYuMi0xLjUsOS4xYzMuNCw0LjYsNS41LDEwLjQsNS41LDE2LjZjMCwxNS40LTEyLjUsMjcuOS0yNy45LDI3LjljLTYuOCwwLTEzLTIuNC0xNy44LTYuNA0KCQljLTUuMSw3LjEtMTMuNCwxMS44LTIyLjgsMTEuOGMtMTAuOCwwLTIwLjItNi4yLTI0LjktMTUuMmMtMS45LDAuNC0zLjgsMC42LTUuOCwwLjZjLTE1LjQsMC0yOC0xMi41LTI4LTI3LjlzMTIuNS0yNy45LDI4LTI3LjkNCgkJQzU1LjYsMjEwLjUsNTYuNiwyMTAuNSw1Ny42LDIxMC43TDU3LjYsMjEwLjd6Ii8+DQo8L2c+DQo8L3N2Zz4NCg=="},20739:function(e,t,n){"use strict";e.exports=n.p+"63c1259abd88a9d2cebc.svg"},66606:function(e,t,n){"use strict";e.exports=n.p+"7e697c5bab4f819328df.svg"},75347:function(){},31777:function(){},34017:function(){},59905:function(){},64604:function(){}},function(e){e.O(0,[736],(function(){return 76553,e(e.s=76553)})),e.O()}]);
//# sourceMappingURL=main.97d24d6983b2e95fd02b.js.map